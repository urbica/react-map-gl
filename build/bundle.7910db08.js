/*! For license information please see bundle.7910db08.js.LICENSE.txt */
(function(){var __webpack_modules__={63803:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return debug},z:function(){return register}});var Pe=Te(80744);let pt={};function register(_e){pt=_e}function debug(_e,be,Te,vt){Pe.Z.level>0&&pt[_e]&&pt[_e].call(null,be,Te,vt)}},24088:function(_e,be,Te){"use strict";Te.d(be,{Df:function(){return pt},FP:function(){return Tt},iI:function(){return xt},k8:function(){return It},zG:function(){return vt}});var Pe=Te(80744);const pt={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(pt,"IDENTITY",{get:()=>(Pe.Z.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const vt={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},xt={common:0,meters:1,pixels:2},Tt={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},It={DRAW:"draw",MASK:"mask"}},85409:function(_e,be,Te){"use strict";Te.d(be,{bN:function(){return Tt},dt:function(){return Pe},fO:function(){return xt},fm:function(){return pt},lY:function(){return vt}});const Pe={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},pt=Symbol.for("component"),vt=Symbol.for("asyncPropDefaults"),xt=Symbol.for("asyncPropOriginal"),Tt=Symbol.for("asyncPropResolved")},86084:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Vt}});const Pe={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},pt="#define SMOOTH_EDGE_RADIUS 0.5";var vt={name:"geometry",vs:"\n".concat(pt,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(pt,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")},xt=Te(24088);const Tt=Object.keys(xt.Df).map((_e=>"const int COORDINATE_SYSTEM_".concat(_e," = ").concat(xt.Df[_e],";"))).join(""),It=Object.keys(xt.zG).map((_e=>"const int PROJECTION_MODE_".concat(_e," = ").concat(xt.zG[_e],";"))).join(""),Mt=Object.keys(xt.iI).map((_e=>"const int UNIT_".concat(_e.toUpperCase()," = ").concat(xt.iI[_e],";"))).join("");var Lt="".concat(Tt,"\n").concat(It,"\n").concat(Mt,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      float y = clamp(geometry.worldPosition.y, -89.9, 89.9);\n      return 1.0 / cos(radians(y));\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size(position_world.z),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n'),Ft=Te(8771);const Ot={};var Vt={name:"project",dependencies:[Pe,vt],vs:Lt,getUniforms:function getUniforms(_e=Ot){return"viewport"in _e?(0,Ft.C)(_e):{}}}},8771:function(_e,be,Te){"use strict";Te.d(be,{C:function(){return getUniformsFromViewport},v:function(){return getOffsetOrigin}});var Pe=Te(85975),pt=Te(98333),vt=Te(24088),xt=Te(88177);const Tt=[0,0,0,0],It=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Mt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Lt=[0,0,0],Ft=[0,0,0],Ot=(0,xt.Z)((function calculateViewportUniforms({viewport:_e,devicePixelRatio:be,coordinateSystem:Te,coordinateOrigin:Pe}){const{projectionCenter:xt,viewProjectionMatrix:Tt,originCommon:It,cameraPosCommon:Ft,shaderCoordinateOrigin:Ot,geospatialOrigin:Vt}=calculateMatrixAndOffset(_e,Te,Pe),qt=_e.getDistanceScales(),Wt=[_e.width*be,_e.height*be],$t=pt.fF([],[0,0,-_e.focalDistance,1],_e.projectionMatrix)[3]||1,Kt={project_uCoordinateSystem:Te,project_uProjectionMode:_e.projectionMode,project_uCoordinateOrigin:Ot,project_uCommonOrigin:It.slice(0,3),project_uCenter:xt,project_uPseudoMeters:Boolean(_e._pseudoMeters),project_uViewportSize:Wt,project_uDevicePixelRatio:be,project_uFocalDistance:$t,project_uCommonUnitsPerMeter:qt.unitsPerMeter,project_uCommonUnitsPerWorldUnit:qt.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:Lt,project_uScale:_e.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:Tt,project_uModelMatrix:Mt,project_uCameraPosition:Ft};if(Vt){const be=_e.getDistanceScales(Vt);switch(Te){case vt.Df.METER_OFFSETS:Kt.project_uCommonUnitsPerWorldUnit=be.unitsPerMeter,Kt.project_uCommonUnitsPerWorldUnit2=be.unitsPerMeter2;break;case vt.Df.LNGLAT:case vt.Df.LNGLAT_OFFSETS:_e._pseudoMeters||(Kt.project_uCommonUnitsPerMeter=be.unitsPerMeter),Kt.project_uCommonUnitsPerWorldUnit=be.unitsPerDegree,Kt.project_uCommonUnitsPerWorldUnit2=be.unitsPerDegree2;break;case vt.Df.CARTESIAN:Kt.project_uCommonUnitsPerWorldUnit=[1,1,be.unitsPerMeter[2]],Kt.project_uCommonUnitsPerWorldUnit2=[0,0,be.unitsPerMeter2[2]]}}return Kt}));function getOffsetOrigin(_e,be,Te=Ft){Te.length<3&&(Te=[Te[0],Te[1],0]);let Pe,pt=Te,xt=!0;switch(Pe=be===vt.Df.LNGLAT_OFFSETS||be===vt.Df.METER_OFFSETS?Te:_e.isGeospatial?[Math.fround(_e.longitude),Math.fround(_e.latitude),0]:null,_e.projectionMode){case vt.zG.WEB_MERCATOR:be!==vt.Df.LNGLAT&&be!==vt.Df.CARTESIAN||(Pe=[0,0,0],xt=!1);break;case vt.zG.WEB_MERCATOR_AUTO_OFFSET:be===vt.Df.LNGLAT?pt=Pe:be===vt.Df.CARTESIAN&&(pt=[Math.fround(_e.center[0]),Math.fround(_e.center[1]),0],Pe=_e.unprojectPosition(pt),pt[0]-=Te[0],pt[1]-=Te[1],pt[2]-=Te[2]);break;case vt.zG.IDENTITY:pt=_e.position.map(Math.fround),pt[2]=pt[2]||0;break;case vt.zG.GLOBE:xt=!1,Pe=null;break;default:xt=!1}return{geospatialOrigin:Pe,shaderCoordinateOrigin:pt,offsetMode:xt}}function calculateMatrixAndOffset(_e,be,Te){const{viewMatrixUncentered:vt,projectionMatrix:xt}=_e;let{viewMatrix:Mt,viewProjectionMatrix:Lt}=_e,Ft=Tt,Ot=Tt,Vt=_e.cameraPosition;const{geospatialOrigin:qt,shaderCoordinateOrigin:Wt,offsetMode:$t}=getOffsetOrigin(_e,be,Te);return $t&&(Ot=_e.projectPosition(qt||Wt),Vt=[Vt[0]-Ot[0],Vt[1]-Ot[1],Vt[2]-Ot[2]],Ot[3]=1,Ft=pt.fF([],Ot,Lt),Mt=vt||Mt,Lt=Pe.Jp([],xt,Mt),Lt=Pe.Jp([],Lt,It)),{viewMatrix:Mt,viewProjectionMatrix:Lt,projectionCenter:Ft,originCommon:Ot,cameraPosCommon:Vt,shaderCoordinateOrigin:Wt,geospatialOrigin:qt}}function getUniformsFromViewport({viewport:_e,devicePixelRatio:be=1,modelMatrix:Te=null,coordinateSystem:Pe=vt.Df.DEFAULT,coordinateOrigin:pt=Ft,autoWrapLongitude:xt=!1}){Pe===vt.Df.DEFAULT&&(Pe=_e.isGeospatial?vt.Df.LNGLAT:vt.Df.CARTESIAN);const Tt=Ot({viewport:_e,devicePixelRatio:be,coordinateSystem:Pe,coordinateOrigin:pt});return Tt.project_uWrapLongitude=xt,Tt.project_uModelMatrix=Te||Mt,Tt}},53630:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return pt}});var Pe=Te(4942);class pt{constructor(_e){(0,Pe.Z)(this,"_inProgress",void 0),(0,Pe.Z)(this,"_handle",void 0),(0,Pe.Z)(this,"_timeline",void 0),(0,Pe.Z)(this,"time",void 0),(0,Pe.Z)(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=_e,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(_e){var be,Te;this.cancel(),this.settings=_e,this._inProgress=!0,null===(be=(Te=this.settings).onStart)||void 0===be||be.call(Te,this)}end(){var _e,be;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(_e=(be=this.settings).onEnd)||void 0===_e||_e.call(be,this))}cancel(){var _e,be;this._inProgress&&(null===(_e=(be=this.settings).onInterrupt)||void 0===_e||_e.call(be,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var _e,be;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:_e,settings:be}=this;this._handle=_e.addChannel({delay:_e.getTime(),duration:be.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(_e=(be=this.settings).onUpdate)||void 0===_e||_e.call(be,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}},75304:function(_e,be,Te){"use strict";function assert(_e,be){if(!_e)throw new Error(be||"deck.gl: assertion failed.")}Te.d(be,{Z:function(){return assert}})},46871:function(_e,be,Te){"use strict";function deepEqual(_e,be){if(_e===be)return!0;if(!_e||!be)return!1;for(const Te in _e){const Pe=_e[Te],pt=be[Te];if(!(Pe===pt||Array.isArray(Pe)&&Array.isArray(pt)&&deepEqual(Pe,pt)))return!1}return!0}Te.d(be,{v:function(){return deepEqual}})},61855:function(_e,be,Te){"use strict";function flatten(_e,be=(()=>!0)){return Array.isArray(_e)?flattenArray(_e,be,[]):be(_e)?[_e]:[]}function flattenArray(_e,be,Te){let Pe=-1;for(;++Pe<_e.length;){const pt=_e[Pe];Array.isArray(pt)?flattenArray(pt,be,Te):be(pt)&&Te.push(pt)}return Te}function fillArray({target:_e,source:be,start:Te=0,count:Pe=1}){const pt=be.length,vt=Pe*pt;let xt=0;for(let Pe=Te;xt<pt;xt++)_e[Pe++]=be[xt];for(;xt<vt;)xt<vt-xt?(_e.copyWithin(Te+xt,Te,Te+xt),xt*=2):(_e.copyWithin(Te+xt,Te,Te+vt-xt),xt=vt);return _e}Te.d(be,{k:function(){return fillArray},x:function(){return flatten}})},80744:function(_e,be,Te){"use strict";var Pe=Te(59109);be.Z=new Pe.Z({id:"deck"})},75126:function(_e,be,Te){"use strict";Te.d(be,{Du:function(){return getFrustumPlanes},TK:function(){return toDoublePrecisionArray},Xt:function(){return getCameraPosition},bS:function(){return createMat4},wQ:function(){return mod}});var Pe=Te(36610),pt=Te(36280);function createMat4(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function mod(_e,be){const Te=_e%be;return Te<0?be+Te:Te}function getCameraPosition(_e){return[_e[12],_e[13],_e[14]]}function getFrustumPlanes(_e){return{left:getFrustumPlane(_e[3]+_e[0],_e[7]+_e[4],_e[11]+_e[8],_e[15]+_e[12]),right:getFrustumPlane(_e[3]-_e[0],_e[7]-_e[4],_e[11]-_e[8],_e[15]-_e[12]),bottom:getFrustumPlane(_e[3]+_e[1],_e[7]+_e[5],_e[11]+_e[9],_e[15]+_e[13]),top:getFrustumPlane(_e[3]-_e[1],_e[7]-_e[5],_e[11]-_e[9],_e[15]-_e[13]),near:getFrustumPlane(_e[3]+_e[2],_e[7]+_e[6],_e[11]+_e[10],_e[15]+_e[14]),far:getFrustumPlane(_e[3]-_e[2],_e[7]-_e[6],_e[11]-_e[10],_e[15]-_e[14])}}const vt=new pt.Z;function getFrustumPlane(_e,be,Te,Pe){vt.set(_e,be,Te);const xt=vt.len();return{distance:Pe/xt,normal:new pt.Z(-_e/xt,-be/xt,-Te/xt)}}let xt;function toDoublePrecisionArray(_e,be){const{size:Te=1,startIndex:pt=0}=be,vt=void 0!==be.endIndex?be.endIndex:_e.length,Tt=(vt-pt)/Te;xt=Pe.Z.allocate(xt,Tt,{type:Float32Array,size:2*Te});let It=pt,Mt=0;for(;It<vt;){for(let be=0;be<Te;be++){const Pe=_e[It++];xt[Mt+be]=Pe,xt[Mt+be+Te]=(Lt=Pe)-Math.fround(Lt)}Mt+=2*Te}var Lt;return xt.subarray(0,Tt*Te*2)}},88177:function(_e,be,Te){"use strict";function isEqual(_e,be){if(_e===be)return!0;if(Array.isArray(_e)){const Te=_e.length;if(!be||be.length!==Te)return!1;for(let Pe=0;Pe<Te;Pe++)if(_e[Pe]!==be[Pe])return!1;return!0}return!1}function memoize(_e){let be,Te={};return Pe=>{for(const pt in Pe)if(!isEqual(Pe[pt],Te[pt])){be=_e(Pe),Te=Pe;break}return be}}Te.d(be,{Z:function(){return memoize}})},36610:function(_e,be,Te){"use strict";var Pe=Te(4942);be.Z=new class{constructor(_e={}){(0,Pe.Z)(this,"_pool",[]),(0,Pe.Z)(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(_e)}setOptions(_e){Object.assign(this.opts,_e)}allocate(_e,be,{size:Te=1,type:Pe,padding:pt=0,copy:vt=!1,initialize:xt=!1,maxCount:Tt}){const It=Pe||_e&&_e.constructor||Float32Array,Mt=be*Te+pt;if(ArrayBuffer.isView(_e)){if(Mt<=_e.length)return _e;if(Mt*_e.BYTES_PER_ELEMENT<=_e.buffer.byteLength)return new It(_e.buffer,0,Mt)}let Lt=1/0;Tt&&(Lt=Tt*Te+pt);const Ft=this._allocate(It,Mt,xt,Lt);return _e&&vt?Ft.set(_e):xt||Ft.fill(0,0,4),this._release(_e),Ft}release(_e){this._release(_e)}_allocate(_e,be,Te,Pe){let pt=Math.max(Math.ceil(be*this.opts.overAlloc),1);pt>Pe&&(pt=Pe);const vt=this._pool,xt=_e.BYTES_PER_ELEMENT*pt,Tt=vt.findIndex((_e=>_e.byteLength>=xt));if(Tt>=0){const be=new _e(vt.splice(Tt,1)[0],0,pt);return Te&&be.fill(0),be}return new _e(pt)}_release(_e){if(!ArrayBuffer.isView(_e))return;const be=this._pool,{buffer:Te}=_e,{byteLength:Pe}=Te,pt=be.findIndex((_e=>_e.byteLength>=Pe));pt<0?be.push(Te):(pt>0||be.length<this.opts.poolSize)&&be.splice(pt,0,Te),be.length>this.opts.poolSize&&be.shift()}}},7013:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return $t}});var Pe=Te(4942),pt=Te(80744),vt=Te(75126),xt=Te(37293),Tt=Te(14034),It=Te(36280),Mt=Te(85975),Lt=Te(17013),Ft=Te(24088);const Ot=Math.PI/180,Vt=(0,vt.bS)(),qt=[0,0,0],Wt={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function createProjectionMatrix({width:_e,height:be,orthographic:Te,fovyRadians:Pe,focalDistance:pt,padding:vt,near:It,far:Mt}){const Lt=_e/be,Ft=Te?(new xt.Z).orthographic({fovy:Pe,aspect:Lt,focalDistance:pt,near:It,far:Mt}):(new xt.Z).perspective({fovy:Pe,aspect:Lt,near:It,far:Mt});if(vt){const{left:Te=0,right:Pe=0,top:pt=0,bottom:xt=0}=vt,It=(0,Tt.uZ)((Te+_e-Pe)/2,0,_e)-_e/2,Mt=(0,Tt.uZ)((pt+be-xt)/2,0,be)-be/2;Ft[8]-=2*It/_e,Ft[9]+=2*Mt/be}return Ft}class $t{constructor(_e={}){(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"x",void 0),(0,Pe.Z)(this,"y",void 0),(0,Pe.Z)(this,"width",void 0),(0,Pe.Z)(this,"height",void 0),(0,Pe.Z)(this,"isGeospatial",void 0),(0,Pe.Z)(this,"zoom",void 0),(0,Pe.Z)(this,"focalDistance",void 0),(0,Pe.Z)(this,"position",void 0),(0,Pe.Z)(this,"modelMatrix",void 0),(0,Pe.Z)(this,"distanceScales",void 0),(0,Pe.Z)(this,"scale",void 0),(0,Pe.Z)(this,"center",void 0),(0,Pe.Z)(this,"cameraPosition",void 0),(0,Pe.Z)(this,"projectionMatrix",void 0),(0,Pe.Z)(this,"viewMatrix",void 0),(0,Pe.Z)(this,"viewMatrixUncentered",void 0),(0,Pe.Z)(this,"viewMatrixInverse",void 0),(0,Pe.Z)(this,"viewProjectionMatrix",void 0),(0,Pe.Z)(this,"pixelProjectionMatrix",void 0),(0,Pe.Z)(this,"pixelUnprojectionMatrix",void 0),(0,Pe.Z)(this,"resolution",void 0),(0,Pe.Z)(this,"_frustumPlanes",{}),this.id=_e.id||this.constructor.displayName||"viewport",this.x=_e.x||0,this.y=_e.y||0,this.width=_e.width||1,this.height=_e.height||1,this.zoom=_e.zoom||0,this.distanceScales=_e.distanceScales||Wt,this.focalDistance=_e.focalDistance||1,this.position=_e.position||qt,this.modelMatrix=_e.modelMatrix||null;const{longitude:be,latitude:Te}=_e;this.isGeospatial=Number.isFinite(Te)&&Number.isFinite(be),this._initProps(_e),this._initMatrices(_e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?Ft.zG.WEB_MERCATOR:Ft.zG.WEB_MERCATOR_AUTO_OFFSET:Ft.zG.IDENTITY}equals(_e){return _e instanceof $t&&(this===_e||_e.width===this.width&&_e.height===this.height&&_e.scale===this.scale&&(0,Tt.fS)(_e.projectionMatrix,this.projectionMatrix)&&(0,Tt.fS)(_e.viewMatrix,this.viewMatrix))}project(_e,{topLeft:be=!0}={}){const Te=this.projectPosition(_e),Pe=(0,Lt.aW)(Te,this.pixelProjectionMatrix),[pt,vt]=Pe,xt=be?vt:this.height-vt;return 2===_e.length?[pt,xt]:[pt,xt,Pe[2]]}unproject(_e,{topLeft:be=!0,targetZ:Te}={}){const[Pe,pt,vt]=_e,xt=be?pt:this.height-pt,Tt=Te&&Te*this.distanceScales.unitsPerMeter[2],It=(0,Lt.CT)([Pe,xt,vt],this.pixelUnprojectionMatrix,Tt),[Mt,Ft,Ot]=this.unprojectPosition(It);return Number.isFinite(vt)?[Mt,Ft,Ot]:Number.isFinite(Te)?[Mt,Ft,Te]:[Mt,Ft]}projectPosition(_e){const[be,Te]=this.projectFlat(_e);return[be,Te,(_e[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(_e){const[be,Te]=this.unprojectFlat(_e);return[be,Te,(_e[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(_e){if(this.isGeospatial){const be=(0,Lt.w5)(_e);return be[1]=(0,Tt.uZ)(be[1],-318,830),be}return _e}unprojectFlat(_e){return this.isGeospatial?(0,Lt.es)(_e):_e}getBounds(_e={}){const be={targetZ:_e.z||0},Te=this.unproject([0,0],be),Pe=this.unproject([this.width,0],be),pt=this.unproject([0,this.height],be),vt=this.unproject([this.width,this.height],be);return[Math.min(Te[0],Pe[0],pt[0],vt[0]),Math.min(Te[1],Pe[1],pt[1],vt[1]),Math.max(Te[0],Pe[0],pt[0],vt[0]),Math.max(Te[1],Pe[1],pt[1],vt[1])]}getDistanceScales(_e){return _e?(0,Lt.ro)({longitude:_e[0],latitude:_e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:_e,y:be,width:Te=1,height:Pe=1}){return _e<this.x+this.width&&this.x<_e+Te&&be<this.y+this.height&&this.y<be+Pe}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,(0,vt.Du)(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(_e,be){return null}_initProps(_e){const be=_e.longitude,Te=_e.latitude;this.isGeospatial&&(Number.isFinite(_e.zoom)||(this.zoom=(0,Lt.Bf)({latitude:Te})+Math.log2(this.focalDistance)),this.distanceScales=_e.distanceScales||(0,Lt.ro)({latitude:Te,longitude:be}));const Pe=Math.pow(2,this.zoom);this.scale=Pe;const{position:pt,modelMatrix:vt}=_e;let Tt=qt;if(pt&&(Tt=vt?new xt.Z(vt).transformAsVector(pt,[]):pt),this.isGeospatial){const _e=this.projectPosition([be,Te,0]);this.center=new It.Z(Tt).scale(this.distanceScales.unitsPerMeter).add(_e)}else this.center=this.projectPosition(Tt)}_initMatrices(_e){const{viewMatrix:be=Vt,projectionMatrix:Te=null,orthographic:Pe=!1,fovyRadians:Tt,fovy:Lt=75,near:Ft=.1,far:qt=1e3,padding:Wt=null,focalDistance:$t=1}=_e;this.viewMatrixUncentered=be,this.viewMatrix=(new xt.Z).multiplyRight(be).translate(new It.Z(this.center).negate()),this.projectionMatrix=Te||createProjectionMatrix({width:this.width,height:this.height,orthographic:Pe,fovyRadians:Tt||Lt*Ot,focalDistance:$t,padding:Wt,near:Ft,far:qt});const Kt=(0,vt.bS)();Mt.Jp(Kt,Kt,this.projectionMatrix),Mt.Jp(Kt,Kt,this.viewMatrix),this.viewProjectionMatrix=Kt,this.viewMatrixInverse=Mt.U_([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=(0,vt.Xt)(this.viewMatrixInverse);const Jt=(0,vt.bS)(),Yt=(0,vt.bS)();Mt.bA(Jt,Jt,[this.width/2,-this.height/2,1]),Mt.Iu(Jt,Jt,[1,-1,0]),Mt.Jp(Yt,Jt,this.viewProjectionMatrix),this.pixelProjectionMatrix=Yt,this.pixelUnprojectionMatrix=Mt.U_((0,vt.bS)(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||pt.Z.warn("Pixel project matrix not invertible")()}}(0,Pe.Z)($t,"displayName","Viewport")},96935:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Mt}});var Pe=Te(4942),pt=Te(7013),vt=Te(17013),xt=Te(31437),Tt=Te(37293);const It=Math.PI/180;function unitsPerMeter(_e){return 512/4003e4/Math.cos(_e*It)}class Mt extends pt.Z{constructor(_e={}){const{latitude:be=0,longitude:Te=0,zoom:pt=0,pitch:xt=0,bearing:It=0,nearZMultiplier:Mt=.1,farZMultiplier:Lt=1.01,orthographic:Ft=!1,projectionMatrix:Ot,repeat:Vt=!1,worldOffset:qt=0,legacyMeterSizes:Wt=!1}=_e;let{width:$t,height:Kt,altitude:Jt=1.5}=_e;const Yt=Math.pow(2,pt);let Qt;$t=$t||1,Kt=Kt||1;let an=null;Ot?(Jt=Ot[5]/2,Qt=(0,vt.Lu)(Jt)):(_e.fovy?(Qt=_e.fovy,Jt=(0,vt.sj)(Qt)):Qt=(0,vt.Lu)(Jt),an=(0,vt.wl)({width:$t,height:Kt,pitch:xt,fovy:Qt,nearZMultiplier:Mt,farZMultiplier:Lt}));let cn=(0,vt.lf)({height:Kt,pitch:xt,bearing:It,scale:Yt,altitude:Jt});if(qt){cn=(new Tt.Z).translate([512*qt,0,0]).multiplyLeft(cn)}super({..._e,width:$t,height:Kt,viewMatrix:cn,longitude:Te,latitude:be,zoom:pt,...an,fovy:Qt,focalDistance:Jt}),(0,Pe.Z)(this,"longitude",void 0),(0,Pe.Z)(this,"latitude",void 0),(0,Pe.Z)(this,"pitch",void 0),(0,Pe.Z)(this,"bearing",void 0),(0,Pe.Z)(this,"altitude",void 0),(0,Pe.Z)(this,"fovy",void 0),(0,Pe.Z)(this,"orthographic",void 0),(0,Pe.Z)(this,"_subViewports",void 0),(0,Pe.Z)(this,"_pseudoMeters",void 0),this.latitude=be,this.longitude=Te,this.zoom=pt,this.pitch=xt,this.bearing=It,this.altitude=Jt,this.fovy=Qt,this.orthographic=Ft,this._subViewports=Vt?[]:null,this._pseudoMeters=Wt,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const _e=this.getBounds(),be=Math.floor((_e[0]+180)/360),Te=Math.ceil((_e[2]-180)/360);for(let _e=be;_e<=Te;_e++){const be=_e?new Mt({...this,worldOffset:_e}):this;this._subViewports.push(be)}}return this._subViewports}projectPosition(_e){if(this._pseudoMeters)return super.projectPosition(_e);const[be,Te]=this.projectFlat(_e);return[be,Te,(_e[2]||0)*unitsPerMeter(_e[1])]}unprojectPosition(_e){if(this._pseudoMeters)return super.unprojectPosition(_e);const[be,Te]=this.unprojectFlat(_e);return[be,Te,(_e[2]||0)/unitsPerMeter(Te)]}addMetersToLngLat(_e,be){return(0,vt.eG)(_e,be)}panByPosition(_e,be){const Te=(0,vt.CT)(be,this.pixelUnprojectionMatrix),Pe=this.projectFlat(_e),pt=xt.IH([],Pe,xt.tk([],Te)),Tt=xt.IH([],this.center,pt),[It,Mt]=this.unprojectFlat(Tt);return{longitude:It,latitude:Mt}}getBounds(_e={}){const be=(0,vt.zX)(this,_e.z||0);return[Math.min(be[0][0],be[1][0],be[2][0],be[3][0]),Math.min(be[0][1],be[1][1],be[2][1],be[3][1]),Math.max(be[0][0],be[1][0],be[2][0],be[3][0]),Math.max(be[0][1],be[1][1],be[2][1],be[3][1])]}fitBounds(_e,be={}){const{width:Te,height:Pe}=this,{longitude:pt,latitude:xt,zoom:Tt}=(0,vt.Xg)({width:Te,height:Pe,bounds:_e,...be});return new Mt({width:Te,height:Pe,longitude:pt,latitude:xt,zoom:Tt})}}(0,Pe.Z)(Mt,"displayName","WebMercatorViewport")},48881:function(_e,be,Te){"use strict";Te.r(be),Te.d(be,{ArcLayer:function(){return Uo},BitmapLayer:function(){return bs},ColumnLayer:function(){return dd},GeoJsonLayer:function(){return oc},GridCellLayer:function(){return Cd},IconLayer:function(){return Ds},LineLayer:function(){return Is},PathLayer:function(){return Ld},PointCloudLayer:function(){return Ws},PolygonLayer:function(){return Ul},ScatterplotLayer:function(){return Ks},SolidPolygonLayer:function(){return ul},TextLayer:function(){return yu},_MultiIconLayer:function(){return Hl},_TextBackgroundLayer:function(){return lu}});var Pe=Te(4942),pt=Te(24088),vt=Te(44211),xt=Te(6948),Tt=Te(53478);class It{constructor(_e,be){(0,Pe.Z)(this,"opts",void 0),(0,Pe.Z)(this,"source",void 0),this.opts=be,this.source=_e}get value(){return this.source.value}getValue(){const _e=this.source.getBuffer(),be=this.getAccessor();if(_e)return[_e,be];const{value:Te}=this.source,{size:Pe}=be;let pt=Te;if(Te&&Te.length!==Pe){pt=new Float32Array(Pe);const _e=be.elementOffset||0;for(let be=0;be<Pe;++be)pt[be]=Te[_e+be]}return pt}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}function glArrayFromType(_e){switch(_e){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}var Mt=Te(36610),Lt=Te(75126),Ft=Te(80744);function getStride(_e){return _e.stride||_e.size*_e.bytesPerElement}function resolveShaderAttribute(_e,be){be.offset&&Ft.Z.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const Te=getStride(_e),Pe=(void 0!==be.vertexOffset?be.vertexOffset:_e.vertexOffset||0)*Te+(be.elementOffset||0)*_e.bytesPerElement+(_e.offset||0);return{...be,offset:Pe,stride:Te}}function resolveDoublePrecisionShaderAttributes(_e,be){const Te=resolveShaderAttribute(_e,be);return{high:Te,low:{...Te,offset:Te.offset+4*_e.size}}}class Ot{constructor(_e,be,Te){(0,Pe.Z)(this,"gl",void 0),(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"size",void 0),(0,Pe.Z)(this,"settings",void 0),(0,Pe.Z)(this,"value",void 0),(0,Pe.Z)(this,"doublePrecision",void 0),(0,Pe.Z)(this,"_buffer",void 0),(0,Pe.Z)(this,"state",void 0),this.gl=_e,this.id=be.id||"",this.size=be.size||1;const pt=be.logicalType||be.type,Tt=5130===pt;let It,{defaultValue:Mt}=be;Mt=Number.isFinite(Mt)?[Mt]:Mt||new Array(this.size).fill(0),It=Tt?5126:!pt&&be.isIndexed?_e&&(0,vt.U6)(_e,xt.h.ELEMENT_INDEX_UINT32)?5125:5123:pt||5126;let Lt=glArrayFromType(pt||It||5126);this.doublePrecision=Tt,Tt&&!1===be.fp64&&(Lt=Float32Array),this.value=null,this.settings={...be,defaultType:Lt,defaultValue:Mt,logicalType:pt,type:It,size:this.size,bytesPerElement:Lt.BYTES_PER_ELEMENT},this.state={...Te,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:_e,type:be}=this.settings;this._buffer=new Tt.Z(this.gl,{id:this.id,target:_e?34963:34962,accessor:{type:be}})}return this._buffer}get byteOffset(){const _e=this.getAccessor();return _e.vertexOffset?_e.vertexOffset*getStride(_e):0}get numInstances(){return this.state.numInstances}set numInstances(_e){this.state.numInstances=_e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),Mt.Z.release(this.state.allocatedValue)}getShaderAttributes(_e,be){if(this.doublePrecision){const Te={},Pe=this.value instanceof Float64Array,pt=resolveDoublePrecisionShaderAttributes(this.getAccessor(),be||{});return Te[_e]=new It(this,pt.high),Te["".concat(_e,"64Low")]=Pe?new It(this,pt.low):new Float32Array(this.size),Te}if(be){const Te=resolveShaderAttribute(this.getAccessor(),be);return{[_e]:new It(this,Te)}}return{[_e]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let _e=null;if(this.state.constant&&this.value){const be=Array.from(this.value);_e=[be,be]}else{const{value:be,numInstances:Te,size:Pe}=this,pt=Te*Pe;if(be&&pt&&be.length>=pt){const Te=new Array(Pe).fill(1/0),vt=new Array(Pe).fill(-1/0);for(let _e=0;_e<pt;)for(let pt=0;pt<Pe;pt++){const Pe=be[_e++];Pe<Te[pt]&&(Te[pt]=Pe),Pe>vt[pt]&&(vt[pt]=Pe)}_e=[Te,vt]}}return this.state.bounds=_e,_e}setData(_e){const{state:be}=this;let Te;Te=ArrayBuffer.isView(_e)?{value:_e}:_e instanceof Tt.Z?{buffer:_e}:_e;const Pe={...this.settings,...Te};if(be.bufferAccessor=Pe,be.bounds=null,Te.constant){let _e=Te.value;_e=this._normalizeValue(_e,[],0),this.settings.normalized&&(_e=this.normalizeConstant(_e));if(!(!be.constant||!this._areValuesEqual(_e,this.value)))return!1;be.externalBuffer=null,be.constant=!0,this.value=_e}else if(Te.buffer){const _e=Te.buffer;be.externalBuffer=_e,be.constant=!1,this.value=Te.value||null;const pt=Te.value instanceof Float64Array;Pe.type=Te.type||_e.accessor.type,Pe.bytesPerElement=_e.accessor.BYTES_PER_ELEMENT*(pt?2:1),Pe.stride=getStride(Pe)}else if(Te.value){this._checkExternalBuffer(Te);let _e=Te.value;be.externalBuffer=null,be.constant=!1,this.value=_e,Pe.bytesPerElement=_e.BYTES_PER_ELEMENT,Pe.stride=getStride(Pe);const{buffer:pt,byteOffset:vt}=this;this.doublePrecision&&_e instanceof Float64Array&&(_e=(0,Lt.TK)(_e,Pe));const xt=_e.byteLength+vt+2*Pe.stride;pt.byteLength<xt&&pt.reallocate(xt),pt.setAccessor(null),pt.subData({data:_e,offset:vt}),Pe.type=Te.type||pt.accessor.type}return!0}updateSubBuffer(_e={}){this.state.bounds=null;const be=this.value,{startOffset:Te=0,endOffset:Pe}=_e;this.buffer.subData({data:this.doublePrecision&&be instanceof Float64Array?(0,Lt.TK)(be,{size:this.size,startIndex:Te,endIndex:Pe}):be.subarray(Te,Pe),offset:Te*be.BYTES_PER_ELEMENT+this.byteOffset})}allocate(_e,be=!1){const{state:Te}=this,Pe=Te.allocatedValue,pt=Mt.Z.allocate(Pe,_e+1,{size:this.size,type:this.settings.defaultType,copy:be});this.value=pt;const{buffer:vt,byteOffset:xt}=this;return vt.byteLength<pt.byteLength+xt&&(vt.reallocate(pt.byteLength+xt),be&&Pe&&vt.subData({data:Pe instanceof Float64Array?(0,Lt.TK)(Pe,this):Pe,offset:xt})),Te.allocatedValue=pt,Te.constant=!1,Te.externalBuffer=null,Te.bufferAccessor=this.settings,!0}_checkExternalBuffer(_e){const{value:be}=_e;if(!ArrayBuffer.isView(be))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const Te=this.settings.defaultType;let Pe=!1;if(this.doublePrecision&&(Pe=be.BYTES_PER_ELEMENT<4),Pe)throw new Error("Attribute ".concat(this.id," does not support ").concat(be.constructor.name));be instanceof Te||!this.settings.normalized||"normalized"in _e||Ft.Z.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(_e){switch(this.settings.type){case 5120:return new Float32Array(_e).map((_e=>(_e+128)/255*2-1));case 5122:return new Float32Array(_e).map((_e=>(_e+32768)/65535*2-1));case 5121:return new Float32Array(_e).map((_e=>_e/255));case 5123:return new Float32Array(_e).map((_e=>_e/65535));default:return _e}}_normalizeValue(_e,be,Te){const{defaultValue:Pe,size:pt}=this.settings;if(Number.isFinite(_e))return be[Te]=_e,be;if(!_e)return be[Te]=Pe[0],be;switch(pt){case 4:be[Te+3]=Number.isFinite(_e[3])?_e[3]:Pe[3];case 3:be[Te+2]=Number.isFinite(_e[2])?_e[2]:Pe[2];case 2:be[Te+1]=Number.isFinite(_e[1])?_e[1]:Pe[1];case 1:be[Te+0]=Number.isFinite(_e[0])?_e[0]:Pe[0];break;default:let vt=pt;for(;--vt>=0;)be[Te+vt]=Number.isFinite(_e[vt])?_e[vt]:Pe[vt]}return be}_areValuesEqual(_e,be){if(!_e||!be)return!1;const{size:Te}=this;for(let Pe=0;Pe<Te;Pe++)if(_e[Pe]!==be[Pe])return!1;return!0}}var Vt=Te(75304);const qt=[],Wt=[];function createIterable(_e,be=0,Te=1/0){let Pe=qt;const pt={index:-1,data:_e,target:[]};return _e?"function"==typeof _e[Symbol.iterator]?Pe=_e:_e.length>0&&(Wt.length=_e.length,Pe=Wt):Pe=qt,(be>0||Number.isFinite(Te))&&(Pe=(Array.isArray(Pe)?Pe:Array.from(Pe)).slice(be,Te),pt.index=be-1),{iterable:Pe,objectInfo:pt}}function isAsyncIterable(_e){return _e&&_e[Symbol.asyncIterator]}function getAccessorFromBuffer(_e,be){const{size:Te,stride:Pe,offset:pt,startIndices:vt,nested:xt}=be,Tt=_e.BYTES_PER_ELEMENT,It=Pe?Pe/Tt:Te,Mt=pt?pt/Tt:0,Lt=Math.floor((_e.length-Mt)/It);return(be,{index:Pe,target:pt})=>{if(!vt){const be=Pe*It+Mt;for(let Pe=0;Pe<Te;Pe++)pt[Pe]=_e[be+Pe];return pt}const Tt=vt[Pe],Ft=vt[Pe+1]||Lt;let Ot;if(xt){Ot=new Array(Ft-Tt);for(let be=Tt;be<Ft;be++){const Pe=be*It+Mt;pt=new Array(Te);for(let be=0;be<Te;be++)pt[be]=_e[Pe+be];Ot[be-Tt]=pt}}else if(It===Te)Ot=_e.subarray(Tt*Te+Mt,Ft*Te+Mt);else{Ot=new _e.constructor((Ft-Tt)*Te);let be=0;for(let Pe=Tt;Pe<Ft;Pe++){const pt=Pe*It+Mt;for(let Pe=0;Pe<Te;Pe++)Ot[be++]=_e[pt+Pe]}}return Ot}}var $t=Te(61855);const Kt=[],Jt=[[0,1/0]];function add(_e,be){if(_e===Jt)return _e;if(be[0]<0&&(be[0]=0),be[0]>=be[1])return _e;const Te=[],Pe=_e.length;let pt=0;for(let vt=0;vt<Pe;vt++){const Pe=_e[vt];Pe[1]<be[0]?(Te.push(Pe),pt=vt+1):Pe[0]>be[1]?Te.push(Pe):be=[Math.min(Pe[0],be[0]),Math.max(Pe[1],be[1])]}return Te.splice(pt,0,be),Te}function padArrayChunk(_e){const{source:be,target:Te,start:Pe=0,size:pt,getData:vt}=_e,xt=_e.end||Te.length,Tt=be.length,It=xt-Pe;if(Tt>It)return void Te.set(be.subarray(0,It),Pe);if(Te.set(be,Pe),!vt)return;let Mt=Tt;for(;Mt<It;){const _e=vt(Mt,be);for(let be=0;be<pt;be++)Te[Pe+Mt]=_e[be]||0,Mt++}}function padArray({source:_e,target:be,size:Te,getData:Pe,sourceStartIndices:pt,targetStartIndices:vt}){if(!Array.isArray(vt))return padArrayChunk({source:_e,target:be,size:Te,getData:Pe}),be;let xt=0,Tt=0;const It=Pe&&((_e,be)=>Pe(_e+Tt,be)),Mt=Math.min(pt.length,vt.length);for(let Pe=1;Pe<Mt;Pe++){const Mt=pt[Pe]*Te,Lt=vt[Pe]*Te;padArrayChunk({source:_e.subarray(xt,Mt),target:be,start:Tt,end:Lt,size:Te,getData:It}),xt=Mt,Tt=Lt}return Tt<be.length&&padArrayChunk({source:[],target:be,start:Tt,size:Te,getData:It}),be}const Yt={interpolation:{duration:0,easing:_e=>_e},spring:{stiffness:.05,damping:.5}};function normalizeTransitionSettings(_e,be){if(!_e)return null;Number.isFinite(_e)&&(_e={type:"interpolation",duration:_e});const Te=_e.type||"interpolation";return{...Yt[Te],...be,..._e,type:Te}}function getSourceBufferAttribute(_e,be){const Te=be.getBuffer();return Te?[Te,{divisor:0,size:be.size,normalized:be.settings.normalized}]:be.value}function getAttributeTypeFromSize(_e){switch(_e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(_e,'"'))}}function cycleBuffers(_e){_e.push(_e.shift())}function getAttributeBufferLength(_e,be){const{doublePrecision:Te,settings:Pe,value:pt,size:vt}=_e,xt=Te&&pt instanceof Float64Array?2:1;return(Pe.noAlloc?pt.length:be*vt)*xt}function padBuffer({buffer:_e,numInstances:be,attribute:Te,fromLength:Pe,fromStartIndices:pt,getData:vt=(_e=>_e)}){const xt=Te.doublePrecision&&Te.value instanceof Float64Array?2:1,Tt=Te.size*xt,It=Te.byteOffset,Mt=Te.startIndices,Lt=pt&&Mt,Ft=getAttributeBufferLength(Te,be),Ot=Te.isConstant;if(!Lt&&Pe>=Ft)return;const Vt=Ot?Te.value:Te.getBuffer().getData({srcByteOffset:It});if(Te.settings.normalized&&!Ot){const _e=vt;vt=(be,Pe)=>Te.normalizeConstant(_e(be,Pe))}const qt=Ot?(_e,be)=>vt(Vt,be):(_e,be)=>vt(Vt.subarray(_e,_e+Tt),be),Wt=_e.getData({length:Pe}),$t=new Float32Array(Ft);padArray({source:Wt,target:$t,sourceStartIndices:pt,targetStartIndices:Mt,size:Tt,getData:qt}),_e.byteLength<$t.byteLength+It&&_e.reallocate($t.byteLength+It),_e.subData({data:$t,offset:It})}class Qt extends Ot{constructor(_e,be){super(_e,be,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:Jt}),(0,Pe.Z)(this,"constant",!1),this.settings.update=be.update||(be.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(_e){this.state.startIndices=_e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:_e=!1}={}){const be=this.state.needsRedraw;return this.state.needsRedraw=be&&!_e,be}getUpdateTriggers(){const{accessor:_e}=this.settings;return[this.id].concat("function"!=typeof _e&&_e||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting(_e){if(!_e||!this.supportsTransition())return null;const{accessor:be}=this.settings,Te=this.settings.transition;return normalizeTransitionSettings(Array.isArray(be)?_e[be.find((be=>_e[be]))]:_e[be],Te)}setNeedsUpdate(_e=this.id,be){if(this.state.needsUpdate=this.state.needsUpdate||_e,this.setNeedsRedraw(_e),be){const{startRow:_e=0,endRow:Te=1/0}=be;this.state.updateRanges=add(this.state.updateRanges,[_e,Te])}else this.state.updateRanges=Jt}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=Kt}setNeedsRedraw(_e=this.id){this.state.needsRedraw=this.state.needsRedraw||_e}allocate(_e){const{state:be,settings:Te}=this;return!Te.noAlloc&&(!!Te.update&&(super.allocate(_e,be.updateRanges!==Jt),!0))}updateBuffer({numInstances:_e,data:be,props:Te,context:Pe}){if(!this.needsUpdate())return!1;const{state:{updateRanges:pt},settings:{update:vt,noAlloc:xt}}=this;let Tt=!0;if(vt){for(const[xt,Tt]of pt)vt.call(Pe,this,{data:be,startRow:xt,endRow:Tt,props:Te,numInstances:_e});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[be,Te]of pt){const Pe=Number.isFinite(be)?this.getVertexOffset(be):0,pt=Number.isFinite(Te)?this.getVertexOffset(Te):xt||!Number.isFinite(_e)?this.value.length:_e*this.size;super.updateSubBuffer({startOffset:Pe,endOffset:pt})}else;this._checkAttributeArray()}else Tt=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),Tt}setConstantValue(_e){if(void 0===_e||"function"==typeof _e)return!1;return this.setData({constant:!0,value:_e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0}setExternalBuffer(_e){const{state:be}=this;return _e?(this.clearNeedsUpdate(),be.lastExternalBuffer===_e||(be.lastExternalBuffer=_e,this.setNeedsRedraw(),this.setData(_e)),!0):(be.lastExternalBuffer=null,!1)}setBinaryValue(_e,be=null){const{state:Te,settings:Pe}=this;if(!_e)return Te.binaryValue=null,Te.binaryAccessor=null,!1;if(Pe.noAlloc)return!1;if(Te.binaryValue===_e)return this.clearNeedsUpdate(),!0;Te.binaryValue=_e,this.setNeedsRedraw();if(Pe.transform||be!==this.startIndices){ArrayBuffer.isView(_e)&&(_e={value:_e});const pt=_e;(0,Vt.Z)(ArrayBuffer.isView(pt.value),"invalid ".concat(Pe.accessor));const vt=Boolean(pt.size)&&pt.size!==this.size;return Te.binaryAccessor=getAccessorFromBuffer(pt.value,{size:pt.size||this.size,stride:pt.stride,offset:pt.offset,startIndices:be,nested:vt}),!1}return this.clearNeedsUpdate(),this.setData(_e),!0}getVertexOffset(_e){const{startIndices:be}=this;return(be?be[_e]:_e)*this.size}getShaderAttributes(){const _e=this.settings.shaderAttributes||{[this.id]:null},be={};for(const Te in _e)Object.assign(be,super.getShaderAttributes(Te,_e[Te]));return be}_autoUpdater(_e,{data:be,startRow:Te,endRow:Pe,props:pt,numInstances:vt}){if(_e.constant)return;const{settings:xt,state:Tt,value:It,size:Mt,startIndices:Lt}=_e,{accessor:Ft,transform:Ot}=xt,qt=Tt.binaryAccessor||("function"==typeof Ft?Ft:pt[Ft]);(0,Vt.Z)("function"==typeof qt,'accessor "'.concat(Ft,'" is not a function'));let Wt=_e.getVertexOffset(Te);const{iterable:Kt,objectInfo:Jt}=createIterable(be,Te,Pe);for(const be of Kt){Jt.index++;let Te=qt(be,Jt);if(Ot&&(Te=Ot.call(this,Te)),Lt){const be=(Jt.index<Lt.length-1?Lt[Jt.index+1]:vt)-Lt[Jt.index];if(Te&&Array.isArray(Te[0])){let be=Wt;for(const Pe of Te)_e._normalizeValue(Pe,It,be),be+=Mt}else Te&&Te.length>Mt?It.set(Te,Wt):(_e._normalizeValue(Te,Jt.target,0),(0,$t.k)({target:It,source:Jt.target,start:Wt,count:be}));Wt+=be*Mt}else _e._normalizeValue(Te,It,Wt),Wt+=Mt}}_validateAttributeUpdaters(){const{settings:_e}=this;if(!(_e.noAlloc||"function"==typeof _e.update))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:_e}=this,be=Math.min(4,this.size);if(_e&&_e.length>=be){let Te=!0;switch(be){case 4:Te=Te&&Number.isFinite(_e[3]);case 3:Te=Te&&Number.isFinite(_e[2]);case 2:Te=Te&&Number.isFinite(_e[1]);case 1:Te=Te&&Number.isFinite(_e[0]);break;default:Te=!1}if(!Te)throw new Error("Illegal attribute generated for ".concat(this.id))}}}var an=Te(63803),cn=Te(29047);const hn="void main() {gl_FragColor = vec4(0);}",pn="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",xn="#version 300 es\n".concat(pn);function getQualifierDetails(_e,be){be=Array.isArray(be)?be:[be];const Te=_e.replace(/^\s+/,"").split(/\s+/),[Pe,pt,vt]=Te;if(!be.includes(Pe)||!pt||!vt)return null;return{qualifier:Pe,type:pt,name:vt.split(";")[0]}}function getPassthroughFS(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{version:be=100,input:Te,inputType:Pe,output:pt}=_e;if(!Te)return 300===be?xn:be>300?"#version ".concat(be,"\n").concat(pn):hn;const vt=convertToVec4(Te,Pe);return be>=300?"#version ".concat(be," ").concat(300===be?"es":"","\nin ").concat(Pe," ").concat(Te,";\nout vec4 ").concat(pt,";\nvoid main() {\n  ").concat(pt," = ").concat(vt,";\n}"):"varying ".concat(Pe," ").concat(Te,";\nvoid main() {\n  gl_FragColor = ").concat(vt,";\n}")}function typeToChannelSuffix(_e){switch(_e){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return(0,cn.Z)(!1),null}}function typeToChannelCount(_e){switch(_e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return(0,cn.Z)(!1),null}}function convertToVec4(_e,be){switch(be){case"float":return"vec4(".concat(_e,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(_e,", 0.0, 1.0)");case"vec3":return"vec4(".concat(_e,", 1.0)");case"vec4":return _e;default:return(0,cn.Z)(!1),null}}var Pn=Te(39450),Ln=Te(87577),Fn=Te(74538);class jn extends Ln.Z{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(_e){return(0,Pn.D0)(_e)}constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Pn.KQ)(_e),super(_e,be),this.initialize(be),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,(0,Fn.nK)(this.buffers)||this.bind((()=>this._unbindBuffers())),this.setProps(_e),this}setProps(_e){"program"in _e&&(this.configuration=_e.program&&_e.program.configuration),"configuration"in _e&&(this.configuration=_e.configuration),"bindOnUse"in _e&&(_e=_e.bindOnUse),"buffers"in _e&&this.setBuffers(_e.buffers)}setBuffers(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((()=>{for(const be in _e)this.setBuffer(be,_e[be])})),this}setBuffer(_e,be){const Te=this._getVaryingIndex(_e),{buffer:Pe,byteSize:pt,byteOffset:vt}=this._getBufferParams(be);return Te<0?(this.unused[_e]=Pe,Pn.cM.warn("".concat(this.id," unused varying buffer ").concat(_e))(),this):(this.buffers[Te]=be,this.bindOnUse||this._bindBuffer(Te,Pe,vt,pt),this)}begin(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(_e),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(_e){let be,Te,Pe;return _e instanceof Tt.Z==!1?(Pe=_e.buffer,Te=_e.byteSize,be=_e.byteOffset):Pe=_e,void 0===be&&void 0===Te||(be=be||0,Te=Te||Pe.byteLength-be),{buffer:Pe,byteOffset:be,byteSize:Te}}_getVaryingInfo(_e){return this.configuration&&this.configuration.getVaryingInfo(_e)}_getVaryingIndex(_e){if(this.configuration)return this.configuration.getVaryingInfo(_e).location;const be=Number(_e);return Number.isFinite(be)?be:-1}_bindBuffers(){if(this.bindOnUse)for(const _e in this.buffers){const{buffer:be,byteSize:Te,byteOffset:Pe}=this._getBufferParams(this.buffers[_e]);this._bindBuffer(_e,be,Pe,Te)}}_unbindBuffers(){if(this.bindOnUse)for(const _e in this.buffers)this._bindBuffer(_e,null)}_bindBuffer(_e,be){let Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,Pe=arguments.length>3?arguments[3]:void 0;const pt=be&&be.handle;return pt&&void 0!==Pe?this.gl.bindBufferRange(35982,_e,pt,Te,Pe):this.gl.bindBufferBase(35982,_e,pt),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(_e){this.gl.bindTransformFeedback(36386,this.handle)}}var $n=Te(23121);class ea{constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=_e,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(be),Object.seal(this)}setupResources(_e){for(const be of this.bindings)this._setupTransformFeedback(be,_e)}updateModelProps(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyings:be}=this;return be.length>0&&(_e=Object.assign({},_e,{varyings:be})),_e}getDrawOptions(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const be=this.bindings[this.currentIndex],{sourceBuffers:Te,transformFeedback:Pe}=be;return{attributes:Object.assign({},Te,_e.attributes),transformFeedback:Pe}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(_e)}getBuffer(_e){const{feedbackBuffers:be}=this.bindings[this.currentIndex],Te=_e?be[_e]:null;return Te?Te instanceof Tt.Z?Te:Te.buffer:null}getData(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyingName:be}=_e,Te=this.getBuffer(be);return Te?Te.getData():null}delete(){for(const _e in this.resources)this.resources[_e].delete()}_initialize(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(_e),this.varyings=_e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&(0,$n.h)((0,Pn.D0)(this.gl))}_getFeedbackBuffers(_e){const{sourceBuffers:be={}}=_e,Te={};if(this.bindings[this.currentIndex]&&Object.assign(Te,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const _e in this.feedbackMap){const Pe=this.feedbackMap[_e];_e in be&&(Te[Pe]=_e)}Object.assign(Te,_e.feedbackBuffers);for(const _e in Te){const Pe=Te[_e];if("string"==typeof Pe){const pt=be[Pe],{byteLength:vt,usage:xt,accessor:Tt}=pt;Te[_e]=this._createNewBuffer(_e,{byteLength:vt,usage:xt,accessor:Tt})}}return Te}_setupBuffers(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:be=null}=_e;Object.assign(this.feedbackMap,_e.feedbackMap);const Te=this._getFeedbackBuffers(_e);this._updateBindings({sourceBuffers:be,feedbackBuffers:Te})}_setupTransformFeedback(_e,be){let{model:Te}=be;const{program:Pe}=Te;_e.transformFeedback=new jn(this.gl,{program:Pe,buffers:_e.feedbackBuffers})}_updateBindings(_e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],_e),this.feedbackMap){const{sourceBuffers:_e,feedbackBuffers:be}=this._swapBuffers(this.bindings[this.currentIndex]),Te=this._getNextIndex();this.bindings[Te]=this._updateBinding(this.bindings[Te],{sourceBuffers:_e,feedbackBuffers:be})}}_updateBinding(_e,be){return _e?(Object.assign(_e.sourceBuffers,be.sourceBuffers),Object.assign(_e.feedbackBuffers,be.feedbackBuffers),_e.transformFeedback&&_e.transformFeedback.setBuffers(_e.feedbackBuffers),_e):{sourceBuffers:Object.assign({},be.sourceBuffers),feedbackBuffers:Object.assign({},be.feedbackBuffers)}}_swapBuffers(_e){if(!this.feedbackMap)return null;const be=Object.assign({},_e.sourceBuffers),Te=Object.assign({},_e.feedbackBuffers);for(const Pe in this.feedbackMap){const pt=this.feedbackMap[Pe];be[Pe]=_e.feedbackBuffers[pt],Te[pt]=_e.sourceBuffers[Pe],(0,$n.h)(Te[pt]instanceof Tt.Z)}return{sourceBuffers:be,feedbackBuffers:Te}}_createNewBuffer(_e,be){const Te=new Tt.Z(this.gl,be);return this.resources[_e]&&this.resources[_e].delete(),this.resources[_e]=Te,Te}_getNextIndex(){return(this.currentIndex+1)%2}}var na=Te(1953),aa=Te(4912),ra=Te(53849),ia=Te(95432);function getShaderVersion(_e){let be=100;const Te=_e.match(/[^\s]+/g);if(Te.length>=2&&"#version"===Te[0]){const _e=parseInt(Te[1],10);Number.isFinite(_e)&&(be=_e)}return be}var da=Te(86713);const la={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},ua="transform_uSize_",ca="transform_position";function updateForTextures(_e){let{vs:be,sourceTextureMap:Te,targetTextureVarying:Pe,targetTexture:pt}=_e;let vt=Object.keys(Te).length,xt=null;const Tt={};let It=be,Mt={};if(vt>0||Pe){const _e=It.split("\n"),be=_e.slice();if(_e.forEach(((_e,pt,It)=>{if(vt>0){const Pe=processAttributeDefinition(_e,Te);if(Pe){const{updatedLine:_e,inject:Te}=Pe;be[pt]=_e,Mt=(0,da.Lm)([Mt,Te]),Object.assign(Tt,Pe.samplerTextureMap),vt--}}Pe&&!xt&&(xt=getVaryingType(_e,Pe))})),Pe){(0,$n.h)(pt);const _e="".concat(ua).concat(Pe),be={"vs:#decl":"uniform vec2 ".concat(_e,";\n"),"vs:#main-start":"     vec2 ".concat(ca," = transform_getPos(").concat(_e,");\n     gl_Position = vec4(").concat(ca,", 0, 1.);\n")};Mt=(0,da.Lm)([Mt,be])}It=be.join("\n")}return{vs:It,targetTextureType:xt,inject:Mt,samplerTextureMap:Tt}}function getSizeUniforms(_e){let{sourceTextureMap:be,targetTextureVarying:Te,targetTexture:Pe}=_e;const pt={};let vt,xt;Te&&(({width:vt,height:xt}=Pe),pt["".concat(ua).concat(Te)]=[vt,xt]);for(const _e in be)({width:vt,height:xt}=be[_e]),pt["".concat(ua).concat(_e)]=[vt,xt];return pt}function getAttributeDefinition(_e){return getQualifierDetails(_e,["attribute","in"])}function getSamplerDeclerations(_e){const be="".concat("transform_uSampler_").concat(_e),Te="".concat(ua).concat(_e);return{samplerName:be,sizeName:Te,uniformDeclerations:"  uniform sampler2D ".concat(be,";\n  uniform vec2 ").concat(Te,";")}}function getVaryingType(_e,be){const Te=getQualifierDetails(_e,["varying","out"]);return Te&&Te.name===be?Te.type:null}function processAttributeDefinition(_e,be){const Te={},Pe=getAttributeDefinition(_e);if(!Pe)return null;const{type:pt,name:vt}=Pe;if(vt&&be[vt]){const be="// ".concat(_e," => Replaced by Transform with a sampler"),{samplerName:Pe,sizeName:xt,uniformDeclerations:Tt}=getSamplerDeclerations(vt),It=typeToChannelSuffix(pt),Mt="  ".concat(pt," ").concat(vt," = transform_getInput(").concat(Pe,", ").concat(xt,").").concat(It,";\n");Te[Pe]=vt;return{updatedLine:be,inject:{"vs:#decl":Tt,"vs:#main-start":Mt},samplerTextureMap:Te}}return null}const ga={10241:9728,10240:9728,10242:33071,10243:33071};class ma{constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=_e,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(be),Object.seal(this)}updateModelProps(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const be=this._processVertexShader(_e);return Object.assign({},_e,be)}getDrawOptions(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:be,sourceTextures:Te,framebuffer:Pe,targetTexture:pt}=this.bindings[this.currentIndex],vt=Object.assign({},be,_e.attributes),xt=Object.assign({},_e.uniforms),Tt=Object.assign({},_e.parameters);let It=_e.discard;if(this.hasSourceTextures||this.hasTargetTexture){vt.transform_elementID=this.elementIDBuffer;for(const _e in this.samplerTextureMap){const be=this.samplerTextureMap[_e];xt[_e]=Te[be]}this._setSourceTextureParameters();const _e=getSizeUniforms({sourceTextureMap:Te,targetTextureVarying:this.targetTextureVarying,targetTexture:pt});Object.assign(xt,_e)}return this.hasTargetTexture&&(It=!1,Tt.viewport=[0,0,Pe.width,Pe.height]),{attributes:vt,framebuffer:Pe,uniforms:xt,discard:It,parameters:Tt}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupTextures(_e)}getTargetTexture(){const{targetTexture:_e}=this.bindings[this.currentIndex];return _e}getData(){let{packed:_e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{framebuffer:be}=this.bindings[this.currentIndex],Te=(0,na.z6)(be);if(!_e)return Te;const Pe=Te.constructor,pt=typeToChannelCount(this.targetTextureType),vt=new Pe(Te.length*pt/4);let xt=0;for(let _e=0;_e<Te.length;_e+=4)for(let be=0;be<pt;be++)vt[xt++]=Te[_e+be];return vt}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_targetTextureVarying:be,_swapTexture:Te}=_e;this._swapTexture=Te,this.targetTextureVarying=be,this.hasTargetTexture=be,this._setupTextures(_e)}_createTargetTexture(_e){const{sourceTextures:be,textureOrReference:Te}=_e;if(Te instanceof aa.Z)return Te;const Pe=be[Te];return Pe?(this._targetRefTexName=Te,this._createNewTexture(Pe)):null}_setupTextures(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:be,_sourceTextures:Te={},_targetTexture:Pe}=_e,pt=this._createTargetTexture({sourceTextures:Te,textureOrReference:Pe});this.hasSourceTextures=this.hasSourceTextures||Te&&Object.keys(Te).length>0,this._updateBindings({sourceBuffers:be,sourceTextures:Te,targetTexture:pt}),"elementCount"in _e&&this._updateElementIDBuffer(_e.elementCount)}_updateElementIDBuffer(_e){if("number"!=typeof _e||this.elementCount>=_e)return;const be=new Float32Array(_e);be.forEach(((_e,be,Te)=>{Te[be]=be})),this.elementIDBuffer?this.elementIDBuffer.setData({data:be}):this.elementIDBuffer=new Tt.Z(this.gl,{data:be,accessor:{size:1}}),this.elementCount=_e}_updateBindings(_e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],_e),this._swapTexture){const{sourceTextures:_e,targetTexture:be}=this._swapTextures(this.bindings[this.currentIndex]),Te=this._getNextIndex();this.bindings[Te]=this._updateBinding(this.bindings[Te],{sourceTextures:_e,targetTexture:be})}}_updateBinding(_e,be){const{sourceBuffers:Te,sourceTextures:Pe,targetTexture:pt}=be;if(_e||(_e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(_e.sourceTextures,Pe),Object.assign(_e.sourceBuffers,Te),pt){_e.targetTexture=pt;const{width:be,height:Te}=pt,{framebuffer:Pe}=_e;Pe?(Pe.update({attachments:{36064:pt},resizeAttachments:!1}),Pe.resize({width:be,height:Te})):_e.framebuffer=new ra.Z(this.gl,{id:"transform-framebuffer",width:be,height:Te,attachments:{36064:pt}})}return _e}_setSourceTextureParameters(){const _e=this.currentIndex,{sourceTextures:be}=this.bindings[_e];for(const _e in be)be[_e].setParameters(ga)}_swapTextures(_e){if(!this._swapTexture)return null;const be=Object.assign({},_e.sourceTextures);be[this._swapTexture]=_e.targetTexture;return{sourceTextures:be,targetTexture:_e.sourceTextures[this._swapTexture]}}_createNewTexture(_e){const be=(0,ia.h)(_e,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=be,be}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceTextures:be,targetTexture:Te}=this.bindings[this.currentIndex],{vs:Pe,uniforms:pt,targetTextureType:vt,inject:xt,samplerTextureMap:Tt}=updateForTextures({vs:_e.vs,sourceTextureMap:be,targetTextureVarying:this.targetTextureVarying,targetTexture:Te}),It=(0,da.Lm)([_e.inject||{},xt]);this.targetTextureType=vt,this.samplerTextureMap=Tt;return{vs:Pe,fs:_e._fs||getPassthroughFS({version:getShaderVersion(Pe),input:this.targetTextureVarying,inputType:vt,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[la].concat(_e.modules||[]):_e.modules,uniforms:pt,inject:It}}}var ya=Te(358),_a=Te(26047),va=Te(7944),xa=Te(14072);let ba=null;function getScratchArray(_e,be){var Te;return new _e((Te=_e.BYTES_PER_ELEMENT*be,(!ba||ba.byteLength<Te)&&(ba=new ArrayBuffer(Te)),ba),0,be)}function fillArray(_e){let{target:be,source:Te,start:Pe=0,count:pt=1}=_e;const vt=Te.length,xt=pt*vt;let Tt=0;for(let _e=Pe;Tt<vt;Tt++)be[_e++]=Te[Tt];for(;Tt<xt;)Tt<xt-Tt?(be.copyWithin(Pe+Tt,Pe,Pe+Tt),Tt*=2):(be.copyWithin(Pe+Tt,Pe,Pe+xt-Tt),Tt=xt);return be}var wa=Te(3485);class Ea extends Ln.Z{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(_e){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||((0,Pn.D0)(_e)||"Chrome"===(0,wa.Z)())}static getDefaultArray(_e){return _e.luma=_e.luma||{},_e.luma.defaultVertexArray||(_e.luma.defaultVertexArray=new Ea(_e,{handle:null,isDefaultArray:!0})),_e.luma.defaultVertexArray}static getMaxAttributes(_e){return Ea.MAX_ATTRIBUTES=Ea.MAX_ATTRIBUTES||_e.getParameter(34921),Ea.MAX_ATTRIBUTES}static setConstant(_e,be,Te){switch(Te.constructor){case Float32Array:Ea._setConstantFloatArray(_e,be,Te);break;case Int32Array:Ea._setConstantIntArray(_e,be,Te);break;case Uint32Array:Ea._setConstantUintArray(_e,be,Te);break;default:(0,$n.h)(!1)}}constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const Te=be.id||be.program&&be.program.id;super(_e,Object.assign({},be,{id:Te})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=be.isDefaultArray||!1,this.gl2=_e,this.initialize(be),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return Ea.getMaxAttributes(this.gl)}initialize(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(_e)}setProps(_e){return this}setElementBuffer(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,$n.h)(!_e||34963===_e.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind((()=>{this.gl.bindBuffer(34963,_e?_e.handle:null)})),this}setBuffer(_e,be,Te){if(34963===be.target)return this.setElementBuffer(be,Te);const{size:Pe,type:pt,stride:vt,offset:xt,normalized:Tt,integer:It,divisor:Mt}=Te,{gl:Lt,gl2:Ft}=this;return _e=Number(_e),this.bind((()=>{Lt.bindBuffer(34962,be.handle),It?((0,$n.h)((0,Pn.D0)(Lt)),Ft.vertexAttribIPointer(_e,Pe,pt,vt,xt)):Lt.vertexAttribPointer(_e,Pe,pt,Tt,vt,xt),Lt.enableVertexAttribArray(_e),Ft.vertexAttribDivisor(_e,Mt||0)})),this}enable(_e){let be=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!be&&0===_e&&!Ea.isSupported(this.gl,{constantAttributeZero:!0})||(_e=Number(_e),this.bind((()=>be?this.gl.enableVertexAttribArray(_e):this.gl.disableVertexAttribArray(_e)))),this}getConstantBuffer(_e,be){const Te=this._normalizeConstantArrayValue(be),Pe=Te.byteLength*_e,pt=Te.length*_e;let vt=!this.buffer;if(this.buffer=this.buffer||new Tt.Z(this.gl,Pe),vt=vt||this.buffer.reallocate(Pe),vt=vt||!this._compareConstantArrayValues(Te,this.bufferValue),vt){const _e=getScratchArray(be.constructor,pt);fillArray({target:_e,source:Te,start:0,count:pt}),this.buffer.subData(_e),this.bufferValue=be}return this.buffer}_normalizeConstantArrayValue(_e){return Array.isArray(_e)?new Float32Array(_e):_e}_compareConstantArrayValues(_e,be){if(!_e||!be||_e.length!==be.length||_e.constructor!==be.constructor)return!1;for(let Te=0;Te<_e.length;++Te)if(_e[Te]!==be[Te])return!1;return!0}static _setConstantFloatArray(_e,be,Te){switch(Te.length){case 1:_e.vertexAttrib1fv(be,Te);break;case 2:_e.vertexAttrib2fv(be,Te);break;case 3:_e.vertexAttrib3fv(be,Te);break;case 4:_e.vertexAttrib4fv(be,Te);break;default:(0,$n.h)(!1)}}static _setConstantIntArray(_e,be,Te){switch((0,$n.h)((0,Pn.D0)(_e)),Te.length){case 1:_e.vertexAttribI1iv(be,Te);break;case 2:_e.vertexAttribI2iv(be,Te);break;case 3:_e.vertexAttribI3iv(be,Te);break;case 4:_e.vertexAttribI4iv(be,Te);break;default:(0,$n.h)(!1)}}static _setConstantUintArray(_e,be,Te){switch((0,$n.h)((0,Pn.D0)(_e)),Te.length){case 1:_e.vertexAttribI1uiv(be,Te);break;case 2:_e.vertexAttribI2uiv(be,Te);break;case 3:_e.vertexAttribI3uiv(be,Te);break;case 4:_e.vertexAttribI4uiv(be,Te);break;default:(0,$n.h)(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(_e){return this.gl2.deleteVertexArray(_e),[this.elements]}_bindHandle(_e){this.gl2.bindVertexArray(_e)}_getParameter(_e,be){let{location:Te}=be;return(0,$n.h)(Number.isFinite(Te)),this.bind((()=>{switch(_e){case 34373:return this.gl.getVertexAttribOffset(Te,_e);default:return this.gl.getVertexAttrib(Te,_e)}}))}}var Ca=Te(37469);const Aa=/^(.+)__LOCATION_([0-9]+)$/,Da=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class ka{constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const Te=be.id||be.program&&be.program.id;this.id=Te,this.gl=_e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new Ea(_e),(0,Ca.F)(this,"VertexArray","v6.0",Da),this.initialize(be),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(_e)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:_e}=this.vertexArrayObject;return this.values=new Array(_e).fill(null),this.accessors=new Array(_e).fill(null),this.unused={},this.drawParams=null,this}setProps(_e){return"program"in _e&&(this.configuration=_e.program&&_e.program.configuration),"configuration"in _e&&(this.configuration=_e.configuration),"attributes"in _e&&this.setAttributes(_e.attributes),"elements"in _e&&this.setElementBuffer(_e.elements),"bindOnUse"in _e&&(_e=_e.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(_e){return Object.assign(this.attributes,_e),this.vertexArrayObject.bind((()=>{for(const be in _e){const Te=_e[be];this._setAttribute(be,Te)}this.gl.bindBuffer(34962,null)})),this}setElementBuffer(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=_e,this.elementsAccessor=be,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(_e,be),this}setBuffer(_e,be){let Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===be.target)return this.setElementBuffer(be,Te);const{location:Pe,accessor:pt}=this._resolveLocationAndAccessor(_e,be,be.accessor,Te);return Pe>=0&&(this.values[Pe]=be,this.accessors[Pe]=pt,this.clearDrawParams(),this.vertexArrayObject.setBuffer(Pe,be,pt)),this}setConstant(_e,be){let Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:Pe,accessor:pt}=this._resolveLocationAndAccessor(_e,be,Object.assign({size:be.length},Te));return Pe>=0&&(be=this.vertexArrayObject._normalizeConstantArrayValue(be),this.values[Pe]=be,this.accessors[Pe]=pt,this.clearDrawParams(),this.vertexArrayObject.enable(Pe,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new Tt.Z(this.gl,{accessor:{size:4}});for(let _e=0;_e<this.vertexArrayObject.MAX_ATTRIBUTES;_e++)this.values[_e]instanceof Tt.Z&&(this.gl.disableVertexAttribArray(_e),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(_e,1,5126,!1,0,0))})),this}bindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.setElementBuffer(this.elements);for(let _e=0;_e<this.vertexArrayObject.MAX_ATTRIBUTES;_e++){const be=this.values[_e];be instanceof Tt.Z&&this.setBuffer(_e,be)}})),this}bindForDraw(_e,be,Te){let Pe;return this.vertexArrayObject.bind((()=>{this._setConstantAttributes(_e,be),Pe=Te()})),Pe}_resolveLocationAndAccessor(_e,be,Te,Pe){const pt={location:-1,accessor:null},{location:vt,name:xt}=this._getAttributeIndex(_e);if(!Number.isFinite(vt)||vt<0)return this.unused[_e]=be,Pn.cM.once(3,(()=>"unused value ".concat(_e," in ").concat(this.id)))(),pt;const Tt=this._getAttributeInfo(xt||vt);if(!Tt)return pt;const It=this.accessors[vt]||{},Mt=xa.Z.resolve(Tt.accessor,It,Te,Pe),{size:Lt,type:Ft}=Mt;return(0,$n.h)(Number.isFinite(Lt)&&Number.isFinite(Ft)),{location:vt,accessor:Mt}}_getAttributeInfo(_e){return this.configuration&&this.configuration.getAttributeInfo(_e)}_getAttributeIndex(_e){const be=Number(_e);if(Number.isFinite(be))return{location:be};const Te=Aa.exec(_e),Pe=Te?Te[1]:_e,pt=Te?Number(Te[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(Pe)+pt,name:Pe}:{location:-1}}_setAttribute(_e,be){if(be instanceof Tt.Z)this.setBuffer(_e,be);else if(Array.isArray(be)&&be.length&&be[0]instanceof Tt.Z){const Te=be[0],Pe=be[1];this.setBuffer(_e,Te,Pe)}else if(ArrayBuffer.isView(be)||Array.isArray(be)){const Te=be;this.setConstant(_e,Te)}else{if(!(be.buffer instanceof Tt.Z))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");{const Te=be;this.setBuffer(_e,Te.buffer,Te)}}}_setConstantAttributes(_e,be){const Te=Math.max(0|_e,0|be);let Pe=this.values[0];ArrayBuffer.isView(Pe)&&this._setConstantAttributeZero(Pe,Te);for(let _e=1;_e<this.vertexArrayObject.MAX_ATTRIBUTES;_e++)Pe=this.values[_e],ArrayBuffer.isView(Pe)&&this._setConstantAttribute(_e,Pe)}_setConstantAttributeZero(_e,be){if(Ea.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,_e);const Te=this.vertexArrayObject.getConstantBuffer(be,_e);this.vertexArrayObject.setBuffer(0,Te,this.accessors[0])}_setConstantAttribute(_e,be){Ea.setConstant(this.gl,_e,be)}_updateDrawParams(){const _e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let be=0;be<this.vertexArrayObject.MAX_ATTRIBUTES;be++)this._updateDrawParamsForLocation(_e,be);return this.elements&&(_e.elementCount=this.elements.getElementCount(this.elements.accessor),_e.isIndexed=!0,_e.indexType=this.elementsAccessor.type||this.elements.accessor.type,_e.indexOffset=this.elementsAccessor.offset||0),_e.indexCount===1/0&&(_e.indexCount=0),_e.vertexCount===1/0&&(_e.vertexCount=0),_e.instanceCount===1/0&&(_e.instanceCount=0),_e}_updateDrawParamsForLocation(_e,be){const Te=this.values[be],Pe=this.accessors[be];if(!Te)return;const{divisor:pt}=Pe,vt=pt>0;if(_e.isInstanced=_e.isInstanced||vt,Te instanceof Tt.Z){const be=Te;if(vt){const Te=be.getVertexCount(Pe);_e.instanceCount=Math.min(_e.instanceCount,Te)}else{const Te=be.getVertexCount(Pe);_e.vertexCount=Math.min(_e.vertexCount,Te)}}}setElements(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Pn.cM.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(_e,be)}}var Ia=Te(79579),La=Te(38522);function formatArrayValue(_e,be){const{maxElts:Te=16,size:Pe=1}=be;let pt="[";for(let vt=0;vt<_e.length&&vt<Te;++vt)vt>0&&(pt+=",".concat(vt%Pe==0?" ":"")),pt+=formatValue(_e[vt],be);const vt=_e.length>Te?"...":"]";return"".concat(pt).concat(vt)}function formatValue(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const Te=1e-16,{isInteger:Pe=!1}=be;if(Array.isArray(_e)||ArrayBuffer.isView(_e))return formatArrayValue(_e,be);if(!Number.isFinite(_e))return String(_e);if(Math.abs(_e)<Te)return Pe?"0":"0.";if(Pe)return _e.toFixed(0);if(Math.abs(_e)>100&&Math.abs(_e)<1e4)return _e.toFixed(0);const pt=_e.toPrecision(2),vt=pt.indexOf(".0");return vt===pt.length-2?pt.slice(0,-1):pt}function getDebugTableForVertexArray(_e){let{vertexArray:be,header:Te="Attributes"}=_e;if(!be.configuration)return{};const Pe={};be.elements&&(Pe.ELEMENT_ARRAY_BUFFER=getDebugTableRow(be,be.elements,null,Te));const pt=be.values;for(const _e in pt){const vt=be._getAttributeInfo(_e);if(vt){let xt="".concat(_e,": ").concat(vt.name);const Tt=be.accessors[vt.location];Tt&&(xt="".concat(_e,": ").concat(getGLSLDeclaration(vt.name,Tt))),Pe[xt]=getDebugTableRow(be,pt[_e],Tt,Te)}}return Pe}function getDebugTableRow(_e,be,Te,Pe){const{gl:pt}=_e;if(!be)return{[Pe]:"null","Format ":"N/A"};let vt,xt,It,Mt="NOT PROVIDED",Lt=1,Ft=0,Ot=0;if(Te&&(Mt=Te.type,Lt=Te.size,Mt=String(Mt).replace("Array",""),vt=-1!==Mt.indexOf("nt")),be instanceof Tt.Z){const _e=be,{data:Tt,changed:Vt}=_e.getDebugData();let qt;if(xt=Vt?"*":"",It=Tt,Ot=_e.byteLength,Ft=Ot/Tt.BYTES_PER_ELEMENT/Lt,Te){const _e=Te.divisor>0;qt="".concat(_e?"I ":"P "," ").concat(Ft," (x").concat(Lt,"=").concat(Ot," bytes ").concat((0,Ia.km)(pt,Mt),")")}else vt=!0,qt="".concat(Ot," bytes");return{[Pe]:"".concat(xt).concat(formatValue(It,{size:Lt,isInteger:vt})),"Format ":qt}}return It=be,Lt=be.length,Mt=String(be.constructor.name).replace("Array",""),vt=-1!==Mt.indexOf("nt"),{[Pe]:"".concat(formatValue(It,{size:Lt,isInteger:vt})," (constant)"),"Format ":"".concat(Lt,"x").concat(Mt," (constant)")}}function getGLSLDeclaration(_e,be){const{type:Te,size:Pe}=be,pt=(0,La.jG)(Te,Pe);return pt?"".concat(_e," (").concat(pt.name,")"):_e}function getDebugTableForUniforms(_e){let{header:be="Uniforms",program:Te,uniforms:Pe,undefinedOnly:pt=!1}=_e;(0,$n.h)(Te);const vt=".*Matrix",xt=Te._uniformSetters,Tt={},It=Object.keys(xt).sort();let Mt=0;for(const _e of It)_e.match(".*_.*")||_e.match(vt)||addUniformToTable({table:Tt,header:be,uniforms:Pe,uniformName:_e,undefinedOnly:pt})&&Mt++;for(const _e of It)_e.match(vt)&&addUniformToTable({table:Tt,header:be,uniforms:Pe,uniformName:_e,undefinedOnly:pt})&&Mt++;for(const _e of It)Tt[_e]||addUniformToTable({table:Tt,header:be,uniforms:Pe,uniformName:_e,undefinedOnly:pt})&&Mt++;let Lt=0;const Ft={};if(!pt)for(const _e in Pe){const Te=Pe[_e];Tt[_e]||(Lt++,Ft[_e]={Type:"NOT USED: ".concat(Te),[be]:formatValue(Te)})}return{table:Tt,count:Mt,unusedTable:Ft,unusedCount:Lt}}function addUniformToTable(_e){let{table:be,header:Te,uniforms:Pe,uniformName:pt,undefinedOnly:vt}=_e;const xt=Pe[pt],Tt=isUniformDefined(xt);return(!vt||!Tt)&&(be[pt]={[Te]:Tt?formatValue(xt):"N/A","Uniform Type":Tt?xt:"NOT PROVIDED"},!0)}function isUniformDefined(_e){return null!=_e}function getDebugTableForProgramConfiguration(_e){const be={},Te="Accessors for ".concat(_e.id);for(const Pe of _e.attributeInfos)if(Pe){const _e=debug_program_configuration_getGLSLDeclaration(Pe);be["in ".concat(_e)]={[Te]:JSON.stringify(Pe.accessor)}}for(const Pe of _e.varyingInfos)if(Pe){const _e=debug_program_configuration_getGLSLDeclaration(Pe);be["out ".concat(_e)]={[Te]:JSON.stringify(Pe.accessor)}}return be}function debug_program_configuration_getGLSLDeclaration(_e){const{type:be,size:Te}=_e.accessor,Pe=(0,La.jG)(be,Te);return Pe?"".concat(Pe.name," ").concat(_e.name):_e.name}const Fa={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function getBuffersFromGeometry(_e,be,Te){const Pe={};let pt=be.indices;for(const vt in be.attributes){const xt=be.attributes[vt],It=mapAttributeName(vt,Te);if("indices"===vt)pt=xt;else if(xt.constant)Pe[It]=xt.value;else{const be=xt.value,Te={...xt};delete Te.value,Pe[It]=[new Tt.Z(_e,be),Te],inferAttributeAccessor(vt,Te)}}if(pt){const be=pt.value||pt;(0,$n.h)(be instanceof Uint16Array||be instanceof Uint32Array,'attribute array for "indices" must be of integer type');const Te={size:1,isIndexed:void 0===pt.isIndexed||pt.isIndexed};Pe.indices=[new Tt.Z(_e,{data:be,target:34963}),Te]}return Pe}function mapAttributeName(_e,be){const{attributeMap:Te=Fa}=be||{};return Te&&Te[_e]||_e}function inferAttributeAccessor(_e,be){let Te;switch(_e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":Te="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":Te="vectors"}switch(Te){case"vectors":be.size=be.size||3;break;case"uvs":be.size=be.size||2}(0,$n.h)(Number.isFinite(be.size),"attribute ".concat(_e," needs size"))}const NOOP=()=>{},Ba={};class za{constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:Te=(0,Fn.hQ)("model")}=be;(0,$n.h)((0,Pn.UF)(_e)),this.id=Te,this.gl=_e,this.id=be.id||(0,Fn.hQ)("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(be)}initialize(_e){this.props={},this.programManager=_e.programManager||ya.Z.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:be=null,vs:Te,fs:Pe,modules:pt,defines:vt,inject:xt,varyings:Tt,bufferMode:It,transpileToGLSL100:Mt}=_e;this.programProps={program:be,vs:Te,fs:Pe,modules:pt,defines:vt,inject:xt,varyings:Tt,bufferMode:It,transpileToGLSL100:Mt},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(_e.moduleSettings))),this.drawMode=void 0!==_e.drawMode?_e.drawMode:4,this.vertexCount=_e.vertexCount||0,this.geometryBuffers={},this.isInstanced=_e.isInstanced||_e.instanced||_e.instanceCount>0,this._setModelProps(_e),this.geometry={},(0,$n.h)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(_e){this._setModelProps(_e)}delete(){for(const _e in this._attributes)this._attributes[_e]!==this.attributes[_e]&&this._attributes[_e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(_e){const{program:be,vs:Te,fs:Pe,modules:pt,defines:vt,inject:xt,varyings:Tt,bufferMode:It,transpileToGLSL100:Mt}=_e;this.programProps={program:be,vs:Te,fs:Pe,modules:pt,defines:vt,inject:xt,varyings:Tt,bufferMode:It,transpileToGLSL100:Mt},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(_e){return this.drawMode=_e,this}setVertexCount(_e){return(0,$n.h)(Number.isFinite(_e)),this.vertexCount=_e,this}setInstanceCount(_e){return(0,$n.h)(Number.isFinite(_e)),this.instanceCount=_e,this}setGeometry(_e){return this.drawMode=_e.drawMode,this.vertexCount=_e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=getBuffersFromGeometry(this.gl,_e),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,Fn.nK)(_e))return this;const be={};for(const Te in _e){const Pe=_e[Te];be[Te]=Pe.getValue?Pe.getValue():Pe}return this.vertexArray.setAttributes(be),this}setUniforms(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,_e),this}getModuleUniforms(_e){this._checkProgram();const be=this.programManager.getUniforms(this.program);return be?be(_e):{}}updateModuleSettings(_e){const be=this.getModuleUniforms(_e||{});return this.setUniforms(be)}clear(_e){return(0,_a.Z)(this.program.gl,_e),this}draw(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:be=null,framebuffer:Te,uniforms:Pe={},attributes:pt={},transformFeedback:vt=this.transformFeedback,parameters:xt={},vertexArray:Tt=this.vertexArray}=_e;let It;this.setAttributes(pt),this.updateModuleSettings(be),this.setUniforms(Pe),Pn.cM.priority>=2&&(It=this._logDrawCallStart(2));const Mt=this.vertexArray.getDrawParams(),{isIndexed:Lt=Mt.isIndexed,indexType:Ft=Mt.indexType,indexOffset:Ot=Mt.indexOffset,vertexArrayInstanced:Vt=Mt.isInstanced}=this.props;Vt&&!this.isInstanced&&Pn.cM.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:qt,instanceCount:Wt}=this,{onBeforeRender:$t=NOOP,onAfterRender:Kt=NOOP}=this.props;$t(),this.program.setUniforms(this.uniforms);const Jt=this.program.draw(Object.assign(Ba,_e,{logPriority:It,uniforms:null,framebuffer:Te,parameters:xt,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:Tt,transformFeedback:vt,isIndexed:Lt,indexType:Ft,isInstanced:qt,instanceCount:Wt,offset:Lt?Ot:0}));return Kt(),Pn.cM.priority>=2&&this._logDrawCallEnd(It,Tt,Te),Jt}transform(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:be=!0,feedbackBuffers:Te,unbindModels:Pe=[]}=_e;let{parameters:pt}=_e;Te&&this._setFeedbackBuffers(Te),be&&(pt=Object.assign({},pt,{35977:be})),Pe.forEach((_e=>_e.vertexArray.unbindBuffers()));try{this.draw(Object.assign({},_e,{parameters:pt}))}finally{Pe.forEach((_e=>_e.vertexArray.bindBuffers()))}return this}render(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Pn.cM.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(_e).draw()}_setModelProps(_e){Object.assign(this.props,_e),"uniforms"in _e&&this.setUniforms(_e.uniforms),"pickable"in _e&&(this.pickable=_e.pickable),"instanceCount"in _e&&(this.instanceCount=_e.instanceCount),"geometry"in _e&&this.setGeometry(_e.geometry),"attributes"in _e&&this.setAttributes(_e.attributes),"_feedbackBuffers"in _e&&this._setFeedbackBuffers(_e._feedbackBuffers)}_checkProgram(){if(!(this._programDirty||this.programManager.stateHash!==this._programManagerState))return;let{program:_e}=this.programProps;if(_e)this._managedProgram=!1;else{const{vs:be,fs:Te,modules:Pe,inject:pt,defines:vt,varyings:xt,bufferMode:Tt,transpileToGLSL100:It}=this.programProps;_e=this.programManager.get({vs:be,fs:Te,modules:Pe,inject:pt,defines:vt,varyings:xt,bufferMode:Tt,transpileToGLSL100:It}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}(0,$n.h)(_e instanceof va.Z,"Model needs a program"),this._programDirty=!1,_e!==this.program&&(this.program=_e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new ka(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const _e in this.geometryBuffers){const be=this.geometryBuffers[_e][0]||this.geometryBuffers[_e];be instanceof Tt.Z&&be.delete()}}_setAnimationProps(_e){this.animated&&(0,$n.h)(_e,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,Fn.nK)(_e))return this;const{gl:be}=this.program;return this.transformFeedback=this.transformFeedback||new jn(be,{program:this.program}),this.transformFeedback.setBuffers(_e),this}_logDrawCallStart(_e){const be=_e>3?0:1e4;if(!(Date.now()-this.lastLogTime<be))return this.lastLogTime=Date.now(),Pn.cM.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:Pn.cM.level<=2})(),_e}_logDrawCallEnd(_e,be,Te,Pe){if(void 0===_e)return;const pt=getDebugTableForVertexArray({vertexArray:be,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:vt,unusedTable:xt,unusedCount:Tt}=getDebugTableForUniforms({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,Te)}),{table:It,count:Mt}=getDebugTableForUniforms({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,Te),undefinedOnly:!0});Mt>0&&Pn.cM.log("MISSING UNIFORMS",Object.keys(It))(),Tt>0&&Pn.cM.log("UNUSED UNIFORMS",Object.keys(xt))();const Lt=getDebugTableForProgramConfiguration(this.vertexArray.configuration);Pn.cM.table(_e,pt)(),Pn.cM.table(_e,vt)(),Pn.cM.table(_e+1,Lt)(),Pe&&Pe.log({logLevel:2,message:"Rendered to ".concat(Pe.id)}),Pn.cM.groupEnd(2)()}}class ja{static isSupported(_e){return(0,Pn.D0)(_e)}constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=_e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(be),Object.seal(this)}delete(){const{model:_e,bufferTransform:be,textureTransform:Te}=this;_e&&_e.delete(),be&&be.delete(),Te&&Te.delete()}run(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:be=!0}=_e,Te=this._updateDrawOptions(_e);be&&Te.framebuffer&&Te.framebuffer.clear({color:!0}),this.model.transform(Te)}swap(){let _e=!1;const be=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const Te of be)_e=_e||Te.swap();(0,$n.h)(_e,"Nothing to swap")}getBuffer(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(_e)}getData(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const be=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const Te of be){const be=Te.getData(_e);if(be)return be}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in _e&&this.model.setVertexCount(_e.elementCount);const be=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const Te of be)Te.update(_e)}_initialize(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:be}=this;this._buildResourceTransforms(be,_e),_e=this._updateModelProps(_e),this.model=new za(be,Object.assign({},_e,{fs:_e.fs||getPassthroughFS({version:getShaderVersion(_e.vs)}),id:_e.id||"transform-model",drawMode:_e.drawMode||0,vertexCount:_e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(_e){let be=Object.assign({},_e);const Te=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const _e of Te)be=_e.updateModelProps(be);return be}_buildResourceTransforms(_e,be){canCreateBufferTransform(be)&&(this.bufferTransform=new ea(_e,be)),canCreateTextureTransform(be)&&(this.textureTransform=new ma(_e,be)),(0,$n.h)(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(_e){let be=Object.assign({},_e);const Te=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const _e of Te)be=Object.assign(be,_e.getDrawOptions(be));return be}}function canCreateBufferTransform(_e){return!((0,Fn.nK)(_e.feedbackBuffers)&&(0,Fn.nK)(_e.feedbackMap)&&!(_e.varyings&&_e.varyings.length>0))}function canCreateTextureTransform(_e){return!((0,Fn.nK)(_e._sourceTextures)&&!_e._targetTexture&&!_e._targetTextureVarying)}var Na=Te(53630);function getTransform(_e,be){const Te=getAttributeTypeFromSize(be.size);return new ja(_e,{vs:"\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n",defines:{ATTRIBUTE_TYPE:Te},varyings:["vCurrent"]})}function gpu_spring_transition_getTransform(_e,be,Te){const Pe=getAttributeTypeFromSize(be.size);return new ja(_e,{framebuffer:Te,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:Pe},varyings:["vNext"]})}function getTexture(_e){return new aa.Z(_e,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}function getFramebuffer(_e,be){return new ra.Z(_e,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:be}})}const Ga={interpolation:class{constructor({gl:_e,attribute:be,timeline:Te}){(0,Pe.Z)(this,"gl",void 0),(0,Pe.Z)(this,"type","interpolation"),(0,Pe.Z)(this,"attributeInTransition",void 0),(0,Pe.Z)(this,"settings",void 0),(0,Pe.Z)(this,"attribute",void 0),(0,Pe.Z)(this,"transition",void 0),(0,Pe.Z)(this,"currentStartIndices",void 0),(0,Pe.Z)(this,"currentLength",void 0),(0,Pe.Z)(this,"transform",void 0),(0,Pe.Z)(this,"buffers",void 0),this.gl=_e,this.transition=new Na.Z(Te),this.attribute=be,this.attributeInTransition=new Qt(_e,be.settings),this.currentStartIndices=be.startIndices,this.currentLength=0,this.transform=getTransform(_e,be);const pt={byteLength:0,usage:35050};this.buffers=[new Tt.Z(_e,pt),new Tt.Z(_e,pt)]}get inProgress(){return this.transition.inProgress}start(_e,be){if(_e.duration<=0)return void this.transition.cancel();this.settings=_e;const{gl:Te,buffers:Pe,attribute:pt}=this;cycleBuffers(Pe);const vt={numInstances:be,attribute:pt,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:_e.enter};for(const _e of Pe)padBuffer({buffer:_e,...vt});this.currentStartIndices=pt.startIndices,this.currentLength=getAttributeBufferLength(pt,be),this.attributeInTransition.setData({buffer:Pe[1],value:pt.value}),this.transition.start(_e),this.transform.update({elementCount:Math.floor(this.currentLength/pt.size),sourceBuffers:{aFrom:Pe[0],aTo:getSourceBufferAttribute(0,pt)},feedbackBuffers:{vCurrent:Pe[1]}})}update(){const _e=this.transition.update();if(_e){const{duration:_e,easing:be}=this.settings,{time:Te}=this.transition;let Pe=Te/_e;be&&(Pe=be(Pe)),this.transform.run({uniforms:{time:Pe}})}return _e}cancel(){this.transition.cancel(),this.transform.delete();for(const _e of this.buffers)_e.delete();this.buffers.length=0}},spring:class{constructor({gl:_e,attribute:be,timeline:Te}){(0,Pe.Z)(this,"gl",void 0),(0,Pe.Z)(this,"type","spring"),(0,Pe.Z)(this,"attributeInTransition",void 0),(0,Pe.Z)(this,"settings",void 0),(0,Pe.Z)(this,"attribute",void 0),(0,Pe.Z)(this,"transition",void 0),(0,Pe.Z)(this,"currentStartIndices",void 0),(0,Pe.Z)(this,"currentLength",void 0),(0,Pe.Z)(this,"texture",void 0),(0,Pe.Z)(this,"framebuffer",void 0),(0,Pe.Z)(this,"transform",void 0),(0,Pe.Z)(this,"buffers",void 0),this.gl=_e,this.type="spring",this.transition=new Na.Z(Te),this.attribute=be,this.attributeInTransition=new Qt(_e,{...be.settings,normalized:!1}),this.currentStartIndices=be.startIndices,this.currentLength=0,this.texture=getTexture(_e),this.framebuffer=getFramebuffer(_e,this.texture),this.transform=gpu_spring_transition_getTransform(_e,be,this.framebuffer);const pt={byteLength:0,usage:35050};this.buffers=[new Tt.Z(_e,pt),new Tt.Z(_e,pt),new Tt.Z(_e,pt)]}get inProgress(){return this.transition.inProgress}start(_e,be){const{gl:Te,buffers:Pe,attribute:pt}=this,vt={numInstances:be,attribute:pt,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:_e.enter};for(const _e of Pe)padBuffer({buffer:_e,...vt});this.settings=_e,this.currentStartIndices=pt.startIndices,this.currentLength=getAttributeBufferLength(pt,be),this.attributeInTransition.setData({buffer:Pe[1],value:pt.value}),this.transition.start({..._e,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/pt.size),sourceBuffers:{aTo:getSourceBufferAttribute(0,pt)}})}update(){const{buffers:_e,transform:be,framebuffer:Te,transition:Pe}=this;if(!Pe.update())return!1;const pt=this.settings;be.update({sourceBuffers:{aPrev:_e[0],aCur:_e[1]},feedbackBuffers:{vNext:_e[2]}}),be.run({framebuffer:Te,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:pt.stiffness,damping:pt.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),cycleBuffers(_e),this.attributeInTransition.setData({buffer:_e[1],value:this.attribute.value});return(0,na.z6)(Te)[0]>0||Pe.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const _e of this.buffers)_e.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}};class Ha{constructor(_e,{id:be,timeline:Te}){(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"isSupported",void 0),(0,Pe.Z)(this,"gl",void 0),(0,Pe.Z)(this,"timeline",void 0),(0,Pe.Z)(this,"transitions",void 0),(0,Pe.Z)(this,"needsRedraw",void 0),(0,Pe.Z)(this,"numInstances",void 0),this.id=be,this.gl=_e,this.timeline=Te,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=ja.isSupported(_e)}finalize(){for(const _e in this.transitions)this._removeTransition(_e)}update({attributes:_e,transitions:be,numInstances:Te}){this.numInstances=Te||1;for(const Te in _e){const Pe=_e[Te],pt=Pe.getTransitionSetting(be);pt&&this._updateAttribute(Te,Pe,pt)}for(const Te in this.transitions){const Pe=_e[Te];Pe&&Pe.getTransitionSetting(be)||this._removeTransition(Te)}}hasAttribute(_e){const be=this.transitions[_e];return be&&be.inProgress}getAttributes(){const _e={};for(const be in this.transitions){const Te=this.transitions[be];Te.inProgress&&(_e[be]=Te.attributeInTransition)}return _e}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const _e in this.transitions){this.transitions[_e].update()&&(this.needsRedraw=!0)}const _e=this.needsRedraw;return this.needsRedraw=!1,_e}_removeTransition(_e){this.transitions[_e].cancel(),delete this.transitions[_e]}_updateAttribute(_e,be,Te){const Pe=this.transitions[_e];let pt=!Pe||Pe.type!==Te.type;if(pt){if(!this.isSupported)return void Ft.Z.warn("WebGL2 not supported by this browser. Transition for ".concat(_e," is disabled."))();Pe&&this._removeTransition(_e);const vt=Ga[Te.type];vt?this.transitions[_e]=new vt({attribute:be,timeline:this.timeline,gl:this.gl}):(Ft.Z.error("unsupported transition type '".concat(Te.type,"'"))(),pt=!1)}(pt||be.needsRedraw())&&(this.needsRedraw=!0,this.transitions[_e].start(Te,this.numInstances))}}const $a="attributeManager.invalidate";class Ja{constructor(_e,{id:be="attribute-manager",stats:Te,timeline:pt}={}){(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"gl",void 0),(0,Pe.Z)(this,"attributes",void 0),(0,Pe.Z)(this,"updateTriggers",void 0),(0,Pe.Z)(this,"needsRedraw",void 0),(0,Pe.Z)(this,"userData",void 0),(0,Pe.Z)(this,"stats",void 0),(0,Pe.Z)(this,"attributeTransitionManager",void 0),this.id=be,this.gl=_e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=Te,this.attributeTransitionManager=new Ha(_e,{id:"".concat(be,"-transitions"),timeline:pt}),Object.seal(this)}finalize(){for(const _e in this.attributes)this.attributes[_e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(_e={clearRedrawFlags:!1}){const be=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!_e.clearRedrawFlags,be&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(_e){this._add(_e)}addInstanced(_e){this._add(_e,{instanced:1})}remove(_e){for(const be of _e)void 0!==this.attributes[be]&&(this.attributes[be].delete(),delete this.attributes[be])}invalidate(_e,be){const Te=this._invalidateTrigger(_e,be);(0,an.Z)($a,this,_e,Te)}invalidateAll(_e){for(const be in this.attributes)this.attributes[be].setNeedsUpdate(be,_e);(0,an.Z)($a,this,"all")}update({data:_e,numInstances:be,startIndices:Te=null,transitions:Pe,props:pt={},buffers:vt={},context:xt={}}){let Tt=!1;(0,an.Z)("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const Pe in this.attributes){const It=this.attributes[Pe],Mt=It.settings.accessor;It.startIndices=Te,It.numInstances=be,pt[Pe]&&Ft.Z.removed("props.".concat(Pe),"data.attributes.".concat(Pe))(),It.setExternalBuffer(vt[Pe])||It.setBinaryValue("string"==typeof Mt?vt[Mt]:void 0,_e.startIndices)||"string"==typeof Mt&&!vt[Mt]&&It.setConstantValue(pt[Mt])||It.needsUpdate()&&(Tt=!0,this._updateAttribute({attribute:It,numInstances:be,data:_e,props:pt,context:xt})),this.needsRedraw=this.needsRedraw||It.needsRedraw()}Tt&&(0,an.Z)("attributeManager.updateEnd",this,be),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:be,transitions:Pe})}updateTransition(){const{attributeTransitionManager:_e}=this,be=_e.run();return this.needsRedraw=this.needsRedraw||be,be}getAttributes(){return this.attributes}getChangedAttributes(_e={clearChangedFlags:!1}){const{attributes:be,attributeTransitionManager:Te}=this,Pe={...Te.getAttributes()};for(const pt in be){const vt=be[pt];vt.needsRedraw(_e)&&!Te.hasAttribute(pt)&&(Pe[pt]=vt)}return Pe}getShaderAttributes(_e,be={}){_e||(_e=this.getAttributes());const Te={};for(const Pe in _e)be[Pe]||Object.assign(Te,_e[Pe].getShaderAttributes());return Te}_add(_e,be={}){for(const Te in _e){const Pe=_e[Te];this.attributes[Te]=this._createAttribute(Te,Pe,be)}this._mapUpdateTriggersToAttributes()}_createAttribute(_e,be,Te){const Pe={...be,id:_e,size:(be.isIndexed?1:be.size)||1,divisor:Te.instanced?1:be.divisor||0};return new Qt(this.gl,Pe)}_mapUpdateTriggersToAttributes(){const _e={};for(const be in this.attributes){this.attributes[be].getUpdateTriggers().forEach((Te=>{_e[Te]||(_e[Te]=[]),_e[Te].push(be)}))}this.updateTriggers=_e}_invalidateTrigger(_e,be){const{attributes:Te,updateTriggers:Pe}=this,pt=Pe[_e];return pt&&pt.forEach((_e=>{const Pe=Te[_e];Pe&&Pe.setNeedsUpdate(Pe.id,be)})),pt}_updateAttribute(_e){const{attribute:be,numInstances:Te}=_e;if((0,an.Z)("attribute.updateStart",be),be.constant)return void be.setConstantValue(be.value);be.allocate(Te)&&(0,an.Z)("attribute.allocate",be,Te);be.updateBuffer(_e)&&(this.needsRedraw=!0,(0,an.Z)("attribute.updateEnd",be,Te))}}var sr=Te(14034);class ur extends Na.Z{get value(){return this._value}_onUpdate(){const{time:_e,settings:{fromValue:be,toValue:Te,duration:Pe,easing:pt}}=this,vt=pt(_e/Pe);this._value=(0,sr.t7)(be,Te,vt)}}const cr=1e-5;function updateSpringElement(_e,be,Te,Pe,pt){const vt=be-_e;return(Te-be)*pt+-vt*Pe+vt+be}function updateSpring(_e,be,Te,Pe,pt){if(Array.isArray(Te)){const vt=[];for(let xt=0;xt<Te.length;xt++)vt[xt]=updateSpringElement(_e[xt],be[xt],Te[xt],Pe,pt);return vt}return updateSpringElement(_e,be,Te,Pe,pt)}function distance(_e,be){if(Array.isArray(_e)){let Te=0;for(let Pe=0;Pe<_e.length;Pe++){const pt=_e[Pe]-be[Pe];Te+=pt*pt}return Math.sqrt(Te)}return Math.abs(_e-be)}class pr extends Na.Z{get value(){return this._currValue}_onUpdate(){const{fromValue:_e,toValue:be,damping:Te,stiffness:Pe}=this.settings,{_prevValue:pt=_e,_currValue:vt=_e}=this;let xt=updateSpring(pt,vt,be,Te,Pe);const Tt=distance(xt,be),It=distance(xt,vt);Tt<cr&&It<cr&&(xt=be,this.end()),this._prevValue=vt,this._currValue=xt}}const mr={interpolation:ur,spring:pr};class yr{constructor(_e){this.transitions=new Map,this.timeline=_e}get active(){return this.transitions.size>0}add(_e,be,Te,Pe){const{transitions:pt}=this;if(pt.has(_e)){const Te=pt.get(_e),{value:Pe=Te.settings.fromValue}=Te;be=Pe,this.remove(_e)}if(!(Pe=normalizeTransitionSettings(Pe)))return;const vt=mr[Pe.type];if(!vt)return void Ft.Z.error("unsupported transition type '".concat(Pe.type,"'"))();const xt=new vt(this.timeline);xt.start({...Pe,fromValue:be,toValue:Te}),pt.set(_e,xt)}remove(_e){const{transitions:be}=this;be.has(_e)&&(be.get(_e).cancel(),be.delete(_e))}update(){const _e={};for(const[be,Te]of this.transitions)Te.update(),_e[be]=Te.value,Te.inProgress||this.remove(be);return _e}clear(){for(const _e of this.transitions.keys())this.remove(_e)}}var _r=Te(85409);function validateProps(_e){const be=getPropTypes(_e);for(const Te in be){const Pe=be[Te],{validate:pt}=Pe;if(pt&&!pt(_e[Te],Pe))throw new Error("Invalid prop ".concat(Te,": ").concat(_e[Te]))}}function diffProps(_e,be){const Te=compareProps({newProps:_e,oldProps:be,propTypes:getPropTypes(_e),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),Pe=diffDataProps(_e,be);let pt=!1;return Pe||(pt=diffUpdateTriggers(_e,be)),{dataChanged:Pe,propsChanged:Te,updateTriggersChanged:pt,extensionsChanged:diffExtensions(_e,be),transitionsChanged:diffTransitions(_e,be)}}function diffTransitions(_e,be){if(!_e.transitions)return!1;const Te={},Pe=getPropTypes(_e);let pt=!1;for(const vt in _e.transitions){const xt=Pe[vt],Tt=xt&&xt.type;("number"===Tt||"color"===Tt||"array"===Tt)&&comparePropValues(_e[vt],be[vt],xt)&&(Te[vt]=!0,pt=!0)}return!!pt&&Te}function compareProps({newProps:_e,oldProps:be,ignoreProps:Te={},propTypes:Pe={},triggerName:pt="props"}){if(be===_e)return!1;if("object"!=typeof _e||null===_e)return"".concat(pt," changed shallowly");if("object"!=typeof be||null===be)return"".concat(pt," changed shallowly");for(const vt of Object.keys(_e))if(!(vt in Te)){if(!(vt in be))return"".concat(pt,".").concat(vt," added");const Te=comparePropValues(_e[vt],be[vt],Pe[vt]);if(Te)return"".concat(pt,".").concat(vt," ").concat(Te)}for(const vt of Object.keys(be))if(!(vt in Te)){if(!(vt in _e))return"".concat(pt,".").concat(vt," dropped");if(!Object.hasOwnProperty.call(_e,vt)){const Te=comparePropValues(_e[vt],be[vt],Pe[vt]);if(Te)return"".concat(pt,".").concat(vt," ").concat(Te)}}return!1}function comparePropValues(_e,be,Te){let Pe=Te&&Te.equal;return Pe&&!Pe(_e,be,Te)?"changed deeply":Pe||(Pe=_e&&be&&_e.equals,!Pe||Pe.call(_e,be))?Pe||be===_e?null:"changed shallowly":"changed deeply"}function diffDataProps(_e,be){if(null===be)return"oldProps is null, initial diff";let Te=!1;const{dataComparator:Pe,_dataDiff:pt}=_e;return Pe?Pe(_e.data,be.data)||(Te="Data comparator detected a change"):_e.data!==be.data&&(Te="A new data container was supplied"),Te&&pt&&(Te=pt(_e.data,be.data)||Te),Te}function diffUpdateTriggers(_e,be){if(null===be)return{all:!0};if("all"in _e.updateTriggers){if(diffUpdateTrigger(_e,be,"all"))return{all:!0}}const Te={};let Pe=!1;for(const pt in _e.updateTriggers)if("all"!==pt){diffUpdateTrigger(_e,be,pt)&&(Te[pt]=!0,Pe=!0)}return!!Pe&&Te}function diffExtensions(_e,be){if(null===be)return!0;const Te=be.extensions,{extensions:Pe}=_e;if(Pe===Te)return!1;if(!Te||!Pe)return!0;if(Pe.length!==Te.length)return!0;for(let _e=0;_e<Pe.length;_e++)if(!Pe[_e].equals(Te[_e]))return!0;return!1}function diffUpdateTrigger(_e,be,Te){let Pe=_e.updateTriggers[Te];Pe=null==Pe?{}:Pe;let pt=be.updateTriggers[Te];pt=null==pt?{}:pt;return compareProps({oldProps:pt,newProps:Pe,triggerName:Te})}function getPropTypes(_e){const be=_e[_r.fm],Te=be&&be.constructor;return Te?Te._propTypes:{}}function count(_e){if(null===(be=_e)||"object"!=typeof be)throw new Error("count(): argument not an object");var be;if("function"==typeof _e.count)return _e.count();if(Number.isFinite(_e.size))return _e.size;if(Number.isFinite(_e.length))return _e.length;if(isPlainObject(_e))return Object.keys(_e).length;throw new Error("count(): argument not a container")}function isPlainObject(_e){return null!==_e&&"object"==typeof _e&&_e.constructor===Object}var vr=Te(88177);function mergeShaders(_e,be){if(!be)return _e;const Te={..._e,...be};if("defines"in be&&(Te.defines={..._e.defines,...be.defines}),"modules"in be&&(Te.modules=(_e.modules||[]).concat(be.modules),be.modules.some((_e=>"project64"===_e.name)))){const _e=Te.modules.findIndex((_e=>"project32"===_e.name));_e>=0&&Te.modules.splice(_e,1)}if("inject"in be)if(_e.inject){const Pe={..._e.inject};for(const _e in be.inject)Pe[_e]=(Pe[_e]||"")+be.inject[_e];Te.inject=Pe}else Te.inject=be.inject;return Te}var Rr=Te(8771),xr=Te(96935),Sr=Te(98333),Ar=Te(77160),kr=Te(17013);function lngLatZToWorldPosition(_e,be,Te=!1){const Pe=be.projectPosition(_e);if(Te&&be instanceof xr.Z){const[Te,pt,vt=0]=_e,xt=be.getDistanceScales([Te,pt]);Pe[2]=vt*xt.unitsPerMeter[2]}return Pe}function normalizeParameters(_e){const{viewport:be,modelMatrix:Te,coordinateOrigin:Pe}=_e;let{coordinateSystem:vt,fromCoordinateSystem:xt,fromCoordinateOrigin:Tt}=_e;return vt===pt.Df.DEFAULT&&(vt=be.isGeospatial?pt.Df.LNGLAT:pt.Df.CARTESIAN),void 0===xt&&(xt=vt),void 0===Tt&&(Tt=Pe),{viewport:be,coordinateSystem:vt,coordinateOrigin:Pe,modelMatrix:Te,fromCoordinateSystem:xt,fromCoordinateOrigin:Tt}}function getWorldPosition(_e,{viewport:be,modelMatrix:Te,coordinateSystem:Pe,coordinateOrigin:vt,offsetMode:xt}){let[Tt,It,Mt=0]=_e;switch(Te&&([Tt,It,Mt]=Sr.fF([],[Tt,It,Mt,1],Te)),Pe){case pt.Df.LNGLAT:return lngLatZToWorldPosition([Tt,It,Mt],be,xt);case pt.Df.LNGLAT_OFFSETS:return lngLatZToWorldPosition([Tt+vt[0],It+vt[1],Mt+(vt[2]||0)],be,xt);case pt.Df.METER_OFFSETS:return lngLatZToWorldPosition((0,kr.eG)(vt,[Tt,It,Mt]),be,xt);case pt.Df.CARTESIAN:default:return be.isGeospatial?[Tt+vt[0],It+vt[1],Mt+vt[2]]:be.projectPosition([Tt,It,Mt])}}function projectPosition(_e,be){const{viewport:Te,coordinateSystem:Pe,coordinateOrigin:pt,modelMatrix:vt,fromCoordinateSystem:xt,fromCoordinateOrigin:Tt}=normalizeParameters(be),{geospatialOrigin:It,shaderCoordinateOrigin:Mt,offsetMode:Lt}=(0,Rr.v)(Te,Pe,pt),Ft=getWorldPosition(_e,{viewport:Te,modelMatrix:vt,coordinateSystem:xt,coordinateOrigin:Tt,offsetMode:Lt});if(Lt){const _e=Te.projectPosition(It||Mt);Ar.lu(Ft,Ft,_e)}return Ft}const Pr={10241:9987,10240:9729,10242:33071,10243:33071},Fr={};function createTexture(_e,be){const Te=_e.context&&_e.context.gl;if(!Te||!be)return null;if(be instanceof aa.Z)return be;be.constructor&&"Object"!==be.constructor.name&&(be={data:be});let Pe=null;be.compressed&&(Pe={10241:be.data.length>1?9985:9729});const pt=new aa.Z(Te,{...be,parameters:{...Pr,...Pe,..._e.props.textureParameters}});return Fr[pt.id]=!0,pt}var Or=Te(46871);const Nr={boolean:{validate:(_e,be)=>!0,equal:(_e,be,Te)=>Boolean(_e)===Boolean(be)},number:{validate:(_e,be)=>Number.isFinite(_e)&&(!("max"in be)||_e<=be.max)&&(!("min"in be)||_e>=be.min)},color:{validate:(_e,be)=>be.optional&&!_e||prop_types_isArray(_e)&&(3===_e.length||4===_e.length),equal:(_e,be,Te)=>arrayEqual(_e,be)},accessor:{validate(_e,be){const Te=getTypeOf(_e);return"function"===Te||Te===getTypeOf(be.value)},equal:(_e,be,Te)=>"function"==typeof be||arrayEqual(_e,be)},array:{validate:(_e,be)=>be.optional&&!_e||prop_types_isArray(_e),equal:(_e,be,Te)=>Te.compare?arrayEqual(_e,be):_e===be},object:{equal:(_e,be,Te)=>Te.compare?(0,Or.v)(_e,be):_e===be},function:{validate:(_e,be)=>be.optional&&!_e||"function"==typeof _e,equal:(_e,be,Te)=>!Te.compare||_e===be},data:{transform:(_e,be,Te)=>{const{dataTransform:Pe}=Te.props;return Pe&&_e?Pe(_e):_e}},image:{transform:(_e,be,Te)=>createTexture(Te,_e),release:_e=>{var be;(be=_e)&&be instanceof aa.Z&&Fr[be.id]&&(be.delete(),delete Fr[be.id])}}};function arrayEqual(_e,be){if(_e===be)return!0;if(!prop_types_isArray(_e)||!prop_types_isArray(be))return!1;const Te=_e.length;if(Te!==be.length)return!1;for(let Pe=0;Pe<Te;Pe++)if(_e[Pe]!==be[Pe])return!1;return!0}function parsePropTypes(_e){const be={},Te={},Pe={};for(const[pt,vt]of Object.entries(_e)){const _e=null==vt?void 0:vt.deprecatedFor;if(_e)Pe[pt]=Array.isArray(_e)?_e:[_e];else{const _e=parsePropType(pt,vt);be[pt]=_e,Te[pt]=_e.value}}return{propTypes:be,defaultProps:Te,deprecatedProps:Pe}}function parsePropType(_e,be){switch(getTypeOf(be)){case"object":return normalizePropDefinition(_e,be);case"array":return normalizePropDefinition(_e,{type:"array",value:be,compare:!1});case"boolean":return normalizePropDefinition(_e,{type:"boolean",value:be});case"number":return normalizePropDefinition(_e,{type:"number",value:be});case"function":return normalizePropDefinition(_e,{type:"function",value:be,compare:!0});default:return{name:_e,type:"unknown",value:be}}}function normalizePropDefinition(_e,be){return"type"in be?{name:_e,...Nr[be.type],...be}:"value"in be?{name:_e,type:getTypeOf(be.value),...be}:{name:_e,type:"object",value:be}}function prop_types_isArray(_e){return Array.isArray(_e)||ArrayBuffer.isView(_e)}function getTypeOf(_e){return prop_types_isArray(_e)?"array":null===_e?"null":typeof _e}function createProps(_e,be){const Te=getPropsPrototype(_e.constructor),Pe=Object.create(Te);Pe[_r.fm]=_e,Pe[_r.fO]={},Pe[_r.bN]={};for(let _e=0;_e<be.length;++_e){const Te=be[_e];for(const _e in Te)Pe[_e]=Te[_e]}return Object.freeze(Pe),Pe}function getPropsPrototype(_e){const be=getOwnProperty(_e,"_mergedDefaultProps");return be||(createPropsPrototypeAndTypes(_e),_e._mergedDefaultProps)}function createPropsPrototypeAndTypes(_e){if(!_e.prototype)return;const be=Object.getPrototypeOf(_e),Te=getPropsPrototype(be),Pe=parsePropTypes(getOwnProperty(_e,"defaultProps")||{}),pt=createPropsPrototype(Pe.defaultProps,Te,_e),vt={...be._propTypes,...Pe.propTypes};addAsyncPropsToPropPrototype(pt,vt);const xt={...be._deprecatedProps,...Pe.deprecatedProps};addDeprecatedPropsToPropPrototype(pt,xt),_e._mergedDefaultProps=pt,_e._propTypes=vt,_e._deprecatedProps=xt}function createPropsPrototype(_e,be,Te){const Pe=Object.create(null);Object.assign(Pe,be,_e);const pt=getComponentName(Te);return delete _e.id,Object.defineProperties(Pe,{id:{writable:!0,value:pt}}),Pe}function addDeprecatedPropsToPropPrototype(_e,be){for(const Te in be)Object.defineProperty(_e,Te,{enumerable:!1,set(_e){const Pe="".concat(this.id,": ").concat(Te);for(const Pe of be[Te])create_props_hasOwnProperty(this,Pe)||(this[Pe]=_e);Ft.Z.deprecated(Pe,be[Te].join("/"))()}})}function addAsyncPropsToPropPrototype(_e,be){const Te={},Pe={};for(const _e in be){const pt=be[_e],{name:vt,value:xt}=pt;pt.async&&(Te[vt]=xt,Pe[vt]=getDescriptorForAsyncProp(vt))}_e[_r.lY]=Te,_e[_r.fO]={},Object.defineProperties(_e,Pe)}function getDescriptorForAsyncProp(_e){return{enumerable:!0,set(be){"string"==typeof be||be instanceof Promise||isAsyncIterable(be)?this[_r.fO][_e]=be:this[_r.bN][_e]=be},get(){if(this[_r.bN]){if(_e in this[_r.bN]){return this[_r.bN][_e]||this[_r.lY][_e]}if(_e in this[_r.fO]){const be=this[_r.fm]&&this[_r.fm].internalState;if(be&&be.hasAsyncProp(_e))return be.getAsyncProp(_e)||this[_r.lY][_e]}}return this[_r.lY][_e]}}}function create_props_hasOwnProperty(_e,be){return Object.prototype.hasOwnProperty.call(_e,be)}function getOwnProperty(_e,be){return create_props_hasOwnProperty(_e,be)&&_e[be]}function getComponentName(_e){const be=getOwnProperty(_e,"layerName")||getOwnProperty(_e,"componentName");return be||Ft.Z.once(0,"".concat(_e.name,".componentName not specified"))(),be||_e.name}let Vr=0;class Gr{constructor(..._e){(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"props",void 0),(0,Pe.Z)(this,"count",void 0),this.props=createProps(this,_e),this.id=this.props.id,this.count=Vr++}clone(_e){const{props:be}=this,Te={};for(const _e in be[_r.lY])_e in be[_r.bN]?Te[_e]=be[_r.bN][_e]:_e in be[_r.fO]&&(Te[_e]=be[_r.fO][_e]);return new this.constructor({...be,...Te,..._e})}}(0,Pe.Z)(Gr,"componentName","Component"),(0,Pe.Z)(Gr,"defaultProps",{});const Zr=Object.freeze({});class qr{constructor(_e){(0,Pe.Z)(this,"component",void 0),(0,Pe.Z)(this,"onAsyncPropUpdated",void 0),(0,Pe.Z)(this,"asyncProps",void 0),(0,Pe.Z)(this,"oldProps",void 0),(0,Pe.Z)(this,"oldAsyncProps",void 0),this.component=_e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const _e in this.asyncProps){const be=this.asyncProps[_e];be&&be.type&&be.type.release&&be.type.release(be.resolvedValue,be.type,this.component)}}getOldProps(){return this.oldAsyncProps||this.oldProps||Zr}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}hasAsyncProp(_e){return _e in this.asyncProps}getAsyncProp(_e){const be=this.asyncProps[_e];return be&&be.resolvedValue}isAsyncPropLoading(_e){if(_e){const be=this.asyncProps[_e];return Boolean(be&&be.pendingLoadCount>0&&be.pendingLoadCount!==be.resolvedLoadCount)}for(const _e in this.asyncProps)if(this.isAsyncPropLoading(_e))return!0;return!1}reloadAsyncProp(_e,be){this._watchPromise(_e,Promise.resolve(be))}setAsyncProps(_e){const be=_e[_r.bN]||{},Te=_e[_r.fO]||_e,Pe=_e[_r.lY]||{};for(const _e in be){const Te=be[_e];this._createAsyncPropData(_e,Pe[_e]),this._updateAsyncProp(_e,Te),be[_e]=this.getAsyncProp(_e)}for(const _e in Te){const be=Te[_e];this._createAsyncPropData(_e,Pe[_e]),this._updateAsyncProp(_e,be)}}_fetch(_e,be){return null}_onResolve(_e,be){}_onError(_e,be){}_updateAsyncProp(_e,be){this._didAsyncInputValueChange(_e,be)&&("string"==typeof be&&(be=this._fetch(_e,be)),be instanceof Promise?this._watchPromise(_e,be):isAsyncIterable(be)?this._resolveAsyncIterable(_e,be):this._setPropValue(_e,be))}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const _e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,_e,{enumerable:!0,value:this.oldProps[_e]})}}_didAsyncInputValueChange(_e,be){const Te=this.asyncProps[_e];return be!==Te.resolvedValue&&be!==Te.lastValue&&(Te.lastValue=be,!0)}_setPropValue(_e,be){this._freezeAsyncOldProps();const Te=this.asyncProps[_e];Te&&(be=this._postProcessValue(Te,be),Te.resolvedValue=be,Te.pendingLoadCount++,Te.resolvedLoadCount=Te.pendingLoadCount)}_setAsyncPropValue(_e,be,Te){const Pe=this.asyncProps[_e];Pe&&Te>=Pe.resolvedLoadCount&&void 0!==be&&(this._freezeAsyncOldProps(),Pe.resolvedValue=be,Pe.resolvedLoadCount=Te,this.onAsyncPropUpdated(_e,be))}_watchPromise(_e,be){const Te=this.asyncProps[_e];if(Te){Te.pendingLoadCount++;const Pe=Te.pendingLoadCount;be.then((be=>{be=this._postProcessValue(Te,be),this._setAsyncPropValue(_e,be,Pe),this._onResolve(_e,be)})).catch((be=>{this._onError(_e,be)}))}}async _resolveAsyncIterable(_e,be){if("data"!==_e)return void this._setPropValue(_e,be);const Te=this.asyncProps[_e];if(!Te)return;Te.pendingLoadCount++;const Pe=Te.pendingLoadCount;let pt=[],vt=0;for await(const Te of be){const{dataTransform:be}=this.component.props;pt=be?be(Te,pt):pt.concat(Te),Object.defineProperty(pt,"__diff",{enumerable:!1,value:[{startRow:vt,endRow:pt.length}]}),vt=pt.length,this._setAsyncPropValue(_e,pt,Pe)}this._onResolve(_e,pt)}_postProcessValue(_e,be){const Te=_e.type;return Te&&(Te.release&&Te.release(_e.resolvedValue,Te,this.component),Te.transform)?Te.transform(be,Te,this.component):be}_createAsyncPropData(_e,be){if(!this.asyncProps[_e]){const Te=this.component&&this.component.constructor._propTypes;this.asyncProps[_e]={type:Te&&Te[_e],lastValue:null,resolvedValue:be,pendingLoadCount:0,resolvedLoadCount:0}}}}class Wr extends qr{constructor({attributeManager:_e,layer:be}){super(be),(0,Pe.Z)(this,"attributeManager",void 0),(0,Pe.Z)(this,"needsRedraw",void 0),(0,Pe.Z)(this,"needsUpdate",void 0),(0,Pe.Z)(this,"subLayers",void 0),(0,Pe.Z)(this,"usesPickingColorCache",void 0),(0,Pe.Z)(this,"changeFlags",void 0),(0,Pe.Z)(this,"viewport",void 0),(0,Pe.Z)(this,"uniformTransitions",void 0),(0,Pe.Z)(this,"propsInTransition",void 0),this.attributeManager=_e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}set layer(_e){this.component=_e}_fetch(_e,be){const Te=this.component.props.fetch;return Te?Te(be,{propName:_e,layer:this.layer}):super._fetch(_e,be)}_onResolve(_e,be){const Te=this.component.props.onDataLoad;"data"===_e&&Te&&Te(be,{propName:_e,layer:this.layer})}_onError(_e,be){this.layer.raiseError(be,"loading ".concat(_e," of ").concat(this.layer))}}var $r=Te(51469);const Xr=2**24-1,Kr=Object.freeze([]),Jr=(0,vr.Z)((({oldViewport:_e,viewport:be})=>_e.equals(be)));let Yr=new Uint8ClampedArray(0);const Qr={data:{type:"data",value:Kr,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:_e=>_e&&_e.__diff,compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:(_e,{propName:be,layer:Te,loaders:Pe,loadOptions:pt,signal:vt})=>{const{resourceManager:xt}=Te.context;var Tt;(pt=pt||Te.getLoadOptions(),Pe=Pe||Te.props.loaders,vt)&&(pt={...pt,fetch:{...null===(Tt=pt)||void 0===Tt?void 0:Tt.fetch,signal:vt}});let It=xt.contains(_e);return It||pt||(xt.add({resourceId:_e,data:(0,$r.z)(_e,Pe),persistent:!1}),It=!0),It?xt.subscribe({resourceId:_e,onChange:_e=>{var Pe;return null===(Pe=Te.internalState)||void 0===Pe?void 0:Pe.reloadAsyncProp(be,_e)},consumerId:Te.id,requestId:be}):(0,$r.z)(_e,Pe,pt)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:pt.k8.DRAW,onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:pt.Df.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:({layerIndex:_e})=>[0,100*-_e],compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class no extends Gr{constructor(..._e){super(..._e),(0,Pe.Z)(this,"internalState",null),(0,Pe.Z)(this,"lifecycle",_r.dt.NO_STATE),(0,Pe.Z)(this,"context",void 0),(0,Pe.Z)(this,"state",void 0),(0,Pe.Z)(this,"parent",null)}get root(){let _e=this;for(;_e.parent;)_e=_e.parent;return _e}toString(){const _e=this.constructor.layerName||this.constructor.name;return"".concat(_e,"({id: '").concat(this.props.id,"'})")}project(_e){(0,Vt.Z)(this.internalState);const be=this.internalState.viewport||this.context.viewport,Te=getWorldPosition(_e,{viewport:be,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[Pe,pt,vt]=(0,kr.aW)(Te,be.pixelProjectionMatrix);return 2===_e.length?[Pe,pt]:[Pe,pt,vt]}unproject(_e){(0,Vt.Z)(this.internalState);return(this.internalState.viewport||this.context.viewport).unproject(_e)}projectPosition(_e,be){(0,Vt.Z)(this.internalState);return projectPosition(_e,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...be})}get isComposite(){return!1}setState(_e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,_e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(_e){for(const be of this.getModels())be.updateModuleSettings(_e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:_e}=this.props;return _e===pt.Df.DEFAULT||_e===pt.Df.LNGLAT||_e===pt.Df.CARTESIAN}onHover(_e,be){return this.props.onHover&&this.props.onHover(_e,be)||!1}onClick(_e,be){return this.props.onClick&&this.props.onClick(_e,be)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(_e,be=[]){return be[0]=_e+1&255,be[1]=_e+1>>8&255,be[2]=_e+1>>8>>8&255,be}decodePickingColor(_e){(0,Vt.Z)(_e instanceof Uint8Array);const[be,Te,Pe]=_e;return be+256*Te+65536*Pe-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:count(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var _e;const be=this.getAttributeManager();if(!be)return null;const{positions:Te,instancePositions:Pe}=be.attributes;return null===(_e=Te||Pe)||void 0===_e?void 0:_e.getBounds()}getShaders(_e){for(const be of this.props.extensions)_e=mergeShaders(_e,be.getShaders.call(this,be));return _e}shouldUpdateState(_e){return _e.changeFlags.propsOrDataChanged}updateState(_e){const be=this.getAttributeManager(),{dataChanged:Te}=_e.changeFlags;if(Te&&be)if(Array.isArray(Te))for(const _e of Te)be.invalidateAll(_e);else be.invalidateAll();const{props:Pe,oldProps:pt}=_e,vt=Number.isInteger(pt.highlightedObjectIndex)||pt.pickable,xt=Number.isInteger(Pe.highlightedObjectIndex)||Pe.pickable;if(vt!==xt&&be){const{pickingColors:_e,instancePickingColors:Te}=be.attributes,Pe=_e||Te;Pe&&(xt&&Pe.constant&&(Pe.constant=!1,be.invalidate(Pe.id)),Pe.value||xt||(Pe.constant=!0,Pe.value=[0,0,0]))}}finalizeState(_e){for(const _e of this.getModels())_e.delete();const be=this.getAttributeManager();be&&be.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(_e){for(const be of this.getModels())be.draw(_e)}getPickingInfo({info:_e,mode:be,sourceLayer:Te}){const{index:Pe}=_e;return Pe>=0&&Array.isArray(this.props.data)&&(_e.object=this.props.data[Pe]),_e}raiseError(_e,be){var Te,Pe,pt,vt;(be&&(_e.message="".concat(be,": ").concat(_e.message)),null!==(Te=(Pe=this.props).onError)&&void 0!==Te&&Te.call(Pe,_e))||(null===(pt=this.context)||void 0===pt||null===(vt=pt.onError)||void 0===vt||vt.call(pt,_e,this))}getNeedsRedraw(_e={clearRedrawFlags:!1}){return this._getNeedsRedraw(_e)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var _e;return(null===(_e=this.internalState)||void 0===_e?void 0:_e.uniformTransitions.active)||!1}activateViewport(_e){if(!this.internalState)return;const be=this.internalState.viewport;this.internalState.viewport=_e,be&&Jr({oldViewport:be,viewport:_e})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(_e="all"){const be=this.getAttributeManager();be&&("all"===_e?be.invalidateAll():be.invalidate(_e))}updateAttributes(_e){for(const be of this.getModels())this._setModelAttributes(be,_e)}_updateAttributes(){const _e=this.getAttributeManager();if(!_e)return;const be=this.props,Te=this.getNumInstances(),Pe=this.getStartIndices();_e.update({data:be.data,numInstances:Te,startIndices:Pe,props:be,transitions:be.transitions,buffers:be.data.attributes,context:this});const pt=_e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(pt)}_updateAttributeTransition(){const _e=this.getAttributeManager();_e&&_e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:_e}=this.internalState;if(_e.active){const be=_e.update(),Te=Object.create(this.props);for(const _e in be)Object.defineProperty(Te,_e,{value:be[_e]});return Te}return this.props}calculateInstancePickingColors(_e,{numInstances:be}){if(_e.constant)return;const Te=Math.floor(Yr.length/3);if(this.internalState.usesPickingColorCache=!0,Te<be){be>Xr&&Ft.Z.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Yr=Mt.Z.allocate(Yr,be,{size:3,copy:!0,maxCount:Math.max(be,Xr)});const _e=Math.floor(Yr.length/3),Pe=[];for(let be=Te;be<_e;be++)this.encodePickingColor(be,Pe),Yr[3*be+0]=Pe[0],Yr[3*be+1]=Pe[1],Yr[3*be+2]=Pe[2]}_e.value=Yr.subarray(0,3*be)}_setModelAttributes(_e,be){const Te=this.getAttributeManager(),Pe=_e.userData.excludeAttributes||{},pt=Te.getShaderAttributes(be,Pe);_e.setAttributes(pt)}disablePickingIndex(_e){this._disablePickingIndex(_e)}_disablePickingIndex(_e){const{pickingColors:be,instancePickingColors:Te}=this.getAttributeManager().attributes,Pe=be||Te;if(!Pe)return;const pt=Pe.getVertexOffset(_e),vt=Pe.getVertexOffset(_e+1);Pe.buffer.subData({data:new Uint8Array(vt-pt),offset:pt})}restorePickingColors(){const{pickingColors:_e,instancePickingColors:be}=this.getAttributeManager().attributes,Te=_e||be;Te&&(this.internalState.usesPickingColorCache&&Te.value.buffer!==Yr.buffer&&(Te.value=Yr.subarray(0,Te.value.length)),Te.updateSubBuffer({startOffset:0}))}_initialize(){(0,Vt.Z)(!this.internalState),(0,Vt.Z)(Number.isFinite(this.props.coordinateSystem)),(0,an.Z)("layer.initialize",this);const _e=this._getAttributeManager();_e&&_e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new Wr({attributeManager:_e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(Ft.Z.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),_e)}),this.internalState.layer=this,this.internalState.uniformTransitions=new yr(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const _e of this.props.extensions)_e.initializeState.call(this,this.context,_e);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(_e){(0,an.Z)("layer.matched",this,this===_e);const{state:be,internalState:Te}=_e;this!==_e&&(this.internalState=Te,this.internalState.layer=this,this.state=be,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const _e=this.needsUpdate();if((0,an.Z)("layer.update",this,_e),!_e)return;const be=this.props,Te=this.context,Pe=this.internalState,pt=Te.viewport,vt=this._updateUniformTransition();Pe.propsInTransition=vt,Te.viewport=Pe.viewport||pt,this.props=vt;try{const _e=this._getUpdateParams(),vt=this.getModels();if(Te.gl)this.updateState(_e);else try{this.updateState(_e)}catch(_e){}for(const be of this.props.extensions)be.updateState.call(this,_e,be);const xt=this.getModels()[0]!==vt[0];this._postUpdate(_e,xt)}finally{Te.viewport=pt,this.props=be,this._clearChangeFlags(),Pe.needsUpdate=!1,Pe.resetOldProps()}}_finalize(){(0,an.Z)("layer.finalize",this),this.finalizeState(this.context);for(const _e of this.props.extensions)_e.finalizeState.call(this,_e)}_drawLayer({moduleParameters:_e=null,uniforms:be={},parameters:Te={}}){this._updateAttributeTransition();const Pe=this.props,pt=this.context;this.props=this.internalState.propsInTransition||Pe;const vt=this.props.opacity;be.opacity=Math.pow(vt,1/2.2);try{_e&&this.setModuleParameters(_e);const{getPolygonOffset:vt}=this.props,xt=vt&&vt(be)||[0,0];(0,Pn.dR)(pt.gl,{polygonOffset:xt}),(0,Pn.s8)(pt.gl,Te,(()=>{const Pe={moduleParameters:_e,uniforms:be,parameters:Te,context:pt};for(const _e of this.props.extensions)_e.draw.call(this,Pe,_e);this.draw(Pe)}))}finally{this.props=Pe}}getChangeFlags(){var _e;return null===(_e=this.internalState)||void 0===_e?void 0:_e.changeFlags}setChangeFlags(_e){if(!this.internalState)return;const{changeFlags:be}=this.internalState;for(const Te in _e)if(_e[Te]){let Pe=!1;switch(Te){case"dataChanged":const pt=_e[Te],vt=be[Te];pt&&Array.isArray(vt)&&(be.dataChanged=Array.isArray(pt)?vt.concat(pt):pt,Pe=!0);default:be[Te]||(be[Te]=_e[Te],Pe=!0)}Pe&&(0,an.Z)("layer.changeFlag",this,Te,_e)}const Te=Boolean(be.dataChanged||be.updateTriggersChanged||be.propsChanged||be.extensionsChanged);be.propsOrDataChanged=Te,be.somethingChanged=Te||be.viewportChanged||be.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(_e,be){const Te=diffProps(_e,be);if(Te.updateTriggersChanged)for(const _e in Te.updateTriggersChanged)Te.updateTriggersChanged[_e]&&this.invalidateAttribute(_e);if(Te.transitionsChanged)for(const pt in Te.transitionsChanged){var Pe;this.internalState.uniformTransitions.add(pt,be[pt],_e[pt],null===(Pe=_e.transitions)||void 0===Pe?void 0:Pe[pt])}return this.setChangeFlags(Te)}validateProps(){validateProps(this.props)}updateAutoHighlight(_e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(_e)}_updateAutoHighlight(_e){const be={pickingSelectedColor:_e.picked?_e.color:null},{highlightColor:Te}=this.props;_e.picked&&"function"==typeof Te&&(be.pickingHighlightColor=Te(_e)),this.setModuleParameters(be),this.setNeedsRedraw()}_getAttributeManager(){const _e=this.context;return new Ja(_e.gl,{id:this.props.id,stats:_e.stats,timeline:_e.timeline})}_postUpdate(_e,be){const{props:Te,oldProps:Pe}=_e;this.setNeedsRedraw(),this._updateAttributes();const{model:pt}=this.state;null==pt||pt.setInstanceCount(this.getNumInstances());const{autoHighlight:vt,highlightedObjectIndex:xt,highlightColor:Tt}=Te;if(be||Pe.autoHighlight!==vt||Pe.highlightedObjectIndex!==xt||Pe.highlightColor!==Tt){const _e={};vt||(_e.pickingSelectedColor=null),Array.isArray(Tt)&&(_e.pickingHighlightColor=Tt),Number.isInteger(xt)&&(_e.pickingSelectedColor=Number.isFinite(xt)&&xt>=0?this.encodePickingColor(xt):null),this.setModuleParameters(_e)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(_e){if(!this.internalState)return!1;let be=!1;be=be||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!_e.clearRedrawFlags;const Te=this.getAttributeManager(),Pe=!!Te&&Te.getNeedsRedraw(_e);return be=be||Pe,be}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}(0,Pe.Z)(no,"defaultProps",Qr),(0,Pe.Z)(no,"layerName","Layer");var so={name:"project32",dependencies:[Te(86084).Z],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"};const go={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1};var vo={inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},...{name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function getUniforms(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:go;const be={};if(void 0!==_e.pickingSelectedColor)if(_e.pickingSelectedColor){const Te=_e.pickingSelectedColor.slice(0,3);be.picking_uSelectedColorValid=1,be.picking_uSelectedColor=Te}else be.picking_uSelectedColorValid=0;if(_e.pickingHighlightColor){const Te=Array.from(_e.pickingHighlightColor,(_e=>_e/255));Number.isFinite(Te[3])||(Te[3]=1),be.picking_uHighlightColor=Te}return void 0!==_e.pickingActive&&(be.picking_uActive=Boolean(_e.pickingActive),be.picking_uAttribute=Boolean(_e.pickingAttribute)),be}}};const xo={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class bo{static get DRAW_MODE(){return xo}constructor(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:be=(0,Fn.hQ)("geometry"),drawMode:Te=xo.TRIANGLES,attributes:Pe={},indices:pt=null,vertexCount:vt=null}=_e;this.id=be,this.drawMode=0|Te,this.attributes={},this.userData={},this._setAttributes(Pe,pt),this.vertexCount=vt||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(_e){return"Geometry ".concat(this.id," attribute ").concat(_e)}_setAttributes(_e,be){be&&(this.indices=ArrayBuffer.isView(be)?{value:be,size:1}:be);for(const be in _e){let Te=_e[be];Te=ArrayBuffer.isView(Te)?{value:Te}:Te,(0,$n.h)(ArrayBuffer.isView(Te.value),"".concat(this._print(be),": must be typed array or object with value as typed array")),"POSITION"!==be&&"positions"!==be||Te.size||(Te.size=3),"indices"===be?((0,$n.h)(!this.indices),this.indices=Te):this.attributes[be]=Te}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(_e,be){if(be)return be.value.length;let Te=1/0;for(const be in _e){const Pe=_e[be],{value:pt,size:vt,constant:xt}=Pe;!xt&&pt&&vt>=1&&(Te=Math.min(Te,pt.length/vt))}return(0,$n.h)(Number.isFinite(Te)),Te}}const Ao=[0,0,0,255],Po={getSourcePosition:{type:"accessor",value:_e=>_e.sourcePosition},getTargetPosition:{type:"accessor",value:_e=>_e.targetPosition},getSourceColor:{type:"accessor",value:Ao},getTargetColor:{type:"accessor",value:Ao},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class Uo extends no{constructor(..._e){super(..._e),(0,Pe.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\nattribute float instanceHeights;\nattribute float instanceTilts;\n\nuniform bool greatCircle;\nuniform bool useShortestPath;\nuniform float numSegments;\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nfloat paraboloid(float distance, float sourceZ, float targetZ, float ratio) {\n  // d: distance on the xy plane\n  // r: ratio of the current point\n  // p: ratio of the peak of the arc\n  // h: height multiplier\n  // z = f(r) = sqrt(r * (p * 2 - r)) * d * h\n  // f(0) = 0\n  // f(1) = dz\n\n  float deltaZ = targetZ - sourceZ;\n  float dh = distance * instanceHeights;\n  if (dh == 0.0) {\n    return sourceZ + deltaZ * ratio;\n  }\n  float unitZ = deltaZ / dh;\n  float p2 = unitZ * unitZ + 1.0;\n\n  // sqrt does not deal with negative values, manually flip source and target if delta.z < 0\n  float dir = step(deltaZ, 0.0);\n  float z0 = mix(sourceZ, targetZ, dir);\n  float r = mix(ratio, 1.0 - ratio, dir);\n  return sqrt(r * (p2 - r)) * dh + z0;\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {\n  float distance = length(source.xy - target.xy);\n  float z = paraboloid(distance, source.z, target.z, segmentRatio);\n\n  float tiltAngle = radians(instanceTilts);\n  vec2 tiltDirection = normalize(target.xy - source.xy);\n  vec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);\n\n  return vec3(\n    mix(source.xy, target.xy, segmentRatio) + tilt,\n    z * cos(tiltAngle)\n  );\n}\n\n/* Great circle interpolation\n * http://www.movable-type.co.uk/scripts/latlong.html\n */\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 sourceRadians = radians(source);\n  vec2 targetRadians = radians(target);\n  vec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);\n  vec2 shd_sq = sin_half_delta * sin_half_delta;\n\n  float a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;\n  return 2.0 * asin(sqrt(a));\n}\n\nvec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {\n  vec2 lngLat;\n\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  if(abs(angularDist - PI) < 0.001) {\n    lngLat = (1.0 - t) * source.xy + t * target.xy;\n  } else {\n    float a = sin((1.0 - t) * angularDist);\n    float b = sin(t * angularDist);\n    vec3 p = source3D.yxz * a + target3D.yxz * b;\n    lngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));\n  }\n\n  float z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);\n\n  return vec3(lngLat, z);\n}\n\n/* END GREAT CIRCLE */\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));\n  float nextSegmentRatio = getSegmentRatio(min(numSegments - 1.0, segmentIndex + 1.0));\n\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  isValid = 1.0;\n\n  uv = vec2(segmentRatio, positions.y);\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  vec4 curr;\n  vec4 next;\n  vec3 source;\n  vec3 target;\n\n  if ((greatCircle || project_uProjectionMode == PROJECTION_MODE_GLOBE) && project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    source = project_globe_(vec3(instanceSourcePositions.xy, 0.0));\n    target = project_globe_(vec3(instanceTargetPositions.xy, 0.0));\n    float angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);\n\n    vec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);\n    vec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);\n    vec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);\n\n    if (abs(currPos.x - prevPos.x) > 180.0) {\n      indexDir = -1.0;\n      isValid = 0.0;\n    } else if (abs(currPos.x - nextPos.x) > 180.0) {\n      indexDir = 1.0;\n      isValid = 0.0;\n    }\n    nextPos = indexDir < 0.0 ? prevPos : nextPos;\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n\n    if (isValid == 0.0) {\n      // split at the 180th meridian\n      nextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;\n      float t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);\n      currPos = mix(currPos, nextPos, t);\n      segmentRatio = mix(segmentRatio, nextSegmentRatio, t);\n    }\n\n    vec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);\n    vec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);\n  \n    curr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);\n    next = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));\n  \n  } else {\n    vec3 source_world = instanceSourcePositions;\n    vec3 target_world = instanceTargetPositions;\n    if (useShortestPath) {\n      source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n      target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n\n      float deltaLng = target_world.x - source_world.x;\n      if (deltaLng > 180.) target_world.x -= 360.;\n      if (deltaLng < -180.) source_world.x -= 360.;\n    }\n    source = project_position(source_world, instanceSourcePositions64Low);\n    target = project_position(target_world, instanceTargetPositions64Low);\n\n    // common x at longitude=-180\n    float antiMeridianX = 0.0;\n\n    if (useShortestPath) {\n      if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n        antiMeridianX = -(project_uCoordinateOrigin.x + 180.) / 360. * TILE_SIZE;\n      }\n      float thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);\n\n      if (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {\n        isValid = 0.0;\n        indexDir = sign(segmentRatio - thresholdRatio);\n        segmentRatio = thresholdRatio;\n      }\n    }\n\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n    vec3 currPos = interpolateFlat(source, target, segmentRatio);\n    vec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);\n\n    if (useShortestPath) {\n      if (nextPos.x < antiMeridianX) {\n        currPos.x += TILE_SIZE;\n        nextPos.x += TILE_SIZE;\n      }\n    }\n\n    curr = project_common_position_to_clipspace(vec4(currPos, 1.0));\n    next = project_common_position_to_clipspace(vec4(nextPos, 1.0));\n    geometry.position = vec4(currPos, 1.0);\n  }\n\n  // Multiply out width and clamp to limits\n  // mercator pixels are interpreted as screen pixels\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n\n  // extrude\n  vec3 offset = vec3(\n    getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);\n  vColor = vec4(color.rgb, color.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME arc-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nvoid main(void) {\n  if (isValid == 0.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  geometry.uv = uv;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[so,vo]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getSourceColor",defaultValue:Ao},instanceTargetColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getTargetColor",defaultValue:Ao},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}updateState(_e){if(super.updateState(_e),_e.changeFlags.extensionsChanged){var be;const{gl:_e}=this.context;null===(be=this.state.model)||void 0===be||be.delete(),this.state.model=this._getModel(_e),this.getAttributeManager().invalidateAll()}}draw({uniforms:_e}){const{widthUnits:be,widthScale:Te,widthMinPixels:Pe,widthMaxPixels:vt,greatCircle:xt,wrapLongitude:Tt}=this.props;this.state.model.setUniforms(_e).setUniforms({greatCircle:xt,widthUnits:pt.iI[be],widthScale:Te,widthMinPixels:Pe,widthMaxPixels:vt,useShortestPath:Tt}).draw()}_getModel(_e){let be=[];for(let _e=0;_e<50;_e++)be=be.concat([_e,1,0,_e,-1,0]);const Te=new za(_e,{...this.getShaders(),id:this.props.id,geometry:new bo({drawMode:5,attributes:{positions:new Float32Array(be)}}),isInstanced:!0});return Te.setUniforms({numSegments:50}),Te}}(0,Pe.Z)(Uo,"layerName","ArcLayer"),(0,Pe.Z)(Uo,"defaultProps",Po);const _s=new Uint16Array([0,2,1,0,3,2]),vs=new Float32Array([0,1,0,0,1,0,1,1]);function createMesh(_e,be){if(!be)return createQuad(_e);const Te=Math.max(Math.abs(_e[0][0]-_e[3][0]),Math.abs(_e[1][0]-_e[2][0])),Pe=Math.max(Math.abs(_e[1][1]-_e[0][1]),Math.abs(_e[2][1]-_e[3][1])),pt=Math.ceil(Te/be)+1,vt=Math.ceil(Pe/be)+1,xt=(pt-1)*(vt-1)*6,Tt=new Uint32Array(xt),It=new Float32Array(pt*vt*2),Mt=new Float64Array(pt*vt*3);let Lt=0,Ft=0;for(let be=0;be<pt;be++){const Te=be/(pt-1);for(let Pe=0;Pe<vt;Pe++){const pt=Pe/(vt-1),xt=interpolateQuad(_e,Te,pt);Mt[3*Lt+0]=xt[0],Mt[3*Lt+1]=xt[1],Mt[3*Lt+2]=xt[2]||0,It[2*Lt+0]=Te,It[2*Lt+1]=1-pt,be>0&&Pe>0&&(Tt[Ft++]=Lt-vt,Tt[Ft++]=Lt-vt-1,Tt[Ft++]=Lt-1,Tt[Ft++]=Lt-vt,Tt[Ft++]=Lt-1,Tt[Ft++]=Lt),Lt++}}return{vertexCount:xt,positions:Mt,indices:Tt,texCoords:It}}function createQuad(_e){const be=new Float64Array(12);for(let Te=0;Te<_e.length;Te++)be[3*Te+0]=_e[Te][0],be[3*Te+1]=_e[Te][1],be[3*Te+2]=_e[Te][2]||0;return{vertexCount:6,positions:be,indices:_s,texCoords:vs}}function interpolateQuad(_e,be,Te){return(0,sr.t7)((0,sr.t7)(_e[0],_e[1],Te),(0,sr.t7)(_e[3],_e[2],Te),be)}var Rs="\n#define SHADER_NAME bitmap-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D bitmapTexture;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float desaturate;\nuniform vec4 transparentColor;\nuniform vec3 tintColor;\nuniform float opacity;\n\nuniform float coordinateConversion;\nuniform vec4 bounds;\n\n/* projection utils */\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / PI / 2.0;\n\n// from degrees to Web Mercator\nvec2 lnglat_to_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\n// from Web Mercator to degrees\nvec2 mercator_to_lnglat(vec2 xy) {\n  xy /= WORLD_SCALE;\n  return degrees(vec2(\n    xy.x - PI,\n    atan(exp(xy.y - PI)) * 2.0 - PI * 0.5\n  ));\n}\n/* End projection utils */\n\n// apply desaturation\nvec3 color_desaturate(vec3 color) {\n  float luminance = (color.r + color.g + color.b) * 0.333333333;\n  return mix(color, vec3(luminance), desaturate);\n}\n\n// apply tint\nvec3 color_tint(vec3 color) {\n  return color * tintColor;\n}\n\n// blend with background color\nvec4 apply_opacity(vec3 color, float alpha) {\n  return mix(transparentColor, vec4(color, 1.0), alpha);\n}\n\nvec2 getUV(vec2 pos) {\n  return vec2(\n    (pos.x - bounds[0]) / (bounds[2] - bounds[0]),\n    (pos.y - bounds[3]) / (bounds[1] - bounds[3])\n  );\n}\n\n".concat("\nvec3 packUVsIntoRGB(vec2 uv) {\n  // Extract the top 8 bits. We want values to be truncated down so we can add a fraction\n  vec2 uv8bit = floor(uv * 256.);\n\n  // Calculate the normalized remainders of u and v parts that do not fit into 8 bits\n  // Scale and clamp to 0-1 range\n  vec2 uvFraction = fract(uv * 256.);\n  vec2 uvFraction4bit = floor(uvFraction * 16.);\n\n  // Remainder can be encoded in blue channel, encode as 4 bits for pixel coordinates\n  float fractions = uvFraction4bit.x + uvFraction4bit.y * 16.;\n\n  return vec3(uv8bit, fractions) / 255.;\n}\n","\n\nvoid main(void) {\n  vec2 uv = vTexCoord;\n  if (coordinateConversion < -0.5) {\n    vec2 lnglat = mercator_to_lnglat(vTexPos);\n    uv = getUV(lnglat);\n  } else if (coordinateConversion > 0.5) {\n    vec2 commonPos = lnglat_to_mercator(vTexPos);\n    uv = getUV(commonPos);\n  }\n  vec4 bitmapColor = texture2D(bitmapTexture, uv);\n\n  gl_FragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);\n\n  geometry.uv = uv;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n\n  if (picking_uActive) {\n    // Since instance information is not used, we can use picking color for pixel index\n    gl_FragColor.rgb = packUVsIntoRGB(uv);\n  }\n}\n");const xs={image:{type:"image",value:null,async:!0},bounds:{type:"array",value:[1,0,0,1],compare:!0},_imageCoordinateSystem:pt.Df.DEFAULT,desaturate:{type:"number",min:0,max:1,value:0},transparentColor:{type:"color",value:[0,0,0,0]},tintColor:{type:"color",value:[255,255,255]}};class bs extends no{constructor(..._e){super(..._e),(0,Pe.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"\n#define SHADER_NAME bitmap-layer-vertex-shader\n\nattribute vec2 texCoords;\nattribute vec3 positions;\nattribute vec3 positions64Low;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float coordinateConversion;\n\nconst vec3 pickingColor = vec3(1.0, 0.0, 0.0);\n\nvoid main(void) {\n  geometry.worldPosition = positions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = pickingColor;\n\n  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTexCoord = texCoords;\n\n  if (coordinateConversion < -0.5) {\n    vTexPos = geometry.position.xy + project_uCommonOrigin.xy;\n  } else if (coordinateConversion > 0.5) {\n    vTexPos = geometry.worldPosition.xy;\n  }\n\n  vec4 color = vec4(0.0);\n  DECKGL_FILTER_COLOR(color, geometry);\n}\n",fs:Rs,modules:[so,vo]})}initializeState(){const _e=this.getAttributeManager();_e.remove(["instancePickingColors"]);const be=!0;_e.add({indices:{size:1,isIndexed:!0,update:_e=>_e.value=this.state.mesh.indices,noAlloc:be},positions:{size:3,type:5130,fp64:this.use64bitPositions(),update:_e=>_e.value=this.state.mesh.positions,noAlloc:be},texCoords:{size:2,update:_e=>_e.value=this.state.mesh.texCoords,noAlloc:be}})}updateState({props:_e,oldProps:be,changeFlags:Te}){const Pe=this.getAttributeManager();if(Te.extensionsChanged){var pt;const{gl:_e}=this.context;null===(pt=this.state.model)||void 0===pt||pt.delete(),this.state.model=this._getModel(_e),Pe.invalidateAll()}if(_e.bounds!==be.bounds){const _e=this.state.mesh,be=this._createMesh();this.state.model.setVertexCount(be.vertexCount);for(const Te in be)_e&&_e[Te]!==be[Te]&&Pe.invalidate(Te);this.setState({mesh:be,...this._getCoordinateUniforms()})}else _e._imageCoordinateSystem!==be._imageCoordinateSystem&&this.setState(this._getCoordinateUniforms())}getPickingInfo(_e){const{image:be}=this.props,Te=_e.info;if(!Te.color||!be)return Te.bitmap=null,Te;const{width:Pe,height:pt}=be;Te.index=0;const vt=unpackUVsFromRGB(Te.color),xt=[Math.floor(vt[0]*Pe),Math.floor(vt[1]*pt)];return Te.bitmap={size:{width:Pe,height:pt},uv:vt,pixel:xt},Te}disablePickingIndex(){this.setState({disablePicking:!0})}restorePickingColors(){this.setState({disablePicking:!1})}_updateAutoHighlight(_e){super._updateAutoHighlight({..._e,color:this.encodePickingColor(0)})}_createMesh(){const{bounds:_e}=this.props;let be=_e;return isRectangularBounds(_e)&&(be=[[_e[0],_e[1]],[_e[0],_e[3]],[_e[2],_e[3]],[_e[2],_e[1]]]),createMesh(be,this.context.viewport.resolution)}_getModel(_e){return _e?new za(_e,{...this.getShaders(),id:this.props.id,geometry:new bo({drawMode:4,vertexCount:6}),isInstanced:!1}):null}draw(_e){const{uniforms:be,moduleParameters:Te}=_e,{model:Pe,coordinateConversion:pt,bounds:vt,disablePicking:xt}=this.state,{image:Tt,desaturate:It,transparentColor:Mt,tintColor:Lt}=this.props;Te.pickingActive&&xt||Tt&&Pe&&Pe.setUniforms(be).setUniforms({bitmapTexture:Tt,desaturate:It,transparentColor:Mt.map((_e=>_e/255)),tintColor:Lt.slice(0,3).map((_e=>_e/255)),coordinateConversion:pt,bounds:vt}).draw()}_getCoordinateUniforms(){const{LNGLAT:_e,CARTESIAN:be,DEFAULT:Te}=pt.Df;let{_imageCoordinateSystem:Pe}=this.props;if(Pe!==Te){const{bounds:Te}=this.props;if(!isRectangularBounds(Te))throw new Error("_imageCoordinateSystem only supports rectangular bounds");const pt=this.context.viewport.resolution?_e:be;if(Pe=Pe===_e?_e:be,Pe===_e&&pt===be)return{coordinateConversion:-1,bounds:Te};if(Pe===be&&pt===_e){const _e=(0,kr.w5)([Te[0],Te[1]]),be=(0,kr.w5)([Te[2],Te[3]]);return{coordinateConversion:1,bounds:[_e[0],_e[1],be[0],be[1]]}}}return{coordinateConversion:0,bounds:[0,0,0,0]}}}function unpackUVsFromRGB(_e){const[be,Te,Pe]=_e;return[(be+(15&Pe)/16)/256,(Te+(240&Pe)/256)/256]}function isRectangularBounds(_e){return Number.isFinite(_e[0])}(0,Pe.Z)(bs,"layerName","BitmapLayer"),(0,Pe.Z)(bs,"defaultProps",xs);var ws=Te(83579);const noop=()=>{},Es={10241:9987,10240:9729,10242:33071,10243:33071};function resizeImage(_e,be,Te,Pe){return Te===be.width&&Pe===be.height?be:(_e.canvas.height=Pe,_e.canvas.width=Te,_e.clearRect(0,0,_e.canvas.width,_e.canvas.height),_e.drawImage(be,0,0,be.width,be.height,0,0,Te,Pe),_e.canvas)}function getIconId(_e){return _e&&(_e.id||_e.url)}function resizeTexture(_e,be,Te){const Pe=_e.width,pt=_e.height,vt=(0,ia.h)(_e,{width:be,height:Te});return(0,na.Lv)(_e,vt,{targetY:0,width:Pe,height:pt}),_e.delete(),vt}function buildRowMapping(_e,be,Te){for(let Pe=0;Pe<be.length;Pe++){const{icon:pt,xOffset:vt}=be[Pe];_e[getIconId(pt)]={...pt,x:vt,y:Te}}}function buildMapping({icons:_e,buffer:be,mapping:Te={},xOffset:Pe=0,yOffset:pt=0,rowHeight:vt=0,canvasWidth:xt}){let Tt=[];for(let It=0;It<_e.length;It++){const Mt=_e[It];if(!Te[getIconId(Mt)]){const{height:_e,width:It}=Mt;Pe+It+be>xt&&(buildRowMapping(Te,Tt,pt),Pe=0,pt=vt+pt+be,vt=0,Tt=[]),Tt.push({icon:Mt,xOffset:Pe}),Pe=Pe+It+be,vt=Math.max(vt,_e)}}return Tt.length>0&&buildRowMapping(Te,Tt,pt),{mapping:Te,rowHeight:vt,xOffset:Pe,yOffset:pt,canvasWidth:xt,canvasHeight:(It=vt+pt+be,Math.pow(2,Math.ceil(Math.log2(It))))};var It}function getDiffIcons(_e,be,Te){if(!_e||!be)return null;Te=Te||{};const Pe={},{iterable:pt,objectInfo:vt}=createIterable(_e);for(const _e of pt){vt.index++;const pt=be(_e,vt),xt=getIconId(pt);if(!pt)throw new Error("Icon is missing.");if(!pt.url)throw new Error("Icon url is missing.");Pe[xt]||Te[xt]&&pt.url===Te[xt].url||(Pe[xt]={...pt,source:_e,sourceIndex:vt.index})}return Pe}class Cs{constructor(_e,{onUpdate:be=noop,onError:Te=noop}){(0,Pe.Z)(this,"gl",void 0),(0,Pe.Z)(this,"onUpdate",void 0),(0,Pe.Z)(this,"onError",void 0),(0,Pe.Z)(this,"_loadOptions",null),(0,Pe.Z)(this,"_texture",null),(0,Pe.Z)(this,"_externalTexture",null),(0,Pe.Z)(this,"_mapping",{}),(0,Pe.Z)(this,"_pendingCount",0),(0,Pe.Z)(this,"_autoPacking",!1),(0,Pe.Z)(this,"_xOffset",0),(0,Pe.Z)(this,"_yOffset",0),(0,Pe.Z)(this,"_rowHeight",0),(0,Pe.Z)(this,"_buffer",4),(0,Pe.Z)(this,"_canvasWidth",1024),(0,Pe.Z)(this,"_canvasHeight",0),(0,Pe.Z)(this,"_canvas",null),this.gl=_e,this.onUpdate=be,this.onError=Te}finalize(){var _e;null===(_e=this._texture)||void 0===_e||_e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(_e){const be=this._autoPacking?getIconId(_e):_e;return this._mapping[be]||{}}setProps({loadOptions:_e,autoPacking:be,iconAtlas:Te,iconMapping:Pe}){var pt;(_e&&(this._loadOptions=_e),void 0!==be&&(this._autoPacking=be),Pe&&(this._mapping=Pe),Te)&&(null===(pt=this._texture)||void 0===pt||pt.delete(),this._texture=null,this._externalTexture=Te)}get isLoaded(){return 0===this._pendingCount}packIcons(_e,be){if(!this._autoPacking||"undefined"==typeof document)return;const Te=Object.values(getDiffIcons(_e,be,this._mapping)||{});if(Te.length>0){const{mapping:_e,xOffset:be,yOffset:Pe,rowHeight:pt,canvasHeight:vt}=buildMapping({icons:Te,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=pt,this._mapping=_e,this._xOffset=be,this._yOffset=Pe,this._canvasHeight=vt,this._texture||(this._texture=new aa.Z(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:Es})),this._texture.height!==this._canvasHeight&&(this._texture=resizeTexture(this._texture,this._canvasWidth,this._canvasHeight)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(Te)}}_loadIcons(_e){const be=this._canvas.getContext("2d");for(const Te of _e)this._pendingCount++,(0,$r.z)(Te.url,ws.S,this._loadOptions).then((_e=>{const Pe=getIconId(Te),{x:pt,y:vt,width:xt,height:Tt}=this._mapping[Pe],It=resizeImage(be,_e,xt,Tt);this._texture.setSubImageData({data:It,x:pt,y:vt,width:xt,height:Tt}),this._texture.generateMipmap(),this.onUpdate()})).catch((_e=>{this.onError({url:Te.url,source:Te.source,sourceIndex:Te.sourceIndex,loadOptions:this._loadOptions,error:_e})})).finally((()=>{this._pendingCount--}))}}const As=[0,0,0,255],Ts={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:_e=>_e.position},getIcon:{type:"accessor",value:_e=>_e.icon},getColor:{type:"accessor",value:As},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}};class Ds extends no{constructor(..._e){super(..._e),(0,Pe.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[so,vo]})}initializeState(){this.state={iconManager:new Cs(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})};this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:As},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(_e){super.updateState(_e);const{props:be,oldProps:Te,changeFlags:Pe}=_e,pt=this.getAttributeManager(),{iconAtlas:vt,iconMapping:xt,data:Tt,getIcon:It}=be,{iconManager:Mt}=this.state,Lt=vt||this.internalState.isAsyncPropLoading("iconAtlas");if(Mt.setProps({loadOptions:be.loadOptions,autoPacking:!Lt,iconAtlas:vt,iconMapping:Lt?xt:null}),Lt?Te.iconMapping!==be.iconMapping&&pt.invalidate("getIcon"):(Pe.dataChanged||Pe.updateTriggersChanged&&(Pe.updateTriggersChanged.all||Pe.updateTriggersChanged.getIcon))&&Mt.packIcons(Tt,It),Pe.extensionsChanged){var Ft;const{gl:_e}=this.context;null===(Ft=this.state.model)||void 0===Ft||Ft.delete(),this.state.model=this._getModel(_e),pt.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(_e){super.finalizeState(_e),this.state.iconManager.finalize()}draw({uniforms:_e}){const{sizeScale:be,sizeMinPixels:Te,sizeMaxPixels:Pe,sizeUnits:vt,billboard:xt,alphaCutoff:Tt}=this.props,{iconManager:It}=this.state,Mt=It.getTexture();Mt&&this.state.model.setUniforms(_e).setUniforms({iconsTexture:Mt,iconsTextureDim:[Mt.width,Mt.height],sizeUnits:pt.iI[vt],sizeScale:be,sizeMinPixels:Te,sizeMaxPixels:Pe,billboard:xt,alphaCutoff:Tt}).draw()}_getModel(_e){return new za(_e,{...this.getShaders(),id:this.props.id,geometry:new bo({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(_e){var be;const Te=null===(be=this.getCurrentLayer())||void 0===be?void 0:be.props.onIconError;Te?Te(_e):Ft.Z.error(_e.error.message)()}getInstanceOffset(_e){const{width:be,height:Te,anchorX:Pe=be/2,anchorY:pt=Te/2}=this.state.iconManager.getIconMapping(_e);return[be/2-Pe,Te/2-pt]}getInstanceColorMode(_e){return this.state.iconManager.getIconMapping(_e).mask?1:0}getInstanceIconFrame(_e){const{x:be,y:Te,width:Pe,height:pt}=this.state.iconManager.getIconMapping(_e);return[be,Te,Pe,pt]}}(0,Pe.Z)(Ds,"defaultProps",Ts),(0,Pe.Z)(Ds,"layerName","IconLayer");const Ps={getSourcePosition:{type:"accessor",value:_e=>_e.sourcePosition},getTargetPosition:{type:"accessor",value:_e=>_e.targetPosition},getColor:{type:"accessor",value:[0,0,0,255]},getWidth:{type:"accessor",value:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class Is extends no{getShaders(){return super.getShaders({vs:"#define SHADER_NAME line-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float useShortestPath;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nvec3 splitLine(vec3 a, vec3 b, float x) {\n  float t = (x - a.x) / (b.x - a.x);\n  return vec3(x, mix(a.yz, b.yz, t));\n}\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  vec3 source_world = instanceSourcePositions;\n  vec3 target_world = instanceTargetPositions;\n  vec3 source_world_64low = instanceSourcePositions64Low;\n  vec3 target_world_64low = instanceTargetPositions64Low;\n\n  if (useShortestPath > 0.5 || useShortestPath < -0.5) {\n    source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n    target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n    float deltaLng = target_world.x - source_world.x;\n\n    if (deltaLng * useShortestPath > 180.) {\n      source_world.x += 360. * useShortestPath;\n      source_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      source_world_64low = vec3(0.0);\n    } else if (deltaLng * useShortestPath < -180.) {\n      target_world.x += 360. * useShortestPath;\n      target_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      target_world_64low = vec3(0.0);\n    } else if (useShortestPath < 0.) {\n      // Line is not split, abort\n      gl_Position = vec4(0.);\n      return;\n    }\n  }\n\n  // Position\n  vec4 source_commonspace;\n  vec4 target_commonspace;\n  vec4 source = project_position_to_clipspace(source_world, source_world_64low, vec3(0.), source_commonspace);\n  vec4 target = project_position_to_clipspace(target_world, target_world_64low, vec3(0.), target_commonspace);\n  \n  // linear interpolation of source & target to pick right coord\n  float segmentIndex = positions.x;\n  vec4 p = mix(source, target, segmentIndex);\n  geometry.position = mix(source_commonspace, target_commonspace, segmentIndex);\n  uv = positions.xy;\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  // Multiply out width and clamp to limits\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n\n  // extrude\n  vec3 offset = vec3(\n    getExtrusionOffset(target.xy - source.xy, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = p + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME line-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[so,vo]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1}})}updateState(_e){if(super.updateState(_e),_e.changeFlags.extensionsChanged){var be;const{gl:_e}=this.context;null===(be=this.state.model)||void 0===be||be.delete(),this.state.model=this._getModel(_e),this.getAttributeManager().invalidateAll()}}draw({uniforms:_e}){const{widthUnits:be,widthScale:Te,widthMinPixels:Pe,widthMaxPixels:vt,wrapLongitude:xt}=this.props;this.state.model.setUniforms(_e).setUniforms({widthUnits:pt.iI[be],widthScale:Te,widthMinPixels:Pe,widthMaxPixels:vt,useShortestPath:xt?1:0}).draw(),xt&&this.state.model.setUniforms({useShortestPath:-1}).draw()}_getModel(_e){return new za(_e,{...this.getShaders(),id:this.props.id,geometry:new bo({drawMode:5,attributes:{positions:new Float32Array([0,-1,0,0,1,0,1,-1,0,1,1,0])}}),isInstanced:!0})}}(0,Pe.Z)(Is,"layerName","LineLayer"),(0,Pe.Z)(Is,"defaultProps",Ps);var Ls="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n";const Fs={lightSources:{}};function convertColor(){let{color:_e=[0,0,0],intensity:be=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _e.map((_e=>_e*be/255))}function getLightSourceUniforms(_e){let{ambientLight:be,pointLights:Te=[],directionalLights:Pe=[]}=_e;const pt={};return pt["lighting_uAmbientLight.color"]=be?convertColor(be):[0,0,0],Te.forEach(((_e,be)=>{pt["lighting_uPointLight[".concat(be,"].color")]=convertColor(_e),pt["lighting_uPointLight[".concat(be,"].position")]=_e.position,pt["lighting_uPointLight[".concat(be,"].attenuation")]=_e.attenuation||[1,0,0]})),pt.lighting_uPointLightCount=Te.length,Pe.forEach(((_e,be)=>{pt["lighting_uDirectionalLight[".concat(be,"].color")]=convertColor(_e),pt["lighting_uDirectionalLight[".concat(be,"].direction")]=_e.direction})),pt.lighting_uDirectionalLightCount=Pe.length,pt}const Bs={name:"lights",vs:Ls,fs:Ls,getUniforms:function lights_getUniforms(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fs;if("lightSources"in _e){const{ambientLight:be,pointLights:Te,directionalLights:Pe}=_e.lightSources||{};return be||Te&&Te.length>0||Pe&&Pe.length>0?Object.assign({},getLightSourceUniforms({ambientLight:be,pointLights:Te,directionalLights:Pe}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in _e){const be={pointLights:[],directionalLights:[]};for(const Te of _e.lights||[])switch(Te.type){case"ambient":be.ambientLight=Te;break;case"directional":be.directionalLights.push(Te);break;case"point":be.pointLights.push(Te)}return lights_getUniforms({lightSources:be})}return{}},defines:{MAX_LIGHTS:3}};var Os="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n";const js={};function getMaterialUniforms(_e){const{ambient:be=.35,diffuse:Te=.6,shininess:Pe=32,specularColor:pt=[30,30,30]}=_e;return{lighting_uAmbient:be,lighting_uDiffuse:Te,lighting_uShininess:Pe,lighting_uSpecularColor:pt.map((_e=>_e/255))}}function phong_lighting_getUniforms(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:js;if(!("material"in _e))return{};const{material:be}=_e;return be?getMaterialUniforms(be):{lighting_uEnabled:!1}}const Ns={name:"gouraud-lighting",dependencies:[Bs],vs:Os,defines:{LIGHTING_VERTEX:1},getUniforms:phong_lighting_getUniforms},Vs={name:"phong-lighting",dependencies:[Bs],fs:Os,defines:{LIGHTING_FRAGMENT:1},getUniforms:phong_lighting_getUniforms};const Us=[0,0,0,255],Zs=[0,0,1],qs={sizeUnits:"pixels",pointSize:{type:"number",min:0,value:10},getPosition:{type:"accessor",value:_e=>_e.position},getNormal:{type:"accessor",value:Zs},getColor:{type:"accessor",value:Us},material:!0,radiusPixels:{deprecatedFor:"pointSize"}};function normalizeData(_e){const{header:be,attributes:Te}=_e;be&&Te&&(_e.length=be.vertexCount,Te.POSITION&&(Te.instancePositions=Te.POSITION),Te.NORMAL&&(Te.instanceNormals=Te.NORMAL),Te.COLOR_0&&(Te.instanceColors=Te.COLOR_0))}class Ws extends no{getShaders(){return super.getShaders({vs:"#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\nuniform int sizeUnits;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.normal = project_normal(instanceNormals);\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  // Find the center of the point and add the current vertex\n  vec3 offset = vec3(positions.xy * project_size_to_pixel(radiusPixels, sizeUnits), 0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);\n  gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply lighting\n  vec3 lightColor = lighting_getLightColor(instanceColors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(lightColor, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME point-cloud-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[so,Ns,vo]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:Zs},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:Us}})}updateState(_e){const{changeFlags:be,props:Te}=_e;if(super.updateState(_e),be.extensionsChanged){var Pe;const{gl:_e}=this.context;null===(Pe=this.state.model)||void 0===Pe||Pe.delete(),this.state.model=this._getModel(_e),this.getAttributeManager().invalidateAll()}be.dataChanged&&normalizeData(Te.data)}draw({uniforms:_e}){const{pointSize:be,sizeUnits:Te}=this.props;this.state.model.setUniforms(_e).setUniforms({sizeUnits:pt.iI[Te],radiusPixels:be}).draw()}_getModel(_e){const be=[];for(let _e=0;_e<3;_e++){const Te=_e/3*Math.PI*2;be.push(2*Math.cos(Te),2*Math.sin(Te),0)}return new za(_e,{...this.getShaders(),id:this.props.id,geometry:new bo({drawMode:4,attributes:{positions:new Float32Array(be)}}),isInstanced:!0})}}(0,Pe.Z)(Ws,"layerName","PointCloudLayer"),(0,Pe.Z)(Ws,"defaultProps",qs);const $s=[0,0,0,255],Xs={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:_e=>_e.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:$s},getLineColor:{type:"accessor",value:$s},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class Ks extends no{getShaders(){return super.getShaders({vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  // Multiply out radius and clamp to limits\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\n    radiusMinPixels, radiusMaxPixels\n  );\n  \n  // Multiply out line width and clamp to limits\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n\n  // Expand geometry to accomodate edge smoothing\n  float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = edgePadding * positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  if (billboard) {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = edgePadding * positions * outerRadiusPixels;\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  }\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = antialiasing ? \n    smoothedge(distToCenter, outerRadiusPixels) : \n    step(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = antialiasing ? \n      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\n      step(innerUnitRadius * outerRadiusPixels, distToCenter);\n\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[so,vo]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(_e){if(super.updateState(_e),_e.changeFlags.extensionsChanged){var be;const{gl:_e}=this.context;null===(be=this.state.model)||void 0===be||be.delete(),this.state.model=this._getModel(_e),this.getAttributeManager().invalidateAll()}}draw({uniforms:_e}){const{radiusUnits:be,radiusScale:Te,radiusMinPixels:Pe,radiusMaxPixels:vt,stroked:xt,filled:Tt,billboard:It,antialiasing:Mt,lineWidthUnits:Lt,lineWidthScale:Ft,lineWidthMinPixels:Ot,lineWidthMaxPixels:Vt}=this.props;this.state.model.setUniforms(_e).setUniforms({stroked:xt?1:0,filled:Tt,billboard:It,antialiasing:Mt,radiusUnits:pt.iI[be],radiusScale:Te,radiusMinPixels:Pe,radiusMaxPixels:vt,lineWidthUnits:pt.iI[Lt],lineWidthScale:Ft,lineWidthMinPixels:Ot,lineWidthMaxPixels:Vt}).draw()}_getModel(_e){return new za(_e,{...this.getShaders(),id:this.props.id,geometry:new bo({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0})}}(0,Pe.Z)(Ks,"defaultProps",Xs),(0,Pe.Z)(Ks,"layerName","ScatterplotLayer");const Js=1,Qs=-1;function polygon_utils_modifyPolygonWindingDirection(_e,be,Te={}){return getPolygonWindingDirection(_e,Te)!==be&&(reversePolygon(_e,Te),!0)}function getPolygonWindingDirection(_e,be={}){return Math.sign(polygon_utils_getPolygonSignedArea(_e,be))}function polygon_utils_getPolygonSignedArea(_e,be={}){const{start:Te=0,end:Pe=_e.length}=be,pt=be.size||2;let vt=0;for(let be=Te,xt=Pe-pt;be<Pe;be+=pt)vt+=(_e[be]-_e[xt])*(_e[be+1]+_e[xt+1]),xt=be;return vt/2}function reversePolygon(_e,be){const{start:Te=0,end:Pe=_e.length,size:pt=2}=be,vt=(Pe-Te)/pt,xt=Math.floor(vt/2);for(let be=0;be<xt;++be){const Pe=Te+be*pt,xt=Te+(vt-1-be)*pt;for(let be=0;be<pt;++be){const Te=_e[Pe+be];_e[Pe+be]=_e[xt+be],_e[xt+be]=Te}}}function intersect(_e,be,Te,Pe,pt=[]){let vt,xt;if(8&Te)vt=(Pe[3]-_e[1])/(be[1]-_e[1]),xt=3;else if(4&Te)vt=(Pe[1]-_e[1])/(be[1]-_e[1]),xt=1;else if(2&Te)vt=(Pe[2]-_e[0])/(be[0]-_e[0]),xt=2;else{if(!(1&Te))return null;vt=(Pe[0]-_e[0])/(be[0]-_e[0]),xt=0}for(let Te=0;Te<_e.length;Te++)pt[Te]=(1&xt)===Te?Pe[xt]:vt*(be[Te]-_e[Te])+_e[Te];return pt}function bitCode(_e,be){let Te=0;return _e[0]<be[0]?Te|=1:_e[0]>be[2]&&(Te|=2),_e[1]<be[1]?Te|=4:_e[1]>be[3]&&(Te|=8),Te}function utils_push(_e,be){const Te=be.length,Pe=_e.length;if(Pe>0){let pt=!0;for(let vt=0;vt<Te;vt++)if(_e[Pe-Te+vt]!==be[vt]){pt=!1;break}if(pt)return!1}for(let pt=0;pt<Te;pt++)_e[Pe+pt]=be[pt];return!0}function utils_copy(_e,be){const Te=be.length;for(let Pe=0;Pe<Te;Pe++)_e[Pe]=be[Pe]}function utils_getPointAtIndex(_e,be,Te,Pe,pt=[]){const vt=Pe+be*Te;for(let be=0;be<Te;be++)pt[be]=_e[vt+be];return pt}function cutPolylineByGrid(_e,be){const{size:Te=2,broken:Pe=!1,gridResolution:pt=10,gridOffset:vt=[0,0],startIndex:xt=0,endIndex:Tt=_e.length}=be||{},It=(Tt-xt)/Te;let Mt=[];const Lt=[Mt],Ft=utils_getPointAtIndex(_e,0,Te,xt);let Ot,Vt;const qt=getGridCell(Ft,pt,vt,[]),Wt=[];utils_push(Mt,Ft);for(let be=1;be<It;be++){for(Ot=utils_getPointAtIndex(_e,be,Te,xt,Ot),Vt=bitCode(Ot,qt);Vt;){intersect(Ft,Ot,Vt,qt,Wt);const _e=bitCode(Wt,qt);_e&&(intersect(Ft,Wt,_e,qt,Wt),Vt=_e),utils_push(Mt,Wt),utils_copy(Ft,Wt),moveToNeighborCell(qt,pt,Vt),Pe&&Mt.length>Te&&(Mt=[],Lt.push(Mt),utils_push(Mt,Ft)),Vt=bitCode(Ot,qt)}utils_push(Mt,Ot),utils_copy(Ft,Ot)}return Pe?Lt:Lt[0]}function concatInPlace(_e,be){for(let Te=0;Te<be.length;Te++)_e.push(be[Te]);return _e}function cutPolygonByGrid(_e,be=null,Te){if(!_e.length)return[];const{size:Pe=2,gridResolution:pt=10,gridOffset:vt=[0,0],edgeTypes:xt=!1}=Te||{},Tt=[],It=[{pos:_e,types:xt?new Array(_e.length/Pe).fill(1):null,holes:be||[]}],Mt=[[],[]];let Lt=[];for(;It.length;){const{pos:_e,types:be,holes:Te}=It.shift();getBoundingBox(_e,Pe,Te[0]||_e.length,Mt),Lt=getGridCell(Mt[0],pt,vt,Lt);const Ft=bitCode(Mt[1],Lt);if(Ft){let pt=bisectPolygon(_e,be,Pe,0,Te[0]||_e.length,Lt,Ft);const vt={pos:pt[0].pos,types:pt[0].types,holes:[]},Tt={pos:pt[1].pos,types:pt[1].types,holes:[]};It.push(vt,Tt);for(let It=0;It<Te.length;It++)pt=bisectPolygon(_e,be,Pe,Te[It],Te[It+1]||_e.length,Lt,Ft),pt[0]&&(vt.holes.push(vt.pos.length),vt.pos=concatInPlace(vt.pos,pt[0].pos),xt&&(vt.types=concatInPlace(vt.types,pt[0].types))),pt[1]&&(Tt.holes.push(Tt.pos.length),Tt.pos=concatInPlace(Tt.pos,pt[1].pos),xt&&(Tt.types=concatInPlace(Tt.types,pt[1].types)))}else{const Pe={positions:_e};xt&&(Pe.edgeTypes=be),Te.length&&(Pe.holeIndices=Te),Tt.push(Pe)}}return Tt}function bisectPolygon(_e,be,Te,Pe,pt,vt,xt){const Tt=(pt-Pe)/Te,It=[],Mt=[],Lt=[],Ft=[],Ot=[];let Vt,qt,Wt;const $t=utils_getPointAtIndex(_e,Tt-1,Te,Pe);let Kt=Math.sign(8&xt?$t[1]-vt[3]:$t[0]-vt[2]),Jt=be&&be[Tt-1],Yt=0,Qt=0;for(let pt=0;pt<Tt;pt++)Vt=utils_getPointAtIndex(_e,pt,Te,Pe,Vt),qt=Math.sign(8&xt?Vt[1]-vt[3]:Vt[0]-vt[2]),Wt=be&&be[Pe/Te+pt],qt&&Kt&&Kt!==qt&&(intersect($t,Vt,xt,vt,Ot),utils_push(It,Ot)&&Lt.push(Jt),utils_push(Mt,Ot)&&Ft.push(Jt)),qt<=0?(utils_push(It,Vt)&&Lt.push(Wt),Yt-=qt):Lt.length&&(Lt[Lt.length-1]=0),qt>=0?(utils_push(Mt,Vt)&&Ft.push(Wt),Qt+=qt):Ft.length&&(Ft[Ft.length-1]=0),utils_copy($t,Vt),Kt=qt,Jt=Wt;return[Yt?{pos:It,types:be&&Lt}:null,Qt?{pos:Mt,types:be&&Ft}:null]}function getGridCell(_e,be,Te,Pe){const pt=Math.floor((_e[0]-Te[0])/be)*be+Te[0],vt=Math.floor((_e[1]-Te[1])/be)*be+Te[1];return Pe[0]=pt,Pe[1]=vt,Pe[2]=pt+be,Pe[3]=vt+be,Pe}function moveToNeighborCell(_e,be,Te){8&Te?(_e[1]+=be,_e[3]+=be):4&Te?(_e[1]-=be,_e[3]-=be):2&Te?(_e[0]+=be,_e[2]+=be):1&Te&&(_e[0]-=be,_e[2]-=be)}function getBoundingBox(_e,be,Te,Pe){let pt=1/0,vt=-1/0,xt=1/0,Tt=-1/0;for(let Pe=0;Pe<Te;Pe+=be){const be=_e[Pe],Te=_e[Pe+1];pt=be<pt?be:pt,vt=be>vt?be:vt,xt=Te<xt?Te:xt,Tt=Te>Tt?Te:Tt}return Pe[0][0]=pt,Pe[0][1]=xt,Pe[1][0]=vt,Pe[1][1]=Tt,Pe}function cutPolylineByMercatorBounds(_e,be){const{size:Te=2,startIndex:Pe=0,endIndex:pt=_e.length,normalize:vt=!0}=be||{},xt=_e.slice(Pe,pt);wrapLongitudesForShortestPath(xt,Te,0,pt-Pe);const Tt=cutPolylineByGrid(xt,{size:Te,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(vt)for(const _e of Tt)shiftLongitudesIntoRange(_e,Te);return Tt}function cutPolygonByMercatorBounds(_e,be=null,Te){const{size:Pe=2,normalize:pt=!0,edgeTypes:vt=!1}=Te||{};be=be||[];const xt=[],Tt=[];let It=0,Mt=0;for(let pt=0;pt<=be.length;pt++){const vt=be[pt]||_e.length,Lt=Mt,Ft=findSplitIndex(_e,Pe,It,vt);for(let be=Ft;be<vt;be++)xt[Mt++]=_e[be];for(let be=It;be<Ft;be++)xt[Mt++]=_e[be];wrapLongitudesForShortestPath(xt,Pe,Lt,Mt),insertPoleVertices(xt,Pe,Lt,Mt,null==Te?void 0:Te.maxLatitude),It=vt,Tt[pt]=Mt}Tt.pop();const Lt=cutPolygonByGrid(xt,Tt,{size:Pe,gridResolution:360,gridOffset:[-180,-180],edgeTypes:vt});if(pt)for(const _e of Lt)shiftLongitudesIntoRange(_e.positions,Pe);return Lt}function findSplitIndex(_e,be,Te,Pe){let pt=-1,vt=-1;for(let xt=Te+1;xt<Pe;xt+=be){const be=Math.abs(_e[xt]);be>pt&&(pt=be,vt=xt-1)}return vt}function insertPoleVertices(_e,be,Te,Pe,pt=85.051129){const vt=_e[Te],xt=_e[Pe-be];if(Math.abs(vt-xt)>180){const Pe=utils_getPointAtIndex(_e,0,be,Te);Pe[0]+=360*Math.round((xt-vt)/360),utils_push(_e,Pe),Pe[1]=Math.sign(Pe[1])*pt,utils_push(_e,Pe),Pe[0]=vt,utils_push(_e,Pe)}}function wrapLongitudesForShortestPath(_e,be,Te,Pe){let pt,vt=_e[0];for(let xt=Te;xt<Pe;xt+=be){pt=_e[xt];const be=pt-vt;(be>180||be<-180)&&(pt-=360*Math.round(be/360)),_e[xt]=vt=pt}}function shiftLongitudesIntoRange(_e,be){let Te;const Pe=_e.length/be;for(let pt=0;pt<Pe&&(Te=_e[pt*be],(Te+180)%360==0);pt++);const pt=360*-Math.round(Te/360);if(0!==pt)for(let Te=0;Te<Pe;Te++)_e[Te*be]+=pt}class td extends bo{constructor(_e){const{id:be=(0,Fn.hQ)("column-geometry")}=_e,{indices:Te,attributes:Pe}=tesselateColumn(_e);super({..._e,id:be,indices:Te,attributes:Pe})}}function tesselateColumn(_e){const{radius:be,height:Te=1,nradial:Pe=10}=_e;let{vertices:pt}=_e;pt&&(Ft.Z.assert(pt.length>=Pe),pt=pt.flatMap((_e=>[_e[0],_e[1]])),polygon_utils_modifyPolygonWindingDirection(pt,Qs));const vt=Te>0,xt=Pe+1,Tt=vt?3*xt+1:Pe,It=2*Math.PI/Pe,Mt=new Uint16Array(vt?3*Pe*2:0),Lt=new Float32Array(3*Tt),Ot=new Float32Array(3*Tt);let Vt=0;if(vt){for(let _e=0;_e<xt;_e++){const vt=_e*It,xt=_e%Pe,Tt=Math.sin(vt),Mt=Math.cos(vt);for(let _e=0;_e<2;_e++)Lt[Vt+0]=pt?pt[2*xt]:Mt*be,Lt[Vt+1]=pt?pt[2*xt+1]:Tt*be,Lt[Vt+2]=(.5-_e)*Te,Ot[Vt+0]=pt?pt[2*xt]:Mt,Ot[Vt+1]=pt?pt[2*xt+1]:Tt,Vt+=3}Lt[Vt+0]=Lt[Vt-3],Lt[Vt+1]=Lt[Vt-2],Lt[Vt+2]=Lt[Vt-1],Vt+=3}for(let _e=vt?0:1;_e<xt;_e++){const vt=Math.floor(_e/2)*Math.sign(.5-_e%2),xt=vt*It,Tt=(vt+Pe)%Pe,Mt=Math.sin(xt),Ft=Math.cos(xt);Lt[Vt+0]=pt?pt[2*Tt]:Ft*be,Lt[Vt+1]=pt?pt[2*Tt+1]:Mt*be,Lt[Vt+2]=Te/2,Ot[Vt+2]=1,Vt+=3}if(vt){let _e=0;for(let be=0;be<Pe;be++)Mt[_e++]=2*be+0,Mt[_e++]=2*be+2,Mt[_e++]=2*be+0,Mt[_e++]=2*be+1,Mt[_e++]=2*be+1,Mt[_e++]=2*be+3}return{indices:Mt,attributes:{POSITION:{size:3,value:Lt},NORMAL:{size:3,value:Ot}}}}const id=[0,0,0,255],sd={diskResolution:{type:"number",min:4,value:20},vertices:null,radius:{type:"number",min:0,value:1e3},angle:{type:"number",value:0},offset:{type:"array",value:[0,0]},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},radiusUnits:"meters",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,extruded:!0,wireframe:!1,filled:!0,stroked:!1,getPosition:{type:"accessor",value:_e=>_e.position},getFillColor:{type:"accessor",value:id},getLineColor:{type:"accessor",value:id},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0,getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class dd extends no{getShaders(){const{gl:_e}=this.context,be=!(0,Pn.D0)(_e),Te={},Pe=this.props.flatShading&&(0,vt.U6)(_e,xt.h.GLSL_DERIVATIVES);return Pe&&(Te.FLAT_SHADING=1),super.getShaders({vs:"#version 300 es\n\n#define SHADER_NAME column-layer-vertex-shader\n\nin vec3 positions;\nin vec3 normals;\n\nin vec3 instancePositions;\nin float instanceElevations;\nin vec3 instancePositions64Low;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin float instanceStrokeWidths;\n\nin vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform bool extruded;\nuniform bool stroked;\nuniform bool isStroke;\nuniform float coverage;\nuniform float elevationScale;\nuniform float edgeDistance;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int radiusUnits;\nuniform int widthUnits;\n\n// Result\nout vec4 vColor;\n#ifdef FLAT_SHADING\nout vec4 position_commonspace;\n#endif\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  vec4 color = isStroke ? instanceLineColors : instanceFillColors;\n  // rotate primitive position and normal\n  mat2 rotationMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n\n  // calculate elevation, if 3d not enabled set to 0\n  // cylindar gemoetry height are between -1.0 to 1.0, transform it to between 0, 1\n  float elevation = 0.0;\n  // calculate stroke offset\n  float strokeOffsetRatio = 1.0;\n\n  if (extruded) {\n    elevation = instanceElevations * (positions.z + 1.0) / 2.0 * elevationScale;\n  } else if (stroked) {\n    float widthPixels = clamp(\n      project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n      widthMinPixels, widthMaxPixels) / 2.0;\n    float halfOffset = project_pixel_size(widthPixels) / project_size(edgeDistance * coverage * radius);\n    if (isStroke) {\n      strokeOffsetRatio -= sign(positions.z) * halfOffset;\n    } else {\n      strokeOffsetRatio -= halfOffset;\n    }\n  }\n\n  // if alpha == 0.0 or z < 0.0, do not render element\n  float shouldRender = float(color.a > 0.0 && instanceElevations >= 0.0);\n  float dotRadius = radius * coverage * shouldRender;\n\n  geometry.pickingColor = instancePickingColors;\n\n  // project center of column\n  vec3 centroidPosition = vec3(instancePositions.xy, instancePositions.z + elevation);\n  vec3 centroidPosition64Low = instancePositions64Low;\n  vec2 offset = (rotationMatrix * positions.xy * strokeOffsetRatio + offset) * dotRadius;\n  if (radiusUnits == UNIT_METERS) {\n    offset = project_size(offset);\n  }\n  vec3 pos = vec3(offset, 0.);\n  DECKGL_FILTER_SIZE(pos, geometry);\n\n  gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);\n  geometry.normal = project_normal(vec3(rotationMatrix * normals.xy, normals.z));\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Light calculations\n  if (extruded && !isStroke) {\n#ifdef FLAT_SHADING\n    position_commonspace = geometry.position;\n    vColor = vec4(color.rgb, color.a * opacity);\n#else\n    vec3 lightColor = lighting_getLightColor(color.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n    vColor = vec4(lightColor, color.a * opacity);\n#endif\n  } else {\n    vColor = vec4(color.rgb, color.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME column-layer-fragment-shader\n\nprecision highp float;\n\nuniform vec3 project_uCameraPosition;\nuniform bool extruded;\nuniform bool isStroke;\n\nout vec4 fragColor;\n\nin vec4 vColor;\n#ifdef FLAT_SHADING\nin vec4 position_commonspace;\n#endif\n\nvoid main(void) {\n  fragColor = vColor;\n#ifdef FLAT_SHADING\n  if (extruded && !isStroke && !picking_uActive) {\n    vec3 normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n    fragColor.rgb = lighting_getLightColor(vColor.rgb, project_uCameraPosition, position_commonspace.xyz, normal);\n  }\n#endif\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",defines:Te,transpileToGLSL100:be,modules:[so,Pe?Vs:Ns,vo]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instanceFillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getFillColor",defaultValue:id},instanceLineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getLineColor",defaultValue:id},instanceStrokeWidths:{size:1,accessor:"getLineWidth",transition:!0}})}updateState(_e){super.updateState(_e);const{props:be,oldProps:Te,changeFlags:Pe}=_e,pt=Pe.extensionsChanged||be.flatShading!==Te.flatShading;if(pt){var vt;const{gl:_e}=this.context;null===(vt=this.state.model)||void 0===vt||vt.delete(),this.state.model=this._getModel(_e),this.getAttributeManager().invalidateAll()}(pt||be.diskResolution!==Te.diskResolution||be.vertices!==Te.vertices||(be.extruded||be.stroked)!==(Te.extruded||Te.stroked))&&this._updateGeometry(be)}getGeometry(_e,be,Te){const Pe=new td({radius:1,height:Te?2:0,vertices:be,nradial:_e});let pt=0;if(be)for(let Te=0;Te<_e;Te++){const Pe=be[Te];pt+=Math.sqrt(Pe[0]*Pe[0]+Pe[1]*Pe[1])/_e}else pt=1;return this.setState({edgeDistance:Math.cos(Math.PI/_e)*pt}),Pe}_getModel(_e){return new za(_e,{...this.getShaders(),id:this.props.id,isInstanced:!0})}_updateGeometry({diskResolution:_e,vertices:be,extruded:Te,stroked:Pe}){const pt=this.getGeometry(_e,be,Te||Pe);this.setState({fillVertexCount:pt.attributes.POSITION.value.length/3,wireframeVertexCount:pt.indices.value.length}),this.state.model.setProps({geometry:pt})}draw({uniforms:_e}){const{lineWidthUnits:be,lineWidthScale:Te,lineWidthMinPixels:Pe,lineWidthMaxPixels:vt,radiusUnits:xt,elevationScale:Tt,extruded:It,filled:Mt,stroked:Lt,wireframe:Ft,offset:Ot,coverage:Vt,radius:qt,angle:Wt}=this.props,{model:$t,fillVertexCount:Kt,wireframeVertexCount:Jt,edgeDistance:Yt}=this.state;$t.setUniforms(_e).setUniforms({radius:qt,angle:Wt/180*Math.PI,offset:Ot,extruded:It,stroked:Lt,coverage:Vt,elevationScale:Tt,edgeDistance:Yt,radiusUnits:pt.iI[xt],widthUnits:pt.iI[be],widthScale:Te,widthMinPixels:Pe,widthMaxPixels:vt}),It&&Ft&&($t.setProps({isIndexed:!0}),$t.setVertexCount(Jt).setDrawMode(1).setUniforms({isStroke:!0}).draw()),Mt&&($t.setProps({isIndexed:!1}),$t.setVertexCount(Kt).setDrawMode(5).setUniforms({isStroke:!1}).draw()),!It&&Lt&&($t.setProps({isIndexed:!1}),$t.setVertexCount(2*Kt/3).setDrawMode(5).setUniforms({isStroke:!0}).draw())}}(0,Pe.Z)(dd,"layerName","ColumnLayer"),(0,Pe.Z)(dd,"defaultProps",sd);const ld=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),cd=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),vd=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),wd=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),Ed={POSITION:{size:3,value:new Float32Array(cd)},NORMAL:{size:3,value:new Float32Array(vd)},TEXCOORD_0:{size:2,value:new Float32Array(wd)}};class Sd extends bo{constructor(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:be=(0,Fn.hQ)("cube-geometry")}=_e;super({..._e,id:be,indices:{size:1,value:new Uint16Array(ld)},attributes:{...Ed,..._e.attributes}})}}class Cd extends dd{getGeometry(_e){return new Sd}draw({uniforms:_e}){const{elevationScale:be,extruded:Te,offset:Pe,coverage:vt,cellSize:xt,angle:Tt,radiusUnits:It}=this.props;this.state.model.setUniforms(_e).setUniforms({radius:xt/2,radiusUnits:pt.iI[It],angle:Tt,offset:Pe,extruded:Te,coverage:vt,elevationScale:be,edgeDistance:1,isWireframe:!1}).draw()}}(0,Pe.Z)(Cd,"layerName","GridCellLayer"),(0,Pe.Z)(Cd,"defaultProps",{cellSize:{type:"number",min:0,value:1e3},offset:{type:"array",value:[1,1]}});class Ad{constructor(_e){(0,Pe.Z)(this,"opts",void 0),(0,Pe.Z)(this,"typedArrayManager",void 0),(0,Pe.Z)(this,"indexStarts",[0]),(0,Pe.Z)(this,"vertexStarts",[0]),(0,Pe.Z)(this,"vertexCount",0),(0,Pe.Z)(this,"instanceCount",0),(0,Pe.Z)(this,"attributes",void 0),(0,Pe.Z)(this,"_attributeDefs",void 0),(0,Pe.Z)(this,"data",void 0),(0,Pe.Z)(this,"getGeometry",void 0),(0,Pe.Z)(this,"geometryBuffer",void 0),(0,Pe.Z)(this,"buffers",void 0),(0,Pe.Z)(this,"positionSize",void 0),(0,Pe.Z)(this,"normalize",void 0);const{attributes:be={}}=_e;this.typedArrayManager=Mt.Z,this.attributes={},this._attributeDefs=be,this.opts=_e,this.updateGeometry(_e)}updateGeometry(_e){Object.assign(this.opts,_e);const{data:be,buffers:Te={},getGeometry:Pe,geometryBuffer:pt,positionFormat:vt,dataChanged:xt,normalize:Tt=!0}=this.opts;if(this.data=be,this.getGeometry=Pe,this.positionSize=pt&&pt.size||("XY"===vt?2:3),this.buffers=Te,this.normalize=Tt,pt&&((0,Vt.Z)(be.startIndices),this.getGeometry=this.getGeometryFromBuffer(pt),Tt||(Te.positions=pt)),this.geometryBuffer=Te.positions,Array.isArray(xt))for(const _e of xt)this._rebuildGeometry(_e);else this._rebuildGeometry()}updatePartialGeometry({startRow:_e,endRow:be}){this._rebuildGeometry({startRow:_e,endRow:be})}getGeometryFromBuffer(_e){const be=_e.value||_e;return ArrayBuffer.isView(be)?getAccessorFromBuffer(be,{size:this.positionSize,offset:_e.offset,stride:_e.stride,startIndices:this.data.startIndices}):null}_allocate(_e,be){const{attributes:Te,buffers:Pe,_attributeDefs:pt,typedArrayManager:vt}=this;for(const xt in pt)if(xt in Pe)vt.release(Te[xt]),Te[xt]=null;else{const Pe=pt[xt];Pe.copy=be,Te[xt]=vt.allocate(Te[xt],_e,Pe)}}_forEachGeometry(_e,be,Te){const{data:Pe,getGeometry:pt}=this,{iterable:vt,objectInfo:xt}=createIterable(Pe,be,Te);for(const be of vt){xt.index++;_e(pt?pt(be,xt):null,xt.index)}}_rebuildGeometry(_e){if(!this.data)return;let{indexStarts:be,vertexStarts:Te,instanceCount:Pe}=this;const{data:pt,geometryBuffer:vt}=this,{startRow:xt=0,endRow:It=1/0}=_e||{},Mt={};if(_e||(be=[0],Te=[0]),this.normalize||!vt)this._forEachGeometry(((_e,be)=>{const Pe=_e&&this.normalizeGeometry(_e);Mt[be]=Pe,Te[be+1]=Te[be]+(Pe?this.getGeometrySize(Pe):0)}),xt,It),Pe=Te[Te.length-1];else if(Te=pt.startIndices,Pe=Te[pt.length]||0,ArrayBuffer.isView(vt))Pe=Pe||vt.length/this.positionSize;else if(vt instanceof Tt.Z){const _e=vt.accessor.stride||4*this.positionSize;Pe=Pe||vt.byteLength/_e}else if(vt.buffer){const _e=vt.stride||4*this.positionSize;Pe=Pe||vt.buffer.byteLength/_e}else if(vt.value){const _e=vt.value,be=vt.stride/_e.BYTES_PER_ELEMENT||this.positionSize;Pe=Pe||_e.length/be}this._allocate(Pe,Boolean(_e)),this.indexStarts=be,this.vertexStarts=Te,this.instanceCount=Pe;const Lt={};this._forEachGeometry(((_e,pt)=>{const vt=Mt[pt]||_e;Lt.vertexStart=Te[pt],Lt.indexStart=be[pt];const xt=pt<Te.length-1?Te[pt+1]:Pe;Lt.geometrySize=xt-Te[pt],Lt.geometryIndex=pt,this.updateGeometryAttributes(vt,Lt)}),xt,It),this.vertexCount=be[be.length-1]}}function normalizePath(_e,be,Te,Pe){let pt;if(Array.isArray(_e[0])){const Te=_e.length*be;pt=new Array(Te);for(let Te=0;Te<_e.length;Te++)for(let Pe=0;Pe<be;Pe++)pt[Te*be+Pe]=_e[Te][Pe]||0}else pt=_e;return Te?cutPolylineByGrid(pt,{size:be,gridResolution:Te}):Pe?cutPolylineByMercatorBounds(pt,{size:be}):pt}class Td extends Ad{constructor(_e){super({..._e,attributes:{positions:{size:3,padding:18,initialize:!0,type:_e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(_e){return this.attributes[_e]}getGeometryFromBuffer(_e){return this.normalize?super.getGeometryFromBuffer(_e):null}normalizeGeometry(_e){return this.normalize?normalizePath(_e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):_e}getGeometrySize(_e){if(isCut(_e)){let be=0;for(const Te of _e)be+=this.getGeometrySize(Te);return be}const be=this.getPathLength(_e);return be<2?0:this.isClosed(_e)?be<3?0:be+2:be}updateGeometryAttributes(_e,be){if(0!==be.geometrySize)if(_e&&isCut(_e))for(const Te of _e){const _e=this.getGeometrySize(Te);be.geometrySize=_e,this.updateGeometryAttributes(Te,be),be.vertexStart+=_e}else this._updateSegmentTypes(_e,be),this._updatePositions(_e,be)}_updateSegmentTypes(_e,be){const Te=this.attributes.segmentTypes,Pe=!!_e&&this.isClosed(_e),{vertexStart:pt,geometrySize:vt}=be;Te.fill(0,pt,pt+vt),Pe?(Te[pt]=4,Te[pt+vt-2]=4):(Te[pt]+=1,Te[pt+vt-2]+=2),Te[pt+vt-1]=4}_updatePositions(_e,be){const{positions:Te}=this.attributes;if(!Te||!_e)return;const{vertexStart:Pe,geometrySize:pt}=be,vt=new Array(3);for(let be=Pe,xt=0;xt<pt;be++,xt++)this.getPointOnPath(_e,xt,vt),Te[3*be]=vt[0],Te[3*be+1]=vt[1],Te[3*be+2]=vt[2]}getPathLength(_e){return _e.length/this.positionSize}getPointOnPath(_e,be,Te=[]){const{positionSize:Pe}=this;be*Pe>=_e.length&&(be+=1-_e.length/Pe);const pt=be*Pe;return Te[0]=_e[pt],Te[1]=_e[pt+1],Te[2]=3===Pe&&_e[pt+2]||0,Te}isClosed(_e){if(!this.normalize)return Boolean(this.opts.loop);const{positionSize:be}=this,Te=_e.length-be;return _e[0]===_e[Te]&&_e[1]===_e[Te+1]&&(2===be||_e[2]===_e[Te+2])}}function isCut(_e){return Array.isArray(_e[0])}const kd=[0,0,0,255],Id={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:_e=>_e.path},getColor:{type:"accessor",value:kd},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},Md={enter:(_e,be)=>be.length?be.subarray(be.length-_e.length):_e};class Ld extends no{constructor(..._e){super(..._e),(0,Pe.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  // side of the segment - -1: left, 0: center, 1: right\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // direction of the segment\n  vec2 dir = isEnd ? dirA : dirB;\n  // direction of the extrusion\n  vec2 perp = isEnd ? perpA : perpB;\n  // length of the segment\n  float L = isEnd ? lenA : lenB;\n\n  // A = angle of the corner\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  // -1: right, 1: left\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  // trim if inside corner extends further than the line segment\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n\n  // special treatment for start cap and end cap\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n\n  // Generate variables for fragment shader\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return currPoint + offset;\n}\n\n// In clipspace extrusion, if a line extends behind the camera, clip it to avoid visual artifacts\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    // Extrude in clipspace\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 pos = lineJoin(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    // Extrude in commonspace\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec4 pos = vec4(\n      lineJoin(prevPosition, currPosition, nextPosition, width.xy),\n      1.0);\n    geometry.position = pos;\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\n/*\n * vPathPosition represents the relative coordinates of the current fragment on the path segment.\n * vPathPosition.x - position along the width of the path, between [-1, 1]. 0 is the center line.\n * vPathPosition.y - position along the length of the path, between [0, L / width].\n */\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    // if joint is rounded, test distance from the corner\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    // trim miter\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[so,vo]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:Md,accessor:"getPath",update:this.calculatePositions,noAlloc:true,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:true},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:Md,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:Md,defaultValue:kd},instancePickingColors:{size:3,type:5121,accessor:(_e,{index:be,target:Te})=>this.encodePickingColor(_e&&_e.__source?_e.__source.index:be,Te)}}),this.setState({pathTesselator:new Td({fp64:this.use64bitPositions()})})}updateState(_e){super.updateState(_e);const{props:be,changeFlags:Te}=_e,Pe=this.getAttributeManager();if(Te.dataChanged||Te.updateTriggersChanged&&(Te.updateTriggersChanged.all||Te.updateTriggersChanged.getPath)){const{pathTesselator:_e}=this.state,pt=be.data.attributes||{};_e.updateGeometry({data:be.data,geometryBuffer:pt.getPath,buffers:pt,normalize:!be._pathType,loop:"loop"===be._pathType,getGeometry:be.getPath,positionFormat:be.positionFormat,wrapLongitude:be.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:Te.dataChanged}),this.setState({numInstances:_e.instanceCount,startIndices:_e.vertexStarts}),Te.dataChanged||Pe.invalidateAll()}if(Te.extensionsChanged){var pt;const{gl:_e}=this.context;null===(pt=this.state.model)||void 0===pt||pt.delete(),this.state.model=this._getModel(_e),Pe.invalidateAll()}}getPickingInfo(_e){const be=super.getPickingInfo(_e),{index:Te}=be,{data:Pe}=this.props;return Pe[0]&&Pe[0].__source&&(be.object=Pe.find((_e=>_e.__source.index===Te))),be}disablePickingIndex(_e){const{data:be}=this.props;if(be[0]&&be[0].__source)for(let Te=0;Te<be.length;Te++)be[Te].__source.index===_e&&this._disablePickingIndex(Te);else this._disablePickingIndex(_e)}draw({uniforms:_e}){const{jointRounded:be,capRounded:Te,billboard:Pe,miterLimit:vt,widthUnits:xt,widthScale:Tt,widthMinPixels:It,widthMaxPixels:Mt}=this.props;this.state.model.setUniforms(_e).setUniforms({jointType:Number(be),capType:Number(Te),billboard:Pe,widthUnits:pt.iI[xt],widthScale:Tt,miterLimit:vt,widthMinPixels:It,widthMaxPixels:Mt}).draw()}_getModel(_e){return new za(_e,{...this.getShaders(),id:this.props.id,geometry:new bo({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0})}calculatePositions(_e){const{pathTesselator:be}=this.state;_e.startIndices=be.vertexStarts,_e.value=be.get("positions")}calculateSegmentTypes(_e){const{pathTesselator:be}=this.state;_e.startIndices=be.vertexStarts,_e.value=be.get("segmentTypes")}}(0,Pe.Z)(Ld,"defaultProps",Id),(0,Pe.Z)(Ld,"layerName","PathLayer");class Fd extends no{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every((_e=>_e.isLoaded))}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(_e){}setState(_e){super.setState(_e),this.setNeedsUpdate()}getPickingInfo({info:_e}){const{object:be}=_e;return be&&be.__source&&be.__source.parent&&be.__source.parent.id===this.id?(_e.object=be.__source.object,_e.index=be.__source.index,_e):_e}filterSubLayer(_e){return!0}shouldRenderSubLayer(_e,be){return be&&be.length}getSubLayerClass(_e,be){const{_subLayerProps:Te}=this.props;return Te&&Te[_e]&&Te[_e].type||be}getSubLayerRow(_e,be,Te){return _e.__source={parent:this,object:be,index:Te},_e}getSubLayerAccessor(_e){if("function"==typeof _e){const be={index:-1,data:this.props.data,target:[]};return(Te,Pe)=>Te&&Te.__source?(be.index=Te.__source.index,_e(Te.__source.object,be)):_e(Te,Pe)}return _e}getSubLayerProps(_e={}){var be;const{opacity:Te,pickable:Pe,visible:pt,parameters:vt,getPolygonOffset:xt,highlightedObjectIndex:Tt,autoHighlight:It,highlightColor:Mt,coordinateSystem:Lt,coordinateOrigin:Ft,wrapLongitude:Ot,positionFormat:Vt,modelMatrix:qt,extensions:Wt,fetch:$t,operation:Kt,_subLayerProps:Jt}=this.props,Yt={id:"",updateTriggers:{},opacity:Te,pickable:Pe,visible:pt,parameters:vt,getPolygonOffset:xt,highlightedObjectIndex:Tt,autoHighlight:It,highlightColor:Mt,coordinateSystem:Lt,coordinateOrigin:Ft,wrapLongitude:Ot,positionFormat:Vt,modelMatrix:qt,extensions:Wt,fetch:$t,operation:Kt},Qt=Jt&&_e.id&&Jt[_e.id],an=Qt&&Qt.updateTriggers,cn=_e.id||"sublayer";if(Qt){const be=this.constructor._propTypes,Te=_e.type?_e.type._propTypes:{};for(const _e in Qt){const Pe=Te[_e]||be[_e];Pe&&"accessor"===Pe.type&&(Qt[_e]=this.getSubLayerAccessor(Qt[_e]))}}Object.assign(Yt,_e,Qt),Yt.id="".concat(this.props.id,"-").concat(cn),Yt.updateTriggers={all:null===(be=this.props.updateTriggers)||void 0===be?void 0:be.all,..._e.updateTriggers,...an};for(const _e of Wt){const be=_e.getSubLayerProps.call(this,_e);be&&Object.assign(Yt,be,{updateTriggers:Object.assign(Yt.updateTriggers,be.updateTriggers)})}return Yt}_updateAutoHighlight(_e){for(const be of this.getSubLayers())be.updateAutoHighlight(_e)}_getAttributeManager(){return null}_postUpdate(_e,be){let Te=this.internalState.subLayers;const Pe=!Te||this.needsUpdate();if(Pe){const _e=this.renderLayers();Te=(0,$t.x)(_e,Boolean),this.internalState.subLayers=Te}(0,an.Z)("compositeLayer.renderLayers",this,Pe,Te);for(const _e of Te)_e.parent=this}}(0,Pe.Z)(Fd,"layerName","CompositeLayer");var Bd=Te(9187),Ud=Te.n(Bd);const Gd=Js,Zd=Qs,Wd={isClosed:!0};function validate(_e){if(_e=_e&&_e.positions||_e,!Array.isArray(_e)&&!ArrayBuffer.isView(_e))throw new Error("invalid polygon")}function getPositions(_e){return"positions"in _e?_e.positions:_e}function getHoleIndices(_e){return"holeIndices"in _e?_e.holeIndices:null}function isNested(_e){return Array.isArray(_e[0])}function isSimple(_e){return _e.length>=1&&_e[0].length>=2&&Number.isFinite(_e[0][0])}function isNestedRingClosed(_e){const be=_e[0],Te=_e[_e.length-1];return be[0]===Te[0]&&be[1]===Te[1]&&be[2]===Te[2]}function isFlatRingClosed(_e,be,Te,Pe){for(let pt=0;pt<be;pt++)if(_e[Te+pt]!==_e[Pe-be+pt])return!1;return!0}function copyNestedRing(_e,be,Te,Pe,pt){let vt=be;const xt=Te.length;for(let be=0;be<xt;be++)for(let pt=0;pt<Pe;pt++)_e[vt++]=Te[be][pt]||0;if(!isNestedRingClosed(Te))for(let be=0;be<Pe;be++)_e[vt++]=Te[0][be]||0;return Wd.start=be,Wd.end=vt,Wd.size=Pe,polygon_utils_modifyPolygonWindingDirection(_e,pt,Wd),vt}function copyFlatRing(_e,be,Te,Pe,pt=0,vt,xt){const Tt=(vt=vt||Te.length)-pt;if(Tt<=0)return be;let It=be;for(let be=0;be<Tt;be++)_e[It++]=Te[pt+be];if(!isFlatRingClosed(Te,Pe,pt,vt))for(let be=0;be<Pe;be++)_e[It++]=Te[pt+be];return Wd.start=be,Wd.end=It,Wd.size=Pe,polygon_utils_modifyPolygonWindingDirection(_e,xt,Wd),It}function normalize(_e,be){validate(_e);const Te=[],Pe=[];if("positions"in _e){const{positions:pt,holeIndices:vt}=_e;if(vt){let _e=0;for(let xt=0;xt<=vt.length;xt++)_e=copyFlatRing(Te,_e,pt,be,vt[xt-1],vt[xt],0===xt?Gd:Zd),Pe.push(_e);return Pe.pop(),{positions:Te,holeIndices:Pe}}_e=pt}if(!isNested(_e))return copyFlatRing(Te,0,_e,be,0,Te.length,Gd),Te;if(!isSimple(_e)){let pt=0;for(const[vt,xt]of _e.entries())pt=copyNestedRing(Te,pt,xt,be,0===vt?Gd:Zd),Pe.push(pt);return Pe.pop(),{positions:Te,holeIndices:Pe}}return copyNestedRing(Te,0,_e,be,Gd),Te}function getSurfaceIndices(_e,be,Te){let Pe=getHoleIndices(_e);Pe&&(Pe=Pe.map((_e=>_e/be)));let pt=getPositions(_e);if(Te){const _e=pt.length;pt=pt.slice();const Pe=[];for(let vt=0;vt<_e;vt+=be){Pe[0]=pt[vt],Pe[1]=pt[vt+1];const _e=Te(Pe);pt[vt]=_e[0],pt[vt+1]=_e[1]}}return Ud()(pt,Pe,be)}class Hd extends Ad{constructor(_e){const{fp64:be,IndexType:Te=Uint32Array}=_e;super({..._e,attributes:{positions:{size:3,type:be?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:Te,size:1}}})}get(_e){const{attributes:be}=this;return"indices"===_e?be.indices&&be.indices.subarray(0,this.vertexCount):be[_e]}updateGeometry(_e){super.updateGeometry(_e);const be=this.buffers.indices;if(be)this.vertexCount=(be.value||be).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(_e){if(this.normalize){const be=normalize(_e,this.positionSize);return this.opts.resolution?cutPolygonByGrid(getPositions(be),getHoleIndices(be),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?cutPolygonByMercatorBounds(getPositions(be),getHoleIndices(be),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):be}return _e}getGeometrySize(_e){if(polygon_tesselator_isCut(_e)){let be=0;for(const Te of _e)be+=this.getGeometrySize(Te);return be}return getPositions(_e).length/this.positionSize}getGeometryFromBuffer(_e){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(_e):null}updateGeometryAttributes(_e,be){if(_e&&polygon_tesselator_isCut(_e))for(const Te of _e){const _e=this.getGeometrySize(Te);be.geometrySize=_e,this.updateGeometryAttributes(Te,be),be.vertexStart+=_e,be.indexStart=this.indexStarts[be.geometryIndex+1]}else this._updateIndices(_e,be),this._updatePositions(_e,be),this._updateVertexValid(_e,be)}_updateIndices(_e,{geometryIndex:be,vertexStart:Te,indexStart:Pe}){const{attributes:pt,indexStarts:vt,typedArrayManager:xt}=this;let Tt=pt.indices;if(!Tt||!_e)return;let It=Pe;const Mt=getSurfaceIndices(_e,this.positionSize,this.opts.preproject);Tt=xt.allocate(Tt,Pe+Mt.length,{copy:!0});for(let _e=0;_e<Mt.length;_e++)Tt[It++]=Mt[_e]+Te;vt[be+1]=Pe+Mt.length,pt.indices=Tt}_updatePositions(_e,{vertexStart:be,geometrySize:Te}){const{attributes:{positions:Pe},positionSize:pt}=this;if(!Pe||!_e)return;const vt=getPositions(_e);for(let _e=be,xt=0;xt<Te;_e++,xt++){const be=vt[xt*pt],Te=vt[xt*pt+1],Tt=pt>2?vt[xt*pt+2]:0;Pe[3*_e]=be,Pe[3*_e+1]=Te,Pe[3*_e+2]=Tt}}_updateVertexValid(_e,{vertexStart:be,geometrySize:Te}){const{positionSize:Pe}=this,pt=this.attributes.vertexValid,vt=_e&&getHoleIndices(_e);if(_e&&_e.edgeTypes?pt.set(_e.edgeTypes,be):pt.fill(1,be,be+Te),vt)for(let _e=0;_e<vt.length;_e++)pt[be+vt[_e]/Pe-1]=0;pt[be+Te-1]=0}}function polygon_tesselator_isCut(_e){return Array.isArray(_e)&&_e.length>0&&!Number.isFinite(_e[0])}var $d="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n#ifdef IS_SIDE_VERTEX\n  if(vertexValid < 0.5){\n    gl_Position = vec4(0.);\n    return;\n  }\n#endif\n\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n  }\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n  #ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n  #else\n    normal = project_normal(vec3(0.0, 0.0, 1.0));\n  #endif\n    geometry.normal = normal;\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",Xd="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat($d,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),Kd="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat($d,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  #if RING_WINDING_ORDER_CW == 1\n    props.positions = instancePositions;\n    props.positions64Low = instancePositions64Low;\n    props.nextPositions = nextPositions;\n    props.nextPositions64Low = nextPositions64Low;\n  #else\n    props.positions = nextPositions;\n    props.positions64Low = nextPositions64Low;\n    props.nextPositions = instancePositions;\n    props.nextPositions64Low = instancePositions64Low;\n  #endif\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n\n  calculatePosition(props);\n}\n");const Jd=[0,0,0,255],Yd={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:_e=>_e.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:Jd},getLineColor:{type:"accessor",value:Jd},material:!0},Qd={enter:(_e,be)=>be.length?be.subarray(be.length-_e.length):_e};class ul extends no{constructor(..._e){super(..._e),(0,Pe.Z)(this,"state",void 0)}getShaders(_e){return super.getShaders({vs:"top"===_e?Xd:Kd,fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[so,Ns,vo]})}get wrapLongitude(){return!1}initializeState(){const{gl:_e,viewport:be}=this.context;let{coordinateSystem:Te}=this.props;be.isGeospatial&&Te===pt.Df.DEFAULT&&(Te=pt.Df.LNGLAT),this.setState({numInstances:0,polygonTesselator:new Hd({preproject:Te===pt.Df.LNGLAT&&be.projectFlat.bind(be),fp64:this.use64bitPositions(),IndexType:!_e||(0,vt.ag)(_e,xt.h.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});const Pe=this.getAttributeManager(),Tt=!0;Pe.remove(["instancePickingColors"]),Pe.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:Tt},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:Qd,accessor:"getPolygon",update:this.calculatePositions,noAlloc:Tt,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:Tt},elevations:{size:1,transition:Qd,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:Qd,accessor:"getFillColor",defaultValue:Jd,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:Qd,accessor:"getLineColor",defaultValue:Jd,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:(_e,{index:be,target:Te})=>this.encodePickingColor(_e&&_e.__source?_e.__source.index:be,Te),shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}getPickingInfo(_e){const be=super.getPickingInfo(_e),{index:Te}=be,{data:Pe}=this.props;return Pe[0]&&Pe[0].__source&&(be.object=Pe.find((_e=>_e.__source.index===Te))),be}disablePickingIndex(_e){const{data:be}=this.props;if(be[0]&&be[0].__source)for(let Te=0;Te<be.length;Te++)be[Te].__source.index===_e&&this._disablePickingIndex(Te);else this._disablePickingIndex(_e)}draw({uniforms:_e}){const{extruded:be,filled:Te,wireframe:Pe,elevationScale:pt}=this.props,{topModel:vt,sideModel:xt,polygonTesselator:Tt}=this.state,It={..._e,extruded:Boolean(be),elevationScale:pt};xt&&(xt.setInstanceCount(Tt.instanceCount-1),xt.setUniforms(It),Pe&&(xt.setDrawMode(3),xt.setUniforms({isWireframe:!0}).draw()),Te&&(xt.setDrawMode(6),xt.setUniforms({isWireframe:!1}).draw())),vt&&(vt.setVertexCount(Tt.vertexCount),vt.setUniforms(It).draw())}updateState(_e){super.updateState(_e),this.updateGeometry(_e);const{props:be,oldProps:Te,changeFlags:Pe}=_e,pt=this.getAttributeManager();var vt;(Pe.extensionsChanged||be.filled!==Te.filled||be.extruded!==Te.extruded)&&(null===(vt=this.state.models)||void 0===vt||vt.forEach((_e=>_e.delete())),this.setState(this._getModels(this.context.gl)),pt.invalidateAll())}updateGeometry({props:_e,oldProps:be,changeFlags:Te}){if(Te.dataChanged||Te.updateTriggersChanged&&(Te.updateTriggersChanged.all||Te.updateTriggersChanged.getPolygon)){const{polygonTesselator:be}=this.state,Pe=_e.data.attributes||{};be.updateGeometry({data:_e.data,normalize:_e._normalize,geometryBuffer:Pe.getPolygon,buffers:Pe,getGeometry:_e.getPolygon,positionFormat:_e.positionFormat,wrapLongitude:_e.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:Te.dataChanged}),this.setState({numInstances:be.instanceCount,startIndices:be.vertexStarts}),Te.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(_e){const{id:be,filled:Te,extruded:Pe}=this.props;let pt,vt;if(Te){const Te=this.getShaders("top");Te.defines.NON_INSTANCED_MODEL=1,pt=new za(_e,{...Te,id:"".concat(be,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0})}return Pe&&(vt=new za(_e,{...this.getShaders("side"),id:"".concat(be,"-side"),geometry:new bo({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}),vt.userData.excludeAttributes={indices:!0}),{models:[vt,pt].filter(Boolean),topModel:pt,sideModel:vt}}calculateIndices(_e){const{polygonTesselator:be}=this.state;_e.startIndices=be.indexStarts,_e.value=be.get("indices")}calculatePositions(_e){const{polygonTesselator:be}=this.state;_e.startIndices=be.vertexStarts,_e.value=be.get("positions")}calculateVertexValid(_e){_e.value=this.state.polygonTesselator.get("vertexValid")}}function replaceInRange({data:_e,getIndex:be,dataRange:Te,replace:Pe}){const{startRow:pt=0,endRow:vt=1/0}=Te,xt=_e.length;let Tt=xt,It=xt;for(let Te=0;Te<xt;Te++){const Pe=be(_e[Te]);if(Tt>Te&&Pe>=pt&&(Tt=Te),Pe>=vt){It=Te;break}}let Mt=Tt;const Lt=It-Tt!==Pe.length?_e.slice(It):void 0;for(let be=0;be<Pe.length;be++)_e[Mt++]=Pe[be];if(Lt){for(let be=0;be<Lt.length;be++)_e[Mt++]=Lt[be];_e.length=Mt}return{startRow:Tt,endRow:Tt+Pe.length}}(0,Pe.Z)(ul,"defaultProps",Yd),(0,Pe.Z)(ul,"layerName","SolidPolygonLayer");const _l=[0,0,0,255],Rl={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:_e=>_e.polygon},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:_l},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0};class Ul extends Fd{initializeState(){this.state={paths:[]},this.props.getLineDashArray&&Ft.Z.removed("getLineDashArray","PathStyleExtension")()}updateState({changeFlags:_e}){const be=_e.dataChanged||_e.updateTriggersChanged&&(_e.updateTriggersChanged.all||_e.updateTriggersChanged.getPolygon);if(be&&Array.isArray(_e.dataChanged)){const be=this.state.paths.slice(),Te=_e.dataChanged.map((_e=>replaceInRange({data:be,getIndex:_e=>_e.__source.index,dataRange:_e,replace:this._getPaths(_e)})));this.setState({paths:be,pathsDiff:Te})}else be&&this.setState({paths:this._getPaths(),pathsDiff:null})}_getPaths(_e={}){const{data:be,getPolygon:Te,positionFormat:Pe,_normalize:pt}=this.props,vt=[],xt="XY"===Pe?2:3,{startRow:Tt,endRow:It}=_e,{iterable:Mt,objectInfo:Lt}=createIterable(be,Tt,It);for(const _e of Mt){Lt.index++;let be=Te(_e,Lt);pt&&(be=normalize(be,xt));const{holeIndices:Pe}=be,Tt=be.positions||be;if(Pe)for(let be=0;be<=Pe.length;be++){const Te=Tt.slice(Pe[be-1]||0,Pe[be]||Tt.length);vt.push(this.getSubLayerRow({path:Te},_e,Lt.index))}else vt.push(this.getSubLayerRow({path:Tt},_e,Lt.index))}return vt}renderLayers(){const{data:_e,_dataDiff:be,stroked:Te,filled:Pe,extruded:pt,wireframe:vt,_normalize:xt,_windingOrder:Tt,elevationScale:It,transitions:Mt,positionFormat:Lt}=this.props,{lineWidthUnits:Ft,lineWidthScale:Ot,lineWidthMinPixels:Vt,lineWidthMaxPixels:qt,lineJointRounded:Wt,lineMiterLimit:$t,lineDashJustified:Kt}=this.props,{getFillColor:Jt,getLineColor:Yt,getLineWidth:Qt,getLineDashArray:an,getElevation:cn,getPolygon:hn,updateTriggers:pn,material:xn}=this.props,{paths:Pn,pathsDiff:Ln}=this.state,Fn=this.getSubLayerClass("fill",ul),jn=this.getSubLayerClass("stroke",Ld),$n=this.shouldRenderSubLayer("fill",Pn)&&new Fn({_dataDiff:be,extruded:pt,elevationScale:It,filled:Pe,wireframe:vt,_normalize:xt,_windingOrder:Tt,getElevation:cn,getFillColor:Jt,getLineColor:pt&&vt?Yt:_l,material:xn,transitions:Mt},this.getSubLayerProps({id:"fill",updateTriggers:pn&&{getPolygon:pn.getPolygon,getElevation:pn.getElevation,getFillColor:pn.getFillColor,lineColors:pt&&vt,getLineColor:pn.getLineColor}}),{data:_e,positionFormat:Lt,getPolygon:hn});return[!pt&&$n,!pt&&Te&&this.shouldRenderSubLayer("stroke",Pn)&&new jn({_dataDiff:Ln&&(()=>Ln),widthUnits:Ft,widthScale:Ot,widthMinPixels:Vt,widthMaxPixels:qt,jointRounded:Wt,miterLimit:$t,dashJustified:Kt,_pathType:"loop",transitions:Mt&&{getWidth:Mt.getLineWidth,getColor:Mt.getLineColor,getPath:Mt.getPolygon},getColor:this.getSubLayerAccessor(Yt),getWidth:this.getSubLayerAccessor(Qt),getDashArray:this.getSubLayerAccessor(an)},this.getSubLayerProps({id:"stroke",updateTriggers:pn&&{getWidth:pn.getLineWidth,getColor:pn.getLineColor,getDashArray:pn.getLineDashArray}}),{data:Pn,positionFormat:Lt,getPath:_e=>_e.path}),pt&&$n]}}function binaryToFeatureForAccesor(_e,be){if(!_e)return null;const Te="startIndices"in _e?_e.startIndices[be]:be,Pe=_e.featureIds.value[Te];return-1!==Te?getPropertiesForIndex(_e,Pe,Te):null}function getPropertiesForIndex(_e,be,Te){const Pe={properties:{..._e.properties[be]}};for(const be in _e.numericProps)Pe.properties[be]=_e.numericProps[be].value[Te];return Pe}function calculatePickingColors(_e,be){const Te={points:null,lines:null,polygons:null};for(const Pe in Te){const pt=_e[Pe].globalFeatureIds.value;Te[Pe]=new Uint8ClampedArray(3*pt.length);const vt=[];for(let _e=0;_e<pt.length;_e++)be(pt[_e],vt),Te[Pe][3*_e+0]=vt[0],Te[Pe][3*_e+1]=vt[1],Te[Pe][3*_e+2]=vt[2]}return Te}(0,Pe.Z)(Ul,"layerName","PolygonLayer"),(0,Pe.Z)(Ul,"defaultProps",Rl);const Wl=[];class Hl extends Ds{constructor(..._e){super(..._e),(0,Pe.Z)(this,"state",void 0)}getShaders(){return{...super.getShaders(),fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"}}initializeState(){super.initializeState();this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(_e,{index:be,target:Te})=>this.encodePickingColor(be,Te)}})}updateState(_e){super.updateState(_e);const{props:be,oldProps:Te}=_e;let{outlineColor:Pe}=be;Pe!==Te.outlineColor&&(Pe=Pe.map((_e=>_e/255)),Pe[3]=Number.isFinite(Pe[3])?Pe[3]:1,this.setState({outlineColor:Pe})),!be.sdf&&be.outlineWidth&&Ft.Z.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(_e){const{sdf:be,smoothing:Te,outlineWidth:Pe}=this.props,{outlineColor:pt}=this.state;_e.uniforms={..._e.uniforms,buffer:.75,outlineBuffer:Pe?Math.max(Te,.75*(1-Pe)):-1,gamma:Te,sdf:Boolean(be),outlineColor:pt},super.draw(_e)}getInstanceOffset(_e){return _e?Array.from(_e).flatMap((_e=>super.getInstanceOffset(_e))):Wl}getInstanceColorMode(_e){return 1}getInstanceIconFrame(_e){return _e?Array.from(_e).flatMap((_e=>super.getInstanceIconFrame(_e))):Wl}}(0,Pe.Z)(Hl,"defaultProps",{getIconOffsets:{type:"accessor",value:_e=>_e.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),(0,Pe.Z)(Hl,"layerName","MultiIconLayer");var $l=Te(49296),Kl=Te.n($l);const Yl=[];function utils_buildMapping({characterSet:_e,getFontWidth:be,fontHeight:Te,buffer:Pe,maxCanvasWidth:pt,mapping:vt={},xOffset:xt=0,yOffset:Tt=0}){let It=0,Mt=xt;for(const xt of _e)if(!vt[xt]){const _e=be(xt);Mt+_e+2*Pe>pt&&(Mt=0,It++),vt[xt]={x:Mt+Pe,y:Tt+It*(Te+2*Pe)+Pe,width:_e,height:Te},Mt+=_e+2*Pe}const Lt=Te+2*Pe;return{mapping:vt,xOffset:Mt,yOffset:Tt+It*Lt,canvasHeight:(Ft=Tt+(It+1)*Lt,Math.pow(2,Math.ceil(Math.log2(Ft))))};var Ft}function getTextWidth(_e,be,Te,Pe){let pt=0;for(let xt=be;xt<Te;xt++){var vt;pt+=(null===(vt=Pe[_e[xt]])||void 0===vt?void 0:vt.width)||0}return pt}function breakAll(_e,be,Te,Pe,pt,vt){let xt=be,Tt=0;for(let It=be;It<Te;It++){const be=getTextWidth(_e,It,It+1,pt);Tt+be>Pe&&(xt<It&&vt.push(It),xt=It,Tt=0),Tt+=be}return Tt}function breakWord(_e,be,Te,Pe,pt,vt){let xt=be,Tt=be,It=be,Mt=0;for(let Lt=be;Lt<Te;Lt++)if(" "===_e[Lt]?It=Lt+1:" "!==_e[Lt+1]&&Lt+1!==Te||(It=Lt+1),It>Tt){let be=getTextWidth(_e,Tt,It,pt);Mt+be>Pe&&(xt<Tt&&(vt.push(Tt),xt=Tt,Mt=0),be>Pe&&(be=breakAll(_e,Tt,It,Pe,pt,vt),xt=vt[vt.length-1])),Tt=It,Mt+=be}return Mt}function autoWrapping(_e,be,Te,Pe,pt=0,vt){void 0===vt&&(vt=_e.length);const xt=[];return"break-all"===be?breakAll(_e,pt,vt,Te,Pe,xt):breakWord(_e,pt,vt,Te,Pe,xt),xt}function transformRow(_e,be,Te,Pe,pt,vt){let xt=0,Tt=0;for(let vt=be;vt<Te;vt++){const be=_e[vt],Te=Pe[be];Te?(Tt||(Tt=Te.height),pt[vt]=xt+Te.width/2,xt+=Te.width):(Ft.Z.warn("Missing character: ".concat(be," (").concat(be.codePointAt(0),")"))(),pt[vt]=xt,xt+=32)}vt[0]=xt,vt[1]=Tt}function transformParagraph(_e,be,Te,Pe,pt){const vt=Array.from(_e),xt=vt.length,Tt=new Array(xt),It=new Array(xt),Mt=new Array(xt),Lt=("break-word"===Te||"break-all"===Te)&&isFinite(Pe)&&Pe>0,Ft=[0,0],Ot=[0,0];let Vt=0,qt=0,Wt=0;for(let _e=0;_e<=xt;_e++){const $t=vt[_e];if("\n"!==$t&&_e!==xt||(Wt=_e),Wt>qt){const _e=Lt?autoWrapping(vt,Te,Pe,pt,qt,Wt):Yl;for(let Te=0;Te<=_e.length;Te++){const Pe=0===Te?qt:_e[Te-1],xt=Te<_e.length?_e[Te]:Wt;transformRow(vt,Pe,xt,pt,Tt,Ot);for(let _e=Pe;_e<xt;_e++)It[_e]=Vt+Ot[1]/2,Mt[_e]=Ot[0];Vt+=Ot[1]*be,Ft[0]=Math.max(Ft[0],Ot[0])}qt=Wt}"\n"===$t&&(Tt[qt]=0,It[qt]=0,Mt[qt]=0,qt++)}return Ft[1]=Vt,{x:Tt,y:It,rowWidth:Mt,size:Ft}}function getTextFromBuffer({value:_e,length:be,stride:Te,offset:Pe,startIndices:pt,characterSet:vt}){const xt=_e.BYTES_PER_ELEMENT,Tt=Te?Te/xt:1,It=Pe?Pe/xt:0,Mt=pt[be]||Math.ceil((_e.length-It)/Tt),Lt=vt&&new Set,Ft=new Array(be);let Ot=_e;if(Tt>1||It>0){Ot=new(0,_e.constructor)(Mt);for(let be=0;be<Mt;be++)Ot[be]=_e[be*Tt+It]}for(let _e=0;_e<be;_e++){const be=pt[_e],Te=pt[_e+1]||Mt,Pe=Ot.subarray(be,Te);Ft[_e]=String.fromCodePoint.apply(null,Pe),Lt&&Pe.forEach(Lt.add,Lt)}if(Lt)for(const _e of Lt)vt.add(String.fromCodePoint(_e));return{texts:Ft,characterCount:Mt}}class eu{constructor(_e=5){(0,Pe.Z)(this,"limit",void 0),(0,Pe.Z)(this,"_cache",{}),(0,Pe.Z)(this,"_order",[]),this.limit=_e}get(_e){const be=this._cache[_e];return be&&(this._deleteOrder(_e),this._appendOrder(_e)),be}set(_e,be){this._cache[_e]?(this.delete(_e),this._cache[_e]=be,this._appendOrder(_e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[_e]=be,this._appendOrder(_e))}delete(_e){this._cache[_e]&&(delete this._cache[_e],this._deleteOrder(_e))}_deleteOrder(_e){const be=this._order.indexOf(_e);be>=0&&this._order.splice(be,1)}_appendOrder(_e){this._order.push(_e)}}const tu={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function getDefaultCharacterSet(){const _e=[];for(let be=32;be<128;be++)_e.push(String.fromCharCode(be));return _e}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let nu=new eu(3);function getNewChars(_e,be){let Te;Te="string"==typeof be?new Set(Array.from(be)):new Set(be);const Pe=nu.get(_e);if(!Pe)return Te;for(const _e in Pe.mapping)Te.has(_e)&&Te.delete(_e);return Te}function populateAlphaChannel(_e,be){for(let Te=0;Te<_e.length;Te++)be.data[4*Te+3]=_e[Te]}function setTextStyle(_e,be,Te,Pe){_e.font="".concat(Pe," ").concat(Te,"px ").concat(be),_e.fillStyle="#000",_e.textBaseline="alphabetic",_e.textAlign="left"}function setFontAtlasCacheLimit(_e){Ft.Z.assert(Number.isFinite(_e)&&_e>=3,"Invalid cache limit"),nu=new eu(_e)}class ou{constructor(){(0,Pe.Z)(this,"props",{...tu}),(0,Pe.Z)(this,"_key",void 0),(0,Pe.Z)(this,"_atlas",void 0)}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){return 1.2}setProps(_e={}){Object.assign(this.props,_e);const be=this._key;this._key=this._getKey();const Te=getNewChars(this._key,this.props.characterSet),Pe=nu.get(this._key);if(Pe&&0===Te.size)return void(this._key!==be&&(this._atlas=Pe));const pt=this._generateFontAtlas(this._key,Te,Pe);this._atlas=pt,nu.set(this._key,pt)}_generateFontAtlas(_e,be,Te){const{fontFamily:Pe,fontWeight:pt,fontSize:vt,buffer:xt,sdf:Tt,radius:It,cutoff:Mt}=this.props;let Lt=Te&&Te.data;Lt||(Lt=document.createElement("canvas"),Lt.width=1024);const Ft=Lt.getContext("2d");setTextStyle(Ft,Pe,vt,pt);const{mapping:Ot,canvasHeight:Vt,xOffset:qt,yOffset:Wt}=utils_buildMapping({getFontWidth:_e=>Ft.measureText(_e).width,fontHeight:1.2*vt,buffer:xt,characterSet:be,maxCanvasWidth:1024,...Te&&{mapping:Te.mapping,xOffset:Te.xOffset,yOffset:Te.yOffset}});if(Lt.height!==Vt){const _e=Ft.getImageData(0,0,Lt.width,Lt.height);Lt.height=Vt,Ft.putImageData(_e,0,0)}if(setTextStyle(Ft,Pe,vt,pt),Tt){const _e=new(Kl())(vt,xt,It,Mt,Pe,pt),Te=Ft.getImageData(0,0,_e.size,_e.size);for(const Pe of be)populateAlphaChannel(_e.draw(Pe),Te),Ft.putImageData(Te,Ot[Pe].x-xt,Ot[Pe].y+xt)}else for(const _e of be)Ft.fillText(_e,Ot[_e].x,Ot[_e].y+.9*vt);return{xOffset:qt,yOffset:Wt,mapping:Ot,data:Lt,width:Lt.width,height:Lt.height}}_getKey(){const{fontFamily:_e,fontWeight:be,fontSize:Te,buffer:Pe,sdf:pt,radius:vt,cutoff:xt}=this.props;return pt?"".concat(_e," ").concat(be," ").concat(Te," ").concat(Pe," ").concat(vt," ").concat(xt):"".concat(_e," ").concat(be," ").concat(Te," ").concat(Pe)}}const du={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:_e=>_e.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class lu extends no{constructor(..._e){super(..._e),(0,Pe.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[so,vo]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(_e){super.updateState(_e);const{changeFlags:be}=_e;if(be.extensionsChanged){var Te;const{gl:_e}=this.context;null===(Te=this.state.model)||void 0===Te||Te.delete(),this.state.model=this._getModel(_e),this.getAttributeManager().invalidateAll()}}draw({uniforms:_e}){const{billboard:be,sizeScale:Te,sizeUnits:Pe,sizeMinPixels:vt,sizeMaxPixels:xt,getLineWidth:Tt}=this.props;let{padding:It}=this.props;It.length<4&&(It=[It[0],It[1],It[0],It[1]]),this.state.model.setUniforms(_e).setUniforms({billboard:be,stroked:Boolean(Tt),padding:It,sizeUnits:pt.iI[Pe],sizeScale:Te,sizeMinPixels:vt,sizeMaxPixels:xt}).draw()}_getModel(_e){return new za(_e,{...this.getShaders(),id:this.props.id,geometry:new bo({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0})}}(0,Pe.Z)(lu,"defaultProps",du),(0,Pe.Z)(lu,"layerName","TextBackgroundLayer");const uu={start:1,middle:0,end:-1},hu={top:1,center:0,bottom:-1},pu=[0,0,0,255],fu={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:pu},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:tu.characterSet},fontFamily:tu.fontFamily,fontWeight:tu.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:pu},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:_e=>_e.text},getPosition:{type:"accessor",value:_e=>_e.position},getColor:{type:"accessor",value:pu},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class yu extends Fd{constructor(..._e){super(..._e),(0,Pe.Z)(this,"state",void 0),(0,Pe.Z)(this,"getBoundingRect",((_e,be)=>{const Te=this.state.fontAtlasManager.mapping,Pe=this.state.getText,{wordBreak:pt,maxWidth:vt,lineHeight:xt,getTextAnchor:Tt,getAlignmentBaseline:It}=this.props,Mt=Pe(_e,be)||"",{size:[Lt,Ft]}=transformParagraph(Mt,xt,pt,vt,Te);return[(uu["function"==typeof Tt?Tt(_e,be):Tt]-1)*Lt/2,(hu["function"==typeof It?It(_e,be):It]-1)*Ft/2,Lt,Ft]})),(0,Pe.Z)(this,"getIconOffsets",((_e,be)=>{const Te=this.state.fontAtlasManager.mapping,Pe=this.state.getText,{wordBreak:pt,maxWidth:vt,lineHeight:xt,getTextAnchor:Tt,getAlignmentBaseline:It}=this.props,Mt=Pe(_e,be)||"",{x:Lt,y:Ft,rowWidth:Ot,size:[Vt,qt]}=transformParagraph(Mt,xt,pt,vt,Te),Wt=uu["function"==typeof Tt?Tt(_e,be):Tt],$t=hu["function"==typeof It?It(_e,be):It],Kt=Lt.length,Jt=new Array(2*Kt);let Yt=0;for(let _e=0;_e<Kt;_e++){const be=(1-Wt)*(Vt-Ot[_e])/2;Jt[Yt++]=(Wt-1)*Vt/2+be+Lt[_e],Jt[Yt++]=($t-1)*qt/2+Ft[_e]}return Jt}))}initializeState(){this.state={styleVersion:0,fontAtlasManager:new ou}}updateState(_e){const{props:be,oldProps:Te,changeFlags:Pe}=_e;(Pe.dataChanged||Pe.updateTriggersChanged&&(Pe.updateTriggersChanged.all||Pe.updateTriggersChanged.getText))&&this._updateText();(this._updateFontAtlas()||be.lineHeight!==Te.lineHeight||be.wordBreak!==Te.wordBreak||be.maxWidth!==Te.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:_e}){return _e.object=_e.index>=0?this.props.data[_e.index]:null,_e}_updateFontAtlas(){const{fontSettings:_e,fontFamily:be,fontWeight:Te}=this.props,{fontAtlasManager:Pe,characterSet:pt}=this.state,vt={..._e,characterSet:pt,fontFamily:be,fontWeight:Te};if(!Pe.mapping)return Pe.setProps(vt),!0;for(const _e in vt)if(vt[_e]!==Pe.props[_e])return Pe.setProps(vt),!0;return!1}_updateText(){var _e;const{data:be,characterSet:Te}=this.props,Pe=null===(_e=be.attributes)||void 0===_e?void 0:_e.getText;let pt,{getText:vt}=this.props,xt=be.startIndices;const Tt="auto"===Te&&new Set;if(Pe&&xt){const{texts:_e,characterCount:Te}=getTextFromBuffer({...ArrayBuffer.isView(Pe)?{value:Pe}:Pe,length:be.length,startIndices:xt,characterSet:Tt});pt=Te,vt=(be,{index:Te})=>_e[Te]}else{const{iterable:_e,objectInfo:Te}=createIterable(be);xt=[0],pt=0;for(const be of _e){Te.index++;const _e=Array.from(vt(be,Te)||"");Tt&&_e.forEach(Tt.add,Tt),pt+=_e.length,xt.push(pt)}}this.setState({getText:vt,startIndices:xt,numInstances:pt,characterSet:Tt||Te})}renderLayers(){const{startIndices:_e,numInstances:be,getText:Te,fontAtlasManager:{scale:Pe,texture:pt,mapping:vt},styleVersion:xt}=this.state,{data:Tt,_dataDiff:It,getPosition:Mt,getColor:Lt,getSize:Ft,getAngle:Ot,getPixelOffset:Vt,getBackgroundColor:qt,getBorderColor:Wt,getBorderWidth:$t,backgroundPadding:Kt,background:Jt,billboard:Yt,fontSettings:Qt,outlineWidth:an,outlineColor:cn,sizeScale:hn,sizeUnits:pn,sizeMinPixels:xn,sizeMaxPixels:Pn,transitions:Ln,updateTriggers:Fn}=this.props,jn=this.getSubLayerClass("characters",Hl),$n=this.getSubLayerClass("background",lu);return[Jt&&new $n({getFillColor:qt,getLineColor:Wt,getLineWidth:$t,padding:Kt,getPosition:Mt,getSize:Ft,getAngle:Ot,getPixelOffset:Vt,billboard:Yt,sizeScale:hn/this.state.fontAtlasManager.props.fontSize,sizeUnits:pn,sizeMinPixels:xn,sizeMaxPixels:Pn,transitions:Ln&&{getPosition:Ln.getPosition,getAngle:Ln.getAngle,getSize:Ln.getSize,getFillColor:Ln.getBackgroundColor,getLineColor:Ln.getBorderColor,getLineWidth:Ln.getBorderWidth,getPixelOffset:Ln.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:Fn.getPosition,getAngle:Fn.getAngle,getSize:Fn.getSize,getFillColor:Fn.getBackgroundColor,getLineColor:Fn.getBorderColor,getLineWidth:Fn.getBorderWidth,getPixelOffset:Fn.getPixelOffset,getBoundingRect:{getText:Fn.getText,getTextAnchor:Fn.getTextAnchor,getAlignmentBaseline:Fn.getAlignmentBaseline,styleVersion:xt}}}),{data:Tt.attributes&&Tt.attributes.background?{length:Tt.length,attributes:Tt.attributes.background}:Tt,_dataDiff:It,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new jn({sdf:Qt.sdf,smoothing:Number.isFinite(Qt.smoothing)?Qt.smoothing:tu.smoothing,outlineWidth:an,outlineColor:cn,iconAtlas:pt,iconMapping:vt,getPosition:Mt,getColor:Lt,getSize:Ft,getAngle:Ot,getPixelOffset:Vt,billboard:Yt,sizeScale:hn*Pe,sizeUnits:pn,sizeMinPixels:xn*Pe,sizeMaxPixels:Pn*Pe,transitions:Ln&&{getPosition:Ln.getPosition,getAngle:Ln.getAngle,getColor:Ln.getColor,getSize:Ln.getSize,getPixelOffset:Ln.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:Fn.getText,getPosition:Fn.getPosition,getAngle:Fn.getAngle,getColor:Fn.getColor,getSize:Fn.getSize,getPixelOffset:Fn.getPixelOffset,getIconOffsets:{getText:Fn.getText,getTextAnchor:Fn.getTextAnchor,getAlignmentBaseline:Fn.getAlignmentBaseline,styleVersion:xt}}}),{data:Tt,_dataDiff:It,startIndices:_e,numInstances:be,getIconOffsets:this.getIconOffsets,getIcon:Te})]}static set fontAtlasCacheLimit(_e){setFontAtlasCacheLimit(_e)}}(0,Pe.Z)(yu,"defaultProps",fu),(0,Pe.Z)(yu,"layerName","TextLayer");const Wu={circle:{type:Ks,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:Ds,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:yu,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},Ju={type:Ld,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},Yu={type:ul,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function getDefaultProps({type:_e,props:be}){const Te={};for(const Pe in be)Te[Pe]=_e.defaultProps[be[Pe]];return Te}function forwardProps(_e,be){const{transitions:Te,updateTriggers:Pe}=_e.props,pt={updateTriggers:{},transitions:Te&&{getPosition:Te.geometry}};for(const vt in be){const xt=be[vt];let Tt=_e.props[vt];vt.startsWith("get")&&(Tt=_e.getSubLayerAccessor(Tt),pt.updateTriggers[xt]=Pe[vt],Te&&(pt.transitions[xt]=Te[vt])),pt[xt]=Tt}return pt}function getGeojsonFeatures(_e){if(Array.isArray(_e))return _e;switch(Ft.Z.assert(_e.type,"GeoJSON does not have type"),_e.type){case"Feature":return[_e];case"FeatureCollection":return Ft.Z.assert(Array.isArray(_e.features),"GeoJSON does not have features array"),_e.features;default:return[{geometry:_e}]}}function separateGeojsonFeatures(_e,be,Te={}){const Pe={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:pt=0,endRow:vt=_e.length}=Te;for(let Te=pt;Te<vt;Te++){const pt=_e[Te];Ft.Z.assert(pt&&pt.geometry,"GeoJSON does not have geometry");const{geometry:vt}=pt;if("GeometryCollection"===vt.type){Ft.Z.assert(Array.isArray(vt.geometries),"GeoJSON does not have geometries array");const{geometries:_e}=vt;for(let vt=0;vt<_e.length;vt++){separateGeometry(_e[vt],Pe,be,pt,Te)}}else separateGeometry(vt,Pe,be,pt,Te)}return Pe}function separateGeometry(_e,be,Te,Pe,pt){const{type:vt,coordinates:xt}=_e,{pointFeatures:Tt,lineFeatures:It,polygonFeatures:Mt,polygonOutlineFeatures:Lt}=be;if(validateGeometry(vt,xt))switch(vt){case"Point":Tt.push(Te({geometry:_e},Pe,pt));break;case"MultiPoint":xt.forEach((_e=>{Tt.push(Te({geometry:{type:"Point",coordinates:_e}},Pe,pt))}));break;case"LineString":It.push(Te({geometry:_e},Pe,pt));break;case"MultiLineString":xt.forEach((_e=>{It.push(Te({geometry:{type:"LineString",coordinates:_e}},Pe,pt))}));break;case"Polygon":Mt.push(Te({geometry:_e},Pe,pt)),xt.forEach((_e=>{Lt.push(Te({geometry:{type:"LineString",coordinates:_e}},Pe,pt))}));break;case"MultiPolygon":xt.forEach((_e=>{Mt.push(Te({geometry:{type:"Polygon",coordinates:_e}},Pe,pt)),_e.forEach((_e=>{Lt.push(Te({geometry:{type:"LineString",coordinates:_e}},Pe,pt))}))}))}else Ft.Z.warn("".concat(vt," coordinates are malformed"))()}const Qu={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function validateGeometry(_e,be){let Te=Qu[_e];for(Ft.Z.assert(Te,"Unknown GeoJSON type ".concat(_e));be&&--Te>0;)be=be[0];return be&&Number.isFinite(be[0])}function getCoordinates(_e){return _e.geometry.coordinates}function createLayerPropsFromFeatures(_e,be){const Te={points:{},lines:{},polygons:{},polygonsOutline:{}},{pointFeatures:Pe,lineFeatures:pt,polygonFeatures:vt,polygonOutlineFeatures:xt}=_e;return Te.points.data=Pe,Te.points._dataDiff=be.pointFeatures&&(()=>be.pointFeatures),Te.points.getPosition=getCoordinates,Te.lines.data=pt,Te.lines._dataDiff=be.lineFeatures&&(()=>be.lineFeatures),Te.lines.getPath=getCoordinates,Te.polygons.data=vt,Te.polygons._dataDiff=be.polygonFeatures&&(()=>be.polygonFeatures),Te.polygons.getPolygon=getCoordinates,Te.polygonsOutline.data=xt,Te.polygonsOutline._dataDiff=be.polygonOutlineFeatures&&(()=>be.polygonOutlineFeatures),Te.polygonsOutline.getPath=getCoordinates,Te}function createLayerPropsFromBinary(_e,be){const Te={points:{},lines:{},polygons:{},polygonsOutline:{}},{points:Pe,lines:pt,polygons:vt}=_e,xt=calculatePickingColors(_e,be);return Te.points.data={length:Pe.positions.value.length/Pe.positions.size,attributes:{...Pe.attributes,getPosition:Pe.positions,instancePickingColors:{size:3,value:xt.points}},properties:Pe.properties,numericProps:Pe.numericProps,featureIds:Pe.featureIds},Te.lines.data={length:pt.pathIndices.value.length-1,startIndices:pt.pathIndices.value,attributes:{...pt.attributes,getPath:pt.positions,instancePickingColors:{size:3,value:xt.lines}},properties:pt.properties,numericProps:pt.numericProps,featureIds:pt.featureIds},Te.lines._pathType="open",Te.polygons.data={length:vt.polygonIndices.value.length-1,startIndices:vt.polygonIndices.value,attributes:{...vt.attributes,getPolygon:vt.positions,pickingColors:{size:3,value:xt.polygons}},properties:vt.properties,numericProps:vt.numericProps,featureIds:vt.featureIds},Te.polygons._normalize=!1,vt.triangles&&(Te.polygons.data.attributes.indices=vt.triangles.value),Te.polygonsOutline.data={length:vt.primitivePolygonIndices.value.length-1,startIndices:vt.primitivePolygonIndices.value,attributes:{...vt.attributes,getPath:vt.positions,instancePickingColors:{size:3,value:xt.polygons}},properties:vt.properties,numericProps:vt.numericProps,featureIds:vt.featureIds},Te.polygonsOutline._pathType="open",Te}const ec=["points","linestrings","polygons"],rc={...getDefaultProps(Wu.circle),...getDefaultProps(Wu.icon),...getDefaultProps(Wu.text),...getDefaultProps(Ju),...getDefaultProps(Yu),stroked:!0,filled:!0,extruded:!1,wireframe:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:_e=>_e.properties.icon},getText:{type:"accessor",value:_e=>_e.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class oc extends Fd{initializeState(){this.state={layerProps:{},features:{}}}updateState({props:_e,changeFlags:be}){if(!be.dataChanged)return;const{data:Te}=this.props,Pe=Te&&"points"in Te&&"polygons"in Te&&"lines"in Te;this.setState({binary:Pe}),Pe?this._updateStateBinary({props:_e,changeFlags:be}):this._updateStateJSON({props:_e,changeFlags:be})}_updateStateBinary({props:_e,changeFlags:be}){const Te=createLayerPropsFromBinary(_e.data,this.encodePickingColor);this.setState({layerProps:Te})}_updateStateJSON({props:_e,changeFlags:be}){const Te=getGeojsonFeatures(_e.data),Pe=this.getSubLayerRow.bind(this);let pt={};const vt={};if(Array.isArray(be.dataChanged)){const _e=this.state.features;for(const be in _e)pt[be]=_e[be].slice(),vt[be]=[];for(const xt of be.dataChanged){const be=separateGeojsonFeatures(Te,Pe,xt);for(const Te in _e)vt[Te].push(replaceInRange({data:pt[Te],getIndex:_e=>_e.__source.index,dataRange:xt,replace:be[Te]}))}}else pt=separateGeojsonFeatures(Te,Pe);const xt=createLayerPropsFromFeatures(pt,vt);this.setState({features:pt,featuresDiff:vt,layerProps:xt})}getPickingInfo(_e){const be=super.getPickingInfo(_e),{index:Te,sourceLayer:Pe}=be;return be.featureType=ec.find((_e=>Pe.id.startsWith("".concat(this.id,"-").concat(_e,"-")))),Te>=0&&Pe.id.startsWith("".concat(this.id,"-points-text"))&&this.state.binary&&(be.index=this.props.data.points.globalFeatureIds.value[Te]),be}_updateAutoHighlight(_e){const be="".concat(this.id,"-points-"),Te="points"===_e.featureType;for(const Pe of this.getSubLayers())Pe.id.startsWith(be)===Te&&Pe.updateAutoHighlight(_e)}_renderPolygonLayer(){const{extruded:_e,wireframe:be}=this.props,{layerProps:Te}=this.state,Pe="polygons-fill",pt=this.shouldRenderSubLayer(Pe,Te.polygons.data)&&this.getSubLayerClass(Pe,Yu.type);if(pt){const vt=forwardProps(this,Yu.props),xt=_e&&be;return xt||delete vt.getLineColor,vt.updateTriggers.lineColors=xt,new pt(vt,this.getSubLayerProps({id:Pe,updateTriggers:vt.updateTriggers}),Te.polygons)}return null}_renderLineLayers(){const{extruded:_e,stroked:be}=this.props,{layerProps:Te}=this.state,Pe="polygons-stroke",pt="linestrings",vt=!_e&&be&&this.shouldRenderSubLayer(Pe,Te.polygonsOutline.data)&&this.getSubLayerClass(Pe,Ju.type),xt=this.shouldRenderSubLayer(pt,Te.lines.data)&&this.getSubLayerClass(pt,Ju.type);if(vt||xt){const _e=forwardProps(this,Ju.props);return[vt&&new vt(_e,this.getSubLayerProps({id:Pe,updateTriggers:_e.updateTriggers}),Te.polygonsOutline),xt&&new xt(_e,this.getSubLayerProps({id:pt,updateTriggers:_e.updateTriggers}),Te.lines)]}return null}_renderPointLayers(){const{pointType:_e}=this.props,{layerProps:be,binary:Te}=this.state;let{highlightedObjectIndex:Pe}=this.props;!Te&&Number.isFinite(Pe)&&(Pe=be.points.data.findIndex((_e=>_e.__source.index===Pe)));const pt=new Set(_e.split("+")),vt=[];for(const _e of pt){const pt="points-".concat(_e),xt=Wu[_e],Tt=xt&&this.shouldRenderSubLayer(pt,be.points.data)&&this.getSubLayerClass(pt,xt.type);if(Tt){const It=forwardProps(this,xt.props);let Mt=be.points;if("text"===_e&&Te){const{instancePickingColors:_e,...be}=Mt.data.attributes;Mt={...Mt,data:{...Mt.data,attributes:be}}}vt.push(new Tt(It,this.getSubLayerProps({id:pt,updateTriggers:It.updateTriggers,highlightedObjectIndex:Pe}),Mt))}}return vt}renderLayers(){const{extruded:_e}=this.props,be=this._renderPolygonLayer();return[!_e&&be,this._renderLineLayers(),this._renderPointLayers(),_e&&be]}getSubLayerAccessor(_e){const{binary:be}=this.state;return be&&"function"==typeof _e?(be,Te)=>{const{data:Pe,index:pt}=Te,vt=binaryToFeatureForAccesor(Pe,pt);return _e(vt,Te)}:super.getSubLayerAccessor(_e)}}(0,Pe.Z)(oc,"layerName","GeoJsonLayer"),(0,Pe.Z)(oc,"defaultProps",rc)},15593:function(_e,be,Te){"use strict";Te.r(be),Te.d(be,{MapboxLayer:function(){return ul},MapboxOverlay:function(){return Rl}});var Pe=Te(4942),pt=Te(7013);const vt=/([0-9]+\.?[0-9]*)(%|px)/;function parsePosition(_e){switch(typeof _e){case"number":return{position:_e,relative:!1};case"string":const be=vt.exec(_e);if(be&&be.length>=3){const _e="%"===be[2],Te=parseFloat(be[1]);return{position:_e?Te/100:Te,relative:_e}}default:throw new Error("Could not parse position string ".concat(_e))}}function getPosition(_e,be){return _e.relative?Math.round(_e.position*be):_e.position}var xt=Te(46871),Tt=Te(75304);class It{constructor(_e){(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"viewportInstance",void 0),(0,Pe.Z)(this,"_x",void 0),(0,Pe.Z)(this,"_y",void 0),(0,Pe.Z)(this,"_width",void 0),(0,Pe.Z)(this,"_height",void 0),(0,Pe.Z)(this,"_padding",void 0),(0,Pe.Z)(this,"props",void 0);const{id:be,x:Te=0,y:vt=0,width:xt="100%",height:It="100%",padding:Mt=null,viewportInstance:Lt}=_e||{};(0,Tt.Z)(!Lt||Lt instanceof pt.Z),this.viewportInstance=Lt,this.id=be||this.constructor.displayName||"view",this.props={..._e,id:this.id},this._x=parsePosition(Te),this._y=parsePosition(vt),this._width=parsePosition(xt),this._height=parsePosition(It),this._padding=Mt&&{left:parsePosition(Mt.left||0),right:parsePosition(Mt.right||0),top:parsePosition(Mt.top||0),bottom:parsePosition(Mt.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(_e){return this===_e||(this.viewportInstance?!!_e.viewportInstance&&this.viewportInstance.equals(_e.viewportInstance):this.ViewportType===_e.ViewportType&&(0,xt.v)(this.props,_e.props))}makeViewport({width:_e,height:be,viewState:Te}){if(this.viewportInstance)return this.viewportInstance;Te=this.filterViewState(Te);const Pe=this.getDimensions({width:_e,height:be});return new this.ViewportType({...Te,...this.props,...Pe})}getViewStateId(){const{viewState:_e}=this.props;return"string"==typeof _e?_e:(null==_e?void 0:_e.id)||this.id}filterViewState(_e){if(this.props.viewState&&"object"==typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const be={..._e};for(const _e in this.props.viewState)"id"!==_e&&(be[_e]=this.props.viewState[_e]);return be}return _e}getDimensions({width:_e,height:be}){const Te={x:getPosition(this._x,_e),y:getPosition(this._y,be),width:getPosition(this._width,_e),height:getPosition(this._height,be)};return this._padding&&(Te.padding={left:getPosition(this._padding.left,_e),top:getPosition(this._padding.top,be),right:getPosition(this._padding.right,_e),bottom:getPosition(this._padding.bottom,be)}),Te}get controller(){const _e=this.props.controller;return _e?!0===_e?{type:this.ControllerType}:"function"==typeof _e?{type:_e}:{type:this.ControllerType,..._e}:null}}var Mt=Te(96935),Lt=Te(14034),Ft=Te(53630);const noop=()=>{},Ot=2,Vt=3,DEFAULT_EASING=_e=>_e,qt=1;class Wt{constructor(_e){(0,Pe.Z)(this,"getControllerState",void 0),(0,Pe.Z)(this,"props",void 0),(0,Pe.Z)(this,"propsInTransition",void 0),(0,Pe.Z)(this,"transition",void 0),(0,Pe.Z)(this,"onViewStateChange",void 0),(0,Pe.Z)(this,"onStateChange",void 0),(0,Pe.Z)(this,"_onTransitionUpdate",(_e=>{const{time:be,settings:{interpolator:Te,startProps:Pe,endProps:pt,duration:vt,easing:xt}}=_e,Tt=xt(be/vt),It=Te.interpolateProps(Pe,pt,Tt);this.propsInTransition=this.getControllerState({...this.props,...It}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})})),this.getControllerState=_e.getControllerState,this.propsInTransition=null,this.transition=new Ft.Z(_e.timeline),this.onViewStateChange=_e.onViewStateChange||noop,this.onStateChange=_e.onStateChange||noop}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(_e){let be=!1;const Te=this.props;if(this.props=_e,!Te||this._shouldIgnoreViewportChange(Te,_e))return!1;if(this._isTransitionEnabled(_e)){let Pe=Te;if(this.transition.inProgress){const{interruption:_e,endProps:be}=this.transition.settings;Pe={...Te,..._e===Ot?be:this.propsInTransition||Te}}this._triggerTransition(Pe,_e),be=!0}else this.transition.cancel();return be}updateTransition(){this.transition.update()}_isTransitionEnabled(_e){const{transitionDuration:be,transitionInterpolator:Te}=_e;return(be>0||"auto"===be)&&Boolean(Te)}_isUpdateDueToCurrentTransition(_e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(_e,this.propsInTransition)}_shouldIgnoreViewportChange(_e,be){return this.transition.inProgress?this.transition.settings.interruption===Vt||this._isUpdateDueToCurrentTransition(be):!this._isTransitionEnabled(be)||be.transitionInterpolator.arePropsEqual(_e,be)}_triggerTransition(_e,be){const Te=this.getControllerState(_e),Pe=this.getControllerState(be).shortestPathFrom(Te),pt=be.transitionInterpolator,vt=pt.getDuration?pt.getDuration(_e,be):be.transitionDuration;if(0===vt)return;const xt=pt.initializeProps(_e,Pe);this.propsInTransition={};const Tt={duration:vt,easing:be.transitionEasing||DEFAULT_EASING,interpolator:pt,interruption:be.transitionInterruption||qt,startProps:xt.start,endProps:xt.end,onStart:be.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(be.onTransitionInterrupt),onEnd:this._onTransitionEnd(be.onTransitionEnd)};this.transition.start(Tt),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(_e){return be=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),null==_e||_e(be)}}}class $t{constructor(_e){(0,Pe.Z)(this,"_propsToCompare",void 0),(0,Pe.Z)(this,"_propsToExtract",void 0),(0,Pe.Z)(this,"_requiredProps",void 0);const{compare:be,extract:Te,required:pt}=_e;this._propsToCompare=be,this._propsToExtract=Te||be,this._requiredProps=pt}arePropsEqual(_e,be){for(const Te of this._propsToCompare)if(!(Te in _e)||!(Te in be)||!(0,Lt.fS)(_e[Te],be[Te]))return!1;return!0}initializeProps(_e,be){const Te={},Pe={};for(const pt of this._propsToExtract)(pt in _e||pt in be)&&(Te[pt]=_e[pt],Pe[pt]=be[pt]);return this._checkRequiredProps(Te),this._checkRequiredProps(Pe),{start:Te,end:Pe}}getDuration(_e,be){return be.transitionDuration}_checkRequiredProps(_e){this._requiredProps&&this._requiredProps.forEach((be=>{const Te=_e[be];(0,Tt.Z)(Number.isFinite(Te)||Array.isArray(Te),"".concat(be," is required for transition"))}))}}const Kt=["longitude","latitude","zoom","bearing","pitch"],Jt=["longitude","latitude","zoom"];class Yt extends $t{constructor(_e={}){const be=Array.isArray(_e)?_e:_e.transitionProps,Te=Array.isArray(_e)?{}:_e;Te.transitionProps=Array.isArray(be)?{compare:be,required:be}:be||{compare:Kt,required:Jt},super(Te.transitionProps),(0,Pe.Z)(this,"opts",void 0),this.opts=Te}initializeProps(_e,be){const Te=super.initializeProps(_e,be),{makeViewport:Pe,around:pt}=this.opts;if(Pe&&pt){const vt=Pe(_e),xt=Pe(be),Tt=vt.unproject(pt);Te.start.around=pt,Object.assign(Te.end,{around:xt.project(Tt),aroundPosition:Tt,width:be.width,height:be.height})}return Te}interpolateProps(_e,be,Te){const Pe={};for(const pt of this._propsToExtract)Pe[pt]=(0,Lt.t7)(_e[pt]||0,be[pt]||0,Te);if(be.aroundPosition&&this.opts.makeViewport){const pt=this.opts.makeViewport({...be,...Pe});Object.assign(Pe,pt.panByPosition(be.aroundPosition,(0,Lt.t7)(_e.around,be.around,Te)))}return Pe}}const Qt={transitionDuration:0},INERTIA_EASING=_e=>1-(1-_e)*(1-_e),an=["wheel"],cn=["panstart","panmove","panend"],hn=["pinchstart","pinchmove","pinchend"],pn=["tripanstart","tripanmove","tripanend"],xn=["doubletap"],Pn=["keydown"],Ln={};class Fn{constructor(_e){(0,Pe.Z)(this,"props",void 0),(0,Pe.Z)(this,"state",{}),(0,Pe.Z)(this,"transitionManager",void 0),(0,Pe.Z)(this,"eventManager",void 0),(0,Pe.Z)(this,"onViewStateChange",void 0),(0,Pe.Z)(this,"onStateChange",void 0),(0,Pe.Z)(this,"makeViewport",void 0),(0,Pe.Z)(this,"_controllerState",void 0),(0,Pe.Z)(this,"_events",{}),(0,Pe.Z)(this,"_interactionState",{isDragging:!1}),(0,Pe.Z)(this,"_customEvents",[]),(0,Pe.Z)(this,"_eventStartBlocked",null),(0,Pe.Z)(this,"_panMove",!1),(0,Pe.Z)(this,"invertPan",!1),(0,Pe.Z)(this,"dragMode","rotate"),(0,Pe.Z)(this,"inertia",0),(0,Pe.Z)(this,"scrollZoom",!0),(0,Pe.Z)(this,"dragPan",!0),(0,Pe.Z)(this,"dragRotate",!0),(0,Pe.Z)(this,"doubleClickZoom",!0),(0,Pe.Z)(this,"touchZoom",!0),(0,Pe.Z)(this,"touchRotate",!1),(0,Pe.Z)(this,"keyboard",!0),this.transitionManager=new Wt({..._e,getControllerState:_e=>new this.ControllerState(_e),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=_e.eventManager,this.onViewStateChange=_e.onViewStateChange||(()=>{}),this.onStateChange=_e.onStateChange||(()=>{}),this.makeViewport=_e.makeViewport}set events(_e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(_e,!0),this._customEvents=_e,this.props&&this.setProps(this.props)}finalize(){for(const be in this._events){var _e;if(this._events[be])null===(_e=this.eventManager)||void 0===_e||_e.off(be,this.handleEvent)}this.transitionManager.finalize()}handleEvent(_e){this._controllerState=void 0;const be=this._eventStartBlocked;switch(_e.type){case"panstart":return!be&&this._onPanStart(_e);case"panmove":return this._onPan(_e);case"panend":return this._onPanEnd(_e);case"pinchstart":return!be&&this._onPinchStart(_e);case"pinchmove":return this._onPinch(_e);case"pinchend":return this._onPinchEnd(_e);case"tripanstart":return!be&&this._onTriplePanStart(_e);case"tripanmove":return this._onTriplePan(_e);case"tripanend":return this._onTriplePanEnd(_e);case"doubletap":return this._onDoubleTap(_e);case"wheel":return this._onWheel(_e);case"keydown":return this._onKeyDown(_e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(_e){const{x:be,y:Te}=this.props,{offsetCenter:Pe}=_e;return[Pe.x-be,Pe.y-Te]}isPointInBounds(_e,be){const{width:Te,height:Pe}=this.props;if(be&&be.handled)return!1;const pt=_e[0]>=0&&_e[0]<=Te&&_e[1]>=0&&_e[1]<=Pe;return pt&&be&&be.stopPropagation(),pt}isFunctionKeyPressed(_e){const{srcEvent:be}=_e;return Boolean(be.metaKey||be.altKey||be.ctrlKey||be.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(_e){const be=setTimeout((()=>{this._eventStartBlocked===be&&(this._eventStartBlocked=null)}),_e);this._eventStartBlocked=be}setProps(_e){_e.dragMode&&(this.dragMode=_e.dragMode),this.props=_e,"transitionInterpolator"in _e||(_e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(_e);const{inertia:be}=_e;this.inertia=Number.isFinite(be)?be:!0===be?300:0;const{scrollZoom:Te=!0,dragPan:Pe=!0,dragRotate:pt=!0,doubleClickZoom:vt=!0,touchZoom:xt=!0,touchRotate:Tt=!1,keyboard:It=!0}=_e,Mt=Boolean(this.onViewStateChange);this.toggleEvents(an,Mt&&Te),this.toggleEvents(cn,Mt&&(Pe||pt)),this.toggleEvents(hn,Mt&&(xt||Tt)),this.toggleEvents(pn,Mt&&Tt),this.toggleEvents(xn,Mt&&vt),this.toggleEvents(Pn,Mt&&It),this.scrollZoom=Te,this.dragPan=Pe,this.dragRotate=pt,this.doubleClickZoom=vt,this.touchZoom=xt,this.touchRotate=Tt,this.keyboard=It}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(_e,be){this.eventManager&&_e.forEach((_e=>{this._events[_e]!==be&&(this._events[_e]=be,be?this.eventManager.on(_e,this.handleEvent):this.eventManager.off(_e,this.handleEvent))}))}updateViewport(_e,be=null,Te={}){const Pe={..._e.getViewportProps(),...be},pt=this.controllerState!==_e;if(this.state=_e.getState(),this._setInteractionState(Te),pt){const _e=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:Pe,interactionState:this._interactionState,oldViewState:_e})}}_onTransition(_e){this.onViewStateChange({..._e,interactionState:this._interactionState})}_setInteractionState(_e){Object.assign(this._interactionState,_e),this.onStateChange(this._interactionState)}_onPanStart(_e){const be=this.getCenter(_e);if(!this.isPointInBounds(be,_e))return!1;let Te=this.isFunctionKeyPressed(_e)||_e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(Te=!Te);const Pe=this.controllerState[Te?"panStart":"rotateStart"]({pos:be});return this._panMove=Te,this.updateViewport(Pe,Qt,{isDragging:!0}),!0}_onPan(_e){return!!this.isDragging()&&(this._panMove?this._onPanMove(_e):this._onPanRotate(_e))}_onPanEnd(_e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(_e):this._onPanRotateEnd(_e))}_onPanMove(_e){if(!this.dragPan)return!1;const be=this.getCenter(_e),Te=this.controllerState.pan({pos:be});return this.updateViewport(Te,Qt,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(_e){const{inertia:be}=this;if(this.dragPan&&be&&_e.velocity){const Te=this.getCenter(_e),Pe=[Te[0]+_e.velocityX*be/2,Te[1]+_e.velocityY*be/2],pt=this.controllerState.pan({pos:Pe}).panEnd();this.updateViewport(pt,{...this._getTransitionProps(),transitionDuration:be,transitionEasing:INERTIA_EASING},{isDragging:!1,isPanning:!0})}else{const _e=this.controllerState.panEnd();this.updateViewport(_e,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(_e){if(!this.dragRotate)return!1;const be=this.getCenter(_e),Te=this.controllerState.rotate({pos:be});return this.updateViewport(Te,Qt,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(_e){const{inertia:be}=this;if(this.dragRotate&&be&&_e.velocity){const Te=this.getCenter(_e),Pe=[Te[0]+_e.velocityX*be/2,Te[1]+_e.velocityY*be/2],pt=this.controllerState.rotate({pos:Pe}).rotateEnd();this.updateViewport(pt,{...this._getTransitionProps(),transitionDuration:be,transitionEasing:INERTIA_EASING},{isDragging:!1,isRotating:!0})}else{const _e=this.controllerState.rotateEnd();this.updateViewport(_e,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(_e){if(!this.scrollZoom)return!1;_e.srcEvent.preventDefault();const be=this.getCenter(_e);if(!this.isPointInBounds(be,_e))return!1;const{speed:Te=.01,smooth:Pe=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:pt}=_e;let vt=2/(1+Math.exp(-Math.abs(pt*Te)));pt<0&&0!==vt&&(vt=1/vt);const xt=this.controllerState.zoom({pos:be,scale:vt});return this.updateViewport(xt,{...this._getTransitionProps({around:be}),transitionDuration:Pe?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(_e){const be=this.getCenter(_e);if(!this.isPointInBounds(be,_e))return!1;const Te=this.controllerState.rotateStart({pos:be});return this.updateViewport(Te,Qt,{isDragging:!0}),!0}_onTriplePan(_e){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;const be=this.getCenter(_e);be[0]-=_e.deltaX;const Te=this.controllerState.rotate({pos:be});return this.updateViewport(Te,Qt,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(_e){if(!this.isDragging())return!1;const{inertia:be}=this;if(this.touchRotate&&be&&_e.velocityY){const Te=this.getCenter(_e),Pe=[Te[0],Te[1]+=_e.velocityY*be/2],pt=this.controllerState.rotate({pos:Pe});this.updateViewport(pt,{...this._getTransitionProps(),transitionDuration:be,transitionEasing:INERTIA_EASING},{isDragging:!1,isRotating:!0}),this.blockEvents(be)}else{const _e=this.controllerState.rotateEnd();this.updateViewport(_e,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(_e){const be=this.getCenter(_e);if(!this.isPointInBounds(be,_e))return!1;const Te=this.controllerState.zoomStart({pos:be}).rotateStart({pos:be});return Ln._startPinchRotation=_e.rotation,Ln._lastPinchEvent=_e,this.updateViewport(Te,Qt,{isDragging:!0}),!0}_onPinch(_e){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;let be=this.controllerState;if(this.touchZoom){const{scale:Te}=_e,Pe=this.getCenter(_e);be=be.zoom({pos:Pe,scale:Te})}if(this.touchRotate){const{rotation:Te}=_e;be=be.rotate({deltaAngleX:Ln._startPinchRotation-Te})}return this.updateViewport(be,Qt,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),Ln._lastPinchEvent=_e,!0}_onPinchEnd(_e){if(!this.isDragging())return!1;const{inertia:be}=this,{_lastPinchEvent:Te}=Ln;if(this.touchZoom&&be&&Te&&_e.scale!==Te.scale){const Pe=this.getCenter(_e);let pt=this.controllerState.rotateEnd();const vt=Math.log2(_e.scale),xt=(vt-Math.log2(Te.scale))/(_e.deltaTime-Te.deltaTime),Tt=Math.pow(2,vt+xt*be/2);pt=pt.zoom({pos:Pe,scale:Tt}).zoomEnd(),this.updateViewport(pt,{...this._getTransitionProps({around:Pe}),transitionDuration:be,transitionEasing:INERTIA_EASING},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(be)}else{const _e=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(_e,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return Ln._startPinchRotation=null,Ln._lastPinchEvent=null,!0}_onDoubleTap(_e){if(!this.doubleClickZoom)return!1;const be=this.getCenter(_e);if(!this.isPointInBounds(be,_e))return!1;const Te=this.isFunctionKeyPressed(_e),Pe=this.controllerState.zoom({pos:be,scale:Te?.5:2});return this.updateViewport(Pe,this._getTransitionProps({around:be}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(_e){if(!this.keyboard)return!1;const be=this.isFunctionKeyPressed(_e),{zoomSpeed:Te,moveSpeed:Pe,rotateSpeedX:pt,rotateSpeedY:vt}=!0===this.keyboard?{}:this.keyboard,{controllerState:xt}=this;let Tt;const It={};switch(_e.srcEvent.code){case"Minus":Tt=be?xt.zoomOut(Te).zoomOut(Te):xt.zoomOut(Te),It.isZooming=!0;break;case"Equal":Tt=be?xt.zoomIn(Te).zoomIn(Te):xt.zoomIn(Te),It.isZooming=!0;break;case"ArrowLeft":be?(Tt=xt.rotateLeft(pt),It.isRotating=!0):(Tt=xt.moveLeft(Pe),It.isPanning=!0);break;case"ArrowRight":be?(Tt=xt.rotateRight(pt),It.isRotating=!0):(Tt=xt.moveRight(Pe),It.isPanning=!0);break;case"ArrowUp":be?(Tt=xt.rotateUp(vt),It.isRotating=!0):(Tt=xt.moveUp(Pe),It.isPanning=!0);break;case"ArrowDown":be?(Tt=xt.rotateDown(vt),It.isRotating=!0):(Tt=xt.moveDown(Pe),It.isPanning=!0);break;default:return!1}return this.updateViewport(Tt,this._getTransitionProps(),It),!0}_getTransitionProps(_e){const{transition:be}=this;return be&&be.transitionInterpolator?_e?{...be,transitionInterpolator:new Yt({..._e,...be.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:be:Qt}}class jn{constructor(_e,be){(0,Pe.Z)(this,"_viewportProps",void 0),(0,Pe.Z)(this,"_state",void 0),this._viewportProps=this.applyConstraints(_e),this._state=be}getViewportProps(){return this._viewportProps}getState(){return this._state}}var $n=Te(17013);class ea extends jn{constructor(_e){const{width:be,height:Te,latitude:pt,longitude:vt,zoom:xt,bearing:It=0,pitch:Mt=0,altitude:Lt=1.5,position:Ft=[0,0,0],maxZoom:Ot=20,minZoom:Vt=0,maxPitch:qt=60,minPitch:Wt=0,startPanLngLat:$t,startZoomLngLat:Kt,startRotatePos:Jt,startBearing:Yt,startPitch:Qt,startZoom:an,normalize:cn=!0}=_e;(0,Tt.Z)(Number.isFinite(vt)),(0,Tt.Z)(Number.isFinite(pt)),(0,Tt.Z)(Number.isFinite(xt)),super({width:be,height:Te,latitude:pt,longitude:vt,zoom:xt,bearing:It,pitch:Mt,altitude:Lt,maxZoom:Ot,minZoom:Vt,maxPitch:qt,minPitch:Wt,normalize:cn,position:Ft},{startPanLngLat:$t,startZoomLngLat:Kt,startRotatePos:Jt,startBearing:Yt,startPitch:Qt,startZoom:an}),(0,Pe.Z)(this,"makeViewport",void 0),this.makeViewport=_e.makeViewport}panStart({pos:_e}){return this._getUpdatedState({startPanLngLat:this._unproject(_e)})}pan({pos:_e,startPos:be}){const Te=this.getState().startPanLngLat||this._unproject(be);if(!Te)return this;const Pe=this.makeViewport(this.getViewportProps()).panByPosition(Te,_e);return this._getUpdatedState(Pe)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:_e}){return this._getUpdatedState({startRotatePos:_e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:_e,deltaAngleX:be=0,deltaAngleY:Te=0}){const{startRotatePos:Pe,startBearing:pt,startPitch:vt}=this.getState();if(!Pe||void 0===pt||void 0===vt)return this;let xt;return xt=_e?this._getNewRotation(_e,Pe,vt,pt):{bearing:pt+be,pitch:vt+Te},this._getUpdatedState(xt)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:_e}){return this._getUpdatedState({startZoomLngLat:this._unproject(_e),startZoom:this.getViewportProps().zoom})}zoom({pos:_e,startPos:be,scale:Te}){let{startZoom:Pe,startZoomLngLat:pt}=this.getState();if(pt||(Pe=this.getViewportProps().zoom,pt=this._unproject(be)||this._unproject(_e)),!pt)return this;const{maxZoom:vt,minZoom:xt}=this.getViewportProps();let Tt=Pe+Math.log2(Te);Tt=(0,Lt.uZ)(Tt,xt,vt);const It=this.makeViewport({...this.getViewportProps(),zoom:Tt});return this._getUpdatedState({zoom:Tt,...It.panByPosition(pt,_e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(_e=2){return this._zoomFromCenter(_e)}zoomOut(_e=2){return this._zoomFromCenter(1/_e)}moveLeft(_e=100){return this._panFromCenter([_e,0])}moveRight(_e=100){return this._panFromCenter([-_e,0])}moveUp(_e=100){return this._panFromCenter([0,_e])}moveDown(_e=100){return this._panFromCenter([0,-_e])}rotateLeft(_e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-_e})}rotateRight(_e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+_e})}rotateUp(_e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+_e})}rotateDown(_e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-_e})}shortestPathFrom(_e){const be=_e.getViewportProps(),Te={...this.getViewportProps()},{bearing:Pe,longitude:pt}=Te;return Math.abs(Pe-be.bearing)>180&&(Te.bearing=Pe<0?Pe+360:Pe-360),Math.abs(pt-be.longitude)>180&&(Te.longitude=pt<0?pt+360:pt-360),Te}applyConstraints(_e){const{maxZoom:be,minZoom:Te,zoom:Pe}=_e;_e.zoom=(0,Lt.uZ)(Pe,Te,be);const{maxPitch:pt,minPitch:vt,pitch:xt}=_e;_e.pitch=(0,Lt.uZ)(xt,vt,pt);const{normalize:Tt=!0}=_e;return Tt&&Object.assign(_e,(0,$n.QA)(_e)),_e}_zoomFromCenter(_e){const{width:be,height:Te}=this.getViewportProps();return this.zoom({pos:[be/2,Te/2],scale:_e})}_panFromCenter(_e){const{width:be,height:Te}=this.getViewportProps();return this.pan({startPos:[be/2,Te/2],pos:[be/2+_e[0],Te/2+_e[1]]})}_getUpdatedState(_e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),..._e})}_unproject(_e){const be=this.makeViewport(this.getViewportProps());return _e&&be.unproject(_e)}_getNewRotation(_e,be,Te,Pe){const pt=_e[0]-be[0],vt=_e[1]-be[1],xt=_e[1],Tt=be[1],{width:It,height:Mt}=this.getViewportProps(),Ft=pt/It;let Ot=0;vt>0?Math.abs(Mt-Tt)>5&&(Ot=vt/(Tt-Mt)*1.2):vt<0&&Tt>5&&(Ot=1-xt/Tt),Ot=(0,Lt.uZ)(Ot,-1,1);const{minPitch:Vt,maxPitch:qt}=this.getViewportProps();let Wt=Te;return Ot>0?Wt=Te+Ot*(qt-Te):Ot<0&&(Wt=Te-Ot*(Vt-Te)),{pitch:Wt,bearing:Pe+180*Ft}}}class na extends Fn{constructor(..._e){super(..._e),(0,Pe.Z)(this,"ControllerState",ea),(0,Pe.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new Yt({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),(0,Pe.Z)(this,"dragMode","pan")}setProps(_e){_e.position=_e.position||[0,0,0];const be=this.props;super.setProps(_e);(!be||be.height!==_e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,..._e,...this.state}))}}class aa extends It{get ViewportType(){return Mt.Z}get ControllerType(){return na}}(0,Pe.Z)(aa,"displayName","MapView");let ra=1,ia=1;class da{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(_e){const{delay:be=0,duration:Te=Number.POSITIVE_INFINITY,rate:Pe=1,repeat:pt=1}=_e,vt=ra++,xt={time:0,delay:be,duration:Te,rate:Pe,repeat:pt};return this._setChannelTime(xt,this.time),this.channels.set(vt,xt),vt}removeChannel(_e){this.channels.delete(_e);for(const[be,Te]of this.animations)Te.channel===_e&&this.detachAnimation(be)}isFinished(_e){const be=this.channels.get(_e);return void 0!==be&&this.time>=be.delay+be.duration*be.repeat}getTime(_e){if(void 0===_e)return this.time;const be=this.channels.get(_e);return void 0===be?-1:be.time}setTime(_e){this.time=Math.max(0,_e);const be=this.channels.values();for(const _e of be)this._setChannelTime(_e,this.time);const Te=this.animations.values();for(const _e of Te){const{animation:be,channel:Te}=_e;be.setTime(this.getTime(Te))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(_e,be){const Te=ia++;return this.animations.set(Te,{animation:_e,channel:be}),_e.setTime(this.getTime(be)),Te}detachAnimation(_e){this.animations.delete(_e)}update(_e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=_e),this.setTime(this.time+(_e-this.lastEngineTime)),this.lastEngineTime=_e)}_setChannelTime(_e,be){const Te=be-_e.delay;Te>=_e.duration*_e.repeat?_e.time=_e.duration*_e.rate:(_e.time=Math.max(0,Te)%_e.duration,_e.time*=_e.rate)}}var la=Te(85409),ua=Te(80744),ca=Te(63803),ga=Te(61855),ma=Te(58295),ya=Te(51469);class _a{constructor(_e,be,Te){(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"context",void 0),(0,Pe.Z)(this,"isLoaded",void 0),(0,Pe.Z)(this,"persistent",void 0),(0,Pe.Z)(this,"_loadCount",0),(0,Pe.Z)(this,"_subscribers",new Set),(0,Pe.Z)(this,"_data",void 0),(0,Pe.Z)(this,"_loader",void 0),(0,Pe.Z)(this,"_error",void 0),(0,Pe.Z)(this,"_content",void 0),this.id=_e,this.context=Te,this.setData(be)}subscribe(_e){this._subscribers.add(_e)}unsubscribe(_e){this._subscribers.delete(_e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((()=>this.getData()))}setData(_e,be){if(_e===this._data&&!be)return;this._data=_e;const Te=++this._loadCount;let Pe=_e;"string"==typeof _e&&(Pe=(0,ya.z)(_e)),Pe instanceof Promise?(this.isLoaded=!1,this._loader=Pe.then((_e=>{this._loadCount===Te&&(this.isLoaded=!0,this._error=void 0,this._content=_e)})).catch((_e=>{this._loadCount===Te&&(this.isLoaded=!0,this._error=_e||!0)}))):(this.isLoaded=!0,this._error=void 0,this._content=_e);for(const _e of this._subscribers)_e.onChange(this.getData())}}class va{constructor({gl:_e,protocol:be}){(0,Pe.Z)(this,"protocol",void 0),(0,Pe.Z)(this,"_context",void 0),(0,Pe.Z)(this,"_resources",void 0),(0,Pe.Z)(this,"_consumers",void 0),(0,Pe.Z)(this,"_pruneRequest",void 0),this.protocol=be||"resource://",this._context={gl:_e,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(_e){return!!_e.startsWith(this.protocol)||_e in this._resources}add({resourceId:_e,data:be,forceUpdate:Te=!1,persistent:Pe=!0}){let pt=this._resources[_e];pt?pt.setData(be,Te):(pt=new _a(_e,be,this._context),this._resources[_e]=pt),pt.persistent=Pe}remove(_e){const be=this._resources[_e];be&&(be.delete(),delete this._resources[_e])}unsubscribe({consumerId:_e}){const be=this._consumers[_e];if(be){for(const _e in be){const Te=be[_e],Pe=this._resources[Te.resourceId];Pe&&Pe.unsubscribe(Te)}delete this._consumers[_e],this.prune()}}subscribe({resourceId:_e,onChange:be,consumerId:Te,requestId:Pe="default"}){const{_resources:pt,protocol:vt}=this;_e.startsWith(vt)&&(pt[_e=_e.replace(vt,"")]||this.add({resourceId:_e,data:null,persistent:!1}));const xt=pt[_e];if(this._track(Te,Pe,xt,be),xt)return xt.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout((()=>this._prune()),0))}finalize(){for(const _e in this._resources)this._resources[_e].delete()}_track(_e,be,Te,Pe){const pt=this._consumers,vt=pt[_e]=pt[_e]||{},xt=vt[be]||{},Tt=xt.resourceId&&this._resources[xt.resourceId];Tt&&(Tt.unsubscribe(xt),this.prune()),Te&&(vt[be]=xt,xt.onChange=Pe,xt.resourceId=Te.id,Te.subscribe(xt))}_prune(){this._pruneRequest=null;for(const _e of Object.keys(this._resources)){const be=this._resources[_e];be.persistent||be.inUse()||(be.delete(),delete this._resources[_e])}}}var xa=Te(358),ba=Te(86084);const wa=[ba.Z],Ea=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function createProgramManager(_e){const be=xa.Z.getDefaultProgramManager(_e);for(const _e of wa)be.addDefaultModule(_e);for(const _e of Ea)be.addShaderHook(_e);return be}class Ca{constructor(_e,{deck:be,stats:Te,viewport:vt,timeline:xt}={}){(0,Pe.Z)(this,"layers",void 0),(0,Pe.Z)(this,"context",void 0),(0,Pe.Z)(this,"resourceManager",void 0),(0,Pe.Z)(this,"_lastRenderedLayers",[]),(0,Pe.Z)(this,"_needsRedraw",!1),(0,Pe.Z)(this,"_needsUpdate",!1),(0,Pe.Z)(this,"_nextLayers",null),(0,Pe.Z)(this,"_debug",!1),(0,Pe.Z)(this,"activateViewport",(_e=>{(0,ca.Z)("layerManager.activateViewport",this,_e),_e&&(this.context.viewport=_e)})),this.layers=[],this.resourceManager=new va({gl:_e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:_e,deck:be,programManager:_e&&createProgramManager(_e),stats:Te||new ma.Z({id:"deck.gl"}),viewport:vt||new pt.Z({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:xt||new da,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const _e of this.layers)this._finalizeLayer(_e)}needsRedraw(_e={clearRedrawFlags:!1}){let be=this._needsRedraw;_e.clearRedrawFlags&&(this._needsRedraw=!1);for(const Te of this.layers){const Pe=Te.getNeedsRedraw(_e);be=be||Pe}return be}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(_e){this._needsRedraw=this._needsRedraw||_e}setNeedsUpdate(_e){this._needsUpdate=this._needsUpdate||_e}getLayers({layerIds:_e}={}){return _e?this.layers.filter((be=>_e.find((_e=>0===be.id.indexOf(_e))))):this.layers}setProps(_e){"debug"in _e&&(this._debug=_e.debug),"userData"in _e&&(this.context.userData=_e.userData),"layers"in _e&&(this._nextLayers=_e.layers),"onError"in _e&&(this.context.onError=_e.onError)}setLayers(_e,be){(0,ca.Z)("layerManager.setLayers",this,be,_e),this._lastRenderedLayers=_e;const Te=(0,ga.x)(_e,Boolean);for(const _e of Te)_e.context=this.context;this._updateLayers(this.layers,Te)}updateLayers(){const _e=this.needsUpdate();_e&&(this.setNeedsRedraw("updating layers: ".concat(_e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,_e)),this._nextLayers=null}_handleError(_e,be,Te){Te.raiseError(be,"".concat(_e," of ").concat(Te))}_updateLayers(_e,be){const Te={};for(const be of _e)Te[be.id]?ua.Z.warn("Multiple old layers with same id ".concat(be.id))():Te[be.id]=be;const Pe=[];this._updateSublayersRecursively(be,Te,Pe),this._finalizeOldLayers(Te);let pt=!1;for(const _e of Pe)if(_e.hasUniformTransition()){pt="Uniform transition in ".concat(_e);break}this._needsUpdate=pt,this.layers=Pe}_updateSublayersRecursively(_e,be,Te){for(const Pe of _e){Pe.context=this.context;const _e=be[Pe.id];null===_e&&ua.Z.warn("Multiple new layers with same id ".concat(Pe.id))(),be[Pe.id]=null;let pt=null;try{this._debug&&_e!==Pe&&Pe.validateProps(),_e?(this._transferLayerState(_e,Pe),this._updateLayer(Pe)):this._initializeLayer(Pe),Te.push(Pe),pt=Pe.isComposite?Pe.getSubLayers():null}catch(_e){this._handleError("matching",_e,Pe)}pt&&this._updateSublayersRecursively(pt,be,Te)}}_finalizeOldLayers(_e){for(const be in _e){const Te=_e[be];Te&&this._finalizeLayer(Te)}}_initializeLayer(_e){try{_e._initialize(),_e.lifecycle=la.dt.INITIALIZED}catch(be){this._handleError("initialization",be,_e)}}_transferLayerState(_e,be){be._transferState(_e),be.lifecycle=la.dt.MATCHED,be!==_e&&(_e.lifecycle=la.dt.AWAITING_GC)}_updateLayer(_e){try{_e._update()}catch(be){this._handleError("update",be,_e)}}_finalizeLayer(_e){this._needsRedraw=this._needsRedraw||"finalized ".concat(_e),_e.lifecycle=la.dt.AWAITING_FINALIZATION;try{_e._finalize(),_e.lifecycle=la.dt.FINALIZED}catch(be){this._handleError("finalization",be,_e)}}}class Aa{constructor(_e){(0,Pe.Z)(this,"width",void 0),(0,Pe.Z)(this,"height",void 0),(0,Pe.Z)(this,"views",void 0),(0,Pe.Z)(this,"viewState",void 0),(0,Pe.Z)(this,"controllers",void 0),(0,Pe.Z)(this,"timeline",void 0),(0,Pe.Z)(this,"_viewports",void 0),(0,Pe.Z)(this,"_viewportMap",void 0),(0,Pe.Z)(this,"_isUpdating",void 0),(0,Pe.Z)(this,"_needsRedraw",void 0),(0,Pe.Z)(this,"_needsUpdate",void 0),(0,Pe.Z)(this,"_eventManager",void 0),(0,Pe.Z)(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=_e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=_e.eventManager,this._eventCallbacks={onViewStateChange:_e.onViewStateChange,onInteractionStateChange:_e.onInteractionStateChange},Object.seal(this),this.setProps(_e)}finalize(){for(const _e in this.controllers){const be=this.controllers[_e];be&&be.finalize()}this.controllers={}}needsRedraw(_e={clearRedrawFlags:!1}){const be=this._needsRedraw;return _e.clearRedrawFlags&&(this._needsRedraw=!1),be}setNeedsUpdate(_e){this._needsUpdate=this._needsUpdate||_e,this._needsRedraw=this._needsRedraw||_e}updateViewStates(){for(const _e in this.controllers){const be=this.controllers[_e];be&&be.updateTransition()}}getViewports(_e){return _e?this._viewports.filter((be=>be.containsPixel(_e))):this._viewports}getViews(){const _e={};return this.views.forEach((be=>{_e[be.id]=be})),_e}getView(_e){return this.views.find((be=>be.id===_e))}getViewState(_e){const be="string"==typeof _e?this.getView(_e):_e,Te=be&&this.viewState[be.getViewStateId()]||this.viewState;return be?be.filterViewState(Te):Te}getViewport(_e){return this._viewportMap[_e]}unproject(_e,be){const Te=this.getViewports(),Pe={x:_e[0],y:_e[1]};for(let pt=Te.length-1;pt>=0;--pt){const vt=Te[pt];if(vt.containsPixel(Pe)){const Te=_e.slice();return Te[0]-=vt.x,Te[1]-=vt.y,vt.unproject(Te,be)}}return null}setProps(_e){_e.views&&this._setViews(_e.views),_e.viewState&&this._setViewState(_e.viewState),("width"in _e||"height"in _e)&&this._setSize(_e.width,_e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(_e,be){_e===this.width&&be===this.height||(this.width=_e,this.height=be,this.setNeedsUpdate("Size changed"))}_setViews(_e){_e=(0,ga.x)(_e,Boolean);this._diffViews(_e,this.views)&&this.setNeedsUpdate("views changed"),this.views=_e}_setViewState(_e){if(_e){!(0,xt.v)(_e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=_e}else ua.Z.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(_e,be){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...be,viewId:_e})}_createController(_e,be){return new(0,be.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,be.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:be=>_e.makeViewport({viewState:be,width:this.width,height:this.height})})}_updateController(_e,be,Te,Pe){const pt=_e.controller;if(pt){const vt={...be,...pt,id:_e.id,x:Te.x,y:Te.y,width:Te.width,height:Te.height};return Pe||(Pe=this._createController(_e,vt)),Pe&&Pe.setProps(vt),Pe}return null}_rebuildViewports(){const{views:_e}=this,be=this.controllers;this._viewports=[],this.controllers={};let Te=!1;for(let Pe=_e.length;Pe--;){const pt=_e[Pe],vt=this.getViewState(pt),xt=pt.makeViewport({viewState:vt,width:this.width,height:this.height});let Tt=be[pt.id];const It=Boolean(pt.controller);It&&!Tt&&(Te=!0),!Te&&It||!Tt||(Tt.finalize(),Tt=null),this.controllers[pt.id]=this._updateController(pt,vt,xt,Tt),this._viewports.unshift(xt)}for(const _e in be){const Te=be[_e];Te&&!this.controllers[_e]&&Te.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach((_e=>{_e.id&&(this._viewportMap[_e.id]=this._viewportMap[_e.id]||_e)}))}_diffViews(_e,be){return _e.length!==be.length||_e.some(((Te,Pe)=>!_e[Pe].equals(be[Pe])))}}var Da=Te(4912);const ka=[255,255,255],Ia=1;let La=0;class Fa{constructor(_e={}){(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"color",void 0),(0,Pe.Z)(this,"intensity",void 0),(0,Pe.Z)(this,"type","ambient");const{color:be=ka}=_e,{intensity:Te=Ia}=_e;this.id=_e.id||"ambient-".concat(La++),this.color=be,this.intensity=Te}}var Ba=Te(36280);const za=[255,255,255],ja=1,Na=[0,0,-1];let Ga=0;class Ha{constructor(_e={}){(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"color",void 0),(0,Pe.Z)(this,"intensity",void 0),(0,Pe.Z)(this,"type","directional"),(0,Pe.Z)(this,"direction",void 0),(0,Pe.Z)(this,"shadow",void 0);const{color:be=za}=_e,{intensity:Te=ja}=_e,{direction:pt=Na}=_e,{_shadow:vt=!1}=_e;this.id=_e.id||"directional-".concat(Ga++),this.color=be,this.intensity=Te,this.type="directional",this.direction=new Ba.Z(pt).normalize().toArray(),this.shadow=vt}getProjectedLight(_e){return this}}var $a=Te(37293);class Ja{constructor(_e,be={id:"pass"}){(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"gl",void 0),(0,Pe.Z)(this,"props",void 0);const{id:Te}=be;this.id=Te,this.gl=_e,this.props={...be}}setProps(_e){Object.assign(this.props,_e)}render(_e){}cleanup(){}}var sr=Te(39450),ur=Te(26047);class cr extends Ja{render(_e){const be=this.gl;return(0,sr.dR)(be,{framebuffer:_e.target}),this._drawLayers(_e)}_drawLayers(_e){const{target:be,moduleParameters:Te,viewports:Pe,views:pt,onViewportActive:vt,clearCanvas:xt=!0}=_e;_e.pass=_e.pass||"unknown";const Tt=this.gl;xt&&clearGLCanvas(Tt);const It=[];for(const xt of Pe){const Pe=pt&&pt[xt.id];vt(xt);const Mt=this._getDrawLayerParams(xt,_e),Lt=xt.subViewports||[xt];for(const pt of Lt){const vt=this._drawLayersInViewport(Tt,{target:be,moduleParameters:Te,viewport:pt,view:Pe,pass:_e.pass,layers:_e.layers},Mt);It.push(vt)}}return It}_getDrawLayerParams(_e,{layers:be,pass:Te,layerFilter:Pe,cullRect:pt,effects:vt,moduleParameters:xt}){const Tt=[],It=layerIndexResolver(),Mt={layer:be[0],viewport:_e,isPicking:Te.startsWith("picking"),renderPass:Te,cullRect:pt},Lt={};for(let pt=0;pt<be.length;pt++){const Ft=be[pt],Ot=this._shouldDrawLayer(Ft,Mt,Pe,Lt),Vt={shouldDrawLayer:Ot};Ot&&(Vt.layerRenderIndex=It(Ft,Ot),Vt.moduleParameters=this._getModuleParameters(Ft,vt,Te,xt),Vt.layerParameters=this.getLayerParameters(Ft,pt,_e)),Tt[pt]=Vt}return Tt}_drawLayersInViewport(_e,{layers:be,moduleParameters:Te,pass:Pe,target:pt,viewport:vt,view:xt},Tt){const It=getGLViewport(_e,{moduleParameters:Te,target:pt,viewport:vt});if(xt&&xt.props.clear){const be=!0===xt.props.clear?{color:!0,depth:!0}:xt.props.clear;(0,sr.s8)(_e,{scissorTest:!0,scissor:It},(()=>(0,ur.Z)(_e,be)))}const Mt={totalCount:be.length,visibleCount:0,compositeCount:0,pickableCount:0};(0,sr.dR)(_e,{viewport:It});for(let _e=0;_e<be.length;_e++){const Te=be[_e],{shouldDrawLayer:pt,layerRenderIndex:xt,moduleParameters:It,layerParameters:Lt}=Tt[_e];if(pt&&Te.props.pickable&&Mt.pickableCount++,Te.isComposite)Mt.compositeCount++;else if(pt){Mt.visibleCount++,It.viewport=vt;try{Te._drawLayer({moduleParameters:It,uniforms:{layerIndex:xt},parameters:Lt})}catch(_e){Te.raiseError(_e,"drawing ".concat(Te," to ").concat(Pe))}}}return Mt}shouldDrawLayer(_e){return!0}getModuleParameters(_e,be){return null}getLayerParameters(_e,be,Te){return _e.props.parameters}_shouldDrawLayer(_e,be,Te,Pe){if(!(_e.props.visible&&this.shouldDrawLayer(_e)))return!1;be.layer=_e;let pt=_e.parent;for(;pt;){if(!pt.props.visible||!pt.filterSubLayer(be))return!1;be.layer=pt,pt=pt.parent}if(Te){const _e=be.layer.id;if(_e in Pe||(Pe[_e]=Te(be)),!Pe[_e])return!1}return _e.activateViewport(be.viewport),!0}_getModuleParameters(_e,be,Te,Pe){var pt;const vt=Object.assign(Object.create((null===(pt=_e.internalState)||void 0===pt?void 0:pt.propsInTransition)||_e.props),{autoWrapLongitude:_e.wrapLongitude,viewport:_e.context.viewport,mousePosition:_e.context.mousePosition,pickingActive:0,devicePixelRatio:(0,sr.w)(this.gl)});if(be)for(const Te of be){var xt;Object.assign(vt,null===(xt=Te.getModuleParameters)||void 0===xt?void 0:xt.call(Te,_e))}return Object.assign(vt,this.getModuleParameters(_e,be),Pe)}}function layerIndexResolver(_e=0,be={}){const Te={},resolveLayerIndex=(Pe,pt)=>{const vt=Pe.props._offset,xt=Pe.id,Tt=Pe.parent&&Pe.parent.id;let It;if(Tt&&!(Tt in be)&&resolveLayerIndex(Pe.parent,!1),Tt in Te){const _e=Te[Tt]=Te[Tt]||layerIndexResolver(be[Tt],be);It=_e(Pe,pt),Te[xt]=_e}else Number.isFinite(vt)?(It=vt+(be[Tt]||0),Te[xt]=null):It=_e;return pt&&It>=_e&&(_e=It+1),be[xt]=It,It};return resolveLayerIndex}function getGLViewport(_e,{moduleParameters:be,target:Te,viewport:Pe}){const pt=Te&&"default-framebuffer"!==Te.id,vt=be&&be.devicePixelRatio||(0,sr.w)(_e),xt=pt?Te.height:_e.drawingBufferHeight,Tt=Pe;return[Tt.x*vt,xt-(Tt.y+Tt.height)*vt,Tt.width*vt,Tt.height*vt]}function clearGLCanvas(_e){const be=_e.drawingBufferWidth,Te=_e.drawingBufferHeight;(0,sr.dR)(_e,{viewport:[0,0,be,Te]}),_e.clear(16640)}var pr=Te(49830),mr=Te(53849);class yr extends cr{constructor(_e,be){super(_e,be),(0,Pe.Z)(this,"shadowMap",void 0),(0,Pe.Z)(this,"depthBuffer",void 0),(0,Pe.Z)(this,"fbo",void 0),this.shadowMap=new Da.Z(_e,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new pr.Z(_e,{format:33189,width:1,height:1}),this.fbo=new mr.Z(_e,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(_e){const be=this.fbo;(0,sr.s8)(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},(()=>{const Te=_e.viewports[0],Pe=(0,sr.w)(this.gl),pt=Te.width*Pe,vt=Te.height*Pe;pt===be.width&&vt===be.height||be.resize({width:pt,height:vt}),super.render({..._e,target:be,pass:"shadow"})}))}shouldDrawLayer(_e){return!1!==_e.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}var _r=Te(24088),vr=Te(88177);const Rr=(0,vr.Z)((function getViewportCenterPosition({viewport:_e,center:be}){return new $a.Z(_e.viewProjectionMatrix).invert().transform(be)})),xr=(0,vr.Z)((function getViewProjectionMatrices({viewport:_e,shadowMatrices:be}){const Te=[],Pe=_e.pixelUnprojectionMatrix,pt=_e.isGeospatial?void 0:1,vt=[[0,0,pt],[_e.width,0,pt],[0,_e.height,pt],[_e.width,_e.height,pt],[0,0,-1],[_e.width,0,-1],[0,_e.height,-1],[_e.width,_e.height,-1]].map((_e=>screenToCommonSpace(_e,Pe)));for(const Pe of be){const be=Pe.clone().translate(new Ba.Z(_e.center).negate()),pt=vt.map((_e=>be.transform(_e))),xt=(new $a.Z).ortho({left:Math.min(...pt.map((_e=>_e[0]))),right:Math.max(...pt.map((_e=>_e[0]))),bottom:Math.min(...pt.map((_e=>_e[1]))),top:Math.max(...pt.map((_e=>_e[1]))),near:Math.min(...pt.map((_e=>-_e[2]))),far:Math.max(...pt.map((_e=>-_e[2])))});Te.push(xt.multiplyRight(Pe))}return Te})),Sr=[0,0,0,1],Ar=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function screenToCommonSpace(_e,be){const[Te,Pe,pt]=_e,vt=(0,$n.CT)([Te,Pe,pt],be);return Number.isFinite(pt)?vt:[vt[0],vt[1],0]}function createShadowUniforms(_e,be){const{shadowEnabled:Te=!0}=_e;if(!Te||!_e.shadowMatrices||!_e.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const Pe={shadow_uDrawShadowMap:Boolean(_e.drawToShadowMap),shadow_uUseShadowMap:!!_e.shadowMaps&&_e.shadowMaps.length>0,shadow_uColor:_e.shadowColor||Sr,shadow_uLightId:_e.shadowLightId||0,shadow_uLightCount:_e.shadowMatrices.length},pt=Rr({viewport:_e.viewport,center:be.project_uCenter}),vt=[],xt=xr({shadowMatrices:_e.shadowMatrices,viewport:_e.viewport}).slice();for(let Te=0;Te<_e.shadowMatrices.length;Te++){const Pe=xt[Te],Tt=Pe.clone().translate(new Ba.Z(_e.viewport.center).negate());be.project_uCoordinateSystem===_r.Df.LNGLAT&&be.project_uProjectionMode===_r.zG.WEB_MERCATOR?(xt[Te]=Tt,vt[Te]=pt):(xt[Te]=Pe.clone().multiplyRight(Ar),vt[Te]=Tt.transform(pt))}for(let be=0;be<xt.length;be++)Pe["shadow_uViewProjectionMatrices[".concat(be,"]")]=xt[be],Pe["shadow_uProjectCenters[".concat(be,"]")]=vt[be],_e.shadowMaps&&_e.shadowMaps.length>0?Pe["shadow_uShadowMap".concat(be)]=_e.shadowMaps[be]:Pe["shadow_uShadowMap".concat(be)]=_e.dummyShadowMap;return Pe}var kr={name:"shadow",dependencies:[ba.Z],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:(_e={},be={})=>"viewport"in _e&&(_e.drawToShadowMap||_e.shadowMaps&&_e.shadowMaps.length>0)?createShadowUniforms(_e,be):{}};const Pr={color:[255,255,255],intensity:1},Fr=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],Or=[0,0,0,200/255];class Nr{constructor(_e={}){(0,Pe.Z)(this,"id","lighting-effect"),(0,Pe.Z)(this,"props",null),(0,Pe.Z)(this,"shadowColor",Or),(0,Pe.Z)(this,"shadow",void 0),(0,Pe.Z)(this,"ambientLight",null),(0,Pe.Z)(this,"directionalLights",[]),(0,Pe.Z)(this,"pointLights",[]),(0,Pe.Z)(this,"shadowPasses",[]),(0,Pe.Z)(this,"shadowMaps",[]),(0,Pe.Z)(this,"dummyShadowMap",null),(0,Pe.Z)(this,"programManager",void 0),(0,Pe.Z)(this,"shadowMatrices",void 0);for(const be in _e){const Te=_e[be];switch(Te.type){case"ambient":this.ambientLight=Te;break;case"directional":this.directionalLights.push(Te);break;case"point":this.pointLights.push(Te)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some((_e=>_e.shadow))}preRender(_e,{layers:be,layerFilter:Te,viewports:Pe,onViewportActive:pt,views:vt}){if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(_e),this.programManager||(this.programManager=xa.Z.getDefaultProgramManager(_e),kr&&this.programManager.addDefaultModule(kr)),this.dummyShadowMap||(this.dummyShadowMap=new Da.Z(_e,{width:1,height:1}));for(let _e=0;_e<this.shadowPasses.length;_e++){this.shadowPasses[_e].render({layers:be,layerFilter:Te,viewports:Pe,onViewportActive:pt,views:vt,moduleParameters:{shadowLightId:_e,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}getModuleParameters(_e){const be=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return be.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((be=>be.getProjectedLight({layer:_e}))),pointLights:this.pointLights.map((be=>be.getProjectedLight({layer:_e})))},be}cleanup(){for(const _e of this.shadowPasses)_e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(kr),this.programManager=null)}_calculateMatrices(){const _e=[];for(const be of this.directionalLights){const Te=(new $a.Z).lookAt({eye:new Ba.Z(be.direction).negate()});_e.push(Te)}return _e}_createShadowPasses(_e){for(let be=0;be<this.directionalLights.length;be++){const Te=new yr(_e);this.shadowPasses[be]=Te,this.shadowMaps[be]=Te.shadowMap}}_applyDefaultLights(){const{ambientLight:_e,pointLights:be,directionalLights:Te}=this;_e||0!==be.length||0!==Te.length||(this.ambientLight=new Fa(Pr),this.directionalLights.push(new Ha(Fr[0]),new Ha(Fr[1])))}}class Vr extends cr{constructor(_e,be){super(_e,be),(0,Pe.Z)(this,"maskMap",void 0),(0,Pe.Z)(this,"fbo",void 0);const{mapSize:Te=2048}=be;this.maskMap=new Da.Z(_e,{width:Te,height:Te,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.fbo=new mr.Z(_e,{id:"maskmap",width:Te,height:Te,attachments:{36064:this.maskMap}})}render(_e){const be=this.gl,Te=[!1,!1,!1,!1];return Te[_e.channel]=!0,(0,sr.s8)(be,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:Te,depthTest:!1},(()=>super.render({..._e,target:this.fbo,pass:"mask"})))}shouldDrawLayer(_e){return _e.props.operation===_r.k8.MASK}delete(){this.fbo.delete(),this.maskMap.delete()}}var Gr=Te(31437);const Zr=(new $a.Z).lookAt({eye:[0,0,1]});function getProjectionMatrix({width:_e,height:be,near:Te,far:Pe,padding:pt}){let vt=-_e/2,xt=_e/2,Tt=-be/2,It=be/2;if(pt){const{left:Te=0,right:Pe=0,top:Mt=0,bottom:Ft=0}=pt,Ot=(0,Lt.uZ)((Te+_e-Pe)/2,0,_e)-_e/2,Vt=(0,Lt.uZ)((Mt+be-Ft)/2,0,be)-be/2;vt-=Ot,xt-=Ot,Tt+=Vt,It+=Vt}return(new $a.Z).ortho({left:vt,right:xt,bottom:Tt,top:It,near:Te,far:Pe})}class qr extends pt.Z{constructor(_e){const{width:be,height:Te,near:Pe=.1,far:pt=1e3,zoom:vt=0,target:xt=[0,0,0],padding:Tt=null,flipY:It=!0}=_e,Mt=Array.isArray(vt)?vt[0]:vt,Lt=Array.isArray(vt)?vt[1]:vt,Ft=Math.min(Mt,Lt),Ot=Math.pow(2,Ft);let Vt;if(Mt!==Lt){const _e=Math.pow(2,Mt),be=Math.pow(2,Lt);Vt={unitsPerMeter:[_e/Ot,be/Ot,1],metersPerUnit:[Ot/_e,Ot/be,1]}}super({..._e,longitude:void 0,position:xt,viewMatrix:Zr.clone().scale([Ot,Ot*(It?-1:1),Ot]),projectionMatrix:getProjectionMatrix({width:be||1,height:Te||1,padding:Tt,near:Pe,far:pt}),zoom:Ft,distanceScales:Vt})}projectFlat([_e,be]){const{unitsPerMeter:Te}=this.distanceScales;return[_e*Te[0],be*Te[1]]}unprojectFlat([_e,be]){const{metersPerUnit:Te}=this.distanceScales;return[_e*Te[0],be*Te[1]]}panByPosition(_e,be){const Te=(0,$n.CT)(be,this.pixelUnprojectionMatrix),Pe=this.projectFlat(_e),pt=Gr.IH([],Pe,Gr.tk([],Te)),vt=Gr.IH([],this.center,pt);return{target:this.unprojectFlat(vt)}}}var Wr=Te(75126);class $r extends jn{constructor(_e){const{width:be,height:Te,rotationX:pt=0,rotationOrbit:vt=0,target:xt=[0,0,0],zoom:Tt=0,minRotationX:It=-90,maxRotationX:Mt=90,minZoom:Lt=-1/0,maxZoom:Ft=1/0,startPanPosition:Ot,startRotatePos:Vt,startRotationX:qt,startRotationOrbit:Wt,startZoomPosition:$t,startZoom:Kt}=_e;super({width:be,height:Te,rotationX:pt,rotationOrbit:vt,target:xt,zoom:Tt,minRotationX:It,maxRotationX:Mt,minZoom:Lt,maxZoom:Ft},{startPanPosition:Ot,startRotatePos:Vt,startRotationX:qt,startRotationOrbit:Wt,startZoomPosition:$t,startZoom:Kt}),(0,Pe.Z)(this,"makeViewport",void 0),this.makeViewport=_e.makeViewport}panStart({pos:_e}){return this._getUpdatedState({startPanPosition:this._unproject(_e)})}pan({pos:_e,startPosition:be}){const Te=this.getState().startPanPosition||be;if(!Te)return this;const Pe=this.makeViewport(this.getViewportProps()).panByPosition(Te,_e);return this._getUpdatedState(Pe)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:_e}){return this._getUpdatedState({startRotatePos:_e,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:_e,deltaAngleX:be=0,deltaAngleY:Te=0}){const{startRotatePos:Pe,startRotationX:pt,startRotationOrbit:vt}=this.getState(),{width:xt,height:Tt}=this.getViewportProps();if(!Pe||void 0===pt||void 0===vt)return this;let It;if(_e){let be=(_e[0]-Pe[0])/xt;const Te=(_e[1]-Pe[1])/Tt;(pt<-90||pt>90)&&(be*=-1),It={rotationX:pt+180*Te,rotationOrbit:vt+180*be}}else It={rotationX:pt+Te,rotationOrbit:vt+be};return this._getUpdatedState(It)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(_e){const be=_e.getViewportProps(),Te={...this.getViewportProps()},{rotationOrbit:Pe}=Te;return Math.abs(Pe-be.rotationOrbit)>180&&(Te.rotationOrbit=Pe<0?Pe+360:Pe-360),Te}zoomStart({pos:_e}){return this._getUpdatedState({startZoomPosition:this._unproject(_e),startZoom:this.getViewportProps().zoom})}zoom({pos:_e,startPos:be,scale:Te}){let{startZoom:Pe,startZoomPosition:pt}=this.getState();if(pt||(Pe=this.getViewportProps().zoom,pt=this._unproject(be)||this._unproject(_e)),!pt)return this;const vt=this._calculateNewZoom({scale:Te,startZoom:Pe}),xt=this.makeViewport({...this.getViewportProps(),zoom:vt});return this._getUpdatedState({zoom:vt,...xt.panByPosition(pt,_e)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(_e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:_e})})}zoomOut(_e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/_e})})}moveLeft(_e=50){return this._panFromCenter([-_e,0])}moveRight(_e=50){return this._panFromCenter([_e,0])}moveUp(_e=50){return this._panFromCenter([0,-_e])}moveDown(_e=50){return this._panFromCenter([0,_e])}rotateLeft(_e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-_e})}rotateRight(_e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+_e})}rotateUp(_e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-_e})}rotateDown(_e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+_e})}_unproject(_e){const be=this.makeViewport(this.getViewportProps());return _e&&be.unproject(_e)}_calculateNewZoom({scale:_e,startZoom:be}){const{maxZoom:Te,minZoom:Pe}=this.getViewportProps();void 0===be&&(be=this.getViewportProps().zoom);const pt=be+Math.log2(_e);return(0,Lt.uZ)(pt,Pe,Te)}_panFromCenter(_e){const{width:be,height:Te,target:Pe}=this.getViewportProps();return this.pan({startPosition:Pe,pos:[be/2+_e[0],Te/2+_e[1]]})}_getUpdatedState(_e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),..._e})}applyConstraints(_e){const{maxZoom:be,minZoom:Te,zoom:Pe,maxRotationX:pt,minRotationX:vt,rotationOrbit:xt}=_e;return _e.zoom=Array.isArray(Pe)?[(0,Lt.uZ)(Pe[0],Te,be),(0,Lt.uZ)(Pe[1],Te,be)]:(0,Lt.uZ)(Pe,Te,be),_e.rotationX=(0,Lt.uZ)(_e.rotationX,vt,pt),(xt<-180||xt>180)&&(_e.rotationOrbit=(0,Wr.wQ)(xt+180,360)-180),_e}}class Xr extends $r{constructor(_e){super(_e),(0,Pe.Z)(this,"zoomAxis",void 0),this.zoomAxis=_e.zoomAxis||"all"}_calculateNewZoom({scale:_e,startZoom:be}){const{maxZoom:Te,minZoom:Pe}=this.getViewportProps();void 0===be&&(be=this.getViewportProps().zoom);let pt=Math.log2(_e);if(Array.isArray(be)){let[_e,vt]=be;switch(this.zoomAxis){case"X":_e=(0,Lt.uZ)(_e+pt,Pe,Te);break;case"Y":vt=(0,Lt.uZ)(vt+pt,Pe,Te);break;default:let be=Math.min(_e+pt,vt+pt);be<Pe&&(pt+=Pe-be),be=Math.max(_e+pt,vt+pt),be>Te&&(pt+=Te-be),_e+=pt,vt+=pt}return[_e,vt]}return(0,Lt.uZ)(be+pt,Pe,Te)}}class Kr extends Fn{constructor(..._e){super(..._e),(0,Pe.Z)(this,"ControllerState",Xr),(0,Pe.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new Yt(["target","zoom"])}),(0,Pe.Z)(this,"dragMode","pan")}_onPanRotate(){return!1}}class Jr extends It{get ViewportType(){return qr}get ControllerType(){return Kr}}function getMaskBounds({layers:_e,viewport:be}){let Te=null;for(const be of _e){const _e=be.getBounds();_e&&(Te?(Te[0]=Math.min(Te[0],_e[0][0]),Te[1]=Math.min(Te[1],_e[0][1]),Te[2]=Math.max(Te[2],_e[1][0]),Te[3]=Math.max(Te[3],_e[1][1])):Te=[_e[0][0],_e[0][1],_e[1][0],_e[1][1]])}const Pe=be.getBounds();if(!Te)return Pe;const pt=_doubleBounds(Pe);return Te[2]-Te[0]<pt[2]-pt[0]||Te[3]-Te[1]<pt[3]-pt[1]||(Te[0]=Math.max(Te[0],pt[0]),Te[1]=Math.max(Te[1],pt[1]),Te[2]=Math.min(Te[2],pt[2]),Te[3]=Math.min(Te[3],pt[3])),Te}function getMaskViewport({bounds:_e,viewport:be,width:Te,height:Pe}){if(_e[2]<=_e[0]||_e[3]<=_e[1])return null;if(Te-=2,Pe-=2,be instanceof Mt.Z){const{longitude:be,latitude:pt,zoom:vt}=(0,$n.Xg)({width:Te,height:Pe,bounds:[[_e[0],_e[1]],[_e[2],_e[3]]],maxZoom:20});return new Mt.Z({longitude:be,latitude:pt,zoom:vt,x:1,y:1,width:Te,height:Pe})}const pt=[(_e[0]+_e[2])/2,(_e[1]+_e[3])/2,0],vt=Math.min(20,Te/(_e[2]-_e[0]),Pe/(_e[3]-_e[1]));return new Jr({x:1,y:1}).makeViewport({width:Te,height:Pe,viewState:{target:pt,zoom:Math.log2(vt)}})}function _doubleBounds(_e){const be=_e[2]-_e[0],Te=_e[3]-_e[1],Pe=_e[0]+.5*be,pt=_e[1]+.5*Te;return[Pe-be,pt-Te,Pe+be,pt+Te]}(0,Pe.Z)(Jr,"displayName","OrthographicView");class Yr{constructor(){(0,Pe.Z)(this,"id","mask-effect"),(0,Pe.Z)(this,"props",null),(0,Pe.Z)(this,"useInPicking",!0),(0,Pe.Z)(this,"dummyMaskMap",void 0),(0,Pe.Z)(this,"channels",[]),(0,Pe.Z)(this,"masks",null),(0,Pe.Z)(this,"maskPass",void 0),(0,Pe.Z)(this,"maskMap",void 0),(0,Pe.Z)(this,"lastViewport",void 0)}preRender(_e,{layers:be,layerFilter:Te,viewports:Pe,onViewportActive:pt,views:vt}){this.dummyMaskMap||(this.dummyMaskMap=new Da.Z(_e,{width:1,height:1}));const xt=be.filter((_e=>_e.props.visible&&_e.props.operation===_r.k8.MASK));if(0===xt.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new Vr(_e,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);const Tt=this._sortMaskChannels(xt),It=Pe[0],Mt=!this.lastViewport||!this.lastViewport.equals(It);for(const _e in Tt)this._renderChannel(Tt[_e],{layerFilter:Te,onViewportActive:pt,views:vt,viewport:It,viewportChanged:Mt})}_renderChannel(_e,{layerFilter:be,onViewportActive:Te,views:Pe,viewport:pt,viewportChanged:vt}){const xt=this.channels[_e.index];if(!xt)return;const Tt=_e===xt||xt.layers.length!==_e.layers.length||_e.layerBounds.some(((_e,be)=>_e!==xt.layerBounds[be]));if(_e.bounds=xt.bounds,_e.maskBounds=xt.maskBounds,this.channels[_e.index]=_e,(Tt||vt)&&(this.lastViewport=pt,_e.bounds=getMaskBounds({layers:_e.layers,viewport:pt}),Tt||!(0,Lt.fS)(_e.bounds,xt.bounds))){const{maskPass:vt,maskMap:xt}=this,Tt=getMaskViewport({bounds:_e.bounds,viewport:pt,width:xt.width,height:xt.height});_e.maskBounds=Tt?Tt.getBounds():[0,0,1,1],vt.render({pass:"mask",channel:_e.index,layers:_e.layers,layerFilter:be,viewports:Tt?[Tt]:[],onViewportActive:Te,views:Pe,moduleParameters:{devicePixelRatio:1}})}this.masks[_e.id]={index:_e.index,bounds:_e.maskBounds,coordinateOrigin:_e.coordinateOrigin,coordinateSystem:_e.coordinateSystem}}_sortMaskChannels(_e){const be={};let Te=0;for(const Pe of _e){const{id:_e}=Pe.root;let pt=be[_e];if(!pt){if(++Te>4){ua.Z.warn("Too many mask layers. The max supported is 4")();continue}pt={id:_e,index:this.channels.findIndex((be=>(null==be?void 0:be.id)===_e)),layers:[],layerBounds:[],coordinateOrigin:Pe.root.props.coordinateOrigin,coordinateSystem:Pe.root.props.coordinateSystem},be[_e]=pt}pt.layers.push(Pe),pt.layerBounds.push(Pe.getBounds())}for(let _e=0;_e<4;_e++){const Te=this.channels[_e];Te&&Te.id in be||(this.channels[_e]=null)}for(const _e in be){const Te=be[_e];Te.index<0&&(Te.index=this.channels.findIndex((_e=>!_e)),this.channels[Te.index]=Te)}return be}getModuleParameters(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}cleanup(){this.dummyMaskMap&&(this.dummyMaskMap.delete(),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass.delete(),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}const Qr=new Nr;class no{constructor(){(0,Pe.Z)(this,"effects",void 0),(0,Pe.Z)(this,"_internalEffects",void 0),(0,Pe.Z)(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}setProps(_e){"effects"in _e&&(_e.effects.length===this.effects.length&&(0,xt.v)(_e.effects,this.effects)||(this.setEffects(_e.effects),this._needsRedraw="effects changed"))}needsRedraw(_e={clearRedrawFlags:!1}){const be=this._needsRedraw;return _e.clearRedrawFlags&&(this._needsRedraw=!1),be}getEffects(){return this._internalEffects}finalize(){this.cleanup()}setEffects(_e=[]){this.cleanup(),this.effects=_e,this._internalEffects=_e.slice(),this._internalEffects.push(new Yr),_e.some((_e=>_e instanceof Nr))||this._internalEffects.push(Qr)}cleanup(){for(const _e of this.effects)_e.cleanup();for(const _e of this._internalEffects)_e.cleanup();this.effects.length=0,this._internalEffects.length=0}}class so extends cr{shouldDrawLayer(_e){return _e.props.operation===_r.k8.DRAW}}const go={blendFunc:[1,0,32771,0],blendEquation:32774};class vo extends cr{constructor(..._e){super(..._e),(0,Pe.Z)(this,"pickZ",void 0),(0,Pe.Z)(this,"_colors",null)}render(_e){return _e.pickingFBO?this._drawPickingBuffer(_e):super.render(_e)}_drawPickingBuffer({layers:_e,layerFilter:be,views:Te,viewports:Pe,onViewportActive:pt,pickingFBO:vt,deviceRect:{x:xt,y:Tt,width:It,height:Mt},cullRect:Lt,effects:Ft,pass:Ot="picking",pickZ:Vt}){const qt=this.gl;this.pickZ=Vt;const Wt=Vt?null:{byLayer:new Map,byAlpha:[]};this._colors=Wt;const $t=(0,sr.s8)(qt,{scissorTest:!0,scissor:[xt,Tt,It,Mt],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...go,blend:!Vt},(()=>super.render({target:vt,layers:_e,layerFilter:be,views:Te,viewports:Pe,onViewportActive:pt,cullRect:Lt,effects:null==Ft?void 0:Ft.filter((_e=>_e.useInPicking)),pass:Ot})));this._colors=null;return{decodePickingColor:Wt&&decodeColor.bind(null,Wt),stats:$t}}shouldDrawLayer(_e){return _e.props.pickable&&_e.props.operation===_r.k8.DRAW}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(_e,be,Te){const Pe={..._e.props.parameters};return this._colors?(Object.assign(Pe,go),Pe.blend=!0,Pe.blendColor=encodeColor(this._colors,_e,Te)):Pe.blend=!1,Pe}}function encodeColor(_e,be,Te){const{byLayer:Pe,byAlpha:pt}=_e;let vt,xt=Pe.get(be);return xt?(xt.viewports.push(Te),vt=xt.a):(vt=Pe.size+1,vt<=255?(xt={a:vt,layer:be,viewports:[Te]},Pe.set(be,xt),pt[vt]=xt):(ua.Z.warn("Too many pickable layers, only picking the first 255")(),vt=0)),[0,0,0,vt/255]}function decodeColor(_e,be){const Te=_e.byAlpha[be[3]];return Te&&{pickedLayer:Te.layer,pickedViewports:Te.viewports,pickedObjectIndex:Te.layer.decodePickingColor(be)}}class xo{constructor(_e){this.gl=_e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new so(_e),this.pickLayersPass=new vo(_e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(_e){"layerFilter"in _e&&this.layerFilter!==_e.layerFilter&&(this.layerFilter=_e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in _e&&this.drawPickingColors!==_e.drawPickingColors&&(this.drawPickingColors=_e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(_e){const be=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;_e.layerFilter=_e.layerFilter||this.layerFilter,_e.effects=_e.effects||[],_e.target=_e.target||mr.Z.getDefaultFramebuffer(this.gl),this._preRender(_e.effects,_e);const Te=this.lastPostProcessEffect?this.renderBuffers[0]:_e.target,Pe=be.render({..._e,target:Te});this._postRender(_e.effects,_e),this.renderCount++,(0,ca.Z)("deckRenderer.renderLayers",this,Pe,_e)}needsRedraw(_e={clearRedrawFlags:!1}){const be=this._needsRedraw;return _e.clearRedrawFlags&&(this._needsRedraw=!1),be}finalize(){const{renderBuffers:_e}=this;for(const be of _e)be.delete();_e.length=0}_preRender(_e,be){let Te=null;for(const Pe of _e)Pe.preRender(this.gl,be),Pe.postRender&&(Te=Pe);Te&&this._resizeRenderBuffers(),this.lastPostProcessEffect=Te}_resizeRenderBuffers(){const{renderBuffers:_e}=this;0===_e.length&&_e.push(new mr.Z(this.gl),new mr.Z(this.gl));for(const be of _e)be.resize()}_postRender(_e,be){const{renderBuffers:Te}=this,Pe={inputBuffer:Te[0],swapBuffer:Te[1],target:null};for(const pt of _e)if(pt.postRender){if(pt===this.lastPostProcessEffect){Pe.target=be.target,pt.postRender(this.gl,Pe);break}const _e=pt.postRender(this.gl,Pe);Pe.inputBuffer=_e,Pe.swapBuffer=_e===Te[0]?Te[1]:Te[0]}}}var bo=Te(1953);const Ao={pickedColor:null,pickedObjectIndex:-1};function getClosestObject({pickedColors:_e,decodePickingColor:be,deviceX:Te,deviceY:Pe,deviceRadius:pt,deviceRect:vt}){const{x:xt,y:Tt,width:It,height:Mt}=vt;let Lt=pt*pt,Ft=-1,Ot=0;for(let be=0;be<Mt;be++){const pt=be+Tt-Pe,vt=pt*pt;if(vt>Lt)Ot+=4*It;else for(let be=0;be<It;be++){if(_e[Ot+3]-1>=0){const _e=be+xt-Te,Pe=_e*_e+vt;Pe<=Lt&&(Lt=Pe,Ft=Ot)}Ot+=4}}if(Ft>=0){const Te=_e.slice(Ft,Ft+4),Pe=be(Te);if(Pe){const _e=Math.floor(Ft/4/It),be=Ft/4-_e*It;return{...Pe,pickedColor:Te,pickedX:xt+be,pickedY:Tt+_e}}ua.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}return Ao}function getUniqueObjects({pickedColors:_e,decodePickingColor:be}){const Te=new Map;if(_e)for(let Pe=0;Pe<_e.length;Pe+=4){if(_e[Pe+3]-1>=0){const pt=_e.slice(Pe,Pe+4),vt=pt.join(",");if(!Te.has(vt)){const _e=be(pt);_e?Te.set(vt,{..._e,color:pt}):ua.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(Te.values())}function getEmptyPickingInfo({pickInfo:_e,viewports:be,pixelRatio:Te,x:Pe,y:pt,z:vt}){let xt,Tt=be[0];if(be.length>1&&(Tt=getViewportFromCoordinates((null==_e?void 0:_e.pickedViewports)||be,{x:Pe,y:pt})),Tt){const _e=[Pe-Tt.x,pt-Tt.y];void 0!==vt&&(_e[2]=vt),xt=Tt.unproject(_e)}return{color:null,layer:null,viewport:Tt,index:-1,picked:!1,x:Pe,y:pt,pixel:[Pe,pt],coordinate:xt,devicePixel:_e&&"pickedX"in _e?[_e.pickedX,_e.pickedY]:void 0,pixelRatio:Te}}function processPickInfo(_e){const{pickInfo:be,lastPickedInfo:Te,mode:Pe,layers:pt}=_e,{pickedColor:vt,pickedLayer:xt,pickedObjectIndex:Tt}=be,It=xt?[xt]:[];if("hover"===Pe){const _e=Te.index,be=Te.layerId,Pe=xt?xt.props.id:null;if(Pe!==be||Tt!==_e){if(Pe!==be){const _e=pt.find((_e=>_e.props.id===be));_e&&It.unshift(_e)}Te.layerId=Pe,Te.index=Tt,Te.info=null}}const Mt=getEmptyPickingInfo(_e),Lt=new Map;return Lt.set(null,Mt),It.forEach((_e=>{let be={...Mt};_e===xt&&(be.color=vt,be.index=Tt,be.picked=!0),be=getLayerPickingInfo({layer:_e,info:be,mode:Pe});const pt=be.layer;_e===xt&&"hover"===Pe&&(Te.info=be),Lt.set(pt.id,be),"hover"===Pe&&pt.updateAutoHighlight(be)})),Lt}function getLayerPickingInfo({layer:_e,info:be,mode:Te}){for(;_e&&be;){const Pe=be.layer||null;be.sourceLayer=Pe,be.layer=_e,be=_e.getPickingInfo({info:be,mode:Te,sourceLayer:Pe}),_e=_e.parent}return be}function getViewportFromCoordinates(_e,be){for(let Te=_e.length-1;Te>=0;Te--){const Pe=_e[Te];if(Pe.containsPixel(be))return Pe}return _e[0]}class Po{constructor(_e){(0,Pe.Z)(this,"gl",void 0),(0,Pe.Z)(this,"pickingFBO",void 0),(0,Pe.Z)(this,"depthFBO",void 0),(0,Pe.Z)(this,"pickLayersPass",void 0),(0,Pe.Z)(this,"layerFilter",void 0),(0,Pe.Z)(this,"lastPickedInfo",void 0),(0,Pe.Z)(this,"_pickable",!0),this.gl=_e,this.pickLayersPass=new vo(_e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(_e){"layerFilter"in _e&&(this.layerFilter=_e.layerFilter),"_pickable"in _e&&(this._pickable=_e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(_e){return this._pickClosestObject(_e)}pickObjects(_e){return this._pickVisibleObjects(_e)}getLastPickedObject({x:_e,y:be,layers:Te,viewports:Pe},pt=this.lastPickedInfo.info){const vt=pt&&pt.layer&&pt.layer.id,xt=pt&&pt.viewport&&pt.viewport.id,Tt=vt?Te.find((_e=>_e.id===vt)):null,It=xt&&Pe.find((_e=>_e.id===xt))||Pe[0],Mt=It&&It.unproject([_e-It.x,be-It.y]),Lt={x:_e,y:be,viewport:It,coordinate:Mt,layer:Tt};return{...pt,...Lt}}_resizeBuffer(){var _e,be;const{gl:Te}=this;if(!this.pickingFBO&&(this.pickingFBO=new mr.Z(Te),mr.Z.isSupported(Te,{colorBufferFloat:!0}))){const _e=new mr.Z(Te);_e.attach({36064:new Da.Z(Te,{format:(0,sr.D0)(Te)?34836:6408,type:5126})}),this.depthFBO=_e}null===(_e=this.pickingFBO)||void 0===_e||_e.resize({width:Te.canvas.width,height:Te.canvas.height}),null===(be=this.depthFBO)||void 0===be||be.resize({width:Te.canvas.width,height:Te.canvas.height})}_getPickable(_e){if(!1===this._pickable)return null;const be=_e.filter((_e=>_e.isPickable()&&!_e.isComposite));return be.length?be:null}_pickClosestObject({layers:_e,views:be,viewports:Te,x:Pe,y:pt,radius:vt=0,depth:xt=1,mode:Tt="query",unproject3D:It,onViewportActive:Mt,effects:Lt}){const Ft=this._getPickable(_e),Ot=(0,sr.w)(this.gl);if(!Ft)return{result:[],emptyInfo:getEmptyPickingInfo({viewports:Te,x:Pe,y:pt,pixelRatio:Ot})};this._resizeBuffer();const Vt=(0,sr.JY)(this.gl,[Pe,pt],!0),qt=[Vt.x+Math.floor(Vt.width/2),Vt.y+Math.floor(Vt.height/2)],Wt=Math.round(vt*Ot),{width:$t,height:Kt}=this.pickingFBO,Jt=this._getPickingRect({deviceX:qt[0],deviceY:qt[1],deviceRadius:Wt,deviceWidth:$t,deviceHeight:Kt}),Yt={x:Pe-vt,y:pt-vt,width:2*vt+1,height:2*vt+1};let Qt;const an=[],cn=new Set;for(let _e=0;_e<xt;_e++){let vt,Vt;if(Jt){vt=getClosestObject({...this._drawAndSample({layers:Ft,views:be,viewports:Te,onViewportActive:Mt,deviceRect:Jt,cullRect:Yt,effects:Lt,pass:"picking:".concat(Tt)}),deviceX:qt[0],deviceY:qt[1],deviceRadius:Wt,deviceRect:Jt})}else vt={pickedColor:null,pickedObjectIndex:-1};if(vt.pickedLayer&&It&&this.depthFBO){Vt=this._drawAndSample({layers:[vt.pickedLayer],views:be,viewports:Te,onViewportActive:Mt,deviceRect:{x:vt.pickedX,y:vt.pickedY,width:1,height:1},cullRect:Yt,effects:Lt,pass:"picking:".concat(Tt,":z")},!0).pickedColors[0]}vt.pickedLayer&&_e+1<xt&&(cn.add(vt.pickedLayer),vt.pickedLayer.disablePickingIndex(vt.pickedObjectIndex)),Qt=processPickInfo({pickInfo:vt,lastPickedInfo:this.lastPickedInfo,mode:Tt,layers:Ft,viewports:Te,x:Pe,y:pt,z:Vt,pixelRatio:Ot});for(const _e of Qt.values())_e.layer&&an.push(_e);if(!vt.pickedColor)break}for(const _e of cn)_e.restorePickingColors();return{result:an,emptyInfo:Qt.get(null)}}_pickVisibleObjects({layers:_e,views:be,viewports:Te,x:Pe,y:pt,width:vt=1,height:xt=1,mode:Tt="query",maxObjects:It=null,onViewportActive:Mt,effects:Lt}){const Ft=this._getPickable(_e);if(!Ft)return[];this._resizeBuffer();const Ot=(0,sr.w)(this.gl),Vt=(0,sr.JY)(this.gl,[Pe,pt],!0),qt=Vt.x,Wt=Vt.y+Vt.height,$t=(0,sr.JY)(this.gl,[Pe+vt,pt+xt],!0),Kt=$t.x+$t.width,Jt=$t.y,Yt={x:qt,y:Jt,width:Kt-qt,height:Wt-Jt},Qt=getUniqueObjects(this._drawAndSample({layers:Ft,views:be,viewports:Te,onViewportActive:Mt,deviceRect:Yt,cullRect:{x:Pe,y:pt,width:vt,height:xt},effects:Lt,pass:"picking:".concat(Tt)})),an=new Map,cn=Number.isFinite(It);for(let _e=0;_e<Qt.length&&!(cn&&It&&an.size>=It);_e++){const be=Qt[_e];let Te={color:be.pickedColor,layer:null,index:be.pickedObjectIndex,picked:!0,x:Pe,y:pt,pixelRatio:Ot};Te=getLayerPickingInfo({layer:be.pickedLayer,info:Te,mode:Tt}),an.has(Te.object)||an.set(Te.object,Te)}return Array.from(an.values())}_drawAndSample({layers:_e,views:be,viewports:Te,onViewportActive:Pe,deviceRect:pt,cullRect:vt,effects:xt,pass:Tt},It=!1){const Mt=It?this.depthFBO:this.pickingFBO,{decodePickingColor:Lt}=this.pickLayersPass.render({layers:_e,layerFilter:this.layerFilter,views:be,viewports:Te,onViewportActive:Pe,pickingFBO:Mt,deviceRect:pt,cullRect:vt,effects:xt,pass:Tt,pickZ:It}),{x:Ft,y:Ot,width:Vt,height:qt}=pt,Wt=new(It?Float32Array:Uint8Array)(Vt*qt*4);return(0,bo.z6)(Mt,{sourceX:Ft,sourceY:Ot,sourceWidth:Vt,sourceHeight:qt,target:Wt}),{pickedColors:Wt,decodePickingColor:Lt}}_getPickingRect({deviceX:_e,deviceY:be,deviceRadius:Te,deviceWidth:Pe,deviceHeight:pt}){const vt=Math.max(0,_e-Te),xt=Math.max(0,be-Te),Tt=Math.min(Pe,_e+Te+1)-vt,It=Math.min(pt,be+Te+1)-xt;return Tt<=0||It<=0?null:{x:vt,y:xt,width:Tt,height:It}}}const Uo={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class _s{constructor(_e){(0,Pe.Z)(this,"el",null),(0,Pe.Z)(this,"isVisible",!1);const be=_e.parentElement;be&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,Uo),be.appendChild(this.el))}setTooltip(_e,be,Te){const Pe=this.el;if(Pe){if("string"==typeof _e)Pe.innerText=_e;else{if(!_e)return this.isVisible=!1,void(Pe.style.display="none");_e.text&&(Pe.innerText=_e.text),_e.html&&(Pe.innerHTML=_e.html),_e.className&&(Pe.className=_e.className),Object.assign(Pe.style,_e.style)}this.isVisible=!0,Pe.style.display="block",Pe.style.transform="translate(".concat(be,"px, ").concat(Te,"px)")}}remove(){this.el&&(this.el.remove(),this.el=null)}}var vs=Te(36610),Rs=Te(6228),xs=Te(83579);var bs={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function isJSON(_e){const be=_e[0],Te=_e[_e.length-1];return"{"===be&&"}"===Te||"["===be&&"]"===Te},parseTextSync:JSON.parse};const ws="8.8.4",Es=globalThis.deck&&globalThis.deck.VERSION;if(Es&&Es!==ws)throw new Error("deck.gl - multiple versions detected: ".concat(Es," vs ").concat(ws));Es||(ua.Z.log(1,"deck.gl ".concat(ws))(),globalThis.deck={...globalThis.deck,VERSION:ws,version:ws,log:ua.Z,_registerLoggers:ca.z},(0,Rs.fh)([bs,[xs.S,{imagebitmap:{premultiplyAlpha:"none"}}]]));var Cs=globalThis.deck,As=Te(3485),Ts=Te(49835),Ds=Te(23121),Ps=Te(87577),Is=Te(44211),Ls=Te(6948);class Fs extends Ps.Z{get[Symbol.toStringTag](){return"Query"}static isSupported(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const Te=(0,sr.D0)(_e),Pe=(0,Is.ag)(_e,Ls.h.TIMER_QUERY);let pt=Te||Pe;for(const _e of be)switch(_e){case"queries":pt=pt&&Te;break;case"timers":pt=pt&&Pe;break;default:(0,Ds.h)(!1)}return pt}constructor(_e){super(_e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:_e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(_e?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(_e){return this._queryPending||(this.target=_e,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const _e=this.gl2.getQueryParameter(this.handle,34919);return _e&&(this._queryPending=!1),_e}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let be=0;return this._pollingPromise=new Promise(((Te,Pe)=>{const poll=()=>{this.isResultAvailable()?(Te(this.getResult()),this._pollingPromise=null):be++>_e?(Pe("Timed out"),this._pollingPromise=null):requestAnimationFrame(poll)};requestAnimationFrame(poll)})),this._pollingPromise}_createHandle(){return Fs.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}const Bs=(0,Te(93370).Z)()&&"undefined"!=typeof document;let Os=0;class js{constructor(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:be=(_e=>(0,sr.s9)(_e)),onAddHTML:Te=null,onInitialize:Pe=(()=>{}),onRender:pt=(()=>{}),onFinalize:vt=(()=>{}),onError:xt,gl:Tt=null,glOptions:It={},debug:Mt=!1,createFramebuffer:Lt=!1,autoResizeViewport:Ft=!0,autoResizeDrawingBuffer:Ot=!0,stats:Vt=Ts.lR.get("animation-loop-".concat(Os++))}=_e;let{useDevicePixels:qt=!0}=_e;"useDevicePixelRatio"in _e&&(sr.cM.deprecated("useDevicePixelRatio","useDevicePixels")(),qt=_e.useDevicePixelRatio),this.props={onCreateContext:be,onAddHTML:Te,onInitialize:Pe,onRender:pt,onFinalize:vt,onError:xt,gl:Tt,glOptions:It,debug:Mt,createFramebuffer:Lt},this.gl=Tt,this.needsRedraw=null,this.timeline=null,this.stats=Vt,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:Ft,autoResizeDrawingBuffer:Ot,useDevicePixels:qt}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(_e){return(0,Ds.h)("string"==typeof _e),this.needsRedraw=this.needsRedraw||_e,this}setProps(_e){return"autoResizeViewport"in _e&&(this.autoResizeViewport=_e.autoResizeViewport),"autoResizeDrawingBuffer"in _e&&(this.autoResizeDrawingBuffer=_e.autoResizeDrawingBuffer),"useDevicePixels"in _e&&(this.useDevicePixels=_e.useDevicePixels),this}start(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const be=this._getPageLoadPromise().then((()=>!this._running||this._initialized?null:(this._createWebGLContext(_e),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=Fs.isSupported(this.gl,["timers"])?new Fs(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps)))).then((_e=>{this._running&&(this._addCallbackData(_e||{}),!1!==_e&&this._startLoop())}));return this.props.onError&&be.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(_e){return this.timeline=_e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((_e=>{this._resolveNextFrame=_e}))),this._nextFramePromise}async toDataURL(){return this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.gl.canvas.toDataURL()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const Te=document.getElementById(_e);return Te?Number(Te.value):be}setViewParameters(){return sr.cM.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const renderFrame=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(renderFrame))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(renderFrame)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=Bs?new Promise(((_e,be)=>{Bs&&"complete"===document.readyState?_e(document):window.addEventListener("load",(()=>{_e(document)}))})):Promise.resolve({})),this._pageLoadPromise}_setDisplay(_e){this.display&&(this.display.delete(),this.display.animationLoop=null),_e&&(_e.animationLoop=this),this.display=_e}_cancelAnimationFrame(_e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(_e):(be=_e,"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(be):clearTimeout(be));var be}_requestAnimationFrame(_e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(_e):(be=_e,"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(be):setTimeout(be,1e3/60));var be}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:_e,height:be,aspect:Te}=this._getSizeAndAspect();_e===this.animationProps.width&&be===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),Te!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=_e,this.animationProps.height=be,this.animationProps.aspect=Te,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(_e){"object"==typeof _e&&null!==_e&&(this.animationProps=Object.assign({},this.animationProps,_e))}_createWebGLContext(_e){if(this.offScreen=_e.canvas&&"undefined"!=typeof OffscreenCanvas&&_e.canvas instanceof OffscreenCanvas,_e=Object.assign({},_e,this.props.glOptions),this.gl=this.props.gl?(0,sr.yW)(this.props.gl,_e):this.onCreateContext(_e),!(0,sr.UF)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(0,sr.kL)(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const _e=document.createElement("div");document.body.appendChild(_e),_e.style.position="relative";const be=document.createElement("div");be.style.position="absolute",be.style.left="10px",be.style.bottom="10px",be.style.width="300px",be.style.background="white",_e.appendChild(this.gl.canvas),_e.appendChild(be);const Te=this.props.onAddHTML(be);Te&&(be.innerHTML=Te)}}_getSizeAndAspect(){const _e=this.gl.drawingBufferWidth,be=this.gl.drawingBufferHeight;let Te=1;const{canvas:Pe}=this.gl;return Pe&&Pe.clientHeight?Te=Pe.clientWidth/Pe.clientHeight:_e>0&&be>0&&(Te=_e/be),{width:_e,height:be,aspect:Te}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&(0,sr.aQ)(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new mr.Z(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:_e}=this.gl;_e&&(_e.addEventListener("mousemove",this._onMousemove),_e.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(_e){this.animationProps._mousePosition=[_e.offsetX,_e.offsetY]}_onMouseleave(_e){this.animationProps._mousePosition=null}}var Ns=Te(50840),Vs=Te.n(Ns);const Us={mousedown:1,mousemove:2,mouseup:4};function some(_e,be){for(let Te=0;Te<_e.length;Te++)if(be(_e[Te]))return!0;return!1}!function enhancePointerEventInput(_e){const be=_e.prototype.handler;_e.prototype.handler=function handler(_e){const Te=this.store;_e.button>0&&"pointerdown"===_e.type&&(some(Te,(be=>be.pointerId===_e.pointerId))||Te.push(_e)),be.call(this,_e)}}(Vs().PointerEventInput),function enhanceMouseInput(_e){_e.prototype.handler=function handler(_e){let be=Us[_e.type];1&be&&_e.button>=0&&(this.pressed=!0),2&be&&0===_e.which&&(be=4),this.pressed&&(4&be&&(this.pressed=!1),this.callback(this.manager,be,{pointers:[_e],changedPointers:[_e],pointerType:"mouse",srcEvent:_e}))}}(Vs().MouseInput);const Zs=Vs().Manager;var qs=Vs();class Ws{constructor(_e,be,Te){this.element=_e,this.callback=be,this.options={enable:!0,...Te}}}const $s=qs?[[qs.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[qs.Rotate,{enable:!1}],[qs.Pinch,{enable:!1}],[qs.Swipe,{enable:!1}],[qs.Pan,{threshold:0,enable:!1}],[qs.Press,{enable:!1}],[qs.Tap,{event:"doubletap",taps:2,enable:!1}],[qs.Tap,{event:"anytap",enable:!1}],[qs.Tap,{enable:!1}]]:null,Xs={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Ks={doubletap:["tap"]},Js={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},Qs={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},td={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},id={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},sd="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",dd="undefined"!=typeof window?window:Te.g;void 0!==Te.g?Te.g:window,"undefined"!=typeof document&&document;let ld=!1;try{const _e={get passive(){return ld=!0,!0}};dd.addEventListener("test",null,_e),dd.removeEventListener("test",null)}catch(_e){ld=!1}const cd=-1!==sd.indexOf("firefox"),{WHEEL_EVENTS:vd}=Qs,wd="wheel",Ed=4.000244140625;class Sd extends Ws{constructor(_e,be,Te){super(_e,be,Te),this.handleEvent=_e=>{if(!this.options.enable)return;let be=_e.deltaY;dd.WheelEvent&&(cd&&_e.deltaMode===dd.WheelEvent.DOM_DELTA_PIXEL&&(be/=dd.devicePixelRatio),_e.deltaMode===dd.WheelEvent.DOM_DELTA_LINE&&(be*=40)),0!==be&&be%Ed==0&&(be=Math.floor(be/Ed)),_e.shiftKey&&be&&(be*=.25),this.callback({type:wd,center:{x:_e.clientX,y:_e.clientY},delta:-be,srcEvent:_e,pointerType:"mouse",target:_e.target})},this.events=(this.options.events||[]).concat(vd),this.events.forEach((be=>_e.addEventListener(be,this.handleEvent,!!ld&&{passive:!1})))}destroy(){this.events.forEach((_e=>this.element.removeEventListener(_e,this.handleEvent)))}enableEventType(_e,be){_e===wd&&(this.options.enable=be)}}const{MOUSE_EVENTS:Cd}=Qs,Ad="pointermove",Td="pointerover",kd="pointerout",Id="pointerenter",Md="pointerleave";class Ld extends Ws{constructor(_e,be,Te){super(_e,be,Te),this.handleEvent=_e=>{this.handleOverEvent(_e),this.handleOutEvent(_e),this.handleEnterEvent(_e),this.handleLeaveEvent(_e),this.handleMoveEvent(_e)},this.pressed=!1;const{enable:Pe}=this.options;this.enableMoveEvent=Pe,this.enableLeaveEvent=Pe,this.enableEnterEvent=Pe,this.enableOutEvent=Pe,this.enableOverEvent=Pe,this.events=(this.options.events||[]).concat(Cd),this.events.forEach((be=>_e.addEventListener(be,this.handleEvent)))}destroy(){this.events.forEach((_e=>this.element.removeEventListener(_e,this.handleEvent)))}enableEventType(_e,be){_e===Ad&&(this.enableMoveEvent=be),_e===Td&&(this.enableOverEvent=be),_e===kd&&(this.enableOutEvent=be),_e===Id&&(this.enableEnterEvent=be),_e===Md&&(this.enableLeaveEvent=be)}handleOverEvent(_e){this.enableOverEvent&&"mouseover"===_e.type&&this._emit(Td,_e)}handleOutEvent(_e){this.enableOutEvent&&"mouseout"===_e.type&&this._emit(kd,_e)}handleEnterEvent(_e){this.enableEnterEvent&&"mouseenter"===_e.type&&this._emit(Id,_e)}handleLeaveEvent(_e){this.enableLeaveEvent&&"mouseleave"===_e.type&&this._emit(Md,_e)}handleMoveEvent(_e){if(this.enableMoveEvent)switch(_e.type){case"mousedown":_e.button>=0&&(this.pressed=!0);break;case"mousemove":0===_e.which&&(this.pressed=!1),this.pressed||this._emit(Ad,_e);break;case"mouseup":this.pressed=!1}}_emit(_e,be){this.callback({type:_e,center:{x:be.clientX,y:be.clientY},srcEvent:be,pointerType:"mouse",target:be.target})}}const{KEY_EVENTS:Fd}=Qs,Bd="keydown",Ud="keyup";class Gd extends Ws{constructor(_e,be,Te){super(_e,be,Te),this.handleEvent=_e=>{const be=_e.target||_e.srcElement;"INPUT"===be.tagName&&"text"===be.type||"TEXTAREA"===be.tagName||(this.enableDownEvent&&"keydown"===_e.type&&this.callback({type:Bd,srcEvent:_e,key:_e.key,target:_e.target}),this.enableUpEvent&&"keyup"===_e.type&&this.callback({type:Ud,srcEvent:_e,key:_e.key,target:_e.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(Fd),_e.tabIndex=this.options.tabIndex||0,_e.style.outline="none",this.events.forEach((be=>_e.addEventListener(be,this.handleEvent)))}destroy(){this.events.forEach((_e=>this.element.removeEventListener(_e,this.handleEvent)))}enableEventType(_e,be){_e===Bd&&(this.enableDownEvent=be),_e===Ud&&(this.enableUpEvent=be)}}const Zd="contextmenu";class Wd extends Ws{constructor(_e,be,Te){super(_e,be,Te),this.handleEvent=_e=>{this.options.enable&&this.callback({type:Zd,center:{x:_e.clientX,y:_e.clientY},srcEvent:_e,pointerType:"mouse",target:_e.target})},_e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(_e,be){_e===Zd&&(this.options.enable=be)}}const Hd={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function whichButtons(_e){const be=Hd[_e.srcEvent.type];if(!be)return null;const{buttons:Te,button:Pe,which:pt}=_e.srcEvent;let vt=!1,xt=!1,Tt=!1;return 4===be||2===be&&!Number.isFinite(Te)?(vt=1===pt,xt=2===pt,Tt=3===pt):2===be?(vt=Boolean(1&Te),xt=Boolean(4&Te),Tt=Boolean(2&Te)):1===be&&(vt=0===Pe,xt=1===Pe,Tt=2===Pe),{leftButton:vt,middleButton:xt,rightButton:Tt}}function getOffsetPosition(_e,be){const Te=_e.center;if(!Te)return null;const Pe=be.getBoundingClientRect(),pt=Pe.width/be.offsetWidth||1,vt=Pe.height/be.offsetHeight||1;return{center:Te,offsetCenter:{x:(Te.x-Pe.left-be.clientLeft)/pt,y:(Te.y-Pe.top-be.clientTop)/vt}}}const $d={srcElement:"root",priority:0};class Xd{constructor(_e){this.handleEvent=_e=>{if(this.isEmpty())return;const be=this._normalizeEvent(_e);let Te=_e.srcEvent.target;for(;Te&&Te!==be.rootElement;){if(this._emit(be,Te),be.handled)return;Te=Te.parentNode}this._emit(be,"root")},this.eventManager=_e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(_e,be,Te,Pe=!1,pt=!1){const{handlers:vt,handlersByElement:xt}=this;let Tt=$d;"string"==typeof Te||Te&&Te.addEventListener?Tt={...$d,srcElement:Te}:Te&&(Tt={...$d,...Te});let It=xt.get(Tt.srcElement);It||(It=[],xt.set(Tt.srcElement,It));const Mt={type:_e,handler:be,srcElement:Tt.srcElement,priority:Tt.priority};Pe&&(Mt.once=!0),pt&&(Mt.passive=!0),vt.push(Mt),this._active=this._active||!Mt.passive;let Lt=It.length-1;for(;Lt>=0&&!(It[Lt].priority>=Mt.priority);)Lt--;It.splice(Lt+1,0,Mt)}remove(_e,be){const{handlers:Te,handlersByElement:Pe}=this;for(let pt=Te.length-1;pt>=0;pt--){const vt=Te[pt];if(vt.type===_e&&vt.handler===be){Te.splice(pt,1);const _e=Pe.get(vt.srcElement);_e.splice(_e.indexOf(vt),1),0===_e.length&&Pe.delete(vt.srcElement)}}this._active=Te.some((_e=>!_e.passive))}_emit(_e,be){const Te=this.handlersByElement.get(be);if(Te){let be=!1;const stopPropagation=()=>{_e.handled=!0},stopImmediatePropagation=()=>{_e.handled=!0,be=!0},Pe=[];for(let pt=0;pt<Te.length;pt++){const{type:vt,handler:xt,once:Tt}=Te[pt];if(xt({..._e,type:vt,stopPropagation:stopPropagation,stopImmediatePropagation:stopImmediatePropagation}),Tt&&Pe.push(Te[pt]),be)break}for(let _e=0;_e<Pe.length;_e++){const{type:be,handler:Te}=Pe[_e];this.remove(be,Te)}}}_normalizeEvent(_e){const be=this.eventManager.getElement();return{..._e,...whichButtons(_e),...getOffsetPosition(_e,be),preventDefault:()=>{_e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:be}}}const Kd={events:null,recognizers:null,recognizerOptions:{},Manager:Zs,touchAction:"none",tabIndex:0};class Jd{constructor(_e=null,be){this._onBasicInput=_e=>{const{srcEvent:be}=_e,Te=Js[be.type];Te&&this.manager.emit(Te,_e)},this._onOtherEvent=_e=>{this.manager.emit(_e.type,_e)},this.options={...Kd,...be},this.events=new Map,this.setElement(_e);const{events:Te}=this.options;Te&&this.on(Te)}getElement(){return this.element}setElement(_e){if(this.element&&this.destroy(),this.element=_e,!_e)return;const{options:be}=this,Te=be.Manager;this.manager=new Te(_e,{touchAction:be.touchAction,recognizers:be.recognizers||$s}).on("hammer.input",this._onBasicInput),be.recognizers||Object.keys(Xs).forEach((_e=>{const be=this.manager.get(_e);be&&Xs[_e].forEach((_e=>{be.recognizeWith(_e)}))}));for(const _e in be.recognizerOptions){const Te=this.manager.get(_e);if(Te){const Pe=be.recognizerOptions[_e];delete Pe.enable,Te.set(Pe)}}this.wheelInput=new Sd(_e,this._onOtherEvent,{enable:!1}),this.moveInput=new Ld(_e,this._onOtherEvent,{enable:!1}),this.keyInput=new Gd(_e,this._onOtherEvent,{enable:!1,tabIndex:be.tabIndex}),this.contextmenuInput=new Wd(_e,this._onOtherEvent,{enable:!1});for(const[_e,be]of this.events)be.isEmpty()||(this._toggleRecognizer(be.recognizerName,!0),this.manager.on(_e,be.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(_e,be,Te){this._addEventHandler(_e,be,Te,!1)}once(_e,be,Te){this._addEventHandler(_e,be,Te,!0)}watch(_e,be,Te){this._addEventHandler(_e,be,Te,!1,!0)}off(_e,be){this._removeEventHandler(_e,be)}_toggleRecognizer(_e,be){const{manager:Te}=this;if(!Te)return;const Pe=Te.get(_e);if(Pe&&Pe.options.enable!==be){Pe.set({enable:be});const pt=Ks[_e];pt&&!this.options.recognizers&&pt.forEach((pt=>{const vt=Te.get(pt);be?(vt.requireFailure(_e),Pe.dropRequireFailure(pt)):vt.dropRequireFailure(_e)}))}this.wheelInput.enableEventType(_e,be),this.moveInput.enableEventType(_e,be),this.keyInput.enableEventType(_e,be),this.contextmenuInput.enableEventType(_e,be)}_addEventHandler(_e,be,Te,Pe,pt){if("string"!=typeof _e){Te=be;for(const be in _e)this._addEventHandler(be,_e[be],Te,Pe,pt);return}const{manager:vt,events:xt}=this,Tt=id[_e]||_e;let It=xt.get(Tt);It||(It=new Xd(this),xt.set(Tt,It),It.recognizerName=td[Tt]||Tt,vt&&vt.on(Tt,It.handleEvent)),It.add(_e,be,Te,Pe,pt),It.isEmpty()||this._toggleRecognizer(It.recognizerName,!0)}_removeEventHandler(_e,be){if("string"!=typeof _e){for(const be in _e)this._removeEventHandler(be,_e[be]);return}const{events:Te}=this,Pe=id[_e]||_e,pt=Te.get(Pe);if(pt&&(pt.remove(_e,be),pt.isEmpty())){const{recognizerName:_e}=pt;let be=!1;for(const Pe of Te.values())if(Pe.recognizerName===_e&&!Pe.isEmpty()){be=!0;break}be||this._toggleRecognizer(_e,!1)}}}function deck_noop(){}const Yd={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:deck_noop,onResize:deck_noop,onViewStateChange:deck_noop,onInteractionStateChange:deck_noop,onBeforeRender:deck_noop,onAfterRender:deck_noop,onLoad:deck_noop,onError:_e=>ua.Z.error(_e.message)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:({isDragging:_e})=>_e?"grabbing":"grab",getTooltip:null,debug:!1,drawPickingColors:!1};class Qd{constructor(_e){(0,Pe.Z)(this,"props",void 0),(0,Pe.Z)(this,"width",0),(0,Pe.Z)(this,"height",0),(0,Pe.Z)(this,"userData",{}),(0,Pe.Z)(this,"canvas",null),(0,Pe.Z)(this,"viewManager",null),(0,Pe.Z)(this,"layerManager",null),(0,Pe.Z)(this,"effectManager",null),(0,Pe.Z)(this,"deckRenderer",null),(0,Pe.Z)(this,"deckPicker",null),(0,Pe.Z)(this,"eventManager",null),(0,Pe.Z)(this,"tooltip",null),(0,Pe.Z)(this,"metrics",void 0),(0,Pe.Z)(this,"animationLoop",void 0),(0,Pe.Z)(this,"stats",void 0),(0,Pe.Z)(this,"viewState",void 0),(0,Pe.Z)(this,"cursorState",void 0),(0,Pe.Z)(this,"_needsRedraw",void 0),(0,Pe.Z)(this,"_pickRequest",void 0),(0,Pe.Z)(this,"_lastPointerDownInfo",null),(0,Pe.Z)(this,"_metricsCounter",void 0),(0,Pe.Z)(this,"_onPointerMove",(_e=>{const{_pickRequest:be}=this;if("pointerleave"===_e.type)be.x=-1,be.y=-1,be.radius=0;else{if(_e.leftButton||_e.rightButton)return;{const Te=_e.offsetCenter;if(!Te)return;be.x=Te.x,be.y=Te.y,be.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:be.x,y:be.y}),be.event=_e})),(0,Pe.Z)(this,"_onEvent",(_e=>{const be=_r.FP[_e.type],Te=_e.offsetCenter;if(!be||!Te||!this.layerManager)return;const Pe=this.layerManager.getLayers(),pt=this.deckPicker.getLastPickedObject({x:Te.x,y:Te.y,layers:Pe,viewports:this.getViewports(Te)},this._lastPointerDownInfo),{layer:vt}=pt,xt=vt&&(vt[be.handler]||vt.props[be.handler]),Tt=this.props[be.handler];let It=!1;xt&&(It=xt.call(vt,pt,_e)),!It&&Tt&&Tt(pt,_e)})),(0,Pe.Z)(this,"_onPointerDown",(_e=>{const be=_e.offsetCenter,Te=this._pick("pickObject","pickObject Time",{x:be.x,y:be.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=Te.result[0]||Te.emptyInfo})),this.props={...Yd,..._e},_e=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},_e.viewState&&_e.initialViewState&&ua.Z.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===(0,As.Z)()&&ua.Z.warn("IE 11 is not supported")(),this.viewState=_e.initialViewState,_e.gl||"undefined"!=typeof document&&(this.canvas=this._createCanvas(_e)),this.animationLoop=this._createAnimationLoop(_e),this.stats=new ma.Z({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(_e),_e._typedArrayManagerProps&&vs.Z.setOptions(_e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var _e,be,Te,Pe,pt,vt,xt,Tt;(this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(_e=this.layerManager)||void 0===_e||_e.finalize(),this.layerManager=null,null===(be=this.viewManager)||void 0===be||be.finalize(),this.viewManager=null,null===(Te=this.effectManager)||void 0===Te||Te.finalize(),this.effectManager=null,null===(Pe=this.deckRenderer)||void 0===Pe||Pe.finalize(),this.deckRenderer=null,null===(pt=this.deckPicker)||void 0===pt||pt.finalize(),this.deckPicker=null,null===(vt=this.eventManager)||void 0===vt||vt.destroy(),this.eventManager=null,null===(xt=this.tooltip)||void 0===xt||xt.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas)||(null===(Tt=this.canvas.parentElement)||void 0===Tt||Tt.removeChild(this.canvas),this.canvas=null)}setProps(_e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in _e&&ua.Z.removed("onLayerHover","onHover")(),"onLayerClick"in _e&&ua.Z.removed("onLayerClick","onClick")(),_e.initialViewState&&!(0,xt.v)(this.props.initialViewState,_e.initialViewState)&&(this.viewState=_e.initialViewState),Object.assign(this.props,_e),this._setCanvasSize(this.props);const be=Object.create(this.props);Object.assign(be,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(be),this.layerManager&&(this.viewManager.setProps(be),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(be),this.effectManager.setProps(be),this.deckRenderer.setProps(be),this.deckPicker.setProps(be)),this.stats.get("setProps Time").timeEnd()}needsRedraw(_e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let be=this._needsRedraw;_e.clearRedrawFlags&&(this._needsRedraw=!1);const Te=this.viewManager.needsRedraw(_e),Pe=this.layerManager.needsRedraw(_e),pt=this.effectManager.needsRedraw(_e),vt=this.deckRenderer.needsRedraw(_e);return be=be||Te||Pe||pt||vt,be}redraw(_e){if(!this.layerManager)return;let be=this.needsRedraw({clearRedrawFlags:!0});be=_e||be,be&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(be):this._drawLayers(be))}get isInitialized(){return null!==this.viewManager}getViews(){return(0,Tt.Z)(this.viewManager),this.viewManager.views}getViewports(_e){return(0,Tt.Z)(this.viewManager),this.viewManager.getViewports(_e)}pickObject(_e){const be=this._pick("pickObject","pickObject Time",_e).result;return be.length?be[0]:null}pickMultipleObjects(_e){return _e.depth=_e.depth||10,this._pick("pickObject","pickMultipleObjects Time",_e).result}pickObjects(_e){return this._pick("pickObjects","pickObjects Time",_e)}_addResources(_e,be=!1){for(const Te in _e)this.layerManager.resourceManager.add({resourceId:Te,data:_e[Te],forceUpdate:be})}_removeResources(_e){for(const be of _e)this.layerManager.resourceManager.remove(be)}_pick(_e,be,Te){(0,Tt.Z)(this.deckPicker);const{stats:Pe}=this;Pe.get("Pick Count").incrementCount(),Pe.get(be).timeStart();const pt=this.deckPicker[_e]({layers:this.layerManager.getLayers(Te),views:this.viewManager.getViews(),viewports:this.getViewports(Te),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...Te});return Pe.get(be).timeEnd(),pt}_createCanvas(_e){let be=_e.canvas;if("string"==typeof be&&(be=document.getElementById(be),(0,Tt.Z)(be)),!be){be=document.createElement("canvas"),be.id=_e.id||"deckgl-overlay";(_e.parent||document.body).appendChild(be)}return Object.assign(be.style,_e.style),be}_setCanvasSize(_e){if(!this.canvas)return;const{width:be,height:Te}=_e;if(be||0===be){const _e=Number.isFinite(be)?"".concat(be,"px"):be;this.canvas.style.width=_e}if(Te||0===Te){var Pe;const be=Number.isFinite(Te)?"".concat(Te,"px"):Te;this.canvas.style.position=(null===(Pe=_e.style)||void 0===Pe?void 0:Pe.position)||"absolute",this.canvas.style.height=be}}_updateCanvasSize(){const{canvas:_e}=this;if(!_e)return;const be=_e.clientWidth||_e.width,Te=_e.clientHeight||_e.height;var Pe;be===this.width&&Te===this.height||(this.width=be,this.height=Te,null===(Pe=this.viewManager)||void 0===Pe||Pe.setProps({width:be,height:Te}),this.props.onResize({width:be,height:Te}))}_createAnimationLoop(_e){const{width:be,height:Te,gl:Pe,glOptions:pt,debug:vt,onError:xt,onBeforeRender:Tt,onAfterRender:It,useDevicePixels:Mt}=_e;return new js({width:be,height:Te,useDevicePixels:Mt,autoResizeViewport:!1,gl:Pe,onCreateContext:_e=>(0,sr.s9)({...pt,..._e,canvas:this.canvas,debug:vt,onContextLost:()=>this._onContextLost()}),onInitialize:_e=>this._setGLContext(_e.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:Tt,onAfterRender:It,onError:xt})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let _e=this.props.views||[new aa({id:"default-view"})];return _e=Array.isArray(_e)?_e:[_e],_e.length&&this.props.controller&&(_e[0].props.controller=this.props.controller),_e}_onContextLost(){const{onError:_e}=this.props;this.animationLoop&&_e&&_e(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:_e}=this;if(_e.event){const{result:Te,emptyInfo:Pe}=this._pick("pickObject","pickObject Time",_e);this.cursorState.isHovering=Te.length>0;let pt=Pe,vt=!1;for(const Pe of Te){var be;pt=Pe,vt=(null===(be=Pe.layer)||void 0===be?void 0:be.onHover(Pe,_e.event))||vt}if(!vt&&this.props.onHover&&this.props.onHover(pt,_e.event),this.props.getTooltip&&this.tooltip){const _e=this.props.getTooltip(pt);this.tooltip.setTooltip(_e,pt.x,pt.y)}_e.event=null}}_updateCursor(){const _e=this.props.parent||this.canvas;_e&&(_e.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(_e){if(this.layerManager)return;this.canvas||(this.canvas=_e.canvas,(0,sr.yW)(_e,{enable:!0,copyState:!0})),this.tooltip=new _s(this.canvas),(0,sr.dR)(_e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(_e);const be=new da;be.play(),this.animationLoop.attachTimeline(be),this.eventManager=new Jd(this.props.parent||_e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const _e in _r.FP)this.eventManager.on(_e,this._onEvent);this.viewManager=new Aa({timeline:be,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const Te=this.viewManager.getViewports()[0];this.layerManager=new Ca(_e,{deck:this,stats:this.stats,viewport:Te,timeline:be}),this.effectManager=new no,this.deckRenderer=new xo(_e),this.deckPicker=new Po(_e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(_e,be){const{gl:Te}=this.layerManager.context;(0,sr.dR)(Te,this.props.parameters),this.props.onBeforeRender({gl:Te}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:_e,effects:this.effectManager.getEffects(),...be}),this.props.onAfterRender({gl:Te})}_onRenderFrame(_e){this._getFrameStats(),this._metricsCounter++%60==0&&(this._getMetrics(),this.stats.reset(),ua.Z.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(_e){const be=this.props.onViewStateChange(_e)||_e.viewState;this.viewState&&(this.viewState={...this.viewState,[_e.viewId]:be},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(_e){this.cursorState.isDragging=_e.isDragging||!1,this.props.onInteractionStateChange(_e)}_getFrameStats(){const{stats:_e}=this;_e.get("frameRate").timeEnd(),_e.get("frameRate").timeStart();const be=this.animationLoop.stats;_e.get("GPU Time").addTime(be.get("GPU Time").lastTiming),_e.get("CPU Time").addTime(be.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:_e,stats:be}=this;_e.fps=be.get("frameRate").getHz(),_e.setPropsTime=be.get("setProps Time").time,_e.updateAttributesTime=be.get("Update Attributes").time,_e.framesRedrawn=be.get("Redraw Count").count,_e.pickTime=be.get("pickObject Time").time+be.get("pickMultipleObjects Time").time+be.get("pickObjects Time").time,_e.pickCount=be.get("Pick Count").count,_e.gpuTime=be.get("GPU Time").time,_e.cpuTime=be.get("CPU Time").time,_e.gpuTimePerFrame=be.get("GPU Time").getAverageTime(),_e.cpuTimePerFrame=be.get("CPU Time").getAverageTime();const Te=Ts.lR.get("Memory Usage");_e.bufferMemory=Te.get("Buffer Memory").count,_e.textureMemory=Te.get("Texture Memory").count,_e.renderbufferMemory=Te.get("Renderbuffer Memory").count,_e.gpuMemory=Te.get("GPU Memory").count}}function getDeckInstance({map:_e,gl:be,deck:Te}){if(_e.__deck)return _e.__deck;const Pe=null==Te?void 0:Te.props._customRender,pt={useDevicePixels:!0,_customRender:be=>{_e.triggerRepaint(),null==Pe||Pe(be)},parameters:{depthMask:!0,depthTest:!0,blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthFunc:515,blendEquation:32774},views:Te&&Te.props.views||[new aa({id:"mapbox"})]};let vt;return Te&&Te.props.gl!==be||(Object.assign(pt,{gl:be,width:null,height:null,touchAction:"unset",viewState:getViewState(_e)}),_e.on("move",(()=>onMapMove(vt,_e)))),Te?(vt=Te,Te.setProps(pt),Te.userData.isExternal=!0):(vt=new Qd(pt),_e.on("remove",(()=>{vt.finalize(),_e.__deck=null}))),vt.userData.mapboxLayers=new Set,vt.userData.mapboxVersion=getMapboxVersion(_e),_e.__deck=vt,_e.on("render",(()=>{vt.isInitialized&&afterRender(vt,_e)})),vt}function drawLayer(_e,be,Te){let{currentViewport:Pe}=_e.userData;Pe||(Pe=getViewport(_e,be,!0),_e.userData.currentViewport=Pe),_e.isInitialized&&_e._drawLayers("mapbox-repaint",{viewports:[Pe],layerFilter:({layer:_e})=>Te.id===_e.id,clearCanvas:!1})}function getViewState(_e){const{lng:be,lat:Te}=_e.getCenter();return{longitude:(be+540)%360-180,latitude:Te,zoom:_e.getZoom(),bearing:_e.getBearing(),pitch:_e.getPitch(),padding:_e.getPadding(),repeat:_e.getRenderWorldCopies()}}function getMapboxVersion(_e){let be=0,Te=0;const Pe=_e.version;return Pe&&([be,Te]=Pe.split(".").slice(0,2).map(Number)),{major:be,minor:Te}}function getViewport(_e,be,Te=!0){const{mapboxVersion:Pe}=_e.userData;return new Mt.Z(Object.assign({id:"mapbox",x:0,y:0,width:_e.width,height:_e.height},getViewState(be),Te?{nearZMultiplier:1===Pe.major&&Pe.minor>=3||Pe.major>=2?.02:1/(_e.height||1)}:{nearZMultiplier:.1}))}function afterRender(_e,be){const{mapboxLayers:Te,isExternal:Pe}=_e.userData;if(Pe){const Pe=Array.from(Te,(_e=>_e.id)),pt=(0,ga.x)(_e.props.layers,Boolean).some((_e=>_e&&!Pe.includes(_e.id)));let vt=_e.getViewports();const xt=vt.findIndex((_e=>"mapbox"===_e.id)),Tt=vt.length>1||xt<0;(pt||Tt)&&(xt>=0&&(vt=vt.slice(),vt[xt]=getViewport(_e,be,!1)),_e._drawLayers("mapbox-repaint",{viewports:vt,layerFilter:be=>(!_e.props.layerFilter||_e.props.layerFilter(be))&&("mapbox"!==be.viewport.id||!Pe.includes(be.layer.id)),clearCanvas:!1}))}_e.userData.currentViewport=null}function onMapMove(_e,be){_e.setProps({viewState:getViewState(be)}),_e.needsRedraw({clearRedrawFlags:!0})}function updateLayers(_e){if(_e.userData.isExternal)return;const be=[];let Te=0;_e.userData.mapboxLayers.forEach((_e=>{const Pe=new(0,_e.props.type)(_e.props,{_offset:Te++});be.push(Pe)})),_e.setProps({layers:be})}(0,Pe.Z)(Qd,"defaultProps",Yd),(0,Pe.Z)(Qd,"VERSION",Cs.VERSION);class ul{constructor(_e){if((0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"type",void 0),(0,Pe.Z)(this,"renderingMode",void 0),(0,Pe.Z)(this,"map",void 0),(0,Pe.Z)(this,"deck",void 0),(0,Pe.Z)(this,"props",void 0),!_e.id)throw new Error("Layer must have an unique id");this.id=_e.id,this.type="custom",this.renderingMode=_e.renderingMode||"3d",this.map=null,this.deck=null,this.props=_e}onAdd(_e,be){var Te,Pe;this.map=_e,this.deck=getDeckInstance({map:_e,gl:be,deck:this.props.deck}),Te=this.deck,Pe=this,Te.userData.mapboxLayers.add(Pe),updateLayers(Te)}onRemove(){var _e,be;this.deck&&(_e=this.deck,be=this,_e.userData.mapboxLayers.delete(be),updateLayers(_e))}setProps(_e){Object.assign(this.props,_e,{id:this.id}),this.deck&&updateLayers(this.deck)}render(){drawLayer(this.deck,this.map,this)}}const _l="__UNDEFINED__";function resolveLayers(_e,be,Te,Pe){if(!(_e&&be&&_e.style&&_e.style._loaded))return;const pt=(0,ga.x)(Pe,Boolean);if(Te!==Pe){const be=(0,ga.x)(Te,Boolean),Pe=new Set(be.map((_e=>_e.id)));for(const _e of pt)Pe.delete(_e.id);for(const be of Pe)_e.getLayer(be)&&_e.removeLayer(be)}for(const Te of pt)_e.getLayer(Te.id)||_e.addLayer(new ul({id:Te.id,deck:be}),Te.props.beforeId);const vt=_e.style._order,xt={};for(const _e of pt){let{beforeId:be}=_e.props;be&&vt.includes(be)||(be=_l),xt[be]=xt[be]||[],xt[be].push(_e.id)}for(const be in xt){const Te=xt[be];let Pe=be===_l?vt.length:vt.indexOf(be),pt=be===_l?void 0:be;for(let be=Te.length-1;be>=0;be--){const xt=Te[be],Tt=vt.indexOf(xt);Tt!==Pe-1&&(_e.moveLayer(xt,pt),Tt>Pe&&Pe++),Pe--,pt=xt}}}class Rl{constructor(_e){(0,Pe.Z)(this,"_props",void 0),(0,Pe.Z)(this,"_deck",void 0),(0,Pe.Z)(this,"_map",void 0),(0,Pe.Z)(this,"_container",void 0),(0,Pe.Z)(this,"_interleaved",void 0),(0,Pe.Z)(this,"_handleStyleChange",(()=>{resolveLayers(this._map,this._deck,this._props.layers,this._props.layers)})),(0,Pe.Z)(this,"_updateContainerSize",(()=>{if(this._map&&this._container){const{clientWidth:_e,clientHeight:be}=this._map.getContainer();Object.assign(this._container.style,{width:"".concat(_e,"px"),height:"".concat(be,"px")})}})),(0,Pe.Z)(this,"_updateViewState",(()=>{const _e=this._deck;_e&&(_e.setProps({viewState:getViewState(this._map)}),_e.redraw())})),(0,Pe.Z)(this,"_handleMouseEvent",(_e=>{const be=this._deck;if(!be)return;const Te={type:_e.type,offsetCenter:_e.point,srcEvent:_e};switch(_e.type){case"click":Te.tapCount=1,be._onPointerDown(Te),be._onEvent(Te);break;case"dblclick":Te.type="click",Te.tapCount=2,be._onEvent(Te);break;case"mousemove":Te.type="pointermove",be._onPointerMove(Te);break;case"mouseout":Te.type="pointerleave",be._onPointerMove(Te);break;default:return}}));const{interleaved:be=!1,...Te}=_e;this._interleaved=be,this._props=Te}setProps(_e){this._interleaved&&_e.layers&&resolveLayers(this._map,this._deck,this._props.layers,_e.layers),Object.assign(this._props,_e),this._deck&&this._deck.setProps(this._props)}onAdd(_e){return this._map=_e,this._interleaved?this._onAddInterleaved(_e):this._onAddOverlaid(_e)}_onAddOverlaid(_e){const be=document.createElement("div");return Object.assign(be.style,{position:"absolute",left:0,top:0,pointerEvents:"none"}),this._container=be,this._deck=new Qd({...this._props,parent:be,viewState:getViewState(_e)}),_e.on("resize",this._updateContainerSize),_e.on("render",this._updateViewState),_e.on("mousemove",this._handleMouseEvent),_e.on("mouseout",this._handleMouseEvent),_e.on("click",this._handleMouseEvent),_e.on("dblclick",this._handleMouseEvent),this._updateContainerSize(),be}_onAddInterleaved(_e){return this._deck=new Qd({...this._props,gl:_e.painter.context.gl}),_e.on("styledata",this._handleStyleChange),resolveLayers(_e,this._deck,[],this._props.layers),document.createElement("div")}onRemove(){var _e;const be=this._map;be&&(this._interleaved?this._onRemoveInterleaved(be):this._onRemoveOverlaid(be)),null===(_e=this._deck)||void 0===_e||_e.finalize(),this._deck=void 0,this._map=void 0,this._container=void 0}_onRemoveOverlaid(_e){_e.off("resize",this._updateContainerSize),_e.off("render",this._updateViewState),_e.off("mousemove",this._handleMouseEvent),_e.off("mouseout",this._handleMouseEvent),_e.off("click",this._handleMouseEvent),_e.off("dblclick",this._handleMouseEvent)}_onRemoveInterleaved(_e){_e.off("styledata",this._handleStyleChange),resolveLayers(_e,this._deck,this._props.layers,[])}getDefaultPosition(){return"top-left"}pickObject(_e){return(0,Tt.Z)(this._deck),this._deck.pickObject(_e)}pickMultipleObjects(_e){return(0,Tt.Z)(this._deck),this._deck.pickMultipleObjects(_e)}pickObjects(_e){return(0,Tt.Z)(this._deck),this._deck.pickObjects(_e)}finalize(){this._map&&this._map.removeControl(this)}}},36255:function(_e,be,Te){"use strict";Te.d(be,{D0:function(){return isAsyncIterable},Ew:function(){return isResponse},Kn:function(){return isObject},Lj:function(){return isBlob},Os:function(){return isReadableStream},Ss:function(){return isPureObject},TW:function(){return isIterable},zH:function(){return isBuffer}});const isBoolean=_e=>"boolean"==typeof _e,isFunction=_e=>"function"==typeof _e,isObject=_e=>null!==_e&&"object"==typeof _e,isPureObject=_e=>isObject(_e)&&_e.constructor==={}.constructor,isIterable=_e=>_e&&"function"==typeof _e[Symbol.iterator],isAsyncIterable=_e=>_e&&"function"==typeof _e[Symbol.asyncIterator],isResponse=_e=>"undefined"!=typeof Response&&_e instanceof Response||_e&&_e.arrayBuffer&&_e.text&&_e.json,isBlob=_e=>"undefined"!=typeof Blob&&_e instanceof Blob,isBuffer=_e=>_e&&"object"==typeof _e&&_e.isBuffer,isReadableDOMStream=_e=>"undefined"!=typeof ReadableStream&&_e instanceof ReadableStream||isObject(_e)&&isFunction(_e.tee)&&isFunction(_e.cancel)&&isFunction(_e.getReader),isReadableNodeStream=_e=>isObject(_e)&&isFunction(_e.read)&&isFunction(_e.pipe)&&isBoolean(_e.readable),isReadableStream=_e=>isReadableDOMStream(_e)||isReadableNodeStream(_e)},51469:function(_e,be,Te){"use strict";Te.d(be,{z:function(){return load}});var Pe=Te(36255),pt=Te(52033),vt=Te(84720);function assert(_e,be){if(!_e)throw new Error(be||"loaders.gl assertion failed.")}function validateWorkerVersion(_e,be="3.2.5"){assert(_e,"no worker provided");const Te=_e.version;return!(!be||!Te)}"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==Te.g&&Te.g,"undefined"!=typeof document&&document;const xt="object"!=typeof process||"[object process]"!==String(process)||process.browser,Tt="undefined"!=typeof window&&void 0!==window.orientation,It="undefined"!=typeof process&&process.version&&/v([0-9]*)/.exec(process.version);It&&parseFloat(It[1]);var Mt=Te(4942);class Lt{}const Ft=new Map;function getLoadableWorkerURL(_e){assert(_e.source&&!_e.url||!_e.source&&_e.url);let be=Ft.get(_e.source||_e.url);return be||(_e.url&&(be=getLoadableWorkerURLFromURL(_e.url),Ft.set(_e.url,be)),_e.source&&(be=getLoadableWorkerURLFromSource(_e.source),Ft.set(_e.source,be))),assert(be),be}function getLoadableWorkerURLFromURL(_e){if(!_e.startsWith("http"))return _e;return getLoadableWorkerURLFromSource("try {\n  importScripts('".concat(_e,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}"))}function getLoadableWorkerURLFromSource(_e){const be=new Blob([_e],{type:"application/javascript"});return URL.createObjectURL(be)}function getTransferList(_e,be=!0,Te){const Pe=Te||new Set;if(_e){if(isTransferable(_e))Pe.add(_e);else if(isTransferable(_e.buffer))Pe.add(_e.buffer);else if(ArrayBuffer.isView(_e));else if(be&&"object"==typeof _e)for(const Te in _e)getTransferList(_e[Te],be,Pe)}else;return void 0===Te?Array.from(Pe):[]}function isTransferable(_e){return!!_e&&(_e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&_e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&_e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&_e instanceof OffscreenCanvas)))}const NOOP=()=>{};class Ot{static isSupported(){return"undefined"!=typeof Worker&&xt||void 0!==typeof Lt}constructor(_e){(0,Mt.Z)(this,"name",void 0),(0,Mt.Z)(this,"source",void 0),(0,Mt.Z)(this,"url",void 0),(0,Mt.Z)(this,"terminated",!1),(0,Mt.Z)(this,"worker",void 0),(0,Mt.Z)(this,"onMessage",void 0),(0,Mt.Z)(this,"onError",void 0),(0,Mt.Z)(this,"_loadableURL","");const{name:be,source:Te,url:Pe}=_e;assert(Te||Pe),this.name=be,this.source=Te,this.url=Pe,this.onMessage=NOOP,this.onError=_e=>console.log(_e),this.worker=xt?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=NOOP,this.onError=NOOP,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(_e,be){be=be||getTransferList(_e),this.worker.postMessage(_e,be)}_getErrorFromErrorEvent(_e){let be="Failed to load ";return be+="worker ".concat(this.name," from ").concat(this.url,". "),_e.message&&(be+="".concat(_e.message," in ")),_e.lineno&&(be+=":".concat(_e.lineno,":").concat(_e.colno)),new Error(be)}_createBrowserWorker(){this._loadableURL=getLoadableWorkerURL({source:this.source,url:this.url});const _e=new Worker(this._loadableURL,{name:this.name});return _e.onmessage=_e=>{_e.data?this.onMessage(_e.data):this.onError(new Error("No data received"))},_e.onerror=_e=>{this.onError(this._getErrorFromErrorEvent(_e)),this.terminated=!0},_e.onmessageerror=_e=>console.error(_e),_e}_createNodeWorker(){let _e;if(this.url){const be=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);_e=new Lt(be,{eval:!1})}else{if(!this.source)throw new Error("no worker");_e=new Lt(this.source,{eval:!0})}return _e.on("message",(_e=>{this.onMessage(_e)})),_e.on("error",(_e=>{this.onError(_e)})),_e.on("exit",(_e=>{})),_e}}class Vt{constructor(_e,be){(0,Mt.Z)(this,"name",void 0),(0,Mt.Z)(this,"workerThread",void 0),(0,Mt.Z)(this,"isRunning",!0),(0,Mt.Z)(this,"result",void 0),(0,Mt.Z)(this,"_resolve",(()=>{})),(0,Mt.Z)(this,"_reject",(()=>{})),this.name=_e,this.workerThread=be,this.result=new Promise(((_e,be)=>{this._resolve=_e,this._reject=be}))}postMessage(_e,be){this.workerThread.postMessage({source:"loaders.gl",type:_e,payload:be})}done(_e){assert(this.isRunning),this.isRunning=!1,this._resolve(_e)}error(_e){assert(this.isRunning),this.isRunning=!1,this._reject(_e)}}class qt{static isSupported(){return Ot.isSupported()}constructor(_e){(0,Mt.Z)(this,"name","unnamed"),(0,Mt.Z)(this,"source",void 0),(0,Mt.Z)(this,"url",void 0),(0,Mt.Z)(this,"maxConcurrency",1),(0,Mt.Z)(this,"maxMobileConcurrency",1),(0,Mt.Z)(this,"onDebug",(()=>{})),(0,Mt.Z)(this,"reuseWorkers",!0),(0,Mt.Z)(this,"props",{}),(0,Mt.Z)(this,"jobQueue",[]),(0,Mt.Z)(this,"idleQueue",[]),(0,Mt.Z)(this,"count",0),(0,Mt.Z)(this,"isDestroyed",!1),this.source=_e.source,this.url=_e.url,this.setProps(_e)}destroy(){this.idleQueue.forEach((_e=>_e.destroy())),this.isDestroyed=!0}setProps(_e){this.props={...this.props,..._e},void 0!==_e.name&&(this.name=_e.name),void 0!==_e.maxConcurrency&&(this.maxConcurrency=_e.maxConcurrency),void 0!==_e.maxMobileConcurrency&&(this.maxMobileConcurrency=_e.maxMobileConcurrency),void 0!==_e.reuseWorkers&&(this.reuseWorkers=_e.reuseWorkers),void 0!==_e.onDebug&&(this.onDebug=_e.onDebug)}async startJob(_e,be=((_e,be,Te)=>_e.done(Te)),Te=((_e,be)=>_e.error(be))){const Pe=new Promise((Pe=>(this.jobQueue.push({name:_e,onMessage:be,onError:Te,onStart:Pe}),this)));return this._startQueuedJob(),await Pe}async _startQueuedJob(){if(!this.jobQueue.length)return;const _e=this._getAvailableWorker();if(!_e)return;const be=this.jobQueue.shift();if(be){this.onDebug({message:"Starting job",name:be.name,workerThread:_e,backlog:this.jobQueue.length});const Te=new Vt(be.name,_e);_e.onMessage=_e=>be.onMessage(Te,_e.type,_e.payload),_e.onError=_e=>be.onError(Te,_e),be.onStart(Te);try{await Te.result}finally{this.returnWorkerToQueue(_e)}}}returnWorkerToQueue(_e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(_e.destroy(),this.count--):this.idleQueue.push(_e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const _e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new Ot({name:_e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return Tt?this.maxMobileConcurrency:this.maxConcurrency}}const Wt={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class $t{static isSupported(){return Ot.isSupported()}static getWorkerFarm(_e={}){return $t._workerFarm=$t._workerFarm||new $t({}),$t._workerFarm.setProps(_e),$t._workerFarm}constructor(_e){(0,Mt.Z)(this,"props",void 0),(0,Mt.Z)(this,"workerPools",new Map),this.props={...Wt},this.setProps(_e),this.workerPools=new Map}destroy(){for(const _e of this.workerPools.values())_e.destroy();this.workerPools=new Map}setProps(_e){this.props={...this.props,..._e};for(const _e of this.workerPools.values())_e.setProps(this._getWorkerPoolProps())}getWorkerPool(_e){const{name:be,source:Te,url:Pe}=_e;let pt=this.workerPools.get(be);return pt||(pt=new qt({name:be,source:Te,url:Pe}),pt.setProps(this._getWorkerPoolProps()),this.workerPools.set(be,pt)),pt}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}(0,Mt.Z)($t,"_workerFarm",void 0);function getWorkerURL(_e,be={}){const Te=be[_e.id]||{},Pe="".concat(_e.id,"-worker.js");let pt=Te.workerUrl;if(pt||"compression"!==_e.id||(pt=be.workerUrl),"test"===be._workerType&&(pt="modules/".concat(_e.module,"/dist/").concat(Pe)),!pt){let be=_e.version;"latest"===be&&(be="latest");const Te=be?"@".concat(be):"";pt="https://unpkg.com/@loaders.gl/".concat(_e.module).concat(Te,"/dist/").concat(Pe)}return assert(pt),pt}function canParseWithWorker(_e,be){return!!$t.isSupported()&&(!!(xt||null!=be&&be._nodeWorkers)&&(_e.worker&&(null==be?void 0:be.worker)))}async function parseWithWorker(_e,be,Te,Pe,pt){const vt=_e.id,xt=getWorkerURL(_e,Te),Tt=$t.getWorkerFarm(Te).getWorkerPool({name:vt,url:xt});Te=JSON.parse(JSON.stringify(Te)),Pe=JSON.parse(JSON.stringify(Pe||{}));const It=await Tt.startJob("process-on-worker",onMessage.bind(null,pt));It.postMessage("process",{input:be,options:Te,context:Pe});const Mt=await It.result;return await Mt.result}async function onMessage(_e,be,Te,Pe){switch(Te){case"done":be.done(Pe);break;case"error":be.error(new Error(Pe.error));break;case"process":const{id:pt,input:vt,options:xt}=Pe;try{const Te=await _e(vt,xt);be.postMessage("done",{id:pt,result:Te})}catch(_e){const Te=_e instanceof Error?_e.message:"unknown error";be.postMessage("error",{id:pt,error:Te})}break;default:console.warn("parse-with-worker unknown message ".concat(Te))}}Te(9521);function isBuffer(_e){return _e&&"object"==typeof _e&&_e.isBuffer}function bufferToArrayBuffer(_e){if(isBuffer(_e)){return new Uint8Array(_e.buffer,_e.byteOffset,_e.length).slice().buffer}return _e}function toArrayBuffer(_e){if(isBuffer(_e))return bufferToArrayBuffer(_e);if(_e instanceof ArrayBuffer)return _e;if(ArrayBuffer.isView(_e))return 0===_e.byteOffset&&_e.byteLength===_e.buffer.byteLength?_e.buffer:_e.buffer.slice(_e.byteOffset,_e.byteOffset+_e.byteLength);if("string"==typeof _e){const be=_e;return(new TextEncoder).encode(be).buffer}if(_e&&"object"==typeof _e&&_e._toArrayBuffer)return _e._toArrayBuffer();throw new Error("toArrayBuffer")}function compareArrayBuffers(_e,be,Te){if(Te=Te||_e.byteLength,_e.byteLength<Te||be.byteLength<Te)return!1;const Pe=new Uint8Array(_e),pt=new Uint8Array(be);for(let _e=0;_e<Pe.length;++_e)if(Pe[_e]!==pt[_e])return!1;return!0}function concatenateArrayBuffers(..._e){const be=_e.map((_e=>_e instanceof ArrayBuffer?new Uint8Array(_e):_e)),Te=be.reduce(((_e,be)=>_e+be.byteLength),0),Pe=new Uint8Array(Te);let pt=0;for(const _e of be)Pe.set(_e,pt),pt+=_e.byteLength;return Pe.buffer}async function concatenateArrayBuffersAsync(_e){const be=[];for await(const Te of _e)be.push(Te);return concatenateArrayBuffers(...be)}function*makeStringIterator(_e,be){const Te=(null==be?void 0:be.chunkSize)||262144;let Pe=0;const pt=new TextEncoder;for(;Pe<_e.length;){const be=Math.min(_e.length-Pe,Te),vt=_e.slice(Pe,Pe+be);Pe+=be,yield pt.encode(vt)}}const Kt=262144;function*makeArrayBufferIterator(_e,be={}){const{chunkSize:Te=Kt}=be;let Pe=0;for(;Pe<_e.byteLength;){const be=Math.min(_e.byteLength-Pe,Te),pt=new ArrayBuffer(be),vt=new Uint8Array(_e,Pe,be);new Uint8Array(pt).set(vt),Pe+=be,yield pt}}async function*makeBlobIterator(_e,be){const Te=(null==be?void 0:be.chunkSize)||1048576;let Pe=0;for(;Pe<_e.size;){const be=Pe+Te,pt=await _e.slice(Pe,be).arrayBuffer();Pe=be,yield pt}}var Jt=Te(84959);function makeStreamIterator(_e,be){return Jt.jU?makeBrowserStreamIterator(_e,be):makeNodeStreamIterator(_e,be)}async function*makeBrowserStreamIterator(_e,be){const Te=_e.getReader();let Pe;try{for(;;){const _e=Pe||Te.read();null!=be&&be._streamReadAhead&&(Pe=Te.read());const{done:pt,value:vt}=await _e;if(pt)return;yield toArrayBuffer(vt)}}catch(_e){Te.releaseLock()}}async function*makeNodeStreamIterator(_e,be){for await(const be of _e)yield toArrayBuffer(be)}function make_iterator_makeIterator(_e,be){if("string"==typeof _e)return makeStringIterator(_e,be);if(_e instanceof ArrayBuffer)return makeArrayBufferIterator(_e,be);if((0,Pe.Lj)(_e))return makeBlobIterator(_e,be);if((0,Pe.Os)(_e))return makeStreamIterator(_e,be);if((0,Pe.Ew)(_e)){return makeStreamIterator(_e.body,be)}throw new Error("makeIterator")}var Yt=Te(17927);const Qt="Cannot convert supplied data type";function getArrayBufferOrStringFromDataSync(_e,be,Te){if(be.text&&"string"==typeof _e)return _e;if((0,Pe.zH)(_e)&&(_e=_e.buffer),_e instanceof ArrayBuffer){const Te=_e;if(be.text&&!be.binary){return new TextDecoder("utf8").decode(Te)}return Te}if(ArrayBuffer.isView(_e)){if(be.text&&!be.binary){return new TextDecoder("utf8").decode(_e)}let Te=_e.buffer;const Pe=_e.byteLength||_e.length;return 0===_e.byteOffset&&Pe===Te.byteLength||(Te=Te.slice(_e.byteOffset,_e.byteOffset+Pe)),Te}throw new Error(Qt)}async function getArrayBufferOrStringFromData(_e,be,Te){const pt=_e instanceof ArrayBuffer||ArrayBuffer.isView(_e);if("string"==typeof _e||pt)return getArrayBufferOrStringFromDataSync(_e,be);if((0,Pe.Lj)(_e)&&(_e=await(0,Yt.L1)(_e)),(0,Pe.Ew)(_e)){const Te=_e;return await(0,Yt.mm)(Te),be.binary?await Te.arrayBuffer():await Te.text()}if((0,Pe.Os)(_e)&&(_e=make_iterator_makeIterator(_e,Te)),(0,Pe.TW)(_e)||(0,Pe.D0)(_e))return concatenateArrayBuffersAsync(_e);throw new Error(Qt)}function getLoaderContext(_e,be,Te=null){if(Te)return Te;const Pe={fetch:(0,vt.bV)(be,_e),..._e};return Array.isArray(Pe.loaders)||(Pe.loaders=null),Pe}function getLoadersFromContext(_e,be){if(!be&&_e&&!Array.isArray(_e))return _e;let Te;if(_e&&(Te=Array.isArray(_e)?_e:[_e]),be&&be.loaders){const _e=Array.isArray(be.loaders)?be.loaders:[be.loaders];Te=Te?[...Te,..._e]:_e}return Te&&Te.length?Te:null}var an=Te(29752);function filename(_e){const be=_e&&_e.lastIndexOf("/");return be>=0?_e.substr(be+1):""}const cn=new(Te(59109).Z)({id:"loaders.gl"});var hn=Te(6228);const pn=/\.([^.]+)$/;async function selectLoader(_e,be=[],Te,pt){if(!validHTTPResponse(_e))return null;let vt=selectLoaderSync(_e,be,{...Te,nothrow:!0},pt);if(vt)return vt;if((0,Pe.Lj)(_e)&&(vt=selectLoaderSync(_e=await _e.slice(0,10).arrayBuffer(),be,Te,pt)),!(vt||null!=Te&&Te.nothrow))throw new Error(getNoValidLoaderMessage(_e));return vt}function selectLoaderSync(_e,be=[],Te,Pe){if(!validHTTPResponse(_e))return null;if(be&&!Array.isArray(be))return(0,pt.T)(be);let vt=[];be&&(vt=vt.concat(be)),null!=Te&&Te.ignoreRegisteredLoaders||vt.push(...(0,hn.kO)()),normalizeLoaders(vt);const xt=selectLoaderInternal(_e,vt,Te,Pe);if(!(xt||null!=Te&&Te.nothrow))throw new Error(getNoValidLoaderMessage(_e));return xt}function selectLoaderInternal(_e,be,Te,Pe){const{url:pt,type:vt}=(0,an.l)(_e),xt=pt||(null==Pe?void 0:Pe.url);let Tt=null,It="";var Mt;(null!=Te&&Te.mimeType&&(Tt=findLoaderByMIMEType(be,null==Te?void 0:Te.mimeType),It="match forced by supplied MIME type ".concat(null==Te?void 0:Te.mimeType)),Tt=Tt||findLoaderByUrl(be,xt),It=It||(Tt?"matched url ".concat(xt):""),Tt=Tt||findLoaderByMIMEType(be,vt),It=It||(Tt?"matched MIME type ".concat(vt):""),Tt=Tt||findLoaderByInitialBytes(be,_e),It=It||(Tt?"matched initial data ".concat(getFirstCharacters(_e)):""),Tt=Tt||findLoaderByMIMEType(be,null==Te?void 0:Te.fallbackMimeType),It=It||(Tt?"matched fallback MIME type ".concat(vt):""),It)&&cn.log(1,"selectLoader selected ".concat(null===(Mt=Tt)||void 0===Mt?void 0:Mt.name,": ").concat(It,"."));return Tt}function validHTTPResponse(_e){return!(_e instanceof Response&&204===_e.status)}function getNoValidLoaderMessage(_e){const{url:be,type:Te}=(0,an.l)(_e);let Pe="No valid loader found (";Pe+=be?"".concat(filename(be),", "):"no url provided, ",Pe+="MIME type: ".concat(Te?'"'.concat(Te,'"'):"not provided",", ");const pt=_e?getFirstCharacters(_e):"";return Pe+=pt?' first bytes: "'.concat(pt,'"'):"first bytes: not available",Pe+=")",Pe}function normalizeLoaders(_e){for(const be of _e)(0,pt.T)(be)}function findLoaderByUrl(_e,be){const Te=be&&pn.exec(be),Pe=Te&&Te[1];return Pe?findLoaderByExtension(_e,Pe):null}function findLoaderByExtension(_e,be){be=be.toLowerCase();for(const Te of _e)for(const _e of Te.extensions)if(_e.toLowerCase()===be)return Te;return null}function findLoaderByMIMEType(_e,be){for(const Te of _e){if(Te.mimeTypes&&Te.mimeTypes.includes(be))return Te;if(be==="application/x.".concat(Te.id))return Te}return null}function findLoaderByInitialBytes(_e,be){if(!be)return null;for(const Te of _e)if("string"==typeof be){if(testDataAgainstText(be,Te))return Te}else if(ArrayBuffer.isView(be)){if(testDataAgainstBinary(be.buffer,be.byteOffset,Te))return Te}else if(be instanceof ArrayBuffer){if(testDataAgainstBinary(be,0,Te))return Te}return null}function testDataAgainstText(_e,be){if(be.testText)return be.testText(_e);return(Array.isArray(be.tests)?be.tests:[be.tests]).some((be=>_e.startsWith(be)))}function testDataAgainstBinary(_e,be,Te){return(Array.isArray(Te.tests)?Te.tests:[Te.tests]).some((Pe=>testBinary(_e,be,Te,Pe)))}function testBinary(_e,be,Te,Pe){if(Pe instanceof ArrayBuffer)return compareArrayBuffers(Pe,_e,Pe.byteLength);switch(typeof Pe){case"function":return Pe(_e,Te);case"string":return Pe===getMagicString(_e,be,Pe.length);default:return!1}}function getFirstCharacters(_e,be=5){if("string"==typeof _e)return _e.slice(0,be);if(ArrayBuffer.isView(_e))return getMagicString(_e.buffer,_e.byteOffset,be);if(_e instanceof ArrayBuffer){return getMagicString(_e,0,be)}return""}function getMagicString(_e,be,Te){if(_e.byteLength<be+Te)return"";const Pe=new DataView(_e);let pt="";for(let _e=0;_e<Te;_e++)pt+=String.fromCharCode(Pe.getUint8(be+_e));return pt}async function parse(_e,be,Te,Pe){assert(!Pe||"object"==typeof Pe),!be||Array.isArray(be)||(0,pt.C)(be)||(Pe=void 0,Te=be,be=void 0),_e=await _e,Te=Te||{};const{url:xt}=(0,an.l)(_e),Tt=getLoadersFromContext(be,Pe),It=await selectLoader(_e,Tt,Te);return It?(Pe=getLoaderContext({url:xt,parse:parse,loaders:Tt},Te=(0,vt.GR)(Te,It,Tt,xt),Pe),await parseWithLoader(It,_e,Te,Pe)):null}async function parseWithLoader(_e,be,Te,pt){if(validateWorkerVersion(_e),(0,Pe.Ew)(be)){const _e=be,{ok:Te,redirected:Pe,status:vt,statusText:xt,type:Tt,url:It}=_e,Mt=Object.fromEntries(_e.headers.entries());pt.response={headers:Mt,ok:Te,redirected:Pe,status:vt,statusText:xt,type:Tt,url:It}}if(be=await getArrayBufferOrStringFromData(be,_e,Te),_e.parseTextSync&&"string"==typeof be)return Te.dataType="text",_e.parseTextSync(be,Te,pt,_e);if(canParseWithWorker(_e,Te))return await parseWithWorker(_e,be,Te,pt,parse);if(_e.parseText&&"string"==typeof be)return await _e.parseText(be,Te,pt,_e);if(_e.parse)return await _e.parse(be,Te,pt,_e);throw assert(!_e.parseSync),new Error("".concat(_e.id," loader - no parser found and worker is disabled"))}async function load(_e,be,Te,xt){Array.isArray(be)||(0,pt.C)(be)||(void 0,Te=be,be=void 0);const Tt=(0,vt.bV)(Te);let It=_e;return"string"==typeof _e&&(It=await Tt(_e)),(0,Pe.Lj)(_e)&&(It=await Tt(_e)),await parse(It,be,Te)}},6228:function(_e,be,Te){"use strict";Te.d(be,{fh:function(){return registerLoaders},kO:function(){return getRegisteredLoaders}});var Pe=Te(52033),pt=Te(84720);const getGlobalLoaderRegistry=()=>{const _e=(0,pt.rx)();return _e.loaderRegistry=_e.loaderRegistry||[],_e.loaderRegistry};function registerLoaders(_e){const be=getGlobalLoaderRegistry();_e=Array.isArray(_e)?_e:[_e];for(const Te of _e){const _e=(0,Pe.T)(Te);be.find((be=>_e===be))||be.unshift(_e)}}function getRegisteredLoaders(){return getGlobalLoaderRegistry()}},52033:function(_e,be,Te){"use strict";Te.d(be,{C:function(){return isLoaderObject},T:function(){return normalizeLoader}});var Pe=Te(16269);function isLoaderObject(_e){var be;if(!_e)return!1;Array.isArray(_e)&&(_e=_e[0]);return Array.isArray(null===(be=_e)||void 0===be?void 0:be.extensions)}function normalizeLoader(_e){var be,Te;let pt;return(0,Pe.h)(_e,"null loader"),(0,Pe.h)(isLoaderObject(_e),"invalid loader"),Array.isArray(_e)&&(pt=_e[1],_e=_e[0],_e={..._e,options:{..._e.options,...pt}}),(null!==(be=_e)&&void 0!==be&&be.parseTextSync||null!==(Te=_e)&&void 0!==Te&&Te.parseText)&&(_e.text=!0),_e.text||(_e.binary=!0),_e}},84720:function(_e,be,Te){"use strict";Te.d(be,{bV:function(){return getFetchFunction},rx:function(){return getGlobalLoaderState},GR:function(){return normalizeOptions}});var Pe=Te(36255);let pt="";const vt={};function resolvePath(_e){for(const be in vt)if(_e.startsWith(be)){const Te=vt[be];_e=_e.replace(be,Te)}return _e.startsWith("http://")||_e.startsWith("https://")||(_e="".concat(pt).concat(_e)),_e}var xt=Te(17927);async function fetchFile(_e,be){if("string"==typeof _e){_e=resolvePath(_e);let Te=be;return null!=be&&be.fetch&&"function"!=typeof(null==be?void 0:be.fetch)&&(Te=be.fetch),await fetch(_e,Te)}return await(0,xt.L1)(_e)}var Tt=Te(4942);function isElectron(_e){if("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof process&&"object"==typeof process.versions&&Boolean(process.versions.electron))return!0;const be="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,Te=_e||be;return!!(Te&&Te.indexOf("Electron")>=0)}function isBrowser(){return!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||isElectron()}const It="undefined"!=typeof __VERSION__?__VERSION__:"untranspiled source",Mt=isBrowser();function getStorage(_e){try{const be=window[_e],Te="__storage_test__";return be.setItem(Te,Te),be.removeItem(Te),be}catch(_e){return null}}class Lt{constructor(_e,be,Te="sessionStorage"){this.storage=getStorage(Te),this.id=_e,this.config={},Object.assign(this.config,be),this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(_e){return this.config={},this.updateConfiguration(_e)}updateConfiguration(_e){if(Object.assign(this.config,_e),this.storage){const _e=JSON.stringify(this.config);this.storage.setItem(this.id,_e)}return this}_loadConfiguration(){let _e={};if(this.storage){const be=this.storage.getItem(this.id);_e=be?JSON.parse(be):{}}return Object.assign(this.config,_e),this}}function formatTime(_e){let be;return be=_e<10?"".concat(_e.toFixed(2),"ms"):_e<100?"".concat(_e.toFixed(1),"ms"):_e<1e3?"".concat(_e.toFixed(0),"ms"):"".concat((_e/1e3).toFixed(2),"s"),be}function leftPad(_e,be=8){const Te=Math.max(be-_e.length,0);return"".concat(" ".repeat(Te)).concat(_e)}function formatImage(_e,be,Te,Pe=600){const pt=_e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");_e.width>Pe&&(Te=Math.min(Te,Pe/_e.width));const vt=_e.width*Te,xt=_e.height*Te,Tt=["font-size:1px;","padding:".concat(Math.floor(xt/2),"px ").concat(Math.floor(vt/2),"px;"),"line-height:".concat(xt,"px;"),"background:url(".concat(pt,");"),"background-size:".concat(vt,"px ").concat(xt,"px;"),"color:transparent;"].join("");return["".concat(be," %c+"),Tt]}const Ft={BLACK:30,RED:31,GREEN:32,YELLOW:33,BLUE:34,MAGENTA:35,CYAN:36,WHITE:37,BRIGHT_BLACK:90,BRIGHT_RED:91,BRIGHT_GREEN:92,BRIGHT_YELLOW:93,BRIGHT_BLUE:94,BRIGHT_MAGENTA:95,BRIGHT_CYAN:96,BRIGHT_WHITE:97};function getColor(_e){return"string"==typeof _e?Ft[_e.toUpperCase()]||Ft.WHITE:_e}function autobind(_e,be=["constructor"]){const Te=Object.getPrototypeOf(_e),Pe=Object.getOwnPropertyNames(Te);for(const Te of Pe)"function"==typeof _e[Te]&&(be.find((_e=>Te===_e))||(_e[Te]=_e[Te].bind(_e)))}function assert(_e,be){if(!_e)throw new Error(be||"Assertion failed")}const Ot={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==Te.g&&Te.g,document:"undefined"!=typeof document&&document,process:"object"==typeof process&&process},Vt=Ot.window||Ot.self||Ot.global,qt=Ot.process||{};console;function getHiResTimestamp(){let _e;if(Mt&&Vt.performance)_e=Vt.performance.now();else if(qt.hrtime){const be=qt.hrtime();_e=1e3*be[0]+be[1]/1e6}else _e=Date.now();return _e}const Wt={debug:Mt&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},$t={enabled:!0,level:0};function noop(){}const Kt={},Jt={once:!0};function getTableHeader(_e){for(const be in _e)for(const Te in _e[be])return Te||"untitled";return"empty"}class Yt{constructor({id:_e}={id:""}){this.id=_e,this.VERSION=It,this._startTs=getHiResTimestamp(),this._deltaTs=getHiResTimestamp(),this.LOG_THROTTLE_TIMEOUT=0,this._storage=new Lt("__probe-".concat(this.id,"__"),$t),this.userData={},this.timeStamp("".concat(this.id," started")),autobind(this),Object.seal(this)}set level(_e){this.setLevel(_e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((getHiResTimestamp()-this._startTs).toPrecision(10))}getDelta(){return Number((getHiResTimestamp()-this._deltaTs).toPrecision(10))}set priority(_e){this.level=_e}get priority(){return this.level}getPriority(){return this.level}enable(_e=!0){return this._storage.updateConfiguration({enabled:_e}),this}setLevel(_e){return this._storage.updateConfiguration({level:_e}),this}assert(_e,be){assert(_e,be)}warn(_e){return this._getLogFunction(0,_e,Wt.warn,arguments,Jt)}error(_e){return this._getLogFunction(0,_e,Wt.error,arguments)}deprecated(_e,be){return this.warn("`".concat(_e,"` is deprecated and will be removed in a later version. Use `").concat(be,"` instead"))}removed(_e,be){return this.error("`".concat(_e,"` has been removed. Use `").concat(be,"` instead"))}probe(_e,be){return this._getLogFunction(_e,be,Wt.log,arguments,{time:!0,once:!0})}log(_e,be){return this._getLogFunction(_e,be,Wt.debug,arguments)}info(_e,be){return this._getLogFunction(_e,be,console.info,arguments)}once(_e,be){return this._getLogFunction(_e,be,Wt.debug||Wt.info,arguments,Jt)}table(_e,be,Te){return be?this._getLogFunction(_e,be,console.table||noop,Te&&[Te],{tag:getTableHeader(be)}):noop}image({logLevel:_e,priority:be,image:Te,message:Pe="",scale:pt=1}){return this._shouldLog(_e||be)?Mt?logImageInBrowser({image:Te,message:Pe,scale:pt}):logImageInNode({image:Te,message:Pe,scale:pt}):noop}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}get(_e){return this._storage.config[_e]}set(_e,be){this._storage.updateConfiguration({[_e]:be})}time(_e,be){return this._getLogFunction(_e,be,console.time?console.time:console.info)}timeEnd(_e,be){return this._getLogFunction(_e,be,console.timeEnd?console.timeEnd:console.info)}timeStamp(_e,be){return this._getLogFunction(_e,be,console.timeStamp||noop)}group(_e,be,Te={collapsed:!1}){Te=normalizeArguments({logLevel:_e,message:be,opts:Te});const{collapsed:Pe}=Te;return Te.method=(Pe?console.groupCollapsed:console.group)||console.info,this._getLogFunction(Te)}groupCollapsed(_e,be,Te={}){return this.group(_e,be,Object.assign({},Te,{collapsed:!0}))}groupEnd(_e){return this._getLogFunction(_e,"",console.groupEnd||noop)}withGroup(_e,be,Te){this.group(_e,be)();try{Te()}finally{this.groupEnd(_e)()}}trace(){console.trace&&console.trace()}_shouldLog(_e){return this.isEnabled()&&this.getLevel()>=normalizeLogLevel(_e)}_getLogFunction(_e,be,Te,Pe=[],pt){if(this._shouldLog(_e)){pt=normalizeArguments({logLevel:_e,message:be,args:Pe,opts:pt}),assert(Te=Te||pt.method),pt.total=this.getTotal(),pt.delta=this.getDelta(),this._deltaTs=getHiResTimestamp();const vt=pt.tag||pt.message;if(pt.once){if(Kt[vt])return noop;Kt[vt]=getHiResTimestamp()}return be=decorateMessage(this.id,pt.message,pt),Te.bind(console,be,...pt.args)}return noop}}function normalizeLogLevel(_e){if(!_e)return 0;let be;switch(typeof _e){case"number":be=_e;break;case"object":be=_e.logLevel||_e.priority||0;break;default:return 0}return assert(Number.isFinite(be)&&be>=0),be}function normalizeArguments(_e){const{logLevel:be,message:Te}=_e;_e.logLevel=normalizeLogLevel(be);const Pe=_e.args?Array.from(_e.args):[];for(;Pe.length&&Pe.shift()!==Te;);switch(_e.args=Pe,typeof be){case"string":case"function":void 0!==Te&&Pe.unshift(Te),_e.message=be;break;case"object":Object.assign(_e,be)}"function"==typeof _e.message&&(_e.message=_e.message());const pt=typeof _e.message;return assert("string"===pt||"object"===pt),Object.assign(_e,_e.opts)}function decorateMessage(_e,be,Te){if("string"==typeof be){const xt=Te.time?leftPad(formatTime(Te.total)):"";be=Te.time?"".concat(_e,": ").concat(xt,"  ").concat(be):"".concat(_e,": ").concat(be),Pe=be,pt=Te.color,vt=Te.background,Mt||"string"!=typeof Pe||(pt&&(pt=getColor(pt),Pe="[".concat(pt,"m").concat(Pe,"[39m")),vt&&(pt=getColor(vt),Pe="[".concat(vt+10,"m").concat(Pe,"[49m"))),be=Pe}var Pe,pt,vt;return be}function logImageInNode({image:_e,message:be="",scale:Pe=1}){let pt=null;try{pt=Te(75307)}catch(_e){}return pt?()=>pt(_e,{fit:"box",width:"".concat(Math.round(80*Pe),"%")}).then((_e=>console.log(_e))):noop}function logImageInBrowser({image:_e,message:be="",scale:Te=1}){if("string"==typeof _e){const Pe=new Image;return Pe.onload=()=>{const _e=formatImage(Pe,be,Te);console.log(..._e)},Pe.src=_e,noop}const Pe=_e.nodeName||"";if("img"===Pe.toLowerCase())return console.log(...formatImage(_e,be,Te)),noop;if("canvas"===Pe.toLowerCase()){const Pe=new Image;return Pe.onload=()=>console.log(...formatImage(Pe,be,Te)),Pe.src=_e.toDataURL(),noop}return noop}Yt.VERSION=It;const Qt=new Yt({id:"loaders.gl"});class an{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var cn=Te(84959);const hn={fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){(0,Tt.Z)(this,"console",void 0),this.console=console}log(..._e){return this.console.log.bind(this.console,..._e)}info(..._e){return this.console.info.bind(this.console,..._e)}warn(..._e){return this.console.warn.bind(this.console,..._e)}error(..._e){return this.console.error.bind(this.console,..._e)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:cn.jU,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},pn={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function getGlobalLoaderState(){globalThis.loaders=globalThis.loaders||{};const{loaders:_e}=globalThis;return _e._state=_e._state||{},_e._state}const getGlobalLoaderOptions=()=>{const _e=getGlobalLoaderState();return _e.globalOptions=_e.globalOptions||{...hn},_e.globalOptions};function normalizeOptions(_e,be,Te,Pe){return Te=Te||[],validateOptions(_e,Te=Array.isArray(Te)?Te:[Te]),normalizeOptionsInternal(be,_e,Pe)}function getFetchFunction(_e,be){const Te=getGlobalLoaderOptions(),pt=_e||Te;return"function"==typeof pt.fetch?pt.fetch:(0,Pe.Kn)(pt.fetch)?_e=>fetchFile(_e,pt):null!=be&&be.fetch?null==be?void 0:be.fetch:fetchFile}function validateOptions(_e,be){validateOptionsObject(_e,null,hn,pn,be);for(const Te of be){const Pe=_e&&_e[Te.id]||{},pt=Te.options&&Te.options[Te.id]||{},vt=Te.deprecatedOptions&&Te.deprecatedOptions[Te.id]||{};validateOptionsObject(Pe,Te.id,pt,vt,be)}}function validateOptionsObject(_e,be,Te,pt,vt){const xt=be||"Top level",Tt=be?"".concat(be,"."):"";for(const It in _e){const Mt=!be&&(0,Pe.Kn)(_e[It]),Lt="baseUri"===It&&!be,Ft="workerUrl"===It&&be;if(!(It in Te)&&!Lt&&!Ft)if(It in pt)Qt.warn("".concat(xt," loader option '").concat(Tt).concat(It,"' no longer supported, use '").concat(pt[It],"'"))();else if(!Mt){const _e=findSimilarOption(It,vt);Qt.warn("".concat(xt," loader option '").concat(Tt).concat(It,"' not recognized. ").concat(_e))()}}}function findSimilarOption(_e,be){const Te=_e.toLowerCase();let Pe="";for(const pt of be)for(const be in pt.options){if(_e===be)return"Did you mean '".concat(pt.id,".").concat(be,"'?");const vt=be.toLowerCase();(Te.startsWith(vt)||vt.startsWith(Te))&&(Pe=Pe||"Did you mean '".concat(pt.id,".").concat(be,"'?"))}return Pe}function normalizeOptionsInternal(_e,be,Te){const Pe={..._e.options||{}};return addUrlOptions(Pe,Te),null===Pe.log&&(Pe.log=new an),mergeNestedFields(Pe,getGlobalLoaderOptions()),mergeNestedFields(Pe,be),Pe}function mergeNestedFields(_e,be){for(const Te in be)if(Te in be){const pt=be[Te];(0,Pe.Ss)(pt)&&(0,Pe.Ss)(_e[Te])?_e[Te]={..._e[Te],...be[Te]}:_e[Te]=be[Te]}}function addUrlOptions(_e,be){be&&!("baseUri"in _e)&&(_e.baseUri=be)}},29752:function(_e,be,Te){"use strict";Te.d(be,{C:function(){return getResourceContentLength},l:function(){return getResourceUrlAndType}});var Pe=Te(36255);const pt=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,vt=/^([-\w.]+\/[-\w.+]+)/;function parseMIMEType(_e){const be=vt.exec(_e);return be?be[1]:_e}function parseMIMETypeFromURL(_e){const be=pt.exec(_e);return be?be[1]:""}const xt=/\?.*/;function getResourceUrlAndType(_e){if((0,Pe.Ew)(_e)){const be=stripQueryString(_e.url||"");return{url:be,type:parseMIMEType(_e.headers.get("content-type")||"")||parseMIMETypeFromURL(be)}}return(0,Pe.Lj)(_e)?{url:stripQueryString(_e.name||""),type:_e.type||""}:"string"==typeof _e?{url:stripQueryString(_e),type:parseMIMETypeFromURL(_e)}:{url:"",type:""}}function getResourceContentLength(_e){return(0,Pe.Ew)(_e)?_e.headers["content-length"]||-1:(0,Pe.Lj)(_e)?_e.size:"string"==typeof _e?_e.length:_e instanceof ArrayBuffer||ArrayBuffer.isView(_e)?_e.byteLength:-1}function stripQueryString(_e){return _e.replace(xt,"")}},17927:function(_e,be,Te){"use strict";Te.d(be,{L1:function(){return makeResponse},mm:function(){return checkResponse}});var Pe=Te(36255),pt=Te(29752);async function makeResponse(_e){if((0,Pe.Ew)(_e))return _e;const be={},Te=(0,pt.C)(_e);Te>=0&&(be["content-length"]=String(Te));const{url:vt,type:xt}=(0,pt.l)(_e);xt&&(be["content-type"]=xt);const Tt=await getInitialDataUrl(_e);Tt&&(be["x-first-bytes"]=Tt),"string"==typeof _e&&(_e=(new TextEncoder).encode(_e));const It=new Response(_e,{headers:be});return Object.defineProperty(It,"url",{value:vt}),It}async function checkResponse(_e){if(!_e.ok){const be=await getResponseError(_e);throw new Error(be)}}async function getResponseError(_e){let be="Failed to fetch resource ".concat(_e.url," (").concat(_e.status,"): ");try{const Te=_e.headers.get("Content-Type");let Pe=_e.statusText;Te.includes("application/json")&&(Pe+=" ".concat(await _e.text())),be+=Pe,be=be.length>60?"".concat(be.slice(0,60),"..."):be}catch(_e){}return be}async function getInitialDataUrl(_e){if("string"==typeof _e)return"data:,".concat(_e.slice(0,5));if(_e instanceof Blob){const be=_e.slice(0,5);return await new Promise((_e=>{const Te=new FileReader;Te.onload=be=>{var Te;return _e(null==be||null===(Te=be.target)||void 0===Te?void 0:Te.result)},Te.readAsDataURL(be)}))}if(_e instanceof ArrayBuffer){const be=arrayBufferToBase64(_e.slice(0,5));return"data:base64,".concat(be)}return null}function arrayBufferToBase64(_e){let be="";const Te=new Uint8Array(_e);for(let _e=0;_e<Te.byteLength;_e++)be+=String.fromCharCode(Te[_e]);return btoa(be)}},83579:function(_e,be,Te){"use strict";Te.d(be,{S:function(){return $t}});var Pe=Te(16269),pt=Te(84959);const{_parseImageNode:vt}=globalThis,xt="undefined"!=typeof Image,Tt="undefined"!=typeof ImageBitmap,It=Boolean(vt),Mt=!!pt.jU||It;function isImageTypeSupported(_e){switch(_e){case"auto":return Tt||xt||Mt;case"imagebitmap":return Tt;case"image":return xt;case"data":return Mt;default:throw new Error("@loaders.gl/images: image ".concat(_e," not supported in this environment"))}}function getDefaultImageType(){if(Tt)return"imagebitmap";if(xt)return"image";if(Mt)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function getImageType(_e){const be=getImageTypeOrNull(_e);if(!be)throw new Error("Not an image");return be}function getImageData(_e){switch(getImageType(_e)){case"data":return _e;case"image":case"imagebitmap":const be=document.createElement("canvas"),Te=be.getContext("2d");if(!Te)throw new Error("getImageData");return be.width=_e.width,be.height=_e.height,Te.drawImage(_e,0,0),Te.getImageData(0,0,_e.width,_e.height);default:throw new Error("getImageData")}}function getImageTypeOrNull(_e){return"undefined"!=typeof ImageBitmap&&_e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&_e instanceof Image?"image":_e&&"object"==typeof _e&&_e.data&&_e.width&&_e.height?"data":null}const Lt=/^data:image\/svg\+xml/,Ft=/\.svg((\?|#).*)?$/;function isSVG(_e){return _e&&(Lt.test(_e)||Ft.test(_e))}function getBlobOrSVGDataUrl(_e,be){if(isSVG(be)){let be=(new TextDecoder).decode(_e);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(be=unescape(encodeURIComponent(be)))}catch(_e){throw new Error(_e.message)}return"data:image/svg+xml;base64,".concat(btoa(be))}return getBlob(_e,be)}function getBlob(_e,be){if(isSVG(be))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(_e)])}async function parseToImage(_e,be,Te){const Pe=getBlobOrSVGDataUrl(_e,Te),pt=self.URL||self.webkitURL,vt="string"!=typeof Pe&&pt.createObjectURL(Pe);try{return await loadToImage(vt||Pe,be)}finally{vt&&pt.revokeObjectURL(vt)}}async function loadToImage(_e,be){const Te=new Image;return Te.src=_e,be.image&&be.image.decode&&Te.decode?(await Te.decode(),Te):await new Promise(((be,Pe)=>{try{Te.onload=()=>be(Te),Te.onerror=be=>Pe(new Error("Could not load image ".concat(_e,": ").concat(be)))}catch(_e){Pe(_e)}}))}const Ot={};let Vt=!0;async function parseToImageBitmap(_e,be,Te){let Pe;if(isSVG(Te)){Pe=await parseToImage(_e,be,Te)}else Pe=getBlob(_e,Te);const pt=be&&be.imagebitmap;return await safeCreateImageBitmap(Pe,pt)}async function safeCreateImageBitmap(_e,be=null){if(!isEmptyObject(be)&&Vt||(be=null),be)try{return await createImageBitmap(_e,be)}catch(_e){console.warn(_e),Vt=!1}return await createImageBitmap(_e)}function isEmptyObject(_e){for(const be in _e||Ot)return!1;return!0}const qt=!1,Wt=!0;function getBinaryImageMetadata(_e){const be=toDataView(_e);return getPngMetadata(be)||getJpegMetadata(be)||getGifMetadata(be)||getBmpMetadata(be)}function getPngMetadata(_e){const be=toDataView(_e);return be.byteLength>=24&&2303741511===be.getUint32(0,qt)?{mimeType:"image/png",width:be.getUint32(16,qt),height:be.getUint32(20,qt)}:null}function getGifMetadata(_e){const be=toDataView(_e);return be.byteLength>=10&&1195984440===be.getUint32(0,qt)?{mimeType:"image/gif",width:be.getUint16(6,Wt),height:be.getUint16(8,Wt)}:null}function getBmpMetadata(_e){const be=toDataView(_e);return be.byteLength>=14&&16973===be.getUint16(0,qt)&&be.getUint32(2,Wt)===be.byteLength?{mimeType:"image/bmp",width:be.getUint32(18,Wt),height:be.getUint32(22,Wt)}:null}function getJpegMetadata(_e){const be=toDataView(_e);if(!(be.byteLength>=3&&65496===be.getUint16(0,qt)&&255===be.getUint8(2)))return null;const{tableMarkers:Te,sofMarkers:Pe}=getJpegMarkers();let pt=2;for(;pt+9<be.byteLength;){const _e=be.getUint16(pt,qt);if(Pe.has(_e))return{mimeType:"image/jpeg",height:be.getUint16(pt+5,qt),width:be.getUint16(pt+7,qt)};if(!Te.has(_e))return null;pt+=2,pt+=be.getUint16(pt,qt)}return null}function getJpegMarkers(){const _e=new Set([65499,65476,65484,65501,65534]);for(let be=65504;be<65520;++be)_e.add(be);return{tableMarkers:_e,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function toDataView(_e){if(_e instanceof DataView)return _e;if(ArrayBuffer.isView(_e))return new DataView(_e.buffer);if(_e instanceof ArrayBuffer)return new DataView(_e);throw new Error("toDataView")}async function parseToNodeImage(_e,be){const{mimeType:Te}=getBinaryImageMetadata(_e)||{},pt=globalThis._parseImageNode;return(0,Pe.h)(pt),await pt(_e,Te)}function getLoadableImageType(_e){switch(_e){case"auto":case"data":return getDefaultImageType();default:return isImageTypeSupported(_e),_e}}const $t={id:"image",module:"images",name:"Images",version:"3.2.5",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:async function parseImage(_e,be,Te){const pt=((be=be||{}).image||{}).type||"auto",{url:vt}=Te||{};let xt;switch(getLoadableImageType(pt)){case"imagebitmap":xt=await parseToImageBitmap(_e,be,vt);break;case"image":xt=await parseToImage(_e,be,vt);break;case"data":xt=await parseToNodeImage(_e);break;default:(0,Pe.h)(!1)}return"data"===pt&&(xt=getImageData(xt)),xt},tests:[_e=>Boolean(getBinaryImageMetadata(new DataView(_e)))],options:{image:{type:"auto",decode:!0}}}},16269:function(_e,be,Te){"use strict";function assert(_e,be){if(!_e)throw new Error(be||"loader assertion failed.")}Te.d(be,{h:function(){return assert}})},84959:function(_e,be,Te){"use strict";Te.d(be,{jU:function(){return Pe}});"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==Te.g&&Te.g,"undefined"!=typeof document&&document;const Pe=Boolean("object"!=typeof process||"[object process]"!==String(process)||process.browser),pt="undefined"!=typeof process&&process.version&&/v([0-9]*)/.exec(process.version);pt&&parseFloat(pt[1])},358:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return hn}});var Pe=Te(75682),pt=Te(29047);const vt={number:{validate:(_e,be)=>Number.isFinite(_e)&&(!("max"in be)||_e<=be.max)&&(!("min"in be)||_e>=be.min)},array:{validate:(_e,be)=>Array.isArray(_e)||ArrayBuffer.isView(_e)}};function parsePropTypes(_e){const be={};for(const Te in _e){const Pe=parsePropType(_e[Te]);be[Te]=Pe}return be}function parsePropType(_e){let be=getTypeOf(_e);return"object"===be?_e?"type"in _e?Object.assign({},_e,vt[_e.type]):"value"in _e?(be=getTypeOf(_e.value),Object.assign({type:be},_e,vt[be])):{type:"object",value:_e}:{type:"object",value:null}:Object.assign({type:be,value:_e},vt[be])}function getTypeOf(_e){return Array.isArray(_e)||ArrayBuffer.isView(_e)?"array":typeof _e}class xt{constructor(_e){let{name:be,vs:Te,fs:Pe,dependencies:vt=[],uniforms:xt,getUniforms:Tt,deprecations:It=[],defines:Mt={},inject:Lt={},vertexShader:Ft,fragmentShader:Ot}=_e;(0,pt.Z)("string"==typeof be),this.name=be,this.vs=Te||Ft,this.fs=Pe||Ot,this.getModuleUniforms=Tt,this.dependencies=vt,this.deprecations=this._parseDeprecationDefinitions(It),this.defines=Mt,this.injections=normalizeInjections(Lt),xt&&(this.uniforms=parsePropTypes(xt))}getModuleSource(_e){let be;switch(_e){case"vs":be=this.vs||"";break;case"fs":be=this.fs||"";break;default:(0,pt.Z)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(be,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(_e,be){return this.getModuleUniforms?this.getModuleUniforms(_e,be):this.uniforms?this._defaultGetUniforms(_e):{}}getDefines(){return this.defines}checkDeprecations(_e,be){this.deprecations.forEach((Te=>{Te.regex.test(_e)&&(Te.deprecated?be.deprecated(Te.old,Te.new)():be.removed(Te.old,Te.new)())}))}_parseDeprecationDefinitions(_e){return _e.forEach((_e=>{switch(_e.type){case"function":_e.regex=new RegExp("\\b".concat(_e.old,"\\("));break;default:_e.regex=new RegExp("".concat(_e.type," ").concat(_e.old,";"))}})),_e}_defaultGetUniforms(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const be={},Te=this.uniforms;for(const Pe in Te){const vt=Te[Pe];Pe in _e&&!vt.private?(vt.validate&&(0,pt.Z)(vt.validate(_e[Pe],vt),"".concat(this.name,": invalid ").concat(Pe)),be[Pe]=_e[Pe]):be[Pe]=vt.value}return be}}function normalizeInjections(_e){const be={vs:{},fs:{}};for(const Te in _e){let Pe=_e[Te];const pt=Te.slice(0,2);"string"==typeof Pe&&(Pe={order:0,injection:Pe}),be[pt][Te]=Pe}return be}function resolveModules(_e){return getShaderDependencies(instantiateModules(_e))}function getShaderDependencies(_e){const be={},Te={};return getDependencyGraph({modules:_e,level:0,moduleMap:be,moduleDepth:Te}),Object.keys(Te).sort(((_e,be)=>Te[be]-Te[_e])).map((_e=>be[_e]))}function getDependencyGraph(_e){let{modules:be,level:Te,moduleMap:Pe,moduleDepth:pt}=_e;if(Te>=5)throw new Error("Possible loop in shader dependency graph");for(const _e of be)Pe[_e.name]=_e,(void 0===pt[_e.name]||pt[_e.name]<Te)&&(pt[_e.name]=Te);for(const _e of be)_e.dependencies&&getDependencyGraph({modules:_e.dependencies,level:Te+1,moduleMap:Pe,moduleDepth:pt})}function instantiateModules(_e,be){return _e.map((_e=>(_e instanceof xt||((0,pt.Z)("string"!=typeof _e,"Shader module use by name is deprecated. Import shader module '".concat(_e,"' and use it directly.")),(0,pt.Z)(_e.name,"shader module has no name"),(_e=new xt(_e)).dependencies=instantiateModules(_e.dependencies)),_e)))}function isOldIE(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const be="undefined"!=typeof window&&window.navigator||{},Te=_e.userAgent||be.userAgent||"",Pe=-1!==Te.indexOf("MSIE "),pt=-1!==Te.indexOf("Trident/");return Pe||pt}const Tt={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},It={};function isWebGL2(_e){return"undefined"!=typeof WebGL2RenderingContext&&_e instanceof WebGL2RenderingContext||Boolean(_e&&2===_e._version)}function getContextInfo(_e){const be=_e.getExtension("WEBGL_debug_renderer_info"),Te=_e.getParameter(be&&be.UNMASKED_VENDOR_WEBGL||7936),Pe=_e.getParameter(be&&be.UNMASKED_RENDERER_WEBGL||7937);return{gpuVendor:identifyGPUVendor(Te,Pe),vendor:Te,renderer:Pe,version:_e.getParameter(7938),shadingLanguageVersion:_e.getParameter(35724)}}function identifyGPUVendor(_e,be){return _e.match(/NVIDIA/i)||be.match(/NVIDIA/i)?"NVIDIA":_e.match(/INTEL/i)||be.match(/INTEL/i)?"INTEL":_e.match(/AMD/i)||be.match(/AMD/i)||_e.match(/ATI/i)||be.match(/ATI/i)?"AMD":"UNKNOWN GPU"}Object.keys(Tt).forEach((_e=>{It[_e]=_e}));const Mt={};function canCompileGLGSExtension(_e,be){let Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const Pe=Tt[be];if((0,pt.Z)(Pe,be),!isOldIE(Te))return!0;if(be in Mt)return Mt[be];const vt=Pe[0],xt=Te.behavior||"enable",It="#extension GL_".concat(vt," : ").concat(xt,"\nvoid main(void) {}"),Lt=_e.createShader(35633);_e.shaderSource(Lt,It),_e.compileShader(Lt);const Ft=_e.getShaderParameter(Lt,35713);return _e.deleteShader(Lt),Mt[be]=Ft,Ft}function getFeature(_e,be){const Te=Tt[be];(0,pt.Z)(Te,be);const Pe=isWebGL2(_e)&&Te[1]||Te[0],vt="string"==typeof Pe?Boolean(_e.getExtension(Pe)):Pe;return(0,pt.Z)(!1===vt||!0===vt),vt}function hasFeatures(_e,be){return(be=Array.isArray(be)?be:[be]).every((be=>getFeature(_e,be)))}function getPlatformShaderDefines(_e){switch(getContextInfo(_e).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}function getVersionDefines(_e,be,Te){let Pe="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return hasFeatures(_e,It.GLSL_FRAG_DEPTH)&&(Pe+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),hasFeatures(_e,It.GLSL_DERIVATIVES)&&canCompileGLGSExtension(_e,It.GLSL_DERIVATIVES)&&(Pe+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),hasFeatures(_e,It.GLSL_FRAG_DATA)&&canCompileGLGSExtension(_e,It.GLSL_FRAG_DATA,{behavior:"require"})&&(Pe+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),hasFeatures(_e,It.GLSL_TEXTURE_LOD)&&(Pe+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),Pe}var Lt=Te(86713);function testVariable(_e){return new RegExp("\\b".concat(_e,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const Ft=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],Ot=[...Ft,[testVariable("attribute"),"in $1"],[testVariable("varying"),"out $1"]],Vt=[...Ft,[testVariable("varying"),"in $1"]],qt=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],Wt=[...qt,[testVariable("in"),"attribute $1"],[testVariable("out"),"varying $1"]],$t=[...qt,[testVariable("in"),"varying $1"]],Kt="gl_FragColor",Jt=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,Yt=/void\s+main\s*\([^)]*\)\s*\{\n?/;function transpileShader(_e,be,Te){switch(be){case 300:return Te?convertShader(_e,Ot):convertFragmentShaderTo300(_e);case 100:return Te?convertShader(_e,Wt):convertFragmentShaderTo100(_e);default:throw new Error("unknown GLSL version ".concat(be))}}function convertShader(_e,be){for(const[Te,Pe]of be)_e=_e.replace(Te,Pe);return _e}function convertFragmentShaderTo300(_e){const be=(_e=convertShader(_e,Vt)).match(Jt);if(be){const Te=be[1];_e=_e.replace(new RegExp("\\b".concat(Kt,"\\b"),"g"),Te)}else{const be="fragmentColor";_e=_e.replace(Yt,(_e=>"out vec4 ".concat(be,";\n").concat(_e))).replace(new RegExp("\\b".concat(Kt,"\\b"),"g"),be)}return _e}function convertFragmentShaderTo100(_e){const be=(_e=convertShader(_e,$t)).match(Jt);if(be){const Te=be[1];_e=_e.replace(Jt,"").replace(new RegExp("\\b".concat(Te,"\\b"),"g"),Kt)}return _e}const Qt="\n\n".concat(Lt.O_,"\n\n"),an={[Pe.H]:"vertex",[Pe.Y]:"fragment"};function assembleShaders(_e,be){const{vs:Te,fs:pt}=be,vt=resolveModules(be.modules||[]);return{gl:_e,vs:assembleShader(_e,Object.assign({},be,{source:Te,type:Pe.H,modules:vt})),fs:assembleShader(_e,Object.assign({},be,{source:pt,type:Pe.Y,modules:vt})),getUniforms:assembleGetUniforms(vt)}}function assembleShader(_e,be){let{id:Te,source:vt,type:xt,modules:Tt,defines:It={},hookFunctions:Mt=[],inject:Ft={},transpileToGLSL100:Ot=!1,prologue:Vt=!0,log:qt}=be;(0,pt.Z)("string"==typeof vt,"shader source must be a string");const Wt=xt===Pe.H,$t=vt.split("\n");let Kt=100,Jt="",Yt=vt;0===$t[0].indexOf("#version ")?(Kt=300,Jt=$t[0],Yt=$t.slice(1).join("\n")):Jt="#version ".concat(Kt);const an={};Tt.forEach((_e=>{Object.assign(an,_e.getDefines())})),Object.assign(an,It);let cn=Vt?"".concat(Jt,"\n").concat(getShaderName({id:Te,source:vt,type:xt}),"\n").concat(getShaderType({type:xt}),"\n").concat(getPlatformShaderDefines(_e),"\n").concat(getVersionDefines(_e),"\n").concat(getApplicationDefines(an),"\n").concat(Wt?"":"precision highp float;\n\n","\n"):"".concat(Jt,"\n");const hn=normalizeHookFunctions(Mt),pn={},xn={},Pn={};for(const _e in Ft){const be="string"==typeof Ft[_e]?{injection:Ft[_e],order:0}:Ft[_e],Te=_e.match(/^(v|f)s:(#)?([\w-]+)$/);if(Te){const Pe=Te[2],pt=Te[3];Pe?"decl"===pt?xn[_e]=[be]:Pn[_e]=[be]:pn[_e]=[be]}else Pn[_e]=[be]}for(const _e of Tt){qt&&_e.checkDeprecations(Yt,qt);cn+=_e.getModuleSource(xt,Kt);const be=_e.injections[xt];for(const _e in be){const Te=_e.match(/^(v|f)s:#([\w-]+)$/);if(Te){const Pe="decl"===Te[2]?xn:Pn;Pe[_e]=Pe[_e]||[],Pe[_e].push(be[_e])}else pn[_e]=pn[_e]||[],pn[_e].push(be[_e])}}return cn+=Qt,cn=(0,Lt.ZP)(cn,xt,xn),cn+=getHookFunctions(hn[xt],pn),cn+=Yt,cn=(0,Lt.ZP)(cn,xt,Pn),cn=transpileShader(cn,Ot?100:Kt,Wt),cn}function assembleGetUniforms(_e){return function getUniforms(be){const Te={};for(const Pe of _e){const _e=Pe.getUniforms(be,Te);Object.assign(Te,_e)}return Te}}function getShaderType(_e){let{type:be}=_e;return"\n#define SHADER_TYPE_".concat(an[be].toUpperCase(),"\n")}function getShaderName(_e){let{id:be,source:Te,type:Pe}=_e;return be&&"string"==typeof be&&-1===Te.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(be,"_").concat(an[Pe],"\n\n"):""}function getApplicationDefines(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},be=0,Te="";for(const Pe in _e){0===be&&(Te+="\n// APPLICATION DEFINES\n"),be++;const pt=_e[Pe];(pt||Number.isFinite(pt))&&(Te+="#define ".concat(Pe.toUpperCase()," ").concat(_e[Pe],"\n"))}return 0===be&&(Te+="\n"),Te}function getHookFunctions(_e,be){let Te="";for(const Pe in _e){const pt=_e[Pe];if(Te+="void ".concat(pt.signature," {\n"),pt.header&&(Te+="  ".concat(pt.header)),be[Pe]){const _e=be[Pe];_e.sort(((_e,be)=>_e.order-be.order));for(const be of _e)Te+="  ".concat(be.injection,"\n")}pt.footer&&(Te+="  ".concat(pt.footer)),Te+="}\n"}return Te}function normalizeHookFunctions(_e){const be={vs:{},fs:{}};return _e.forEach((_e=>{let Te;"string"!=typeof _e?(Te=_e,_e=Te.hook):Te={},_e=_e.trim();const[Pe,pt]=_e.split(":"),vt=_e.replace(/\(.+/,"");be[Pe][vt]=Object.assign(Te,{signature:pt})})),be}var cn=Te(7944);class hn{static getDefaultProgramManager(_e){return _e.luma=_e.luma||{},_e.luma.defaultProgramManager=_e.luma.defaultProgramManager||new hn(_e),_e.luma.defaultProgramManager}constructor(_e){this.gl=_e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(_e){this._defaultModules.find((be=>be.name===_e.name))||this._defaultModules.push(_e),this.stateHash++}removeDefaultModule(_e){const be="string"==typeof _e?_e:_e.name;this._defaultModules=this._defaultModules.filter((_e=>_e.name!==be)),this.stateHash++}addShaderHook(_e,be){be&&(_e=Object.assign(be,{hook:_e})),this._hookFunctions.push(_e),this.stateHash++}get(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:be="",fs:Te="",defines:Pe={},inject:pt={},varyings:vt=[],bufferMode:xt=35981,transpileToGLSL100:Tt=!1}=_e,It=this._getModuleList(_e.modules),Mt=this._getHash(be),Lt=this._getHash(Te),Ft=It.map((_e=>this._getHash(_e.name))).sort(),Ot=vt.map((_e=>this._getHash(_e))),Vt=Object.keys(Pe).sort(),qt=Object.keys(pt).sort(),Wt=[],$t=[];for(const _e of Vt)Wt.push(this._getHash(_e)),Wt.push(this._getHash(Pe[_e]));for(const _e of qt)$t.push(this._getHash(_e)),$t.push(this._getHash(pt[_e]));const Kt="".concat(Mt,"/").concat(Lt,"D").concat(Wt.join("/"),"M").concat(Ft.join("/"),"I").concat($t.join("/"),"V").concat(Ot.join("/"),"H").concat(this.stateHash,"B").concat(xt).concat(Tt?"T":"");if(!this._programCache[Kt]){const _e=assembleShaders(this.gl,{vs:be,fs:Te,modules:It,inject:pt,defines:Pe,hookFunctions:this._hookFunctions,transpileToGLSL100:Tt});this._programCache[Kt]=new cn.Z(this.gl,{hash:Kt,vs:_e.vs,fs:_e.fs,varyings:vt,bufferMode:xt}),this._getUniforms[Kt]=_e.getUniforms||(_e=>{}),this._useCounts[Kt]=0}return this._useCounts[Kt]++,this._programCache[Kt]}getUniforms(_e){return this._getUniforms[_e.hash]||null}release(_e){const be=_e.hash;this._useCounts[be]--,0===this._useCounts[be]&&(this._programCache[be].delete(),delete this._programCache[be],delete this._getUniforms[be],delete this._useCounts[be])}_getHash(_e){return void 0===this._hashes[_e]&&(this._hashes[_e]=this._hashCounter++),this._hashes[_e]}_getModuleList(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const be=new Array(this._defaultModules.length+_e.length),Te={};let Pe=0;for(let _e=0,pt=this._defaultModules.length;_e<pt;++_e){const pt=this._defaultModules[_e],vt=pt.name;be[Pe++]=pt,Te[vt]=!0}for(let pt=0,vt=_e.length;pt<vt;++pt){const vt=_e[pt],xt=vt.name;Te[xt]||(be[Pe++]=vt,Te[xt]=!0)}return be.length=Pe,be}}},39450:function(_e,be,Te){"use strict";Te.d(be,{KQ:function(){return assertWebGL2Context},JD:function(){return assertWebGLContext},s9:function(){return createGLContext},JY:function(){return cssToDevicePixels},w:function(){return cssToDeviceRatio},vd:function(){return getWebGL2Context},yW:function(){return instrumentGLContext},UF:function(){return isWebGL},D0:function(){return isWebGL2},cM:function(){return Pe},kL:function(){return resetParameters},aQ:function(){return resizeGLContext},dR:function(){return setParameters},s8:function(){return withParameters}});const Pe=new(Te(59109).Z)({id:"luma.gl"});function assert(_e,be){if(!_e)throw new Error(be||"luma.gl: assertion failed.")}const pt="Invalid WebGLRenderingContext";function isWebGL(_e){return"undefined"!=typeof WebGLRenderingContext&&_e instanceof WebGLRenderingContext||("undefined"!=typeof WebGL2RenderingContext&&_e instanceof WebGL2RenderingContext||Boolean(_e&&Number.isFinite(_e._version)))}function isWebGL2(_e){return"undefined"!=typeof WebGL2RenderingContext&&_e instanceof WebGL2RenderingContext||Boolean(_e&&2===_e._version)}function getWebGL2Context(_e){return isWebGL2(_e)?_e:null}function assertWebGLContext(_e){return assert(isWebGL(_e),pt),_e}function assertWebGL2Context(_e){return assert(isWebGL2(_e),"Requires WebGL2"),_e}const vt={};function wrapGLError(_e){const be=_e.getError;_e.getError=function getError(){let Te;do{Te=be.apply(_e),0!==Te&&(vt[Te]=!0)}while(0!==Te);for(Te in vt)if(vt[Te])return delete vt[Te],parseInt(Te,10);return 0}}const xt=function WebGLVertexArrayObjectOES(_e){const be=_e.gl;this.ext=_e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(_e.maxVertexAttribs);for(let _e=0;_e<this.attribs.length;_e++){const Te=new WebGLVertexArrayObjectOES.VertexAttrib(be);this.attribs[_e]=Te}this.maxAttrib=0};(xt.VertexAttrib=function VertexAttrib(_e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function recache(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const Tt=function OESVertexArrayObject(_e){const be=this;this.gl=_e,wrapGLError(_e);const Te=this.original={getParameter:_e.getParameter,enableVertexAttribArray:_e.enableVertexAttribArray,disableVertexAttribArray:_e.disableVertexAttribArray,bindBuffer:_e.bindBuffer,getVertexAttrib:_e.getVertexAttrib,vertexAttribPointer:_e.vertexAttribPointer};_e.getParameter=function getParameter(_e){return _e===be.VERTEX_ARRAY_BINDING_OES?be.currentVertexArrayObject===be.defaultVertexArrayObject?null:be.currentVertexArrayObject:Te.getParameter.apply(this,arguments)},_e.enableVertexAttribArray=function enableVertexAttribArray(_e){const Pe=be.currentVertexArrayObject;Pe.maxAttrib=Math.max(Pe.maxAttrib,_e);const pt=Pe.attribs[_e];return pt.enabled=!0,Te.enableVertexAttribArray.apply(this,arguments)},_e.disableVertexAttribArray=function disableVertexAttribArray(_e){const Pe=be.currentVertexArrayObject;Pe.maxAttrib=Math.max(Pe.maxAttrib,_e);const pt=Pe.attribs[_e];return pt.enabled=!1,Te.disableVertexAttribArray.apply(this,arguments)},_e.bindBuffer=function bindBuffer(_e,Pe){switch(_e){case 34962:be.currentArrayBuffer=Pe;break;case 34963:be.currentVertexArrayObject.elementArrayBuffer=Pe}return Te.bindBuffer.apply(this,arguments)},_e.getVertexAttrib=function getVertexAttrib(_e,Pe){const pt=be.currentVertexArrayObject,vt=pt.attribs[_e];switch(Pe){case 34975:return vt.buffer;case 34338:return vt.enabled;case 34339:return vt.size;case 34340:return vt.stride;case 34341:return vt.type;case 34922:return vt.normalized;default:return Te.getVertexAttrib.apply(this,arguments)}},_e.vertexAttribPointer=function vertexAttribPointer(_e,Pe,pt,vt,xt,Tt){const It=be.currentVertexArrayObject;It.maxAttrib=Math.max(It.maxAttrib,_e);const Mt=It.attribs[_e];return Mt.buffer=be.currentArrayBuffer,Mt.size=Pe,Mt.type=pt,Mt.normalized=vt,Mt.stride=xt,Mt.offset=Tt,Mt.recache(),Te.vertexAttribPointer.apply(this,arguments)},_e.instrumentExtension&&_e.instrumentExtension(this,"OES_vertex_array_object"),_e.canvas&&_e.canvas.addEventListener("webglcontextrestored",(()=>{var _e;_e="OESVertexArrayObject emulation library context restored",globalThis.console&&globalThis.console.log&&globalThis.console.log(_e),be.reset_()}),!0),this.reset_()};function polyfillVertexArrayObject(_e){if("function"==typeof _e.createVertexArray)return;const be=_e.getSupportedExtensions;_e.getSupportedExtensions=function getSupportedExtensions(){const _e=be.call(this)||[];return _e.indexOf("OES_vertex_array_object")<0&&_e.push("OES_vertex_array_object"),_e};const Te=_e.getExtension;_e.getExtension=function getExtension(be){const Pe=Te.call(this,be);return Pe||("OES_vertex_array_object"!==be?null:(_e.__OESVertexArrayObject||(this.__OESVertexArrayObject=new Tt(this)),this.__OESVertexArrayObject))}}Tt.prototype.VERTEX_ARRAY_BINDING_OES=34229,Tt.prototype.reset_=function reset_(){if(void 0!==this.vertexArrayObjects)for(let _e=0;_e<this.vertexArrayObjects.length;++_e)this.vertexArrayObjects.isAlive=!1;const _e=this.gl;this.maxVertexAttribs=_e.getParameter(34921),this.defaultVertexArrayObject=new xt(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},Tt.prototype.createVertexArrayOES=function createVertexArrayOES(){const _e=new xt(this);return this.vertexArrayObjects.push(_e),_e},Tt.prototype.deleteVertexArrayOES=function deleteVertexArrayOES(_e){_e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(_e),1),this.currentVertexArrayObject===_e&&this.bindVertexArrayOES(null)},Tt.prototype.isVertexArrayOES=function isVertexArrayOES(_e){return!!(_e&&_e instanceof xt&&_e.hasBeenBound&&_e.ext===this)},Tt.prototype.bindVertexArrayOES=function bindVertexArrayOES(_e){const be=this.gl;if(_e&&!_e.isAlive)return Te="bindVertexArrayOES: attempt to bind deleted arrayObject",vt[1282]=!0,void(void 0!==Te&&(Pe=Te,globalThis.console&&globalThis.console.error&&globalThis.console.error(Pe)));var Te,Pe;const pt=this.original,xt=this.currentVertexArrayObject;this.currentVertexArrayObject=_e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const Tt=this.currentVertexArrayObject;if(xt===Tt)return;xt&&Tt.elementArrayBuffer===xt.elementArrayBuffer||pt.bindBuffer.call(be,34963,Tt.elementArrayBuffer);let It=this.currentArrayBuffer;const Mt=Math.max(xt?xt.maxAttrib:0,Tt.maxAttrib);for(let _e=0;_e<=Mt;_e++){const Te=Tt.attribs[_e],Pe=xt?xt.attribs[_e]:null;if(xt&&Te.enabled===Pe.enabled||(Te.enabled?pt.enableVertexAttribArray.call(be,_e):pt.disableVertexAttribArray.call(be,_e)),Te.enabled){let vt=!1;xt&&Te.buffer===Pe.buffer||(It!==Te.buffer&&(pt.bindBuffer.call(be,34962,Te.buffer),It=Te.buffer),vt=!0),(vt||Te.cached!==Pe.cached)&&pt.vertexAttribPointer.call(be,_e,Te.size,Te.type,Te.normalized,Te.stride,Te.offset)}}this.currentArrayBuffer!==It&&pt.bindBuffer.call(be,34962,this.currentArrayBuffer)};const It="OES_element_index",Mt="WEBGL_draw_buffers",Lt="WEBGL_debug_renderer_info",getWebGL2ValueOrZero=_e=>isWebGL2(_e)?void 0:0,Ft={3074:_e=>isWebGL2(_e)?void 0:36064,35723:_e=>isWebGL2(_e)?void 0:4352,35977:getWebGL2ValueOrZero,32937:getWebGL2ValueOrZero,36795:(_e,be)=>{const Te=isWebGL2(_e)?_e.getExtension("EXT_disjoint_timer_query_webgl2"):_e.getExtension("EXT_disjoint_timer_query");return Te&&Te.GPU_DISJOINT_EXT?be(Te.GPU_DISJOINT_EXT):0},37445:(_e,be)=>{const Te=_e.getExtension(Lt);return be(Te&&Te.UNMASKED_VENDOR_WEBGL||7936)},37446:(_e,be)=>{const Te=_e.getExtension(Lt);return be(Te&&Te.UNMASKED_RENDERER_WEBGL||7937)},34047:(_e,be)=>{const Te=_e.luma.extensions.EXT_texture_filter_anisotropic;return Te?be(Te.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:getWebGL2ValueOrZero,35071:getWebGL2ValueOrZero,37447:getWebGL2ValueOrZero,36063:(_e,be)=>{if(!isWebGL2(_e)){const Te=_e.getExtension(Mt);return Te?be(Te.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:getWebGL2ValueOrZero,35374:getWebGL2ValueOrZero,35377:getWebGL2ValueOrZero,34852:_e=>{if(!isWebGL2(_e)){const be=_e.getExtension(Mt);return be?be.MAX_DRAW_BUFFERS_WEBGL:0}},36203:_e=>_e.getExtension(It)?2147483647:65535,33001:_e=>_e.getExtension(It)?16777216:65535,33e3:_e=>16777216,37157:getWebGL2ValueOrZero,35373:getWebGL2ValueOrZero,35657:getWebGL2ValueOrZero,36183:getWebGL2ValueOrZero,37137:getWebGL2ValueOrZero,34045:getWebGL2ValueOrZero,35978:getWebGL2ValueOrZero,35979:getWebGL2ValueOrZero,35968:getWebGL2ValueOrZero,35376:getWebGL2ValueOrZero,35375:getWebGL2ValueOrZero,35659:getWebGL2ValueOrZero,37154:getWebGL2ValueOrZero,35371:getWebGL2ValueOrZero,35658:getWebGL2ValueOrZero,35076:getWebGL2ValueOrZero,35077:getWebGL2ValueOrZero,35380:getWebGL2ValueOrZero};const Ot="ANGLE_instanced_arrays";function getExtensionData(_e,be){return{webgl2:isWebGL2(_e),ext:_e.getExtension(be)}}const Vt={OES_vertex_array_object:{meta:{suffix:"OES"},createVertexArray:()=>{assert(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[Ot]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(_e,be){assert(0===be,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},WEBGL_draw_buffers:{meta:{suffix:"WEBGL"},drawBuffers:()=>{assert(!1)}},EXT_disjoint_timer_query:{meta:{suffix:"EXT"},createQuery:()=>{assert(!1)},deleteQuery:()=>{assert(!1)},beginQuery:()=>{assert(!1)},endQuery:()=>{},getQuery(_e,be){return this.getQueryObject(_e,be)},getQueryParameter(_e,be){return this.getQueryObject(_e,be)},getQueryObject:()=>{}}},qt={readBuffer:(_e,be,Te)=>{isWebGL2(_e)&&be(Te)},getVertexAttrib:(_e,be,Te,Pe)=>{const{webgl2:pt,ext:vt}=getExtensionData(_e,Ot);let xt;switch(Pe){case 35069:xt=!!pt&&void 0;break;case 35070:xt=pt||vt?void 0:0}return void 0!==xt?xt:be(Te,Pe)},getProgramParameter:(_e,be,Te,Pe)=>{if(!isWebGL2(_e))switch(Pe){case 35967:return 35981;case 35971:case 35382:return 0}return be(Te,Pe)},getInternalformatParameter:(_e,be,Te,Pe,pt)=>{if(!isWebGL2(_e))switch(pt){case 32937:return new Int32Array([0])}return _e.getInternalformatParameter(Te,Pe,pt)},getTexParameter(_e,be,Te,Pe){switch(Pe){case 34046:const{extensions:be}=_e.luma,Te=be.EXT_texture_filter_anisotropic;Pe=Te&&Te.TEXTURE_MAX_ANISOTROPY_EXT||34046}return be(Te,Pe)},getParameter:function getParameterPolyfill(_e,be,Te){const Pe=Ft[Te],pt="function"==typeof Pe?Pe(_e,be,Te):Pe;return void 0!==pt?pt:be(Te)},hint:(_e,be,Te,Pe)=>be(Te,Pe)};function initializeExtensions(_e){_e.luma.extensions={};const be=_e.getSupportedExtensions()||[];for(const Te of be)_e.luma[Te]=_e.getExtension(Te)}function installOverrides(_e,be){let{target:Te,target2:Pe}=be;Object.keys(qt).forEach((be=>{if("function"==typeof qt[be]){const pt=_e[be]?_e[be].bind(_e):()=>{},vt=qt[be].bind(null,_e,pt);Te[be]=vt,Pe[be]=vt}}))}function installPolyfills(_e,be){for(const Te of Object.getOwnPropertyNames(be))"overrides"!==Te&&polyfillExtension(_e,{extension:Te,target:_e.luma,target2:_e})}function polyfillExtension(_e,be){let{extension:Te,target:Pe,target2:pt}=be;const vt=Vt[Te];assert(vt);const{meta:xt={}}=vt,{suffix:Tt=""}=xt,It=_e.getExtension(Te);for(const be of Object.keys(vt)){const Te="".concat(be).concat(Tt);let xt=null;"meta"===be||"function"==typeof _e[be]||(It&&"function"==typeof It[Te]?xt=function(){return It[Te](...arguments)}:"function"==typeof vt[be]&&(xt=vt[be].bind(Pe))),xt&&(Pe[be]=xt,pt[be]=xt)}}globalThis.polyfillContext=function polyfillContext(_e){_e.luma=_e.luma||{};const{luma:be}=_e;return be.polyfilled||(polyfillVertexArrayObject(_e),initializeExtensions(_e),installPolyfills(_e,Vt),installOverrides(_e,{target:be,target2:_e}),be.polyfilled=!0),_e};const Wt={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},enable=(_e,be,Te)=>be?_e.enable(Te):_e.disable(Te),hint=(_e,be,Te)=>_e.hint(Te,be),pixelStorei=(_e,be,Te)=>_e.pixelStorei(Te,be);function isArray(_e){return Array.isArray(_e)||ArrayBuffer.isView(_e)}const $t={3042:enable,32773:(_e,be)=>_e.blendColor(...be),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(_e,be)=>_e.clearColor(...be),3107:(_e,be)=>_e.colorMask(...be),2884:enable,2885:(_e,be)=>_e.cullFace(be),2929:enable,2931:(_e,be)=>_e.clearDepth(be),2932:(_e,be)=>_e.depthFunc(be),2928:(_e,be)=>_e.depthRange(...be),2930:(_e,be)=>_e.depthMask(be),3024:enable,35723:hint,36006:(_e,be)=>{const Te=isWebGL2(_e)?36009:36160;return _e.bindFramebuffer(Te,be)},2886:(_e,be)=>_e.frontFace(be),33170:hint,2849:(_e,be)=>_e.lineWidth(be),32823:enable,32824:"polygonOffset",10752:"polygonOffset",35977:enable,32938:"sampleCoverage",32939:"sampleCoverage",3089:enable,3088:(_e,be)=>_e.scissor(...be),2960:enable,2961:(_e,be)=>_e.clearStencil(be),2968:(_e,be)=>_e.stencilMaskSeparate(1028,be),36005:(_e,be)=>_e.stencilMaskSeparate(1029,be),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(_e,be)=>_e.viewport(...be),3333:pixelStorei,3317:pixelStorei,37440:pixelStorei,37441:pixelStorei,37443:pixelStorei,3330:pixelStorei,3332:pixelStorei,3331:pixelStorei,36010:(_e,be)=>_e.bindFramebuffer(36008,be),3314:pixelStorei,32878:pixelStorei,3316:pixelStorei,3315:pixelStorei,32877:pixelStorei,framebuffer:(_e,be)=>{const Te=be&&"handle"in be?be.handle:be;return _e.bindFramebuffer(36160,Te)},blend:(_e,be)=>be?_e.enable(3042):_e.disable(3042),blendColor:(_e,be)=>_e.blendColor(...be),blendEquation:(_e,be)=>{be=isArray(be)?be:[be,be],_e.blendEquationSeparate(...be)},blendFunc:(_e,be)=>{be=isArray(be)&&2===be.length?[...be,...be]:be,_e.blendFuncSeparate(...be)},clearColor:(_e,be)=>_e.clearColor(...be),clearDepth:(_e,be)=>_e.clearDepth(be),clearStencil:(_e,be)=>_e.clearStencil(be),colorMask:(_e,be)=>_e.colorMask(...be),cull:(_e,be)=>be?_e.enable(2884):_e.disable(2884),cullFace:(_e,be)=>_e.cullFace(be),depthTest:(_e,be)=>be?_e.enable(2929):_e.disable(2929),depthFunc:(_e,be)=>_e.depthFunc(be),depthMask:(_e,be)=>_e.depthMask(be),depthRange:(_e,be)=>_e.depthRange(...be),dither:(_e,be)=>be?_e.enable(3024):_e.disable(3024),derivativeHint:(_e,be)=>{_e.hint(35723,be)},frontFace:(_e,be)=>_e.frontFace(be),mipmapHint:(_e,be)=>_e.hint(33170,be),lineWidth:(_e,be)=>_e.lineWidth(be),polygonOffsetFill:(_e,be)=>be?_e.enable(32823):_e.disable(32823),polygonOffset:(_e,be)=>_e.polygonOffset(...be),sampleCoverage:(_e,be)=>_e.sampleCoverage(...be),scissorTest:(_e,be)=>be?_e.enable(3089):_e.disable(3089),scissor:(_e,be)=>_e.scissor(...be),stencilTest:(_e,be)=>be?_e.enable(2960):_e.disable(2960),stencilMask:(_e,be)=>{be=isArray(be)?be:[be,be];const[Te,Pe]=be;_e.stencilMaskSeparate(1028,Te),_e.stencilMaskSeparate(1029,Pe)},stencilFunc:(_e,be)=>{be=isArray(be)&&3===be.length?[...be,...be]:be;const[Te,Pe,pt,vt,xt,Tt]=be;_e.stencilFuncSeparate(1028,Te,Pe,pt),_e.stencilFuncSeparate(1029,vt,xt,Tt)},stencilOp:(_e,be)=>{be=isArray(be)&&3===be.length?[...be,...be]:be;const[Te,Pe,pt,vt,xt,Tt]=be;_e.stencilOpSeparate(1028,Te,Pe,pt),_e.stencilOpSeparate(1029,vt,xt,Tt)},viewport:(_e,be)=>_e.viewport(...be)};function getValue(_e,be,Te){return void 0!==be[_e]?be[_e]:Te[_e]}const Kt={blendEquation:(_e,be,Te)=>_e.blendEquationSeparate(getValue(32777,be,Te),getValue(34877,be,Te)),blendFunc:(_e,be,Te)=>_e.blendFuncSeparate(getValue(32969,be,Te),getValue(32968,be,Te),getValue(32971,be,Te),getValue(32970,be,Te)),polygonOffset:(_e,be,Te)=>_e.polygonOffset(getValue(32824,be,Te),getValue(10752,be,Te)),sampleCoverage:(_e,be,Te)=>_e.sampleCoverage(getValue(32938,be,Te),getValue(32939,be,Te)),stencilFuncFront:(_e,be,Te)=>_e.stencilFuncSeparate(1028,getValue(2962,be,Te),getValue(2967,be,Te),getValue(2963,be,Te)),stencilFuncBack:(_e,be,Te)=>_e.stencilFuncSeparate(1029,getValue(34816,be,Te),getValue(36003,be,Te),getValue(36004,be,Te)),stencilOpFront:(_e,be,Te)=>_e.stencilOpSeparate(1028,getValue(2964,be,Te),getValue(2965,be,Te),getValue(2966,be,Te)),stencilOpBack:(_e,be,Te)=>_e.stencilOpSeparate(1029,getValue(34817,be,Te),getValue(34818,be,Te),getValue(34819,be,Te))},Jt={enable:(_e,be)=>_e({[be]:!0}),disable:(_e,be)=>_e({[be]:!1}),pixelStorei:(_e,be,Te)=>_e({[be]:Te}),hint:(_e,be,Te)=>_e({[be]:Te}),bindFramebuffer:(_e,be,Te)=>{switch(be){case 36160:return _e({36006:Te,36010:Te});case 36009:return _e({36006:Te});case 36008:return _e({36010:Te});default:return null}},blendColor:(_e,be,Te,Pe,pt)=>_e({32773:new Float32Array([be,Te,Pe,pt])}),blendEquation:(_e,be)=>_e({32777:be,34877:be}),blendEquationSeparate:(_e,be,Te)=>_e({32777:be,34877:Te}),blendFunc:(_e,be,Te)=>_e({32969:be,32968:Te,32971:be,32970:Te}),blendFuncSeparate:(_e,be,Te,Pe,pt)=>_e({32969:be,32968:Te,32971:Pe,32970:pt}),clearColor:(_e,be,Te,Pe,pt)=>_e({3106:new Float32Array([be,Te,Pe,pt])}),clearDepth:(_e,be)=>_e({2931:be}),clearStencil:(_e,be)=>_e({2961:be}),colorMask:(_e,be,Te,Pe,pt)=>_e({3107:[be,Te,Pe,pt]}),cullFace:(_e,be)=>_e({2885:be}),depthFunc:(_e,be)=>_e({2932:be}),depthRange:(_e,be,Te)=>_e({2928:new Float32Array([be,Te])}),depthMask:(_e,be)=>_e({2930:be}),frontFace:(_e,be)=>_e({2886:be}),lineWidth:(_e,be)=>_e({2849:be}),polygonOffset:(_e,be,Te)=>_e({32824:be,10752:Te}),sampleCoverage:(_e,be,Te)=>_e({32938:be,32939:Te}),scissor:(_e,be,Te,Pe,pt)=>_e({3088:new Int32Array([be,Te,Pe,pt])}),stencilMask:(_e,be)=>_e({2968:be,36005:be}),stencilMaskSeparate:(_e,be,Te)=>_e({[1028===be?2968:36005]:Te}),stencilFunc:(_e,be,Te,Pe)=>_e({2962:be,2967:Te,2963:Pe,34816:be,36003:Te,36004:Pe}),stencilFuncSeparate:(_e,be,Te,Pe,pt)=>_e({[1028===be?2962:34816]:Te,[1028===be?2967:36003]:Pe,[1028===be?2963:36004]:pt}),stencilOp:(_e,be,Te,Pe)=>_e({2964:be,2965:Te,2966:Pe,34817:be,34818:Te,34819:Pe}),stencilOpSeparate:(_e,be,Te,Pe,pt)=>_e({[1028===be?2964:34817]:Te,[1028===be?2965:34818]:Pe,[1028===be?2966:34819]:pt}),viewport:(_e,be,Te,Pe,pt)=>_e({2978:[be,Te,Pe,pt]})},isEnabled=(_e,be)=>_e.isEnabled(be),Yt={3042:isEnabled,2884:isEnabled,2929:isEnabled,3024:isEnabled,32823:isEnabled,32926:isEnabled,32928:isEnabled,3089:isEnabled,2960:isEnabled,35977:isEnabled};function isObjectEmpty(_e){for(const be in _e)return!1;return!0}function deepArrayEqual(_e,be){if(_e===be)return!0;const Te=Array.isArray(_e)||ArrayBuffer.isView(_e),Pe=Array.isArray(be)||ArrayBuffer.isView(be);if(Te&&Pe&&_e.length===be.length){for(let Te=0;Te<_e.length;++Te)if(_e[Te]!==be[Te])return!1;return!0}return!1}function installGetterOverride(_e,be){const Te=_e[be].bind(_e);_e[be]=function get(){const be=arguments.length<=0?void 0:arguments[0];return be in _e.state.cache&&_e.state.enable?_e.state.cache[be]:Te(...arguments)},Object.defineProperty(_e[be],"name",{value:"".concat(be,"-from-cache"),configurable:!1})}function installSetterSpy(_e,be,Te){const Pe=_e[be].bind(_e);_e[be]=function set(){for(var be=arguments.length,pt=new Array(be),vt=0;vt<be;vt++)pt[vt]=arguments[vt];const{valueChanged:xt,oldValue:Tt}=Te(_e.state._updateCache,...pt);return xt&&Pe(...pt),Tt},Object.defineProperty(_e[be],"name",{value:"".concat(be,"-to-cache"),configurable:!1})}function installProgramSpy(_e){const be=_e.useProgram.bind(_e);_e.useProgram=function useProgramLuma(Te){_e.state.program!==Te&&(be(Te),_e.state.program=Te)}}class Qt{constructor(_e){let{copyState:be=!1,log:Te=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=_e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=be?getParameters(_e):Object.assign({},Wt),this.log=Te,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){assert(this.stateStack.length>0);const _e=this.stateStack[this.stateStack.length-1];setParameters(this.gl,_e),this.stateStack.pop()}_updateCache(_e){let be,Te=!1;const Pe=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const pt in _e){assert(void 0!==pt);const vt=_e[pt],xt=this.cache[pt];deepArrayEqual(vt,xt)||(Te=!0,be=xt,Pe&&!(pt in Pe)&&(Pe[pt]=xt),this.cache[pt]=vt)}return{valueChanged:Te,oldValue:be}}}function trackContextState(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{enable:Te=!0,copyState:Pe}=be;if(assert(void 0!==Pe),!_e.state){const{polyfillContext:be}=globalThis;be&&be(_e),_e.state=new Qt(_e,{copyState:Pe}),installProgramSpy(_e);for(const be in Jt){installSetterSpy(_e,be,Jt[be])}installGetterOverride(_e,"getParameter"),installGetterOverride(_e,"isEnabled")}return _e.state.enable=Te,_e}function pushContextState(_e){_e.state||trackContextState(_e,{copyState:!1}),_e.state.push()}function popContextState(_e){assert(_e.state),_e.state.pop()}function setParameters(_e,be){if(assert(isWebGL(_e),"setParameters requires a WebGL context"),isObjectEmpty(be))return;const Te={};for(const Pe in be){const pt=Number(Pe),vt=$t[Pe];vt&&("string"==typeof vt?Te[vt]=!0:vt(_e,be[Pe],pt))}const Pe=_e.state&&_e.state.cache;if(Pe)for(const pt in Te){(0,Kt[pt])(_e,be,Pe)}}function getParameters(_e,be){if("number"==typeof(be=be||Wt)){const Te=be,Pe=Yt[Te];return Pe?Pe(_e,Te):_e.getParameter(Te)}const Te=Array.isArray(be)?be:Object.keys(be),Pe={};for(const be of Te){const Te=Yt[be];Pe[be]=Te?Te(_e,Number(be)):_e.getParameter(Number(be))}return Pe}function resetParameters(_e){setParameters(_e,Wt)}function withParameters(_e,be,Te){if(isObjectEmpty(be))return Te(_e);const{nocatch:Pe=!0}=be;let pt;if(pushContextState(_e),setParameters(_e,be),Pe)pt=Te(_e),popContextState(_e);else try{pt=Te(_e)}finally{popContextState(_e)}return pt}function cssToDeviceRatio(_e){const{luma:be}=_e;if(_e.canvas&&be){const{clientWidth:Te}=be.canvasSizeInfo;return Te?_e.drawingBufferWidth/Te:1}return 1}function cssToDevicePixels(_e,be){let Te=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const Pe=cssToDeviceRatio(_e),pt=_e.drawingBufferWidth,vt=_e.drawingBufferHeight;return scalePixels(be,Pe,pt,vt,Te)}function getDevicePixelRatio(_e){const be="undefined"==typeof window?1:window.devicePixelRatio||1;return Number.isFinite(_e)?_e<=0?1:_e:_e?be:1}function scalePixels(_e,be,Te,Pe,pt){const vt=scaleX(_e[0],be,Te);let xt=scaleY(_e[1],be,Pe,pt),Tt=scaleX(_e[0]+1,be,Te);const It=Tt===Te-1?Tt:Tt-1;let Mt;return Tt=scaleY(_e[1]+1,be,Pe,pt),pt?(Tt=0===Tt?Tt:Tt+1,Mt=xt,xt=Tt):Mt=Tt===Pe-1?Tt:Tt-1,{x:vt,y:xt,width:Math.max(It-vt+1,1),height:Math.max(Mt-xt+1,1)}}function scaleX(_e,be,Te){return Math.min(Math.round(_e*be),Te-1)}function scaleY(_e,be,Te,Pe){return Pe?Math.max(0,Te-1-Math.round(_e*be)):Math.min(Math.round(_e*be),Te-1)}const an=(0,Te(93370).Z)(),cn=an&&"undefined"!=typeof document,hn={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function createGLContext(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};assert(an,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),_e=Object.assign({},hn,_e);const{width:be,height:Te}=_e;function onError(be){if(_e.throwOnError)throw new Error(be);return console.error(be),null}let Pe;_e.onError=onError;const{canvas:pt}=_e,vt=getCanvas({canvas:pt,width:be,height:Te,onError:onError});return Pe=createBrowserContext(vt,_e),Pe?(Pe=instrumentGLContext(Pe,_e),logInfo(Pe),Pe):null}function instrumentGLContext(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!_e||_e._instrumented)return _e;_e._version=_e._version||getVersion(_e),_e.luma=_e.luma||{},_e.luma.canvasSizeInfo=_e.luma.canvasSizeInfo||{},be=Object.assign({},hn,be);const{manageState:Te,debug:pt}=be;return Te&&trackContextState(_e,{copyState:!1,log:function(){for(var _e=arguments.length,be=new Array(_e),Te=0;Te<_e;Te++)be[Te]=arguments[Te];return Pe.log(1,...be)()}}),an&&pt&&(globalThis.makeDebugContext?(_e=globalThis.makeDebugContext(_e,be),Pe.level=Math.max(Pe.level,1)):Pe.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),_e._instrumented=!0,_e}function getContextDebugInfo(_e){const be=_e.getParameter(7936),Te=_e.getParameter(7937),Pe=_e.getExtension("WEBGL_debug_renderer_info");return{vendor:Pe&&_e.getParameter(Pe.UNMASKED_VENDOR_WEBGL||7936)||be,renderer:Pe&&_e.getParameter(Pe.UNMASKED_RENDERER_WEBGL||7937)||Te,vendorMasked:be,rendererMasked:Te,version:_e.getParameter(7938),shadingLanguageVersion:_e.getParameter(35724)}}function resizeGLContext(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_e.canvas){return void setDevicePixelRatio(_e,getDevicePixelRatio(be.useDevicePixels),be)}const Te=_e.getExtension("STACKGL_resize_drawingbuffer");Te&&"width"in be&&"height"in be&&Te.resize(be.width,be.height)}function createBrowserContext(_e,be){const{onError:Te}=be;let Pe=null;const onCreateError=_e=>Pe=_e.statusMessage||Pe;_e.addEventListener("webglcontextcreationerror",onCreateError,!1);const{webgl1:pt=!0,webgl2:vt=!0}=be;let xt=null;return vt&&(xt=xt||_e.getContext("webgl2",be),xt=xt||_e.getContext("experimental-webgl2",be)),pt&&(xt=xt||_e.getContext("webgl",be),xt=xt||_e.getContext("experimental-webgl",be)),_e.removeEventListener("webglcontextcreationerror",onCreateError,!1),xt?(be.onContextLost&&_e.addEventListener("webglcontextlost",be.onContextLost,!1),be.onContextRestored&&_e.addEventListener("webglcontextrestored",be.onContextRestored,!1),xt):Te("Failed to create ".concat(vt&&!pt?"WebGL2":"WebGL"," context: ").concat(Pe||"Unknown error"))}function getCanvas(_e){let be,{canvas:Te,width:Pe=800,height:pt=600,onError:vt}=_e;if("string"==typeof Te){cn&&"complete"===document.readyState||vt("createGLContext called on canvas '".concat(Te,"' before page was loaded")),be=document.getElementById(Te)}else Te?be=Te:(be=document.createElement("canvas"),be.id="lumagl-canvas",be.style.width=Number.isFinite(Pe)?"".concat(Pe,"px"):"100%",be.style.height=Number.isFinite(pt)?"".concat(pt,"px"):"100%",document.body.insertBefore(be,document.body.firstChild));return be}function logInfo(_e){const be=isWebGL2(_e)?"WebGL2":"WebGL1",Te=getContextDebugInfo(_e),pt=Te?"(".concat(Te.vendor,",").concat(Te.renderer,")"):"",vt=_e.debug?" debug":"";Pe.info(1,"".concat(be).concat(vt," context ").concat(pt))()}function getVersion(_e){return"undefined"!=typeof WebGL2RenderingContext&&_e instanceof WebGL2RenderingContext?2:1}function setDevicePixelRatio(_e,be,Te){let pt="width"in Te?Te.width:_e.canvas.clientWidth,vt="height"in Te?Te.height:_e.canvas.clientHeight;pt&&vt||(Pe.log(1,"Canvas clientWidth/clientHeight is 0")(),be=1,pt=_e.canvas.width||1,vt=_e.canvas.height||1),_e.luma=_e.luma||{},_e.luma.canvasSizeInfo=_e.luma.canvasSizeInfo||{};const xt=_e.luma.canvasSizeInfo;if(xt.clientWidth!==pt||xt.clientHeight!==vt||xt.devicePixelRatio!==be){let Te=be;const xt=Math.floor(pt*Te),Tt=Math.floor(vt*Te);_e.canvas.width=xt,_e.canvas.height=Tt,_e.drawingBufferWidth===xt&&_e.drawingBufferHeight===Tt||(Pe.warn("Device pixel ratio clamped")(),Te=Math.min(_e.drawingBufferWidth/pt,_e.drawingBufferHeight/vt),_e.canvas.width=Math.floor(pt*Te),_e.canvas.height=Math.floor(vt*Te)),Object.assign(_e.luma.canvasSizeInfo,{clientWidth:pt,clientHeight:vt,devicePixelRatio:be})}}},75682:function(_e,be,Te){"use strict";Te.d(be,{H:function(){return Pe},Y:function(){return pt}});const Pe="vs",pt="fs"},86713:function(_e,be,Te){"use strict";Te.d(be,{O_:function(){return xt},Lm:function(){return combineInjects},ZP:function(){return injectShader}});var Pe=Te(75682),pt=Te(29047);const vt={[Pe.H]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",[Pe.Y]:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},xt="__LUMA_INJECT_DECLARATIONS__",Tt=/void\s+main\s*\([^)]*\)\s*\{\n?/,It=/}\n?[^{}]*$/,Mt=[];function injectShader(_e,be,Te){let pt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const Lt=be===Pe.H;for(const be in Te){const Pe=Te[be];Pe.sort(((_e,be)=>_e.order-be.order)),Mt.length=Pe.length;for(let _e=0,be=Pe.length;_e<be;++_e)Mt[_e]=Pe[_e].injection;const pt="".concat(Mt.join("\n"),"\n");switch(be){case"vs:#decl":Lt&&(_e=_e.replace(xt,pt));break;case"vs:#main-start":Lt&&(_e=_e.replace(Tt,(_e=>_e+pt)));break;case"vs:#main-end":Lt&&(_e=_e.replace(It,(_e=>pt+_e)));break;case"fs:#decl":Lt||(_e=_e.replace(xt,pt));break;case"fs:#main-start":Lt||(_e=_e.replace(Tt,(_e=>_e+pt)));break;case"fs:#main-end":Lt||(_e=_e.replace(It,(_e=>pt+_e)));break;default:_e=_e.replace(be,(_e=>_e+pt))}}return _e=_e.replace(xt,""),pt&&(_e=_e.replace(/\}\s*$/,(_e=>_e+vt[be]))),_e}function combineInjects(_e){const be={};return(0,pt.Z)(Array.isArray(_e)&&_e.length>1),_e.forEach((_e=>{for(const Te in _e)be[Te]=be[Te]?"".concat(be[Te],"\n").concat(_e[Te]):_e[Te]})),be}},29047:function(_e,be,Te){"use strict";function assert(_e,be){if(!_e)throw new Error(be||"shadertools: assertion failed.")}Te.d(be,{Z:function(){return assert}})},14072:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return It}});var Pe=Te(9335),pt=Te(23121),vt=Te(82610);const xt={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},Tt={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class It{static getBytesPerElement(_e){return(0,Pe.vN)(_e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(_e){(0,pt.h)(_e.size);return(0,Pe.vN)(_e.type||5126).BYTES_PER_ELEMENT*_e.size}static resolve(){for(var _e=arguments.length,be=new Array(_e),Te=0;Te<_e;Te++)be[Te]=arguments[Te];return new It(...[xt,...be])}constructor(){for(var _e=arguments.length,be=new Array(_e),Te=0;Te<_e;Te++)be[Te]=arguments[Te];be.forEach((_e=>this._assign(_e))),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return It.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return It.getBytesPerVertex(this)}_assign(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _e=(0,vt.k)("Accessor",_e,Tt),void 0!==_e.type&&(this.type=_e.type,5124!==_e.type&&5125!==_e.type||(this.integer=!0)),void 0!==_e.size&&(this.size=_e.size),void 0!==_e.offset&&(this.offset=_e.offset),void 0!==_e.stride&&(this.stride=_e.stride),void 0!==_e.normalized&&(this.normalized=_e.normalized),void 0!==_e.integer&&(this.integer=_e.integer),void 0!==_e.divisor&&(this.divisor=_e.divisor),void 0!==_e.buffer&&(this.buffer=_e.buffer),void 0!==_e.index&&("boolean"==typeof _e.index?this.index=_e.index?1:0:this.index=_e.index),void 0!==_e.instanced&&(this.divisor=_e.instanced?1:0),void 0!==_e.isInstanced&&(this.divisor=_e.isInstanced?1:0),this}}},53478:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Ot}});var Pe=Te(87577),pt=Te(14072),vt=Te(9335),xt=Te(39450),Tt=Te(23121),It=Te(82610);const Mt={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},Lt={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:Mt},Ft={removedProps:Mt};class Ot extends Pe.Z{get[Symbol.toStringTag](){return"Buffer"}constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(_e,be),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=be.target||(this.gl.webgl2?36662:34962),this.initialize(be),Object.seal(this)}getElementCount(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/pt.Z.getBytesPerElement(_e))}getVertexCount(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/pt.Z.getBytesPerVertex(_e))}initialize(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(_e)&&(_e={data:_e}),Number.isFinite(_e)&&(_e={byteLength:_e}),_e=(0,It.k)("Buffer",_e,Lt),this.usage=_e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},_e,_e.accessor)),_e.data?this._setData(_e.data,_e.offset,_e.byteLength):this._setByteLength(_e.byteLength||0),this}setProps(_e){return"accessor"in(_e=(0,It.k)("Buffer",_e,Ft))&&this.setAccessor(_e.accessor),this}setAccessor(_e){return delete(_e=Object.assign({},_e)).buffer,this.accessor=new pt.Z(_e),this}reallocate(_e){return _e>this.byteLength?(this._setByteLength(_e),!0):(this.bytesUsed=_e,!1)}setData(_e){return this.initialize(_e)}subData(_e){ArrayBuffer.isView(_e)&&(_e={data:_e});const{data:be,offset:Te=0,srcOffset:Pe=0}=_e,pt=_e.byteLength||_e.length;(0,Tt.h)(be);const vt=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(vt,this.handle),0!==Pe||void 0!==pt?((0,xt.KQ)(this.gl),this.gl.bufferSubData(this.target,Te,be,Pe,pt)):this.gl.bufferSubData(vt,Te,be),this.gl.bindBuffer(vt,null),this.debugData=null,this._inferType(be),this}copyData(_e){let{sourceBuffer:be,readOffset:Te=0,writeOffset:Pe=0,size:pt}=_e;const{gl:vt}=this;return(0,xt.KQ)(vt),vt.bindBuffer(36662,be.handle),vt.bindBuffer(36663,this.handle),vt.copyBufferSubData(36662,36663,Te,Pe,pt),vt.bindBuffer(36662,null),vt.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:_e=null,srcByteOffset:be=0,dstOffset:Te=0,length:Pe=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,xt.KQ)(this.gl);const pt=(0,vt.vN)(this.accessor.type||5126,{clamped:!1}),It=this._getAvailableElementCount(be),Mt=Te;let Lt,Ft;_e?(Ft=_e.length,Lt=Ft-Mt):(Lt=Math.min(It,Pe||It),Ft=Mt+Lt);const Ot=Math.min(It,Lt);return Pe=Pe||Ot,(0,Tt.h)(Pe<=Ot),_e=_e||new pt(Ft),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,be,_e,Te,Pe),this.gl.bindBuffer(36662,null),_e}bind(){let{target:_e=this.target,index:be=this.accessor&&this.accessor.index,offset:Te=0,size:Pe}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===_e||35982===_e?void 0!==Pe?this.gl.bindBufferRange(_e,be,this.handle,Te,Pe):((0,Tt.h)(0===Te),this.gl.bindBufferBase(_e,be,this.handle)):this.gl.bindBuffer(_e,this.handle),this}unbind(){let{target:_e=this.target,index:be=this.accessor&&this.accessor.index}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===_e||35982===_e?this.gl.bindBufferBase(_e,be,null):this.gl.bindBuffer(_e,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_e.byteLength+be;(0,Tt.h)(ArrayBuffer.isView(_e)),this._trackDeallocatedMemory();const Pe=this._getTarget();this.gl.bindBuffer(Pe,this.handle),this.gl.bufferData(Pe,Te,this.usage),this.gl.bufferSubData(Pe,be,_e),this.gl.bindBuffer(Pe,null),this.debugData=_e.slice(0,10),this.bytesUsed=Te,this._trackAllocatedMemory(Te);const xt=(0,vt.O)(_e);return(0,Tt.h)(xt),this.setAccessor(new pt.Z(this.accessor,{type:xt})),this}_setByteLength(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;(0,Tt.h)(_e>=0),this._trackDeallocatedMemory();let Te=_e;0===_e&&(Te=new Float32Array(0));const Pe=this._getTarget();return this.gl.bindBuffer(Pe,this.handle),this.gl.bufferData(Pe,Te,be),this.gl.bindBuffer(Pe,null),this.usage=be,this.debugData=null,this.bytesUsed=_e,this._trackAllocatedMemory(_e),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(_e){const be=_e/(0,vt.vN)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-be}_inferType(_e){this.accessor.type||this.setAccessor(new pt.Z(this.accessor,{type:(0,vt.O)(_e)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(_e){this.gl.bindBuffer(this.target,this.handle);const be=this.gl.getBufferParameter(this.target,_e);return this.gl.bindBuffer(this.target,null),be}get type(){return xt.cM.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return xt.cM.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(_e){return xt.cM.deprecated("setByteLength","reallocate")(),this.reallocate(_e)}updateAccessor(_e){return xt.cM.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new pt.Z(this.accessor,_e),this}}},26047:function(_e,be,Te){"use strict";Te.d(be,{$:function(){return clearBuffer},Z:function(){return clear}});var Pe=Te(39450),pt=Te(23121);const vt=6144,xt=6145,Tt=6146,It=34041,Mt="clear: bad arguments";function clear(_e){let{framebuffer:be=null,color:Te=null,depth:vt=null,stencil:xt=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const Tt={};be&&(Tt.framebuffer=be);let It=0;Te&&(It|=16384,!0!==Te&&(Tt.clearColor=Te)),vt&&(It|=256,!0!==vt&&(Tt.clearDepth=vt)),xt&&(It|=1024,!0!==vt&&(Tt.clearStencil=vt)),(0,pt.h)(0!==It,Mt),(0,Pe.s8)(_e,Tt,(()=>{_e.clear(It)}))}function clearBuffer(_e){let{framebuffer:be=null,buffer:Te=vt,drawBuffer:Lt=0,value:Ft=[0,0,0,0]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Pe.KQ)(_e),(0,Pe.s8)(_e,{framebuffer:be},(()=>{switch(Te){case vt:switch(Ft.constructor){case Int32Array:_e.clearBufferiv(Te,Lt,Ft);break;case Uint32Array:_e.clearBufferuiv(Te,Lt,Ft);break;case Float32Array:default:_e.clearBufferfv(Te,Lt,Ft)}break;case xt:_e.clearBufferfv(xt,0,[Ft]);break;case Tt:_e.clearBufferiv(Tt,0,[Ft]);break;case It:const[be,Pe]=Ft;_e.clearBufferfi(It,0,be,Pe);break;default:(0,pt.h)(!1,Mt)}}))}},1953:function(_e,be,Te){"use strict";Te.d(be,{Km:function(){return copyToDataUrl},Lv:function(){return copyToTexture},z6:function(){return readPixelsToArray}});var Pe=Te(53849),pt=Te(35008),vt=Te(39450),xt=Te(9335),Tt=Te(23121);function format_utils_glFormatToComponents(_e){switch(_e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return(0,Tt.h)(!1),0}}var It=Te(95432);function readPixelsToArray(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceX:Te=0,sourceY:Pe=0,sourceFormat:pt=6408}=be;let{sourceAttachment:vt=36064,target:It=null,sourceWidth:Mt,sourceHeight:Lt,sourceType:Ft}=be;const{framebuffer:Ot,deleteFramebuffer:Vt}=getFramebuffer(_e);(0,Tt.h)(Ot);const{gl:qt,handle:Wt,attachments:$t}=Ot;Mt=Mt||Ot.width,Lt=Lt||Ot.height,36064===vt&&null===Wt&&(vt=1028),(0,Tt.h)($t[vt]),Ft=Ft||$t[vt].type,It=getPixelArray(It,Ft,pt,Mt,Lt),Ft=Ft||(0,xt.O)(It);const Kt=qt.bindFramebuffer(36160,Wt);return qt.readPixels(Te,Pe,Mt,Lt,pt,Ft,It),qt.bindFramebuffer(36160,Kt||null),Vt&&Ot.delete(),It}function copyToDataUrl(_e){let{sourceAttachment:be=36064,targetMaxHeight:Te=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Pe=readPixelsToArray(_e,{sourceAttachment:be}),{width:pt,height:vt}=_e;for(;vt>Te;)({data:Pe,width:pt,height:vt}=(0,xt.KS)({data:Pe,width:pt,height:vt}));(0,xt.c$)({data:Pe,width:pt,height:vt});const Tt=document.createElement("canvas");Tt.width=pt,Tt.height=vt;const It=Tt.getContext("2d"),Mt=It.createImageData(pt,vt);return Mt.data.set(Pe),It.putImageData(Mt,0,0),Tt.toDataURL()}function copyToTexture(_e,be){let Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{sourceX:Pe=0,sourceY:xt=0,targetMipmaplevel:It=0,targetInternalFormat:Mt=6408}=Te;let{targetX:Lt,targetY:Ft,targetZ:Ot,width:Vt,height:qt}=Te;const{framebuffer:Wt,deleteFramebuffer:$t}=getFramebuffer(_e);(0,Tt.h)(Wt);const{gl:Kt,handle:Jt}=Wt,Yt=void 0!==Lt||void 0!==Ft||void 0!==Ot;Lt=Lt||0,Ft=Ft||0,Ot=Ot||0;const Qt=Kt.bindFramebuffer(36160,Jt);(0,Tt.h)(be);let an=null;if(be instanceof pt.Z&&(an=be,Vt=Number.isFinite(Vt)?Vt:an.width,qt=Number.isFinite(qt)?qt:an.height,an.bind(0),be=an.target),Yt)switch(be){case 3553:case 34067:Kt.copyTexSubImage2D(be,It,Lt,Ft,Pe,xt,Vt,qt);break;case 35866:case 32879:(0,vt.KQ)(Kt).copyTexSubImage3D(be,It,Lt,Ft,Ot,Pe,xt,Vt,qt)}else Kt.copyTexImage2D(be,It,Mt,Pe,xt,Vt,qt,0);return an&&an.unbind(),Kt.bindFramebuffer(36160,Qt||null),$t&&Wt.delete(),an}function getFramebuffer(_e){return _e instanceof Pe.Z?{framebuffer:_e,deleteFramebuffer:!1}:{framebuffer:(0,It.Y)(_e),deleteFramebuffer:!0}}function getPixelArray(_e,be,Te,Pe,pt){if(_e)return _e;be=be||5121;return new((0,xt.vN)(be,{clamped:!1}))(Pe*pt*format_utils_glFormatToComponents(Te))}},53849:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Vt}});var Pe=Te(39450),pt=Te(87577),vt=Te(4912),xt=Te(49830),Tt=Te(26047),It=Te(1953),Mt=Te(44211),Lt=Te(79579),Ft=Te(23121);const Ot="Multiple render targets not supported";class Vt extends pt.Z{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorBufferFloat:Te,colorBufferHalfFloat:Pe}=be;let pt=!0;return Te&&(pt=Boolean(_e.getExtension("EXT_color_buffer_float")||_e.getExtension("WEBGL_color_buffer_float")||_e.getExtension("OES_texture_float"))),Pe&&(pt=pt&&Boolean(_e.getExtension("EXT_color_buffer_float")||_e.getExtension("EXT_color_buffer_half_float"))),pt}static getDefaultFramebuffer(_e){return _e.luma=_e.luma||{},_e.luma.defaultFramebuffer=_e.luma.defaultFramebuffer||new Vt(_e,{id:"default-framebuffer",handle:null,attachments:{}}),_e.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const _e=(0,Pe.KQ)(this.gl);return _e.getParameter(_e.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const _e=(0,Pe.KQ)(this.gl);return _e.getParameter(_e.MAX_DRAW_BUFFERS)}constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(_e,be),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(be),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(_e){let{width:be=1,height:Te=1,attachments:Pe=null,color:pt=!0,depth:vt=!0,stencil:xt=!1,check:Tt=!0,readBuffer:It,drawBuffers:Mt}=_e;if((0,Ft.h)(be>=0&&Te>=0,"Width and height need to be integers"),this.width=be,this.height=Te,Pe)for(const _e in Pe){const pt=Pe[_e];(Array.isArray(pt)?pt[0]:pt).resize({width:be,height:Te})}else Pe=this._createDefaultAttachments(pt,vt,xt,be,Te);this.update({clearAttachments:!0,attachments:Pe,readBuffer:It,drawBuffers:Mt}),Pe&&Tt&&this.checkStatus()}delete(){for(const _e of this.ownResources)_e.delete();return super.delete(),this}update(_e){let{attachments:be={},readBuffer:Te,drawBuffers:Pe,clearAttachments:pt=!1,resizeAttachments:vt=!0}=_e;this.attach(be,{clearAttachments:pt,resizeAttachments:vt});const{gl:xt}=this,Tt=xt.bindFramebuffer(36160,this.handle);return Te&&this._setReadBuffer(Te),Pe&&this._setDrawBuffers(Pe),xt.bindFramebuffer(36160,Tt||null),this}resize(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{width:be,height:Te}=_e;if(null===this.handle)return(0,Ft.h)(void 0===be&&void 0===Te),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===be&&(be=this.gl.drawingBufferWidth),void 0===Te&&(Te=this.gl.drawingBufferHeight),be!==this.width&&Te!==this.height&&Pe.cM.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(be,"x").concat(Te))();for(const _e in this.attachments)this.attachments[_e].resize({width:be,height:Te});return this.width=be,this.height=Te,this}attach(_e){let{clearAttachments:be=!1,resizeAttachments:Te=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const Pe={};be&&Object.keys(this.attachments).forEach((_e=>{Pe[_e]=null})),Object.assign(Pe,_e);const pt=this.gl.bindFramebuffer(36160,this.handle);for(const _e in Pe){(0,Ft.h)(void 0!==_e,"Misspelled framebuffer binding point?");const be=Number(_e),pt=Pe[be];let vt=pt;if(vt)if(vt instanceof xt.Z)this._attachRenderbuffer({attachment:be,renderbuffer:vt});else if(Array.isArray(pt)){const[_e,Te=0,Pe=0]=pt;vt=_e,this._attachTexture({attachment:be,texture:_e,layer:Te,level:Pe})}else this._attachTexture({attachment:be,texture:vt,layer:0,level:0});else this._unattach(be);Te&&vt&&vt.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,pt||null),Object.assign(this.attachments,_e),Object.keys(this.attachments).filter((_e=>!this.attachments[_e])).forEach((_e=>{delete this.attachments[_e]}))}checkStatus(){const{gl:_e}=this,be=this.getStatus();if(36053!==be)throw new Error(_getFrameBufferStatus(be));return this}getStatus(){const{gl:_e}=this,be=_e.bindFramebuffer(36160,this.handle),Te=_e.checkFramebufferStatus(36160);return _e.bindFramebuffer(36160,be||null),Te}clear(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:be,depth:Te,stencil:Pe,drawBuffers:pt=[]}=_e,vt=this.gl.bindFramebuffer(36160,this.handle);return(be||Te||Pe)&&(0,Tt.Z)(this.gl,{color:be,depth:Te,stencil:Pe}),pt.forEach(((_e,be)=>{(0,Tt.$)(this.gl,{drawBuffer:be,value:_e})})),this.gl.bindFramebuffer(36160,vt||null),this}readPixels(){return Pe.cM.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return Pe.cM.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return Pe.cM.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return Pe.cM.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return Pe.cM.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return Pe.cM.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(_e){let{attachments:be=[],x:Te=0,y:pt=0,width:vt,height:xt}=_e;const Tt=(0,Pe.KQ)(this.gl),It=Tt.bindFramebuffer(36008,this.handle);return 0===Te&&0===pt&&void 0===vt&&void 0===xt?Tt.invalidateFramebuffer(36008,be):Tt.invalidateFramebuffer(36008,be,Te,pt,vt,xt),Tt.bindFramebuffer(36008,It),this}getAttachmentParameter(_e,be,Te){let Pe=this._getAttachmentParameterFallback(be);return null===Pe&&(this.gl.bindFramebuffer(36160,this.handle),Pe=this.gl.getFramebufferAttachmentParameter(36160,_e,be),this.gl.bindFramebuffer(36160,null)),Te&&Pe>1e3&&(Pe=(0,Lt.km)(this.gl,Pe)),Pe}getAttachmentParameters(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,be=arguments.length>1?arguments[1]:void 0,Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const Pe={};for(const pt of Te){Pe[be?(0,Lt.km)(this.gl,pt):pt]=this.getAttachmentParameter(_e,pt,be)}return Pe}getParameters(){let _e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const be=Object.keys(this.attachments),Te={};for(const Pe of be){const be=Number(Pe);Te[_e?(0,Lt.km)(this.gl,be):be]=this.getAttachmentParameters(be,_e)}return Te}show(){return"undefined"!=typeof window&&window.open((0,It.Km)(this),"luma-debug-texture"),this}log(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(_e>Pe.cM.level||"undefined"==typeof window)return this;be=be||"Framebuffer ".concat(this.id);const Te=(0,It.Km)(this,{targetMaxHeight:100});return Pe.cM.image({logLevel:_e,message:be,image:Te},be)(),this}bind(){let{target:_e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(_e,this.handle),this}unbind(){let{target:_e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(_e,null),this}_createDefaultAttachments(_e,be,Te,Pe,pt){let Tt=null;return _e&&(Tt=Tt||{},Tt[36064]=new vt.Z(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:Pe,height:pt,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(Tt[36064])),be&&Te?(Tt=Tt||{},Tt[33306]=new xt.Z(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:Pe,height:111}),this.ownResources.push(Tt[33306])):be?(Tt=Tt||{},Tt[36096]=new xt.Z(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:Pe,height:pt}),this.ownResources.push(Tt[36096])):Te&&(0,Ft.h)(!1),Tt}_unattach(_e){const be=this.attachments[_e];be&&(be instanceof xt.Z?this.gl.framebufferRenderbuffer(36160,_e,36161,null):this.gl.framebufferTexture2D(36160,_e,3553,null,0),delete this.attachments[_e])}_attachRenderbuffer(_e){let{attachment:be=36064,renderbuffer:Te}=_e;const{gl:Pe}=this;Pe.framebufferRenderbuffer(36160,be,36161,Te.handle),this.attachments[be]=Te}_attachTexture(_e){let{attachment:be=36064,texture:Te,layer:pt,level:vt}=_e;const{gl:xt}=this;switch(xt.bindTexture(Te.target,Te.handle),Te.target){case 35866:case 32879:(0,Pe.KQ)(xt).framebufferTextureLayer(36160,be,Te.target,vt,pt);break;case 34067:const _e=mapIndexToCubeMapFace(pt);xt.framebufferTexture2D(36160,be,_e,Te.handle,vt);break;case 3553:xt.framebufferTexture2D(36160,be,3553,Te.handle,vt);break;default:(0,Ft.h)(!1,"Illegal texture type")}xt.bindTexture(Te.target,null),this.attachments[be]=Te}_setReadBuffer(_e){const be=(0,Pe.vd)(this.gl);be?be.readBuffer(_e):(0,Ft.h)(36064===_e||1029===_e,Ot),this.readBuffer=_e}_setDrawBuffers(_e){const{gl:be}=this,Te=(0,Pe.KQ)(be);if(Te)Te.drawBuffers(_e);else{const Te=be.getExtension("WEBGL_draw_buffers");Te?Te.drawBuffersWEBGL(_e):(0,Ft.h)(1===_e.length&&(36064===_e[0]||1029===_e[0]),Ot)}this.drawBuffers=_e}_getAttachmentParameterFallback(_e){const be=(0,Mt.N$)(this.gl);switch(_e){case 36052:return be.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return be.WEBGL2?null:8;case 33297:return be.WEBGL2?null:5125;case 33296:return be.WEBGL2||be.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(_e){return this.gl.bindFramebuffer(36160,_e)}}function mapIndexToCubeMapFace(_e){return _e<34069?_e+34069:_e}function _getFrameBufferStatus(_e){return(Vt.STATUS||{})[_e]||"Framebuffer error ".concat(_e)}Vt.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},7944:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return pn}});var Pe=Te(87577),pt=Te(35008),vt=Te(53849),xt=Te(39450),Tt=Te(49830),It=Te(23121);const Mt={5126:getArraySetter.bind(null,"uniform1fv",toFloatArray,1,setVectorUniform),35664:getArraySetter.bind(null,"uniform2fv",toFloatArray,2,setVectorUniform),35665:getArraySetter.bind(null,"uniform3fv",toFloatArray,3,setVectorUniform),35666:getArraySetter.bind(null,"uniform4fv",toFloatArray,4,setVectorUniform),5124:getArraySetter.bind(null,"uniform1iv",toIntArray,1,setVectorUniform),35667:getArraySetter.bind(null,"uniform2iv",toIntArray,2,setVectorUniform),35668:getArraySetter.bind(null,"uniform3iv",toIntArray,3,setVectorUniform),35669:getArraySetter.bind(null,"uniform4iv",toIntArray,4,setVectorUniform),35670:getArraySetter.bind(null,"uniform1iv",toIntArray,1,setVectorUniform),35671:getArraySetter.bind(null,"uniform2iv",toIntArray,2,setVectorUniform),35672:getArraySetter.bind(null,"uniform3iv",toIntArray,3,setVectorUniform),35673:getArraySetter.bind(null,"uniform4iv",toIntArray,4,setVectorUniform),35674:getArraySetter.bind(null,"uniformMatrix2fv",toFloatArray,4,setMatrixUniform),35675:getArraySetter.bind(null,"uniformMatrix3fv",toFloatArray,9,setMatrixUniform),35676:getArraySetter.bind(null,"uniformMatrix4fv",toFloatArray,16,setMatrixUniform),35678:getSamplerSetter,35680:getSamplerSetter,5125:getArraySetter.bind(null,"uniform1uiv",toUIntArray,1,setVectorUniform),36294:getArraySetter.bind(null,"uniform2uiv",toUIntArray,2,setVectorUniform),36295:getArraySetter.bind(null,"uniform3uiv",toUIntArray,3,setVectorUniform),36296:getArraySetter.bind(null,"uniform4uiv",toUIntArray,4,setVectorUniform),35685:getArraySetter.bind(null,"uniformMatrix2x3fv",toFloatArray,6,setMatrixUniform),35686:getArraySetter.bind(null,"uniformMatrix2x4fv",toFloatArray,8,setMatrixUniform),35687:getArraySetter.bind(null,"uniformMatrix3x2fv",toFloatArray,6,setMatrixUniform),35688:getArraySetter.bind(null,"uniformMatrix3x4fv",toFloatArray,12,setMatrixUniform),35689:getArraySetter.bind(null,"uniformMatrix4x2fv",toFloatArray,8,setMatrixUniform),35690:getArraySetter.bind(null,"uniformMatrix4x3fv",toFloatArray,12,setMatrixUniform),35678:getSamplerSetter,35680:getSamplerSetter,35679:getSamplerSetter,35682:getSamplerSetter,36289:getSamplerSetter,36292:getSamplerSetter,36293:getSamplerSetter,36298:getSamplerSetter,36299:getSamplerSetter,36300:getSamplerSetter,36303:getSamplerSetter,36306:getSamplerSetter,36307:getSamplerSetter,36308:getSamplerSetter,36311:getSamplerSetter},Lt={},Ft={},Ot={},Vt=[0];function toTypedArray(_e,be,Te,Pe){1===be&&"boolean"==typeof _e&&(_e=_e?1:0),Number.isFinite(_e)&&(Vt[0]=_e,_e=Vt);const pt=_e.length;if(pt%be&&xt.cM.warn("Uniform size should be multiples of ".concat(be),_e)(),_e instanceof Te)return _e;let vt=Pe[pt];vt||(vt=new Te(pt),Pe[pt]=vt);for(let be=0;be<pt;be++)vt[be]=_e[be];return vt}function toFloatArray(_e,be){return toTypedArray(_e,be,Float32Array,Lt)}function toIntArray(_e,be){return toTypedArray(_e,be,Int32Array,Ft)}function toUIntArray(_e,be){return toTypedArray(_e,be,Uint32Array,Ot)}function getUniformSetter(_e,be,Te){const Pe=Mt[Te.type];if(!Pe)throw new Error("Unknown GLSL uniform type ".concat(Te.type));return Pe().bind(null,_e,be)}function parseUniformName(_e){if("]"!==_e[_e.length-1])return{name:_e,length:1,isArray:!1};const be=_e.match(/([^[]*)(\[[0-9]+\])?/);if(!be||be.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(_e));return{name:be[1],length:be[2]||1,isArray:Boolean(be[2])}}function checkUniformValues(_e,be,Te){for(const Pe in _e){const pt=_e[Pe];if((!Te||Boolean(Te[Pe]))&&!checkUniformValue(pt))throw be=be?"".concat(be," "):"",console.error("".concat(be," Bad uniform ").concat(Pe),pt),new Error("".concat(be," Bad uniform ").concat(Pe))}return!0}function checkUniformValue(_e){return Array.isArray(_e)||ArrayBuffer.isView(_e)?checkUniformArray(_e):!!isFinite(_e)||(!0===_e||!1===_e||(_e instanceof pt.Z||(_e instanceof Tt.Z||_e instanceof vt.Z&&Boolean(_e.texture))))}function copyUniform(_e,be,Te){if(Array.isArray(Te)||ArrayBuffer.isView(Te))if(_e[be]){const Pe=_e[be];for(let _e=0,be=Te.length;_e<be;++_e)Pe[_e]=Te[_e]}else _e[be]=Te.slice();else _e[be]=Te}function checkUniformArray(_e){if(0===_e.length)return!1;const be=Math.min(_e.length,16);for(let Te=0;Te<be;++Te)if(!Number.isFinite(_e[Te]))return!1;return!0}function getSamplerSetter(){let _e=null;return(be,Te,Pe)=>{const pt=_e!==Pe;return pt&&(be.uniform1i(Te,Pe),_e=Pe),pt}}function getArraySetter(_e,be,Te,Pe){let pt=null,vt=null;return(xt,Tt,Mt)=>{const Lt=be(Mt,Te),Ft=Lt.length;let Ot=!1;if(null===pt)pt=new Float32Array(Ft),vt=Ft,Ot=!0;else{(0,It.h)(vt===Ft,"Uniform length cannot change.");for(let _e=0;_e<Ft;++_e)if(Lt[_e]!==pt[_e]){Ot=!0;break}}return Ot&&(Pe(xt,_e,Tt,Lt),pt.set(Lt)),Ot}}function setVectorUniform(_e,be,Te,Pe){_e[be](Te,Pe)}function setMatrixUniform(_e,be,Te,Pe){_e[be](Te,!1,Pe)}function getShaderName(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const Te=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,Pe=_e.match(Te);return Pe?Pe[1]:be}function getShaderTypeName(_e){switch(_e){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}function parseGLSLCompilerError(_e,be,Te,Pe){const pt=_e.split(/\r?\n/),vt={},xt={},Tt=Pe||getShaderName(be)||"(unnamed)",It="".concat(getShaderTypeName(Te)," shader ").concat(Tt);for(let be=0;be<pt.length;be++){const Te=pt[be];if(Te.length<=1)continue;const Pe=Te.split(":"),Tt=Pe[0],Mt=parseInt(Pe[2],10);if(isNaN(Mt))throw new Error("GLSL compilation error in ".concat(It,": ").concat(_e));"WARNING"!==Tt?vt[Mt]=Te:xt[Mt]=Te}const Mt=addLineNumbers(be);return{shaderName:It,errors:formatErrors(vt,Mt),warnings:formatErrors(xt,Mt)}}function formatErrors(_e,be){let Te="";for(let Pe=0;Pe<be.length;Pe++){const pt=be[Pe];if((_e[Pe+3]||_e[Pe+2]||_e[Pe+1])&&(Te+="".concat(pt,"\n"),_e[Pe+1])){const be=_e[Pe+1],pt=be.split(":",3),vt=pt[0],xt=parseInt(pt[1],10)||0,Tt=be.substring(pt.join(":").length+1).trim();Te+=padLeft("^^^ ".concat(vt,": ").concat(Tt,"\n\n"),xt)}}return Te}function addLineNumbers(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ";const Pe=_e.split(/\r?\n/),pt=String(Pe.length+be-1).length;return Pe.map(((_e,Pe)=>{const vt=String(Pe+be),xt=vt.length;return padLeft(vt,pt-xt)+Te+_e}))}function padLeft(_e,be){let Te="";for(let _e=0;_e<be;++_e)Te+=" ";return"".concat(Te).concat(_e)}var qt=Te(74538);class Wt extends Pe.Z{get[Symbol.toStringTag](){return"Shader"}static getTypeName(_e){switch(_e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return(0,It.h)(!1),"unknown"}}constructor(_e,be){(0,xt.JD)(_e),(0,It.h)("string"==typeof be.source,"Shader: GLSL source code must be a JavaScript string");super(_e,{id:getShaderName(be.source,null)||be.id||(0,qt.hQ)("unnamed ".concat(Wt.getTypeName(be.shaderType)))}),this.shaderType=be.shaderType,this.source=be.source,this.initialize(be)}initialize(_e){let{source:be}=_e;const Te=getShaderName(be,null);Te&&(this.id=(0,qt.hQ)(Te)),this._compile(be)}getParameter(_e){return this.gl.getShaderParameter(this.handle,_e)}toString(){return"".concat(Wt.getTypeName(this.shaderType),":").concat(this.id)}getName(){return getShaderName(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const _e=this.gl.getExtension("WEBGL_debug_shaders");return _e?_e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;_e.startsWith("#version ")||(_e="#version 100\n".concat(_e)),this.source=_e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);if(!this.getParameter(35713)){const _e=this.gl.getShaderInfoLog(this.handle),{shaderName:be,errors:Te,warnings:Pe}=parseGLSLCompilerError(_e,this.source,this.shaderType,this.id);throw xt.cM.error("GLSL compilation errors in ".concat(be,"\n").concat(Te))(),xt.cM.warn("GLSL compilation warnings in ".concat(be,"\n").concat(Pe))(),new Error("GLSL compilation errors in ".concat(be))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class $t extends Wt{get[Symbol.toStringTag](){return"VertexShader"}constructor(_e,be){"string"==typeof be&&(be={source:be}),super(_e,Object.assign({},be,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class Kt extends Wt{get[Symbol.toStringTag](){return"FragmentShader"}constructor(_e,be){"string"==typeof be&&(be={source:be}),super(_e,Object.assign({},be,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}var Jt=Te(14072),Yt=Te(38522);class Qt{constructor(_e){this.id=_e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(_e),this._readVaryingsFromProgram(_e)}getAttributeInfo(_e){const be=Number(_e);return Number.isFinite(be)?this.attributeInfosByLocation[be]:this.attributeInfosByName[_e]||null}getAttributeLocation(_e){const be=this.getAttributeInfo(_e);return be?be.location:-1}getAttributeAccessor(_e){const be=this.getAttributeInfo(_e);return be?be.accessor:null}getVaryingInfo(_e){const be=Number(_e);return Number.isFinite(be)?this.varyingInfos[be]:this.varyingInfosByName[_e]||null}getVaryingIndex(_e){const be=this.getVaryingInfo();return be?be.location:-1}getVaryingAccessor(_e){const be=this.getVaryingInfo();return be?be.accessor:null}_readAttributesFromProgram(_e){const{gl:be}=_e,Te=be.getProgramParameter(_e.handle,35721);for(let Pe=0;Pe<Te;Pe++){const{name:Te,type:pt,size:vt}=be.getActiveAttrib(_e.handle,Pe),xt=be.getAttribLocation(_e.handle,Te);xt>=0&&this._addAttribute(xt,Te,pt,vt)}this.attributeInfos.sort(((_e,be)=>_e.location-be.location))}_readVaryingsFromProgram(_e){const{gl:be}=_e;if(!(0,xt.D0)(be))return;const Te=be.getProgramParameter(_e.handle,35971);for(let Pe=0;Pe<Te;Pe++){const{name:Te,type:pt,size:vt}=be.getTransformFeedbackVarying(_e.handle,Pe);this._addVarying(Pe,Te,pt,vt)}this.varyingInfos.sort(((_e,be)=>_e.location-be.location))}_addAttribute(_e,be,Te,Pe){const{type:pt,components:vt}=(0,Yt.hJ)(Te),xt={type:pt,size:Pe*vt};this._inferProperties(_e,be,xt);const Tt={location:_e,name:be,accessor:new Jt.Z(xt)};this.attributeInfos.push(Tt),this.attributeInfosByLocation[_e]=Tt,this.attributeInfosByName[Tt.name]=Tt}_inferProperties(_e,be,Te){/instance/i.test(be)&&(Te.divisor=1)}_addVarying(_e,be,Te,Pe){const{type:pt,components:vt}=(0,Yt.hJ)(Te),xt={location:_e,name:be,accessor:new Jt.Z({type:pt,size:Pe*vt})};this.varyingInfos.push(xt),this.varyingInfosByName[xt.name]=xt}}var an=Te(79579);const cn=35981,hn=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class pn extends Pe.Z{get[Symbol.toStringTag](){return"Program"}constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(_e,be),this.stubRemovedMethods("Program","v6.0",hn),this._isCached=!1,this.initialize(be),Object.seal(this),this._setId(be.id)}initialize(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:be,vs:Te,fs:Pe,varyings:pt,bufferMode:vt=cn}=_e;return this.hash=be||"",this.vs="string"==typeof Te?new $t(this.gl,{id:"".concat(_e.id,"-vs"),source:Te}):Te,this.fs="string"==typeof Pe?new Kt(this.gl,{id:"".concat(_e.id,"-fs"),source:Pe}):Pe,(0,It.h)(this.vs instanceof $t),(0,It.h)(this.fs instanceof Kt),this.uniforms={},this._textureUniforms={},pt&&pt.length>0&&((0,xt.KQ)(this.gl),this.varyings=pt,this.gl2.transformFeedbackVaryings(this.handle,pt,vt)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new Qt(this),this.setProps(_e)}delete(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:super.delete(_e)}setProps(_e){return"uniforms"in _e&&this.setUniforms(_e.uniforms),this}draw(_e){let{logPriority:be,drawMode:Te=4,vertexCount:Pe,offset:pt=0,start:vt,end:Tt,isIndexed:Mt=!1,indexType:Lt=5123,instanceCount:Ft=0,isInstanced:Ot=Ft>0,vertexArray:Vt=null,transformFeedback:qt,framebuffer:Wt,parameters:$t={},uniforms:Kt,samplers:Jt}=_e;if((Kt||Jt)&&(xt.cM.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(Kt||{})),xt.cM.priority>=be){const _e=Wt?Wt.id:"default",pt="mode=".concat((0,an.km)(this.gl,Te)," verts=").concat(Pe," ")+"instances=".concat(Ft," indexType=").concat((0,an.km)(this.gl,Lt)," ")+"isInstanced=".concat(Ot," isIndexed=").concat(Mt," ")+"Framebuffer=".concat(_e);xt.cM.log(be,pt)()}return(0,It.h)(Vt),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===Pe||Ot&&0===Ft)&&(Vt.bindForDraw(Pe,Ft,(()=>{if(void 0!==Wt&&($t=Object.assign({},$t,{framebuffer:Wt})),qt){const _e=(0,Yt.$Z)(Te);qt.begin(_e)}this._bindTextures(),(0,xt.s8)(this.gl,$t,(()=>{Mt&&Ot?this.gl2.drawElementsInstanced(Te,Pe,Lt,pt,Ft):Mt&&(0,xt.D0)(this.gl)&&!isNaN(vt)&&!isNaN(Tt)?this.gl2.drawRangeElements(Te,vt,Tt,Pe,Lt,pt):Mt?this.gl.drawElements(Te,Pe,Lt,pt):Ot?this.gl2.drawArraysInstanced(Te,pt,Pe,Ft):this.gl.drawArrays(Te,pt,Pe)})),qt&&qt.end()})),!0)}setUniforms(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xt.cM.priority>=2&&checkUniformValues(_e,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const be in _e){const Te=_e[be],Pe=this._uniformSetters[be];if(Pe){let _e=Te,xt=!1;if(_e instanceof vt.Z&&(_e=_e.texture),_e instanceof pt.Z)if(xt=this.uniforms[be]!==Te,xt){void 0===Pe.textureIndex&&(Pe.textureIndex=this._textureIndexCounter++);const Te=_e,{textureIndex:pt}=Pe;Te.bind(pt),_e=pt,this._textureUniforms[be]=Te}else _e=Pe.textureIndex;else this._textureUniforms[be]&&delete this._textureUniforms[be];(Pe(_e)||xt)&&copyUniform(this.uniforms,be,Te)}}return this}_areTexturesRenderable(){let _e=!0;for(const be in this._textureUniforms){const Te=this._textureUniforms[be];Te.update(),_e=_e&&Te.loaded}return _e}_bindTextures(){for(const _e in this._textureUniforms){const be=this._uniformSetters[_e].textureIndex;this._textureUniforms[_e].bind(be)}}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(_e){const be=this.gl.getAttachedShaders(_e),Te={};for(const _e of be){switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:Te.vs=new $t({handle:_e});break;case 35632:Te.fs=new Kt({handle:_e})}}return Te}_getParameter(_e){return this.gl.getProgramParameter(this.handle,_e)}_setId(_e){if(!_e){const _e=this._getName();this.id=(0,qt.hQ)(_e)}}_getName(){let _e=this.vs.getName()||this.fs.getName();return _e=_e.replace(/shader/i,""),_e=_e?"".concat(_e,"-program"):"program",_e}_compileAndLink(){const{gl:_e}=this;if(_e.attachShader(this.handle,this.vs.handle),_e.attachShader(this.handle,this.fs.handle),xt.cM.time(4,"linkProgram for ".concat(this._getName()))(),_e.linkProgram(this.handle),xt.cM.timeEnd(4,"linkProgram for ".concat(this._getName()))(),_e.debug||xt.cM.level>0){if(!_e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(_e.getProgramInfoLog(this.handle)));_e.validateProgram(this.handle);if(!_e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(_e.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:_e}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let be=0;be<this._uniformCount;be++){const Te=this.gl.getActiveUniform(this.handle,be),{name:Pe}=parseUniformName(Te.name);let pt=_e.getUniformLocation(this.handle,Pe);if(this._uniformSetters[Pe]=getUniformSetter(_e,pt,Te),Te.size>1)for(let be=0;be<Te.size;be++)pt=_e.getUniformLocation(this.handle,"".concat(Pe,"[").concat(be,"]")),this._uniformSetters["".concat(Pe,"[").concat(be,"]")]=getUniformSetter(_e,pt,Te)}this._textureIndexCounter=0}getActiveUniforms(_e,be){return this.gl2.getActiveUniforms(this.handle,_e,be)}getUniformBlockIndex(_e){return this.gl2.getUniformBlockIndex(this.handle,_e)}getActiveUniformBlockParameter(_e,be){return this.gl2.getActiveUniformBlockParameter(this.handle,_e,be)}uniformBlockBinding(_e,be){this.gl2.uniformBlockBinding(this.handle,_e,be)}}},49830:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return It}});var Pe=Te(87577);const pt="EXT_color_buffer_float";var vt={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:pt,bpp:2},33327:{gl2:pt,bpp:4},34842:{gl2:pt,bpp:8},33326:{gl2:pt,bpp:4},33328:{gl2:pt,bpp:8},34836:{gl2:pt,bpp:16},35898:{gl2:pt,bpp:4}},xt=Te(39450),Tt=Te(23121);function isFormatSupported(_e,be,Te){const Pe=Te[be];if(!Pe)return!1;const pt=(0,xt.D0)(_e)&&Pe.gl2||Pe.gl1;return"string"==typeof pt?_e.getExtension(pt):pt}class It extends Pe.Z{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(_e){let{format:be}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};return!be||isFormatSupported(_e,be,vt)}static getSamplesForFormat(_e,be){let{format:Te}=be;return _e.getInternalformatParameter(36161,Te,32937)}constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(_e,be),this.initialize(be),Object.seal(this)}initialize(_e){let{format:be,width:Te=1,height:Pe=1,samples:pt=0}=_e;return(0,Tt.h)(be,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==pt&&(0,xt.D0)(this.gl)?this.gl.renderbufferStorageMultisample(36161,pt,be,Te,Pe):this.gl.renderbufferStorage(36161,be,Te,Pe),this.format=be,this.width=Te,this.height=Pe,this.samples=pt,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*vt[this.format].bpp),this}resize(_e){let{width:be,height:Te}=_e;return be!==this.width||Te!==this.height?this.initialize({width:be,height:Te,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(_e){this.gl.bindRenderbuffer(36161,_e)}_syncHandle(_e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(_e){this.gl.bindRenderbuffer(36161,this.handle);return this.gl.getRenderbufferParameter(36161,_e)}}},87577:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Lt}});var Pe=Te(39450),pt=Te(49835),vt=Te(79579),xt=Te(23121),Tt=Te(74538),It=Te(37469);const Mt="Resource subclass must define virtual methods";class Lt{get[Symbol.toStringTag](){return"Resource"}constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Pe.JD)(_e);const{id:Te,userData:pt={}}=be;this.gl=_e,this.gl2=_e,this.id=Te||(0,Tt.hQ)(this[Symbol.toStringTag]),this.userData=pt,this._bound=!1,this._handle=be.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._initStats(),this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:_e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const be=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,be&&_e&&be.filter(Boolean).forEach((_e=>_e.delete())),this}bind(){let _e,be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof be?(this._bindHandle(be),this):(this._bound?_e=be():(this._bindHandle(this.handle),this._bound=!0,_e=be(),this._bound=!1,this._bindHandle(null)),_e)}unbind(){this.bind(null)}getParameter(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_e=(0,vt.sF)(this.gl,_e),(0,xt.h)(_e);const Te=(this.constructor.PARAMETERS||{})[_e];if(Te){const _e=(0,Pe.D0)(this.gl);if(!((!("webgl2"in Te)||_e)&&(!("extension"in Te)||this.gl.getExtension(Te.extension)))){const be=Te.webgl1,Pe="webgl2"in Te?Te.webgl2:Te.webgl1;return _e?Pe:be}}return this._getParameter(_e,be)}getParameters(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{parameters:be,keys:Te}=_e,pt=this.constructor.PARAMETERS||{},xt=(0,Pe.D0)(this.gl),Tt={},It=be||Object.keys(pt);for(const be of It){const Pe=pt[be];if(Pe&&(!("webgl2"in Pe)||xt)&&(!("extension"in Pe)||this.gl.getExtension(Pe.extension))){const pt=Te?(0,vt.km)(this.gl,be):be;Tt[pt]=this.getParameter(be,_e),Te&&"GLenum"===Pe.type&&(Tt[pt]=(0,vt.km)(this.gl,Tt[pt]))}}return Tt}setParameter(_e,be){_e=(0,vt.sF)(this.gl,_e),(0,xt.h)(_e);const Te=(this.constructor.PARAMETERS||{})[_e];if(Te){const _e=(0,Pe.D0)(this.gl);if(!((!("webgl2"in Te)||_e)&&(!("extension"in Te)||this.gl.getExtension(Te.extension))))throw new Error("Parameter not available on this platform");"GLenum"===Te.type&&(be=(0,vt.sF)(be))}return this._setParameter(_e,be),this}setParameters(_e){for(const be in _e)this.setParameter(be,_e[be]);return this}stubRemovedMethods(_e,be,Te){return(0,It.F)(this,_e,be,Te)}initialize(_e){}_createHandle(){throw new Error(Mt)}_deleteHandle(){throw new Error(Mt)}_bindHandle(_e){throw new Error(Mt)}_getOptsFromHandle(){throw new Error(Mt)}_getParameter(_e,be){throw new Error(Mt)}_setParameter(_e,be){throw new Error(Mt)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_initStats(){this.gl.stats=this.gl.stats||new pt.Zj}_addStats(){const _e=this[Symbol.toStringTag],be=pt.lR.get("Resource Counts");be.get("Resources Created").incrementCount(),be.get("".concat(_e,"s Created")).incrementCount(),be.get("".concat(_e,"s Active")).incrementCount()}_removeStats(){const _e=this[Symbol.toStringTag];pt.lR.get("Resource Counts").get("".concat(_e,"s Active")).decrementCount()}_trackAllocatedMemory(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._doTrackAllocatedMemory(_e,be),this._doTrackAllocatedMemory(_e,be,this.gl.stats.get("Memory Usage"))}_doTrackAllocatedMemory(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag],Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt.lR.get("Memory Usage");Te.get("GPU Memory").addCount(_e),Te.get("".concat(be," Memory")).addCount(_e),this.byteLength=_e}_trackDeallocatedMemory(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._doTrackDeallocatedMemory(_e),this._doTrackDeallocatedMemory(_e,this.gl.stats.get("Memory Usage"))}_doTrackDeallocatedMemory(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag],be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt.lR.get("Memory Usage");be.get("GPU Memory").subtractCount(this.byteLength),be.get("".concat(_e," Memory")).subtractCount(this.byteLength),this.byteLength=0}}},4912:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Tt}});var Pe=Te(39450),pt=Te(35008),vt=Te(23121);let xt="";class Tt extends pt.Z{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(_e,be){return pt.Z.isSupported(_e,be)}constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var Te,pt;(0,Pe.JD)(_e),(be instanceof Promise||"string"==typeof be)&&(be={data:be}),"string"==typeof be.data&&(be=Object.assign({},be,{data:(Te=be.data,(0,vt.h)("string"==typeof Te),Te=xt+Te,new Promise(((_e,be)=>{try{const Pe=new Image;Pe.onload=()=>_e(Pe),Pe.onerror=()=>be(new Error("Could not load image ".concat(Te,"."))),Pe.crossOrigin=pt&&pt.crossOrigin||"anonymous",Pe.src=Te}catch(_e){be(_e)}})))})),super(_e,Object.assign({},be,{target:3553})),this.initialize(be),Object.seal(this)}}},33889:function(_e,be,Te){"use strict";Te.d(be,{C:function(){return vt},KR:function(){return isLinearFilteringSupported},ae:function(){return pt},br:function(){return isFormatSupported},pH:function(){return xt}});var Pe=Te(39450);const pt={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},vt={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},xt={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function isFormatSupported(_e,be){const Te=pt[be];if(!Te)return!1;if(void 0===Te.gl1&&void 0===Te.gl2)return!0;const vt=(0,Pe.D0)(_e)&&Te.gl2||Te.gl1;return"string"==typeof vt?_e.getExtension(vt):vt}function isLinearFilteringSupported(_e,be){const Te=pt[be];switch(Te&&Te.types[0]){case 5126:return _e.getExtension("OES_texture_float_linear");case 5131:return _e.getExtension("OES_texture_half_float_linear");default:return!0}}},35008:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Ft}});var Pe=Te(39450),pt=Te(87577),vt=Te(53478),xt=Te(33889),Tt=Te(23121),It=Te(74538);const Mt=[9729,9728],Lt=globalThis.WebGLBuffer||function WebGLBuffer(){};class Ft extends pt.Z{get[Symbol.toStringTag](){return"Texture"}static isSupported(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:Te,linearFiltering:Pe}=be;let pt=!0;return Te&&(pt=pt&&(0,xt.br)(_e,Te),pt=pt&&(!Pe||(0,xt.KR)(_e,Te))),pt}constructor(_e,be){const{id:Te=(0,It.hQ)("texture"),handle:Pe,target:pt}=be;super(_e,{id:Te,handle:Pe}),this.target=pt,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},be=_e.data;if(be instanceof Promise)return be.then((be=>this.initialize(Object.assign({},_e,{pixels:be,data:be})))),this;const Te="undefined"!=typeof HTMLVideoElement&&be instanceof HTMLVideoElement;if(Te&&be.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,be.addEventListener("loadeddata",(()=>this.initialize(_e))),this;const{pixels:pt=null,format:vt=6408,border:xt=0,recreate:Tt=!1,parameters:It={},pixelStore:Mt={},textureUnit:Lt}=_e;be||(be=pt);let{width:Ft,height:Ot,dataFormat:Vt,type:qt,compressed:Wt=!1,mipmaps:$t=!0}=_e;const{depth:Kt=0}=_e;return({width:Ft,height:Ot,compressed:Wt,dataFormat:Vt,type:qt}=this._deduceParameters({format:vt,type:qt,dataFormat:Vt,compressed:Wt,data:be,width:Ft,height:Ot})),this.width=Ft,this.height=Ot,this.depth=Kt,this.format=vt,this.type=qt,this.dataFormat=Vt,this.border=xt,this.textureUnit=Lt,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),$t&&this._isNPOT()&&(Pe.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),$t=!1,this._updateForNPOT(It)),this.mipmaps=$t,this.setImageData({data:be,width:Ft,height:Ot,depth:Kt,format:vt,type:qt,dataFormat:Vt,border:xt,mipmaps:$t,parameters:Mt,compressed:Wt}),$t&&this.generateMipmap(),this.setParameters(It),Tt&&(this.data=be),Te&&(this._video={video:be,parameters:It,lastTime:be.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?be.currentTime:-1}),this}update(){if(this._video){const{video:_e,parameters:be,lastTime:Te}=this._video;if(Te===_e.currentTime||_e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:_e,parameters:be}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=_e.currentTime}}resize(_e){let{height:be,width:Te,mipmaps:Pe=!1}=_e;return Te!==this.width||be!==this.height?this.initialize({width:Te,height:be,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:Pe}):this}generateMipmap(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(Pe.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),(0,Pe.s8)(this.gl,_e,(()=>{this.gl.generateMipmap(this.target)})),this.gl.bindTexture(this.target,null),this)}setImageData(_e){this._trackDeallocatedMemory("Texture");const{target:be=this.target,pixels:Te=null,level:pt=0,format:vt=this.format,border:It=this.border,offset:Mt=0,parameters:Lt={}}=_e;let{data:Ft=null,type:Ot=this.type,width:Vt=this.width,height:qt=this.height,dataFormat:Wt=this.dataFormat,compressed:$t=!1}=_e;Ft||(Ft=Te),({type:Ot,dataFormat:Wt,compressed:$t,width:Vt,height:qt}=this._deduceParameters({format:vt,type:Ot,dataFormat:Wt,compressed:$t,data:Ft,width:Vt,height:qt}));const{gl:Kt}=this;Kt.bindTexture(this.target,this.handle);let Jt,Yt=null;({data:Ft,dataType:Yt}=this._getDataType({data:Ft,compressed:$t}));let Qt=0;if((0,Pe.s8)(this.gl,Lt,(()=>{switch(Yt){case"null":Kt.texImage2D(be,pt,vt,Vt,qt,It,Wt,Ot,Ft);break;case"typed-array":Kt.texImage2D(be,pt,vt,Vt,qt,It,Wt,Ot,Ft,Mt);break;case"buffer":Jt=(0,Pe.KQ)(Kt),Jt.bindBuffer(35052,Ft.handle||Ft),Jt.texImage2D(be,pt,vt,Vt,qt,It,Wt,Ot,Mt),Jt.bindBuffer(35052,null);break;case"browser-object":(0,Pe.D0)(Kt)?Kt.texImage2D(be,pt,vt,Vt,qt,It,Wt,Ot,Ft):Kt.texImage2D(be,pt,vt,Wt,Ot,Ft);break;case"compressed":for(const[_e,Te]of Ft.entries())Kt.compressedTexImage2D(be,_e,Te.format,Te.width,Te.height,It,Te.data),Qt+=Te.levelSize;break;default:(0,Tt.h)(!1,"Unknown image data type")}})),"compressed"===Yt)this._trackAllocatedMemory(Qt,"Texture");else if(Ft&&Ft.byteLength)this._trackAllocatedMemory(Ft.byteLength,"Texture");else{const _e=xt.C[this.dataFormat]||4,be=xt.pH[this.type]||1;this._trackAllocatedMemory(this.width*this.height*_e*be,"Texture")}return this.loaded=!0,this}setSubImageData(_e){let{target:be=this.target,pixels:Te=null,data:pt=null,x:xt=0,y:It=0,width:Mt=this.width,height:Ft=this.height,level:Ot=0,format:Vt=this.format,type:qt=this.type,dataFormat:Wt=this.dataFormat,compressed:$t=!1,offset:Kt=0,border:Jt=this.border,parameters:Yt={}}=_e;if(({type:qt,dataFormat:Wt,compressed:$t,width:Mt,height:Ft}=this._deduceParameters({format:Vt,type:qt,dataFormat:Wt,compressed:$t,data:pt,width:Mt,height:Ft})),(0,Tt.h)(0===this.depth,"texSubImage not supported for 3D textures"),pt||(pt=Te),pt&&pt.data){const _e=pt;pt=_e.data,Mt=_e.shape[0],Ft=_e.shape[1]}pt instanceof vt.Z&&(pt=pt.handle),this.gl.bindTexture(this.target,this.handle),(0,Pe.s8)(this.gl,Yt,(()=>{if($t)this.gl.compressedTexSubImage2D(be,Ot,xt,It,Mt,Ft,Vt,pt);else if(null===pt)this.gl.texSubImage2D(be,Ot,xt,It,Mt,Ft,Wt,qt,null);else if(ArrayBuffer.isView(pt))this.gl.texSubImage2D(be,Ot,xt,It,Mt,Ft,Wt,qt,pt,Kt);else if(pt instanceof Lt){const _e=(0,Pe.KQ)(this.gl);_e.bindBuffer(35052,pt),_e.texSubImage2D(be,Ot,xt,It,Mt,Ft,Wt,qt,Kt),_e.bindBuffer(35052,null)}else if((0,Pe.D0)(this.gl)){(0,Pe.KQ)(this.gl).texSubImage2D(be,Ot,xt,It,Mt,Ft,Wt,qt,pt)}else this.gl.texSubImage2D(be,Ot,xt,It,Wt,qt,pt)})),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return Pe.cM.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:be}=this;return void 0!==_e&&(this.textureUnit=_e,be.activeTexture(33984+_e)),be.bindTexture(this.target,this.handle),_e}unbind(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:be}=this;return void 0!==_e&&(this.textureUnit=_e,be.activeTexture(33984+_e)),be.bindTexture(this.target,null),_e}_getDataType(_e){let{data:be,compressed:Te=!1}=_e;return Te?{data:be,dataType:"compressed"}:null===be?{data:be,dataType:"null"}:ArrayBuffer.isView(be)?{data:be,dataType:"typed-array"}:be instanceof vt.Z?{data:be.handle,dataType:"buffer"}:be instanceof Lt?{data:be,dataType:"buffer"}:{data:be,dataType:"browser-object"}}_deduceParameters(_e){const{format:be,data:Te}=_e;let{width:Pe,height:pt,dataFormat:vt,type:Tt,compressed:It}=_e;const Mt=xt.ae[be];return vt=vt||Mt&&Mt.dataFormat,Tt=Tt||Mt&&Mt.types[0],It=It||Mt&&Mt.compressed,({width:Pe,height:pt}=this._deduceImageSize(Te,Pe,pt)),{dataFormat:vt,type:Tt,compressed:It,width:Pe,height:pt,format:be,data:Te}}_deduceImageSize(_e,be,Te){let Pe;return Pe="undefined"!=typeof ImageData&&_e instanceof ImageData?{width:_e.width,height:_e.height}:"undefined"!=typeof HTMLImageElement&&_e instanceof HTMLImageElement?{width:_e.naturalWidth,height:_e.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&_e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&_e instanceof ImageBitmap?{width:_e.width,height:_e.height}:"undefined"!=typeof HTMLVideoElement&&_e instanceof HTMLVideoElement?{width:_e.videoWidth,height:_e.videoHeight}:_e?{width:be,height:Te}:{width:be>=0?be:1,height:Te>=0?Te:1},(0,Tt.h)(Pe,"Could not deduced texture size"),(0,Tt.h)(void 0===be||Pe.width===be,"Deduced texture width does not match supplied width"),(0,Tt.h)(void 0===Te||Pe.height===Te,"Deduced texture height does not match supplied height"),Pe}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(_e){switch(_e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const be=this.gl.getTexParameter(this.target,_e);return this.gl.bindTexture(this.target,null),be}}_setParameter(_e,be){switch(this.gl.bindTexture(this.target,this.handle),be=this._getNPOTParam(_e,be),_e){case 33082:case 33083:this.gl.texParameterf(this.handle,_e,be);break;case 4096:case 4097:(0,Tt.h)(!1);break;default:this.gl.texParameteri(this.target,_e,be)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!(0,Pe.D0)(this.gl)&&(!(!this.width||!this.height)&&(!(0,It.wt)(this.width)||!(0,It.wt)(this.height)))}_updateForNPOT(_e){void 0===_e[this.gl.TEXTURE_MIN_FILTER]&&(_e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===_e[this.gl.TEXTURE_WRAP_S]&&(_e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===_e[this.gl.TEXTURE_WRAP_T]&&(_e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(_e,be){if(this._isNPOT())switch(_e){case 10241:-1===Mt.indexOf(be)&&(be=9729);break;case 10242:case 10243:33071!==be&&(be=33071)}return be}}},44211:function(_e,be,Te){"use strict";Te.d(be,{N$:function(){return getFeatures},U6:function(){return hasFeature},ag:function(){return hasFeatures}});var Pe=Te(6948),pt=Te(39450),vt=Te(23121);function hasFeature(_e,be){return hasFeatures(_e,be)}function hasFeatures(_e,be){return(be=Array.isArray(be)?be:[be]).every((be=>isFeatureSupported(_e,be)))}function getFeatures(_e){_e.luma=_e.luma||{},_e.luma.caps=_e.luma.caps||{};for(const be in Pe.Z)void 0===_e.luma.caps[be]&&(_e.luma.caps[be]=isFeatureSupported(_e,be));return _e.luma.caps}function isFeatureSupported(_e,be){return _e.luma=_e.luma||{},_e.luma.caps=_e.luma.caps||{},void 0===_e.luma.caps[be]&&(_e.luma.caps[be]=queryFeature(_e,be)),_e.luma.caps[be]||pt.cM.log(2,"Feature: ".concat(be," not supported"))(),_e.luma.caps[be]}function queryFeature(_e,be){const Te=Pe.Z[be];let xt;(0,vt.h)(Te,be);const Tt=(0,pt.D0)(_e)&&Te[1]||Te[0];if("function"==typeof Tt)xt=Tt(_e);else if(Array.isArray(Tt)){xt=!0;for(const be of Tt)xt=xt&&Boolean(_e.getExtension(be))}else"string"==typeof Tt?xt=Boolean(_e.getExtension(Tt)):"boolean"==typeof Tt?xt=Tt:(0,vt.h)(!1);return xt}},6948:function(_e,be,Te){"use strict";Te.d(be,{h:function(){return vt}});var Pe=Te(53849),pt=Te(4912);const vt={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};be.Z={[vt.WEBGL2]:[!1,!0],[vt.VERTEX_ARRAY_OBJECT]:["OES_vertex_array_object",!0],[vt.TIMER_QUERY]:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],[vt.INSTANCED_RENDERING]:["ANGLE_instanced_arrays",!0],[vt.MULTIPLE_RENDER_TARGETS]:["WEBGL_draw_buffers",!0],[vt.ELEMENT_INDEX_UINT32]:["OES_element_index_uint",!0],[vt.BLEND_EQUATION_MINMAX]:["EXT_blend_minmax",!0],[vt.FLOAT_BLEND]:["EXT_float_blend"],[vt.COLOR_ENCODING_SRGB]:["EXT_sRGB",!0],[vt.TEXTURE_DEPTH]:["WEBGL_depth_texture",!0],[vt.TEXTURE_FLOAT]:["OES_texture_float",!0],[vt.TEXTURE_HALF_FLOAT]:["OES_texture_half_float",!0],[vt.TEXTURE_FILTER_LINEAR_FLOAT]:["OES_texture_float_linear"],[vt.TEXTURE_FILTER_LINEAR_HALF_FLOAT]:["OES_texture_half_float_linear"],[vt.TEXTURE_FILTER_ANISOTROPIC]:["EXT_texture_filter_anisotropic"],[vt.COLOR_ATTACHMENT_RGBA32F]:[function checkFloat32ColorAttachment(_e){const be=new pt.Z(_e,{format:6408,type:5126,dataFormat:6408}),Te=new Pe.Z(_e,{id:"test-framebuffer",check:!1,attachments:{36064:be}}),vt=Te.getStatus();return be.delete(),Te.delete(),36053===vt},"EXT_color_buffer_float"],[vt.COLOR_ATTACHMENT_FLOAT]:[!1,"EXT_color_buffer_float"],[vt.COLOR_ATTACHMENT_HALF_FLOAT]:["EXT_color_buffer_half_float"],[vt.GLSL_FRAG_DATA]:["WEBGL_draw_buffers",!0],[vt.GLSL_FRAG_DEPTH]:["EXT_frag_depth",!0],[vt.GLSL_DERIVATIVES]:["OES_standard_derivatives",!0],[vt.GLSL_TEXTURE_LOD]:["EXT_shader_texture_lod",!0]}},49835:function(_e,be,Te){"use strict";Te.d(be,{Zj:function(){return Tt},lR:function(){return It}});var Pe=Te(39450),pt=Te(58295),vt=Te(93370);const xt="8.5.16";class Tt{constructor(){this.stats=new Map}get(_e){return this.stats.has(_e)||this.stats.set(_e,new pt.Z({id:_e})),this.stats.get(_e)}}const It=new Tt;if(globalThis.luma&&globalThis.luma.VERSION!==xt)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(xt));globalThis.luma||((0,vt.Z)()&&Pe.cM.log(1,"luma.gl ".concat(xt," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:xt,version:xt,log:Pe.cM,stats:It,globals:{modules:{},nodeIO:{}}});globalThis.luma},23121:function(_e,be,Te){"use strict";function assert(_e,be){if(!_e)throw new Error(be||"luma.gl: assertion failed.")}Te.d(be,{h:function(){return assert}})},82610:function(_e,be,Te){"use strict";Te.d(be,{k:function(){return checkProps}});var Pe=Te(39450);function checkProps(_e,be,Te){const{removedProps:pt={},deprecatedProps:vt={},replacedProps:xt={}}=Te;for(const Te in pt)if(Te in be){const be=pt[Te]?"".concat(_e,".").concat(pt[Te]):"N/A";Pe.cM.removed("".concat(_e,".").concat(Te),be)()}for(const Te in vt)if(Te in be){const be=vt[Te];Pe.cM.deprecated("".concat(_e,".").concat(Te),"".concat(_e,".").concat(be))()}let Tt=null;for(const Te in xt)if(Te in be){const pt=xt[Te];Pe.cM.deprecated("".concat(_e,".").concat(Te),"".concat(_e,".").concat(pt))(),Tt=Tt||Object.assign({},be),Tt[pt]=be[Te],delete Tt[Te]}return Tt||be}},37469:function(_e,be,Te){"use strict";Te.d(be,{F:function(){return stubRemovedMethods}});var Pe=Te(39450);function stubRemovedMethods(_e,be,Te,pt){const vt="See luma.gl ".concat(Te," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),xt=Object.getPrototypeOf(_e);pt.forEach((_e=>{xt.methodName||(xt[_e]=()=>{throw Pe.cM.removed("Calling removed method ".concat(be,".").concat(_e,": "),vt)(),new Error(_e)})}))}},74538:function(_e,be,Te){"use strict";Te.d(be,{hQ:function(){return uid},nK:function(){return isObjectEmpty},wt:function(){return isPowerOfTwo}});var Pe=Te(23121);const pt={};function uid(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";pt[_e]=pt[_e]||1;const be=pt[_e]++;return"".concat(_e,"-").concat(be)}function isPowerOfTwo(_e){return(0,Pe.h)("number"==typeof _e,"Input must be a number"),_e&&0==(_e&_e-1)}function isObjectEmpty(_e){let be=!0;for(const Te in _e){be=!1;break}return be}},38522:function(_e,be,Te){"use strict";Te.d(be,{$Z:function(){return getPrimitiveDrawMode},hJ:function(){return decomposeCompositeGLType},jG:function(){return getCompositeGLType}});var Pe=Te(23121);const pt=5126,vt=5124,xt=5125,Tt={[pt]:[pt,1,"float"],35664:[pt,2,"vec2"],35665:[pt,3,"vec3"],35666:[pt,4,"vec4"],[vt]:[vt,1,"int"],35667:[vt,2,"ivec2"],35668:[vt,3,"ivec3"],35669:[vt,4,"ivec4"],[xt]:[xt,1,"uint"],36294:[xt,2,"uvec2"],36295:[xt,3,"uvec3"],36296:[xt,4,"uvec4"],35670:[pt,1,"bool"],35671:[pt,2,"bvec2"],35672:[pt,3,"bvec3"],35673:[pt,4,"bvec4"],35674:[pt,8,"mat2"],35685:[pt,8,"mat2x3"],35686:[pt,8,"mat2x4"],35675:[pt,12,"mat3"],35687:[pt,12,"mat3x2"],35688:[pt,12,"mat3x4"],35676:[pt,16,"mat4"],35689:[pt,16,"mat4x2"],35690:[pt,16,"mat4x3"]};function getPrimitiveDrawMode(_e){switch(_e){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return(0,Pe.h)(!1),0}}function decomposeCompositeGLType(_e){const be=Tt[_e];if(!be)return null;const[Te,Pe]=be;return{type:Te,components:Pe}}function getCompositeGLType(_e,be){switch(_e){case 5120:case 5121:case 5122:case 5123:_e=pt}for(const Te in Tt){const[Pe,pt,vt]=Tt[Te];if(Pe===_e&&pt===be)return{glType:Te,name:vt}}return null}},79579:function(_e,be,Te){"use strict";Te.d(be,{km:function(){return getKey},sF:function(){return getKeyValue}});var Pe=Te(23121);function getKeyValue(_e,be){if("string"!=typeof be)return be;const Te=Number(be);if(!isNaN(Te))return Te;const pt=_e[be=be.replace(/^.*\./,"")];return(0,Pe.h)(void 0!==pt,"Accessing undefined constant GL.".concat(be)),pt}function getKey(_e,be){be=Number(be);for(const Te in _e)if(_e[Te]===be)return"GL.".concat(Te);return String(be)}},95432:function(_e,be,Te){"use strict";Te.d(be,{h:function(){return cloneTextureFrom},Y:function(){return toFramebuffer}});var Pe=Te(4912),pt=Te(39450),vt=Te(35008);const xt=[34069,34070,34071,34072,34073,34074];class Tt extends vt.Z{get[Symbol.toStringTag](){return"TextureCube"}constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,pt.JD)(_e),super(_e,Object.assign({},be,{target:34067})),this.initialize(be),Object.seal(this)}initialize(){let _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mipmaps:be=!0,parameters:Te={}}=_e;return this.opts=_e,this.setCubeMapImageData(_e).then((()=>{this.loaded=!0,be&&this.generateMipmap(_e),this.setParameters(Te)})),this}subImage(_e){let{face:be,data:Te,x:Pe=0,y:pt=0,mipmapLevel:vt=0}=_e;return this._subImage({target:be,data:Te,x:Pe,y:pt,mipmapLevel:vt})}async setCubeMapImageData(_e){let{width:be,height:Te,pixels:Pe,data:vt,border:Tt=0,format:It=6408,type:Mt=5121}=_e;const{gl:Lt}=this,Ft=Pe||vt,Ot=await Promise.all(xt.map((_e=>{const be=Ft[_e];return Promise.all(Array.isArray(be)?be:[be])})));this.bind(),xt.forEach(((_e,Pe)=>{Ot[Pe].length>1&&!1!==this.opts.mipmaps&&pt.cM.warn("".concat(this.id," has mipmap and multiple LODs."))(),Ot[Pe].forEach(((Pe,pt)=>{be&&Te?Lt.texImage2D(_e,pt,It,be,Te,Tt,It,Mt,Pe):Lt.texImage2D(_e,pt,It,It,Mt,Pe)}))})),this.unbind()}setImageDataForFace(_e){const{face:be,width:Te,height:Pe,pixels:pt,data:vt,border:xt=0,format:Tt=6408,type:It=5121}=_e,{gl:Mt}=this,Lt=pt||vt;return this.bind(),Lt instanceof Promise?Lt.then((Te=>this.setImageDataForFace(Object.assign({},_e,{face:be,data:Te,pixels:Te})))):this.width||this.height?Mt.texImage2D(be,0,Tt,Te,Pe,xt,Tt,It,Lt):Mt.texImage2D(be,0,Tt,Tt,It,Lt),this}}Tt.FACES=xt;var It=Te(33889),Mt=Te(53478);class Lt extends vt.Z{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(_e){return(0,pt.D0)(_e)}constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,pt.KQ)(_e),be=Object.assign({depth:1},be,{target:32879,unpackFlipY:!1}),super(_e,be),this.initialize(be),Object.seal(this)}setImageData(_e){let{level:be=0,dataFormat:Te=6408,width:Pe,height:vt,depth:xt=1,border:Tt=0,format:Lt,type:Ft=5121,offset:Ot=0,data:Vt,parameters:qt={}}=_e;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),(0,pt.s8)(this.gl,qt,(()=>{ArrayBuffer.isView(Vt)&&this.gl.texImage3D(this.target,be,Te,Pe,vt,xt,Tt,Lt,Ft,Vt),Vt instanceof Mt.Z&&(this.gl.bindBuffer(35052,Vt.handle),this.gl.texImage3D(this.target,be,Te,Pe,vt,xt,Tt,Lt,Ft,Ot))})),Vt&&Vt.byteLength)this._trackAllocatedMemory(Vt.byteLength,"Texture");else{const _e=It.C[this.dataFormat]||4,be=It.pH[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*_e*be,"Texture")}return this.loaded=!0,this}}var Ft=Te(53849),Ot=Te(23121);function cloneTextureFrom(_e,be){(0,Ot.h)(_e instanceof Pe.Z||_e instanceof Tt||_e instanceof Lt);const Te=_e.constructor,{gl:pt,width:vt,height:xt,format:It,type:Mt,dataFormat:Ft,border:Vt,mipmaps:qt}=_e;return new Te(pt,Object.assign({width:vt,height:xt,format:It,type:Mt,dataFormat:Ft,border:Vt,mipmaps:qt},be))}function toFramebuffer(_e,be){const{gl:Te,width:Pe,height:pt,id:vt}=_e;return new Ft.Z(Te,Object.assign({},be,{id:"framebuffer-for-".concat(vt),width:Pe,height:pt,attachments:{36064:_e}}))}},9335:function(_e,be,Te){"use strict";Te.d(be,{KS:function(){return scalePixels},O:function(){return getGLTypeFromTypedArray},c$:function(){return flipRows},vN:function(){return getTypedArrayFromGLType}});function getGLTypeFromTypedArray(_e){switch(ArrayBuffer.isView(_e)?_e.constructor:_e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}function getTypedArrayFromGLType(_e){let{clamped:be=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(_e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return be?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function flipRows(_e){let{data:be,width:Te,height:Pe,bytesPerPixel:pt=4,temp:vt}=_e;const xt=Te*pt;vt=vt||new Uint8Array(xt);for(let _e=0;_e<Pe/2;++_e){const Te=_e*xt,pt=(Pe-_e-1)*xt;vt.set(be.subarray(Te,Te+xt)),be.copyWithin(Te,pt,pt+xt),be.set(vt,pt)}}function scalePixels(_e){let{data:be,width:Te,height:Pe}=_e;const pt=Math.round(Te/2),vt=Math.round(Pe/2),xt=new Uint8Array(pt*vt*4);for(let _e=0;_e<vt;_e++)for(let Pe=0;Pe<pt;Pe++)for(let vt=0;vt<4;vt++)xt[4*(_e*pt+Pe)+vt]=be[4*(2*_e*Te+2*Pe)+vt];return{data:xt,width:pt,height:vt}}},29167:function(_e){function MapboxLanguage(_e){if(_e=Object.assign({},_e),!(this instanceof MapboxLanguage))throw new Error("MapboxLanguage needs to be called with the new keyword");this.setLanguage=this.setLanguage.bind(this),this._initialStyleUpdate=this._initialStyleUpdate.bind(this),this._defaultLanguage=_e.defaultLanguage,this._isLanguageField=_e.languageField||/^\{name/,this._getLanguageField=_e.getLanguageField||function nameField(_e){return"mul"===_e?"{name}":"{name_"+_e+"}"},this._languageSource=_e.languageSource||null,this._languageTransform=_e.languageTransform||function(_e,be){return"ar"===be?noSpacing(_e):standardSpacing(_e)},this._excludedLayerIds=_e.excludedLayerIds||[],this.supportedLanguages=_e.supportedLanguages||["ar","en","es","fr","de","ja","ko","mul","pt","ru","zh"]}function standardSpacing(_e){var be=_e.layers.map((function(_e){if(!(_e.layout||{})["text-field"])return _e;var be=0;return"state_label"===_e["source-layer"]&&(be=.15),"marine_label"===_e["source-layer"]&&(/-lg/.test(_e.id)&&(be=.25),/-md/.test(_e.id)&&(be=.15),/-sm/.test(_e.id)&&(be=.1)),"place_label"===_e["source-layer"]&&(/-suburb/.test(_e.id)&&(be=.15),/-neighbour/.test(_e.id)&&(be=.1),/-islet/.test(_e.id)&&(be=.01)),"airport_label"===_e["source-layer"]&&(be=.01),"rail_station_label"===_e["source-layer"]&&(be=.01),"poi_label"===_e["source-layer"]&&/-scalerank/.test(_e.id)&&(be=.01),"road_label"===_e["source-layer"]&&(/-label-/.test(_e.id)&&(be=.01),/-shields/.test(_e.id)&&(be=.05)),Object.assign({},_e,{layout:Object.assign({},_e.layout,{"text-letter-spacing":be})})}));return Object.assign({},_e,{layers:be})}function noSpacing(_e){var be=_e.layers.map((function(_e){if(!(_e.layout||{})["text-field"])return _e;return Object.assign({},_e,{layout:Object.assign({},_e.layout,{"text-letter-spacing":0})})}));return Object.assign({},_e,{layers:be})}function isNameStringField(_e,be){return"string"==typeof be&&_e.test(be)}function isNameFunctionField(_e,be){return be.stops&&be.stops.filter((function(be){return _e.test(be[1])})).length>0}function adaptPropertyLanguage(_e,be,Te){if(isNameStringField(_e,be))return Te;if(isNameFunctionField(_e,be)){var Pe=be.stops.map((function(be){return _e.test(be[1])?[be[0],Te]:be}));return Object.assign({},be,{stops:Pe})}return be}function changeLayerTextProperty(_e,be,Te,Pe){return be.layout&&be.layout["text-field"]&&-1===Pe.indexOf(be.id)?Object.assign({},be,{layout:Object.assign({},be.layout,{"text-field":adaptPropertyLanguage(_e,be.layout["text-field"],Te)})}):be}function findStreetsSource(_e){return Object.keys(_e.sources).filter((function(be){var Te=_e.sources[be];return/mapbox-streets-v\d/.test(Te.url)}))[0]}function browserLanguage(_e){var be=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage,Te=be.split("-"),Pe=be;return Te.length>1&&(Pe=Te[0]),_e.indexOf(Pe)>-1?Pe:null}MapboxLanguage.prototype.setLanguage=function(_e,be){if(this.supportedLanguages.indexOf(be)<0)throw new Error("Language "+be+" is not supported");var Te=this._languageSource||findStreetsSource(_e);if(!Te)return _e;var Pe=this._getLanguageField(be),pt=this._isLanguageField,vt=this._excludedLayerIds,xt=_e.layers.map((function(_e){return _e.source===Te?changeLayerTextProperty(pt,_e,Pe,vt):_e})),Tt=Object.assign({},_e,{layers:xt});return this._languageTransform(Tt,be)},MapboxLanguage.prototype._initialStyleUpdate=function(){var _e=this._map.getStyle(),be=this._defaultLanguage||browserLanguage(this.supportedLanguages);this._map.off("styledata",this._initialStyleUpdate),this._map.setStyle(this.setLanguage(_e,be))},MapboxLanguage.prototype.onAdd=function(_e){return this._map=_e,this._map.on("styledata",this._initialStyleUpdate),this._container=document.createElement("div"),this._container},MapboxLanguage.prototype.onRemove=function(){this._map.off("styledata",this._initialStyleUpdate),this._map=void 0},void 0!==_e.exports?_e.exports=MapboxLanguage:(!function ie11Polyfill(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function assign(_e,be){"use strict";if(null===_e)throw new TypeError("Cannot convert undefined or null to object");for(var Te=Object(_e),Pe=1;Pe<arguments.length;Pe++){var pt=arguments[Pe];if(null!==pt)for(var vt in pt)Object.prototype.hasOwnProperty.call(pt,vt)&&(Te[vt]=pt[vt])}return Te},writable:!0,configurable:!0})}(),window.MapboxLanguage=MapboxLanguage)},99049:function(_e){var be=[{id:"traffic-street-link-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:15,filter:["all",["==","$type","LineString"],["all",["has","congestion"],["in","class","link","motorway_link","service","street"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[14,2.5],[20,15.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.5,stops:[[14,2],[20,18]]},"line-opacity":{base:1,stops:[[15,0],[16,1]]}}},{id:"traffic-secondary-tertiary-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["has","congestion"],["in","class","secondary","tertiary"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[9,1.5],[18,11],[20,16.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.5,stops:[[10,.5],[15,5],[18,11],[20,14.5]]},"line-opacity":{base:1,stops:[[13,0],[14,1]]}}},{id:"traffic-primary-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","class","primary"],["has","congestion"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[10,.75],[15,6],[20,18]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.2,stops:[[10,0],[12,1.5],[18,13],[20,16]]},"line-opacity":{base:1,stops:[[11,0],[12,1]]}}},{id:"traffic-trunk-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","class","trunk"],["has","congestion"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[8,.5],[9,2.25],[18,13],[20,17.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.5,stops:[[7,0],[9,1],[18,13],[20,18]]},"line-opacity":1}},{id:"traffic-motorway-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["has","congestion"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[6,.5],[9,3],[18,16],[20,20]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-opacity":1,"line-offset":{base:1.5,stops:[[7,0],[9,1.2],[11,1.2],[18,10],[20,15.5]]}}},{id:"traffic-primary",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-primary-bg",paint:{"line-width":{base:1.5,stops:[[10,1],[15,4],[20,16]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.2,stops:[[10,0],[12,1.5],[18,13],[20,16]]},"line-opacity":1}},{id:"traffic-secondary-tertiary",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-secondary-tertiary-bg",paint:{"line-width":{base:1.5,stops:[[9,.5],[18,9],[20,14]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.5,stops:[[10,.5],[15,5],[18,11],[20,14.5]]},"line-opacity":1}},{id:"traffic-street-link",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-street-link-bg",paint:{"line-width":{base:1.5,stops:[[14,1.5],[20,13.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.5,stops:[[14,2],[20,18]]},"line-opacity":1}},{id:"traffic-trunk",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-trunk-bg",paint:{"line-width":{base:1.5,stops:[[8,.75],[18,11],[20,15]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.5,stops:[[7,0],[9,1],[18,13],[20,18]]},"line-opacity":1}},{id:"traffic-motorway",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-motorway-bg",paint:{"line-width":{base:1.5,stops:[[6,.5],[9,1.5],[18,14],[20,18]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-opacity":1,"line-offset":{base:1.5,stops:[[7,0],[9,1.2],[11,1.2],[18,10],[20,15.5]]}}}];function addLayers(_e,be,Te){for(var Pe=0;Pe<_e.layers.length;Pe++){if(Te===_e.layers[Pe].id){var pt=_e.layers.slice(0,Pe).concat(be).concat(_e.layers.slice(Pe));return Object.assign({},_e,{layers:pt})}}return _e}function MapboxTraffic(_e){if(!(this instanceof MapboxTraffic))throw new Error("MapboxTraffic needs to be called with the new keyword");this.options=Object.assign({showTraffic:!1,showTrafficButton:!0,trafficSource:/mapbox-traffic-v\d/},_e),this.render=this.render.bind(this),this.toggleTraffic=this.toggleTraffic.bind(this),this._hideTraffic=this._hideTraffic.bind(this),this._showTraffic=this._showTraffic.bind(this),this._hasTraffic=this._hasTraffic.bind(this),this._toggle=new TrafficButton({show:this.options.showTrafficButton,onToggle:this.toggleTraffic.bind(this)})}function container(_e,be){var Te=document.createElement("div");return Te.className="mapboxgl-ctrl mapboxgl-ctrl-group",Te.appendChild(_e),be||(Te.style.display="none"),Te}function TrafficButton(_e){var be;_e=Object.assign({show:!0,onToggle:function(){}},_e),this._btn=((be=document.createElement("button")).className="mapboxgl-ctrl-icon mapboxgl-ctrl-traffic",be.type="button",be["aria-label"]="Inspect",be),this._btn.onclick=_e.onToggle,this.elem=container(this._btn,_e.show)}MapboxTraffic.prototype._hasTraffic=function(){var _e=this._map.getStyle(),be=this.options.trafficSource;return Object.keys(_e.sources).filter((function(_e){return be.test(_e)})).length>0},MapboxTraffic.prototype.toggleTraffic=function(){this.options.showTraffic=!this.options.showTraffic,this.render()},MapboxTraffic.prototype.render=function(){if(!this._hasTraffic()){this._map.addSource("mapbox://mapbox.mapbox-traffic-v1",{type:"vector",url:"mapbox://mapbox.mapbox-traffic-v1"});var _e=this._map.getStyle().layers.filter((function(_e){return"road"===_e["source-layer"]})),Te=_e[_e.length-1].id,Pe=addLayers(this._map.getStyle(),be,Te);this._map.setStyle(Pe)}this.options.showTraffic?(this._showTraffic(),this._toggle.setMapIcon()):(this._hideTraffic(),this._toggle.setTrafficIcon())},MapboxTraffic.prototype._hideTraffic=function(){var _e=this._map.getStyle(),be=this.options.trafficSource;_e.layers.forEach((function(_e){be.test(_e.source)&&(_e.layout=_e.layout||{},_e.layout.visibility="none")})),this._map.setStyle(_e)},MapboxTraffic.prototype._showTraffic=function(){var _e=this._map.getStyle(),be=this.options.trafficSource;_e.layers.forEach((function(_e){be.test(_e.source)&&(_e.layout=_e.layout||{},_e.layout.visibility="visible")})),this._map.setStyle(_e)},MapboxTraffic.prototype.onAdd=function(_e){return this._map=_e,_e.on("load",this.render),this._toggle.elem},MapboxTraffic.prototype.onRemove=function(){this._map.off("load",this.render);var _e=this._toggle.elem;_e.parentNode.removeChild(_e),this._map=void 0},TrafficButton.prototype.setTrafficIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-traffic"},TrafficButton.prototype.setMapIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-map"},void 0!==_e.exports?_e.exports=MapboxTraffic:window.MapboxTraffic=MapboxTraffic},49296:function(_e){"use strict";_e.exports=TinySDF,_e.exports.default=TinySDF;var be=1e20;function TinySDF(_e,be,Te,Pe,pt,vt){this.fontSize=_e||24,this.buffer=void 0===be?3:be,this.cutoff=Pe||.25,this.fontFamily=pt||"sans-serif",this.fontWeight=vt||"normal",this.radius=Te||8;var xt=this.size=this.fontSize+2*this.buffer,Tt=xt+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=xt,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Tt*Tt),this.gridInner=new Float64Array(Tt*Tt),this.f=new Float64Array(Tt),this.z=new Float64Array(Tt+1),this.v=new Uint16Array(Tt),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(xt/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function prepareGrids(_e,Te,Pe,pt,vt,xt,Tt){xt.fill(be,0,Te*Pe),Tt.fill(0,0,Te*Pe);for(var It=(Te-pt)/2,Mt=0;Mt<vt;Mt++)for(var Lt=0;Lt<pt;Lt++){var Ft=(Mt+It)*Te+Lt+It,Ot=_e.data[4*(Mt*pt+Lt)+3]/255;if(1===Ot)xt[Ft]=0,Tt[Ft]=be;else if(0===Ot)xt[Ft]=be,Tt[Ft]=0;else{var Vt=Math.max(0,.5-Ot),qt=Math.max(0,Ot-.5);xt[Ft]=Vt*Vt,Tt[Ft]=qt*qt}}}function extractAlpha(_e,be,Te,Pe,pt,vt,xt){for(var Tt=0;Tt<be*Te;Tt++){var It=Math.sqrt(Pe[Tt])-Math.sqrt(pt[Tt]);_e[Tt]=Math.round(255-255*(It/vt+xt))}}function edt(_e,be,Te,Pe,pt,vt){for(var xt=0;xt<be;xt++)edt1d(_e,xt,be,Te,Pe,pt,vt);for(var Tt=0;Tt<Te;Tt++)edt1d(_e,Tt*be,1,be,Pe,pt,vt)}function edt1d(_e,Te,Pe,pt,vt,xt,Tt){var It,Mt,Lt,Ft;for(xt[0]=0,Tt[0]=-be,Tt[1]=be,It=0;It<pt;It++)vt[It]=_e[Te+It*Pe];for(It=1,Mt=0,Lt=0;It<pt;It++){do{Ft=xt[Mt],Lt=(vt[It]-vt[Ft]+It*It-Ft*Ft)/(It-Ft)/2}while(Lt<=Tt[Mt]&&--Mt>-1);xt[++Mt]=It,Tt[Mt]=Lt,Tt[Mt+1]=be}for(It=0,Mt=0;It<pt;It++){for(;Tt[Mt+1]<It;)Mt++;Ft=xt[Mt],_e[Te+It*Pe]=vt[Ft]+(It-Ft)*(It-Ft)}}TinySDF.prototype._draw=function(_e,be){var Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft=this.ctx.measureText(_e),Ot=Ft.width,Vt=2*this.buffer;be&&this.useMetrics?(xt=Math.floor(Ft.actualBoundingBoxAscent),Mt=this.buffer+Math.ceil(Ft.actualBoundingBoxAscent),Tt=this.buffer,It=this.buffer,Te=(Pe=Math.min(this.size,Math.ceil(Ft.actualBoundingBoxRight-Ft.actualBoundingBoxLeft)))+Vt,pt=(vt=Math.min(this.size-Tt,Math.ceil(Ft.actualBoundingBoxAscent+Ft.actualBoundingBoxDescent)))+Vt,this.ctx.textBaseline="alphabetic"):(Te=Pe=this.size,pt=vt=this.size,xt=19*this.fontSize/24,Tt=It=0,Mt=this.middle,this.ctx.textBaseline="middle"),Pe&&vt&&(this.ctx.clearRect(It,Tt,Pe,vt),this.ctx.fillText(_e,this.buffer,Mt),Lt=this.ctx.getImageData(It,Tt,Pe,vt));var qt=new Uint8ClampedArray(Te*pt);return prepareGrids(Lt,Te,pt,Pe,vt,this.gridOuter,this.gridInner),edt(this.gridOuter,Te,pt,this.f,this.v,this.z),edt(this.gridInner,Te,pt,this.f,this.v,this.z),extractAlpha(qt,Te,pt,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:qt,metrics:{width:Pe,height:vt,sdfWidth:Te,sdfHeight:pt,top:xt,left:0,advance:Ot}}},TinySDF.prototype.draw=function(_e){return this._draw(_e,!1).data},TinySDF.prototype.drawWithMetrics=function(_e){return this._draw(_e,!0)}},6357:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return pt}});var Pe=Te(14034);function _extendableBuiltin(_e){function ExtendableBuiltin(){var be=Reflect.construct(_e,Array.from(arguments));return Object.setPrototypeOf(be,Object.getPrototypeOf(this)),be}return ExtendableBuiltin.prototype=Object.create(_e.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(ExtendableBuiltin,_e):ExtendableBuiltin.__proto__=_e,ExtendableBuiltin}class pt extends(_extendableBuiltin(Array)){clone(){return(new this.constructor).copy(this)}fromArray(_e,be=0){for(let Te=0;Te<this.ELEMENTS;++Te)this[Te]=_e[Te+be];return this.check()}toArray(_e=[],be=0){for(let Te=0;Te<this.ELEMENTS;++Te)_e[be+Te]=this[Te];return _e}from(_e){return Array.isArray(_e)?this.copy(_e):this.fromObject(_e)}to(_e){return _e===this?this:(0,Pe.kJ)(_e)?this.toArray(_e):this.toObject(_e)}toTarget(_e){return _e?this.to(_e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Pe.vc)}formatString(_e){let be="";for(let Te=0;Te<this.ELEMENTS;++Te)be+=(Te>0?", ":"")+(0,Pe.Bw)(this[Te],_e);return"".concat(_e.printTypes?this.constructor.name:"","[").concat(be,"]")}equals(_e){if(!_e||this.length!==_e.length)return!1;for(let be=0;be<this.ELEMENTS;++be)if(!(0,Pe.fS)(this[be],_e[be]))return!1;return!0}exactEquals(_e){if(!_e||this.length!==_e.length)return!1;for(let be=0;be<this.ELEMENTS;++be)if(this[be]!==_e[be])return!1;return!0}negate(){for(let _e=0;_e<this.ELEMENTS;++_e)this[_e]=-this[_e];return this.check()}lerp(_e,be,Te){if(void 0===Te)return this.lerp(this,_e,be);for(let Pe=0;Pe<this.ELEMENTS;++Pe){const pt=_e[Pe];this[Pe]=pt+Te*(be[Pe]-pt)}return this.check()}min(_e){for(let be=0;be<this.ELEMENTS;++be)this[be]=Math.min(_e[be],this[be]);return this.check()}max(_e){for(let be=0;be<this.ELEMENTS;++be)this[be]=Math.max(_e[be],this[be]);return this.check()}clamp(_e,be){for(let Te=0;Te<this.ELEMENTS;++Te)this[Te]=Math.min(Math.max(this[Te],_e[Te]),be[Te]);return this.check()}add(..._e){for(const be of _e)for(let _e=0;_e<this.ELEMENTS;++_e)this[_e]+=be[_e];return this.check()}subtract(..._e){for(const be of _e)for(let _e=0;_e<this.ELEMENTS;++_e)this[_e]-=be[_e];return this.check()}scale(_e){if("number"==typeof _e)for(let be=0;be<this.ELEMENTS;++be)this[be]*=_e;else for(let be=0;be<this.ELEMENTS&&be<_e.length;++be)this[be]*=_e[be];return this.check()}multiplyByScalar(_e){for(let be=0;be<this.ELEMENTS;++be)this[be]*=_e;return this.check()}check(){if(Pe.vc.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let _e=this.length===this.ELEMENTS;for(let be=0;be<this.ELEMENTS;++be)_e=_e&&Number.isFinite(this[be]);return _e}sub(_e){return this.subtract(_e)}setScalar(_e){for(let be=0;be<this.ELEMENTS;++be)this[be]=_e;return this.check()}addScalar(_e){for(let be=0;be<this.ELEMENTS;++be)this[be]+=_e;return this.check()}subScalar(_e){return this.addScalar(-_e)}multiplyScalar(_e){for(let be=0;be<this.ELEMENTS;++be)this[be]*=_e;return this.check()}divideScalar(_e){return this.multiplyByScalar(1/_e)}clampScalar(_e,be){for(let Te=0;Te<this.ELEMENTS;++Te)this[Te]=Math.min(Math.max(this[Te],_e),be);return this.check()}get elements(){return this}}},37293:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Jt}});var Pe=Te(6357),pt=Te(86281),vt=Te(14034);class xt extends Pe.Z{toString(){let _e="[";if(vt.vc.printRowMajor){_e+="row-major:";for(let be=0;be<this.RANK;++be)for(let Te=0;Te<this.RANK;++Te)_e+=" ".concat(this[Te*this.RANK+be])}else{_e+="column-major:";for(let be=0;be<this.ELEMENTS;++be)_e+=" ".concat(this[be])}return _e+="]",_e}getElementIndex(_e,be){return be*this.RANK+_e}getElement(_e,be){return this[be*this.RANK+_e]}setElement(_e,be,Te){return this[be*this.RANK+_e]=(0,pt.u5)(Te),this}getColumn(_e,be=new Array(this.RANK).fill(-0)){const Te=_e*this.RANK;for(let _e=0;_e<this.RANK;++_e)be[_e]=this[Te+_e];return be}setColumn(_e,be){const Te=_e*this.RANK;for(let _e=0;_e<this.RANK;++_e)this[Te+_e]=be[_e];return this}}var Tt,It=Te(1031),Mt=Te(85975),Lt=Te(31437),Ft=Te(77160),Ot=Te(98333);!function(_e){_e[_e.COL0ROW0=0]="COL0ROW0",_e[_e.COL0ROW1=1]="COL0ROW1",_e[_e.COL0ROW2=2]="COL0ROW2",_e[_e.COL0ROW3=3]="COL0ROW3",_e[_e.COL1ROW0=4]="COL1ROW0",_e[_e.COL1ROW1=5]="COL1ROW1",_e[_e.COL1ROW2=6]="COL1ROW2",_e[_e.COL1ROW3=7]="COL1ROW3",_e[_e.COL2ROW0=8]="COL2ROW0",_e[_e.COL2ROW1=9]="COL2ROW1",_e[_e.COL2ROW2=10]="COL2ROW2",_e[_e.COL2ROW3=11]="COL2ROW3",_e[_e.COL3ROW0=12]="COL3ROW0",_e[_e.COL3ROW1=13]="COL3ROW1",_e[_e.COL3ROW2=14]="COL3ROW2",_e[_e.COL3ROW3=15]="COL3ROW3"}(Tt||(Tt={}));const Vt=45*Math.PI/180,qt=1,Wt=.1,$t=500,Kt=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Jt extends xt{static get IDENTITY(){return getIdentityMatrix()}static get ZERO(){return getZeroMatrix()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return Tt}constructor(_e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(_e)?this.copy(_e):this.identity()}copy(_e){return this[0]=_e[0],this[1]=_e[1],this[2]=_e[2],this[3]=_e[3],this[4]=_e[4],this[5]=_e[5],this[6]=_e[6],this[7]=_e[7],this[8]=_e[8],this[9]=_e[9],this[10]=_e[10],this[11]=_e[11],this[12]=_e[12],this[13]=_e[13],this[14]=_e[14],this[15]=_e[15],this.check()}set(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt){return this[0]=_e,this[1]=be,this[2]=Te,this[3]=Pe,this[4]=pt,this[5]=vt,this[6]=xt,this[7]=Tt,this[8]=It,this[9]=Mt,this[10]=Lt,this[11]=Ft,this[12]=Ot,this[13]=Vt,this[14]=qt,this[15]=Wt,this.check()}setRowMajor(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt){return this[0]=_e,this[1]=pt,this[2]=It,this[3]=Ot,this[4]=be,this[5]=vt,this[6]=Mt,this[7]=Vt,this[8]=Te,this[9]=xt,this[10]=Lt,this[11]=qt,this[12]=Pe,this[13]=Tt,this[14]=Ft,this[15]=Wt,this.check()}toRowMajor(_e){return _e[0]=this[0],_e[1]=this[4],_e[2]=this[8],_e[3]=this[12],_e[4]=this[1],_e[5]=this[5],_e[6]=this[9],_e[7]=this[13],_e[8]=this[2],_e[9]=this[6],_e[10]=this[10],_e[11]=this[14],_e[12]=this[3],_e[13]=this[7],_e[14]=this[11],_e[15]=this[15],_e}identity(){return this.copy(Kt)}fromObject(_e){return this.check()}fromQuaternion(_e){return Mt.en(this,_e),this.check()}frustum(_e){const{left:be,right:Te,bottom:Pe,top:pt,near:vt=Wt,far:xt=$t}=_e;return xt===1/0?computeInfinitePerspectiveOffCenter(this,be,Te,Pe,pt,vt):Mt.oy(this,be,Te,Pe,pt,vt,xt),this.check()}lookAt(_e){const{eye:be,center:Te=[0,0,0],up:Pe=[0,1,0]}=_e;return Mt.zB(this,be,Te,Pe),this.check()}ortho(_e){const{left:be,right:Te,bottom:Pe,top:pt,near:vt=Wt,far:xt=$t}=_e;return Mt.M5(this,be,Te,Pe,pt,vt,xt),this.check()}orthographic(_e){const{fovy:be=Vt,aspect:Te=qt,focalDistance:Pe=1,near:pt=Wt,far:vt=$t}=_e;checkRadians(be);const xt=be/2,Tt=Pe*Math.tan(xt),It=Tt*Te;return this.ortho({left:-It,right:It,bottom:-Tt,top:Tt,near:pt,far:vt})}perspective(_e){const{fovy:be=45*Math.PI/180,aspect:Te=1,near:Pe=.1,far:pt=500}=_e;return checkRadians(be),Mt.G3(this,be,Te,Pe,pt),this.check()}determinant(){return Mt.GH(this)}getScale(_e=[-0,-0,-0]){return _e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),_e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),_e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),_e}getTranslation(_e=[-0,-0,-0]){return _e[0]=this[12],_e[1]=this[13],_e[2]=this[14],_e}getRotation(_e,be){_e=_e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],be=be||[-0,-0,-0];const Te=this.getScale(be),Pe=1/Te[0],pt=1/Te[1],vt=1/Te[2];return _e[0]=this[0]*Pe,_e[1]=this[1]*pt,_e[2]=this[2]*vt,_e[3]=0,_e[4]=this[4]*Pe,_e[5]=this[5]*pt,_e[6]=this[6]*vt,_e[7]=0,_e[8]=this[8]*Pe,_e[9]=this[9]*pt,_e[10]=this[10]*vt,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e}getRotationMatrix3(_e,be){_e=_e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],be=be||[-0,-0,-0];const Te=this.getScale(be),Pe=1/Te[0],pt=1/Te[1],vt=1/Te[2];return _e[0]=this[0]*Pe,_e[1]=this[1]*pt,_e[2]=this[2]*vt,_e[3]=this[4]*Pe,_e[4]=this[5]*pt,_e[5]=this[6]*vt,_e[6]=this[8]*Pe,_e[7]=this[9]*pt,_e[8]=this[10]*vt,_e}transpose(){return Mt.p4(this,this),this.check()}invert(){return Mt.U_(this,this),this.check()}multiplyLeft(_e){return Mt.Jp(this,_e,this),this.check()}multiplyRight(_e){return Mt.Jp(this,this,_e),this.check()}rotateX(_e){return Mt.lM(this,this,_e),this.check()}rotateY(_e){return Mt.uD(this,this,_e),this.check()}rotateZ(_e){return Mt.jI(this,this,_e),this.check()}rotateXYZ(_e){return this.rotateX(_e[0]).rotateY(_e[1]).rotateZ(_e[2])}rotateAxis(_e,be){return Mt.U1(this,this,_e,be),this.check()}scale(_e){return Mt.bA(this,this,Array.isArray(_e)?_e:[_e,_e,_e]),this.check()}translate(_e){return Mt.Iu(this,this,_e),this.check()}transform(_e,be){return 4===_e.length?(be=Ot.fF(be||[-0,-0,-0,-0],_e,this),(0,pt.IL)(be,4),be):this.transformAsPoint(_e,be)}transformAsPoint(_e,be){const{length:Te}=_e;let Pe;switch(Te){case 2:Pe=Lt.fF(be||[-0,-0],_e,this);break;case 3:Pe=Ft.fF(be||[-0,-0,-0],_e,this);break;default:throw new Error("Illegal vector")}return(0,pt.IL)(Pe,_e.length),Pe}transformAsVector(_e,be){let Te;switch(_e.length){case 2:Te=(0,It.pb)(be||[-0,-0],_e,this);break;case 3:Te=(0,It.pL)(be||[-0,-0,-0],_e,this);break;default:throw new Error("Illegal vector")}return(0,pt.IL)(Te,_e.length),Te}transformPoint(_e,be){return this.transformAsPoint(_e,be)}transformVector(_e,be){return this.transformAsPoint(_e,be)}transformDirection(_e,be){return this.transformAsVector(_e,be)}makeRotationX(_e){return this.identity().rotateX(_e)}makeTranslation(_e,be,Te){return this.identity().translate([_e,be,Te])}}let Yt,Qt;function getZeroMatrix(){return Yt||(Yt=new Jt([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(Yt)),Yt}function getIdentityMatrix(){return Qt||(Qt=new Jt,Object.freeze(Qt)),Qt}function checkRadians(_e){if(_e>2*Math.PI)throw Error("expected radians")}function computeInfinitePerspectiveOffCenter(_e,be,Te,Pe,pt,vt){const xt=2*vt/(Te-be),Tt=2*vt/(pt-Pe),It=(Te+be)/(Te-be),Mt=(pt+Pe)/(pt-Pe),Lt=-2*vt;return _e[0]=xt,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=Tt,_e[6]=0,_e[7]=0,_e[8]=It,_e[9]=Mt,_e[10]=-1,_e[11]=-1,_e[12]=0,_e[13]=0,_e[14]=Lt,_e[15]=0,_e}},36280:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Ft}});var Pe=Te(6357),pt=Te(86281);function assert(_e,be){if(!_e)throw new Error("math.gl assertion ".concat(be))}class vt extends Pe.Z{get x(){return this[0]}set x(_e){this[0]=(0,pt.u5)(_e)}get y(){return this[1]}set y(_e){this[1]=(0,pt.u5)(_e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let _e=0;for(let be=0;be<this.ELEMENTS;++be)_e+=this[be]*this[be];return _e}magnitudeSquared(){return this.lengthSquared()}distance(_e){return Math.sqrt(this.distanceSquared(_e))}distanceSquared(_e){let be=0;for(let Te=0;Te<this.ELEMENTS;++Te){const Pe=this[Te]-_e[Te];be+=Pe*Pe}return(0,pt.u5)(be)}dot(_e){let be=0;for(let Te=0;Te<this.ELEMENTS;++Te)be+=this[Te]*_e[Te];return(0,pt.u5)(be)}normalize(){const _e=this.magnitude();if(0!==_e)for(let be=0;be<this.ELEMENTS;++be)this[be]/=_e;return this.check()}multiply(..._e){for(const be of _e)for(let _e=0;_e<this.ELEMENTS;++_e)this[_e]*=be[_e];return this.check()}divide(..._e){for(const be of _e)for(let _e=0;_e<this.ELEMENTS;++_e)this[_e]/=be[_e];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(_e){return this.distance(_e)}distanceToSquared(_e){return this.distanceSquared(_e)}getComponent(_e){return assert(_e>=0&&_e<this.ELEMENTS,"index is out of range"),(0,pt.u5)(this[_e])}setComponent(_e,be){return assert(_e>=0&&_e<this.ELEMENTS,"index is out of range"),this[_e]=be,this.check()}addVectors(_e,be){return this.copy(_e).add(be)}subVectors(_e,be){return this.copy(_e).subtract(be)}multiplyVectors(_e,be){return this.copy(_e).multiply(be)}addScaledVector(_e,be){return this.add(new this.constructor(_e).multiplyScalar(be))}}var xt=Te(14034),Tt=Te(77160),It=Te(1031);const Mt=[0,0,0];let Lt;class Ft extends vt{static get ZERO(){return Lt||(Lt=new Ft(0,0,0),Object.freeze(Lt)),Lt}constructor(_e=0,be=0,Te=0){super(-0,-0,-0),1===arguments.length&&(0,xt.kJ)(_e)?this.copy(_e):(xt.vc.debug&&((0,pt.u5)(_e),(0,pt.u5)(be),(0,pt.u5)(Te)),this[0]=_e,this[1]=be,this[2]=Te)}set(_e,be,Te){return this[0]=_e,this[1]=be,this[2]=Te,this.check()}copy(_e){return this[0]=_e[0],this[1]=_e[1],this[2]=_e[2],this.check()}fromObject(_e){return xt.vc.debug&&((0,pt.u5)(_e.x),(0,pt.u5)(_e.y),(0,pt.u5)(_e.z)),this[0]=_e.x,this[1]=_e.y,this[2]=_e.z,this.check()}toObject(_e){return _e.x=this[0],_e.y=this[1],_e.z=this[2],_e}get ELEMENTS(){return 3}get z(){return this[2]}set z(_e){this[2]=(0,pt.u5)(_e)}angle(_e){return Tt.EU(this,_e)}cross(_e){return Tt.kC(this,this,_e),this.check()}rotateX({radians:_e,origin:be=Mt}){return Tt.lM(this,this,be,_e),this.check()}rotateY({radians:_e,origin:be=Mt}){return Tt.uD(this,this,be,_e),this.check()}rotateZ({radians:_e,origin:be=Mt}){return Tt.jI(this,this,be,_e),this.check()}transform(_e){return this.transformAsPoint(_e)}transformAsPoint(_e){return Tt.fF(this,this,_e),this.check()}transformAsVector(_e){return(0,It.pL)(this,this,_e),this.check()}transformByMatrix3(_e){return Tt.kK(this,this,_e),this.check()}transformByMatrix2(_e){return(0,It.eQ)(this,this,_e),this.check()}transformByQuaternion(_e){return Tt.VC(this,this,_e),this.check()}}},14034:function(_e,be,Te){"use strict";Te.d(be,{Bw:function(){return formatValue},fS:function(){return equals},kJ:function(){return isArray},t7:function(){return lerp},uZ:function(){return clamp},vc:function(){return Pe}});Math.PI,Math.PI;const Pe={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function formatValue(_e,{precision:be=Pe.precision}={}){return _e=round(_e),"".concat(parseFloat(_e.toPrecision(be)))}function isArray(_e){return Array.isArray(_e)||ArrayBuffer.isView(_e)&&!(_e instanceof DataView)}function clamp(_e,be,Te){return map(_e,(_e=>Math.max(be,Math.min(Te,_e))))}function lerp(_e,be,Te){return isArray(_e)?_e.map(((_e,Pe)=>lerp(_e,be[Pe],Te))):Te*be+(1-Te)*_e}function equals(_e,be,Te){const pt=Pe.EPSILON;Te&&(Pe.EPSILON=Te);try{if(_e===be)return!0;if(isArray(_e)&&isArray(be)){if(_e.length!==be.length)return!1;for(let Te=0;Te<_e.length;++Te)if(!equals(_e[Te],be[Te]))return!1;return!0}return _e&&_e.equals?_e.equals(be):be&&be.equals?be.equals(_e):"number"==typeof _e&&"number"==typeof be&&Math.abs(_e-be)<=Pe.EPSILON*Math.max(1,Math.abs(_e),Math.abs(be))}finally{Pe.EPSILON=pt}}function round(_e){return Math.round(_e/Pe.EPSILON)*Pe.EPSILON}function duplicateArray(_e){return _e.clone?_e.clone():new Array(_e.length)}function map(_e,be,Te){if(isArray(_e)){const Pe=_e;Te=Te||duplicateArray(Pe);for(let pt=0;pt<Te.length&&pt<Pe.length;++pt)Te[pt]=be(_e[pt],pt,Te);return Te}return be(_e)}},1031:function(_e,be,Te){"use strict";function vec2_transformMat4AsVector(_e,be,Te){const Pe=be[0],pt=be[1],vt=Te[3]*Pe+Te[7]*pt||1;return _e[0]=(Te[0]*Pe+Te[4]*pt)/vt,_e[1]=(Te[1]*Pe+Te[5]*pt)/vt,_e}function vec3_transformMat4AsVector(_e,be,Te){const Pe=be[0],pt=be[1],vt=be[2],xt=Te[3]*Pe+Te[7]*pt+Te[11]*vt||1;return _e[0]=(Te[0]*Pe+Te[4]*pt+Te[8]*vt)/xt,_e[1]=(Te[1]*Pe+Te[5]*pt+Te[9]*vt)/xt,_e[2]=(Te[2]*Pe+Te[6]*pt+Te[10]*vt)/xt,_e}function vec3_transformMat2(_e,be,Te){const Pe=be[0],pt=be[1];return _e[0]=Te[0]*Pe+Te[2]*pt,_e[1]=Te[1]*Pe+Te[3]*pt,_e[2]=be[2],_e}Te.d(be,{eQ:function(){return vec3_transformMat2},pL:function(){return vec3_transformMat4AsVector},pb:function(){return vec2_transformMat4AsVector}})},86281:function(_e,be,Te){"use strict";Te.d(be,{IL:function(){return checkVector},u5:function(){return checkNumber}});var Pe=Te(14034);function validateVector(_e,be){if(_e.length!==be)return!1;for(let be=0;be<_e.length;++be)if(!Number.isFinite(_e[be]))return!1;return!0}function checkNumber(_e){if(!Number.isFinite(_e))throw new Error("Invalid number ".concat(_e));return _e}function checkVector(_e,be,Te=""){if(Pe.vc.debug&&!validateVector(_e,be))throw new Error("math.gl: ".concat(Te," some fields set to invalid numbers'"));return _e}},17013:function(_e,be,Te){"use strict";Te.d(be,{eG:function(){return addMetersToLngLat},Lu:function(){return web_mercator_utils_altitudeToFovy},Xg:function(){return fit_bounds_fitBounds},sj:function(){return web_mercator_utils_fovyToAltitude},zX:function(){return get_bounds_getBounds},ro:function(){return web_mercator_utils_getDistanceScales},Bf:function(){return getMeterZoom},wl:function(){return getProjectionParameters},lf:function(){return web_mercator_utils_getViewMatrix},w5:function(){return web_mercator_utils_lngLatToWorld},QA:function(){return normalizeViewportProps},CT:function(){return web_mercator_utils_pixelsToWorld},es:function(){return web_mercator_utils_worldToLngLat},aW:function(){return web_mercator_utils_worldToPixels}});var Pe=Te(98333);function transformVector(_e,be){const Te=(0,Pe.fF)([],be,_e);return(0,Pe.bA)(Te,Te,1/Te[3]),Te}function mod(_e,be){const Te=_e%be;return Te<0?be+Te:Te}function clamp(_e,be,Te){return _e<be?be:_e>Te?Te:_e}const pt=Math.log2||function ieLog2(_e){return Math.log(_e)*Math.LOG2E};var vt=Te(85975),xt=Te(31437),Tt=Te(77160);function assert(_e,be){if(!_e)throw new Error(be||"@math.gl/web-mercator: assertion failed.")}const It=Math.PI,Mt=It/4,Lt=It/180,Ft=180/It,Ot=512,Vt=4003e4,qt=85.051129,Wt=1.5;function web_mercator_utils_lngLatToWorld(_e){const[be,Te]=_e;assert(Number.isFinite(be)),assert(Number.isFinite(Te)&&Te>=-90&&Te<=90,"invalid latitude");const Pe=Te*Lt;return[Ot*(be*Lt+It)/(2*It),Ot*(It+Math.log(Math.tan(Mt+.5*Pe)))/(2*It)]}function web_mercator_utils_worldToLngLat(_e){const[be,Te]=_e,Pe=be/Ot*(2*It)-It,pt=2*(Math.atan(Math.exp(Te/Ot*(2*It)-It))-Mt);return[Pe*Ft,pt*Ft]}function getMeterZoom(_e){const{latitude:be}=_e;assert(Number.isFinite(be));const Te=Math.cos(be*Lt);return pt(Vt*Te)-9}function web_mercator_utils_getDistanceScales(_e){const{latitude:be,longitude:Te,highPrecision:Pe=!1}=_e;assert(Number.isFinite(be)&&Number.isFinite(Te));const pt=Math.cos(be*Lt),vt=512/360,xt=vt/pt,Tt=12790407194604047e-21/pt,It={unitsPerMeter:[Tt,Tt,Tt],metersPerUnit:[1/Tt,1/Tt,1/Tt],unitsPerDegree:[vt,xt,Tt],degreesPerUnit:[.703125,1/xt,1/Tt]};if(Pe){const _e=Lt*Math.tan(be*Lt)/pt,Te=vt*_e/2,Pe=12790407194604047e-21*_e,Mt=Pe/xt*Tt;It.unitsPerDegree2=[0,Te,Pe],It.unitsPerMeter2=[Mt,0,Mt]}return It}function addMetersToLngLat(_e,be){const[Te,Pe,pt]=_e,[vt,xt,Tt]=be,{unitsPerMeter:It,unitsPerMeter2:Mt}=web_mercator_utils_getDistanceScales({longitude:Te,latitude:Pe,highPrecision:!0}),Lt=web_mercator_utils_lngLatToWorld(_e);Lt[0]+=vt*(It[0]+Mt[0]*xt),Lt[1]+=xt*(It[1]+Mt[1]*xt);const Ft=web_mercator_utils_worldToLngLat(Lt),Ot=(pt||0)+(Tt||0);return Number.isFinite(pt)||Number.isFinite(Tt)?[Ft[0],Ft[1],Ot]:Ft}function web_mercator_utils_getViewMatrix(_e){const{height:be,pitch:Te,bearing:Pe,altitude:pt,scale:xt,center:It}=_e,Mt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];vt.Iu(Mt,Mt,[0,0,-pt]),vt.lM(Mt,Mt,-Te*Lt),vt.jI(Mt,Mt,Pe*Lt);const Ft=xt/be;return vt.bA(Mt,Mt,[Ft,Ft,Ft]),It&&vt.Iu(Mt,Mt,Tt.tk([],It)),Mt}function getProjectionParameters(_e){const{width:be,height:Te,altitude:Pe,pitch:pt=0,offset:vt,center:xt,scale:Tt,nearZMultiplier:It=1,farZMultiplier:Mt=1}=_e;let{fovy:Ft=web_mercator_utils_altitudeToFovy(Wt)}=_e;void 0!==Pe&&(Ft=web_mercator_utils_altitudeToFovy(Pe));const Ot=Ft*Lt,Vt=pt*Lt,qt=web_mercator_utils_fovyToAltitude(Ft);let $t=qt;xt&&($t+=xt[2]*Tt/Math.cos(Vt)/Te);const Kt=Ot*(.5+(vt?vt[1]:0)/Te),Jt=Math.sin(Kt)*$t/Math.sin(clamp(Math.PI/2-Vt-Kt,.01,Math.PI-.01)),Yt=Math.sin(Vt)*Jt+$t,Qt=10*$t;return{fov:Ot,aspect:be/Te,focalDistance:qt,near:It,far:Math.min(Yt*Mt,Qt)}}function web_mercator_utils_altitudeToFovy(_e){return 2*Math.atan(.5/_e)*Ft}function web_mercator_utils_fovyToAltitude(_e){return.5/Math.tan(.5*_e*Lt)}function web_mercator_utils_worldToPixels(_e,be){const[Te,Pe,pt=0]=_e;return assert(Number.isFinite(Te)&&Number.isFinite(Pe)&&Number.isFinite(pt)),transformVector(be,[Te,Pe,pt,1])}function web_mercator_utils_pixelsToWorld(_e,be,Te=0){const[Pe,pt,vt]=_e;if(assert(Number.isFinite(Pe)&&Number.isFinite(pt),"invalid pixel coordinate"),Number.isFinite(vt)){return transformVector(be,[Pe,pt,vt,1])}const Tt=transformVector(be,[Pe,pt,0,1]),It=transformVector(be,[Pe,pt,1,1]),Mt=Tt[2],Lt=It[2],Ft=Mt===Lt?0:((Te||0)-Mt)/(Lt-Mt);return xt.t7([],Tt,It,Ft)}function fit_bounds_fitBounds(_e){const{width:be,height:Te,bounds:Pe,minExtent:vt=0,maxZoom:xt=24,offset:Tt=[0,0]}=_e,[[It,Mt],[Lt,Ft]]=Pe,Ot=getPaddingObject(_e.padding),Vt=web_mercator_utils_lngLatToWorld([It,clamp(Ft,-85.051129,qt)]),Wt=web_mercator_utils_lngLatToWorld([Lt,clamp(Mt,-85.051129,qt)]),$t=[Math.max(Math.abs(Wt[0]-Vt[0]),vt),Math.max(Math.abs(Wt[1]-Vt[1]),vt)],Kt=[be-Ot.left-Ot.right-2*Math.abs(Tt[0]),Te-Ot.top-Ot.bottom-2*Math.abs(Tt[1])];assert(Kt[0]>0&&Kt[1]>0);const Jt=Kt[0]/$t[0],Yt=Kt[1]/$t[1],Qt=(Ot.right-Ot.left)/2/Jt,an=(Ot.bottom-Ot.top)/2/Yt,cn=web_mercator_utils_worldToLngLat([(Wt[0]+Vt[0])/2+Qt,(Wt[1]+Vt[1])/2+an]),hn=Math.min(xt,pt(Math.abs(Math.min(Jt,Yt))));return assert(Number.isFinite(hn)),{longitude:cn[0],latitude:cn[1],zoom:hn}}function getPaddingObject(_e=0){return"number"==typeof _e?{top:_e,bottom:_e,left:_e,right:_e}:(assert(Number.isFinite(_e.top)&&Number.isFinite(_e.bottom)&&Number.isFinite(_e.left)&&Number.isFinite(_e.right)),_e)}const $t=Math.PI/180;function get_bounds_getBounds(_e,be=0){const{width:Te,height:Pe,unproject:pt}=_e,vt={targetZ:be},xt=pt([0,Pe],vt),Tt=pt([Te,Pe],vt);let It,Mt;return(_e.fovy?.5*_e.fovy*$t:Math.atan(.5/_e.altitude))>(90-_e.pitch)*$t-.01?(It=unprojectOnFarPlane(_e,0,be),Mt=unprojectOnFarPlane(_e,Te,be)):(It=pt([0,0],vt),Mt=pt([Te,0],vt)),[xt,Tt,Mt,It]}function unprojectOnFarPlane(_e,be,Te){const{pixelUnprojectionMatrix:Pe}=_e,pt=transformVector(Pe,[be,0,1,1]),vt=transformVector(Pe,[be,_e.height,1,1]),Tt=(Te*_e.distanceScales.unitsPerMeter[2]-pt[2])/(vt[2]-pt[2]),It=web_mercator_utils_worldToLngLat(xt.t7([],pt,vt,Tt));return It.push(Te),It}function normalizeViewportProps(_e){const{width:be,height:Te,pitch:Pe=0}=_e;let{longitude:vt,latitude:xt,zoom:Tt,bearing:It=0}=_e;(vt<-180||vt>180)&&(vt=mod(vt+180,360)-180),(It<-180||It>180)&&(It=mod(It+180,360)-180);const Mt=pt(Te/512);if(Tt<=Mt)Tt=Mt,xt=0;else{const _e=Te/2/Math.pow(2,Tt),be=web_mercator_utils_worldToLngLat([0,_e])[1];if(xt<be)xt=be;else{const be=web_mercator_utils_worldToLngLat([0,512-_e])[1];xt>be&&(xt=be)}}return{width:be,height:Te,longitude:vt,latitude:xt,zoom:Tt,pitch:Pe,bearing:It}}},3485:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return getBrowser}});var Pe=Te(93370),pt=Te(62363);const vt=globalThis;function getBrowser(_e){if(!_e&&!(0,Pe.Z)())return"Node";if((0,pt.Z)(_e))return"Electron";const be="undefined"!=typeof navigator?navigator:{},Te=_e||be.userAgent||"";if(Te.indexOf("Edge")>-1)return"Edge";const xt=-1!==Te.indexOf("MSIE "),Tt=-1!==Te.indexOf("Trident/");return xt||Tt?"IE":vt.chrome?"Chrome":vt.safari?"Safari":vt.mozInnerScreenX?"Firefox":"Unknown"}},93370:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return isBrowser}});var Pe=Te(62363);function isBrowser(){return!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||(0,Pe.Z)()}},62363:function(_e,be,Te){"use strict";function isElectron(_e){if("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof process&&"object"==typeof process.versions&&Boolean(process.versions.electron))return!0;const be="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,Te=_e||be;return!!(Te&&Te.indexOf("Electron")>=0)}Te.d(be,{Z:function(){return isElectron}})},59109:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Wt}});var Pe=Te(4942),pt=Te(93370);const vt="undefined"!=typeof __VERSION__?__VERSION__:"untranspiled source";(0,pt.Z)();function getStorage(_e){try{const be=window[_e],Te="__storage_test__";return be.setItem(Te,Te),be.removeItem(Te),be}catch(_e){return null}}class xt{constructor(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";(0,Pe.Z)(this,"storage",void 0),(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"config",{}),this.storage=getStorage(Te),this.id=_e,this.config={},Object.assign(this.config,be),this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(_e){return this.config={},this.updateConfiguration(_e)}updateConfiguration(_e){if(Object.assign(this.config,_e),this.storage){const _e=JSON.stringify(this.config);this.storage.setItem(this.id,_e)}return this}_loadConfiguration(){let _e={};if(this.storage){const be=this.storage.getItem(this.id);_e=be?JSON.parse(be):{}}return Object.assign(this.config,_e),this}}function formatTime(_e){let be;return be=_e<10?"".concat(_e.toFixed(2),"ms"):_e<100?"".concat(_e.toFixed(1),"ms"):_e<1e3?"".concat(_e.toFixed(0),"ms"):"".concat((_e/1e3).toFixed(2),"s"),be}function leftPad(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const Te=Math.max(be-_e.length,0);return"".concat(" ".repeat(Te)).concat(_e)}function formatImage(_e,be,Te){let Pe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const pt=_e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");_e.width>Pe&&(Te=Math.min(Te,Pe/_e.width));const vt=_e.width*Te,xt=_e.height*Te,Tt=["font-size:1px;","padding:".concat(Math.floor(xt/2),"px ").concat(Math.floor(vt/2),"px;"),"line-height:".concat(xt,"px;"),"background:url(".concat(pt,");"),"background-size:".concat(vt,"px ").concat(xt,"px;"),"color:transparent;"].join("");return["".concat(be," %c+"),Tt]}let Tt;function getColor(_e){return"string"==typeof _e?Tt[_e.toUpperCase()]||Tt.WHITE:_e}function autobind(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const Te=Object.getPrototypeOf(_e),Pe=Object.getOwnPropertyNames(Te);for(const Te of Pe)"function"==typeof _e[Te]&&(be.find((_e=>Te===_e))||(_e[Te]=_e[Te].bind(_e)))}function assert(_e,be){if(!_e)throw new Error(be||"Assertion failed")}!function(_e){_e[_e.BLACK=30]="BLACK",_e[_e.RED=31]="RED",_e[_e.GREEN=32]="GREEN",_e[_e.YELLOW=33]="YELLOW",_e[_e.BLUE=34]="BLUE",_e[_e.MAGENTA=35]="MAGENTA",_e[_e.CYAN=36]="CYAN",_e[_e.WHITE=37]="WHITE",_e[_e.BRIGHT_BLACK=90]="BRIGHT_BLACK",_e[_e.BRIGHT_RED=91]="BRIGHT_RED",_e[_e.BRIGHT_GREEN=92]="BRIGHT_GREEN",_e[_e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",_e[_e.BRIGHT_BLUE=94]="BRIGHT_BLUE",_e[_e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",_e[_e.BRIGHT_CYAN=96]="BRIGHT_CYAN",_e[_e.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(Tt||(Tt={}));const It={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==Te.g&&Te.g,document:"undefined"!=typeof document&&document,process:"object"==typeof process&&process},Mt=(globalThis,It.window||It.self||It.global),Lt=It.process||{};console;function getHiResTimestamp(){let _e;var be,Te;if(pt.Z&&"performance"in Mt)_e=null==Mt||null===(be=Mt.performance)||void 0===be||null===(Te=be.now)||void 0===Te?void 0:Te.call(be);else if("hrtime"in Lt){var Pe;const be=null==Lt||null===(Pe=Lt.hrtime)||void 0===Pe?void 0:Pe.call(Lt);_e=1e3*be[0]+be[1]/1e6}else _e=Date.now();return _e}const Ft={debug:pt.Z&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},Ot={enabled:!0,level:0};function noop(){}const Vt={},qt={once:!0};class Wt{constructor(){let{id:_e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"VERSION",vt),(0,Pe.Z)(this,"_startTs",getHiResTimestamp()),(0,Pe.Z)(this,"_deltaTs",getHiResTimestamp()),(0,Pe.Z)(this,"_storage",void 0),(0,Pe.Z)(this,"userData",{}),(0,Pe.Z)(this,"LOG_THROTTLE_TIMEOUT",0),this.id=_e,this._storage=new xt("__probe-".concat(this.id,"__"),Ot),this.userData={},this.timeStamp("".concat(this.id," started")),autobind(this),Object.seal(this)}set level(_e){this.setLevel(_e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((getHiResTimestamp()-this._startTs).toPrecision(10))}getDelta(){return Number((getHiResTimestamp()-this._deltaTs).toPrecision(10))}set priority(_e){this.level=_e}get priority(){return this.level}getPriority(){return this.level}enable(){let _e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:_e}),this}setLevel(_e){return this._storage.updateConfiguration({level:_e}),this}get(_e){return this._storage.config[_e]}set(_e,be){this._storage.updateConfiguration({[_e]:be})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(_e,be){assert(_e,be)}warn(_e){return this._getLogFunction(0,_e,Ft.warn,arguments,qt)}error(_e){return this._getLogFunction(0,_e,Ft.error,arguments)}deprecated(_e,be){return this.warn("`".concat(_e,"` is deprecated and will be removed in a later version. Use `").concat(be,"` instead"))}removed(_e,be){return this.error("`".concat(_e,"` has been removed. Use `").concat(be,"` instead"))}probe(_e,be){return this._getLogFunction(_e,be,Ft.log,arguments,{time:!0,once:!0})}log(_e,be){return this._getLogFunction(_e,be,Ft.debug,arguments)}info(_e,be){return this._getLogFunction(_e,be,console.info,arguments)}once(_e,be){for(var Te=arguments.length,Pe=new Array(Te>2?Te-2:0),pt=2;pt<Te;pt++)Pe[pt-2]=arguments[pt];return this._getLogFunction(_e,be,Ft.debug||Ft.info,arguments,qt)}table(_e,be,Te){return be?this._getLogFunction(_e,be,console.table||noop,Te&&[Te],{tag:getTableHeader(be)}):noop}image(_e){let{logLevel:be,priority:Te,image:Pe,message:vt="",scale:xt=1}=_e;return this._shouldLog(be||Te)?pt.Z?logImageInBrowser({image:Pe,message:vt,scale:xt}):logImageInNode({image:Pe,message:vt,scale:xt}):noop}time(_e,be){return this._getLogFunction(_e,be,console.time?console.time:console.info)}timeEnd(_e,be){return this._getLogFunction(_e,be,console.timeEnd?console.timeEnd:console.info)}timeStamp(_e,be){return this._getLogFunction(_e,be,console.timeStamp||noop)}group(_e,be){let Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const Pe=normalizeArguments({logLevel:_e,message:be,opts:Te}),{collapsed:pt}=Te;return Pe.method=(pt?console.groupCollapsed:console.group)||console.info,this._getLogFunction(Pe)}groupCollapsed(_e,be){let Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(_e,be,Object.assign({},Te,{collapsed:!0}))}groupEnd(_e){return this._getLogFunction(_e,"",console.groupEnd||noop)}withGroup(_e,be,Te){this.group(_e,be)();try{Te()}finally{this.groupEnd(_e)()}}trace(){console.trace&&console.trace()}_shouldLog(_e){return this.isEnabled()&&this.getLevel()>=normalizeLogLevel(_e)}_getLogFunction(_e,be,Te,Pe,pt){if(this._shouldLog(_e)){pt=normalizeArguments({logLevel:_e,message:be,args:Pe,opts:pt}),assert(Te=Te||pt.method),pt.total=this.getTotal(),pt.delta=this.getDelta(),this._deltaTs=getHiResTimestamp();const vt=pt.tag||pt.message;if(pt.once){if(Vt[vt])return noop;Vt[vt]=getHiResTimestamp()}return be=decorateMessage(this.id,pt.message,pt),Te.bind(console,be,...pt.args)}return noop}}function normalizeLogLevel(_e){if(!_e)return 0;let be;switch(typeof _e){case"number":be=_e;break;case"object":be=_e.logLevel||_e.priority||0;break;default:return 0}return assert(Number.isFinite(be)&&be>=0),be}function normalizeArguments(_e){const{logLevel:be,message:Te}=_e;_e.logLevel=normalizeLogLevel(be);const Pe=_e.args?Array.from(_e.args):[];for(;Pe.length&&Pe.shift()!==Te;);switch(typeof be){case"string":case"function":void 0!==Te&&Pe.unshift(Te),_e.message=be;break;case"object":Object.assign(_e,be)}"function"==typeof _e.message&&(_e.message=_e.message());const pt=typeof _e.message;return assert("string"===pt||"object"===pt),Object.assign(_e,{args:Pe},_e.opts)}function decorateMessage(_e,be,Te){if("string"==typeof be){const Tt=Te.time?leftPad(formatTime(Te.total)):"";be=Te.time?"".concat(_e,": ").concat(Tt,"  ").concat(be):"".concat(_e,": ").concat(be),Pe=be,vt=Te.color,xt=Te.background,pt.Z||"string"!=typeof Pe||(vt&&(vt=getColor(vt),Pe="[".concat(vt,"m").concat(Pe,"[39m")),xt&&(vt=getColor(xt),Pe="[".concat(xt+10,"m").concat(Pe,"[49m"))),be=Pe}var Pe,vt,xt;return be}function logImageInNode(_e){let{image:be,message:Pe="",scale:pt=1}=_e,vt=null;try{vt=Te(19214)}catch(_e){}return vt?()=>vt(be,{fit:"box",width:"".concat(Math.round(80*pt),"%")}).then((_e=>console.log(_e))):noop}function logImageInBrowser(_e){let{image:be,message:Te="",scale:Pe=1}=_e;if("string"==typeof be){const _e=new Image;return _e.onload=()=>{const be=formatImage(_e,Te,Pe);console.log(...be)},_e.src=be,noop}const pt=be.nodeName||"";if("img"===pt.toLowerCase())return console.log(...formatImage(be,Te,Pe)),noop;if("canvas"===pt.toLowerCase()){const _e=new Image;return _e.onload=()=>console.log(...formatImage(_e,Te,Pe)),_e.src=be.toDataURL(),noop}return noop}function getTableHeader(_e){for(const be in _e)for(const Te in _e[be])return Te||"untitled";return"empty"}(0,Pe.Z)(Wt,"VERSION",vt)},58295:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return vt}});var Pe=Te(4942);function getHiResTimestamp(){let _e;if("undefined"!=typeof window&&window.performance)_e=window.performance.now();else if("undefined"!=typeof process&&process.hrtime){const be=process.hrtime();_e=1e3*be[0]+be[1]/1e6}else _e=Date.now();return _e}class pt{constructor(_e,be){(0,Pe.Z)(this,"name",void 0),(0,Pe.Z)(this,"type",void 0),(0,Pe.Z)(this,"sampleSize",1),(0,Pe.Z)(this,"time",void 0),(0,Pe.Z)(this,"count",void 0),(0,Pe.Z)(this,"samples",void 0),(0,Pe.Z)(this,"lastTiming",void 0),(0,Pe.Z)(this,"lastSampleTime",void 0),(0,Pe.Z)(this,"lastSampleCount",void 0),(0,Pe.Z)(this,"_count",0),(0,Pe.Z)(this,"_time",0),(0,Pe.Z)(this,"_samples",0),(0,Pe.Z)(this,"_startTime",0),(0,Pe.Z)(this,"_timerPending",!1),this.name=_e,this.type=be,this.reset()}setSampleSize(_e){return this.sampleSize=_e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(_e){return this._count+=_e,this._samples++,this._checkSampling(),this}subtractCount(_e){return this._count-=_e,this._samples++,this._checkSampling(),this}addTime(_e){return this._time+=_e,this.lastTiming=_e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=getHiResTimestamp(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(getHiResTimestamp()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class vt{constructor(_e){(0,Pe.Z)(this,"id",void 0),(0,Pe.Z)(this,"stats",{}),this.id=_e.id,this.stats={},this._initializeStats(_e.stats),Object.seal(this)}get(_e){let be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:_e,type:be})}get size(){return Object.keys(this.stats).length}reset(){for(const _e in this.stats)this.stats[_e].reset();return this}forEach(_e){for(const be in this.stats)_e(this.stats[be])}getTable(){const _e={};return this.forEach((be=>{_e[be.name]={time:be.time||0,count:be.count||0,average:be.getAverageTime()||0,hz:be.getHz()||0}})),_e}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((_e=>this._getOrCreate(_e)))}_getOrCreate(_e){if(!_e||!_e.name)return null;const{name:be,type:Te}=_e;return this.stats[be]||(this.stats[be]=_e instanceof pt?_e:new pt(be,Te)),this.stats[be]}}},84102:function(_e,be){"use strict";function feature(_e,be,Te){void 0===Te&&(Te={});var Pe={type:"Feature"};return(0===Te.id||Te.id)&&(Pe.id=Te.id),Te.bbox&&(Pe.bbox=Te.bbox),Pe.properties=be||{},Pe.geometry=_e,Pe}function point(_e,be,Te){if(void 0===Te&&(Te={}),!_e)throw new Error("coordinates is required");if(!Array.isArray(_e))throw new Error("coordinates must be an Array");if(_e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!isNumber(_e[0])||!isNumber(_e[1]))throw new Error("coordinates must contain numbers");return feature({type:"Point",coordinates:_e},be,Te)}function polygon(_e,be,Te){void 0===Te&&(Te={});for(var Pe=0,pt=_e;Pe<pt.length;Pe++){var vt=pt[Pe];if(vt.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var xt=0;xt<vt[vt.length-1].length;xt++)if(vt[vt.length-1][xt]!==vt[0][xt])throw new Error("First and last Position are not equivalent.")}return feature({type:"Polygon",coordinates:_e},be,Te)}function lineString(_e,be,Te){if(void 0===Te&&(Te={}),_e.length<2)throw new Error("coordinates must be an array of two or more positions");return feature({type:"LineString",coordinates:_e},be,Te)}function featureCollection(_e,be){void 0===be&&(be={});var Te={type:"FeatureCollection"};return be.id&&(Te.id=be.id),be.bbox&&(Te.bbox=be.bbox),Te.features=_e,Te}function multiLineString(_e,be,Te){return void 0===Te&&(Te={}),feature({type:"MultiLineString",coordinates:_e},be,Te)}function multiPoint(_e,be,Te){return void 0===Te&&(Te={}),feature({type:"MultiPoint",coordinates:_e},be,Te)}function multiPolygon(_e,be,Te){return void 0===Te&&(Te={}),feature({type:"MultiPolygon",coordinates:_e},be,Te)}function radiansToLength(_e,Te){void 0===Te&&(Te="kilometers");var Pe=be.factors[Te];if(!Pe)throw new Error(Te+" units is invalid");return _e*Pe}function lengthToRadians(_e,Te){void 0===Te&&(Te="kilometers");var Pe=be.factors[Te];if(!Pe)throw new Error(Te+" units is invalid");return _e/Pe}function radiansToDegrees(_e){return 180*(_e%(2*Math.PI))/Math.PI}function isNumber(_e){return!isNaN(_e)&&null!==_e&&!Array.isArray(_e)}Object.defineProperty(be,"__esModule",{value:!0}),be.earthRadius=6371008.8,be.factors={centimeters:100*be.earthRadius,centimetres:100*be.earthRadius,degrees:be.earthRadius/111325,feet:3.28084*be.earthRadius,inches:39.37*be.earthRadius,kilometers:be.earthRadius/1e3,kilometres:be.earthRadius/1e3,meters:be.earthRadius,metres:be.earthRadius,miles:be.earthRadius/1609.344,millimeters:1e3*be.earthRadius,millimetres:1e3*be.earthRadius,nauticalmiles:be.earthRadius/1852,radians:1,yards:1.0936*be.earthRadius},be.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/be.earthRadius,yards:1.0936133},be.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},be.feature=feature,be.geometry=function geometry(_e,be,Te){switch(void 0===Te&&(Te={}),_e){case"Point":return point(be).geometry;case"LineString":return lineString(be).geometry;case"Polygon":return polygon(be).geometry;case"MultiPoint":return multiPoint(be).geometry;case"MultiLineString":return multiLineString(be).geometry;case"MultiPolygon":return multiPolygon(be).geometry;default:throw new Error(_e+" is invalid")}},be.point=point,be.points=function points(_e,be,Te){return void 0===Te&&(Te={}),featureCollection(_e.map((function(_e){return point(_e,be)})),Te)},be.polygon=polygon,be.polygons=function polygons(_e,be,Te){return void 0===Te&&(Te={}),featureCollection(_e.map((function(_e){return polygon(_e,be)})),Te)},be.lineString=lineString,be.lineStrings=function lineStrings(_e,be,Te){return void 0===Te&&(Te={}),featureCollection(_e.map((function(_e){return lineString(_e,be)})),Te)},be.featureCollection=featureCollection,be.multiLineString=multiLineString,be.multiPoint=multiPoint,be.multiPolygon=multiPolygon,be.geometryCollection=function geometryCollection(_e,be,Te){return void 0===Te&&(Te={}),feature({type:"GeometryCollection",geometries:_e},be,Te)},be.round=function round(_e,be){if(void 0===be&&(be=0),be&&!(be>=0))throw new Error("precision must be a positive number");var Te=Math.pow(10,be||0);return Math.round(_e*Te)/Te},be.radiansToLength=radiansToLength,be.lengthToRadians=lengthToRadians,be.lengthToDegrees=function lengthToDegrees(_e,be){return radiansToDegrees(lengthToRadians(_e,be))},be.bearingToAzimuth=function bearingToAzimuth(_e){var be=_e%360;return be<0&&(be+=360),be},be.radiansToDegrees=radiansToDegrees,be.degreesToRadians=function degreesToRadians(_e){return _e%360*Math.PI/180},be.convertLength=function convertLength(_e,be,Te){if(void 0===be&&(be="kilometers"),void 0===Te&&(Te="kilometers"),!(_e>=0))throw new Error("length must be a positive number");return radiansToLength(lengthToRadians(_e,be),Te)},be.convertArea=function convertArea(_e,Te,Pe){if(void 0===Te&&(Te="meters"),void 0===Pe&&(Pe="kilometers"),!(_e>=0))throw new Error("area must be a positive number");var pt=be.areaFactors[Te];if(!pt)throw new Error("invalid original units");var vt=be.areaFactors[Pe];if(!vt)throw new Error("invalid final units");return _e/pt*vt},be.isNumber=isNumber,be.isObject=function isObject(_e){return!!_e&&_e.constructor===Object},be.validateBBox=function validateBBox(_e){if(!_e)throw new Error("bbox is required");if(!Array.isArray(_e))throw new Error("bbox must be an Array");if(4!==_e.length&&6!==_e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");_e.forEach((function(_e){if(!isNumber(_e))throw new Error("bbox must only contain numbers")}))},be.validateId=function validateId(_e){if(!_e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof _e))throw new Error("id must be a number or a string")}},16295:function(_e,be,Te){"use strict";var Pe=this&&this.__spreadArrays||function(){for(var _e=0,be=0,Te=arguments.length;be<Te;be++)_e+=arguments[be].length;var Pe=Array(_e),pt=0;for(be=0;be<Te;be++)for(var vt=arguments[be],xt=0,Tt=vt.length;xt<Tt;xt++,pt++)Pe[pt]=vt[xt];return Pe};Object.defineProperty(be,"__esModule",{value:!0});var pt=Te(84102);function randomPosition(_e){return Array.isArray(_e)?coordInBBox(_e):_e&&_e.bbox?coordInBBox(_e.bbox):[360*rnd(),180*rnd()]}function rnd(){return Math.random()-.5}function coordInBBox(_e){return[Math.random()*(_e[2]-_e[0])+_e[0],Math.random()*(_e[3]-_e[1])+_e[1]]}be.randomPosition=randomPosition,be.randomPoint=function randomPoint(_e,be){void 0===be&&(be={}),null==_e&&(_e=1);for(var Te=[],Pe=0;Pe<_e;Pe++)Te.push(pt.point(randomPosition(be.bbox)));return pt.featureCollection(Te)},be.randomPolygon=function randomPolygon(_e,be){void 0===be&&(be={}),null==_e&&(_e=1),pt.isNumber(be.num_vertices)&&void 0!==be.num_vertices||(be.num_vertices=10),pt.isNumber(be.max_radial_length)&&void 0!==be.max_radial_length||(be.max_radial_length=10);for(var Te=[],_loop_1=function(_e){var vt,xt=[],Tt=Pe(Array(be.num_vertices+1)).map(Math.random);Tt.forEach((function(_e,be,Te){Te[be]=be>0?_e+Te[be-1]:_e})),Tt.forEach((function(_e){_e=2*_e*Math.PI/Tt[Tt.length-1];var Te=Math.random();xt.push([Te*(be.max_radial_length||10)*Math.sin(_e),Te*(be.max_radial_length||10)*Math.cos(_e)])})),xt[xt.length-1]=xt[0],xt=xt.map((vt=randomPosition(be.bbox),function(_e){return[_e[0]+vt[0],_e[1]+vt[1]]})),Te.push(pt.polygon([xt]))},vt=0;vt<_e;vt++)_loop_1();return pt.featureCollection(Te)},be.randomLineString=function randomLineString(_e,be){if(void 0===be&&(be={}),be=be||{},!pt.isObject(be))throw new Error("options is invalid");var Te=be.bbox,Pe=be.num_vertices,vt=be.max_length,xt=be.max_rotation;null==_e&&(_e=1),(!pt.isNumber(Pe)||void 0===Pe||Pe<2)&&(Pe=10),pt.isNumber(vt)&&void 0!==vt||(vt=1e-4),pt.isNumber(xt)&&void 0!==xt||(xt=Math.PI/8);for(var Tt=[],It=0;It<_e;It++){for(var Mt=[randomPosition(Te)],Lt=0;Lt<Pe-1;Lt++){var Ft=(0===Lt?2*Math.random()*Math.PI:Math.tan((Mt[Lt][1]-Mt[Lt-1][1])/(Mt[Lt][0]-Mt[Lt-1][0])))+(Math.random()-.5)*xt*2,Ot=Math.random()*vt;Mt.push([Mt[Lt][0]+Ot*Math.cos(Ft),Mt[Lt][1]+Ot*Math.sin(Ft)])}Tt.push(pt.lineString(Mt))}return pt.featureCollection(Tt)}},16018:function(_e,be,Te){"use strict";var Pe=function(){function defineProperties(_e,be){for(var Te=0;Te<be.length;Te++){var Pe=be[Te];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(_e,Pe.key,Pe)}}return function(_e,be,Te){return be&&defineProperties(_e.prototype,be),Te&&defineProperties(_e,Te),_e}}(),pt=function get(_e,be,Te){null===_e&&(_e=Function.prototype);var Pe=Object.getOwnPropertyDescriptor(_e,be);if(void 0===Pe){var pt=Object.getPrototypeOf(_e);return null===pt?void 0:get(pt,be,Te)}if("value"in Pe)return Pe.value;var vt=Pe.get;return void 0!==vt?vt.call(Te):void 0};be.ZP=function dynamicImport(_e){return function(_e){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,_e),Pe(_class,[{key:"parseStatement",value:function parseStatement(_e,be,Te){return this.type===vt.tokTypes._import&&parenAfter.call(this)?this.parseExpressionStatement(this.startNode(),this.parseExpression()):pt(_class.prototype.__proto__||Object.getPrototypeOf(_class.prototype),"parseStatement",this).call(this,_e,be,Te)}},{key:"parseExprAtom",value:function parseExprAtom(_e){return this.type===vt.tokTypes._import?parseDynamicImport.call(this):pt(_class.prototype.__proto__||Object.getPrototypeOf(_class.prototype),"parseExprAtom",this).call(this,_e)}}]),_class}(_e)};var vt=Te(63230);function _classCallCheck(_e,be){if(!(_e instanceof be))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(_e,be){if(!_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!be||"object"!=typeof be&&"function"!=typeof be?_e:be}function _inherits(_e,be){if("function"!=typeof be&&null!==be)throw new TypeError("Super expression must either be null or a function, not "+typeof be);_e.prototype=Object.create(be&&be.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}}),be&&(Object.setPrototypeOf?Object.setPrototypeOf(_e,be):_e.__proto__=be)}var xt="Import";function parseDynamicImport(){var _e=this.startNode();return this.next(),this.type!==vt.tokTypes.parenL&&this.unexpected(),this.finishNode(_e,xt)}function parenAfter(){return/^(\s|\/\/.*|\/\*[^]*?\*\/)*\(/.test(this.input.slice(this.pos))}vt.tokTypes._import.startsExpr=!0},55977:function(_e,be,Te){"use strict";const Pe=Te(73325),pt=/^[\da-fA-F]+$/,vt=/^\d+$/,xt=new WeakMap;function getJsxTokens(_e){_e=_e.Parser.acorn||_e;let be=xt.get(_e);if(!be){const Te=_e.tokTypes,Pe=_e.TokContext,pt=_e.TokenType,vt=new Pe("<tag",!1),Tt=new Pe("</tag",!1),It=new Pe("<tag>...</tag>",!0,!0),Mt={tc_oTag:vt,tc_cTag:Tt,tc_expr:It},Lt={jsxName:new pt("jsxName"),jsxText:new pt("jsxText",{beforeExpr:!0}),jsxTagStart:new pt("jsxTagStart",{startsExpr:!0}),jsxTagEnd:new pt("jsxTagEnd")};Lt.jsxTagStart.updateContext=function(){this.context.push(It),this.context.push(vt),this.exprAllowed=!1},Lt.jsxTagEnd.updateContext=function(_e){let be=this.context.pop();be===vt&&_e===Te.slash||be===Tt?(this.context.pop(),this.exprAllowed=this.curContext()===It):this.exprAllowed=!0},be={tokContexts:Mt,tokTypes:Lt},xt.set(_e,be)}return be}function getQualifiedJSXName(_e){return _e?"JSXIdentifier"===_e.type?_e.name:"JSXNamespacedName"===_e.type?_e.namespace.name+":"+_e.name.name:"JSXMemberExpression"===_e.type?getQualifiedJSXName(_e.object)+"."+getQualifiedJSXName(_e.property):void 0:_e}function plugin(_e,be){const xt=be.acorn||Te(63230),Tt=getJsxTokens(xt),It=xt.tokTypes,Mt=Tt.tokTypes,Lt=xt.tokContexts,Ft=Tt.tokContexts.tc_oTag,Ot=Tt.tokContexts.tc_cTag,Vt=Tt.tokContexts.tc_expr,qt=xt.isNewLine,Wt=xt.isIdentifierStart,$t=xt.isIdentifierChar;return class extends be{static get acornJsx(){return Tt}jsx_readToken(){let _e="",be=this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated JSX contents");let Te=this.input.charCodeAt(this.pos);switch(Te){case 60:case 123:return this.pos===this.start?60===Te&&this.exprAllowed?(++this.pos,this.finishToken(Mt.jsxTagStart)):this.getTokenFromCode(Te):(_e+=this.input.slice(be,this.pos),this.finishToken(Mt.jsxText,_e));case 38:_e+=this.input.slice(be,this.pos),_e+=this.jsx_readEntity(),be=this.pos;break;case 62:case 125:this.raise(this.pos,"Unexpected token `"+this.input[this.pos]+"`. Did you mean `"+(62===Te?"&gt;":"&rbrace;")+'` or `{"'+this.input[this.pos]+'"}`?');default:qt(Te)?(_e+=this.input.slice(be,this.pos),_e+=this.jsx_readNewLine(!0),be=this.pos):++this.pos}}}jsx_readNewLine(_e){let be,Te=this.input.charCodeAt(this.pos);return++this.pos,13===Te&&10===this.input.charCodeAt(this.pos)?(++this.pos,be=_e?"\n":"\r\n"):be=String.fromCharCode(Te),this.options.locations&&(++this.curLine,this.lineStart=this.pos),be}jsx_readString(_e){let be="",Te=++this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");let Pe=this.input.charCodeAt(this.pos);if(Pe===_e)break;38===Pe?(be+=this.input.slice(Te,this.pos),be+=this.jsx_readEntity(),Te=this.pos):qt(Pe)?(be+=this.input.slice(Te,this.pos),be+=this.jsx_readNewLine(!1),Te=this.pos):++this.pos}return be+=this.input.slice(Te,this.pos++),this.finishToken(It.string,be)}jsx_readEntity(){let _e,be="",Te=0,xt=this.input[this.pos];"&"!==xt&&this.raise(this.pos,"Entity must start with an ampersand");let Tt=++this.pos;for(;this.pos<this.input.length&&Te++<10;){if(xt=this.input[this.pos++],";"===xt){"#"===be[0]?"x"===be[1]?(be=be.substr(2),pt.test(be)&&(_e=String.fromCharCode(parseInt(be,16)))):(be=be.substr(1),vt.test(be)&&(_e=String.fromCharCode(parseInt(be,10)))):_e=Pe[be];break}be+=xt}return _e||(this.pos=Tt,"&")}jsx_readWord(){let _e,be=this.pos;do{_e=this.input.charCodeAt(++this.pos)}while($t(_e)||45===_e);return this.finishToken(Mt.jsxName,this.input.slice(be,this.pos))}jsx_parseIdentifier(){let _e=this.startNode();return this.type===Mt.jsxName?_e.name=this.value:this.type.keyword?_e.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(_e,"JSXIdentifier")}jsx_parseNamespacedName(){let be=this.start,Te=this.startLoc,Pe=this.jsx_parseIdentifier();if(!_e.allowNamespaces||!this.eat(It.colon))return Pe;var pt=this.startNodeAt(be,Te);return pt.namespace=Pe,pt.name=this.jsx_parseIdentifier(),this.finishNode(pt,"JSXNamespacedName")}jsx_parseElementName(){if(this.type===Mt.jsxTagEnd)return"";let be=this.start,Te=this.startLoc,Pe=this.jsx_parseNamespacedName();for(this.type!==It.dot||"JSXNamespacedName"!==Pe.type||_e.allowNamespacedObjects||this.unexpected();this.eat(It.dot);){let _e=this.startNodeAt(be,Te);_e.object=Pe,_e.property=this.jsx_parseIdentifier(),Pe=this.finishNode(_e,"JSXMemberExpression")}return Pe}jsx_parseAttributeValue(){switch(this.type){case It.braceL:let _e=this.jsx_parseExpressionContainer();return"JSXEmptyExpression"===_e.expression.type&&this.raise(_e.start,"JSX attributes must only be assigned a non-empty expression"),_e;case Mt.jsxTagStart:case It.string:return this.parseExprAtom();default:this.raise(this.start,"JSX value should be either an expression or a quoted JSX text")}}jsx_parseEmptyExpression(){let _e=this.startNodeAt(this.lastTokEnd,this.lastTokEndLoc);return this.finishNodeAt(_e,"JSXEmptyExpression",this.start,this.startLoc)}jsx_parseExpressionContainer(){let _e=this.startNode();return this.next(),_e.expression=this.type===It.braceR?this.jsx_parseEmptyExpression():this.parseExpression(),this.expect(It.braceR),this.finishNode(_e,"JSXExpressionContainer")}jsx_parseAttribute(){let _e=this.startNode();return this.eat(It.braceL)?(this.expect(It.ellipsis),_e.argument=this.parseMaybeAssign(),this.expect(It.braceR),this.finishNode(_e,"JSXSpreadAttribute")):(_e.name=this.jsx_parseNamespacedName(),_e.value=this.eat(It.eq)?this.jsx_parseAttributeValue():null,this.finishNode(_e,"JSXAttribute"))}jsx_parseOpeningElementAt(_e,be){let Te=this.startNodeAt(_e,be);Te.attributes=[];let Pe=this.jsx_parseElementName();for(Pe&&(Te.name=Pe);this.type!==It.slash&&this.type!==Mt.jsxTagEnd;)Te.attributes.push(this.jsx_parseAttribute());return Te.selfClosing=this.eat(It.slash),this.expect(Mt.jsxTagEnd),this.finishNode(Te,Pe?"JSXOpeningElement":"JSXOpeningFragment")}jsx_parseClosingElementAt(_e,be){let Te=this.startNodeAt(_e,be),Pe=this.jsx_parseElementName();return Pe&&(Te.name=Pe),this.expect(Mt.jsxTagEnd),this.finishNode(Te,Pe?"JSXClosingElement":"JSXClosingFragment")}jsx_parseElementAt(_e,be){let Te=this.startNodeAt(_e,be),Pe=[],pt=this.jsx_parseOpeningElementAt(_e,be),vt=null;if(!pt.selfClosing){e:for(;;)switch(this.type){case Mt.jsxTagStart:if(_e=this.start,be=this.startLoc,this.next(),this.eat(It.slash)){vt=this.jsx_parseClosingElementAt(_e,be);break e}Pe.push(this.jsx_parseElementAt(_e,be));break;case Mt.jsxText:Pe.push(this.parseExprAtom());break;case It.braceL:Pe.push(this.jsx_parseExpressionContainer());break;default:this.unexpected()}getQualifiedJSXName(vt.name)!==getQualifiedJSXName(pt.name)&&this.raise(vt.start,"Expected corresponding JSX closing tag for <"+getQualifiedJSXName(pt.name)+">")}let xt=pt.name?"Element":"Fragment";return Te["opening"+xt]=pt,Te["closing"+xt]=vt,Te.children=Pe,this.type===It.relational&&"<"===this.value&&this.raise(this.start,"Adjacent JSX elements must be wrapped in an enclosing tag"),this.finishNode(Te,"JSX"+xt)}jsx_parseText(){let _e=this.parseLiteral(this.value);return _e.type="JSXText",_e}jsx_parseElement(){let _e=this.start,be=this.startLoc;return this.next(),this.jsx_parseElementAt(_e,be)}parseExprAtom(_e){return this.type===Mt.jsxText?this.jsx_parseText():this.type===Mt.jsxTagStart?this.jsx_parseElement():super.parseExprAtom(_e)}readToken(_e){let be=this.curContext();if(be===Vt)return this.jsx_readToken();if(be===Ft||be===Ot){if(Wt(_e))return this.jsx_readWord();if(62==_e)return++this.pos,this.finishToken(Mt.jsxTagEnd);if((34===_e||39===_e)&&be==Ft)return this.jsx_readString(_e)}return 60===_e&&this.exprAllowed&&33!==this.input.charCodeAt(this.pos+1)?(++this.pos,this.finishToken(Mt.jsxTagStart)):super.readToken(_e)}updateContext(_e){if(this.type==It.braceL){var be=this.curContext();be==Ft?this.context.push(Lt.b_expr):be==Vt?this.context.push(Lt.b_tmpl):super.updateContext(_e),this.exprAllowed=!0}else{if(this.type!==It.slash||_e!==Mt.jsxTagStart)return super.updateContext(_e);this.context.length-=2,this.context.push(Ot),this.exprAllowed=!1}}}}_e.exports=function(_e){return _e=_e||{},function(be){return plugin({allowNamespaces:!1!==_e.allowNamespaces,allowNamespacedObjects:!!_e.allowNamespacedObjects},be)}},Object.defineProperty(_e.exports,"tokTypes",{get:function get_tokTypes(){return getJsxTokens(Te(63230)).tokTypes},configurable:!0,enumerable:!0})},73325:function(_e){_e.exports={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},48583:function(_e,be,Te){"use strict";var Pe=Te(27418);function compare(_e,be){if(_e===be)return 0;for(var Te=_e.length,Pe=be.length,pt=0,vt=Math.min(Te,Pe);pt<vt;++pt)if(_e[pt]!==be[pt]){Te=_e[pt],Pe=be[pt];break}return Te<Pe?-1:Pe<Te?1:0}function isBuffer(_e){return Te.g.Buffer&&"function"==typeof Te.g.Buffer.isBuffer?Te.g.Buffer.isBuffer(_e):!(null==_e||!_e._isBuffer)}var pt=Te(89539),vt=Object.prototype.hasOwnProperty,xt=Array.prototype.slice,Tt="foo"===function foo(){}.name;function pToString(_e){return Object.prototype.toString.call(_e)}function isView(_e){return!isBuffer(_e)&&("function"==typeof Te.g.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(_e):!!_e&&(_e instanceof DataView||!!(_e.buffer&&_e.buffer instanceof ArrayBuffer))))}var It=_e.exports=ok,Mt=/\s*function\s+([^\(\s]*)\s*/;function getName(_e){if(pt.isFunction(_e)){if(Tt)return _e.name;var be=_e.toString().match(Mt);return be&&be[1]}}function truncate(_e,be){return"string"==typeof _e?_e.length<be?_e:_e.slice(0,be):_e}function inspect(_e){if(Tt||!pt.isFunction(_e))return pt.inspect(_e);var be=getName(_e);return"[Function"+(be?": "+be:"")+"]"}function getMessage(_e){return truncate(inspect(_e.actual),128)+" "+_e.operator+" "+truncate(inspect(_e.expected),128)}function fail(_e,be,Te,Pe,pt){throw new It.AssertionError({message:Te,actual:_e,expected:be,operator:Pe,stackStartFunction:pt})}function ok(_e,be){_e||fail(_e,!0,be,"==",It.ok)}function _deepEqual(_e,be,Te,Pe){if(_e===be)return!0;if(isBuffer(_e)&&isBuffer(be))return 0===compare(_e,be);if(pt.isDate(_e)&&pt.isDate(be))return _e.getTime()===be.getTime();if(pt.isRegExp(_e)&&pt.isRegExp(be))return _e.source===be.source&&_e.global===be.global&&_e.multiline===be.multiline&&_e.lastIndex===be.lastIndex&&_e.ignoreCase===be.ignoreCase;if(null!==_e&&"object"==typeof _e||null!==be&&"object"==typeof be){if(isView(_e)&&isView(be)&&pToString(_e)===pToString(be)&&!(_e instanceof Float32Array||_e instanceof Float64Array))return 0===compare(new Uint8Array(_e.buffer),new Uint8Array(be.buffer));if(isBuffer(_e)!==isBuffer(be))return!1;var vt=(Pe=Pe||{actual:[],expected:[]}).actual.indexOf(_e);return-1!==vt&&vt===Pe.expected.indexOf(be)||(Pe.actual.push(_e),Pe.expected.push(be),objEquiv(_e,be,Te,Pe))}return Te?_e===be:_e==be}function isArguments(_e){return"[object Arguments]"==Object.prototype.toString.call(_e)}function objEquiv(_e,be,Te,Pe){if(null==_e||null==be)return!1;if(pt.isPrimitive(_e)||pt.isPrimitive(be))return _e===be;if(Te&&Object.getPrototypeOf(_e)!==Object.getPrototypeOf(be))return!1;var vt=isArguments(_e),Tt=isArguments(be);if(vt&&!Tt||!vt&&Tt)return!1;if(vt)return _deepEqual(_e=xt.call(_e),be=xt.call(be),Te);var It,Mt,Ft=Lt(_e),Ot=Lt(be);if(Ft.length!==Ot.length)return!1;for(Ft.sort(),Ot.sort(),Mt=Ft.length-1;Mt>=0;Mt--)if(Ft[Mt]!==Ot[Mt])return!1;for(Mt=Ft.length-1;Mt>=0;Mt--)if(!_deepEqual(_e[It=Ft[Mt]],be[It],Te,Pe))return!1;return!0}function expectedException(_e,be){if(!_e||!be)return!1;if("[object RegExp]"==Object.prototype.toString.call(be))return be.test(_e);try{if(_e instanceof be)return!0}catch(_e){}return!Error.isPrototypeOf(be)&&!0===be.call({},_e)}function _tryBlock(_e){var be;try{_e()}catch(_e){be=_e}return be}function _throws(_e,be,Te,Pe){var vt;if("function"!=typeof be)throw new TypeError('"block" argument must be a function');"string"==typeof Te&&(Pe=Te,Te=null),vt=_tryBlock(be),Pe=(Te&&Te.name?" ("+Te.name+").":".")+(Pe?" "+Pe:"."),_e&&!vt&&fail(vt,Te,"Missing expected exception"+Pe);var xt="string"==typeof Pe,Tt=!_e&&vt&&!Te;if((!_e&&pt.isError(vt)&&xt&&expectedException(vt,Te)||Tt)&&fail(vt,Te,"Got unwanted exception"+Pe),_e&&vt&&Te&&!expectedException(vt,Te)||!_e&&vt)throw vt}It.AssertionError=function AssertionError(_e){this.name="AssertionError",this.actual=_e.actual,this.expected=_e.expected,this.operator=_e.operator,_e.message?(this.message=_e.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var be=_e.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,be);else{var Te=new Error;if(Te.stack){var Pe=Te.stack,pt=getName(be),vt=Pe.indexOf("\n"+pt);if(vt>=0){var xt=Pe.indexOf("\n",vt+1);Pe=Pe.substring(xt+1)}this.stack=Pe}}},pt.inherits(It.AssertionError,Error),It.fail=fail,It.ok=ok,It.equal=function equal(_e,be,Te){_e!=be&&fail(_e,be,Te,"==",It.equal)},It.notEqual=function notEqual(_e,be,Te){_e==be&&fail(_e,be,Te,"!=",It.notEqual)},It.deepEqual=function deepEqual(_e,be,Te){_deepEqual(_e,be,!1)||fail(_e,be,Te,"deepEqual",It.deepEqual)},It.deepStrictEqual=function deepStrictEqual(_e,be,Te){_deepEqual(_e,be,!0)||fail(_e,be,Te,"deepStrictEqual",It.deepStrictEqual)},It.notDeepEqual=function notDeepEqual(_e,be,Te){_deepEqual(_e,be,!1)&&fail(_e,be,Te,"notDeepEqual",It.notDeepEqual)},It.notDeepStrictEqual=function notDeepStrictEqual(_e,be,Te){_deepEqual(_e,be,!0)&&fail(_e,be,Te,"notDeepStrictEqual",notDeepStrictEqual)},It.strictEqual=function strictEqual(_e,be,Te){_e!==be&&fail(_e,be,Te,"===",It.strictEqual)},It.notStrictEqual=function notStrictEqual(_e,be,Te){_e===be&&fail(_e,be,Te,"!==",It.notStrictEqual)},It.throws=function(_e,be,Te){_throws(!0,_e,be,Te)},It.doesNotThrow=function(_e,be,Te){_throws(!1,_e,be,Te)},It.ifError=function(_e){if(_e)throw _e},It.strict=Pe((function strict(_e,be){_e||fail(_e,!0,be,"==",strict)}),It,{equal:It.strictEqual,deepEqual:It.deepStrictEqual,notEqual:It.notStrictEqual,notDeepEqual:It.notDeepStrictEqual}),It.strict.strict=It.strict;var Lt=Object.keys||function(_e){var be=[];for(var Te in _e)vt.call(_e,Te)&&be.push(Te);return be}},29937:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(67294),pt=Te(21594),vt=Te(98008);class xt extends Pe.PureComponent{componentDidMount(){const _e=this._map,{compact:be,customAttribution:Te,position:Pe}=this.props,pt=new vt.Z.AttributionControl({compact:be,customAttribution:Te});_e.addControl(pt,Pe),this._control=pt}componentWillUnmount(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}getControl(){return this._control}render(){return(0,Pe.createElement)(pt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}!function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}(xt,"defaultProps",{position:"bottom-right"}),be.default=xt},54177:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(67294),pt=Te(21594);class vt extends Pe.PureComponent{componentDidMount(){const{layer:_e,before:be}=this.props;be&&this._map.getLayer(be)?this._map.addLayer(_e,be):this._map.addLayer(_e),this._id=_e.id}componentWillUnmount(){this._map&&this._map.getStyle()&&this._map.getLayer(this._id)&&this._map.removeLayer(this._id)}render(){return(0,Pe.createElement)(pt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}!function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}(vt,"displayName","CustomLayer"),be.default=vt},49060:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(67294),pt=Te(21594);class vt extends Pe.PureComponent{componentDidMount(){const _e=this._map,{id:be,source:Te,sourceLayer:Pe,state:pt}=this.props;_e.setFeatureState({id:be,source:Te,sourceLayer:Pe},pt)}componentDidUpdate(_e){const be=this._map,{id:Te,source:Pe,sourceLayer:pt,state:vt}=this.props;Te===_e.id&&Pe===_e.source&&pt===_e.sourceLayer&&vt===_e.state||(be.removeFeatureState({id:_e.id,source:_e.source,sourceLayer:_e.sourceLayer}),be.setFeatureState({id:Te,source:Pe,sourceLayer:pt},vt))}componentWillUnmount(){if(!this._map||!this._map.getStyle())return;const{id:_e,source:be,sourceLayer:Te}=this.props;this._map.removeFeatureState({id:_e,source:be,sourceLayer:Te})}render(){return(0,Pe.createElement)(pt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}be.default=vt},73985:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(67294),pt=Te(21594),vt=Te(51791);class xt extends Pe.PureComponent{componentDidMount(){this._setFilter()}componentDidUpdate(_e){const be=_e.filter,Te=_e.validate,{filter:Pe,validate:pt}=this.props;(!(0,vt.Z)(be,Pe)||Te!==pt)&&this._setFilter()}componentWillUnmount(){if(!this._map||!this._map.getStyle())return;const{layerId:_e}=this.props;void 0!==this._map.getLayer(_e)&&this._map.setFilter(_e,void 0)}_setFilter(){const{layerId:_e,filter:be,validate:Te}=this.props;void 0!==this._map.getLayer(_e)&&(Array.isArray(be)?this._map.setFilter(_e,be,{validate:Te}):this._map.setFilter(_e,void 0))}render(){return(0,Pe.createElement)(pt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}!function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}(xt,"defaultProps",{validate:!0}),be.default=xt},54173:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(67294),pt=Te(21594),vt=Te(98008);class xt extends Pe.PureComponent{componentDidMount(){const _e=this._map,{container:be,position:Te}=this.props,Pe=new vt.Z.FullscreenControl({container:be});_e.addControl(Pe,Te),this._control=Pe}componentWillUnmount(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}getControl(){return this._control}render(){return(0,Pe.createElement)(pt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}!function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}(xt,"defaultProps",{position:"top-right"}),be.default=xt},51043:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(67294),pt=Te(21594),vt=Te(98008);class xt extends Pe.PureComponent{componentDidMount(){const _e=this._map,{positionOptions:be,fitBoundsOptions:Te,trackUserLocation:Pe,showUserLocation:pt,position:xt,onTrackUserLocationEnd:Tt,onTrackUserLocationStart:It,onError:Mt,onGeolocate:Lt}=this.props,Ft=new vt.Z.GeolocateControl({positionOptions:be,fitBoundsOptions:Te,trackUserLocation:Pe,showUserLocation:pt});Tt&&Ft.on("trackuserlocationend",Tt),It&&Ft.on("trackuserlocationstart",It),Mt&&Ft.on("error",Mt),Lt&&Ft.on("geolocate",Lt),_e.addControl(Ft,xt),this._control=Ft}componentWillUnmount(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}getControl(){return this._control}render(){return(0,Pe.createElement)(pt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}!function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}(xt,"defaultProps",{positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0}),be.default=xt},19877:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(67294),pt=Te(21594);function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}class vt extends Pe.PureComponent{constructor(_e){super(_e),_defineProperty(this,"_loadImage",((_e,be)=>{"string"!=typeof _e?be(_e):this._map.loadImage(_e,((_e,Te)=>{if(_e)throw _e;be(Te)}))})),this._id=_e.id}componentDidMount(){const{image:_e,pixelRatio:be,sdf:Te}=this.props;this._loadImage(_e,(_e=>this._map.addImage(this._id,_e,{pixelRatio:be,sdf:Te})))}componentDidUpdate(_e){const{id:be,image:Te,pixelRatio:Pe,sdf:pt}=this.props;if(be!==_e.id||pt!==_e.sdf||Pe!==_e.pixelRatio)return this._id=be,this._map.removeImage(_e.id),void this._loadImage(Te,(_e=>this._map.addImage(this._id,_e,{pixelRatio:Pe,sdf:pt})));Te!==_e.image&&this._loadImage(Te,(_e=>this._map.updateImage(this._id,_e)))}componentWillUnmount(){this._map&&this._map.getStyle()&&this._map.hasImage(this._id)&&this._map.removeImage(this._id)}render(){return(0,Pe.createElement)(pt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}_defineProperty(vt,"defaultProps",{pixelRatio:1,sdf:!1}),be.default=vt},82302:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(67294),pt=Te(29167),vt=Te.n(pt),xt=Te(21594);function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}class Tt extends Pe.PureComponent{constructor(..._e){super(..._e),_defineProperty(this,"_setLanguage",(()=>{const{language:_e}=this.props,be=this._map,Te=this._control;_e&&be.setStyle(Te.setLanguage(be.getStyle(),_e))}))}componentDidMount(){const _e=this._map,{supportedLanguages:be,languageTransform:Te,languageField:Pe,getLanguageField:pt,languageSource:xt,defaultLanguage:Tt}=this.props,It=new(vt())({supportedLanguages:be,languageTransform:Te,languageField:Pe,getLanguageField:pt,languageSource:xt,defaultLanguage:Tt});_e.addControl(It),this._control=It}componentDidUpdate(_e){_e.language!==this.props.language&&this._setLanguage()}componentWillUnmount(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}getControl(){return this._control}render(){return(0,Pe.createElement)(xt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}_defineProperty(Tt,"defaultProps",{}),be.default=Tt},37363:function(_e,be,Te){"use strict";Te.r(be),Te.d(be,{default:function(){return Tt}});var Pe=Te(67294),pt=Te(21594);var utils_diff=(_e={},be={})=>[...new Set([...Object.keys(_e),...Object.keys(be)])].reduce(((Te,Pe)=>{const pt=_e[Pe];return pt!==be[Pe]&&Te.push([Pe,pt]),Te}),[]);var utils_queryRenderedFeatures=(_e,be,Te,Pe)=>{const pt={layers:[be]};if(Pe){const be=[[Te[0]-Pe,Te[1]-Pe],[Te[0]+Pe,Te[1]+Pe]];return _e.queryRenderedFeatures(be,pt)}return _e.queryRenderedFeatures(Te,pt)};function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}const vt=[["onClick","click"],["onHover","mousemove"],["onEnter","mouseenter"],["onLeave","mouseleave"],["onContextMenu","contextmenu"]];class xt extends Pe.PureComponent{constructor(_e){super(_e),_defineProperty(this,"_addLayer",(_e=>{const be=this._map,{before:Te,radius:Pe,onClick:pt,onHover:vt,onEnter:xt,onLeave:Tt,onContextMenu:It,...Mt}=_e;Te&&be.getLayer(Te)?be.addLayer(Mt,Te):be.addLayer(Mt),this._addEventListeners(_e)})),_defineProperty(this,"_addEventListeners",(_e=>{vt.forEach((([be,Te])=>{const Pe=`_${be}`;_e[be]&&this._map.on(Te,this._id,this[Pe])}))})),_defineProperty(this,"_updateEventListeners",((_e,be)=>{vt.forEach((([Te,Pe])=>{const pt=`_${Te}`;!be[Te]&&_e[Te]&&this._map.off(Pe,this._id,this[pt]),be[Te]&&!_e[Te]&&this._map.on(Pe,this._id,this[pt])}))})),_defineProperty(this,"_removeEventListeners",(_e=>{vt.forEach((([be,Te])=>{const Pe=`_${be}`;_e[be]&&this._map.off(Te,this._id,this[Pe])}))})),_defineProperty(this,"_onClick",(_e=>{const be=[_e.point.x,_e.point.y],Te=utils_queryRenderedFeatures(this._map,this._id,be,this.props.radius);this.props.onClick({..._e,features:Te})})),_defineProperty(this,"_onHover",(_e=>{const be=[_e.point.x,_e.point.y],Te=utils_queryRenderedFeatures(this._map,this._id,be,this.props.radius);this.props.onHover({..._e,features:Te})})),_defineProperty(this,"_onEnter",(_e=>{const be=[_e.point.x,_e.point.y],Te=utils_queryRenderedFeatures(this._map,this._id,be,this.props.radius);this.props.onEnter({..._e,features:Te})})),_defineProperty(this,"_onLeave",(_e=>{const be=[_e.point.x,_e.point.y],Te=utils_queryRenderedFeatures(this._map,this._id,be,this.props.radius);this.props.onLeave({..._e,features:Te})})),_defineProperty(this,"_onContextMenu",(_e=>{const be=[_e.point.x,_e.point.y],Te=utils_queryRenderedFeatures(this._map,this._id,be,this.props.radius);this.props.onContextMenu({..._e,features:Te})})),this._id=_e.id}componentDidMount(){this._addLayer(this.props)}componentDidUpdate(_e){const be=this._map,{id:Te,before:Pe,onClick:pt,...vt}=this.props;if(Te!==_e.id||this.props.type!==_e.type||"background"!==_e.type&&(this.props.source!==_e.source||this.props["source-layer"]!==_e["source-layer"]))return this._id=Te,this._map.removeLayer(_e.id),void this._addLayer(this.props);Pe!==_e.before&&Pe&&be.getLayer(Pe)&&be.moveLayer(this._id,Pe),vt.paint!==_e.paint&&utils_diff(vt.paint,_e.paint).forEach((([_e,Te])=>{be.setPaintProperty(this._id,_e,Te)})),vt.layout!==_e.layout&&utils_diff(vt.layout,_e.layout).forEach((([_e,Te])=>{be.setLayoutProperty(this._id,_e,Te)})),vt.filter!==_e.filter&&(vt.filter?be.setFilter(this._id,vt.filter):be.setFilter(this._id,void 0)),this._updateEventListeners(_e,this.props)}componentWillUnmount(){this._map&&this._map.getStyle()&&(this._removeEventListeners(this.props),this._map.getLayer(this._id)&&this._map.removeLayer(this._id))}render(){return(0,Pe.createElement)(pt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}_defineProperty(xt,"displayName","Layer"),_defineProperty(xt,"defaultProps",{radius:0});var Tt=xt},21594:function(_e,be,Te){"use strict";const Pe=(0,Te(67294).createContext)(null);be.Z=Pe},64421:function(_e){_e.exports=["resize","remove","mousedown","mouseup","mouseover","mousemove","click","dblclick","mouseenter","mouseleave","mouseout","contextmenu","touchstart","touchend","touchmove","touchcancel","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoom","zoomend","rotatestart","rotate","rotateend","pitchstart","pitch","pitchend","boxzoomstart","boxzoomend","boxzoomcancel","webglcontextlost","webglcontextrestored","load","error","data","styledata","sourcedata","dataloading","styledataloading","sourcedataloading"]},66586:function(_e,be,Te){"use strict";Te.r(be),Te.d(be,{default:function(){return Jt},easeTo:function(){return Wt},flyTo:function(){return $t},jumpTo:function(){return qt}});var Pe=Te(67294),pt=Te(21594),vt=Te(98008),xt=Te(64421),Tt=Te.n(xt),It=Te(29946),Mt=Te.n(It),Lt=Te(51791),Ft=Te(37363),Ot=Te(54177);const Vt=[Ft.default,Ot.default],isLayerLike=_e=>Vt.includes(_e.type),getLayerId=_e=>_e.props.id||_e.props.layer.id,forEachLayer=(_e,be)=>{Pe.Children.forEach(be,(be=>{be&&(isLayerLike(be)&&_e(be),be.props&&be.props.children&&forEachLayer(_e,be.props.children))}))},getLayerIds=_e=>{const be=[];return forEachLayer((_e=>{_e.props.before||be.push(getLayerId(_e))}),_e),be};var utils_normalizeChildren=_e=>{const be=getLayerIds(_e);be.shift();const traverse=_e=>"function"==typeof _e?_e:Pe.Children.map(_e,(_e=>{if(!_e)return _e;if(isLayerLike(_e)){const Te=_e.props.before||be.shift();return(0,Pe.cloneElement)(_e,{before:Te})}return _e.props&&_e.props.children?(0,Pe.cloneElement)(_e,{children:traverse(_e.props.children)}):_e}));return traverse(_e)};function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}const qt="jumpTo",Wt="easeTo",$t="flyTo";class Kt extends Pe.PureComponent{constructor(_e){super(_e),_defineProperty(this,"state",{loaded:!1}),_defineProperty(this,"_onViewportChange",(_e=>{if(!_e.originalEvent)return;const be=this._map,{lng:Te,lat:Pe}=be.getCenter(),pt={latitude:Pe,longitude:Te,zoom:be.getZoom(),pitch:be.getPitch(),bearing:be.getBearing()};this.props.onViewportChange(pt)})),vt.Z&&(vt.Z.accessToken=_e.accessToken),this._container=(0,Pe.createRef)()}componentDidMount(){if(!vt.Z)return;const _e=this._container.current,be=new vt.Z.Map({container:_e,style:this.props.mapStyle,interactive:!!this.props.onViewportChange,center:[this.props.longitude,this.props.latitude],zoom:this.props.zoom,pitch:this.props.pitch,bearing:this.props.bearing,minZoom:this.props.minZoom,maxZoom:this.props.maxZoom,hash:this.props.hash,bearingSnap:this.props.bearingSnap,pitchWithRotate:this.props.pitchWithRotate,attributionControl:this.props.attributionControl,logoPosition:this.props.logoPosition,failIfMajorPerformanceCaveat:this.props.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.props.preserveDrawingBuffer,antialias:this.props.antialias,refreshExpiredTiles:this.props.refreshExpiredTiles,maxBounds:this.props.maxBounds,bounds:this.props.bounds,scrollZoom:this.props.scrollZoom,boxZoom:this.props.boxZoom,dragRotate:this.props.dragRotate,dragPan:this.props.dragPan,keyboard:this.props.keyboard,doubleClickZoom:this.props.doubleClickZoom,trackResize:this.props.trackResize,renderWorldCopies:this.props.renderWorldCopies,maxTileCacheSize:this.props.maxTileCacheSize,localIdeographFontFamily:this.props.localIdeographFontFamily,transformRequest:this.props.transformRequest,collectResourceTiming:this.props.collectResourceTiming,fadeDuration:this.props.fadeDuration,crossSourceCollisions:this.props.crossSourceCollisions,locale:this.props.locale});this._map=be,be.once("load",(()=>{this.setState({loaded:!0},this.props.onLoad)})),this.props.onViewportChange&&(be.on("dragend",this._onViewportChange),be.on("zoomend",this._onViewportChange),be.on("rotateend",this._onViewportChange),be.on("pitchend",this._onViewportChange),be.on("boxzoomend",this._onViewportChange)),Tt().forEach((_e=>{const Te=`on${Mt()(_e)}`,Pe=this.props[Te];Pe&&(Array.isArray(Pe)?be.on(_e,...Pe):be.on(_e,Pe))})),this.props.cursorStyle&&(be.getCanvas().style.cursor=this.props.cursorStyle),this.props.showTileBoundaries&&(this._map.showTileBoundaries=this.props.showTileBoundaries)}componentDidUpdate(_e){this._updateMapViewport(_e,this.props),this._updateMapStyle(_e,this.props),this._updateMapSize(_e,this.props),this._updateMapEventListeners(_e,this.props),!_e.cursorStyle!==this.props.cursorStyle&&(this._map.getCanvas().style.cursor=this.props.cursorStyle),_e.showTileBoundaries!==this.props.showTileBoundaries&&(this._map.showTileBoundaries=!!this.props.showTileBoundaries)}componentWillUnmount(){this._map&&this._map.remove()}getMap(){return this._map}_updateMapEventListeners(_e,be){Tt().forEach((Te=>{const Pe=`on${Mt()(Te)}`,pt=_e[Pe],vt=be[Pe];Array.isArray(pt)&&Array.isArray(vt)&&(0,Lt.Z)(pt,vt)||pt===vt||(pt&&(Array.isArray(pt)?this._map.off(Te,...pt):this._map.off(Te,pt)),vt&&(Array.isArray(vt)?this._map.on(Te,...vt):this._map.on(Te,vt)))}))}_updateMapStyle(_e,be){const Te=be.mapStyle,Pe=_e.mapStyle;Te!==Pe&&this.setState({loaded:!1},(()=>{this._map.setStyle(Te),this._map.once("style.load",(()=>this.setState({loaded:!0})))}))}_updateMapViewport(_e,be){const Te=this._map,Pe=Te.getCenter();if(!(be.latitude!==_e.latitude&&be.latitude!==Pe.lat||be.longitude!==_e.longitude&&be.longitude!==Pe.lng||be.zoom!==_e.zoom&&be.zoom!==Te.getZoom()||be.pitch!==_e.pitch&&be.pitch!==Te.getPitch()||be.bearing!==_e.bearing&&be.bearing!==Te.getBearing()))return;const pt={center:[be.longitude,be.latitude],zoom:be.zoom,pitch:be.pitch,bearing:be.bearing},{viewportChangeMethod:vt,viewportChangeOptions:xt}=this.props,Tt={...xt,...pt};switch(vt){case $t:Te.flyTo(Tt);break;case qt:Te.jumpTo(Tt);break;case Wt:Te.easeTo(Tt);break;default:throw new Error("Unknown viewport change method")}}_updateMapSize(_e,be){((_e.style&&_e.style.height)!==(be.style&&be.style.height)||(_e.style&&_e.style.width)!==(be.style&&be.style.width))&&this._map.resize()}render(){const{loaded:_e}=this.state,{className:be,style:Te}=this.props,vt=this.props.children?utils_normalizeChildren(this.props.children):null;return(0,Pe.createElement)(pt.Z.Provider,{value:this._map},(0,Pe.createElement)("div",{ref:this._container,style:Te,className:be},_e&&vt))}}_defineProperty(Kt,"displayName","MapGL"),_defineProperty(Kt,"defaultProps",{children:null,className:null,style:null,mapStyle:"mapbox://styles/mapbox/light-v8",accessToken:null,bearing:0,pitch:0,minZoom:0,maxZoom:22,maxBounds:null,bounds:null,hash:!1,bearingSnap:7,pitchWithRotate:!0,attributionControl:!0,logoPosition:"bottom-left",failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,antialias:!1,refreshExpiredTiles:!0,boxZoom:!0,scrollZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,trackResize:!0,renderWorldCopies:!0,maxTileCacheSize:null,onViewportChange:null,onLoad:null,localIdeographFontFamily:null,transformRequest:null,collectResourceTiming:!1,fadeDuration:300,crossSourceCollisions:!0,locale:null,cursorStyle:null,viewportChangeMethod:qt,viewportChangeOptions:null});var Jt=Kt},16353:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(73935),pt=Te(67294),vt=Te(21594),xt=Te(98008);function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}class Tt extends pt.PureComponent{constructor(_e){super(_e),_defineProperty(this,"_onDragEnd",(()=>{this.props.onDragEnd(this._marker.getLngLat())})),_defineProperty(this,"_onDragStart",(()=>{this.props.onDragStart(this._marker.getLngLat())})),_defineProperty(this,"_onDrag",(()=>{this.props.onDrag(this._marker.getLngLat())})),this._el=document.createElement("div")}componentDidMount(){const{longitude:_e,latitude:be,onClick:Te,onDragEnd:Pe,onDragStart:pt,onDrag:vt}=this.props;this._marker=new xt.Z.Marker({element:this._el,anchor:this.props.anchor,draggable:this.props.draggable,offset:this.props.offset,rotation:this.props.rotation,pitchAlignment:this.props.pitchAlignment,rotationAlignment:this.props.rotationAlignment}),this._marker.setLngLat([_e,be]).addTo(this._map),Te&&this._el.addEventListener("click",Te),Pe&&this._marker.on("dragend",this._onDragEnd),pt&&this._marker.on("dragstart",this._onDragStart),vt&&this._marker.on("drag",this._onDrag)}componentDidUpdate(_e){(_e.latitude!==this.props.latitude||_e.longitude!==this.props.longitude)&&this._marker.setLngLat([this.props.longitude,this.props.latitude])}componentWillUnmount(){this._map&&this._map.getStyle()&&(this.props.onClick&&this._el.removeEventListener("click",this.props.onClick),this._marker.remove())}getMarker(){return this._marker}render(){return(0,pt.createElement)(vt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),(0,Pe.createPortal)(this.props.children,this._el))))}}_defineProperty(Tt,"displayName","Marker"),_defineProperty(Tt,"defaultProps",{anchor:"center",offset:null,draggable:!1,rotation:0,pitchAlignment:"auto",rotationAlignment:"auto"}),be.default=Tt},96402:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(67294),pt=Te(21594),vt=Te(98008);class xt extends Pe.PureComponent{componentDidMount(){const _e=this._map,{showCompass:be,showZoom:Te,visualizePitch:Pe,position:pt}=this.props,xt=new vt.Z.NavigationControl({showCompass:be,showZoom:Te,visualizePitch:Pe});_e.addControl(xt,pt),this._control=xt}componentWillUnmount(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}getControl(){return this._control}render(){return(0,Pe.createElement)(pt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}!function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}(xt,"defaultProps",{showCompass:!0,showZoom:!0,visualizePitch:!1,position:"top-right"}),be.default=xt},14962:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(73935),pt=Te(67294),vt=Te(21594),xt=Te(98008);function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}class Tt extends pt.PureComponent{constructor(_e){super(_e),this._el=document.createElement("div")}componentDidMount(){const{longitude:_e,latitude:be,offset:Te,closeButton:Pe,closeOnClick:pt,onClose:vt,anchor:Tt,className:It,maxWidth:Mt}=this.props;this._popup=new xt.Z.Popup({offset:Te,closeButton:Pe,closeOnClick:pt,anchor:Tt,className:It,maxWidth:Mt}),this._popup.setDOMContent(this._el),this._popup.setLngLat([_e,be]).addTo(this._map),vt&&this._popup.on("close",vt)}componentDidUpdate(_e){(_e.latitude!==this.props.latitude||_e.longitude!==this.props.longitude)&&this._popup.setLngLat([this.props.longitude,this.props.latitude])}componentWillUnmount(){this._map&&this._map.getStyle()&&this._popup.remove()}getPopup(){return this._popup}render(){return(0,pt.createElement)(vt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),(0,Pe.createPortal)(this.props.children,this._el))))}}_defineProperty(Tt,"displayName","Popup"),_defineProperty(Tt,"defaultProps",{closeButton:!0,closeOnClick:!0,onClose:void 0,anchor:void 0,offset:void 0,className:void 0,maxWidth:"240px"}),be.default=Tt},15993:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(67294),pt=Te(21594),vt=Te(98008);class xt extends Pe.PureComponent{componentDidMount(){const _e=this._map,{maxWidth:be,unit:Te,position:Pe}=this.props,pt=new vt.Z.ScaleControl({maxWidth:be,unit:Te});_e.addControl(pt,Pe),this._control=pt}componentWillUnmount(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}getControl(){return this._control}render(){return(0,Pe.createElement)(pt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}!function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}(xt,"defaultProps",{position:"bottom-right",unit:"metric"}),be.default=xt},91943:function(_e,be,Te){"use strict";Te.r(be),Te.d(be,{default:function(){return Tt}});var Pe=Te(67294),pt=Te(21594),vt=(Te(37363),Te(51791)),validateSource=_e=>{switch(_e.type){case"vector":return{type:"vector",..._e};case"raster":return{type:"raster",..._e};case"raster-dem":return{type:"raster-dem",..._e};case"geojson":return{type:"geojson",..._e};case"video":return{type:"video",..._e};case"image":return{type:"image",..._e};default:throw new Error(`Unknown type for '${_e.id}' Source`)}};function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}class xt extends Pe.PureComponent{constructor(..._e){super(..._e),_defineProperty(this,"state",{loaded:!1}),_defineProperty(this,"_onSourceData",(()=>{this._map.isSourceLoaded(this.props.id)&&(this._map.off("sourcedata",this._onSourceData),this.setState({loaded:!0}))})),_defineProperty(this,"_updateGeoJSONSource",((_e,be,Te)=>{if(Te.data!==be.data){const be=this._map.getSource(_e);void 0!==be&&be.setData(Te.data)}})),_defineProperty(this,"_updateImageSource",((_e,be,Te)=>{if(Te.url!==be.url||Te.coordinates!==be.coordinates){const be=this._map.getSource(_e);void 0!==be&&be.updateImage(Te)}})),_defineProperty(this,"_updateTileSource",((_e,be,Te)=>{if(Te.url===be.url&&(0,vt.Z)(Te.tiles,be.tiles))return;const Pe=this._map.getSource(_e);Pe._tileJSONRequest&&Pe._tileJSONRequest.cancel(),Pe.url=Te.url,Pe.scheme=Te.scheme,Pe._options={...Pe._options,...Te};const pt=this._map.style.sourceCaches[_e];pt&&pt.clearTiles(),Pe.load()})),_defineProperty(this,"_removeSource",(()=>{const{id:_e}=this.props;if(this._map.getSource(_e)){const{layers:be}=this._map.getStyle();be&&be.forEach((be=>{be.source===_e&&this._map.removeLayer(be.id)})),this._map.removeSource(_e)}}))}componentDidMount(){const{id:_e,children:be,...Te}=this.props,Pe=validateSource(Te);this._map.addSource(_e,Pe),this._map.on("sourcedata",this._onSourceData)}componentDidUpdate(_e){const{id:be,children:Te,...Pe}=_e,pt=validateSource(Pe),{id:vt,children:xt,...Tt}=this.props,It=validateSource(Tt);if(vt!==be||It.type!==pt.type)return this._map.removeSource(be),void this._map.addSource(vt,It);"geojson"!==It.type||"geojson"!==pt.type?"image"!==It.type||"image"!==pt.type?"vector"!==It.type||"vector"!==pt.type?"raster"===It.type&&"raster"===pt.type&&this._updateTileSource(vt,pt,It):this._updateTileSource(vt,pt,It):this._updateImageSource(vt,pt,It):this._updateGeoJSONSource(vt,pt,It)}componentWillUnmount(){this._map&&this._map.getStyle()&&this._removeSource()}render(){const{loaded:_e}=this.state,{children:be}=this.props;return(0,Pe.createElement)(pt.Z.Consumer,{},(Te=>(Te&&(this._map=Te),_e&&be)))}}_defineProperty(xt,"displayName","Source");var Tt=xt},83644:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(67294),pt=Te(99049),vt=Te.n(pt),xt=Te(21594);function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}class Tt extends Pe.PureComponent{constructor(..._e){super(..._e),_defineProperty(this,"_addControl",(()=>{const{showTraffic:_e,showTrafficButton:be,trafficSource:Te}=this.props,Pe=new(vt())({showTraffic:_e,showTrafficButton:be,trafficSource:Te});this._map.addControl(Pe),this._control=Pe}))}componentDidMount(){this._addControl()}componentDidUpdate(_e){_e.showTraffic!==this.props.showTraffic&&this._control.toggleTraffic();(_e.showTrafficButton!==this.props.showTrafficButton||_e.trafficSource!==this.props.trafficSource)&&(this._map.removeControl(this._control),this._addControl())}componentWillUnmount(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}getControl(){return this._control}render(){return(0,Pe.createElement)(xt.Z.Consumer,{},(_e=>(_e&&(this._map=_e),null)))}}_defineProperty(Tt,"defaultProps",{showTraffic:!1,showTrafficButton:!0,trafficSource:/mapbox-traffic-v\d/}),be.default=Tt},55579:function(_e,be,Te){"use strict";Te.r(be),Te.d(be,{AttributionControl:function(){return Ot.default},CustomLayer:function(){return xt.default},FeatureState:function(){return Lt.default},Filter:function(){return Yt.default},FullscreenControl:function(){return Vt.default},GeolocateControl:function(){return qt.default},Image:function(){return Ft.default},LanguageControl:function(){return Kt.default},Layer:function(){return vt.default},MapContext:function(){return pt.Z},Marker:function(){return Mt.default},NavigationControl:function(){return Wt.default},Popup:function(){return It.default},ScaleControl:function(){return $t.default},Source:function(){return Tt.default},TrafficControl:function(){return Jt.default},default:function(){return Pe.default}});var Pe=Te(66586),pt=Te(21594),vt=Te(37363),xt=Te(54177),Tt=Te(91943),It=Te(14962),Mt=Te(16353),Lt=Te(49060),Ft=Te(19877),Ot=Te(29937),Vt=Te(54173),qt=Te(51043),Wt=Te(96402),$t=Te(15993),Kt=Te(82302),Jt=Te(83644),Yt=Te(73985)},29946:function(_e){_e.exports=function capitalizeFirstLetter(_e){return _e.charAt(0).toUpperCase()+_e.slice(1)}},51791:function(_e,be){"use strict";be.Z=(_e=[],be=[])=>{if(_e.length!==be.length)return!1;for(let Te=0;Te<_e.length;Te+=1)if(_e[Te]!==be[Te])return!1;return!0}},98008:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return vt}});var Pe=function isElectron(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!=typeof process.versions||!Boolean(process.versions.electron))||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}();const pt=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||Pe;var vt=pt?Te(6158):null},66485:function(_e){_e.exports=function clipboardCopy(_e){if(navigator.clipboard)return navigator.clipboard.writeText(_e).catch((function(_e){throw void 0!==_e?_e:new DOMException("The request is not allowed","NotAllowedError")}));var be=document.createElement("span");be.textContent=_e,be.style.whiteSpace="pre",be.style.webkitUserSelect="auto",be.style.userSelect="all",document.body.appendChild(be);var Te=window.getSelection(),Pe=window.document.createRange();Te.removeAllRanges(),Pe.selectNode(be),Te.addRange(Pe);var pt=!1;try{pt=window.document.execCommand("copy")}catch(_e){console.log("error",_e)}return Te.removeAllRanges(),window.document.body.removeChild(be),pt?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))}},86010:function(_e,be,Te){"use strict";function toVal(_e){var be,Te,Pe="";if("string"==typeof _e||"number"==typeof _e)Pe+=_e;else if("object"==typeof _e)if(Array.isArray(_e))for(be=0;be<_e.length;be++)_e[be]&&(Te=toVal(_e[be]))&&(Pe&&(Pe+=" "),Pe+=Te);else for(be in _e)_e[be]&&(Pe&&(Pe+=" "),Pe+=be);return Pe}function __WEBPACK_DEFAULT_EXPORT__(){for(var _e,be,Te=0,Pe="";Te<arguments.length;)(_e=arguments[Te++])&&(be=toVal(_e))&&(Pe&&(Pe+=" "),Pe+=be);return Pe}Te.d(be,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}})},13099:function(_e){_e.exports=function(_e){if("function"!=typeof _e)throw TypeError(String(_e)+" is not a function");return _e}},96077:function(_e,be,Te){var Pe=Te(70111);_e.exports=function(_e){if(!Pe(_e)&&null!==_e)throw TypeError("Can't set "+String(_e)+" as a prototype");return _e}},31530:function(_e,be,Te){"use strict";var Pe=Te(28710).charAt;_e.exports=function(_e,be,Te){return be+(Te?Pe(_e,be).length:1)}},19670:function(_e,be,Te){var Pe=Te(70111);_e.exports=function(_e){if(!Pe(_e))throw TypeError(String(_e)+" is not an object");return _e}},18533:function(_e,be,Te){"use strict";var Pe=Te(42092).forEach,pt=Te(9341)("forEach");_e.exports=pt?[].forEach:function forEach(_e){return Pe(this,_e,arguments.length>1?arguments[1]:void 0)}},41318:function(_e,be,Te){var Pe=Te(45656),pt=Te(17466),vt=Te(51400),createMethod=function(_e){return function(be,Te,xt){var Tt,It=Pe(be),Mt=pt(It.length),Lt=vt(xt,Mt);if(_e&&Te!=Te){for(;Mt>Lt;)if((Tt=It[Lt++])!=Tt)return!0}else for(;Mt>Lt;Lt++)if((_e||Lt in It)&&It[Lt]===Te)return _e||Lt||0;return!_e&&-1}};_e.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},42092:function(_e,be,Te){var Pe=Te(49974),pt=Te(68361),vt=Te(47908),xt=Te(17466),Tt=Te(65417),It=[].push,createMethod=function(_e){var be=1==_e,Te=2==_e,Mt=3==_e,Lt=4==_e,Ft=6==_e,Ot=7==_e,Vt=5==_e||Ft;return function(qt,Wt,$t,Kt){for(var Jt,Yt,Qt=vt(qt),an=pt(Qt),cn=Pe(Wt,$t,3),hn=xt(an.length),pn=0,xn=Kt||Tt,Pn=be?xn(qt,hn):Te||Ot?xn(qt,0):void 0;hn>pn;pn++)if((Vt||pn in an)&&(Yt=cn(Jt=an[pn],pn,Qt),_e))if(be)Pn[pn]=Yt;else if(Yt)switch(_e){case 3:return!0;case 5:return Jt;case 6:return pn;case 2:It.call(Pn,Jt)}else switch(_e){case 4:return!1;case 7:It.call(Pn,Jt)}return Ft?-1:Mt||Lt?Lt:Pn}};_e.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterOut:createMethod(7)}},81194:function(_e,be,Te){var Pe=Te(47293),pt=Te(5112),vt=Te(7392),xt=pt("species");_e.exports=function(_e){return vt>=51||!Pe((function(){var be=[];return(be.constructor={})[xt]=function(){return{foo:1}},1!==be[_e](Boolean).foo}))}},9341:function(_e,be,Te){"use strict";var Pe=Te(47293);_e.exports=function(_e,be){var Te=[][_e];return!!Te&&Pe((function(){Te.call(null,be||function(){throw 1},1)}))}},65417:function(_e,be,Te){var Pe=Te(70111),pt=Te(43157),vt=Te(5112)("species");_e.exports=function(_e,be){var Te;return pt(_e)&&("function"!=typeof(Te=_e.constructor)||Te!==Array&&!pt(Te.prototype)?Pe(Te)&&null===(Te=Te[vt])&&(Te=void 0):Te=void 0),new(void 0===Te?Array:Te)(0===be?0:be)}},84326:function(_e){var be={}.toString;_e.exports=function(_e){return be.call(_e).slice(8,-1)}},70648:function(_e,be,Te){var Pe=Te(51694),pt=Te(84326),vt=Te(5112)("toStringTag"),xt="Arguments"==pt(function(){return arguments}()),tryGet=function(_e,be){try{return _e[be]}catch(_e){}};_e.exports=Pe?pt:function(_e){var be,Te,Pe;return void 0===_e?"Undefined":null===_e?"Null":"string"==typeof(Te=tryGet(be=Object(_e),vt))?Te:xt?pt(be):"Object"==(Pe=pt(be))&&"function"==typeof be.callee?"Arguments":Pe}},99920:function(_e,be,Te){var Pe=Te(86656),pt=Te(53887),vt=Te(31236),xt=Te(3070);_e.exports=function(_e,be){for(var Te=pt(be),Tt=xt.f,It=vt.f,Mt=0;Mt<Te.length;Mt++){var Lt=Te[Mt];Pe(_e,Lt)||Tt(_e,Lt,It(be,Lt))}}},49920:function(_e,be,Te){var Pe=Te(47293);_e.exports=!Pe((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},14230:function(_e,be,Te){var Pe=Te(84488),pt=/"/g;_e.exports=function(_e,be,Te,vt){var xt=String(Pe(_e)),Tt="<"+be;return""!==Te&&(Tt+=" "+Te+'="'+String(vt).replace(pt,"&quot;")+'"'),Tt+">"+xt+"</"+be+">"}},68880:function(_e,be,Te){var Pe=Te(19781),pt=Te(3070),vt=Te(79114);_e.exports=Pe?function(_e,be,Te){return pt.f(_e,be,vt(1,Te))}:function(_e,be,Te){return _e[be]=Te,_e}},79114:function(_e){_e.exports=function(_e,be){return{enumerable:!(1&_e),configurable:!(2&_e),writable:!(4&_e),value:be}}},86135:function(_e,be,Te){"use strict";var Pe=Te(57593),pt=Te(3070),vt=Te(79114);_e.exports=function(_e,be,Te){var xt=Pe(be);xt in _e?pt.f(_e,xt,vt(0,Te)):_e[xt]=Te}},97235:function(_e,be,Te){var Pe=Te(40857),pt=Te(86656),vt=Te(6061),xt=Te(3070).f;_e.exports=function(_e){var be=Pe.Symbol||(Pe.Symbol={});pt(be,_e)||xt(be,_e,{value:vt.f(_e)})}},19781:function(_e,be,Te){var Pe=Te(47293);_e.exports=!Pe((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},80317:function(_e,be,Te){var Pe=Te(17854),pt=Te(70111),vt=Pe.document,xt=pt(vt)&&pt(vt.createElement);_e.exports=function(_e){return xt?vt.createElement(_e):{}}},48324:function(_e){_e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},35268:function(_e,be,Te){var Pe=Te(84326),pt=Te(17854);_e.exports="process"==Pe(pt.process)},88113:function(_e,be,Te){var Pe=Te(35005);_e.exports=Pe("navigator","userAgent")||""},7392:function(_e,be,Te){var Pe,pt,vt=Te(17854),xt=Te(88113),Tt=vt.process,It=Tt&&Tt.versions,Mt=It&&It.v8;Mt?pt=(Pe=Mt.split("."))[0]+Pe[1]:xt&&(!(Pe=xt.match(/Edge\/(\d+)/))||Pe[1]>=74)&&(Pe=xt.match(/Chrome\/(\d+)/))&&(pt=Pe[1]),_e.exports=pt&&+pt},80748:function(_e){_e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82109:function(_e,be,Te){var Pe=Te(17854),pt=Te(31236).f,vt=Te(68880),xt=Te(31320),Tt=Te(83505),It=Te(99920),Mt=Te(54705);_e.exports=function(_e,be){var Te,Lt,Ft,Ot,Vt,qt=_e.target,Wt=_e.global,$t=_e.stat;if(Te=Wt?Pe:$t?Pe[qt]||Tt(qt,{}):(Pe[qt]||{}).prototype)for(Lt in be){if(Ot=be[Lt],Ft=_e.noTargetGet?(Vt=pt(Te,Lt))&&Vt.value:Te[Lt],!Mt(Wt?Lt:qt+($t?".":"#")+Lt,_e.forced)&&void 0!==Ft){if(typeof Ot==typeof Ft)continue;It(Ot,Ft)}(_e.sham||Ft&&Ft.sham)&&vt(Ot,"sham",!0),xt(Te,Lt,Ot,_e)}}},47293:function(_e){_e.exports=function(_e){try{return!!_e()}catch(_e){return!0}}},27007:function(_e,be,Te){"use strict";Te(74916);var Pe=Te(31320),pt=Te(47293),vt=Te(5112),xt=Te(68880),Tt=vt("species"),It=!pt((function(){var _e=/./;return _e.exec=function(){var _e=[];return _e.groups={a:"7"},_e},"7"!=="".replace(_e,"$<a>")})),Mt="$0"==="a".replace(/./,"$0"),Lt=vt("replace"),Ft=!!/./[Lt]&&""===/./[Lt]("a","$0"),Ot=!pt((function(){var _e=/(?:)/,be=_e.exec;_e.exec=function(){return be.apply(this,arguments)};var Te="ab".split(_e);return 2!==Te.length||"a"!==Te[0]||"b"!==Te[1]}));_e.exports=function(_e,be,Te,Lt){var Vt=vt(_e),qt=!pt((function(){var be={};return be[Vt]=function(){return 7},7!=""[_e](be)})),Wt=qt&&!pt((function(){var be=!1,Te=/a/;return"split"===_e&&((Te={}).constructor={},Te.constructor[Tt]=function(){return Te},Te.flags="",Te[Vt]=/./[Vt]),Te.exec=function(){return be=!0,null},Te[Vt](""),!be}));if(!qt||!Wt||"replace"===_e&&(!It||!Mt||Ft)||"split"===_e&&!Ot){var $t=/./[Vt],Kt=Te(Vt,""[_e],(function(_e,be,Te,Pe,pt){return be.exec===RegExp.prototype.exec?qt&&!pt?{done:!0,value:$t.call(be,Te,Pe)}:{done:!0,value:_e.call(Te,be,Pe)}:{done:!1}}),{REPLACE_KEEPS_$0:Mt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Ft}),Jt=Kt[0],Yt=Kt[1];Pe(String.prototype,_e,Jt),Pe(RegExp.prototype,Vt,2==be?function(_e,be){return Yt.call(_e,this,be)}:function(_e){return Yt.call(_e,this)})}Lt&&xt(RegExp.prototype[Vt],"sham",!0)}},76677:function(_e,be,Te){var Pe=Te(47293);_e.exports=!Pe((function(){return Object.isExtensible(Object.preventExtensions({}))}))},49974:function(_e,be,Te){var Pe=Te(13099);_e.exports=function(_e,be,Te){if(Pe(_e),void 0===be)return _e;switch(Te){case 0:return function(){return _e.call(be)};case 1:return function(Te){return _e.call(be,Te)};case 2:return function(Te,Pe){return _e.call(be,Te,Pe)};case 3:return function(Te,Pe,pt){return _e.call(be,Te,Pe,pt)}}return function(){return _e.apply(be,arguments)}}},27065:function(_e,be,Te){"use strict";var Pe=Te(13099),pt=Te(70111),vt=[].slice,xt={},construct=function(_e,be,Te){if(!(be in xt)){for(var Pe=[],pt=0;pt<be;pt++)Pe[pt]="a["+pt+"]";xt[be]=Function("C,a","return new C("+Pe.join(",")+")")}return xt[be](_e,Te)};_e.exports=Function.bind||function bind(_e){var be=Pe(this),Te=vt.call(arguments,1),xt=function bound(){var Pe=Te.concat(vt.call(arguments));return this instanceof xt?construct(be,Pe.length,Pe):be.apply(_e,Pe)};return pt(be.prototype)&&(xt.prototype=be.prototype),xt}},35005:function(_e,be,Te){var Pe=Te(40857),pt=Te(17854),aFunction=function(_e){return"function"==typeof _e?_e:void 0};_e.exports=function(_e,be){return arguments.length<2?aFunction(Pe[_e])||aFunction(pt[_e]):Pe[_e]&&Pe[_e][be]||pt[_e]&&pt[_e][be]}},10647:function(_e,be,Te){var Pe=Te(47908),pt=Math.floor,vt="".replace,xt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Tt=/\$([$&'`]|\d{1,2})/g;_e.exports=function(_e,be,Te,It,Mt,Lt){var Ft=Te+_e.length,Ot=It.length,Vt=Tt;return void 0!==Mt&&(Mt=Pe(Mt),Vt=xt),vt.call(Lt,Vt,(function(Pe,vt){var xt;switch(vt.charAt(0)){case"$":return"$";case"&":return _e;case"`":return be.slice(0,Te);case"'":return be.slice(Ft);case"<":xt=Mt[vt.slice(1,-1)];break;default:var Tt=+vt;if(0===Tt)return Pe;if(Tt>Ot){var Lt=pt(Tt/10);return 0===Lt?Pe:Lt<=Ot?void 0===It[Lt-1]?vt.charAt(1):It[Lt-1]+vt.charAt(1):Pe}xt=It[Tt-1]}return void 0===xt?"":xt}))}},17854:function(_e,be,Te){var check=function(_e){return _e&&_e.Math==Math&&_e};_e.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof Te.g&&Te.g)||function(){return this}()||Function("return this")()},86656:function(_e,be,Te){var Pe=Te(47908),pt={}.hasOwnProperty;_e.exports=function hasOwn(_e,be){return pt.call(Pe(_e),be)}},3501:function(_e){_e.exports={}},60490:function(_e,be,Te){var Pe=Te(35005);_e.exports=Pe("document","documentElement")},64664:function(_e,be,Te){var Pe=Te(19781),pt=Te(47293),vt=Te(80317);_e.exports=!Pe&&!pt((function(){return 7!=Object.defineProperty(vt("div"),"a",{get:function(){return 7}}).a}))},68361:function(_e,be,Te){var Pe=Te(47293),pt=Te(84326),vt="".split;_e.exports=Pe((function(){return!Object("z").propertyIsEnumerable(0)}))?function(_e){return"String"==pt(_e)?vt.call(_e,""):Object(_e)}:Object},79587:function(_e,be,Te){var Pe=Te(70111),pt=Te(27674);_e.exports=function(_e,be,Te){var vt,xt;return pt&&"function"==typeof(vt=be.constructor)&&vt!==Te&&Pe(xt=vt.prototype)&&xt!==Te.prototype&&pt(_e,xt),_e}},42788:function(_e,be,Te){var Pe=Te(5465),pt=Function.toString;"function"!=typeof Pe.inspectSource&&(Pe.inspectSource=function(_e){return pt.call(_e)}),_e.exports=Pe.inspectSource},62423:function(_e,be,Te){var Pe=Te(3501),pt=Te(70111),vt=Te(86656),xt=Te(3070).f,Tt=Te(69711),It=Te(76677),Mt=Tt("meta"),Lt=0,Ft=Object.isExtensible||function(){return!0},setMetadata=function(_e){xt(_e,Mt,{value:{objectID:"O"+ ++Lt,weakData:{}}})},Ot=_e.exports={REQUIRED:!1,fastKey:function(_e,be){if(!pt(_e))return"symbol"==typeof _e?_e:("string"==typeof _e?"S":"P")+_e;if(!vt(_e,Mt)){if(!Ft(_e))return"F";if(!be)return"E";setMetadata(_e)}return _e[Mt].objectID},getWeakData:function(_e,be){if(!vt(_e,Mt)){if(!Ft(_e))return!0;if(!be)return!1;setMetadata(_e)}return _e[Mt].weakData},onFreeze:function(_e){return It&&Ot.REQUIRED&&Ft(_e)&&!vt(_e,Mt)&&setMetadata(_e),_e}};Pe[Mt]=!0},29909:function(_e,be,Te){var Pe,pt,vt,xt=Te(68536),Tt=Te(17854),It=Te(70111),Mt=Te(68880),Lt=Te(86656),Ft=Te(5465),Ot=Te(6200),Vt=Te(3501),qt="Object already initialized",Wt=Tt.WeakMap;if(xt){var $t=Ft.state||(Ft.state=new Wt),Kt=$t.get,Jt=$t.has,Yt=$t.set;Pe=function(_e,be){if(Jt.call($t,_e))throw new TypeError(qt);return be.facade=_e,Yt.call($t,_e,be),be},pt=function(_e){return Kt.call($t,_e)||{}},vt=function(_e){return Jt.call($t,_e)}}else{var Qt=Ot("state");Vt[Qt]=!0,Pe=function(_e,be){if(Lt(_e,Qt))throw new TypeError(qt);return be.facade=_e,Mt(_e,Qt,be),be},pt=function(_e){return Lt(_e,Qt)?_e[Qt]:{}},vt=function(_e){return Lt(_e,Qt)}}_e.exports={set:Pe,get:pt,has:vt,enforce:function(_e){return vt(_e)?pt(_e):Pe(_e,{})},getterFor:function(_e){return function(be){var Te;if(!It(be)||(Te=pt(be)).type!==_e)throw TypeError("Incompatible receiver, "+_e+" required");return Te}}}},43157:function(_e,be,Te){var Pe=Te(84326);_e.exports=Array.isArray||function isArray(_e){return"Array"==Pe(_e)}},54705:function(_e,be,Te){var Pe=Te(47293),pt=/#|\.prototype\./,isForced=function(_e,be){var Te=xt[vt(_e)];return Te==It||Te!=Tt&&("function"==typeof be?Pe(be):!!be)},vt=isForced.normalize=function(_e){return String(_e).replace(pt,".").toLowerCase()},xt=isForced.data={},Tt=isForced.NATIVE="N",It=isForced.POLYFILL="P";_e.exports=isForced},70111:function(_e){_e.exports=function(_e){return"object"==typeof _e?null!==_e:"function"==typeof _e}},31913:function(_e){_e.exports=!1},47850:function(_e,be,Te){var Pe=Te(70111),pt=Te(84326),vt=Te(5112)("match");_e.exports=function(_e){var be;return Pe(_e)&&(void 0!==(be=_e[vt])?!!be:"RegExp"==pt(_e))}},30133:function(_e,be,Te){var Pe=Te(35268),pt=Te(7392),vt=Te(47293);_e.exports=!!Object.getOwnPropertySymbols&&!vt((function(){return!Symbol.sham&&(Pe?38===pt:pt>37&&pt<41)}))},68536:function(_e,be,Te){var Pe=Te(17854),pt=Te(42788),vt=Pe.WeakMap;_e.exports="function"==typeof vt&&/native code/.test(pt(vt))},21574:function(_e,be,Te){"use strict";var Pe=Te(19781),pt=Te(47293),vt=Te(81956),xt=Te(25181),Tt=Te(55296),It=Te(47908),Mt=Te(68361),Lt=Object.assign,Ft=Object.defineProperty;_e.exports=!Lt||pt((function(){if(Pe&&1!==Lt({b:1},Lt(Ft({},"a",{enumerable:!0,get:function(){Ft(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var _e={},be={},Te=Symbol(),pt="abcdefghijklmnopqrst";return _e[Te]=7,pt.split("").forEach((function(_e){be[_e]=_e})),7!=Lt({},_e)[Te]||vt(Lt({},be)).join("")!=pt}))?function assign(_e,be){for(var Te=It(_e),pt=arguments.length,Lt=1,Ft=xt.f,Ot=Tt.f;pt>Lt;)for(var Vt,qt=Mt(arguments[Lt++]),Wt=Ft?vt(qt).concat(Ft(qt)):vt(qt),$t=Wt.length,Kt=0;$t>Kt;)Vt=Wt[Kt++],Pe&&!Ot.call(qt,Vt)||(Te[Vt]=qt[Vt]);return Te}:Lt},70030:function(_e,be,Te){var Pe,pt=Te(19670),vt=Te(36048),xt=Te(80748),Tt=Te(3501),It=Te(60490),Mt=Te(80317),Lt=Te(6200),Ft=Lt("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(_e){return"<script>"+_e+"</"+"script>"},NullProtoObjectViaActiveX=function(_e){_e.write(scriptTag("")),_e.close();var be=_e.parentWindow.Object;return _e=null,be},NullProtoObject=function(){try{Pe=document.domain&&new ActiveXObject("htmlfile")}catch(_e){}var _e,be;NullProtoObject=Pe?NullProtoObjectViaActiveX(Pe):((be=Mt("iframe")).style.display="none",It.appendChild(be),be.src=String("javascript:"),(_e=be.contentWindow.document).open(),_e.write(scriptTag("document.F=Object")),_e.close(),_e.F);for(var Te=xt.length;Te--;)delete NullProtoObject.prototype[xt[Te]];return NullProtoObject()};Tt[Ft]=!0,_e.exports=Object.create||function create(_e,be){var Te;return null!==_e?(EmptyConstructor.prototype=pt(_e),Te=new EmptyConstructor,EmptyConstructor.prototype=null,Te[Ft]=_e):Te=NullProtoObject(),void 0===be?Te:vt(Te,be)}},36048:function(_e,be,Te){var Pe=Te(19781),pt=Te(3070),vt=Te(19670),xt=Te(81956);_e.exports=Pe?Object.defineProperties:function defineProperties(_e,be){vt(_e);for(var Te,Pe=xt(be),Tt=Pe.length,It=0;Tt>It;)pt.f(_e,Te=Pe[It++],be[Te]);return _e}},3070:function(_e,be,Te){var Pe=Te(19781),pt=Te(64664),vt=Te(19670),xt=Te(57593),Tt=Object.defineProperty;be.f=Pe?Tt:function defineProperty(_e,be,Te){if(vt(_e),be=xt(be,!0),vt(Te),pt)try{return Tt(_e,be,Te)}catch(_e){}if("get"in Te||"set"in Te)throw TypeError("Accessors not supported");return"value"in Te&&(_e[be]=Te.value),_e}},31236:function(_e,be,Te){var Pe=Te(19781),pt=Te(55296),vt=Te(79114),xt=Te(45656),Tt=Te(57593),It=Te(86656),Mt=Te(64664),Lt=Object.getOwnPropertyDescriptor;be.f=Pe?Lt:function getOwnPropertyDescriptor(_e,be){if(_e=xt(_e),be=Tt(be,!0),Mt)try{return Lt(_e,be)}catch(_e){}if(It(_e,be))return vt(!pt.f.call(_e,be),_e[be])}},1156:function(_e,be,Te){var Pe=Te(45656),pt=Te(8006).f,vt={}.toString,xt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(_e){try{return pt(_e)}catch(_e){return xt.slice()}};_e.exports.f=function getOwnPropertyNames(_e){return xt&&"[object Window]"==vt.call(_e)?getWindowNames(_e):pt(Pe(_e))}},8006:function(_e,be,Te){var Pe=Te(16324),pt=Te(80748).concat("length","prototype");be.f=Object.getOwnPropertyNames||function getOwnPropertyNames(_e){return Pe(_e,pt)}},25181:function(_e,be){be.f=Object.getOwnPropertySymbols},79518:function(_e,be,Te){var Pe=Te(86656),pt=Te(47908),vt=Te(6200),xt=Te(49920),Tt=vt("IE_PROTO"),It=Object.prototype;_e.exports=xt?Object.getPrototypeOf:function(_e){return _e=pt(_e),Pe(_e,Tt)?_e[Tt]:"function"==typeof _e.constructor&&_e instanceof _e.constructor?_e.constructor.prototype:_e instanceof Object?It:null}},16324:function(_e,be,Te){var Pe=Te(86656),pt=Te(45656),vt=Te(41318).indexOf,xt=Te(3501);_e.exports=function(_e,be){var Te,Tt=pt(_e),It=0,Mt=[];for(Te in Tt)!Pe(xt,Te)&&Pe(Tt,Te)&&Mt.push(Te);for(;be.length>It;)Pe(Tt,Te=be[It++])&&(~vt(Mt,Te)||Mt.push(Te));return Mt}},81956:function(_e,be,Te){var Pe=Te(16324),pt=Te(80748);_e.exports=Object.keys||function keys(_e){return Pe(_e,pt)}},55296:function(_e,be){"use strict";var Te={}.propertyIsEnumerable,Pe=Object.getOwnPropertyDescriptor,pt=Pe&&!Te.call({1:2},1);be.f=pt?function propertyIsEnumerable(_e){var be=Pe(this,_e);return!!be&&be.enumerable}:Te},27674:function(_e,be,Te){var Pe=Te(19670),pt=Te(96077);_e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var _e,be=!1,Te={};try{(_e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(Te,[]),be=Te instanceof Array}catch(_e){}return function setPrototypeOf(Te,vt){return Pe(Te),pt(vt),be?_e.call(Te,vt):Te.__proto__=vt,Te}}():void 0)},90288:function(_e,be,Te){"use strict";var Pe=Te(51694),pt=Te(70648);_e.exports=Pe?{}.toString:function toString(){return"[object "+pt(this)+"]"}},53887:function(_e,be,Te){var Pe=Te(35005),pt=Te(8006),vt=Te(25181),xt=Te(19670);_e.exports=Pe("Reflect","ownKeys")||function ownKeys(_e){var be=pt.f(xt(_e)),Te=vt.f;return Te?be.concat(Te(_e)):be}},40857:function(_e,be,Te){var Pe=Te(17854);_e.exports=Pe},31320:function(_e,be,Te){var Pe=Te(17854),pt=Te(68880),vt=Te(86656),xt=Te(83505),Tt=Te(42788),It=Te(29909),Mt=It.get,Lt=It.enforce,Ft=String(String).split("String");(_e.exports=function(_e,be,Te,Tt){var It,Mt=!!Tt&&!!Tt.unsafe,Ot=!!Tt&&!!Tt.enumerable,Vt=!!Tt&&!!Tt.noTargetGet;"function"==typeof Te&&("string"!=typeof be||vt(Te,"name")||pt(Te,"name",be),(It=Lt(Te)).source||(It.source=Ft.join("string"==typeof be?be:""))),_e!==Pe?(Mt?!Vt&&_e[be]&&(Ot=!0):delete _e[be],Ot?_e[be]=Te:pt(_e,be,Te)):Ot?_e[be]=Te:xt(be,Te)})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&Mt(this).source||Tt(this)}))},97651:function(_e,be,Te){var Pe=Te(84326),pt=Te(22261);_e.exports=function(_e,be){var Te=_e.exec;if("function"==typeof Te){var vt=Te.call(_e,be);if("object"!=typeof vt)throw TypeError("RegExp exec method returned something other than an Object or null");return vt}if("RegExp"!==Pe(_e))throw TypeError("RegExp#exec called on incompatible receiver");return pt.call(_e,be)}},22261:function(_e,be,Te){"use strict";var Pe,pt,vt=Te(67066),xt=Te(52999),Tt=Te(72309),It=RegExp.prototype.exec,Mt=Tt("native-string-replace",String.prototype.replace),Lt=It,Ft=(Pe=/a/,pt=/b*/g,It.call(Pe,"a"),It.call(pt,"a"),0!==Pe.lastIndex||0!==pt.lastIndex),Ot=xt.UNSUPPORTED_Y||xt.BROKEN_CARET,Vt=void 0!==/()??/.exec("")[1];(Ft||Vt||Ot)&&(Lt=function exec(_e){var be,Te,Pe,pt,xt=this,Tt=Ot&&xt.sticky,Lt=vt.call(xt),qt=xt.source,Wt=0,$t=_e;return Tt&&(-1===(Lt=Lt.replace("y","")).indexOf("g")&&(Lt+="g"),$t=String(_e).slice(xt.lastIndex),xt.lastIndex>0&&(!xt.multiline||xt.multiline&&"\n"!==_e[xt.lastIndex-1])&&(qt="(?: "+qt+")",$t=" "+$t,Wt++),Te=new RegExp("^(?:"+qt+")",Lt)),Vt&&(Te=new RegExp("^"+qt+"$(?!\\s)",Lt)),Ft&&(be=xt.lastIndex),Pe=It.call(Tt?Te:xt,$t),Tt?Pe?(Pe.input=Pe.input.slice(Wt),Pe[0]=Pe[0].slice(Wt),Pe.index=xt.lastIndex,xt.lastIndex+=Pe[0].length):xt.lastIndex=0:Ft&&Pe&&(xt.lastIndex=xt.global?Pe.index+Pe[0].length:be),Vt&&Pe&&Pe.length>1&&Mt.call(Pe[0],Te,(function(){for(pt=1;pt<arguments.length-2;pt++)void 0===arguments[pt]&&(Pe[pt]=void 0)})),Pe}),_e.exports=Lt},67066:function(_e,be,Te){"use strict";var Pe=Te(19670);_e.exports=function(){var _e=Pe(this),be="";return _e.global&&(be+="g"),_e.ignoreCase&&(be+="i"),_e.multiline&&(be+="m"),_e.dotAll&&(be+="s"),_e.unicode&&(be+="u"),_e.sticky&&(be+="y"),be}},52999:function(_e,be,Te){"use strict";var Pe=Te(47293);function RE(_e,be){return RegExp(_e,be)}be.UNSUPPORTED_Y=Pe((function(){var _e=RE("a","y");return _e.lastIndex=2,null!=_e.exec("abcd")})),be.BROKEN_CARET=Pe((function(){var _e=RE("^r","gy");return _e.lastIndex=2,null!=_e.exec("str")}))},84488:function(_e){_e.exports=function(_e){if(null==_e)throw TypeError("Can't call method on "+_e);return _e}},81150:function(_e){_e.exports=Object.is||function is(_e,be){return _e===be?0!==_e||1/_e==1/be:_e!=_e&&be!=be}},83505:function(_e,be,Te){var Pe=Te(17854),pt=Te(68880);_e.exports=function(_e,be){try{pt(Pe,_e,be)}catch(Te){Pe[_e]=be}return be}},96340:function(_e,be,Te){"use strict";var Pe=Te(35005),pt=Te(3070),vt=Te(5112),xt=Te(19781),Tt=vt("species");_e.exports=function(_e){var be=Pe(_e),Te=pt.f;xt&&be&&!be[Tt]&&Te(be,Tt,{configurable:!0,get:function(){return this}})}},58003:function(_e,be,Te){var Pe=Te(3070).f,pt=Te(86656),vt=Te(5112)("toStringTag");_e.exports=function(_e,be,Te){_e&&!pt(_e=Te?_e:_e.prototype,vt)&&Pe(_e,vt,{configurable:!0,value:be})}},6200:function(_e,be,Te){var Pe=Te(72309),pt=Te(69711),vt=Pe("keys");_e.exports=function(_e){return vt[_e]||(vt[_e]=pt(_e))}},5465:function(_e,be,Te){var Pe=Te(17854),pt=Te(83505),vt="__core-js_shared__",xt=Pe[vt]||pt(vt,{});_e.exports=xt},72309:function(_e,be,Te){var Pe=Te(31913),pt=Te(5465);(_e.exports=function(_e,be){return pt[_e]||(pt[_e]=void 0!==be?be:{})})("versions",[]).push({version:"3.11.1",mode:Pe?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},36707:function(_e,be,Te){var Pe=Te(19670),pt=Te(13099),vt=Te(5112)("species");_e.exports=function(_e,be){var Te,xt=Pe(_e).constructor;return void 0===xt||null==(Te=Pe(xt)[vt])?be:pt(Te)}},43429:function(_e,be,Te){var Pe=Te(47293);_e.exports=function(_e){return Pe((function(){var be=""[_e]('"');return be!==be.toLowerCase()||be.split('"').length>3}))}},28710:function(_e,be,Te){var Pe=Te(99958),pt=Te(84488),createMethod=function(_e){return function(be,Te){var vt,xt,Tt=String(pt(be)),It=Pe(Te),Mt=Tt.length;return It<0||It>=Mt?_e?"":void 0:(vt=Tt.charCodeAt(It))<55296||vt>56319||It+1===Mt||(xt=Tt.charCodeAt(It+1))<56320||xt>57343?_e?Tt.charAt(It):vt:_e?Tt.slice(It,It+2):xt-56320+(vt-55296<<10)+65536}};_e.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},76091:function(_e,be,Te){var Pe=Te(47293),pt=Te(81361);_e.exports=function(_e){return Pe((function(){return!!pt[_e]()||"​᠎"!="​᠎"[_e]()||pt[_e].name!==_e}))}},53111:function(_e,be,Te){var Pe=Te(84488),pt="["+Te(81361)+"]",vt=RegExp("^"+pt+pt+"*"),xt=RegExp(pt+pt+"*$"),createMethod=function(_e){return function(be){var Te=String(Pe(be));return 1&_e&&(Te=Te.replace(vt,"")),2&_e&&(Te=Te.replace(xt,"")),Te}};_e.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},51400:function(_e,be,Te){var Pe=Te(99958),pt=Math.max,vt=Math.min;_e.exports=function(_e,be){var Te=Pe(_e);return Te<0?pt(Te+be,0):vt(Te,be)}},45656:function(_e,be,Te){var Pe=Te(68361),pt=Te(84488);_e.exports=function(_e){return Pe(pt(_e))}},99958:function(_e){var be=Math.ceil,Te=Math.floor;_e.exports=function(_e){return isNaN(_e=+_e)?0:(_e>0?Te:be)(_e)}},17466:function(_e,be,Te){var Pe=Te(99958),pt=Math.min;_e.exports=function(_e){return _e>0?pt(Pe(_e),9007199254740991):0}},47908:function(_e,be,Te){var Pe=Te(84488);_e.exports=function(_e){return Object(Pe(_e))}},57593:function(_e,be,Te){var Pe=Te(70111);_e.exports=function(_e,be){if(!Pe(_e))return _e;var Te,pt;if(be&&"function"==typeof(Te=_e.toString)&&!Pe(pt=Te.call(_e)))return pt;if("function"==typeof(Te=_e.valueOf)&&!Pe(pt=Te.call(_e)))return pt;if(!be&&"function"==typeof(Te=_e.toString)&&!Pe(pt=Te.call(_e)))return pt;throw TypeError("Can't convert object to primitive value")}},51694:function(_e,be,Te){var Pe={};Pe[Te(5112)("toStringTag")]="z",_e.exports="[object z]"===String(Pe)},69711:function(_e){var be=0,Te=Math.random();_e.exports=function(_e){return"Symbol("+String(void 0===_e?"":_e)+")_"+(++be+Te).toString(36)}},43307:function(_e,be,Te){var Pe=Te(30133);_e.exports=Pe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:function(_e,be,Te){var Pe=Te(5112);be.f=Pe},5112:function(_e,be,Te){var Pe=Te(17854),pt=Te(72309),vt=Te(86656),xt=Te(69711),Tt=Te(30133),It=Te(43307),Mt=pt("wks"),Lt=Pe.Symbol,Ft=It?Lt:Lt&&Lt.withoutSetter||xt;_e.exports=function(_e){return vt(Mt,_e)&&(Tt||"string"==typeof Mt[_e])||(Tt&&vt(Lt,_e)?Mt[_e]=Lt[_e]:Mt[_e]=Ft("Symbol."+_e)),Mt[_e]}},81361:function(_e){_e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},92222:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(47293),vt=Te(43157),xt=Te(70111),Tt=Te(47908),It=Te(17466),Mt=Te(86135),Lt=Te(65417),Ft=Te(81194),Ot=Te(5112),Vt=Te(7392),qt=Ot("isConcatSpreadable"),Wt=9007199254740991,$t="Maximum allowed index exceeded",Kt=Vt>=51||!pt((function(){var _e=[];return _e[qt]=!1,_e.concat()[0]!==_e})),Jt=Ft("concat"),isConcatSpreadable=function(_e){if(!xt(_e))return!1;var be=_e[qt];return void 0!==be?!!be:vt(_e)};Pe({target:"Array",proto:!0,forced:!Kt||!Jt},{concat:function concat(_e){var be,Te,Pe,pt,vt,xt=Tt(this),Ft=Lt(xt,0),Ot=0;for(be=-1,Pe=arguments.length;be<Pe;be++)if(isConcatSpreadable(vt=-1===be?xt:arguments[be])){if(Ot+(pt=It(vt.length))>Wt)throw TypeError($t);for(Te=0;Te<pt;Te++,Ot++)Te in vt&&Mt(Ft,Ot,vt[Te])}else{if(Ot>=Wt)throw TypeError($t);Mt(Ft,Ot++,vt)}return Ft.length=Ot,Ft}})},26541:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(42092).every;Pe({target:"Array",proto:!0,forced:!Te(9341)("every")},{every:function every(_e){return pt(this,_e,arguments.length>1?arguments[1]:void 0)}})},57327:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(42092).filter;Pe({target:"Array",proto:!0,forced:!Te(81194)("filter")},{filter:function filter(_e){return pt(this,_e,arguments.length>1?arguments[1]:void 0)}})},89554:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(18533);Pe({target:"Array",proto:!0,forced:[].forEach!=pt},{forEach:pt})},82772:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(41318).indexOf,vt=Te(9341),xt=[].indexOf,Tt=!!xt&&1/[1].indexOf(1,-0)<0,It=vt("indexOf");Pe({target:"Array",proto:!0,forced:Tt||!It},{indexOf:function indexOf(_e){return Tt?xt.apply(this,arguments)||0:pt(this,_e,arguments.length>1?arguments[1]:void 0)}})},69600:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(68361),vt=Te(45656),xt=Te(9341),Tt=[].join,It=pt!=Object,Mt=xt("join",",");Pe({target:"Array",proto:!0,forced:It||!Mt},{join:function join(_e){return Tt.call(vt(this),void 0===_e?",":_e)}})},21249:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(42092).map;Pe({target:"Array",proto:!0,forced:!Te(81194)("map")},{map:function map(_e){return pt(this,_e,arguments.length>1?arguments[1]:void 0)}})},68309:function(_e,be,Te){var Pe=Te(19781),pt=Te(3070).f,vt=Function.prototype,xt=vt.toString,Tt=/^\s*function ([^ (]*)/,It="name";Pe&&!(It in vt)&&pt(vt,It,{configurable:!0,get:function(){try{return xt.call(this).match(Tt)[1]}catch(_e){return""}}})},19601:function(_e,be,Te){var Pe=Te(82109),pt=Te(21574);Pe({target:"Object",stat:!0,forced:Object.assign!==pt},{assign:pt})},43371:function(_e,be,Te){var Pe=Te(82109),pt=Te(76677),vt=Te(47293),xt=Te(70111),Tt=Te(62423).onFreeze,It=Object.freeze;Pe({target:"Object",stat:!0,forced:vt((function(){It(1)})),sham:!pt},{freeze:function freeze(_e){return It&&xt(_e)?It(Tt(_e)):_e}})},30489:function(_e,be,Te){var Pe=Te(82109),pt=Te(47293),vt=Te(47908),xt=Te(79518),Tt=Te(49920);Pe({target:"Object",stat:!0,forced:pt((function(){xt(1)})),sham:!Tt},{getPrototypeOf:function getPrototypeOf(_e){return xt(vt(_e))}})},47941:function(_e,be,Te){var Pe=Te(82109),pt=Te(47908),vt=Te(81956);Pe({target:"Object",stat:!0,forced:Te(47293)((function(){vt(1)}))},{keys:function keys(_e){return vt(pt(_e))}})},41539:function(_e,be,Te){var Pe=Te(51694),pt=Te(31320),vt=Te(90288);Pe||pt(Object.prototype,"toString",vt,{unsafe:!0})},12419:function(_e,be,Te){var Pe=Te(82109),pt=Te(35005),vt=Te(13099),xt=Te(19670),Tt=Te(70111),It=Te(70030),Mt=Te(27065),Lt=Te(47293),Ft=pt("Reflect","construct"),Ot=Lt((function(){function F(){}return!(Ft((function(){}),[],F)instanceof F)})),Vt=!Lt((function(){Ft((function(){}))})),qt=Ot||Vt;Pe({target:"Reflect",stat:!0,forced:qt,sham:qt},{construct:function construct(_e,be){vt(_e),xt(be);var Te=arguments.length<3?_e:vt(arguments[2]);if(Vt&&!Ot)return Ft(_e,be,Te);if(_e==Te){switch(be.length){case 0:return new _e;case 1:return new _e(be[0]);case 2:return new _e(be[0],be[1]);case 3:return new _e(be[0],be[1],be[2]);case 4:return new _e(be[0],be[1],be[2],be[3])}var Pe=[null];return Pe.push.apply(Pe,be),new(Mt.apply(_e,Pe))}var pt=Te.prototype,Lt=It(Tt(pt)?pt:Object.prototype),qt=Function.apply.call(_e,Lt,be);return Tt(qt)?qt:Lt}})},24603:function(_e,be,Te){var Pe=Te(19781),pt=Te(17854),vt=Te(54705),xt=Te(79587),Tt=Te(3070).f,It=Te(8006).f,Mt=Te(47850),Lt=Te(67066),Ft=Te(52999),Ot=Te(31320),Vt=Te(47293),qt=Te(29909).enforce,Wt=Te(96340),$t=Te(5112)("match"),Kt=pt.RegExp,Jt=Kt.prototype,Yt=/a/g,Qt=/a/g,an=new Kt(Yt)!==Yt,cn=Ft.UNSUPPORTED_Y;if(Pe&&vt("RegExp",!an||cn||Vt((function(){return Qt[$t]=!1,Kt(Yt)!=Yt||Kt(Qt)==Qt||"/a/i"!=Kt(Yt,"i")})))){for(var hn=function RegExp(_e,be){var Te,Pe=this instanceof hn,pt=Mt(_e),vt=void 0===be;if(!Pe&&pt&&_e.constructor===hn&&vt)return _e;an?pt&&!vt&&(_e=_e.source):_e instanceof hn&&(vt&&(be=Lt.call(_e)),_e=_e.source),cn&&(Te=!!be&&be.indexOf("y")>-1)&&(be=be.replace(/y/g,""));var Tt=xt(an?new Kt(_e,be):Kt(_e,be),Pe?this:Jt,hn);cn&&Te&&(qt(Tt).sticky=!0);return Tt},proxy=function(_e){_e in hn||Tt(hn,_e,{configurable:!0,get:function(){return Kt[_e]},set:function(be){Kt[_e]=be}})},pn=It(Kt),xn=0;pn.length>xn;)proxy(pn[xn++]);Jt.constructor=hn,hn.prototype=Jt,Ot(pt,"RegExp",hn)}Wt("RegExp")},74916:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(22261);Pe({target:"RegExp",proto:!0,forced:/./.exec!==pt},{exec:pt})},39714:function(_e,be,Te){"use strict";var Pe=Te(31320),pt=Te(19670),vt=Te(47293),xt=Te(67066),Tt="toString",It=RegExp.prototype,Mt=It.toString,Lt=vt((function(){return"/a/b"!=Mt.call({source:"a",flags:"b"})})),Ft=Mt.name!=Tt;(Lt||Ft)&&Pe(RegExp.prototype,Tt,(function toString(){var _e=pt(this),be=String(_e.source),Te=_e.flags;return"/"+be+"/"+String(void 0===Te&&_e instanceof RegExp&&!("flags"in It)?xt.call(_e):Te)}),{unsafe:!0})},15218:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(14230);Pe({target:"String",proto:!0,forced:Te(43429)("anchor")},{anchor:function anchor(_e){return pt(this,"a","name",_e)}})},29254:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(14230);Pe({target:"String",proto:!0,forced:Te(43429)("link")},{link:function link(_e){return pt(this,"a","href",_e)}})},4723:function(_e,be,Te){"use strict";var Pe=Te(27007),pt=Te(19670),vt=Te(17466),xt=Te(84488),Tt=Te(31530),It=Te(97651);Pe("match",1,(function(_e,be,Te){return[function match(be){var Te=xt(this),Pe=null==be?void 0:be[_e];return void 0!==Pe?Pe.call(be,Te):new RegExp(be)[_e](String(Te))},function(_e){var Pe=Te(be,_e,this);if(Pe.done)return Pe.value;var xt=pt(_e),Mt=String(this);if(!xt.global)return It(xt,Mt);var Lt=xt.unicode;xt.lastIndex=0;for(var Ft,Ot=[],Vt=0;null!==(Ft=It(xt,Mt));){var qt=String(Ft[0]);Ot[Vt]=qt,""===qt&&(xt.lastIndex=Tt(Mt,vt(xt.lastIndex),Lt)),Vt++}return 0===Vt?null:Ot}]}))},15306:function(_e,be,Te){"use strict";var Pe=Te(27007),pt=Te(19670),vt=Te(17466),xt=Te(99958),Tt=Te(84488),It=Te(31530),Mt=Te(10647),Lt=Te(97651),Ft=Math.max,Ot=Math.min;Pe("replace",2,(function(_e,be,Te,Pe){var Vt=Pe.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,qt=Pe.REPLACE_KEEPS_$0,Wt=Vt?"$":"$0";return[function replace(Te,Pe){var pt=Tt(this),vt=null==Te?void 0:Te[_e];return void 0!==vt?vt.call(Te,pt,Pe):be.call(String(pt),Te,Pe)},function(_e,Pe){if(!Vt&&qt||"string"==typeof Pe&&-1===Pe.indexOf(Wt)){var Tt=Te(be,_e,this,Pe);if(Tt.done)return Tt.value}var $t=pt(_e),Kt=String(this),Jt="function"==typeof Pe;Jt||(Pe=String(Pe));var Yt=$t.global;if(Yt){var Qt=$t.unicode;$t.lastIndex=0}for(var an=[];;){var cn=Lt($t,Kt);if(null===cn)break;if(an.push(cn),!Yt)break;""===String(cn[0])&&($t.lastIndex=It(Kt,vt($t.lastIndex),Qt))}for(var hn,pn="",xn=0,Pn=0;Pn<an.length;Pn++){cn=an[Pn];for(var Ln=String(cn[0]),Fn=Ft(Ot(xt(cn.index),Kt.length),0),jn=[],$n=1;$n<cn.length;$n++)jn.push(void 0===(hn=cn[$n])?hn:String(hn));var ea=cn.groups;if(Jt){var na=[Ln].concat(jn,Fn,Kt);void 0!==ea&&na.push(ea);var aa=String(Pe.apply(void 0,na))}else aa=Mt(Ln,Kt,Fn,jn,ea,Pe);Fn>=xn&&(pn+=Kt.slice(xn,Fn)+aa,xn=Fn+Ln.length)}return pn+Kt.slice(xn)}]}))},64765:function(_e,be,Te){"use strict";var Pe=Te(27007),pt=Te(19670),vt=Te(84488),xt=Te(81150),Tt=Te(97651);Pe("search",1,(function(_e,be,Te){return[function search(be){var Te=vt(this),Pe=null==be?void 0:be[_e];return void 0!==Pe?Pe.call(be,Te):new RegExp(be)[_e](String(Te))},function(_e){var Pe=Te(be,_e,this);if(Pe.done)return Pe.value;var vt=pt(_e),It=String(this),Mt=vt.lastIndex;xt(Mt,0)||(vt.lastIndex=0);var Lt=Tt(vt,It);return xt(vt.lastIndex,Mt)||(vt.lastIndex=Mt),null===Lt?-1:Lt.index}]}))},37268:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(14230);Pe({target:"String",proto:!0,forced:Te(43429)("small")},{small:function small(){return pt(this,"small","","")}})},23123:function(_e,be,Te){"use strict";var Pe=Te(27007),pt=Te(47850),vt=Te(19670),xt=Te(84488),Tt=Te(36707),It=Te(31530),Mt=Te(17466),Lt=Te(97651),Ft=Te(22261),Ot=Te(52999).UNSUPPORTED_Y,Vt=[].push,qt=Math.min,Wt=4294967295;Pe("split",2,(function(_e,be,Te){var Pe;return Pe="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(_e,Te){var Pe=String(xt(this)),vt=void 0===Te?Wt:Te>>>0;if(0===vt)return[];if(void 0===_e)return[Pe];if(!pt(_e))return be.call(Pe,_e,vt);for(var Tt,It,Mt,Lt=[],Ot=(_e.ignoreCase?"i":"")+(_e.multiline?"m":"")+(_e.unicode?"u":"")+(_e.sticky?"y":""),qt=0,$t=new RegExp(_e.source,Ot+"g");(Tt=Ft.call($t,Pe))&&!((It=$t.lastIndex)>qt&&(Lt.push(Pe.slice(qt,Tt.index)),Tt.length>1&&Tt.index<Pe.length&&Vt.apply(Lt,Tt.slice(1)),Mt=Tt[0].length,qt=It,Lt.length>=vt));)$t.lastIndex===Tt.index&&$t.lastIndex++;return qt===Pe.length?!Mt&&$t.test("")||Lt.push(""):Lt.push(Pe.slice(qt)),Lt.length>vt?Lt.slice(0,vt):Lt}:"0".split(void 0,0).length?function(_e,Te){return void 0===_e&&0===Te?[]:be.call(this,_e,Te)}:be,[function split(be,Te){var pt=xt(this),vt=null==be?void 0:be[_e];return void 0!==vt?vt.call(be,pt,Te):Pe.call(String(pt),be,Te)},function(_e,pt){var xt=Te(Pe,_e,this,pt,Pe!==be);if(xt.done)return xt.value;var Ft=vt(_e),Vt=String(this),$t=Tt(Ft,RegExp),Kt=Ft.unicode,Jt=(Ft.ignoreCase?"i":"")+(Ft.multiline?"m":"")+(Ft.unicode?"u":"")+(Ot?"g":"y"),Yt=new $t(Ot?"^(?:"+Ft.source+")":Ft,Jt),Qt=void 0===pt?Wt:pt>>>0;if(0===Qt)return[];if(0===Vt.length)return null===Lt(Yt,Vt)?[Vt]:[];for(var an=0,cn=0,hn=[];cn<Vt.length;){Yt.lastIndex=Ot?0:cn;var pn,xn=Lt(Yt,Ot?Vt.slice(cn):Vt);if(null===xn||(pn=qt(Mt(Yt.lastIndex+(Ot?cn:0)),Vt.length))===an)cn=It(Vt,cn,Kt);else{if(hn.push(Vt.slice(an,cn)),hn.length===Qt)return hn;for(var Pn=1;Pn<=xn.length-1;Pn++)if(hn.push(xn[Pn]),hn.length===Qt)return hn;cn=an=pn}}return hn.push(Vt.slice(an)),hn}]}),Ot)},73210:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(53111).trim;Pe({target:"String",proto:!0,forced:Te(76091)("trim")},{trim:function trim(){return pt(this)}})},41817:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(19781),vt=Te(17854),xt=Te(86656),Tt=Te(70111),It=Te(3070).f,Mt=Te(99920),Lt=vt.Symbol;if(pt&&"function"==typeof Lt&&(!("description"in Lt.prototype)||void 0!==Lt().description)){var Ft={},Ot=function Symbol(){var _e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),be=this instanceof Ot?new Lt(_e):void 0===_e?Lt():Lt(_e);return""===_e&&(Ft[be]=!0),be};Mt(Ot,Lt);var Vt=Ot.prototype=Lt.prototype;Vt.constructor=Ot;var qt=Vt.toString,Wt="Symbol(test)"==String(Lt("test")),$t=/^Symbol\((.*)\)[^)]+$/;It(Vt,"description",{configurable:!0,get:function description(){var _e=Tt(this)?this.valueOf():this,be=qt.call(_e);if(xt(Ft,_e))return"";var Te=Wt?be.slice(7,-1):be.replace($t,"$1");return""===Te?void 0:Te}}),Pe({global:!0,forced:!0},{Symbol:Ot})}},82526:function(_e,be,Te){"use strict";var Pe=Te(82109),pt=Te(17854),vt=Te(35005),xt=Te(31913),Tt=Te(19781),It=Te(30133),Mt=Te(43307),Lt=Te(47293),Ft=Te(86656),Ot=Te(43157),Vt=Te(70111),qt=Te(19670),Wt=Te(47908),$t=Te(45656),Kt=Te(57593),Jt=Te(79114),Yt=Te(70030),Qt=Te(81956),an=Te(8006),cn=Te(1156),hn=Te(25181),pn=Te(31236),xn=Te(3070),Pn=Te(55296),Ln=Te(68880),Fn=Te(31320),jn=Te(72309),$n=Te(6200),ea=Te(3501),na=Te(69711),aa=Te(5112),ra=Te(6061),ia=Te(97235),da=Te(58003),la=Te(29909),ua=Te(42092).forEach,ca=$n("hidden"),ga="Symbol",ma=aa("toPrimitive"),ya=la.set,_a=la.getterFor(ga),va=Object.prototype,xa=pt.Symbol,ba=vt("JSON","stringify"),wa=pn.f,Ea=xn.f,Ca=cn.f,Aa=Pn.f,Da=jn("symbols"),ka=jn("op-symbols"),Ia=jn("string-to-symbol-registry"),La=jn("symbol-to-string-registry"),Fa=jn("wks"),Ba=pt.QObject,za=!Ba||!Ba.prototype||!Ba.prototype.findChild,ja=Tt&&Lt((function(){return 7!=Yt(Ea({},"a",{get:function(){return Ea(this,"a",{value:7}).a}})).a}))?function(_e,be,Te){var Pe=wa(va,be);Pe&&delete va[be],Ea(_e,be,Te),Pe&&_e!==va&&Ea(va,be,Pe)}:Ea,wrap=function(_e,be){var Te=Da[_e]=Yt(xa.prototype);return ya(Te,{type:ga,tag:_e,description:be}),Tt||(Te.description=be),Te},Na=Mt?function(_e){return"symbol"==typeof _e}:function(_e){return Object(_e)instanceof xa},Ga=function defineProperty(_e,be,Te){_e===va&&Ga(ka,be,Te),qt(_e);var Pe=Kt(be,!0);return qt(Te),Ft(Da,Pe)?(Te.enumerable?(Ft(_e,ca)&&_e[ca][Pe]&&(_e[ca][Pe]=!1),Te=Yt(Te,{enumerable:Jt(0,!1)})):(Ft(_e,ca)||Ea(_e,ca,Jt(1,{})),_e[ca][Pe]=!0),ja(_e,Pe,Te)):Ea(_e,Pe,Te)},Ha=function defineProperties(_e,be){qt(_e);var Te=$t(be),Pe=Qt(Te).concat(ur(Te));return ua(Pe,(function(be){Tt&&!$a.call(Te,be)||Ga(_e,be,Te[be])})),_e},$a=function propertyIsEnumerable(_e){var be=Kt(_e,!0),Te=Aa.call(this,be);return!(this===va&&Ft(Da,be)&&!Ft(ka,be))&&(!(Te||!Ft(this,be)||!Ft(Da,be)||Ft(this,ca)&&this[ca][be])||Te)},Ja=function getOwnPropertyDescriptor(_e,be){var Te=$t(_e),Pe=Kt(be,!0);if(Te!==va||!Ft(Da,Pe)||Ft(ka,Pe)){var pt=wa(Te,Pe);return!pt||!Ft(Da,Pe)||Ft(Te,ca)&&Te[ca][Pe]||(pt.enumerable=!0),pt}},sr=function getOwnPropertyNames(_e){var be=Ca($t(_e)),Te=[];return ua(be,(function(_e){Ft(Da,_e)||Ft(ea,_e)||Te.push(_e)})),Te},ur=function getOwnPropertySymbols(_e){var be=_e===va,Te=Ca(be?ka:$t(_e)),Pe=[];return ua(Te,(function(_e){!Ft(Da,_e)||be&&!Ft(va,_e)||Pe.push(Da[_e])})),Pe};(It||(Fn((xa=function Symbol(){if(this instanceof xa)throw TypeError("Symbol is not a constructor");var _e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,be=na(_e),setter=function(_e){this===va&&setter.call(ka,_e),Ft(this,ca)&&Ft(this[ca],be)&&(this[ca][be]=!1),ja(this,be,Jt(1,_e))};return Tt&&za&&ja(va,be,{configurable:!0,set:setter}),wrap(be,_e)}).prototype,"toString",(function toString(){return _a(this).tag})),Fn(xa,"withoutSetter",(function(_e){return wrap(na(_e),_e)})),Pn.f=$a,xn.f=Ga,pn.f=Ja,an.f=cn.f=sr,hn.f=ur,ra.f=function(_e){return wrap(aa(_e),_e)},Tt&&(Ea(xa.prototype,"description",{configurable:!0,get:function description(){return _a(this).description}}),xt||Fn(va,"propertyIsEnumerable",$a,{unsafe:!0}))),Pe({global:!0,wrap:!0,forced:!It,sham:!It},{Symbol:xa}),ua(Qt(Fa),(function(_e){ia(_e)})),Pe({target:ga,stat:!0,forced:!It},{for:function(_e){var be=String(_e);if(Ft(Ia,be))return Ia[be];var Te=xa(be);return Ia[be]=Te,La[Te]=be,Te},keyFor:function keyFor(_e){if(!Na(_e))throw TypeError(_e+" is not a symbol");if(Ft(La,_e))return La[_e]},useSetter:function(){za=!0},useSimple:function(){za=!1}}),Pe({target:"Object",stat:!0,forced:!It,sham:!Tt},{create:function create(_e,be){return void 0===be?Yt(_e):Ha(Yt(_e),be)},defineProperty:Ga,defineProperties:Ha,getOwnPropertyDescriptor:Ja}),Pe({target:"Object",stat:!0,forced:!It},{getOwnPropertyNames:sr,getOwnPropertySymbols:ur}),Pe({target:"Object",stat:!0,forced:Lt((function(){hn.f(1)}))},{getOwnPropertySymbols:function getOwnPropertySymbols(_e){return hn.f(Wt(_e))}}),ba)&&Pe({target:"JSON",stat:!0,forced:!It||Lt((function(){var _e=xa();return"[null]"!=ba([_e])||"{}"!=ba({a:_e})||"{}"!=ba(Object(_e))}))},{stringify:function stringify(_e,be,Te){for(var Pe,pt=[_e],vt=1;arguments.length>vt;)pt.push(arguments[vt++]);if(Pe=be,(Vt(be)||void 0!==_e)&&!Na(_e))return Ot(be)||(be=function(_e,be){if("function"==typeof Pe&&(be=Pe.call(this,_e,be)),!Na(be))return be}),pt[1]=be,ba.apply(null,pt)}});xa.prototype[ma]||Ln(xa.prototype,ma,xa.prototype.valueOf),da(xa,ga),ea[ca]=!0},54747:function(_e,be,Te){var Pe=Te(17854),pt=Te(48324),vt=Te(18533),xt=Te(68880);for(var Tt in pt){var It=Pe[Tt],Mt=It&&It.prototype;if(Mt&&Mt.forEach!==vt)try{xt(Mt,"forEach",vt)}catch(_e){Mt.forEach=vt}}},78009:function(_e,be,Te){"use strict";var Pe=Te(8081),pt=Te.n(Pe),vt=Te(23645),xt=Te.n(vt),Tt=Te(61667),It=Te.n(Tt),Mt=new URL(Te(82071),Te.b),Lt=new URL(Te(17610),Te.b),Ft=xt()(pt()),Ot=It()(Mt),Vt=It()(Lt);Ft.push([_e.id,".mapboxgl-ctrl-traffic {\n  background-image: url("+Ot+");\n}\n\n.mapboxgl-ctrl-map {\n  background-image: url("+Vt+");\n}\n\n",""]),be.Z=Ft},7113:function(_e,be,Te){"use strict";var Pe=Te(8081),pt=Te.n(Pe),vt=Te(23645),xt=Te.n(vt),Tt=Te(61667),It=Te.n(Tt),Mt=new URL(Te(44669),Te.b),Lt=new URL(Te(93743),Te.b),Ft=new URL(Te(55105),Te.b),Ot=new URL(Te(56137),Te.b),Vt=new URL(Te(97052),Te.b),qt=new URL(Te(21690),Te.b),Wt=new URL(Te(54862),Te.b),$t=new URL(Te(83121),Te.b),Kt=new URL(Te(3954),Te.b),Jt=new URL(Te(3947),Te.b),Yt=new URL(Te(69633),Te.b),Qt=new URL(Te(25440),Te.b),an=new URL(Te(24425),Te.b),cn=new URL(Te(76352),Te.b),hn=new URL(Te(79813),Te.b),pn=new URL(Te(35834),Te.b),xn=new URL(Te(31570),Te.b),Pn=new URL(Te(40583),Te.b),Ln=new URL(Te(30662),Te.b),Fn=new URL(Te(31546),Te.b),jn=new URL(Te(18684),Te.b),$n=new URL(Te(60854),Te.b),ea=new URL(Te(22380),Te.b),na=new URL(Te(38299),Te.b),aa=new URL(Te(63239),Te.b),ra=new URL(Te(12905),Te.b),ia=new URL(Te(29479),Te.b),da=new URL(Te(1918),Te.b),la=new URL(Te(99504),Te.b),ua=new URL(Te(14350),Te.b),ca=xt()(pt()),ga=It()(Mt),ma=It()(Lt),ya=It()(Ft),_a=It()(Ot),va=It()(Vt),xa=It()(qt),ba=It()(Wt),wa=It()($t),Ea=It()(Kt),Ca=It()(Jt),Aa=It()(Yt),Da=It()(Qt),ka=It()(an),Ia=It()(cn),La=It()(hn),Fa=It()(pn),Ba=It()(xn),za=It()(Pn),ja=It()(Ln),Na=It()(Fn),Ga=It()(jn),Ha=It()($n),$a=It()(ea),Ja=It()(na),sr=It()(aa),ur=It()(ra),cr=It()(ia),pr=It()(da),mr=It()(la),yr=It()(ua);ca.push([_e.id,".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgb(0 0 0/10%)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer;overflow:hidden}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px rgb(0 150 255/100%)}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl-group button:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:only-child{border-radius:inherit}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px rgb(0 150 255/100%)}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("+ga+")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("+ma+")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("+ya+")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("+_a+")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("+va+")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("+xa+")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("+ba+")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("+wa+")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("+Ea+")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("+Ca+")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("+Aa+")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("+Da+")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("+ka+")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("+Ia+")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("+La+")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("+Fa+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("+Ba+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("+za+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("+ja+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("+Na+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("+Ga+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("+Ha+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("+$a+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("+za+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("+ja+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("+Na+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("+Ga+")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("+Ja+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("+sr+")}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url("+ur+")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url("+cr+")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url("+pr+")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:rgb(255 255 255/50%);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url("+mr+");background-color:rgb(255 255 255/50%);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("+yr+")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("+mr+')}}.mapboxgl-ctrl-attrib a{color:rgb(0 0 0/75%);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:rgb(255 255 255/75%);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box;white-space:nowrap}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgb(0 0 0/10%);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform;opacity:1;transition:opacity .2s}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:"";position:absolute;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgb(0 0 0/35%)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading{width:0;height:0}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after,.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{content:"";border-bottom:7.5px solid #4aa1eb;position:absolute}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-left:7.5px solid transparent;transform:translateY(-28px) skewY(-20deg)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after{border-right:7.5px solid transparent;transform:translate(7.5px,-28px) skewY(20deg)}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}.mapboxgl-scroll-zoom-blocker,.mapboxgl-touch-pan-blocker{color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;justify-content:center;text-align:center;position:absolute;display:flex;align-items:center;top:0;left:0;width:100%;height:100%;background:rgb(0 0 0/70%);opacity:0;pointer-events:none;transition:opacity .75s ease-in-out;transition-delay:1s}.mapboxgl-scroll-zoom-blocker-show,.mapboxgl-touch-pan-blocker-show{opacity:1;transition:opacity .1s ease-in-out}.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page,.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page .mapboxgl-canvas{touch-action:pan-x pan-y}',""]),be.Z=ca},23645:function(_e){"use strict";_e.exports=function(_e){var be=[];return be.toString=function toString(){return this.map((function(be){var Te="",Pe=void 0!==be[5];return be[4]&&(Te+="@supports (".concat(be[4],") {")),be[2]&&(Te+="@media ".concat(be[2]," {")),Pe&&(Te+="@layer".concat(be[5].length>0?" ".concat(be[5]):""," {")),Te+=_e(be),Pe&&(Te+="}"),be[2]&&(Te+="}"),be[4]&&(Te+="}"),Te})).join("")},be.i=function i(_e,Te,Pe,pt,vt){"string"==typeof _e&&(_e=[[null,_e,void 0]]);var xt={};if(Pe)for(var Tt=0;Tt<this.length;Tt++){var It=this[Tt][0];null!=It&&(xt[It]=!0)}for(var Mt=0;Mt<_e.length;Mt++){var Lt=[].concat(_e[Mt]);Pe&&xt[Lt[0]]||(void 0!==vt&&(void 0===Lt[5]||(Lt[1]="@layer".concat(Lt[5].length>0?" ".concat(Lt[5]):""," {").concat(Lt[1],"}")),Lt[5]=vt),Te&&(Lt[2]?(Lt[1]="@media ".concat(Lt[2]," {").concat(Lt[1],"}"),Lt[2]=Te):Lt[2]=Te),pt&&(Lt[4]?(Lt[1]="@supports (".concat(Lt[4],") {").concat(Lt[1],"}"),Lt[4]=pt):Lt[4]="".concat(pt)),be.push(Lt))}},be}},61667:function(_e){"use strict";_e.exports=function(_e,be){return be||(be={}),_e?(_e=String(_e.__esModule?_e.default:_e),/^['"].*['"]$/.test(_e)&&(_e=_e.slice(1,-1)),be.hash&&(_e+=be.hash),/["'() \t\n]|(%20)/.test(_e)||be.needQuotes?'"'.concat(_e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):_e):_e}},8081:function(_e){"use strict";_e.exports=function(_e){return _e[1]}},5291:function(_e,be,Te){!function(){"use strict";var _e,Pe,pt,vt,xt,Tt;function sliceSource(_e,be,Te){return _e.slice(be,Te)}function isParamTitle(_e){return"param"===_e||"argument"===_e||"arg"===_e}function isReturnTitle(_e){return"return"===_e||"returns"===_e}function isProperty(_e){return"property"===_e||"prop"===_e}function isNameParameterRequired(_e){return isParamTitle(_e)||isProperty(_e)||"alias"===_e||"this"===_e||"mixes"===_e||"requires"===_e}function isAllowedNested(_e){return isProperty(_e)||isParamTitle(_e)}function isAllowedOptional(_e){return isProperty(_e)||isParamTitle(_e)}function isTypeParameterRequired(_e){return isParamTitle(_e)||isReturnTitle(_e)||"define"===_e||"enum"===_e||"implements"===_e||"this"===_e||"type"===_e||"typedef"===_e||isProperty(_e)}vt=Te(649),_e=Te(32518),Pe=Te(41408),Tt=Object.prototype.hasOwnProperty,xt=function hasOwnProperty(_e,be){return Tt.call(_e,be)};var It="[ \\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",Mt="("+It+"*(?:\\*"+It+"?)?)(.+|[\r\n\u2028\u2029])";function unwrapComment(_e){return _e.replace(/^\/\*\*?/,"").replace(/\*\/$/,"").replace(new RegExp(Mt,"g"),"$2").replace(/\s*$/,"")}function convertUnwrappedCommentIndex(_e,be){for(var Te,Pe=_e.replace(/^\/\*\*?/,""),pt=0,vt=new RegExp(Mt,"g");Te=vt.exec(Pe);)if(pt+=Te[1].length,Te.index+Te[0].length>be+pt)return be+pt+_e.length-Pe.length;return _e.replace(/\*\/$/,"").replace(/\s*$/,"").length}!function(be){var Te,pt,Tt,It,Mt,Lt,Ft,Ot,Vt;function advance(){var _e=Mt.charCodeAt(pt);return pt+=1,!vt.code.isLineTerminator(_e)||13===_e&&10===Mt.charCodeAt(pt)||(Tt+=1),String.fromCharCode(_e)}function scanTitle(){var _e,be="";for(advance();pt<It&&((_e=Mt.charCodeAt(pt))>=97&&_e<=122||_e>=65&&_e<=90||_e>=48&&_e<=57);)be+=advance();return be}function seekContent(){var _e,be,Te=pt;for(be=!1;Te<It;){if(_e=Mt.charCodeAt(Te),!vt.code.isLineTerminator(_e)||13===_e&&10===Mt.charCodeAt(Te+1)){if(be){if(64===_e)break;vt.code.isWhiteSpace(_e)||(be=!1)}}else be=!0;Te+=1}return Te}function parseType(be,Te,xt){for(var Tt,It,Lt,Ft,Ot=!1;pt<Te;){if(Tt=Mt.charCodeAt(pt),!vt.code.isWhiteSpace(Tt)){if(123===Tt){advance();break}Ot=!0;break}advance()}if(Ot)return null;for(It=1,Lt="";pt<Te;)if(Tt=Mt.charCodeAt(pt),vt.code.isLineTerminator(Tt))advance();else{if(125===Tt){if(0===(It-=1)){advance();break}}else 123===Tt&&(It+=1);""===Lt&&(Ft=pt),Lt+=advance()}return 0!==It?Pe.throwError("Braces are not balanced"):isAllowedOptional(be)?_e.parseParamType(Lt,{startIndex:convertIndex(Ft),range:xt}):_e.parseType(Lt,{startIndex:convertIndex(Ft),range:xt})}function scanIdentifier(_e){var be;if(!vt.code.isIdentifierStartES5(Mt.charCodeAt(pt))&&!Mt[pt].match(/[0-9]/))return null;for(be=advance();pt<_e&&vt.code.isIdentifierPartES5(Mt.charCodeAt(pt));)be+=advance();return be}function skipWhiteSpace(_e){for(;pt<_e&&(vt.code.isWhiteSpace(Mt.charCodeAt(pt))||vt.code.isLineTerminator(Mt.charCodeAt(pt)));)advance()}function parseName(_e,be,Te){var Pe,xt,Tt="";if(skipWhiteSpace(_e),pt>=_e)return null;if(91===Mt.charCodeAt(pt)){if(!be)return null;Pe=!0,Tt=advance()}if(Tt+=scanIdentifier(_e),Te)for(58!==Mt.charCodeAt(pt)||"module"!==Tt&&"external"!==Tt&&"event"!==Tt||(Tt+=advance(),Tt+=scanIdentifier(_e)),91===Mt.charCodeAt(pt)&&93===Mt.charCodeAt(pt+1)&&(Tt+=advance(),Tt+=advance());46===Mt.charCodeAt(pt)||47===Mt.charCodeAt(pt)||35===Mt.charCodeAt(pt)||45===Mt.charCodeAt(pt)||126===Mt.charCodeAt(pt);)Tt+=advance(),Tt+=scanIdentifier(_e);if(Pe){if(skipWhiteSpace(_e),61===Mt.charCodeAt(pt)){var It;Tt+=advance(),skipWhiteSpace(_e);for(var Lt=1;pt<_e;){if(It=Mt.charCodeAt(pt),vt.code.isWhiteSpace(It)&&(xt||(skipWhiteSpace(_e),It=Mt.charCodeAt(pt))),39===It&&(xt?"'"===xt&&(xt=""):xt="'"),34===It&&(xt?'"'===xt&&(xt=""):xt='"'),91===It)Lt++;else if(93===It&&0==--Lt)break;Tt+=advance()}}if(skipWhiteSpace(_e),pt>=_e||93!==Mt.charCodeAt(pt))return null;Tt+=advance()}return Tt}function skipToTag(){for(;pt<It&&64!==Mt.charCodeAt(pt);)advance();return!(pt>=It)&&(Pe.assert(64===Mt.charCodeAt(pt)),!0)}function convertIndex(_e){return Mt===Lt?_e:convertUnwrappedCommentIndex(Lt,_e)}function TagParser(_e,be){this._options=_e,this._title=be.toLowerCase(),this._tag={title:be,description:null},this._options.lineNumbers&&(this._tag.lineNumber=Tt),this._first=pt-be.length-1,this._last=0,this._extra={}}function parseTag(_e){var be,Te;if(!skipToTag())return null;for(Te=(be=new TagParser(_e,scanTitle())).parse();pt<be._last;)advance();return Te}function scanJSDocDescription(_e){var be,Te,Pe="";for(Te=!0;pt<It&&(be=Mt.charCodeAt(pt),!Te||64!==be);)vt.code.isLineTerminator(be)?Te=!0:Te&&!vt.code.isWhiteSpace(be)&&(Te=!1),Pe+=advance();return _e?Pe:Pe.trim()}TagParser.prototype.addError=function addError(_e){var be=Array.prototype.slice.call(arguments,1),Te=_e.replace(/%(\d)/g,(function(_e,Te){return Pe.assert(Te<be.length,"Message reference must be in range"),be[Te]}));return this._tag.errors||(this._tag.errors=[]),Vt&&Pe.throwError(Te),this._tag.errors.push(Te),Ft},TagParser.prototype.parseType=function(){if(isTypeParameterRequired(this._title))try{if(this._tag.type=parseType(this._title,this._last,this._options.range),!(this._tag.type||isParamTitle(this._title)||isReturnTitle(this._title)||this.addError("Missing or invalid tag type")))return!1}catch(_e){if(this._tag.type=null,!this.addError(_e.message))return!1}else if(isTypeParameterRequired(_e=this._title)||"throws"===_e||"const"===_e||"constant"===_e||"namespace"===_e||"member"===_e||"var"===_e||"module"===_e||"constructor"===_e||"class"===_e||"extends"===_e||"augments"===_e||"public"===_e||"private"===_e||"protected"===_e)try{this._tag.type=parseType(this._title,this._last,this._options.range)}catch(_e){}var _e;return!0},TagParser.prototype._parseNamePath=function(_e){var be;return!!((be=parseName(this._last,Ot&&isAllowedOptional(this._title),!0))||_e||this.addError("Missing or invalid tag name"))&&(this._tag.name=be,!0)},TagParser.prototype.parseNamePath=function(){return this._parseNamePath(!1)},TagParser.prototype.parseNamePathOptional=function(){return this._parseNamePath(!0)},TagParser.prototype.parseName=function(){var _e,be,Te;if(isNameParameterRequired(Te=this._title)||"const"===Te||"constant"===Te)if(this._tag.name=parseName(this._last,Ot&&isAllowedOptional(this._title),isAllowedNested(this._title)),this._tag.name)"["===(be=this._tag.name).charAt(0)&&"]"===be.charAt(be.length-1)&&((_e=be.substring(1,be.length-1).split("=")).length>1&&(this._tag.default=_e.slice(1).join("=")),this._tag.name=_e[0],this._tag.type&&"OptionalType"!==this._tag.type.type&&(this._tag.type={type:"OptionalType",expression:this._tag.type}));else{if(!isNameParameterRequired(this._title))return!0;if(isParamTitle(this._title)&&this._tag.type&&this._tag.type.name)this._extra.name=this._tag.type,this._tag.name=this._tag.type.name,this._tag.type=null;else if(!this.addError("Missing or invalid tag name"))return!1}return!0},TagParser.prototype.parseDescription=function parseDescription(){var _e=sliceSource(Mt,pt,this._last).trim();return _e&&(/^-\s+/.test(_e)&&(_e=_e.substring(2)),this._tag.description=_e),!0},TagParser.prototype.parseCaption=function parseDescription(){var _e=sliceSource(Mt,pt,this._last).trim(),be="<caption>",Te="</caption>",Pe=_e.indexOf(be),vt=_e.indexOf(Te);return Pe>=0&&vt>=0?(this._tag.caption=_e.substring(Pe+be.length,vt).trim(),this._tag.description=_e.substring(vt+Te.length).trim()):this._tag.description=_e,!0},TagParser.prototype.parseKind=function parseKind(){var _e,be;return be={class:!0,constant:!0,event:!0,external:!0,file:!0,function:!0,member:!0,mixin:!0,module:!0,namespace:!0,typedef:!0},_e=sliceSource(Mt,pt,this._last).trim(),this._tag.kind=_e,!(!xt(be,_e)&&!this.addError("Invalid kind name '%0'",_e))},TagParser.prototype.parseAccess=function parseAccess(){var _e;return _e=sliceSource(Mt,pt,this._last).trim(),this._tag.access=_e,!("private"!==_e&&"protected"!==_e&&"public"!==_e&&!this.addError("Invalid access name '%0'",_e))},TagParser.prototype.parseThis=function parseThis(){var _e=sliceSource(Mt,pt,this._last).trim();return _e&&"{"===_e.charAt(0)?this.parseType()&&"NameExpression"===this._tag.type.type||"UnionType"===this._tag.type.type?(this._tag.name=this._tag.type.name,!0):this.addError("Invalid name for this"):this.parseNamePath()},TagParser.prototype.parseVariation=function parseVariation(){var _e,be;return be=sliceSource(Mt,pt,this._last).trim(),_e=parseFloat(be,10),this._tag.variation=_e,!(isNaN(_e)&&!this.addError("Invalid variation '%0'",be))},TagParser.prototype.ensureEnd=function(){var _e=sliceSource(Mt,pt,this._last).trim();return!(_e&&!this.addError("Unknown content '%0'",_e))},TagParser.prototype.epilogue=function epilogue(){var _e;return _e=this._tag.description,!(isAllowedOptional(this._title)&&!this._tag.type&&_e&&"["===_e.charAt(0)&&(this._tag.type=this._extra.name,this._tag.name||(this._tag.name=void 0),!Ot&&!this.addError("Missing or invalid tag name")))},Te={access:["parseAccess"],alias:["parseNamePath","ensureEnd"],augments:["parseType","parseNamePathOptional","ensureEnd"],constructor:["parseType","parseNamePathOptional","ensureEnd"],class:["parseType","parseNamePathOptional","ensureEnd"],extends:["parseType","parseNamePathOptional","ensureEnd"],example:["parseCaption"],deprecated:["parseDescription"],global:["ensureEnd"],inner:["ensureEnd"],instance:["ensureEnd"],kind:["parseKind"],mixes:["parseNamePath","ensureEnd"],mixin:["parseNamePathOptional","ensureEnd"],member:["parseType","parseNamePathOptional","ensureEnd"],method:["parseNamePathOptional","ensureEnd"],module:["parseType","parseNamePathOptional","ensureEnd"],func:["parseNamePathOptional","ensureEnd"],function:["parseNamePathOptional","ensureEnd"],var:["parseType","parseNamePathOptional","ensureEnd"],name:["parseNamePath","ensureEnd"],namespace:["parseType","parseNamePathOptional","ensureEnd"],private:["parseType","parseDescription"],protected:["parseType","parseDescription"],public:["parseType","parseDescription"],readonly:["ensureEnd"],requires:["parseNamePath","ensureEnd"],since:["parseDescription"],static:["ensureEnd"],summary:["parseDescription"],this:["parseThis","ensureEnd"],todo:["parseDescription"],typedef:["parseType","parseNamePathOptional"],variation:["parseVariation"],version:["parseDescription"]},TagParser.prototype.parse=function parse(){var _e,be,Pe;if(!this._title&&!this.addError("Missing or invalid title"))return null;for(this._last=seekContent(this._title),this._options.range&&(this._tag.range=[this._first,Mt.slice(0,this._last).replace(/\s*$/,"").length].map(convertIndex)),_e=0,be=(Pe=xt(Te,this._title)?Te[this._title]:["parseType","parseName","parseDescription","epilogue"]).length;_e<be;++_e)if(!this[Pe[_e]]())return null;return this._tag},be.parse=function parse(_e,be){var Te,vt,xt,qt,Wt,$t=[];if(void 0===be&&(be={}),Mt="boolean"==typeof be.unwrap&&be.unwrap?unwrapComment(_e):_e,Lt=_e,be.tags)if(Array.isArray(be.tags))for(xt={},qt=0,Wt=be.tags.length;qt<Wt;qt++)"string"==typeof be.tags[qt]?xt[be.tags[qt]]=!0:Pe.throwError('Invalid "tags" parameter: '+be.tags);else Pe.throwError('Invalid "tags" parameter: '+be.tags);for(It=Mt.length,pt=0,Tt=0,Ft=be.recoverable,Ot=be.sloppy,Vt=be.strict,vt=scanJSDocDescription(be.preserveWhitespace);Te=parseTag(be);)xt&&!xt.hasOwnProperty(Te.title)||$t.push(Te);return{description:vt,tags:$t}}}(pt={}),Pe.VERSION,pt.parse,_e.parseType,_e.parseParamType,unwrapComment,be.GY=function shallowCopy(_e){var be,Te={};for(be in _e)_e.hasOwnProperty(be)&&(Te[be]=_e[be]);return Te}(_e.Syntax),Pe.DoctrineError,be.dt={Syntax:be.GY,parseType:_e.parseType,parseParamType:_e.parseParamType,stringify:_e.stringify}}()},32518:function(_e,be,Te){!function(){"use strict";var _e,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt;function isTypeName(_e){return-1==="><(){}[],:*|?!=".indexOf(String.fromCharCode(_e))&&!Lt.code.isWhiteSpace(_e)&&!Lt.code.isLineTerminator(_e)}function Context(_e,be,Te,Pe){this._previous=_e,this._index=be,this._token=Te,this._value=Pe}function maybeAddRange(_e,be){return Vt&&(_e.range=[be[0]+Ot,be[1]+Ot]),_e}function advance(){var _e=pt.charAt(xt);return xt+=1,_e}function scanHexEscape(_e){var be,Te,Pe,Tt=0;for(Te="u"===_e?4:2,be=0;be<Te;++be){if(!(xt<vt&&Lt.code.isHexDigit(pt.charCodeAt(xt))))return"";Pe=advance(),Tt=16*Tt+"0123456789abcdef".indexOf(Pe.toLowerCase())}return String.fromCharCode(Tt)}function scanString(){var _e,be,Te,Tt,It,Ot="";for(_e=pt.charAt(xt),++xt;xt<vt;){if((be=advance())===_e){_e="";break}if("\\"===be)if(be=advance(),Lt.code.isLineTerminator(be.charCodeAt(0)))"\r"===be&&10===pt.charCodeAt(xt)&&++xt;else switch(be){case"n":Ot+="\n";break;case"r":Ot+="\r";break;case"t":Ot+="\t";break;case"u":case"x":It=xt,(Tt=scanHexEscape(be))?Ot+=Tt:(xt=It,Ot+=be);break;case"b":Ot+="\b";break;case"f":Ot+="\f";break;case"v":Ot+="\v";break;default:Lt.code.isOctalDigit(be.charCodeAt(0))?(Te="01234567".indexOf(be),xt<vt&&Lt.code.isOctalDigit(pt.charCodeAt(xt))&&(Te=8*Te+"01234567".indexOf(advance()),"0123".indexOf(be)>=0&&xt<vt&&Lt.code.isOctalDigit(pt.charCodeAt(xt))&&(Te=8*Te+"01234567".indexOf(advance()))),Ot+=String.fromCharCode(Te)):Ot+=be}else{if(Lt.code.isLineTerminator(be.charCodeAt(0)))break;Ot+=be}}return""!==_e&&Ft.throwError("unexpected quote"),Mt=Ot,Pe.STRING}function scanNumber(){var _e,be;if(_e="",46!==(be=pt.charCodeAt(xt))){if(_e=advance(),be=pt.charCodeAt(xt),"0"===_e){if(120===be||88===be){for(_e+=advance();xt<vt&&(be=pt.charCodeAt(xt),Lt.code.isHexDigit(be));)_e+=advance();return _e.length<=2&&Ft.throwError("unexpected token"),xt<vt&&(be=pt.charCodeAt(xt),Lt.code.isIdentifierStartES5(be)&&Ft.throwError("unexpected token")),Mt=parseInt(_e,16),Pe.NUMBER}if(Lt.code.isOctalDigit(be)){for(_e+=advance();xt<vt&&(be=pt.charCodeAt(xt),Lt.code.isOctalDigit(be));)_e+=advance();return xt<vt&&(be=pt.charCodeAt(xt),(Lt.code.isIdentifierStartES5(be)||Lt.code.isDecimalDigit(be))&&Ft.throwError("unexpected token")),Mt=parseInt(_e,8),Pe.NUMBER}Lt.code.isDecimalDigit(be)&&Ft.throwError("unexpected token")}for(;xt<vt&&(be=pt.charCodeAt(xt),Lt.code.isDecimalDigit(be));)_e+=advance()}if(46===be)for(_e+=advance();xt<vt&&(be=pt.charCodeAt(xt),Lt.code.isDecimalDigit(be));)_e+=advance();if(101===be||69===be)if(_e+=advance(),43!==(be=pt.charCodeAt(xt))&&45!==be||(_e+=advance()),be=pt.charCodeAt(xt),Lt.code.isDecimalDigit(be))for(_e+=advance();xt<vt&&(be=pt.charCodeAt(xt),Lt.code.isDecimalDigit(be));)_e+=advance();else Ft.throwError("unexpected token");return xt<vt&&(be=pt.charCodeAt(xt),Lt.code.isIdentifierStartES5(be)&&Ft.throwError("unexpected token")),Mt=parseFloat(_e),Pe.NUMBER}function scanTypeName(){for(Mt=advance();xt<vt&&isTypeName(pt.charCodeAt(xt));){if(46===pt.charCodeAt(xt)){if(xt+1>=vt)return Pe.ILLEGAL;if(60===pt.charCodeAt(xt+1))break}Mt+=advance()}return Pe.NAME}function next(){var _e;for(Tt=xt;xt<vt&&Lt.code.isWhiteSpace(pt.charCodeAt(xt));)advance();if(xt>=vt)return It=Pe.EOF;switch(_e=pt.charCodeAt(xt)){case 39:case 34:return It=scanString();case 58:return advance(),It=Pe.COLON;case 44:return advance(),It=Pe.COMMA;case 40:return advance(),It=Pe.LPAREN;case 41:return advance(),It=Pe.RPAREN;case 91:return advance(),It=Pe.LBRACK;case 93:return advance(),It=Pe.RBRACK;case 123:return advance(),It=Pe.LBRACE;case 125:return advance(),It=Pe.RBRACE;case 46:if(xt+1<vt){if(60===(_e=pt.charCodeAt(xt+1)))return advance(),advance(),It=Pe.DOT_LT;if(46===_e&&xt+2<vt&&46===pt.charCodeAt(xt+2))return advance(),advance(),advance(),It=Pe.REST;if(Lt.code.isDecimalDigit(_e))return It=scanNumber()}return It=Pe.ILLEGAL;case 60:return advance(),It=Pe.LT;case 62:return advance(),It=Pe.GT;case 42:return advance(),It=Pe.STAR;case 124:return advance(),It=Pe.PIPE;case 63:return advance(),It=Pe.QUESTION;case 33:return advance(),It=Pe.BANG;case 61:return advance(),It=Pe.EQUAL;case 45:return It=scanNumber();default:return Lt.code.isDecimalDigit(_e)?It=scanNumber():(Ft.assert(isTypeName(_e)),It=scanTypeName())}}function consume(_e,be){Ft.assert(It===_e,be||"consumed token not matched"),next()}function expect(_e,be){It!==_e&&Ft.throwError(be||"unexpected token"),next()}function parseUnionType(){var be,Te=xt-1;if(consume(Pe.LPAREN,"UnionType should start with ("),be=[],It!==Pe.RPAREN)for(;be.push(parseTypeExpression()),It!==Pe.RPAREN;)expect(Pe.PIPE);return consume(Pe.RPAREN,"UnionType should end with )"),maybeAddRange({type:_e.UnionType,elements:be},[Te,Tt])}function parseArrayType(){var be,Te,pt=xt-1;for(consume(Pe.LBRACK,"ArrayType should start with ["),be=[];It!==Pe.RBRACK;){if(It===Pe.REST){Te=xt-3,consume(Pe.REST),be.push(maybeAddRange({type:_e.RestType,expression:parseTypeExpression()},[Te,Tt]));break}be.push(parseTypeExpression()),It!==Pe.RBRACK&&expect(Pe.COMMA)}return expect(Pe.RBRACK),maybeAddRange({type:_e.ArrayType,elements:be},[pt,Tt])}function parseFieldType(){var be,Te,pt=Tt;return Te=Mt,be=It===Pe.NAME||It===Pe.STRING?(next(),Te):It===Pe.NUMBER?(consume(Pe.NUMBER),String(Te)):void Ft.throwError("unexpected token"),It===Pe.COLON?(consume(Pe.COLON),maybeAddRange({type:_e.FieldType,key:be,value:parseTypeExpression()},[pt,Tt])):maybeAddRange({type:_e.FieldType,key:be,value:null},[pt,Tt])}function parseRecordType(){var be,Te,pt=xt-1;if(consume(Pe.LBRACE,"RecordType should start with {"),be=[],It===Pe.COMMA)consume(Pe.COMMA);else for(;It!==Pe.RBRACE;)be.push(parseFieldType()),It!==Pe.RBRACE&&expect(Pe.COMMA);return Te=xt,expect(Pe.RBRACE),maybeAddRange({type:_e.RecordType,fields:be},[pt,Te])}function parseTypeExpressionList(){var _e=[];for(_e.push(parseTop());It===Pe.COMMA;)consume(Pe.COMMA),_e.push(parseTop());return _e}function parseTypeName(){var be,Te,pt,vt,Lt=xt-Mt.length;return vt=xt-(pt=Mt).length,expect(Pe.NAME),It!==Pe.COLON||"module"!==pt&&"external"!==pt&&"event"!==pt||(consume(Pe.COLON),pt+=":"+Mt,expect(Pe.NAME)),be=maybeAddRange({type:_e.NameExpression,name:pt},[vt,Tt]),It===Pe.DOT_LT||It===Pe.LT?(next(),Te=parseTypeExpressionList(),expect(Pe.GT),maybeAddRange({type:_e.TypeApplication,expression:be,applications:Te},[Lt,Tt])):be}function parseParametersType(){for(var be,Te,pt,vt=[],Mt=!1,Lt=!1,Ot=xt-3;It!==Pe.RPAREN;)It===Pe.REST&&(consume(Pe.REST),Lt=!0),Te=Tt,(be=parseTypeExpression()).type===_e.NameExpression&&It===Pe.COLON&&(pt=Tt-be.name.length,consume(Pe.COLON),be=maybeAddRange({type:_e.ParameterType,name:be.name,expression:parseTypeExpression()},[pt,Tt])),It===Pe.EQUAL?(consume(Pe.EQUAL),be=maybeAddRange({type:_e.OptionalType,expression:be},[Te,Tt]),Mt=!0):Mt&&Ft.throwError("unexpected token"),Lt&&(be=maybeAddRange({type:_e.RestType,expression:be},[Ot,Tt])),vt.push(be),It!==Pe.RPAREN&&expect(Pe.COMMA);return vt}function parseFunctionType(){var be,Te,pt,vt,Lt,Ot=xt-Mt.length;return Ft.assert(It===Pe.NAME&&"function"===Mt,"FunctionType should start with 'function'"),consume(Pe.NAME),expect(Pe.LPAREN),be=!1,pt=[],Te=null,It!==Pe.RPAREN&&(It!==Pe.NAME||"this"!==Mt&&"new"!==Mt?pt=parseParametersType():(be="new"===Mt,consume(Pe.NAME),expect(Pe.COLON),Te=parseTypeName(),It===Pe.COMMA&&(consume(Pe.COMMA),pt=parseParametersType()))),expect(Pe.RPAREN),vt=null,It===Pe.COLON&&(consume(Pe.COLON,"ResultType should start with :"),vt=It===Pe.NAME&&"void"===Mt?(consume(Pe.NAME),{type:_e.VoidLiteral}):parseTypeExpression()),Lt=maybeAddRange({type:_e.FunctionType,params:pt,result:vt},[Ot,Tt]),Te&&(Lt.this=Te,be&&(Lt.new=!0)),Lt}function parseBasicTypeExpression(){var be,Te;switch(It){case Pe.STAR:return consume(Pe.STAR),maybeAddRange({type:_e.AllLiteral},[Tt-1,Tt]);case Pe.LPAREN:return parseUnionType();case Pe.LBRACK:return parseArrayType();case Pe.LBRACE:return parseRecordType();case Pe.NAME:if(Te=xt-Mt.length,"null"===Mt)return consume(Pe.NAME),maybeAddRange({type:_e.NullLiteral},[Te,Tt]);if("undefined"===Mt)return consume(Pe.NAME),maybeAddRange({type:_e.UndefinedLiteral},[Te,Tt]);if("true"===Mt||"false"===Mt)return consume(Pe.NAME),maybeAddRange({type:_e.BooleanLiteralType,value:"true"===Mt},[Te,Tt]);if(be=Context.save(),"function"===Mt)try{return parseFunctionType()}catch(_e){be.restore()}return parseTypeName();case Pe.STRING:return next(),maybeAddRange({type:_e.StringLiteralType,value:Mt},[Tt-Mt.length-2,Tt]);case Pe.NUMBER:return next(),maybeAddRange({type:_e.NumericLiteralType,value:Mt},[Tt-String(Mt).length,Tt]);default:Ft.throwError("unexpected token")}}function parseTypeExpression(){var be,Te;return It===Pe.QUESTION?(Te=xt-1,consume(Pe.QUESTION),maybeAddRange(It===Pe.COMMA||It===Pe.EQUAL||It===Pe.RBRACE||It===Pe.RPAREN||It===Pe.PIPE||It===Pe.EOF||It===Pe.RBRACK||It===Pe.GT?{type:_e.NullableLiteral}:{type:_e.NullableType,expression:parseBasicTypeExpression(),prefix:!0},[Te,Tt])):It===Pe.BANG?(Te=xt-1,consume(Pe.BANG),maybeAddRange({type:_e.NonNullableType,expression:parseBasicTypeExpression(),prefix:!0},[Te,Tt])):(Te=Tt,be=parseBasicTypeExpression(),It===Pe.BANG?(consume(Pe.BANG),maybeAddRange({type:_e.NonNullableType,expression:be,prefix:!1},[Te,Tt])):It===Pe.QUESTION?(consume(Pe.QUESTION),maybeAddRange({type:_e.NullableType,expression:be,prefix:!1},[Te,Tt])):It===Pe.LBRACK?(consume(Pe.LBRACK),expect(Pe.RBRACK,"expected an array-style type declaration ("+Mt+"[])"),maybeAddRange({type:_e.TypeApplication,expression:maybeAddRange({type:_e.NameExpression,name:"Array"},[Te,Tt]),applications:[be]},[Te,Tt])):be)}function parseTop(){var be,Te;if(be=parseTypeExpression(),It!==Pe.PIPE)return be;for(Te=[be],consume(Pe.PIPE);Te.push(parseTypeExpression()),It===Pe.PIPE;)consume(Pe.PIPE);return maybeAddRange({type:_e.UnionType,elements:Te},[0,xt])}function parseTopParamType(){var be;return It===Pe.REST?(consume(Pe.REST),maybeAddRange({type:_e.RestType,expression:parseTop()},[0,xt])):(be=parseTop(),It===Pe.EQUAL?(consume(Pe.EQUAL),maybeAddRange({type:_e.OptionalType,expression:be},[0,xt])):be)}function stringifyImpl(be,Te,Pe){var pt,vt,xt;switch(be.type){case _e.NullableLiteral:pt="?";break;case _e.AllLiteral:pt="*";break;case _e.NullLiteral:pt="null";break;case _e.UndefinedLiteral:pt="undefined";break;case _e.VoidLiteral:pt="void";break;case _e.UnionType:for(pt=Pe?"":"(",vt=0,xt=be.elements.length;vt<xt;++vt)pt+=stringifyImpl(be.elements[vt],Te),vt+1!==xt&&(pt+=Te?"|":" | ");Pe||(pt+=")");break;case _e.ArrayType:for(pt="[",vt=0,xt=be.elements.length;vt<xt;++vt)pt+=stringifyImpl(be.elements[vt],Te),vt+1!==xt&&(pt+=Te?",":", ");pt+="]";break;case _e.RecordType:for(pt="{",vt=0,xt=be.fields.length;vt<xt;++vt)pt+=stringifyImpl(be.fields[vt],Te),vt+1!==xt&&(pt+=Te?",":", ");pt+="}";break;case _e.FieldType:pt=be.value?be.key+(Te?":":": ")+stringifyImpl(be.value,Te):be.key;break;case _e.FunctionType:for(pt=Te?"function(":"function (",be.this&&(be.new?pt+=Te?"new:":"new: ":pt+=Te?"this:":"this: ",pt+=stringifyImpl(be.this,Te),0!==be.params.length&&(pt+=Te?",":", ")),vt=0,xt=be.params.length;vt<xt;++vt)pt+=stringifyImpl(be.params[vt],Te),vt+1!==xt&&(pt+=Te?",":", ");pt+=")",be.result&&(pt+=(Te?":":": ")+stringifyImpl(be.result,Te));break;case _e.ParameterType:pt=be.name+(Te?":":": ")+stringifyImpl(be.expression,Te);break;case _e.RestType:pt="...",be.expression&&(pt+=stringifyImpl(be.expression,Te));break;case _e.NonNullableType:pt=be.prefix?"!"+stringifyImpl(be.expression,Te):stringifyImpl(be.expression,Te)+"!";break;case _e.OptionalType:pt=stringifyImpl(be.expression,Te)+"=";break;case _e.NullableType:pt=be.prefix?"?"+stringifyImpl(be.expression,Te):stringifyImpl(be.expression,Te)+"?";break;case _e.NameExpression:pt=be.name;break;case _e.TypeApplication:for(pt=stringifyImpl(be.expression,Te)+".<",vt=0,xt=be.applications.length;vt<xt;++vt)pt+=stringifyImpl(be.applications[vt],Te),vt+1!==xt&&(pt+=Te?",":", ");pt+=">";break;case _e.StringLiteralType:pt='"'+be.value+'"';break;case _e.NumericLiteralType:case _e.BooleanLiteralType:pt=String(be.value);break;default:Ft.throwError("Unknown type "+be.type)}return pt}Lt=Te(649),Ft=Te(41408),_e={NullableLiteral:"NullableLiteral",AllLiteral:"AllLiteral",NullLiteral:"NullLiteral",UndefinedLiteral:"UndefinedLiteral",VoidLiteral:"VoidLiteral",UnionType:"UnionType",ArrayType:"ArrayType",RecordType:"RecordType",FieldType:"FieldType",FunctionType:"FunctionType",ParameterType:"ParameterType",RestType:"RestType",NonNullableType:"NonNullableType",OptionalType:"OptionalType",NullableType:"NullableType",NameExpression:"NameExpression",TypeApplication:"TypeApplication",StringLiteralType:"StringLiteralType",NumericLiteralType:"NumericLiteralType",BooleanLiteralType:"BooleanLiteralType"},Pe={ILLEGAL:0,DOT_LT:1,REST:2,LT:3,GT:4,LPAREN:5,RPAREN:6,LBRACE:7,RBRACE:8,LBRACK:9,RBRACK:10,COMMA:11,COLON:12,STAR:13,PIPE:14,QUESTION:15,BANG:16,EQUAL:17,NAME:18,STRING:19,NUMBER:20,EOF:21},Context.prototype.restore=function(){Tt=this._previous,xt=this._index,It=this._token,Mt=this._value},Context.save=function(){return new Context(Tt,xt,It,Mt)},be.parseType=function parseType(_e,be){var Te;return vt=(pt=_e).length,xt=0,Tt=0,Vt=be&&be.range,Ot=be&&be.startIndex||0,next(),Te=parseTop(),be&&be.midstream?{expression:Te,index:Tt}:(It!==Pe.EOF&&Ft.throwError("not reach to EOF"),Te)},be.parseParamType=function parseParamType(_e,be){var Te;return vt=(pt=_e).length,xt=0,Tt=0,Vt=be&&be.range,Ot=be&&be.startIndex||0,next(),Te=parseTopParamType(),be&&be.midstream?{expression:Te,index:Tt}:(It!==Pe.EOF&&Ft.throwError("not reach to EOF"),Te)},be.stringify=function stringify(_e,be){return null==be&&(be={}),stringifyImpl(_e,be.compact,be.topLevel)},be.Syntax=_e}()},41408:function(_e,be,Te){!function(){"use strict";var _e,Pe;function DoctrineError(_e){this.name="DoctrineError",this.message=_e}_e=Te(82954).i8,be.VERSION=_e,DoctrineError.prototype=((Pe=function(){}).prototype=Error.prototype,new Pe),DoctrineError.prototype.constructor=DoctrineError,be.DoctrineError=DoctrineError,be.throwError=function throwError(_e){throw new DoctrineError(_e)},be.assert=Te(48583)}()},9187:function(_e){"use strict";function earcut(_e,be,Te){Te=Te||2;var Pe,pt,vt,xt,Tt,It,Mt,Lt=be&&be.length,Ft=Lt?be[0]*Te:_e.length,Ot=linkedList(_e,0,Ft,Te,!0),Vt=[];if(!Ot||Ot.next===Ot.prev)return Vt;if(Lt&&(Ot=eliminateHoles(_e,be,Ot,Te)),_e.length>80*Te){Pe=vt=_e[0],pt=xt=_e[1];for(var qt=Te;qt<Ft;qt+=Te)(Tt=_e[qt])<Pe&&(Pe=Tt),(It=_e[qt+1])<pt&&(pt=It),Tt>vt&&(vt=Tt),It>xt&&(xt=It);Mt=0!==(Mt=Math.max(vt-Pe,xt-pt))?1/Mt:0}return earcutLinked(Ot,Vt,Te,Pe,pt,Mt),Vt}function linkedList(_e,be,Te,Pe,pt){var vt,xt;if(pt===signedArea(_e,be,Te,Pe)>0)for(vt=be;vt<Te;vt+=Pe)xt=insertNode(vt,_e[vt],_e[vt+1],xt);else for(vt=Te-Pe;vt>=be;vt-=Pe)xt=insertNode(vt,_e[vt],_e[vt+1],xt);return xt&&equals(xt,xt.next)&&(removeNode(xt),xt=xt.next),xt}function filterPoints(_e,be){if(!_e)return _e;be||(be=_e);var Te,Pe=_e;do{if(Te=!1,Pe.steiner||!equals(Pe,Pe.next)&&0!==area(Pe.prev,Pe,Pe.next))Pe=Pe.next;else{if(removeNode(Pe),(Pe=be=Pe.prev)===Pe.next)break;Te=!0}}while(Te||Pe!==be);return be}function earcutLinked(_e,be,Te,Pe,pt,vt,xt){if(_e){!xt&&vt&&indexCurve(_e,Pe,pt,vt);for(var Tt,It,Mt=_e;_e.prev!==_e.next;)if(Tt=_e.prev,It=_e.next,vt?isEarHashed(_e,Pe,pt,vt):isEar(_e))be.push(Tt.i/Te),be.push(_e.i/Te),be.push(It.i/Te),removeNode(_e),_e=It.next,Mt=It.next;else if((_e=It)===Mt){xt?1===xt?earcutLinked(_e=cureLocalIntersections(filterPoints(_e),be,Te),be,Te,Pe,pt,vt,2):2===xt&&splitEarcut(_e,be,Te,Pe,pt,vt):earcutLinked(filterPoints(_e),be,Te,Pe,pt,vt,1);break}}}function isEar(_e){var be=_e.prev,Te=_e,Pe=_e.next;if(area(be,Te,Pe)>=0)return!1;for(var pt=_e.next.next;pt!==_e.prev;){if(pointInTriangle(be.x,be.y,Te.x,Te.y,Pe.x,Pe.y,pt.x,pt.y)&&area(pt.prev,pt,pt.next)>=0)return!1;pt=pt.next}return!0}function isEarHashed(_e,be,Te,Pe){var pt=_e.prev,vt=_e,xt=_e.next;if(area(pt,vt,xt)>=0)return!1;for(var Tt=pt.x<vt.x?pt.x<xt.x?pt.x:xt.x:vt.x<xt.x?vt.x:xt.x,It=pt.y<vt.y?pt.y<xt.y?pt.y:xt.y:vt.y<xt.y?vt.y:xt.y,Mt=pt.x>vt.x?pt.x>xt.x?pt.x:xt.x:vt.x>xt.x?vt.x:xt.x,Lt=pt.y>vt.y?pt.y>xt.y?pt.y:xt.y:vt.y>xt.y?vt.y:xt.y,Ft=zOrder(Tt,It,be,Te,Pe),Ot=zOrder(Mt,Lt,be,Te,Pe),Vt=_e.prevZ,qt=_e.nextZ;Vt&&Vt.z>=Ft&&qt&&qt.z<=Ot;){if(Vt!==_e.prev&&Vt!==_e.next&&pointInTriangle(pt.x,pt.y,vt.x,vt.y,xt.x,xt.y,Vt.x,Vt.y)&&area(Vt.prev,Vt,Vt.next)>=0)return!1;if(Vt=Vt.prevZ,qt!==_e.prev&&qt!==_e.next&&pointInTriangle(pt.x,pt.y,vt.x,vt.y,xt.x,xt.y,qt.x,qt.y)&&area(qt.prev,qt,qt.next)>=0)return!1;qt=qt.nextZ}for(;Vt&&Vt.z>=Ft;){if(Vt!==_e.prev&&Vt!==_e.next&&pointInTriangle(pt.x,pt.y,vt.x,vt.y,xt.x,xt.y,Vt.x,Vt.y)&&area(Vt.prev,Vt,Vt.next)>=0)return!1;Vt=Vt.prevZ}for(;qt&&qt.z<=Ot;){if(qt!==_e.prev&&qt!==_e.next&&pointInTriangle(pt.x,pt.y,vt.x,vt.y,xt.x,xt.y,qt.x,qt.y)&&area(qt.prev,qt,qt.next)>=0)return!1;qt=qt.nextZ}return!0}function cureLocalIntersections(_e,be,Te){var Pe=_e;do{var pt=Pe.prev,vt=Pe.next.next;!equals(pt,vt)&&intersects(pt,Pe,Pe.next,vt)&&locallyInside(pt,vt)&&locallyInside(vt,pt)&&(be.push(pt.i/Te),be.push(Pe.i/Te),be.push(vt.i/Te),removeNode(Pe),removeNode(Pe.next),Pe=_e=vt),Pe=Pe.next}while(Pe!==_e);return filterPoints(Pe)}function splitEarcut(_e,be,Te,Pe,pt,vt){var xt=_e;do{for(var Tt=xt.next.next;Tt!==xt.prev;){if(xt.i!==Tt.i&&isValidDiagonal(xt,Tt)){var It=splitPolygon(xt,Tt);return xt=filterPoints(xt,xt.next),It=filterPoints(It,It.next),earcutLinked(xt,be,Te,Pe,pt,vt),void earcutLinked(It,be,Te,Pe,pt,vt)}Tt=Tt.next}xt=xt.next}while(xt!==_e)}function eliminateHoles(_e,be,Te,Pe){var pt,vt,xt,Tt=[];for(pt=0,vt=be.length;pt<vt;pt++)(xt=linkedList(_e,be[pt]*Pe,pt<vt-1?be[pt+1]*Pe:_e.length,Pe,!1))===xt.next&&(xt.steiner=!0),Tt.push(getLeftmost(xt));for(Tt.sort(compareX),pt=0;pt<Tt.length;pt++)eliminateHole(Tt[pt],Te),Te=filterPoints(Te,Te.next);return Te}function compareX(_e,be){return _e.x-be.x}function eliminateHole(_e,be){if(be=findHoleBridge(_e,be)){var Te=splitPolygon(be,_e);filterPoints(be,be.next),filterPoints(Te,Te.next)}}function findHoleBridge(_e,be){var Te,Pe=be,pt=_e.x,vt=_e.y,xt=-1/0;do{if(vt<=Pe.y&&vt>=Pe.next.y&&Pe.next.y!==Pe.y){var Tt=Pe.x+(vt-Pe.y)*(Pe.next.x-Pe.x)/(Pe.next.y-Pe.y);if(Tt<=pt&&Tt>xt){if(xt=Tt,Tt===pt){if(vt===Pe.y)return Pe;if(vt===Pe.next.y)return Pe.next}Te=Pe.x<Pe.next.x?Pe:Pe.next}}Pe=Pe.next}while(Pe!==be);if(!Te)return null;if(pt===xt)return Te;var It,Mt=Te,Lt=Te.x,Ft=Te.y,Ot=1/0;Pe=Te;do{pt>=Pe.x&&Pe.x>=Lt&&pt!==Pe.x&&pointInTriangle(vt<Ft?pt:xt,vt,Lt,Ft,vt<Ft?xt:pt,vt,Pe.x,Pe.y)&&(It=Math.abs(vt-Pe.y)/(pt-Pe.x),locallyInside(Pe,_e)&&(It<Ot||It===Ot&&(Pe.x>Te.x||Pe.x===Te.x&&sectorContainsSector(Te,Pe)))&&(Te=Pe,Ot=It)),Pe=Pe.next}while(Pe!==Mt);return Te}function sectorContainsSector(_e,be){return area(_e.prev,_e,be.prev)<0&&area(be.next,_e,_e.next)<0}function indexCurve(_e,be,Te,Pe){var pt=_e;do{null===pt.z&&(pt.z=zOrder(pt.x,pt.y,be,Te,Pe)),pt.prevZ=pt.prev,pt.nextZ=pt.next,pt=pt.next}while(pt!==_e);pt.prevZ.nextZ=null,pt.prevZ=null,sortLinked(pt)}function sortLinked(_e){var be,Te,Pe,pt,vt,xt,Tt,It,Mt=1;do{for(Te=_e,_e=null,vt=null,xt=0;Te;){for(xt++,Pe=Te,Tt=0,be=0;be<Mt&&(Tt++,Pe=Pe.nextZ);be++);for(It=Mt;Tt>0||It>0&&Pe;)0!==Tt&&(0===It||!Pe||Te.z<=Pe.z)?(pt=Te,Te=Te.nextZ,Tt--):(pt=Pe,Pe=Pe.nextZ,It--),vt?vt.nextZ=pt:_e=pt,pt.prevZ=vt,vt=pt;Te=Pe}vt.nextZ=null,Mt*=2}while(xt>1);return _e}function zOrder(_e,be,Te,Pe,pt){return(_e=1431655765&((_e=858993459&((_e=252645135&((_e=16711935&((_e=32767*(_e-Te)*pt)|_e<<8))|_e<<4))|_e<<2))|_e<<1))|(be=1431655765&((be=858993459&((be=252645135&((be=16711935&((be=32767*(be-Pe)*pt)|be<<8))|be<<4))|be<<2))|be<<1))<<1}function getLeftmost(_e){var be=_e,Te=_e;do{(be.x<Te.x||be.x===Te.x&&be.y<Te.y)&&(Te=be),be=be.next}while(be!==_e);return Te}function pointInTriangle(_e,be,Te,Pe,pt,vt,xt,Tt){return(pt-xt)*(be-Tt)-(_e-xt)*(vt-Tt)>=0&&(_e-xt)*(Pe-Tt)-(Te-xt)*(be-Tt)>=0&&(Te-xt)*(vt-Tt)-(pt-xt)*(Pe-Tt)>=0}function isValidDiagonal(_e,be){return _e.next.i!==be.i&&_e.prev.i!==be.i&&!intersectsPolygon(_e,be)&&(locallyInside(_e,be)&&locallyInside(be,_e)&&middleInside(_e,be)&&(area(_e.prev,_e,be.prev)||area(_e,be.prev,be))||equals(_e,be)&&area(_e.prev,_e,_e.next)>0&&area(be.prev,be,be.next)>0)}function area(_e,be,Te){return(be.y-_e.y)*(Te.x-be.x)-(be.x-_e.x)*(Te.y-be.y)}function equals(_e,be){return _e.x===be.x&&_e.y===be.y}function intersects(_e,be,Te,Pe){var pt=sign(area(_e,be,Te)),vt=sign(area(_e,be,Pe)),xt=sign(area(Te,Pe,_e)),Tt=sign(area(Te,Pe,be));return pt!==vt&&xt!==Tt||(!(0!==pt||!onSegment(_e,Te,be))||(!(0!==vt||!onSegment(_e,Pe,be))||(!(0!==xt||!onSegment(Te,_e,Pe))||!(0!==Tt||!onSegment(Te,be,Pe)))))}function onSegment(_e,be,Te){return be.x<=Math.max(_e.x,Te.x)&&be.x>=Math.min(_e.x,Te.x)&&be.y<=Math.max(_e.y,Te.y)&&be.y>=Math.min(_e.y,Te.y)}function sign(_e){return _e>0?1:_e<0?-1:0}function intersectsPolygon(_e,be){var Te=_e;do{if(Te.i!==_e.i&&Te.next.i!==_e.i&&Te.i!==be.i&&Te.next.i!==be.i&&intersects(Te,Te.next,_e,be))return!0;Te=Te.next}while(Te!==_e);return!1}function locallyInside(_e,be){return area(_e.prev,_e,_e.next)<0?area(_e,be,_e.next)>=0&&area(_e,_e.prev,be)>=0:area(_e,be,_e.prev)<0||area(_e,_e.next,be)<0}function middleInside(_e,be){var Te=_e,Pe=!1,pt=(_e.x+be.x)/2,vt=(_e.y+be.y)/2;do{Te.y>vt!=Te.next.y>vt&&Te.next.y!==Te.y&&pt<(Te.next.x-Te.x)*(vt-Te.y)/(Te.next.y-Te.y)+Te.x&&(Pe=!Pe),Te=Te.next}while(Te!==_e);return Pe}function splitPolygon(_e,be){var Te=new Node(_e.i,_e.x,_e.y),Pe=new Node(be.i,be.x,be.y),pt=_e.next,vt=be.prev;return _e.next=be,be.prev=_e,Te.next=pt,pt.prev=Te,Pe.next=Te,Te.prev=Pe,vt.next=Pe,Pe.prev=vt,Pe}function insertNode(_e,be,Te,Pe){var pt=new Node(_e,be,Te);return Pe?(pt.next=Pe.next,pt.prev=Pe,Pe.next.prev=pt,Pe.next=pt):(pt.prev=pt,pt.next=pt),pt}function removeNode(_e){_e.next.prev=_e.prev,_e.prev.next=_e.next,_e.prevZ&&(_e.prevZ.nextZ=_e.nextZ),_e.nextZ&&(_e.nextZ.prevZ=_e.prevZ)}function Node(_e,be,Te){this.i=_e,this.x=be,this.y=Te,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(_e,be,Te,Pe){for(var pt=0,vt=be,xt=Te-Pe;vt<Te;vt+=Pe)pt+=(_e[xt]-_e[vt])*(_e[vt+1]+_e[xt+1]),xt=vt;return pt}_e.exports=earcut,_e.exports.default=earcut,earcut.deviation=function(_e,be,Te,Pe){var pt=be&&be.length,vt=pt?be[0]*Te:_e.length,xt=Math.abs(signedArea(_e,0,vt,Te));if(pt)for(var Tt=0,It=be.length;Tt<It;Tt++){var Mt=be[Tt]*Te,Lt=Tt<It-1?be[Tt+1]*Te:_e.length;xt-=Math.abs(signedArea(_e,Mt,Lt,Te))}var Ft=0;for(Tt=0;Tt<Pe.length;Tt+=3){var Ot=Pe[Tt]*Te,Vt=Pe[Tt+1]*Te,qt=Pe[Tt+2]*Te;Ft+=Math.abs((_e[Ot]-_e[qt])*(_e[Vt+1]-_e[Ot+1])-(_e[Ot]-_e[Vt])*(_e[qt+1]-_e[Ot+1]))}return 0===xt&&0===Ft?0:Math.abs((Ft-xt)/xt)},earcut.flatten=function(_e){for(var be=_e[0][0].length,Te={vertices:[],holes:[],dimensions:be},Pe=0,pt=0;pt<_e.length;pt++){for(var vt=0;vt<_e[pt].length;vt++)for(var xt=0;xt<be;xt++)Te.vertices.push(_e[pt][vt][xt]);pt>0&&(Pe+=_e[pt-1].length,Te.holes.push(Pe))}return Te}},47097:function(_e,be,Te){"use strict";Te(8091).polyfill()},8091:function(_e){"use strict";function assign(_e,be){if(null==_e)throw new TypeError("Cannot convert first argument to object");for(var Te=Object(_e),Pe=1;Pe<arguments.length;Pe++){var pt=arguments[Pe];if(null!=pt)for(var vt=Object.keys(Object(pt)),xt=0,Tt=vt.length;xt<Tt;xt++){var It=vt[xt],Mt=Object.getOwnPropertyDescriptor(pt,It);void 0!==Mt&&Mt.enumerable&&(Te[It]=pt[It])}}return Te}_e.exports={assign:assign,polyfill:function polyfill(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:assign})}}},77310:function(_e,be,Te){"use strict";_e.exports=Te(82702).polyfill()},82702:function(_e,be,Te){_e.exports=function(){"use strict";function objectOrFunction(_e){var be=typeof _e;return null!==_e&&("object"===be||"function"===be)}function isFunction(_e){return"function"==typeof _e}var _e=Array.isArray?Array.isArray:function(_e){return"[object Array]"===Object.prototype.toString.call(_e)},be=0,Pe=void 0,pt=void 0,vt=function asap(_e,Te){Ft[be]=_e,Ft[be+1]=Te,2===(be+=2)&&(pt?pt(flush):Ot())};function setScheduler(_e){pt=_e}function setAsap(_e){vt=_e}var xt="undefined"!=typeof window?window:void 0,Tt=xt||{},It=Tt.MutationObserver||Tt.WebKitMutationObserver,Mt="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Lt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function useNextTick(){return function(){return process.nextTick(flush)}}function useVertxTimer(){return void 0!==Pe?function(){Pe(flush)}:useSetTimeout()}function useMutationObserver(){var _e=0,be=new It(flush),Te=document.createTextNode("");return be.observe(Te,{characterData:!0}),function(){Te.data=_e=++_e%2}}function useMessageChannel(){var _e=new MessageChannel;return _e.port1.onmessage=flush,function(){return _e.port2.postMessage(0)}}function useSetTimeout(){var _e=setTimeout;return function(){return _e(flush,1)}}var Ft=new Array(1e3);function flush(){for(var _e=0;_e<be;_e+=2)(0,Ft[_e])(Ft[_e+1]),Ft[_e]=void 0,Ft[_e+1]=void 0;be=0}function attemptVertx(){try{var _e=Function("return this")().require("vertx");return Pe=_e.runOnLoop||_e.runOnContext,useVertxTimer()}catch(_e){return useSetTimeout()}}var Ot=void 0;function then(_e,be){var Te=this,Pe=new this.constructor(noop);void 0===Pe[Vt]&&makePromise(Pe);var pt=Te._state;if(pt){var xt=arguments[pt-1];vt((function(){return invokeCallback(pt,Pe,xt,Te._result)}))}else subscribe(Te,Pe,_e,be);return Pe}function resolve$1(_e){var be=this;if(_e&&"object"==typeof _e&&_e.constructor===be)return _e;var Te=new be(noop);return resolve(Te,_e),Te}Ot=Mt?useNextTick():It?useMutationObserver():Lt?useMessageChannel():void 0===xt?attemptVertx():useSetTimeout();var Vt=Math.random().toString(36).substring(2);function noop(){}var qt=void 0,Wt=1,$t=2;function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function tryThen(_e,be,Te,Pe){try{_e.call(be,Te,Pe)}catch(_e){return _e}}function handleForeignThenable(_e,be,Te){vt((function(_e){var Pe=!1,pt=tryThen(Te,be,(function(Te){Pe||(Pe=!0,be!==Te?resolve(_e,Te):fulfill(_e,Te))}),(function(be){Pe||(Pe=!0,reject(_e,be))}),"Settle: "+(_e._label||" unknown promise"));!Pe&&pt&&(Pe=!0,reject(_e,pt))}),_e)}function handleOwnThenable(_e,be){be._state===Wt?fulfill(_e,be._result):be._state===$t?reject(_e,be._result):subscribe(be,void 0,(function(be){return resolve(_e,be)}),(function(be){return reject(_e,be)}))}function handleMaybeThenable(_e,be,Te){be.constructor===_e.constructor&&Te===then&&be.constructor.resolve===resolve$1?handleOwnThenable(_e,be):void 0===Te?fulfill(_e,be):isFunction(Te)?handleForeignThenable(_e,be,Te):fulfill(_e,be)}function resolve(_e,be){if(_e===be)reject(_e,selfFulfillment());else if(objectOrFunction(be)){var Te=void 0;try{Te=be.then}catch(be){return void reject(_e,be)}handleMaybeThenable(_e,be,Te)}else fulfill(_e,be)}function publishRejection(_e){_e._onerror&&_e._onerror(_e._result),publish(_e)}function fulfill(_e,be){_e._state===qt&&(_e._result=be,_e._state=Wt,0!==_e._subscribers.length&&vt(publish,_e))}function reject(_e,be){_e._state===qt&&(_e._state=$t,_e._result=be,vt(publishRejection,_e))}function subscribe(_e,be,Te,Pe){var pt=_e._subscribers,xt=pt.length;_e._onerror=null,pt[xt]=be,pt[xt+Wt]=Te,pt[xt+$t]=Pe,0===xt&&_e._state&&vt(publish,_e)}function publish(_e){var be=_e._subscribers,Te=_e._state;if(0!==be.length){for(var Pe=void 0,pt=void 0,vt=_e._result,xt=0;xt<be.length;xt+=3)Pe=be[xt],pt=be[xt+Te],Pe?invokeCallback(Te,Pe,pt,vt):pt(vt);_e._subscribers.length=0}}function invokeCallback(_e,be,Te,Pe){var pt=isFunction(Te),vt=void 0,xt=void 0,Tt=!0;if(pt){try{vt=Te(Pe)}catch(_e){Tt=!1,xt=_e}if(be===vt)return void reject(be,cannotReturnOwn())}else vt=Pe;be._state!==qt||(pt&&Tt?resolve(be,vt):!1===Tt?reject(be,xt):_e===Wt?fulfill(be,vt):_e===$t&&reject(be,vt))}function initializePromise(_e,be){try{be((function resolvePromise(be){resolve(_e,be)}),(function rejectPromise(be){reject(_e,be)}))}catch(be){reject(_e,be)}}var Kt=0;function nextId(){return Kt++}function makePromise(_e){_e[Vt]=Kt++,_e._state=void 0,_e._result=void 0,_e._subscribers=[]}function validationError(){return new Error("Array Methods must be provided an Array")}var Jt=function(){function Enumerator(be,Te){this._instanceConstructor=be,this.promise=new be(noop),this.promise[Vt]||makePromise(this.promise),_e(Te)?(this.length=Te.length,this._remaining=Te.length,this._result=new Array(this.length),0===this.length?fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(Te),0===this._remaining&&fulfill(this.promise,this._result))):reject(this.promise,validationError())}return Enumerator.prototype._enumerate=function _enumerate(_e){for(var be=0;this._state===qt&&be<_e.length;be++)this._eachEntry(_e[be],be)},Enumerator.prototype._eachEntry=function _eachEntry(_e,be){var Te=this._instanceConstructor,Pe=Te.resolve;if(Pe===resolve$1){var pt=void 0,vt=void 0,xt=!1;try{pt=_e.then}catch(_e){xt=!0,vt=_e}if(pt===then&&_e._state!==qt)this._settledAt(_e._state,be,_e._result);else if("function"!=typeof pt)this._remaining--,this._result[be]=_e;else if(Te===Yt){var Tt=new Te(noop);xt?reject(Tt,vt):handleMaybeThenable(Tt,_e,pt),this._willSettleAt(Tt,be)}else this._willSettleAt(new Te((function(be){return be(_e)})),be)}else this._willSettleAt(Pe(_e),be)},Enumerator.prototype._settledAt=function _settledAt(_e,be,Te){var Pe=this.promise;Pe._state===qt&&(this._remaining--,_e===$t?reject(Pe,Te):this._result[be]=Te),0===this._remaining&&fulfill(Pe,this._result)},Enumerator.prototype._willSettleAt=function _willSettleAt(_e,be){var Te=this;subscribe(_e,void 0,(function(_e){return Te._settledAt(Wt,be,_e)}),(function(_e){return Te._settledAt($t,be,_e)}))},Enumerator}();function all(_e){return new Jt(this,_e).promise}function race(be){var Te=this;return _e(be)?new Te((function(_e,Pe){for(var pt=be.length,vt=0;vt<pt;vt++)Te.resolve(be[vt]).then(_e,Pe)})):new Te((function(_e,be){return be(new TypeError("You must pass an array to race."))}))}function reject$1(_e){var be=new this(noop);return reject(be,_e),be}function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Yt=function(){function Promise(_e){this[Vt]=nextId(),this._result=this._state=void 0,this._subscribers=[],noop!==_e&&("function"!=typeof _e&&needsResolver(),this instanceof Promise?initializePromise(this,_e):needsNew())}return Promise.prototype.catch=function _catch(_e){return this.then(null,_e)},Promise.prototype.finally=function _finally(_e){var be=this,Te=be.constructor;return isFunction(_e)?be.then((function(be){return Te.resolve(_e()).then((function(){return be}))}),(function(be){return Te.resolve(_e()).then((function(){throw be}))})):be.then(_e,_e)},Promise}();function polyfill(){var _e=void 0;if(void 0!==Te.g)_e=Te.g;else if("undefined"!=typeof self)_e=self;else try{_e=Function("return this")()}catch(_e){throw new Error("polyfill failed because global object is unavailable in this environment")}var be=_e.Promise;if(be){var Pe=null;try{Pe=Object.prototype.toString.call(be.resolve())}catch(_e){}if("[object Promise]"===Pe&&!be.cast)return}_e.Promise=Yt}return Yt.prototype.then=then,Yt.all=all,Yt.race=race,Yt.resolve=resolve$1,Yt.reject=reject$1,Yt._setScheduler=setScheduler,Yt._setAsap=setAsap,Yt._asap=vt,Yt.polyfill=polyfill,Yt.Promise=Yt,Yt}()},84974:function(_e){!function(){"use strict";function isStatement(_e){if(null==_e)return!1;switch(_e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function trailingStatement(_e){switch(_e.type){case"IfStatement":return null!=_e.alternate?_e.alternate:_e.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return _e.body}return null}_e.exports={isExpression:function isExpression(_e){if(null==_e)return!1;switch(_e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1},isStatement:isStatement,isIterationStatement:function isIterationStatement(_e){if(null==_e)return!1;switch(_e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1},isSourceElement:function isSourceElement(_e){return isStatement(_e)||null!=_e&&"FunctionDeclaration"===_e.type},isProblematicIfStatement:function isProblematicIfStatement(_e){var be;if("IfStatement"!==_e.type)return!1;if(null==_e.alternate)return!1;be=_e.consequent;do{if("IfStatement"===be.type&&null==be.alternate)return!0;be=trailingStatement(be)}while(be);return!1},trailingStatement:trailingStatement}}()},65619:function(_e){!function(){"use strict";var be,Te,Pe,pt,vt,xt;function fromCodePoint(_e){return _e<=65535?String.fromCharCode(_e):String.fromCharCode(Math.floor((_e-65536)/1024)+55296)+String.fromCharCode((_e-65536)%1024+56320)}for(Te={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},be={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},Pe=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],pt=new Array(128),xt=0;xt<128;++xt)pt[xt]=xt>=97&&xt<=122||xt>=65&&xt<=90||36===xt||95===xt;for(vt=new Array(128),xt=0;xt<128;++xt)vt[xt]=xt>=97&&xt<=122||xt>=65&&xt<=90||xt>=48&&xt<=57||36===xt||95===xt;_e.exports={isDecimalDigit:function isDecimalDigit(_e){return 48<=_e&&_e<=57},isHexDigit:function isHexDigit(_e){return 48<=_e&&_e<=57||97<=_e&&_e<=102||65<=_e&&_e<=70},isOctalDigit:function isOctalDigit(_e){return _e>=48&&_e<=55},isWhiteSpace:function isWhiteSpace(_e){return 32===_e||9===_e||11===_e||12===_e||160===_e||_e>=5760&&Pe.indexOf(_e)>=0},isLineTerminator:function isLineTerminator(_e){return 10===_e||13===_e||8232===_e||8233===_e},isIdentifierStartES5:function isIdentifierStartES5(_e){return _e<128?pt[_e]:Te.NonAsciiIdentifierStart.test(fromCodePoint(_e))},isIdentifierPartES5:function isIdentifierPartES5(_e){return _e<128?vt[_e]:Te.NonAsciiIdentifierPart.test(fromCodePoint(_e))},isIdentifierStartES6:function isIdentifierStartES6(_e){return _e<128?pt[_e]:be.NonAsciiIdentifierStart.test(fromCodePoint(_e))},isIdentifierPartES6:function isIdentifierPartES6(_e){return _e<128?vt[_e]:be.NonAsciiIdentifierPart.test(fromCodePoint(_e))}}}()},50702:function(_e,be,Te){!function(){"use strict";var be=Te(65619);function isStrictModeReservedWordES6(_e){switch(_e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function isKeywordES5(_e,be){return!(!be&&"yield"===_e)&&isKeywordES6(_e,be)}function isKeywordES6(_e,be){if(be&&isStrictModeReservedWordES6(_e))return!0;switch(_e.length){case 2:return"if"===_e||"in"===_e||"do"===_e;case 3:return"var"===_e||"for"===_e||"new"===_e||"try"===_e;case 4:return"this"===_e||"else"===_e||"case"===_e||"void"===_e||"with"===_e||"enum"===_e;case 5:return"while"===_e||"break"===_e||"catch"===_e||"throw"===_e||"const"===_e||"yield"===_e||"class"===_e||"super"===_e;case 6:return"return"===_e||"typeof"===_e||"delete"===_e||"switch"===_e||"export"===_e||"import"===_e;case 7:return"default"===_e||"finally"===_e||"extends"===_e;case 8:return"function"===_e||"continue"===_e||"debugger"===_e;case 10:return"instanceof"===_e;default:return!1}}function isReservedWordES5(_e,be){return"null"===_e||"true"===_e||"false"===_e||isKeywordES5(_e,be)}function isReservedWordES6(_e,be){return"null"===_e||"true"===_e||"false"===_e||isKeywordES6(_e,be)}function isIdentifierNameES5(_e){var Te,Pe,pt;if(0===_e.length)return!1;if(pt=_e.charCodeAt(0),!be.isIdentifierStartES5(pt))return!1;for(Te=1,Pe=_e.length;Te<Pe;++Te)if(pt=_e.charCodeAt(Te),!be.isIdentifierPartES5(pt))return!1;return!0}function isIdentifierNameES6(_e){var Te,Pe,pt,vt,xt;if(0===_e.length)return!1;for(xt=be.isIdentifierStartES6,Te=0,Pe=_e.length;Te<Pe;++Te){if(55296<=(pt=_e.charCodeAt(Te))&&pt<=56319){if(++Te>=Pe)return!1;if(!(56320<=(vt=_e.charCodeAt(Te))&&vt<=57343))return!1;pt=1024*(pt-55296)+(vt-56320)+65536}if(!xt(pt))return!1;xt=be.isIdentifierPartES6}return!0}_e.exports={isKeywordES5:isKeywordES5,isKeywordES6:isKeywordES6,isReservedWordES5:isReservedWordES5,isReservedWordES6:isReservedWordES6,isRestrictedWord:function isRestrictedWord(_e){return"eval"===_e||"arguments"===_e},isIdentifierNameES5:isIdentifierNameES5,isIdentifierNameES6:isIdentifierNameES6,isIdentifierES5:function isIdentifierES5(_e,be){return isIdentifierNameES5(_e)&&!isReservedWordES5(_e,be)},isIdentifierES6:function isIdentifierES6(_e,be){return isIdentifierNameES6(_e)&&!isReservedWordES6(_e,be)}}}()},649:function(_e,be,Te){!function(){"use strict";be.ast=Te(84974),be.code=Te(65619),be.keyword=Te(50702)}()},57625:function(){!function(){var _e=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^\(\s\/]*)\s*/;function _name(){var be,Te;return this===Function||this===Function.prototype.constructor?Te="Function":this!==Function.prototype&&(Te=(be=(""+this).match(_e))&&be[1]),Te||""}var be=!("name"in Function.prototype&&"name"in function x(){}),Te="function"==typeof Object.defineProperty&&function(){var _e;try{Object.defineProperty(Function.prototype,"_xyz",{get:function(){return"blah"},configurable:!0}),_e="blah"===Function.prototype._xyz,delete Function.prototype._xyz}catch(be){_e=!1}return _e}(),Pe="function"==typeof Object.prototype.__defineGetter__&&function(){var _e;try{Function.prototype.__defineGetter__("_abc",(function(){return"foo"})),_e="foo"===Function.prototype._abc,delete Function.prototype._abc}catch(be){_e=!1}return _e}();Function.prototype._name=_name,be&&(Te?Object.defineProperty(Function.prototype,"name",{get:function(){var _e=_name.call(this);return this!==Function.prototype&&Object.defineProperty(this,"name",{value:_e,configurable:!0}),_e},configurable:!0}):Pe&&Function.prototype.__defineGetter__("name",(function(){var _e=_name.call(this);return this!==Function.prototype&&this.__defineGetter__("name",(function(){return _e})),_e})))}()},49685:function(_e,be,Te){"use strict";Te.d(be,{Ib:function(){return Pe},WT:function(){return pt}});var Pe=1e-6,pt="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var _e=0,be=arguments.length;be--;)_e+=arguments[be]*arguments[be];return Math.sqrt(_e)})},85975:function(_e,be,Te){"use strict";Te.d(be,{G3:function(){return pt},GH:function(){return determinant},Iu:function(){return translate},Jp:function(){return multiply},M5:function(){return vt},U1:function(){return rotate},U_:function(){return invert},bA:function(){return scale},en:function(){return fromQuat},jI:function(){return rotateZ},lM:function(){return rotateX},oy:function(){return frustum},p4:function(){return transpose},uD:function(){return rotateY},zB:function(){return lookAt}});var Pe=Te(49685);function identity(_e){return _e[0]=1,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=1,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[10]=1,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e}function transpose(_e,be){if(_e===be){var Te=be[1],Pe=be[2],pt=be[3],vt=be[6],xt=be[7],Tt=be[11];_e[1]=be[4],_e[2]=be[8],_e[3]=be[12],_e[4]=Te,_e[6]=be[9],_e[7]=be[13],_e[8]=Pe,_e[9]=vt,_e[11]=be[14],_e[12]=pt,_e[13]=xt,_e[14]=Tt}else _e[0]=be[0],_e[1]=be[4],_e[2]=be[8],_e[3]=be[12],_e[4]=be[1],_e[5]=be[5],_e[6]=be[9],_e[7]=be[13],_e[8]=be[2],_e[9]=be[6],_e[10]=be[10],_e[11]=be[14],_e[12]=be[3],_e[13]=be[7],_e[14]=be[11],_e[15]=be[15];return _e}function invert(_e,be){var Te=be[0],Pe=be[1],pt=be[2],vt=be[3],xt=be[4],Tt=be[5],It=be[6],Mt=be[7],Lt=be[8],Ft=be[9],Ot=be[10],Vt=be[11],qt=be[12],Wt=be[13],$t=be[14],Kt=be[15],Jt=Te*Tt-Pe*xt,Yt=Te*It-pt*xt,Qt=Te*Mt-vt*xt,an=Pe*It-pt*Tt,cn=Pe*Mt-vt*Tt,hn=pt*Mt-vt*It,pn=Lt*Wt-Ft*qt,xn=Lt*$t-Ot*qt,Pn=Lt*Kt-Vt*qt,Ln=Ft*$t-Ot*Wt,Fn=Ft*Kt-Vt*Wt,jn=Ot*Kt-Vt*$t,$n=Jt*jn-Yt*Fn+Qt*Ln+an*Pn-cn*xn+hn*pn;return $n?($n=1/$n,_e[0]=(Tt*jn-It*Fn+Mt*Ln)*$n,_e[1]=(pt*Fn-Pe*jn-vt*Ln)*$n,_e[2]=(Wt*hn-$t*cn+Kt*an)*$n,_e[3]=(Ot*cn-Ft*hn-Vt*an)*$n,_e[4]=(It*Pn-xt*jn-Mt*xn)*$n,_e[5]=(Te*jn-pt*Pn+vt*xn)*$n,_e[6]=($t*Qt-qt*hn-Kt*Yt)*$n,_e[7]=(Lt*hn-Ot*Qt+Vt*Yt)*$n,_e[8]=(xt*Fn-Tt*Pn+Mt*pn)*$n,_e[9]=(Pe*Pn-Te*Fn-vt*pn)*$n,_e[10]=(qt*cn-Wt*Qt+Kt*Jt)*$n,_e[11]=(Ft*Qt-Lt*cn-Vt*Jt)*$n,_e[12]=(Tt*xn-xt*Ln-It*pn)*$n,_e[13]=(Te*Ln-Pe*xn+pt*pn)*$n,_e[14]=(Wt*Yt-qt*an-$t*Jt)*$n,_e[15]=(Lt*an-Ft*Yt+Ot*Jt)*$n,_e):null}function determinant(_e){var be=_e[0],Te=_e[1],Pe=_e[2],pt=_e[3],vt=_e[4],xt=_e[5],Tt=_e[6],It=_e[7],Mt=_e[8],Lt=_e[9],Ft=_e[10],Ot=_e[11],Vt=_e[12],qt=_e[13],Wt=_e[14],$t=_e[15];return(be*xt-Te*vt)*(Ft*$t-Ot*Wt)-(be*Tt-Pe*vt)*(Lt*$t-Ot*qt)+(be*It-pt*vt)*(Lt*Wt-Ft*qt)+(Te*Tt-Pe*xt)*(Mt*$t-Ot*Vt)-(Te*It-pt*xt)*(Mt*Wt-Ft*Vt)+(Pe*It-pt*Tt)*(Mt*qt-Lt*Vt)}function multiply(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2],xt=be[3],Tt=be[4],It=be[5],Mt=be[6],Lt=be[7],Ft=be[8],Ot=be[9],Vt=be[10],qt=be[11],Wt=be[12],$t=be[13],Kt=be[14],Jt=be[15],Yt=Te[0],Qt=Te[1],an=Te[2],cn=Te[3];return _e[0]=Yt*Pe+Qt*Tt+an*Ft+cn*Wt,_e[1]=Yt*pt+Qt*It+an*Ot+cn*$t,_e[2]=Yt*vt+Qt*Mt+an*Vt+cn*Kt,_e[3]=Yt*xt+Qt*Lt+an*qt+cn*Jt,Yt=Te[4],Qt=Te[5],an=Te[6],cn=Te[7],_e[4]=Yt*Pe+Qt*Tt+an*Ft+cn*Wt,_e[5]=Yt*pt+Qt*It+an*Ot+cn*$t,_e[6]=Yt*vt+Qt*Mt+an*Vt+cn*Kt,_e[7]=Yt*xt+Qt*Lt+an*qt+cn*Jt,Yt=Te[8],Qt=Te[9],an=Te[10],cn=Te[11],_e[8]=Yt*Pe+Qt*Tt+an*Ft+cn*Wt,_e[9]=Yt*pt+Qt*It+an*Ot+cn*$t,_e[10]=Yt*vt+Qt*Mt+an*Vt+cn*Kt,_e[11]=Yt*xt+Qt*Lt+an*qt+cn*Jt,Yt=Te[12],Qt=Te[13],an=Te[14],cn=Te[15],_e[12]=Yt*Pe+Qt*Tt+an*Ft+cn*Wt,_e[13]=Yt*pt+Qt*It+an*Ot+cn*$t,_e[14]=Yt*vt+Qt*Mt+an*Vt+cn*Kt,_e[15]=Yt*xt+Qt*Lt+an*qt+cn*Jt,_e}function translate(_e,be,Te){var Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt=Te[0],$t=Te[1],Kt=Te[2];return be===_e?(_e[12]=be[0]*Wt+be[4]*$t+be[8]*Kt+be[12],_e[13]=be[1]*Wt+be[5]*$t+be[9]*Kt+be[13],_e[14]=be[2]*Wt+be[6]*$t+be[10]*Kt+be[14],_e[15]=be[3]*Wt+be[7]*$t+be[11]*Kt+be[15]):(Pe=be[0],pt=be[1],vt=be[2],xt=be[3],Tt=be[4],It=be[5],Mt=be[6],Lt=be[7],Ft=be[8],Ot=be[9],Vt=be[10],qt=be[11],_e[0]=Pe,_e[1]=pt,_e[2]=vt,_e[3]=xt,_e[4]=Tt,_e[5]=It,_e[6]=Mt,_e[7]=Lt,_e[8]=Ft,_e[9]=Ot,_e[10]=Vt,_e[11]=qt,_e[12]=Pe*Wt+Tt*$t+Ft*Kt+be[12],_e[13]=pt*Wt+It*$t+Ot*Kt+be[13],_e[14]=vt*Wt+Mt*$t+Vt*Kt+be[14],_e[15]=xt*Wt+Lt*$t+qt*Kt+be[15]),_e}function scale(_e,be,Te){var Pe=Te[0],pt=Te[1],vt=Te[2];return _e[0]=be[0]*Pe,_e[1]=be[1]*Pe,_e[2]=be[2]*Pe,_e[3]=be[3]*Pe,_e[4]=be[4]*pt,_e[5]=be[5]*pt,_e[6]=be[6]*pt,_e[7]=be[7]*pt,_e[8]=be[8]*vt,_e[9]=be[9]*vt,_e[10]=be[10]*vt,_e[11]=be[11]*vt,_e[12]=be[12],_e[13]=be[13],_e[14]=be[14],_e[15]=be[15],_e}function rotate(_e,be,Te,pt){var vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt,Jt,Yt,Qt,an,cn,hn,pn,xn,Pn,Ln,Fn,jn=pt[0],$n=pt[1],ea=pt[2],na=Math.hypot(jn,$n,ea);return na<Pe.Ib?null:(jn*=na=1/na,$n*=na,ea*=na,vt=Math.sin(Te),Tt=1-(xt=Math.cos(Te)),It=be[0],Mt=be[1],Lt=be[2],Ft=be[3],Ot=be[4],Vt=be[5],qt=be[6],Wt=be[7],$t=be[8],Kt=be[9],Jt=be[10],Yt=be[11],Qt=jn*jn*Tt+xt,an=$n*jn*Tt+ea*vt,cn=ea*jn*Tt-$n*vt,hn=jn*$n*Tt-ea*vt,pn=$n*$n*Tt+xt,xn=ea*$n*Tt+jn*vt,Pn=jn*ea*Tt+$n*vt,Ln=$n*ea*Tt-jn*vt,Fn=ea*ea*Tt+xt,_e[0]=It*Qt+Ot*an+$t*cn,_e[1]=Mt*Qt+Vt*an+Kt*cn,_e[2]=Lt*Qt+qt*an+Jt*cn,_e[3]=Ft*Qt+Wt*an+Yt*cn,_e[4]=It*hn+Ot*pn+$t*xn,_e[5]=Mt*hn+Vt*pn+Kt*xn,_e[6]=Lt*hn+qt*pn+Jt*xn,_e[7]=Ft*hn+Wt*pn+Yt*xn,_e[8]=It*Pn+Ot*Ln+$t*Fn,_e[9]=Mt*Pn+Vt*Ln+Kt*Fn,_e[10]=Lt*Pn+qt*Ln+Jt*Fn,_e[11]=Ft*Pn+Wt*Ln+Yt*Fn,be!==_e&&(_e[12]=be[12],_e[13]=be[13],_e[14]=be[14],_e[15]=be[15]),_e)}function rotateX(_e,be,Te){var Pe=Math.sin(Te),pt=Math.cos(Te),vt=be[4],xt=be[5],Tt=be[6],It=be[7],Mt=be[8],Lt=be[9],Ft=be[10],Ot=be[11];return be!==_e&&(_e[0]=be[0],_e[1]=be[1],_e[2]=be[2],_e[3]=be[3],_e[12]=be[12],_e[13]=be[13],_e[14]=be[14],_e[15]=be[15]),_e[4]=vt*pt+Mt*Pe,_e[5]=xt*pt+Lt*Pe,_e[6]=Tt*pt+Ft*Pe,_e[7]=It*pt+Ot*Pe,_e[8]=Mt*pt-vt*Pe,_e[9]=Lt*pt-xt*Pe,_e[10]=Ft*pt-Tt*Pe,_e[11]=Ot*pt-It*Pe,_e}function rotateY(_e,be,Te){var Pe=Math.sin(Te),pt=Math.cos(Te),vt=be[0],xt=be[1],Tt=be[2],It=be[3],Mt=be[8],Lt=be[9],Ft=be[10],Ot=be[11];return be!==_e&&(_e[4]=be[4],_e[5]=be[5],_e[6]=be[6],_e[7]=be[7],_e[12]=be[12],_e[13]=be[13],_e[14]=be[14],_e[15]=be[15]),_e[0]=vt*pt-Mt*Pe,_e[1]=xt*pt-Lt*Pe,_e[2]=Tt*pt-Ft*Pe,_e[3]=It*pt-Ot*Pe,_e[8]=vt*Pe+Mt*pt,_e[9]=xt*Pe+Lt*pt,_e[10]=Tt*Pe+Ft*pt,_e[11]=It*Pe+Ot*pt,_e}function rotateZ(_e,be,Te){var Pe=Math.sin(Te),pt=Math.cos(Te),vt=be[0],xt=be[1],Tt=be[2],It=be[3],Mt=be[4],Lt=be[5],Ft=be[6],Ot=be[7];return be!==_e&&(_e[8]=be[8],_e[9]=be[9],_e[10]=be[10],_e[11]=be[11],_e[12]=be[12],_e[13]=be[13],_e[14]=be[14],_e[15]=be[15]),_e[0]=vt*pt+Mt*Pe,_e[1]=xt*pt+Lt*Pe,_e[2]=Tt*pt+Ft*Pe,_e[3]=It*pt+Ot*Pe,_e[4]=Mt*pt-vt*Pe,_e[5]=Lt*pt-xt*Pe,_e[6]=Ft*pt-Tt*Pe,_e[7]=Ot*pt-It*Pe,_e}function fromQuat(_e,be){var Te=be[0],Pe=be[1],pt=be[2],vt=be[3],xt=Te+Te,Tt=Pe+Pe,It=pt+pt,Mt=Te*xt,Lt=Pe*xt,Ft=Pe*Tt,Ot=pt*xt,Vt=pt*Tt,qt=pt*It,Wt=vt*xt,$t=vt*Tt,Kt=vt*It;return _e[0]=1-Ft-qt,_e[1]=Lt+Kt,_e[2]=Ot-$t,_e[3]=0,_e[4]=Lt-Kt,_e[5]=1-Mt-qt,_e[6]=Vt+Wt,_e[7]=0,_e[8]=Ot+$t,_e[9]=Vt-Wt,_e[10]=1-Mt-Ft,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e}function frustum(_e,be,Te,Pe,pt,vt,xt){var Tt=1/(Te-be),It=1/(pt-Pe),Mt=1/(vt-xt);return _e[0]=2*vt*Tt,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=2*vt*It,_e[6]=0,_e[7]=0,_e[8]=(Te+be)*Tt,_e[9]=(pt+Pe)*It,_e[10]=(xt+vt)*Mt,_e[11]=-1,_e[12]=0,_e[13]=0,_e[14]=xt*vt*2*Mt,_e[15]=0,_e}var pt=function perspectiveNO(_e,be,Te,Pe,pt){var vt,xt=1/Math.tan(be/2);return _e[0]=xt/Te,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=xt,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[11]=-1,_e[12]=0,_e[13]=0,_e[15]=0,null!=pt&&pt!==1/0?(vt=1/(Pe-pt),_e[10]=(pt+Pe)*vt,_e[14]=2*pt*Pe*vt):(_e[10]=-1,_e[14]=-2*Pe),_e};var vt=function orthoNO(_e,be,Te,Pe,pt,vt,xt){var Tt=1/(be-Te),It=1/(Pe-pt),Mt=1/(vt-xt);return _e[0]=-2*Tt,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=-2*It,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[10]=2*Mt,_e[11]=0,_e[12]=(be+Te)*Tt,_e[13]=(pt+Pe)*It,_e[14]=(xt+vt)*Mt,_e[15]=1,_e};function lookAt(_e,be,Te,pt){var vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt=be[0],$t=be[1],Kt=be[2],Jt=pt[0],Yt=pt[1],Qt=pt[2],an=Te[0],cn=Te[1],hn=Te[2];return Math.abs(Wt-an)<Pe.Ib&&Math.abs($t-cn)<Pe.Ib&&Math.abs(Kt-hn)<Pe.Ib?identity(_e):(Ft=Wt-an,Ot=$t-cn,Vt=Kt-hn,vt=Yt*(Vt*=qt=1/Math.hypot(Ft,Ot,Vt))-Qt*(Ot*=qt),xt=Qt*(Ft*=qt)-Jt*Vt,Tt=Jt*Ot-Yt*Ft,(qt=Math.hypot(vt,xt,Tt))?(vt*=qt=1/qt,xt*=qt,Tt*=qt):(vt=0,xt=0,Tt=0),It=Ot*Tt-Vt*xt,Mt=Vt*vt-Ft*Tt,Lt=Ft*xt-Ot*vt,(qt=Math.hypot(It,Mt,Lt))?(It*=qt=1/qt,Mt*=qt,Lt*=qt):(It=0,Mt=0,Lt=0),_e[0]=vt,_e[1]=It,_e[2]=Ft,_e[3]=0,_e[4]=xt,_e[5]=Mt,_e[6]=Ot,_e[7]=0,_e[8]=Tt,_e[9]=Lt,_e[10]=Vt,_e[11]=0,_e[12]=-(vt*Wt+xt*$t+Tt*Kt),_e[13]=-(It*Wt+Mt*$t+Lt*Kt),_e[14]=-(Ft*Wt+Ot*$t+Vt*Kt),_e[15]=1,_e)}},31437:function(_e,be,Te){"use strict";Te.d(be,{IH:function(){return add},fF:function(){return transformMat4},t7:function(){return lerp},tk:function(){return negate}});var Pe=Te(49685);function add(_e,be,Te){return _e[0]=be[0]+Te[0],_e[1]=be[1]+Te[1],_e}function negate(_e,be){return _e[0]=-be[0],_e[1]=-be[1],_e}function lerp(_e,be,Te,Pe){var pt=be[0],vt=be[1];return _e[0]=pt+Pe*(Te[0]-pt),_e[1]=vt+Pe*(Te[1]-vt),_e}function transformMat4(_e,be,Te){var Pe=be[0],pt=be[1];return _e[0]=Te[0]*Pe+Te[4]*pt+Te[12],_e[1]=Te[1]*Pe+Te[5]*pt+Te[13],_e}var pt,vt;pt=new Pe.WT(2),Pe.WT!=Float32Array&&(pt[0]=0,pt[1]=0),vt=pt},77160:function(_e,be,Te){"use strict";Te.d(be,{EU:function(){return angle},VC:function(){return transformQuat},fF:function(){return transformMat4},jI:function(){return rotateZ},kC:function(){return cross},kK:function(){return transformMat3},lM:function(){return rotateX},lu:function(){return xt},tk:function(){return negate},uD:function(){return rotateY}});var Pe=Te(49685);function negate(_e,be){return _e[0]=-be[0],_e[1]=-be[1],_e[2]=-be[2],_e}function dot(_e,be){return _e[0]*be[0]+_e[1]*be[1]+_e[2]*be[2]}function cross(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2],xt=Te[0],Tt=Te[1],It=Te[2];return _e[0]=pt*It-vt*Tt,_e[1]=vt*xt-Pe*It,_e[2]=Pe*Tt-pt*xt,_e}function transformMat4(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2],xt=Te[3]*Pe+Te[7]*pt+Te[11]*vt+Te[15];return xt=xt||1,_e[0]=(Te[0]*Pe+Te[4]*pt+Te[8]*vt+Te[12])/xt,_e[1]=(Te[1]*Pe+Te[5]*pt+Te[9]*vt+Te[13])/xt,_e[2]=(Te[2]*Pe+Te[6]*pt+Te[10]*vt+Te[14])/xt,_e}function transformMat3(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2];return _e[0]=Pe*Te[0]+pt*Te[3]+vt*Te[6],_e[1]=Pe*Te[1]+pt*Te[4]+vt*Te[7],_e[2]=Pe*Te[2]+pt*Te[5]+vt*Te[8],_e}function transformQuat(_e,be,Te){var Pe=Te[0],pt=Te[1],vt=Te[2],xt=Te[3],Tt=be[0],It=be[1],Mt=be[2],Lt=pt*Mt-vt*It,Ft=vt*Tt-Pe*Mt,Ot=Pe*It-pt*Tt,Vt=pt*Ot-vt*Ft,qt=vt*Lt-Pe*Ot,Wt=Pe*Ft-pt*Lt,$t=2*xt;return Lt*=$t,Ft*=$t,Ot*=$t,Vt*=2,qt*=2,Wt*=2,_e[0]=Tt+Lt+Vt,_e[1]=It+Ft+qt,_e[2]=Mt+Ot+Wt,_e}function rotateX(_e,be,Te,Pe){var pt=[],vt=[];return pt[0]=be[0]-Te[0],pt[1]=be[1]-Te[1],pt[2]=be[2]-Te[2],vt[0]=pt[0],vt[1]=pt[1]*Math.cos(Pe)-pt[2]*Math.sin(Pe),vt[2]=pt[1]*Math.sin(Pe)+pt[2]*Math.cos(Pe),_e[0]=vt[0]+Te[0],_e[1]=vt[1]+Te[1],_e[2]=vt[2]+Te[2],_e}function rotateY(_e,be,Te,Pe){var pt=[],vt=[];return pt[0]=be[0]-Te[0],pt[1]=be[1]-Te[1],pt[2]=be[2]-Te[2],vt[0]=pt[2]*Math.sin(Pe)+pt[0]*Math.cos(Pe),vt[1]=pt[1],vt[2]=pt[2]*Math.cos(Pe)-pt[0]*Math.sin(Pe),_e[0]=vt[0]+Te[0],_e[1]=vt[1]+Te[1],_e[2]=vt[2]+Te[2],_e}function rotateZ(_e,be,Te,Pe){var pt=[],vt=[];return pt[0]=be[0]-Te[0],pt[1]=be[1]-Te[1],pt[2]=be[2]-Te[2],vt[0]=pt[0]*Math.cos(Pe)-pt[1]*Math.sin(Pe),vt[1]=pt[0]*Math.sin(Pe)+pt[1]*Math.cos(Pe),vt[2]=pt[2],_e[0]=vt[0]+Te[0],_e[1]=vt[1]+Te[1],_e[2]=vt[2]+Te[2],_e}function angle(_e,be){var Te=_e[0],Pe=_e[1],pt=_e[2],vt=be[0],xt=be[1],Tt=be[2],It=Math.sqrt(Te*Te+Pe*Pe+pt*pt)*Math.sqrt(vt*vt+xt*xt+Tt*Tt),Mt=It&&dot(_e,be)/It;return Math.acos(Math.min(Math.max(Mt,-1),1))}var pt,vt,xt=function subtract(_e,be,Te){return _e[0]=be[0]-Te[0],_e[1]=be[1]-Te[1],_e[2]=be[2]-Te[2],_e};pt=new Pe.WT(3),Pe.WT!=Float32Array&&(pt[0]=0,pt[1]=0,pt[2]=0),vt=pt},98333:function(_e,be,Te){"use strict";Te.d(be,{bA:function(){return scale},fF:function(){return transformMat4}});var Pe=Te(49685);function scale(_e,be,Te){return _e[0]=be[0]*Te,_e[1]=be[1]*Te,_e[2]=be[2]*Te,_e[3]=be[3]*Te,_e}function transformMat4(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2],xt=be[3];return _e[0]=Te[0]*Pe+Te[4]*pt+Te[8]*vt+Te[12]*xt,_e[1]=Te[1]*Pe+Te[5]*pt+Te[9]*vt+Te[13]*xt,_e[2]=Te[2]*Pe+Te[6]*pt+Te[10]*vt+Te[14]*xt,_e[3]=Te[3]*Pe+Te[7]*pt+Te[11]*vt+Te[15]*xt,_e}var pt,vt;pt=new Pe.WT(4),Pe.WT!=Float32Array&&(pt[0]=0,pt[1]=0,pt[2]=0,pt[3]=0),vt=pt},50840:function(_e,be,Te){var Pe;!function(pt,vt,xt,Tt){"use strict";var It,Mt=["","webkit","Moz","MS","ms","o"],Lt=vt.createElement("div"),Ft=Math.round,Ot=Math.abs,Vt=Date.now;function setTimeoutContext(_e,be,Te){return setTimeout(bindFn(_e,Te),be)}function invokeArrayArg(_e,be,Te){return!!Array.isArray(_e)&&(each(_e,Te[be],Te),!0)}function each(_e,be,Te){var Pe;if(_e)if(_e.forEach)_e.forEach(be,Te);else if(_e.length!==Tt)for(Pe=0;Pe<_e.length;)be.call(Te,_e[Pe],Pe,_e),Pe++;else for(Pe in _e)_e.hasOwnProperty(Pe)&&be.call(Te,_e[Pe],Pe,_e)}function deprecate(_e,be,Te){var Pe="DEPRECATED METHOD: "+be+"\n"+Te+" AT \n";return function(){var be=new Error("get-stack-trace"),Te=be&&be.stack?be.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",vt=pt.console&&(pt.console.warn||pt.console.log);return vt&&vt.call(pt.console,Pe,Te),_e.apply(this,arguments)}}It="function"!=typeof Object.assign?function assign(_e){if(_e===Tt||null===_e)throw new TypeError("Cannot convert undefined or null to object");for(var be=Object(_e),Te=1;Te<arguments.length;Te++){var Pe=arguments[Te];if(Pe!==Tt&&null!==Pe)for(var pt in Pe)Pe.hasOwnProperty(pt)&&(be[pt]=Pe[pt])}return be}:Object.assign;var qt=deprecate((function extend(_e,be,Te){for(var Pe=Object.keys(be),pt=0;pt<Pe.length;)(!Te||Te&&_e[Pe[pt]]===Tt)&&(_e[Pe[pt]]=be[Pe[pt]]),pt++;return _e}),"extend","Use `assign`."),Wt=deprecate((function merge(_e,be){return qt(_e,be,!0)}),"merge","Use `assign`.");function inherit(_e,be,Te){var Pe,pt=be.prototype;(Pe=_e.prototype=Object.create(pt)).constructor=_e,Pe._super=pt,Te&&It(Pe,Te)}function bindFn(_e,be){return function boundFn(){return _e.apply(be,arguments)}}function boolOrFn(_e,be){return"function"==typeof _e?_e.apply(be&&be[0]||Tt,be):_e}function ifUndefined(_e,be){return _e===Tt?be:_e}function addEventListeners(_e,be,Te){each(splitStr(be),(function(be){_e.addEventListener(be,Te,!1)}))}function removeEventListeners(_e,be,Te){each(splitStr(be),(function(be){_e.removeEventListener(be,Te,!1)}))}function hasParent(_e,be){for(;_e;){if(_e==be)return!0;_e=_e.parentNode}return!1}function inStr(_e,be){return _e.indexOf(be)>-1}function splitStr(_e){return _e.trim().split(/\s+/g)}function inArray(_e,be,Te){if(_e.indexOf&&!Te)return _e.indexOf(be);for(var Pe=0;Pe<_e.length;){if(Te&&_e[Pe][Te]==be||!Te&&_e[Pe]===be)return Pe;Pe++}return-1}function toArray(_e){return Array.prototype.slice.call(_e,0)}function uniqueArray(_e,be,Te){for(var Pe=[],pt=[],vt=0;vt<_e.length;){var xt=be?_e[vt][be]:_e[vt];inArray(pt,xt)<0&&Pe.push(_e[vt]),pt[vt]=xt,vt++}return Te&&(Pe=be?Pe.sort((function sortUniqueArray(_e,Te){return _e[be]>Te[be]})):Pe.sort()),Pe}function prefixed(_e,be){for(var Te,Pe,pt=be[0].toUpperCase()+be.slice(1),vt=0;vt<Mt.length;){if((Pe=(Te=Mt[vt])?Te+pt:be)in _e)return Pe;vt++}return Tt}var $t=1;function getWindowForElement(_e){var be=_e.ownerDocument||_e;return be.defaultView||be.parentWindow||pt}var Kt="ontouchstart"in pt,Jt=prefixed(pt,"PointerEvent")!==Tt,Yt=Kt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Qt="touch",an="mouse",cn=24,hn=["x","y"],pn=["clientX","clientY"];function Input(_e,be){var Te=this;this.manager=_e,this.callback=be,this.element=_e.element,this.target=_e.options.inputTarget,this.domHandler=function(be){boolOrFn(_e.options.enable,[_e])&&Te.handler(be)},this.init()}function inputHandler(_e,be,Te){var Pe=Te.pointers.length,pt=Te.changedPointers.length,vt=1&be&&Pe-pt==0,xt=12&be&&Pe-pt==0;Te.isFirst=!!vt,Te.isFinal=!!xt,vt&&(_e.session={}),Te.eventType=be,computeInputData(_e,Te),_e.emit("hammer.input",Te),_e.recognize(Te),_e.session.prevInput=Te}function computeInputData(_e,be){var Te=_e.session,Pe=be.pointers,pt=Pe.length;Te.firstInput||(Te.firstInput=simpleCloneInputData(be)),pt>1&&!Te.firstMultiple?Te.firstMultiple=simpleCloneInputData(be):1===pt&&(Te.firstMultiple=!1);var vt=Te.firstInput,xt=Te.firstMultiple,Tt=xt?xt.center:vt.center,It=be.center=getCenter(Pe);be.timeStamp=Vt(),be.deltaTime=be.timeStamp-vt.timeStamp,be.angle=getAngle(Tt,It),be.distance=getDistance(Tt,It),computeDeltaXY(Te,be),be.offsetDirection=getDirection(be.deltaX,be.deltaY);var Mt,Lt,Ft=getVelocity(be.deltaTime,be.deltaX,be.deltaY);be.overallVelocityX=Ft.x,be.overallVelocityY=Ft.y,be.overallVelocity=Ot(Ft.x)>Ot(Ft.y)?Ft.x:Ft.y,be.scale=xt?(Mt=xt.pointers,getDistance((Lt=Pe)[0],Lt[1],pn)/getDistance(Mt[0],Mt[1],pn)):1,be.rotation=xt?getRotation(xt.pointers,Pe):0,be.maxPointers=Te.prevInput?be.pointers.length>Te.prevInput.maxPointers?be.pointers.length:Te.prevInput.maxPointers:be.pointers.length,computeIntervalInputData(Te,be);var qt=_e.element;hasParent(be.srcEvent.target,qt)&&(qt=be.srcEvent.target),be.target=qt}function computeDeltaXY(_e,be){var Te=be.center,Pe=_e.offsetDelta||{},pt=_e.prevDelta||{},vt=_e.prevInput||{};1!==be.eventType&&4!==vt.eventType||(pt=_e.prevDelta={x:vt.deltaX||0,y:vt.deltaY||0},Pe=_e.offsetDelta={x:Te.x,y:Te.y}),be.deltaX=pt.x+(Te.x-Pe.x),be.deltaY=pt.y+(Te.y-Pe.y)}function computeIntervalInputData(_e,be){var Te,Pe,pt,vt,xt=_e.lastInterval||be,It=be.timeStamp-xt.timeStamp;if(8!=be.eventType&&(It>25||xt.velocity===Tt)){var Mt=be.deltaX-xt.deltaX,Lt=be.deltaY-xt.deltaY,Ft=getVelocity(It,Mt,Lt);Pe=Ft.x,pt=Ft.y,Te=Ot(Ft.x)>Ot(Ft.y)?Ft.x:Ft.y,vt=getDirection(Mt,Lt),_e.lastInterval=be}else Te=xt.velocity,Pe=xt.velocityX,pt=xt.velocityY,vt=xt.direction;be.velocity=Te,be.velocityX=Pe,be.velocityY=pt,be.direction=vt}function simpleCloneInputData(_e){for(var be=[],Te=0;Te<_e.pointers.length;)be[Te]={clientX:Ft(_e.pointers[Te].clientX),clientY:Ft(_e.pointers[Te].clientY)},Te++;return{timeStamp:Vt(),pointers:be,center:getCenter(be),deltaX:_e.deltaX,deltaY:_e.deltaY}}function getCenter(_e){var be=_e.length;if(1===be)return{x:Ft(_e[0].clientX),y:Ft(_e[0].clientY)};for(var Te=0,Pe=0,pt=0;pt<be;)Te+=_e[pt].clientX,Pe+=_e[pt].clientY,pt++;return{x:Ft(Te/be),y:Ft(Pe/be)}}function getVelocity(_e,be,Te){return{x:be/_e||0,y:Te/_e||0}}function getDirection(_e,be){return _e===be?1:Ot(_e)>=Ot(be)?_e<0?2:4:be<0?8:16}function getDistance(_e,be,Te){Te||(Te=hn);var Pe=be[Te[0]]-_e[Te[0]],pt=be[Te[1]]-_e[Te[1]];return Math.sqrt(Pe*Pe+pt*pt)}function getAngle(_e,be,Te){Te||(Te=hn);var Pe=be[Te[0]]-_e[Te[0]],pt=be[Te[1]]-_e[Te[1]];return 180*Math.atan2(pt,Pe)/Math.PI}function getRotation(_e,be){return getAngle(be[1],be[0],pn)+getAngle(_e[1],_e[0],pn)}Input.prototype={handler:function(){},init:function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};var xn={mousedown:1,mousemove:2,mouseup:4},Pn="mousedown",Ln="mousemove mouseup";function MouseInput(){this.evEl=Pn,this.evWin=Ln,this.pressed=!1,Input.apply(this,arguments)}inherit(MouseInput,Input,{handler:function MEhandler(_e){var be=xn[_e.type];1&be&&0===_e.button&&(this.pressed=!0),2&be&&1!==_e.which&&(be=4),this.pressed&&(4&be&&(this.pressed=!1),this.callback(this.manager,be,{pointers:[_e],changedPointers:[_e],pointerType:an,srcEvent:_e}))}});var Fn={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},jn={2:Qt,3:"pen",4:an,5:"kinect"},$n="pointerdown",ea="pointermove pointerup pointercancel";function PointerEventInput(){this.evEl=$n,this.evWin=ea,Input.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}pt.MSPointerEvent&&!pt.PointerEvent&&($n="MSPointerDown",ea="MSPointerMove MSPointerUp MSPointerCancel"),inherit(PointerEventInput,Input,{handler:function PEhandler(_e){var be=this.store,Te=!1,Pe=_e.type.toLowerCase().replace("ms",""),pt=Fn[Pe],vt=jn[_e.pointerType]||_e.pointerType,xt=vt==Qt,Tt=inArray(be,_e.pointerId,"pointerId");1&pt&&(0===_e.button||xt)?Tt<0&&(be.push(_e),Tt=be.length-1):12&pt&&(Te=!0),Tt<0||(be[Tt]=_e,this.callback(this.manager,pt,{pointers:be,changedPointers:[_e],pointerType:vt,srcEvent:_e}),Te&&be.splice(Tt,1))}});var na={touchstart:1,touchmove:2,touchend:4,touchcancel:8},aa="touchstart",ra="touchstart touchmove touchend touchcancel";function SingleTouchInput(){this.evTarget=aa,this.evWin=ra,this.started=!1,Input.apply(this,arguments)}function normalizeSingleTouches(_e,be){var Te=toArray(_e.touches),Pe=toArray(_e.changedTouches);return 12&be&&(Te=uniqueArray(Te.concat(Pe),"identifier",!0)),[Te,Pe]}inherit(SingleTouchInput,Input,{handler:function TEhandler(_e){var be=na[_e.type];if(1===be&&(this.started=!0),this.started){var Te=normalizeSingleTouches.call(this,_e,be);12&be&&Te[0].length-Te[1].length==0&&(this.started=!1),this.callback(this.manager,be,{pointers:Te[0],changedPointers:Te[1],pointerType:Qt,srcEvent:_e})}}});var ia={touchstart:1,touchmove:2,touchend:4,touchcancel:8},da="touchstart touchmove touchend touchcancel";function TouchInput(){this.evTarget=da,this.targetIds={},Input.apply(this,arguments)}function getTouches(_e,be){var Te=toArray(_e.touches),Pe=this.targetIds;if(3&be&&1===Te.length)return Pe[Te[0].identifier]=!0,[Te,Te];var pt,vt,xt=toArray(_e.changedTouches),Tt=[],It=this.target;if(vt=Te.filter((function(_e){return hasParent(_e.target,It)})),1===be)for(pt=0;pt<vt.length;)Pe[vt[pt].identifier]=!0,pt++;for(pt=0;pt<xt.length;)Pe[xt[pt].identifier]&&Tt.push(xt[pt]),12&be&&delete Pe[xt[pt].identifier],pt++;return Tt.length?[uniqueArray(vt.concat(Tt),"identifier",!0),Tt]:void 0}inherit(TouchInput,Input,{handler:function MTEhandler(_e){var be=ia[_e.type],Te=getTouches.call(this,_e,be);Te&&this.callback(this.manager,be,{pointers:Te[0],changedPointers:Te[1],pointerType:Qt,srcEvent:_e})}});function TouchMouseInput(){Input.apply(this,arguments);var _e=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,_e),this.mouse=new MouseInput(this.manager,_e),this.primaryTouch=null,this.lastTouches=[]}function recordTouches(_e,be){1&_e?(this.primaryTouch=be.changedPointers[0].identifier,setLastTouch.call(this,be)):12&_e&&setLastTouch.call(this,be)}function setLastTouch(_e){var be=_e.changedPointers[0];if(be.identifier===this.primaryTouch){var Te={x:be.clientX,y:be.clientY};this.lastTouches.push(Te);var Pe=this.lastTouches;setTimeout((function(){var _e=Pe.indexOf(Te);_e>-1&&Pe.splice(_e,1)}),2500)}}function isSyntheticEvent(_e){for(var be=_e.srcEvent.clientX,Te=_e.srcEvent.clientY,Pe=0;Pe<this.lastTouches.length;Pe++){var pt=this.lastTouches[Pe],vt=Math.abs(be-pt.x),xt=Math.abs(Te-pt.y);if(vt<=25&&xt<=25)return!0}return!1}inherit(TouchMouseInput,Input,{handler:function TMEhandler(_e,be,Te){var Pe=Te.pointerType==Qt,pt=Te.pointerType==an;if(!(pt&&Te.sourceCapabilities&&Te.sourceCapabilities.firesTouchEvents)){if(Pe)recordTouches.call(this,be,Te);else if(pt&&isSyntheticEvent.call(this,Te))return;this.callback(_e,be,Te)}},destroy:function destroy(){this.touch.destroy(),this.mouse.destroy()}});var la=prefixed(Lt.style,"touchAction"),ua=la!==Tt,ca="compute",ga="auto",ma="manipulation",ya="none",_a="pan-x",va="pan-y",xa=function getTouchActionProps(){if(!ua)return!1;var _e={},be=pt.CSS&&pt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(Te){_e[Te]=!be||pt.CSS.supports("touch-action",Te)})),_e}();function TouchAction(_e,be){this.manager=_e,this.set(be)}function cleanTouchActions(_e){if(inStr(_e,ya))return ya;var be=inStr(_e,_a),Te=inStr(_e,va);return be&&Te?ya:be||Te?be?_a:va:inStr(_e,ma)?ma:ga}TouchAction.prototype={set:function(_e){_e==ca&&(_e=this.compute()),ua&&this.manager.element.style&&xa[_e]&&(this.manager.element.style[la]=_e),this.actions=_e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var _e=[];return each(this.manager.recognizers,(function(be){boolOrFn(be.options.enable,[be])&&(_e=_e.concat(be.getTouchAction()))})),cleanTouchActions(_e.join(" "))},preventDefaults:function(_e){var be=_e.srcEvent,Te=_e.offsetDirection;if(this.manager.session.prevented)be.preventDefault();else{var Pe=this.actions,pt=inStr(Pe,ya)&&!xa.none,vt=inStr(Pe,va)&&!xa["pan-y"],xt=inStr(Pe,_a)&&!xa["pan-x"];if(pt){var Tt=1===_e.pointers.length,It=_e.distance<2,Mt=_e.deltaTime<250;if(Tt&&It&&Mt)return}if(!xt||!vt)return pt||vt&&6&Te||xt&&Te&cn?this.preventSrc(be):void 0}},preventSrc:function(_e){this.manager.session.prevented=!0,_e.preventDefault()}};var ba=32;function Recognizer(_e){this.options=It({},this.defaults,_e||{}),this.id=$t++,this.manager=null,this.options.enable=ifUndefined(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function stateStr(_e){return 16&_e?"cancel":8&_e?"end":4&_e?"move":2&_e?"start":""}function directionStr(_e){return 16==_e?"down":8==_e?"up":2==_e?"left":4==_e?"right":""}function getRecognizerByNameIfManager(_e,be){var Te=be.manager;return Te?Te.get(_e):_e}function AttrRecognizer(){Recognizer.apply(this,arguments)}function PanRecognizer(){AttrRecognizer.apply(this,arguments),this.pX=null,this.pY=null}function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}function PressRecognizer(){Recognizer.apply(this,arguments),this._timer=null,this._input=null}function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}function TapRecognizer(){Recognizer.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Hammer(_e,be){return(be=be||{}).recognizers=ifUndefined(be.recognizers,Hammer.defaults.preset),new Manager(_e,be)}Recognizer.prototype={defaults:{},set:function(_e){return It(this.options,_e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(_e){if(invokeArrayArg(_e,"recognizeWith",this))return this;var be=this.simultaneous;return be[(_e=getRecognizerByNameIfManager(_e,this)).id]||(be[_e.id]=_e,_e.recognizeWith(this)),this},dropRecognizeWith:function(_e){return invokeArrayArg(_e,"dropRecognizeWith",this)||(_e=getRecognizerByNameIfManager(_e,this),delete this.simultaneous[_e.id]),this},requireFailure:function(_e){if(invokeArrayArg(_e,"requireFailure",this))return this;var be=this.requireFail;return-1===inArray(be,_e=getRecognizerByNameIfManager(_e,this))&&(be.push(_e),_e.requireFailure(this)),this},dropRequireFailure:function(_e){if(invokeArrayArg(_e,"dropRequireFailure",this))return this;_e=getRecognizerByNameIfManager(_e,this);var be=inArray(this.requireFail,_e);return be>-1&&this.requireFail.splice(be,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(_e){return!!this.simultaneous[_e.id]},emit:function(_e){var be=this,Te=this.state;function emit(Te){be.manager.emit(Te,_e)}Te<8&&emit(be.options.event+stateStr(Te)),emit(be.options.event),_e.additionalEvent&&emit(_e.additionalEvent),Te>=8&&emit(be.options.event+stateStr(Te))},tryEmit:function(_e){if(this.canEmit())return this.emit(_e);this.state=ba},canEmit:function(){for(var _e=0;_e<this.requireFail.length;){if(!(33&this.requireFail[_e].state))return!1;_e++}return!0},recognize:function(_e){var be=It({},_e);if(!boolOrFn(this.options.enable,[this,be]))return this.reset(),void(this.state=ba);56&this.state&&(this.state=1),this.state=this.process(be),30&this.state&&this.tryEmit(be)},process:function(_e){},getTouchAction:function(){},reset:function(){}},inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function(_e){var be=this.options.pointers;return 0===be||_e.pointers.length===be},process:function(_e){var be=this.state,Te=_e.eventType,Pe=6&be,pt=this.attrTest(_e);return Pe&&(8&Te||!pt)?16|be:Pe||pt?4&Te?8|be:2&be?4|be:2:ba}}),inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var _e=this.options.direction,be=[];return 6&_e&&be.push(va),_e&cn&&be.push(_a),be},directionTest:function(_e){var be=this.options,Te=!0,Pe=_e.distance,pt=_e.direction,vt=_e.deltaX,xt=_e.deltaY;return pt&be.direction||(6&be.direction?(pt=0===vt?1:vt<0?2:4,Te=vt!=this.pX,Pe=Math.abs(_e.deltaX)):(pt=0===xt?1:xt<0?8:16,Te=xt!=this.pY,Pe=Math.abs(_e.deltaY))),_e.direction=pt,Te&&Pe>be.threshold&&pt&be.direction},attrTest:function(_e){return AttrRecognizer.prototype.attrTest.call(this,_e)&&(2&this.state||!(2&this.state)&&this.directionTest(_e))},emit:function(_e){this.pX=_e.deltaX,this.pY=_e.deltaY;var be=directionStr(_e.direction);be&&(_e.additionalEvent=this.options.event+be),this._super.emit.call(this,_e)}}),inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ya]},attrTest:function(_e){return this._super.attrTest.call(this,_e)&&(Math.abs(_e.scale-1)>this.options.threshold||2&this.state)},emit:function(_e){if(1!==_e.scale){var be=_e.scale<1?"in":"out";_e.additionalEvent=this.options.event+be}this._super.emit.call(this,_e)}}),inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ga]},process:function(_e){var be=this.options,Te=_e.pointers.length===be.pointers,Pe=_e.distance<be.threshold,pt=_e.deltaTime>be.time;if(this._input=_e,!Pe||!Te||12&_e.eventType&&!pt)this.reset();else if(1&_e.eventType)this.reset(),this._timer=setTimeoutContext((function(){this.state=8,this.tryEmit()}),be.time,this);else if(4&_e.eventType)return 8;return ba},reset:function(){clearTimeout(this._timer)},emit:function(_e){8===this.state&&(_e&&4&_e.eventType?this.manager.emit(this.options.event+"up",_e):(this._input.timeStamp=Vt(),this.manager.emit(this.options.event,this._input)))}}),inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ya]},attrTest:function(_e){return this._super.attrTest.call(this,_e)&&(Math.abs(_e.rotation)>this.options.threshold||2&this.state)}}),inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function(_e){var be,Te=this.options.direction;return 30&Te?be=_e.overallVelocity:6&Te?be=_e.overallVelocityX:Te&cn&&(be=_e.overallVelocityY),this._super.attrTest.call(this,_e)&&Te&_e.offsetDirection&&_e.distance>this.options.threshold&&_e.maxPointers==this.options.pointers&&Ot(be)>this.options.velocity&&4&_e.eventType},emit:function(_e){var be=directionStr(_e.offsetDirection);be&&this.manager.emit(this.options.event+be,_e),this.manager.emit(this.options.event,_e)}}),inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ma]},process:function(_e){var be=this.options,Te=_e.pointers.length===be.pointers,Pe=_e.distance<be.threshold,pt=_e.deltaTime<be.time;if(this.reset(),1&_e.eventType&&0===this.count)return this.failTimeout();if(Pe&&pt&&Te){if(4!=_e.eventType)return this.failTimeout();var vt=!this.pTime||_e.timeStamp-this.pTime<be.interval,xt=!this.pCenter||getDistance(this.pCenter,_e.center)<be.posThreshold;if(this.pTime=_e.timeStamp,this.pCenter=_e.center,xt&&vt?this.count+=1:this.count=1,this._input=_e,0===this.count%be.taps)return this.hasRequireFailures()?(this._timer=setTimeoutContext((function(){this.state=8,this.tryEmit()}),be.interval,this),2):8}return ba},failTimeout:function(){return this._timer=setTimeoutContext((function(){this.state=ba}),this.options.interval,this),ba},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Hammer.VERSION="2.0.7",Hammer.defaults={domEvents:!1,touchAction:ca,enable:!0,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:6}],[PanRecognizer,{direction:6},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Manager(_e,be){var Te;this.options=It({},Hammer.defaults,be||{}),this.options.inputTarget=this.options.inputTarget||_e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=_e,this.input=new((Te=this).options.inputClass||(Jt?PointerEventInput:Yt?TouchInput:Kt?TouchMouseInput:MouseInput))(Te,inputHandler),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,(function(_e){var be=this.add(new _e[0](_e[1]));_e[2]&&be.recognizeWith(_e[2]),_e[3]&&be.requireFailure(_e[3])}),this)}function toggleCssProps(_e,be){var Te,Pe=_e.element;Pe.style&&(each(_e.options.cssProps,(function(pt,vt){Te=prefixed(Pe.style,vt),be?(_e.oldCssProps[Te]=Pe.style[Te],Pe.style[Te]=pt):Pe.style[Te]=_e.oldCssProps[Te]||""})),be||(_e.oldCssProps={}))}function triggerDomEvent(_e,be){var Te=vt.createEvent("Event");Te.initEvent(_e,!0,!0),Te.gesture=be,be.target.dispatchEvent(Te)}Manager.prototype={set:function(_e){return It(this.options,_e),_e.touchAction&&this.touchAction.update(),_e.inputTarget&&(this.input.destroy(),this.input.target=_e.inputTarget,this.input.init()),this},stop:function(_e){this.session.stopped=_e?2:1},recognize:function(_e){var be=this.session;if(!be.stopped){var Te;this.touchAction.preventDefaults(_e);var Pe=this.recognizers,pt=be.curRecognizer;(!pt||pt&&8&pt.state)&&(pt=be.curRecognizer=null);for(var vt=0;vt<Pe.length;)Te=Pe[vt],2===be.stopped||pt&&Te!=pt&&!Te.canRecognizeWith(pt)?Te.reset():Te.recognize(_e),!pt&&14&Te.state&&(pt=be.curRecognizer=Te),vt++}},get:function(_e){if(_e instanceof Recognizer)return _e;for(var be=this.recognizers,Te=0;Te<be.length;Te++)if(be[Te].options.event==_e)return be[Te];return null},add:function(_e){if(invokeArrayArg(_e,"add",this))return this;var be=this.get(_e.options.event);return be&&this.remove(be),this.recognizers.push(_e),_e.manager=this,this.touchAction.update(),_e},remove:function(_e){if(invokeArrayArg(_e,"remove",this))return this;if(_e=this.get(_e)){var be=this.recognizers,Te=inArray(be,_e);-1!==Te&&(be.splice(Te,1),this.touchAction.update())}return this},on:function(_e,be){if(_e!==Tt&&be!==Tt){var Te=this.handlers;return each(splitStr(_e),(function(_e){Te[_e]=Te[_e]||[],Te[_e].push(be)})),this}},off:function(_e,be){if(_e!==Tt){var Te=this.handlers;return each(splitStr(_e),(function(_e){be?Te[_e]&&Te[_e].splice(inArray(Te[_e],be),1):delete Te[_e]})),this}},emit:function(_e,be){this.options.domEvents&&triggerDomEvent(_e,be);var Te=this.handlers[_e]&&this.handlers[_e].slice();if(Te&&Te.length){be.type=_e,be.preventDefault=function(){be.srcEvent.preventDefault()};for(var Pe=0;Pe<Te.length;)Te[Pe](be),Pe++}},destroy:function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},It(Hammer,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:ba,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:cn,DIRECTION_ALL:30,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,merge:Wt,extend:qt,assign:It,inherit:inherit,bindFn:bindFn,prefixed:prefixed}),(void 0!==pt?pt:"undefined"!=typeof self?self:{}).Hammer=Hammer,(Pe=function(){return Hammer}.call(be,Te,be,_e))===Tt||(_e.exports=Pe)}(window,document)},80504:function(_e){"use strict";function pad(_e,be){for(;_e.length<be;)_e="0"+_e;return _e}function fold(_e,be){var Te,Pe;if(0===be.length)return _e;for(Te=0,Pe=be.length;Te<Pe;Te++)_e=(_e<<5)-_e+be.charCodeAt(Te),_e|=0;return _e<0?-2*_e:_e}function foldObject(_e,be,Te){return Object.keys(be).sort().reduce((function foldKey(_e,Pe){return foldValue(_e,be[Pe],Pe,Te)}),_e)}function foldValue(_e,be,Te,Pe){var pt,vt=fold(fold(fold(_e,Te),(pt=be,Object.prototype.toString.call(pt))),typeof be);if(null===be)return fold(vt,"null");if(void 0===be)return fold(vt,"undefined");if("object"==typeof be||"function"==typeof be){if(-1!==Pe.indexOf(be))return fold(vt,"[Circular]"+Te);Pe.push(be);var xt=foldObject(vt,be,Pe);if(!("valueOf"in be)||"function"!=typeof be.valueOf)return xt;try{return fold(xt,String(be.valueOf()))}catch(_e){return fold(xt,"[valueOf exception]"+(_e.stack||_e.message))}}return fold(vt,be.toString())}_e.exports=function sum(_e){return pad(foldValue(0,_e,"",[]).toString(16),8)}},18552:function(_e,be,Te){var Pe=Te(10852)(Te(55639),"DataView");_e.exports=Pe},1989:function(_e,be,Te){var Pe=Te(51789),pt=Te(80401),vt=Te(57667),xt=Te(21327),Tt=Te(81866);function Hash(_e){var be=-1,Te=null==_e?0:_e.length;for(this.clear();++be<Te;){var Pe=_e[be];this.set(Pe[0],Pe[1])}}Hash.prototype.clear=Pe,Hash.prototype.delete=pt,Hash.prototype.get=vt,Hash.prototype.has=xt,Hash.prototype.set=Tt,_e.exports=Hash},38407:function(_e,be,Te){var Pe=Te(27040),pt=Te(14125),vt=Te(82117),xt=Te(67518),Tt=Te(13399);function ListCache(_e){var be=-1,Te=null==_e?0:_e.length;for(this.clear();++be<Te;){var Pe=_e[be];this.set(Pe[0],Pe[1])}}ListCache.prototype.clear=Pe,ListCache.prototype.delete=pt,ListCache.prototype.get=vt,ListCache.prototype.has=xt,ListCache.prototype.set=Tt,_e.exports=ListCache},57071:function(_e,be,Te){var Pe=Te(10852)(Te(55639),"Map");_e.exports=Pe},83369:function(_e,be,Te){var Pe=Te(24785),pt=Te(11285),vt=Te(96e3),xt=Te(49916),Tt=Te(95265);function MapCache(_e){var be=-1,Te=null==_e?0:_e.length;for(this.clear();++be<Te;){var Pe=_e[be];this.set(Pe[0],Pe[1])}}MapCache.prototype.clear=Pe,MapCache.prototype.delete=pt,MapCache.prototype.get=vt,MapCache.prototype.has=xt,MapCache.prototype.set=Tt,_e.exports=MapCache},53818:function(_e,be,Te){var Pe=Te(10852)(Te(55639),"Promise");_e.exports=Pe},58525:function(_e,be,Te){var Pe=Te(10852)(Te(55639),"Set");_e.exports=Pe},88668:function(_e,be,Te){var Pe=Te(83369),pt=Te(90619),vt=Te(72385);function SetCache(_e){var be=-1,Te=null==_e?0:_e.length;for(this.__data__=new Pe;++be<Te;)this.add(_e[be])}SetCache.prototype.add=SetCache.prototype.push=pt,SetCache.prototype.has=vt,_e.exports=SetCache},46384:function(_e,be,Te){var Pe=Te(38407),pt=Te(37465),vt=Te(63779),xt=Te(67599),Tt=Te(44758),It=Te(34309);function Stack(_e){var be=this.__data__=new Pe(_e);this.size=be.size}Stack.prototype.clear=pt,Stack.prototype.delete=vt,Stack.prototype.get=xt,Stack.prototype.has=Tt,Stack.prototype.set=It,_e.exports=Stack},62705:function(_e,be,Te){var Pe=Te(55639).Symbol;_e.exports=Pe},11149:function(_e,be,Te){var Pe=Te(55639).Uint8Array;_e.exports=Pe},70577:function(_e,be,Te){var Pe=Te(10852)(Te(55639),"WeakMap");_e.exports=Pe},96874:function(_e){_e.exports=function apply(_e,be,Te){switch(Te.length){case 0:return _e.call(be);case 1:return _e.call(be,Te[0]);case 2:return _e.call(be,Te[0],Te[1]);case 3:return _e.call(be,Te[0],Te[1],Te[2])}return _e.apply(be,Te)}},34963:function(_e){_e.exports=function arrayFilter(_e,be){for(var Te=-1,Pe=null==_e?0:_e.length,pt=0,vt=[];++Te<Pe;){var xt=_e[Te];be(xt,Te,_e)&&(vt[pt++]=xt)}return vt}},14636:function(_e,be,Te){var Pe=Te(22545),pt=Te(35694),vt=Te(1469),xt=Te(44144),Tt=Te(65776),It=Te(36719),Mt=Object.prototype.hasOwnProperty;_e.exports=function arrayLikeKeys(_e,be){var Te=vt(_e),Lt=!Te&&pt(_e),Ft=!Te&&!Lt&&xt(_e),Ot=!Te&&!Lt&&!Ft&&It(_e),Vt=Te||Lt||Ft||Ot,qt=Vt?Pe(_e.length,String):[],Wt=qt.length;for(var $t in _e)!be&&!Mt.call(_e,$t)||Vt&&("length"==$t||Ft&&("offset"==$t||"parent"==$t)||Ot&&("buffer"==$t||"byteLength"==$t||"byteOffset"==$t)||Tt($t,Wt))||qt.push($t);return qt}},29932:function(_e){_e.exports=function arrayMap(_e,be){for(var Te=-1,Pe=null==_e?0:_e.length,pt=Array(Pe);++Te<Pe;)pt[Te]=be(_e[Te],Te,_e);return pt}},62488:function(_e){_e.exports=function arrayPush(_e,be){for(var Te=-1,Pe=be.length,pt=_e.length;++Te<Pe;)_e[pt+Te]=be[Te];return _e}},82908:function(_e){_e.exports=function arraySome(_e,be){for(var Te=-1,Pe=null==_e?0:_e.length;++Te<Pe;)if(be(_e[Te],Te,_e))return!0;return!1}},86556:function(_e,be,Te){var Pe=Te(89465),pt=Te(77813);_e.exports=function assignMergeValue(_e,be,Te){(void 0!==Te&&!pt(_e[be],Te)||void 0===Te&&!(be in _e))&&Pe(_e,be,Te)}},34865:function(_e,be,Te){var Pe=Te(89465),pt=Te(77813),vt=Object.prototype.hasOwnProperty;_e.exports=function assignValue(_e,be,Te){var xt=_e[be];vt.call(_e,be)&&pt(xt,Te)&&(void 0!==Te||be in _e)||Pe(_e,be,Te)}},18470:function(_e,be,Te){var Pe=Te(77813);_e.exports=function assocIndexOf(_e,be){for(var Te=_e.length;Te--;)if(Pe(_e[Te][0],be))return Te;return-1}},89465:function(_e,be,Te){var Pe=Te(38777);_e.exports=function baseAssignValue(_e,be,Te){"__proto__"==be&&Pe?Pe(_e,be,{configurable:!0,enumerable:!0,value:Te,writable:!0}):_e[be]=Te}},3118:function(_e,be,Te){var Pe=Te(13218),pt=Object.create,vt=function(){function object(){}return function(_e){if(!Pe(_e))return{};if(pt)return pt(_e);object.prototype=_e;var be=new object;return object.prototype=void 0,be}}();_e.exports=vt},89881:function(_e,be,Te){var Pe=Te(47816),pt=Te(99291)(Pe);_e.exports=pt},41848:function(_e){_e.exports=function baseFindIndex(_e,be,Te,Pe){for(var pt=_e.length,vt=Te+(Pe?1:-1);Pe?vt--:++vt<pt;)if(be(_e[vt],vt,_e))return vt;return-1}},28483:function(_e,be,Te){var Pe=Te(25063)();_e.exports=Pe},47816:function(_e,be,Te){var Pe=Te(28483),pt=Te(3674);_e.exports=function baseForOwn(_e,be){return _e&&Pe(_e,be,pt)}},97786:function(_e,be,Te){var Pe=Te(71811),pt=Te(40327);_e.exports=function baseGet(_e,be){for(var Te=0,vt=(be=Pe(be,_e)).length;null!=_e&&Te<vt;)_e=_e[pt(be[Te++])];return Te&&Te==vt?_e:void 0}},68866:function(_e,be,Te){var Pe=Te(62488),pt=Te(1469);_e.exports=function baseGetAllKeys(_e,be,Te){var vt=be(_e);return pt(_e)?vt:Pe(vt,Te(_e))}},44239:function(_e,be,Te){var Pe=Te(62705),pt=Te(89607),vt=Te(2333),xt=Pe?Pe.toStringTag:void 0;_e.exports=function baseGetTag(_e){return null==_e?void 0===_e?"[object Undefined]":"[object Null]":xt&&xt in Object(_e)?pt(_e):vt(_e)}},13:function(_e){_e.exports=function baseHasIn(_e,be){return null!=_e&&be in Object(_e)}},9454:function(_e,be,Te){var Pe=Te(44239),pt=Te(37005);_e.exports=function baseIsArguments(_e){return pt(_e)&&"[object Arguments]"==Pe(_e)}},90939:function(_e,be,Te){var Pe=Te(2492),pt=Te(37005);_e.exports=function baseIsEqual(_e,be,Te,vt,xt){return _e===be||(null==_e||null==be||!pt(_e)&&!pt(be)?_e!=_e&&be!=be:Pe(_e,be,Te,vt,baseIsEqual,xt))}},2492:function(_e,be,Te){var Pe=Te(46384),pt=Te(67114),vt=Te(18351),xt=Te(16096),Tt=Te(64160),It=Te(1469),Mt=Te(44144),Lt=Te(36719),Ft="[object Arguments]",Ot="[object Array]",Vt="[object Object]",qt=Object.prototype.hasOwnProperty;_e.exports=function baseIsEqualDeep(_e,be,Te,Wt,$t,Kt){var Jt=It(_e),Yt=It(be),Qt=Jt?Ot:Tt(_e),an=Yt?Ot:Tt(be),cn=(Qt=Qt==Ft?Vt:Qt)==Vt,hn=(an=an==Ft?Vt:an)==Vt,pn=Qt==an;if(pn&&Mt(_e)){if(!Mt(be))return!1;Jt=!0,cn=!1}if(pn&&!cn)return Kt||(Kt=new Pe),Jt||Lt(_e)?pt(_e,be,Te,Wt,$t,Kt):vt(_e,be,Qt,Te,Wt,$t,Kt);if(!(1&Te)){var xn=cn&&qt.call(_e,"__wrapped__"),Pn=hn&&qt.call(be,"__wrapped__");if(xn||Pn){var Ln=xn?_e.value():_e,Fn=Pn?be.value():be;return Kt||(Kt=new Pe),$t(Ln,Fn,Te,Wt,Kt)}}return!!pn&&(Kt||(Kt=new Pe),xt(_e,be,Te,Wt,$t,Kt))}},2958:function(_e,be,Te){var Pe=Te(46384),pt=Te(90939);_e.exports=function baseIsMatch(_e,be,Te,vt){var xt=Te.length,Tt=xt,It=!vt;if(null==_e)return!Tt;for(_e=Object(_e);xt--;){var Mt=Te[xt];if(It&&Mt[2]?Mt[1]!==_e[Mt[0]]:!(Mt[0]in _e))return!1}for(;++xt<Tt;){var Lt=(Mt=Te[xt])[0],Ft=_e[Lt],Ot=Mt[1];if(It&&Mt[2]){if(void 0===Ft&&!(Lt in _e))return!1}else{var Vt=new Pe;if(vt)var qt=vt(Ft,Ot,Lt,_e,be,Vt);if(!(void 0===qt?pt(Ot,Ft,3,vt,Vt):qt))return!1}}return!0}},28458:function(_e,be,Te){var Pe=Te(23560),pt=Te(15346),vt=Te(13218),xt=Te(80346),Tt=/^\[object .+?Constructor\]$/,It=Function.prototype,Mt=Object.prototype,Lt=It.toString,Ft=Mt.hasOwnProperty,Ot=RegExp("^"+Lt.call(Ft).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");_e.exports=function baseIsNative(_e){return!(!vt(_e)||pt(_e))&&(Pe(_e)?Ot:Tt).test(xt(_e))}},38749:function(_e,be,Te){var Pe=Te(44239),pt=Te(41780),vt=Te(37005),xt={};xt["[object Float32Array]"]=xt["[object Float64Array]"]=xt["[object Int8Array]"]=xt["[object Int16Array]"]=xt["[object Int32Array]"]=xt["[object Uint8Array]"]=xt["[object Uint8ClampedArray]"]=xt["[object Uint16Array]"]=xt["[object Uint32Array]"]=!0,xt["[object Arguments]"]=xt["[object Array]"]=xt["[object ArrayBuffer]"]=xt["[object Boolean]"]=xt["[object DataView]"]=xt["[object Date]"]=xt["[object Error]"]=xt["[object Function]"]=xt["[object Map]"]=xt["[object Number]"]=xt["[object Object]"]=xt["[object RegExp]"]=xt["[object Set]"]=xt["[object String]"]=xt["[object WeakMap]"]=!1,_e.exports=function baseIsTypedArray(_e){return vt(_e)&&pt(_e.length)&&!!xt[Pe(_e)]}},67206:function(_e,be,Te){var Pe=Te(91573),pt=Te(16432),vt=Te(6557),xt=Te(1469),Tt=Te(39601);_e.exports=function baseIteratee(_e){return"function"==typeof _e?_e:null==_e?vt:"object"==typeof _e?xt(_e)?pt(_e[0],_e[1]):Pe(_e):Tt(_e)}},280:function(_e,be,Te){var Pe=Te(25726),pt=Te(86916),vt=Object.prototype.hasOwnProperty;_e.exports=function baseKeys(_e){if(!Pe(_e))return pt(_e);var be=[];for(var Te in Object(_e))vt.call(_e,Te)&&"constructor"!=Te&&be.push(Te);return be}},10313:function(_e,be,Te){var Pe=Te(13218),pt=Te(25726),vt=Te(33498),xt=Object.prototype.hasOwnProperty;_e.exports=function baseKeysIn(_e){if(!Pe(_e))return vt(_e);var be=pt(_e),Te=[];for(var Tt in _e)("constructor"!=Tt||!be&&xt.call(_e,Tt))&&Te.push(Tt);return Te}},69199:function(_e,be,Te){var Pe=Te(89881),pt=Te(98612);_e.exports=function baseMap(_e,be){var Te=-1,vt=pt(_e)?Array(_e.length):[];return Pe(_e,(function(_e,Pe,pt){vt[++Te]=be(_e,Pe,pt)})),vt}},91573:function(_e,be,Te){var Pe=Te(2958),pt=Te(1499),vt=Te(42634);_e.exports=function baseMatches(_e){var be=pt(_e);return 1==be.length&&be[0][2]?vt(be[0][0],be[0][1]):function(Te){return Te===_e||Pe(Te,_e,be)}}},16432:function(_e,be,Te){var Pe=Te(90939),pt=Te(27361),vt=Te(79095),xt=Te(15403),Tt=Te(89162),It=Te(42634),Mt=Te(40327);_e.exports=function baseMatchesProperty(_e,be){return xt(_e)&&Tt(be)?It(Mt(_e),be):function(Te){var xt=pt(Te,_e);return void 0===xt&&xt===be?vt(Te,_e):Pe(be,xt,3)}}},42980:function(_e,be,Te){var Pe=Te(46384),pt=Te(86556),vt=Te(28483),xt=Te(59783),Tt=Te(13218),It=Te(81704),Mt=Te(36390);_e.exports=function baseMerge(_e,be,Te,Lt,Ft){_e!==be&&vt(be,(function(vt,It){if(Ft||(Ft=new Pe),Tt(vt))xt(_e,be,It,Te,baseMerge,Lt,Ft);else{var Ot=Lt?Lt(Mt(_e,It),vt,It+"",_e,be,Ft):void 0;void 0===Ot&&(Ot=vt),pt(_e,It,Ot)}}),It)}},59783:function(_e,be,Te){var Pe=Te(86556),pt=Te(64626),vt=Te(77133),xt=Te(278),Tt=Te(38517),It=Te(35694),Mt=Te(1469),Lt=Te(29246),Ft=Te(44144),Ot=Te(23560),Vt=Te(13218),qt=Te(68630),Wt=Te(36719),$t=Te(36390),Kt=Te(59881);_e.exports=function baseMergeDeep(_e,be,Te,Jt,Yt,Qt,an){var cn=$t(_e,Te),hn=$t(be,Te),pn=an.get(hn);if(pn)Pe(_e,Te,pn);else{var xn=Qt?Qt(cn,hn,Te+"",_e,be,an):void 0,Pn=void 0===xn;if(Pn){var Ln=Mt(hn),Fn=!Ln&&Ft(hn),jn=!Ln&&!Fn&&Wt(hn);xn=hn,Ln||Fn||jn?Mt(cn)?xn=cn:Lt(cn)?xn=xt(cn):Fn?(Pn=!1,xn=pt(hn,!0)):jn?(Pn=!1,xn=vt(hn,!0)):xn=[]:qt(hn)||It(hn)?(xn=cn,It(cn)?xn=Kt(cn):Vt(cn)&&!Ot(cn)||(xn=Tt(hn))):Pn=!1}Pn&&(an.set(hn,xn),Yt(xn,hn,Jt,Qt,an),an.delete(hn)),Pe(_e,Te,xn)}}},40371:function(_e){_e.exports=function baseProperty(_e){return function(be){return null==be?void 0:be[_e]}}},79152:function(_e,be,Te){var Pe=Te(97786);_e.exports=function basePropertyDeep(_e){return function(be){return Pe(be,_e)}}},5976:function(_e,be,Te){var Pe=Te(6557),pt=Te(45357),vt=Te(30061);_e.exports=function baseRest(_e,be){return vt(pt(_e,be,Pe),_e+"")}},56560:function(_e,be,Te){var Pe=Te(75703),pt=Te(38777),vt=Te(6557),xt=pt?function(_e,be){return pt(_e,"toString",{configurable:!0,enumerable:!1,value:Pe(be),writable:!0})}:vt;_e.exports=xt},22545:function(_e){_e.exports=function baseTimes(_e,be){for(var Te=-1,Pe=Array(_e);++Te<_e;)Pe[Te]=be(Te);return Pe}},80531:function(_e,be,Te){var Pe=Te(62705),pt=Te(29932),vt=Te(1469),xt=Te(33448),Tt=Pe?Pe.prototype:void 0,It=Tt?Tt.toString:void 0;_e.exports=function baseToString(_e){if("string"==typeof _e)return _e;if(vt(_e))return pt(_e,baseToString)+"";if(xt(_e))return It?It.call(_e):"";var be=_e+"";return"0"==be&&1/_e==-Infinity?"-0":be}},27561:function(_e,be,Te){var Pe=Te(67990),pt=/^\s+/;_e.exports=function baseTrim(_e){return _e?_e.slice(0,Pe(_e)+1).replace(pt,""):_e}},7518:function(_e){_e.exports=function baseUnary(_e){return function(be){return _e(be)}}},74757:function(_e){_e.exports=function cacheHas(_e,be){return _e.has(be)}},71811:function(_e,be,Te){var Pe=Te(1469),pt=Te(15403),vt=Te(55514),xt=Te(79833);_e.exports=function castPath(_e,be){return Pe(_e)?_e:pt(_e,be)?[_e]:vt(xt(_e))}},74318:function(_e,be,Te){var Pe=Te(11149);_e.exports=function cloneArrayBuffer(_e){var be=new _e.constructor(_e.byteLength);return new Pe(be).set(new Pe(_e)),be}},64626:function(_e,be,Te){_e=Te.nmd(_e);var Pe=Te(55639),pt=be&&!be.nodeType&&be,vt=pt&&_e&&!_e.nodeType&&_e,xt=vt&&vt.exports===pt?Pe.Buffer:void 0,Tt=xt?xt.allocUnsafe:void 0;_e.exports=function cloneBuffer(_e,be){if(be)return _e.slice();var Te=_e.length,Pe=Tt?Tt(Te):new _e.constructor(Te);return _e.copy(Pe),Pe}},77133:function(_e,be,Te){var Pe=Te(74318);_e.exports=function cloneTypedArray(_e,be){var Te=be?Pe(_e.buffer):_e.buffer;return new _e.constructor(Te,_e.byteOffset,_e.length)}},278:function(_e){_e.exports=function copyArray(_e,be){var Te=-1,Pe=_e.length;for(be||(be=Array(Pe));++Te<Pe;)be[Te]=_e[Te];return be}},98363:function(_e,be,Te){var Pe=Te(34865),pt=Te(89465);_e.exports=function copyObject(_e,be,Te,vt){var xt=!Te;Te||(Te={});for(var Tt=-1,It=be.length;++Tt<It;){var Mt=be[Tt],Lt=vt?vt(Te[Mt],_e[Mt],Mt,Te,_e):void 0;void 0===Lt&&(Lt=_e[Mt]),xt?pt(Te,Mt,Lt):Pe(Te,Mt,Lt)}return Te}},14429:function(_e,be,Te){var Pe=Te(55639)["__core-js_shared__"];_e.exports=Pe},21463:function(_e,be,Te){var Pe=Te(5976),pt=Te(16612);_e.exports=function createAssigner(_e){return Pe((function(be,Te){var Pe=-1,vt=Te.length,xt=vt>1?Te[vt-1]:void 0,Tt=vt>2?Te[2]:void 0;for(xt=_e.length>3&&"function"==typeof xt?(vt--,xt):void 0,Tt&&pt(Te[0],Te[1],Tt)&&(xt=vt<3?void 0:xt,vt=1),be=Object(be);++Pe<vt;){var It=Te[Pe];It&&_e(be,It,Pe,xt)}return be}))}},99291:function(_e,be,Te){var Pe=Te(98612);_e.exports=function createBaseEach(_e,be){return function(Te,pt){if(null==Te)return Te;if(!Pe(Te))return _e(Te,pt);for(var vt=Te.length,xt=be?vt:-1,Tt=Object(Te);(be?xt--:++xt<vt)&&!1!==pt(Tt[xt],xt,Tt););return Te}}},25063:function(_e){_e.exports=function createBaseFor(_e){return function(be,Te,Pe){for(var pt=-1,vt=Object(be),xt=Pe(be),Tt=xt.length;Tt--;){var It=xt[_e?Tt:++pt];if(!1===Te(vt[It],It,vt))break}return be}}},67740:function(_e,be,Te){var Pe=Te(67206),pt=Te(98612),vt=Te(3674);_e.exports=function createFind(_e){return function(be,Te,xt){var Tt=Object(be);if(!pt(be)){var It=Pe(Te,3);be=vt(be),Te=function(_e){return It(Tt[_e],_e,Tt)}}var Mt=_e(be,Te,xt);return Mt>-1?Tt[It?be[Mt]:Mt]:void 0}}},38777:function(_e,be,Te){var Pe=Te(10852),pt=function(){try{var _e=Pe(Object,"defineProperty");return _e({},"",{}),_e}catch(_e){}}();_e.exports=pt},67114:function(_e,be,Te){var Pe=Te(88668),pt=Te(82908),vt=Te(74757);_e.exports=function equalArrays(_e,be,Te,xt,Tt,It){var Mt=1&Te,Lt=_e.length,Ft=be.length;if(Lt!=Ft&&!(Mt&&Ft>Lt))return!1;var Ot=It.get(_e),Vt=It.get(be);if(Ot&&Vt)return Ot==be&&Vt==_e;var qt=-1,Wt=!0,$t=2&Te?new Pe:void 0;for(It.set(_e,be),It.set(be,_e);++qt<Lt;){var Kt=_e[qt],Jt=be[qt];if(xt)var Yt=Mt?xt(Jt,Kt,qt,be,_e,It):xt(Kt,Jt,qt,_e,be,It);if(void 0!==Yt){if(Yt)continue;Wt=!1;break}if($t){if(!pt(be,(function(_e,be){if(!vt($t,be)&&(Kt===_e||Tt(Kt,_e,Te,xt,It)))return $t.push(be)}))){Wt=!1;break}}else if(Kt!==Jt&&!Tt(Kt,Jt,Te,xt,It)){Wt=!1;break}}return It.delete(_e),It.delete(be),Wt}},18351:function(_e,be,Te){var Pe=Te(62705),pt=Te(11149),vt=Te(77813),xt=Te(67114),Tt=Te(68776),It=Te(21814),Mt=Pe?Pe.prototype:void 0,Lt=Mt?Mt.valueOf:void 0;_e.exports=function equalByTag(_e,be,Te,Pe,Mt,Ft,Ot){switch(Te){case"[object DataView]":if(_e.byteLength!=be.byteLength||_e.byteOffset!=be.byteOffset)return!1;_e=_e.buffer,be=be.buffer;case"[object ArrayBuffer]":return!(_e.byteLength!=be.byteLength||!Ft(new pt(_e),new pt(be)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vt(+_e,+be);case"[object Error]":return _e.name==be.name&&_e.message==be.message;case"[object RegExp]":case"[object String]":return _e==be+"";case"[object Map]":var Vt=Tt;case"[object Set]":var qt=1&Pe;if(Vt||(Vt=It),_e.size!=be.size&&!qt)return!1;var Wt=Ot.get(_e);if(Wt)return Wt==be;Pe|=2,Ot.set(_e,be);var $t=xt(Vt(_e),Vt(be),Pe,Mt,Ft,Ot);return Ot.delete(_e),$t;case"[object Symbol]":if(Lt)return Lt.call(_e)==Lt.call(be)}return!1}},16096:function(_e,be,Te){var Pe=Te(58234),pt=Object.prototype.hasOwnProperty;_e.exports=function equalObjects(_e,be,Te,vt,xt,Tt){var It=1&Te,Mt=Pe(_e),Lt=Mt.length;if(Lt!=Pe(be).length&&!It)return!1;for(var Ft=Lt;Ft--;){var Ot=Mt[Ft];if(!(It?Ot in be:pt.call(be,Ot)))return!1}var Vt=Tt.get(_e),qt=Tt.get(be);if(Vt&&qt)return Vt==be&&qt==_e;var Wt=!0;Tt.set(_e,be),Tt.set(be,_e);for(var $t=It;++Ft<Lt;){var Kt=_e[Ot=Mt[Ft]],Jt=be[Ot];if(vt)var Yt=It?vt(Jt,Kt,Ot,be,_e,Tt):vt(Kt,Jt,Ot,_e,be,Tt);if(!(void 0===Yt?Kt===Jt||xt(Kt,Jt,Te,vt,Tt):Yt)){Wt=!1;break}$t||($t="constructor"==Ot)}if(Wt&&!$t){var Qt=_e.constructor,an=be.constructor;Qt==an||!("constructor"in _e)||!("constructor"in be)||"function"==typeof Qt&&Qt instanceof Qt&&"function"==typeof an&&an instanceof an||(Wt=!1)}return Tt.delete(_e),Tt.delete(be),Wt}},31957:function(_e,be,Te){var Pe="object"==typeof Te.g&&Te.g&&Te.g.Object===Object&&Te.g;_e.exports=Pe},58234:function(_e,be,Te){var Pe=Te(68866),pt=Te(99551),vt=Te(3674);_e.exports=function getAllKeys(_e){return Pe(_e,vt,pt)}},45050:function(_e,be,Te){var Pe=Te(37019);_e.exports=function getMapData(_e,be){var Te=_e.__data__;return Pe(be)?Te["string"==typeof be?"string":"hash"]:Te.map}},1499:function(_e,be,Te){var Pe=Te(89162),pt=Te(3674);_e.exports=function getMatchData(_e){for(var be=pt(_e),Te=be.length;Te--;){var vt=be[Te],xt=_e[vt];be[Te]=[vt,xt,Pe(xt)]}return be}},10852:function(_e,be,Te){var Pe=Te(28458),pt=Te(47801);_e.exports=function getNative(_e,be){var Te=pt(_e,be);return Pe(Te)?Te:void 0}},85924:function(_e,be,Te){var Pe=Te(5569)(Object.getPrototypeOf,Object);_e.exports=Pe},89607:function(_e,be,Te){var Pe=Te(62705),pt=Object.prototype,vt=pt.hasOwnProperty,xt=pt.toString,Tt=Pe?Pe.toStringTag:void 0;_e.exports=function getRawTag(_e){var be=vt.call(_e,Tt),Te=_e[Tt];try{_e[Tt]=void 0;var Pe=!0}catch(_e){}var pt=xt.call(_e);return Pe&&(be?_e[Tt]=Te:delete _e[Tt]),pt}},99551:function(_e,be,Te){var Pe=Te(34963),pt=Te(70479),vt=Object.prototype.propertyIsEnumerable,xt=Object.getOwnPropertySymbols,Tt=xt?function(_e){return null==_e?[]:(_e=Object(_e),Pe(xt(_e),(function(be){return vt.call(_e,be)})))}:pt;_e.exports=Tt},64160:function(_e,be,Te){var Pe=Te(18552),pt=Te(57071),vt=Te(53818),xt=Te(58525),Tt=Te(70577),It=Te(44239),Mt=Te(80346),Lt="[object Map]",Ft="[object Promise]",Ot="[object Set]",Vt="[object WeakMap]",qt="[object DataView]",Wt=Mt(Pe),$t=Mt(pt),Kt=Mt(vt),Jt=Mt(xt),Yt=Mt(Tt),Qt=It;(Pe&&Qt(new Pe(new ArrayBuffer(1)))!=qt||pt&&Qt(new pt)!=Lt||vt&&Qt(vt.resolve())!=Ft||xt&&Qt(new xt)!=Ot||Tt&&Qt(new Tt)!=Vt)&&(Qt=function(_e){var be=It(_e),Te="[object Object]"==be?_e.constructor:void 0,Pe=Te?Mt(Te):"";if(Pe)switch(Pe){case Wt:return qt;case $t:return Lt;case Kt:return Ft;case Jt:return Ot;case Yt:return Vt}return be}),_e.exports=Qt},47801:function(_e){_e.exports=function getValue(_e,be){return null==_e?void 0:_e[be]}},222:function(_e,be,Te){var Pe=Te(71811),pt=Te(35694),vt=Te(1469),xt=Te(65776),Tt=Te(41780),It=Te(40327);_e.exports=function hasPath(_e,be,Te){for(var Mt=-1,Lt=(be=Pe(be,_e)).length,Ft=!1;++Mt<Lt;){var Ot=It(be[Mt]);if(!(Ft=null!=_e&&Te(_e,Ot)))break;_e=_e[Ot]}return Ft||++Mt!=Lt?Ft:!!(Lt=null==_e?0:_e.length)&&Tt(Lt)&&xt(Ot,Lt)&&(vt(_e)||pt(_e))}},51789:function(_e,be,Te){var Pe=Te(94536);_e.exports=function hashClear(){this.__data__=Pe?Pe(null):{},this.size=0}},80401:function(_e){_e.exports=function hashDelete(_e){var be=this.has(_e)&&delete this.__data__[_e];return this.size-=be?1:0,be}},57667:function(_e,be,Te){var Pe=Te(94536),pt=Object.prototype.hasOwnProperty;_e.exports=function hashGet(_e){var be=this.__data__;if(Pe){var Te=be[_e];return"__lodash_hash_undefined__"===Te?void 0:Te}return pt.call(be,_e)?be[_e]:void 0}},21327:function(_e,be,Te){var Pe=Te(94536),pt=Object.prototype.hasOwnProperty;_e.exports=function hashHas(_e){var be=this.__data__;return Pe?void 0!==be[_e]:pt.call(be,_e)}},81866:function(_e,be,Te){var Pe=Te(94536);_e.exports=function hashSet(_e,be){var Te=this.__data__;return this.size+=this.has(_e)?0:1,Te[_e]=Pe&&void 0===be?"__lodash_hash_undefined__":be,this}},38517:function(_e,be,Te){var Pe=Te(3118),pt=Te(85924),vt=Te(25726);_e.exports=function initCloneObject(_e){return"function"!=typeof _e.constructor||vt(_e)?{}:Pe(pt(_e))}},65776:function(_e){var be=/^(?:0|[1-9]\d*)$/;_e.exports=function isIndex(_e,Te){var Pe=typeof _e;return!!(Te=null==Te?9007199254740991:Te)&&("number"==Pe||"symbol"!=Pe&&be.test(_e))&&_e>-1&&_e%1==0&&_e<Te}},16612:function(_e,be,Te){var Pe=Te(77813),pt=Te(98612),vt=Te(65776),xt=Te(13218);_e.exports=function isIterateeCall(_e,be,Te){if(!xt(Te))return!1;var Tt=typeof be;return!!("number"==Tt?pt(Te)&&vt(be,Te.length):"string"==Tt&&be in Te)&&Pe(Te[be],_e)}},15403:function(_e,be,Te){var Pe=Te(1469),pt=Te(33448),vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xt=/^\w*$/;_e.exports=function isKey(_e,be){if(Pe(_e))return!1;var Te=typeof _e;return!("number"!=Te&&"symbol"!=Te&&"boolean"!=Te&&null!=_e&&!pt(_e))||(xt.test(_e)||!vt.test(_e)||null!=be&&_e in Object(be))}},37019:function(_e){_e.exports=function isKeyable(_e){var be=typeof _e;return"string"==be||"number"==be||"symbol"==be||"boolean"==be?"__proto__"!==_e:null===_e}},15346:function(_e,be,Te){var Pe,pt=Te(14429),vt=(Pe=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||""))?"Symbol(src)_1."+Pe:"";_e.exports=function isMasked(_e){return!!vt&&vt in _e}},25726:function(_e){var be=Object.prototype;_e.exports=function isPrototype(_e){var Te=_e&&_e.constructor;return _e===("function"==typeof Te&&Te.prototype||be)}},89162:function(_e,be,Te){var Pe=Te(13218);_e.exports=function isStrictComparable(_e){return _e==_e&&!Pe(_e)}},27040:function(_e){_e.exports=function listCacheClear(){this.__data__=[],this.size=0}},14125:function(_e,be,Te){var Pe=Te(18470),pt=Array.prototype.splice;_e.exports=function listCacheDelete(_e){var be=this.__data__,Te=Pe(be,_e);return!(Te<0)&&(Te==be.length-1?be.pop():pt.call(be,Te,1),--this.size,!0)}},82117:function(_e,be,Te){var Pe=Te(18470);_e.exports=function listCacheGet(_e){var be=this.__data__,Te=Pe(be,_e);return Te<0?void 0:be[Te][1]}},67518:function(_e,be,Te){var Pe=Te(18470);_e.exports=function listCacheHas(_e){return Pe(this.__data__,_e)>-1}},13399:function(_e,be,Te){var Pe=Te(18470);_e.exports=function listCacheSet(_e,be){var Te=this.__data__,pt=Pe(Te,_e);return pt<0?(++this.size,Te.push([_e,be])):Te[pt][1]=be,this}},24785:function(_e,be,Te){var Pe=Te(1989),pt=Te(38407),vt=Te(57071);_e.exports=function mapCacheClear(){this.size=0,this.__data__={hash:new Pe,map:new(vt||pt),string:new Pe}}},11285:function(_e,be,Te){var Pe=Te(45050);_e.exports=function mapCacheDelete(_e){var be=Pe(this,_e).delete(_e);return this.size-=be?1:0,be}},96e3:function(_e,be,Te){var Pe=Te(45050);_e.exports=function mapCacheGet(_e){return Pe(this,_e).get(_e)}},49916:function(_e,be,Te){var Pe=Te(45050);_e.exports=function mapCacheHas(_e){return Pe(this,_e).has(_e)}},95265:function(_e,be,Te){var Pe=Te(45050);_e.exports=function mapCacheSet(_e,be){var Te=Pe(this,_e),pt=Te.size;return Te.set(_e,be),this.size+=Te.size==pt?0:1,this}},68776:function(_e){_e.exports=function mapToArray(_e){var be=-1,Te=Array(_e.size);return _e.forEach((function(_e,Pe){Te[++be]=[Pe,_e]})),Te}},42634:function(_e){_e.exports=function matchesStrictComparable(_e,be){return function(Te){return null!=Te&&(Te[_e]===be&&(void 0!==be||_e in Object(Te)))}}},24523:function(_e,be,Te){var Pe=Te(88306);_e.exports=function memoizeCapped(_e){var be=Pe(_e,(function(_e){return 500===Te.size&&Te.clear(),_e})),Te=be.cache;return be}},94536:function(_e,be,Te){var Pe=Te(10852)(Object,"create");_e.exports=Pe},86916:function(_e,be,Te){var Pe=Te(5569)(Object.keys,Object);_e.exports=Pe},33498:function(_e){_e.exports=function nativeKeysIn(_e){var be=[];if(null!=_e)for(var Te in Object(_e))be.push(Te);return be}},31167:function(_e,be,Te){_e=Te.nmd(_e);var Pe=Te(31957),pt=be&&!be.nodeType&&be,vt=pt&&_e&&!_e.nodeType&&_e,xt=vt&&vt.exports===pt&&Pe.process,Tt=function(){try{var _e=vt&&vt.require&&vt.require("util").types;return _e||xt&&xt.binding&&xt.binding("util")}catch(_e){}}();_e.exports=Tt},2333:function(_e){var be=Object.prototype.toString;_e.exports=function objectToString(_e){return be.call(_e)}},5569:function(_e){_e.exports=function overArg(_e,be){return function(Te){return _e(be(Te))}}},45357:function(_e,be,Te){var Pe=Te(96874),pt=Math.max;_e.exports=function overRest(_e,be,Te){return be=pt(void 0===be?_e.length-1:be,0),function(){for(var vt=arguments,xt=-1,Tt=pt(vt.length-be,0),It=Array(Tt);++xt<Tt;)It[xt]=vt[be+xt];xt=-1;for(var Mt=Array(be+1);++xt<be;)Mt[xt]=vt[xt];return Mt[be]=Te(It),Pe(_e,this,Mt)}}},55639:function(_e,be,Te){var Pe=Te(31957),pt="object"==typeof self&&self&&self.Object===Object&&self,vt=Pe||pt||Function("return this")();_e.exports=vt},36390:function(_e){_e.exports=function safeGet(_e,be){if(("constructor"!==be||"function"!=typeof _e[be])&&"__proto__"!=be)return _e[be]}},90619:function(_e){_e.exports=function setCacheAdd(_e){return this.__data__.set(_e,"__lodash_hash_undefined__"),this}},72385:function(_e){_e.exports=function setCacheHas(_e){return this.__data__.has(_e)}},21814:function(_e){_e.exports=function setToArray(_e){var be=-1,Te=Array(_e.size);return _e.forEach((function(_e){Te[++be]=_e})),Te}},30061:function(_e,be,Te){var Pe=Te(56560),pt=Te(21275)(Pe);_e.exports=pt},21275:function(_e){var be=Date.now;_e.exports=function shortOut(_e){var Te=0,Pe=0;return function(){var pt=be(),vt=16-(pt-Pe);if(Pe=pt,vt>0){if(++Te>=800)return arguments[0]}else Te=0;return _e.apply(void 0,arguments)}}},37465:function(_e,be,Te){var Pe=Te(38407);_e.exports=function stackClear(){this.__data__=new Pe,this.size=0}},63779:function(_e){_e.exports=function stackDelete(_e){var be=this.__data__,Te=be.delete(_e);return this.size=be.size,Te}},67599:function(_e){_e.exports=function stackGet(_e){return this.__data__.get(_e)}},44758:function(_e){_e.exports=function stackHas(_e){return this.__data__.has(_e)}},34309:function(_e,be,Te){var Pe=Te(38407),pt=Te(57071),vt=Te(83369);_e.exports=function stackSet(_e,be){var Te=this.__data__;if(Te instanceof Pe){var xt=Te.__data__;if(!pt||xt.length<199)return xt.push([_e,be]),this.size=++Te.size,this;Te=this.__data__=new vt(xt)}return Te.set(_e,be),this.size=Te.size,this}},55514:function(_e,be,Te){var Pe=Te(24523),pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vt=/\\(\\)?/g,xt=Pe((function(_e){var be=[];return 46===_e.charCodeAt(0)&&be.push(""),_e.replace(pt,(function(_e,Te,Pe,pt){be.push(Pe?pt.replace(vt,"$1"):Te||_e)})),be}));_e.exports=xt},40327:function(_e,be,Te){var Pe=Te(33448);_e.exports=function toKey(_e){if("string"==typeof _e||Pe(_e))return _e;var be=_e+"";return"0"==be&&1/_e==-Infinity?"-0":be}},80346:function(_e){var be=Function.prototype.toString;_e.exports=function toSource(_e){if(null!=_e){try{return be.call(_e)}catch(_e){}try{return _e+""}catch(_e){}}return""}},67990:function(_e){var be=/\s/;_e.exports=function trimmedEndIndex(_e){for(var Te=_e.length;Te--&&be.test(_e.charAt(Te)););return Te}},75703:function(_e){_e.exports=function constant(_e){return function(){return _e}}},23279:function(_e,be,Te){var Pe=Te(13218),pt=Te(7771),vt=Te(14841),xt=Math.max,Tt=Math.min;_e.exports=function debounce(_e,be,Te){var It,Mt,Lt,Ft,Ot,Vt,qt=0,Wt=!1,$t=!1,Kt=!0;if("function"!=typeof _e)throw new TypeError("Expected a function");function invokeFunc(be){var Te=It,Pe=Mt;return It=Mt=void 0,qt=be,Ft=_e.apply(Pe,Te)}function leadingEdge(_e){return qt=_e,Ot=setTimeout(timerExpired,be),Wt?invokeFunc(_e):Ft}function remainingWait(_e){var Te=be-(_e-Vt);return $t?Tt(Te,Lt-(_e-qt)):Te}function shouldInvoke(_e){var Te=_e-Vt;return void 0===Vt||Te>=be||Te<0||$t&&_e-qt>=Lt}function timerExpired(){var _e=pt();if(shouldInvoke(_e))return trailingEdge(_e);Ot=setTimeout(timerExpired,remainingWait(_e))}function trailingEdge(_e){return Ot=void 0,Kt&&It?invokeFunc(_e):(It=Mt=void 0,Ft)}function debounced(){var _e=pt(),Te=shouldInvoke(_e);if(It=arguments,Mt=this,Vt=_e,Te){if(void 0===Ot)return leadingEdge(Vt);if($t)return clearTimeout(Ot),Ot=setTimeout(timerExpired,be),invokeFunc(Vt)}return void 0===Ot&&(Ot=setTimeout(timerExpired,be)),Ft}return be=vt(be)||0,Pe(Te)&&(Wt=!!Te.leading,Lt=($t="maxWait"in Te)?xt(vt(Te.maxWait)||0,be):Lt,Kt="trailing"in Te?!!Te.trailing:Kt),debounced.cancel=function cancel(){void 0!==Ot&&clearTimeout(Ot),qt=0,It=Vt=Mt=Ot=void 0},debounced.flush=function flush(){return void 0===Ot?Ft:trailingEdge(pt())},debounced}},77813:function(_e){_e.exports=function eq(_e,be){return _e===be||_e!=_e&&be!=be}},3522:function(_e,be,Te){var Pe=Te(79833),pt=/[\\^$.*+?()[\]{}|]/g,vt=RegExp(pt.source);_e.exports=function escapeRegExp(_e){return(_e=Pe(_e))&&vt.test(_e)?_e.replace(pt,"\\$&"):_e}},13311:function(_e,be,Te){var Pe=Te(67740)(Te(30998));_e.exports=Pe},30998:function(_e,be,Te){var Pe=Te(41848),pt=Te(67206),vt=Te(40554),xt=Math.max;_e.exports=function findIndex(_e,be,Te){var Tt=null==_e?0:_e.length;if(!Tt)return-1;var It=null==Te?0:vt(Te);return It<0&&(It=xt(Tt+It,0)),Pe(_e,pt(be,3),It)}},27361:function(_e,be,Te){var Pe=Te(97786);_e.exports=function get(_e,be,Te){var pt=null==_e?void 0:Pe(_e,be);return void 0===pt?Te:pt}},79095:function(_e,be,Te){var Pe=Te(13),pt=Te(222);_e.exports=function hasIn(_e,be){return null!=_e&&pt(_e,be,Pe)}},6557:function(_e){_e.exports=function identity(_e){return _e}},35694:function(_e,be,Te){var Pe=Te(9454),pt=Te(37005),vt=Object.prototype,xt=vt.hasOwnProperty,Tt=vt.propertyIsEnumerable,It=Pe(function(){return arguments}())?Pe:function(_e){return pt(_e)&&xt.call(_e,"callee")&&!Tt.call(_e,"callee")};_e.exports=It},1469:function(_e){var be=Array.isArray;_e.exports=be},98612:function(_e,be,Te){var Pe=Te(23560),pt=Te(41780);_e.exports=function isArrayLike(_e){return null!=_e&&pt(_e.length)&&!Pe(_e)}},29246:function(_e,be,Te){var Pe=Te(98612),pt=Te(37005);_e.exports=function isArrayLikeObject(_e){return pt(_e)&&Pe(_e)}},44144:function(_e,be,Te){_e=Te.nmd(_e);var Pe=Te(55639),pt=Te(95062),vt=be&&!be.nodeType&&be,xt=vt&&_e&&!_e.nodeType&&_e,Tt=xt&&xt.exports===vt?Pe.Buffer:void 0,It=(Tt?Tt.isBuffer:void 0)||pt;_e.exports=It},41609:function(_e,be,Te){var Pe=Te(280),pt=Te(64160),vt=Te(35694),xt=Te(1469),Tt=Te(98612),It=Te(44144),Mt=Te(25726),Lt=Te(36719),Ft=Object.prototype.hasOwnProperty;_e.exports=function isEmpty(_e){if(null==_e)return!0;if(Tt(_e)&&(xt(_e)||"string"==typeof _e||"function"==typeof _e.splice||It(_e)||Lt(_e)||vt(_e)))return!_e.length;var be=pt(_e);if("[object Map]"==be||"[object Set]"==be)return!_e.size;if(Mt(_e))return!Pe(_e).length;for(var Te in _e)if(Ft.call(_e,Te))return!1;return!0}},97398:function(_e,be,Te){var Pe=Te(55639).isFinite;_e.exports=function isFinite(_e){return"number"==typeof _e&&Pe(_e)}},23560:function(_e,be,Te){var Pe=Te(44239),pt=Te(13218);_e.exports=function isFunction(_e){if(!pt(_e))return!1;var be=Pe(_e);return"[object Function]"==be||"[object GeneratorFunction]"==be||"[object AsyncFunction]"==be||"[object Proxy]"==be}},41780:function(_e){_e.exports=function isLength(_e){return"number"==typeof _e&&_e>-1&&_e%1==0&&_e<=9007199254740991}},13218:function(_e){_e.exports=function isObject(_e){var be=typeof _e;return null!=_e&&("object"==be||"function"==be)}},37005:function(_e){_e.exports=function isObjectLike(_e){return null!=_e&&"object"==typeof _e}},68630:function(_e,be,Te){var Pe=Te(44239),pt=Te(85924),vt=Te(37005),xt=Function.prototype,Tt=Object.prototype,It=xt.toString,Mt=Tt.hasOwnProperty,Lt=It.call(Object);_e.exports=function isPlainObject(_e){if(!vt(_e)||"[object Object]"!=Pe(_e))return!1;var be=pt(_e);if(null===be)return!0;var Te=Mt.call(be,"constructor")&&be.constructor;return"function"==typeof Te&&Te instanceof Te&&It.call(Te)==Lt}},33448:function(_e,be,Te){var Pe=Te(44239),pt=Te(37005);_e.exports=function isSymbol(_e){return"symbol"==typeof _e||pt(_e)&&"[object Symbol]"==Pe(_e)}},36719:function(_e,be,Te){var Pe=Te(38749),pt=Te(7518),vt=Te(31167),xt=vt&&vt.isTypedArray,Tt=xt?pt(xt):Pe;_e.exports=Tt},3674:function(_e,be,Te){var Pe=Te(14636),pt=Te(280),vt=Te(98612);_e.exports=function keys(_e){return vt(_e)?Pe(_e):pt(_e)}},81704:function(_e,be,Te){var Pe=Te(14636),pt=Te(10313),vt=Te(98612);_e.exports=function keysIn(_e){return vt(_e)?Pe(_e,!0):pt(_e)}},35161:function(_e,be,Te){var Pe=Te(29932),pt=Te(67206),vt=Te(69199),xt=Te(1469);_e.exports=function map(_e,be){return(xt(_e)?Pe:vt)(_e,pt(be,3))}},88306:function(_e,be,Te){var Pe=Te(83369);function memoize(_e,be){if("function"!=typeof _e||null!=be&&"function"!=typeof be)throw new TypeError("Expected a function");var memoized=function(){var Te=arguments,Pe=be?be.apply(this,Te):Te[0],pt=memoized.cache;if(pt.has(Pe))return pt.get(Pe);var vt=_e.apply(this,Te);return memoized.cache=pt.set(Pe,vt)||pt,vt};return memoized.cache=new(memoize.Cache||Pe),memoized}memoize.Cache=Pe,_e.exports=memoize},82492:function(_e,be,Te){var Pe=Te(42980),pt=Te(21463)((function(_e,be,Te){Pe(_e,be,Te)}));_e.exports=pt},7771:function(_e,be,Te){var Pe=Te(55639);_e.exports=function(){return Pe.Date.now()}},39601:function(_e,be,Te){var Pe=Te(40371),pt=Te(79152),vt=Te(15403),xt=Te(40327);_e.exports=function property(_e){return vt(_e)?Pe(xt(_e)):pt(_e)}},70479:function(_e){_e.exports=function stubArray(){return[]}},95062:function(_e){_e.exports=function stubFalse(){return!1}},18601:function(_e,be,Te){var Pe=Te(14841),pt=1/0;_e.exports=function toFinite(_e){return _e?(_e=Pe(_e))===pt||_e===-1/0?17976931348623157e292*(_e<0?-1:1):_e==_e?_e:0:0===_e?_e:0}},40554:function(_e,be,Te){var Pe=Te(18601);_e.exports=function toInteger(_e){var be=Pe(_e),Te=be%1;return be==be?Te?be-Te:be:0}},14841:function(_e,be,Te){var Pe=Te(27561),pt=Te(13218),vt=Te(33448),xt=/^[-+]0x[0-9a-f]+$/i,Tt=/^0b[01]+$/i,It=/^0o[0-7]+$/i,Mt=parseInt;_e.exports=function toNumber(_e){if("number"==typeof _e)return _e;if(vt(_e))return NaN;if(pt(_e)){var be="function"==typeof _e.valueOf?_e.valueOf():_e;_e=pt(be)?be+"":be}if("string"!=typeof _e)return 0===_e?_e:+_e;_e=Pe(_e);var Te=Tt.test(_e);return Te||It.test(_e)?Mt(_e.slice(2),Te?2:8):xt.test(_e)?NaN:+_e}},59881:function(_e,be,Te){var Pe=Te(98363),pt=Te(81704);_e.exports=function toPlainObject(_e){return Pe(_e,pt(_e))}},79833:function(_e,be,Te){var Pe=Te(80531);_e.exports=function toString(_e){return null==_e?"":Pe(_e)}},6158:function(_e){_e.exports=function(){"use strict";var _e,be,Te;function define(Pe,pt){if(_e)if(be){var vt="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+_e+")(sharedChunk); ("+be+")(sharedChunk); self.onerror = null;",xt={};_e(xt),Te=pt(xt),"undefined"!=typeof window&&window&&window.URL&&window.URL.createObjectURL&&(Te.workerUrl=window.URL.createObjectURL(new Blob([vt],{type:"text/javascript"})))}else be=pt;else _e=pt}return define(["exports"],(function(_e){var be="undefined"!=typeof self?self:{},Te=n;function n(_e,be,Te,Pe){this.cx=3*_e,this.bx=3*(Te-_e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*be,this.by=3*(Pe-be)-this.cy,this.ay=1-this.cy-this.by,this.p1x=_e,this.p1y=Pe,this.p2x=Te,this.p2y=Pe}n.prototype.sampleCurveX=function(_e){return((this.ax*_e+this.bx)*_e+this.cx)*_e},n.prototype.sampleCurveY=function(_e){return((this.ay*_e+this.by)*_e+this.cy)*_e},n.prototype.sampleCurveDerivativeX=function(_e){return(3*this.ax*_e+2*this.bx)*_e+this.cx},n.prototype.solveCurveX=function(_e,be){var Te,Pe,pt,vt,xt;for(void 0===be&&(be=1e-6),pt=_e,xt=0;xt<8;xt++){if(vt=this.sampleCurveX(pt)-_e,Math.abs(vt)<be)return pt;var Tt=this.sampleCurveDerivativeX(pt);if(Math.abs(Tt)<1e-6)break;pt-=vt/Tt}if((pt=_e)<(Te=0))return Te;if(pt>(Pe=1))return Pe;for(;Te<Pe;){if(vt=this.sampleCurveX(pt),Math.abs(vt-_e)<be)return pt;_e>vt?Te=pt:Pe=pt,pt=.5*(Pe-Te)+Te}return pt},n.prototype.solve=function(_e,be){return this.sampleCurveY(this.solveCurveX(_e,be))};var Pe=s;function s(_e,be){this.x=_e,this.y=be}s.prototype={clone:function(){return new s(this.x,this.y)},add:function(_e){return this.clone()._add(_e)},sub:function(_e){return this.clone()._sub(_e)},multByPoint:function(_e){return this.clone()._multByPoint(_e)},divByPoint:function(_e){return this.clone()._divByPoint(_e)},mult:function(_e){return this.clone()._mult(_e)},div:function(_e){return this.clone()._div(_e)},rotate:function(_e){return this.clone()._rotate(_e)},rotateAround:function(_e,be){return this.clone()._rotateAround(_e,be)},matMult:function(_e){return this.clone()._matMult(_e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(_e){return this.x===_e.x&&this.y===_e.y},dist:function(_e){return Math.sqrt(this.distSqr(_e))},distSqr:function(_e){var be=_e.x-this.x,Te=_e.y-this.y;return be*be+Te*Te},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(_e){return Math.atan2(this.y-_e.y,this.x-_e.x)},angleWith:function(_e){return this.angleWithSep(_e.x,_e.y)},angleWithSep:function(_e,be){return Math.atan2(this.x*be-this.y*_e,this.x*_e+this.y*be)},_matMult:function(_e){var be=_e[2]*this.x+_e[3]*this.y;return this.x=_e[0]*this.x+_e[1]*this.y,this.y=be,this},_add:function(_e){return this.x+=_e.x,this.y+=_e.y,this},_sub:function(_e){return this.x-=_e.x,this.y-=_e.y,this},_mult:function(_e){return this.x*=_e,this.y*=_e,this},_div:function(_e){return this.x/=_e,this.y/=_e,this},_multByPoint:function(_e){return this.x*=_e.x,this.y*=_e.y,this},_divByPoint:function(_e){return this.x/=_e.x,this.y/=_e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var _e=this.y;return this.y=this.x,this.x=-_e,this},_rotate:function(_e){var be=Math.cos(_e),Te=Math.sin(_e),Pe=Te*this.x+be*this.y;return this.x=be*this.x-Te*this.y,this.y=Pe,this},_rotateAround:function(_e,be){var Te=Math.cos(_e),Pe=Math.sin(_e),pt=be.y+Pe*(this.x-be.x)+Te*(this.y-be.y);return this.x=be.x+Te*(this.x-be.x)-Pe*(this.y-be.y),this.y=pt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},s.convert=function(_e){return _e instanceof s?_e:Array.isArray(_e)?new s(_e[0],_e[1]):_e};const pt=Math.PI/180,vt=180/Math.PI;function l(_e){return _e*pt}function u(_e){return _e*vt}const xt=[[0,0],[1,0],[1,1],[0,1]];function h(_e){if(_e<=0)return 0;if(_e>=1)return 1;const be=_e*_e,Te=be*_e;return 4*(_e<.5?Te:3*(_e-be)+Te-.75)}function p(_e,be,Pe,pt){const vt=new Te(_e,be,Pe,pt);return function(_e){return vt.solve(_e)}}const Tt=p(.25,.1,.25,1);function d(_e,be,Te){return Math.min(Te,Math.max(be,_e))}function y(_e,be,Te){return(Te=d((Te-_e)/(be-_e),0,1))*Te*(3-2*Te)}function m(_e,be,Te){const Pe=Te-be,pt=((_e-be)%Pe+Pe)%Pe+be;return pt===be?Te:pt}function g(_e,be,Te){if(!_e.length)return Te(null,[]);let Pe=_e.length;const pt=new Array(_e.length);let vt=null;_e.forEach(((_e,xt)=>{be(_e,((_e,be)=>{_e&&(vt=_e),pt[xt]=be,0==--Pe&&Te(vt,pt)}))}))}function x(_e){const be=[];for(const Te in _e)be.push(_e[Te]);return be}function v(_e,...be){for(const Te of be)for(const be in Te)_e[be]=Te[be];return _e}let It=1;function _(){return It++}function w(){return function t(_e){return _e?(_e^Math.random()*(16>>_e/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function A(_e){return _e<=1?1:Math.pow(2,Math.ceil(Math.log(_e)/Math.LN2))}function S(_e){return!!_e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(_e)}function k(_e,be){_e.forEach((_e=>{be[_e]&&(be[_e]=be[_e].bind(be))}))}function I(_e,be){return-1!==_e.indexOf(be,_e.length-be.length)}function M(_e,be,Te){const Pe={};for(const pt in _e)Pe[pt]=be.call(Te||this,_e[pt],pt,_e);return Pe}function z(_e,be,Te){const Pe={};for(const pt in _e)be.call(Te||this,_e[pt],pt,_e)&&(Pe[pt]=_e[pt]);return Pe}function T(_e){return Array.isArray(_e)?_e.map(T):"object"==typeof _e&&_e?M(_e,T):_e}const Mt={};function E(_e){Mt[_e]||("undefined"!=typeof console&&console.warn(_e),Mt[_e]=!0)}function C(_e,be,Te){return(Te.y-_e.y)*(be.x-_e.x)>(be.y-_e.y)*(Te.x-_e.x)}function P(_e){let be=0;for(let Te,Pe,pt=0,vt=_e.length,xt=vt-1;pt<vt;xt=pt++)Te=_e[pt],Pe=_e[xt],be+=(Pe.x-Te.x)*(Te.y+Pe.y);return be}function D(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function V(_e){const be={};if(_e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((_e,Te,Pe,pt)=>{const vt=Pe||pt;return be[Te]=!vt||vt.toLowerCase(),""})),be["max-age"]){const _e=parseInt(be["max-age"],10);isNaN(_e)?delete be["max-age"]:be["max-age"]=_e}return be}let Lt=null;function L(_e){if(null==Lt){const be=_e.navigator?_e.navigator.userAgent:null;Lt=!!_e.safari||!(!be||!(/\b(iPad|iPhone|iPod)\b/.test(be)||be.match("Safari")&&!be.match("Chrome")))}return Lt}function R(_e){try{const Te=be[_e];return Te.setItem("_mapbox_test_",1),Te.removeItem("_mapbox_test_"),!0}catch(_e){return!1}}function j(_e,be){return[_e[4*be],_e[4*be+1],_e[4*be+2],_e[4*be+3]]}const Ft=be.performance;function $(_e){const be=_e?_e.url.toString():void 0;return Ft.getEntriesByName(be)}var Ot="2.9.2";let Vt,qt,Wt,$t;const Kt={now:()=>void 0!==Wt?Wt:be.performance.now(),setNow(_e){Wt=_e},restoreNow(){Wt=void 0},frame(_e){const Te=be.requestAnimationFrame(_e);return{cancel:()=>be.cancelAnimationFrame(Te)}},getImageData(_e,Te=0){const{width:Pe,height:pt}=_e;$t||($t=be.document.createElement("canvas"));const vt=$t.getContext("2d");if(!vt)throw new Error("failed to create canvas 2d context");return(Pe>$t.width||pt>$t.height)&&($t.width=Pe,$t.height=pt),vt.clearRect(-Te,-Te,Pe+2*Te,pt+2*Te),vt.drawImage(_e,0,0,Pe,pt),vt.getImageData(-Te,-Te,Pe+2*Te,pt+2*Te)},resolveURL:_e=>(Vt||(Vt=be.document.createElement("a")),Vt.href=_e,Vt.href),get devicePixelRatio(){return be.devicePixelRatio},get prefersReducedMotion(){return!!be.matchMedia&&(null==qt&&(qt=be.matchMedia("(prefers-reduced-motion: reduce)")),qt.matches)}};let Jt;const Yt={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==Jt){const _e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Jt=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):_e}catch(be){Jt=_e}}return Jt},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Qt={supported:!1,testSupport:function(_e){!hn&&cn&&(pn?et(_e):an=_e)}};let an,cn,hn=!1,pn=!1;function et(_e){const be=_e.createTexture();_e.bindTexture(_e.TEXTURE_2D,be);try{if(_e.texImage2D(_e.TEXTURE_2D,0,_e.RGBA,_e.RGBA,_e.UNSIGNED_BYTE,cn),_e.isContextLost())return;Qt.supported=!0}catch(_e){}_e.deleteTexture(be),hn=!0}be.document&&(cn=be.document.createElement("img"),cn.onload=function(){an&&et(an),an=null,pn=!0},cn.onerror=function(){hn=!0,an=null},cn.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const xn="01",Pn="NO_ACCESS_TOKEN";function it(_e){return 0===_e.indexOf("mapbox:")}function st(_e){return Yt.API_URL_REGEX.test(_e)}const Ln=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ot(_e){const be=_e.match(Ln);if(!be)throw new Error("Unable to parse URL object");return{protocol:be[1],authority:be[2],path:be[3]||"/",params:be[4]?be[4].split("&"):[]}}function lt(_e){const be=_e.params.length?`?${_e.params.join("&")}`:"";return`${_e.protocol}://${_e.authority}${_e.path}${be}`}function ut(_e){if(!_e)return null;const Te=_e.split(".");if(!Te||3!==Te.length)return null;try{return JSON.parse(decodeURIComponent(be.atob(Te[1]).split("").map((_e=>"%"+("00"+_e.charCodeAt(0).toString(16)).slice(-2))).join("")))}catch(_e){return null}}class Fn{constructor(_e){this.type=_e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(_e){const Te=ut(Yt.ACCESS_TOKEN);let Pe="";return Pe=Te&&Te.u?be.btoa(encodeURIComponent(Te.u).replace(/%([0-9A-F]{2})/g,((_e,be)=>String.fromCharCode(Number("0x"+be))))):Yt.ACCESS_TOKEN||"",_e?`mapbox.eventData.${_e}:${Pe}`:`mapbox.eventData:${Pe}`}fetchEventData(){const _e=R("localStorage"),Te=this.getStorageKey(),Pe=this.getStorageKey("uuid");if(_e)try{const _e=be.localStorage.getItem(Te);_e&&(this.eventData=JSON.parse(_e));const pt=be.localStorage.getItem(Pe);pt&&(this.anonId=pt)}catch(_e){E("Unable to read from LocalStorage")}}saveEventData(){const _e=R("localStorage"),Te=this.getStorageKey(),Pe=this.getStorageKey("uuid");if(_e)try{be.localStorage.setItem(Pe,this.anonId),Object.keys(this.eventData).length>=1&&be.localStorage.setItem(Te,JSON.stringify(this.eventData))}catch(_e){E("Unable to write to LocalStorage")}}processRequests(_e){}postEvent(_e,be,Te,Pe){if(!Yt.EVENTS_URL)return;const pt=ot(Yt.EVENTS_URL);pt.params.push(`access_token=${Pe||Yt.ACCESS_TOKEN||""}`);const vt={event:this.type,created:new Date(_e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:Ot,skuId:xn,userId:this.anonId},xt=be?v(vt,be):vt,Tt={url:lt(pt),headers:{"Content-Type":"text/plain"},body:JSON.stringify([xt])};this.pendingRequest=Ct(Tt,(_e=>{this.pendingRequest=null,Te(_e),this.saveEventData(),this.processRequests(Pe)}))}queueRequest(_e,be){this.queue.push(_e),this.processRequests(be)}}const jn=new class extends Fn{constructor(_e){super("appUserTurnstile"),this._customAccessToken=_e}postTurnstileEvent(_e,be){Yt.EVENTS_URL&&Yt.ACCESS_TOKEN&&Array.isArray(_e)&&_e.some((_e=>it(_e)||st(_e)))&&this.queueRequest(Date.now(),be)}processRequests(_e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const be=ut(Yt.ACCESS_TOKEN),Te=be?be.u:Yt.ACCESS_TOKEN;let Pe=Te!==this.eventData.tokenU;S(this.anonId)||(this.anonId=w(),Pe=!0);const pt=this.queue.shift();if(this.eventData.lastSuccess){const _e=new Date(this.eventData.lastSuccess),be=new Date(pt),Te=(pt-this.eventData.lastSuccess)/864e5;Pe=Pe||Te>=1||Te<-1||_e.getDate()!==be.getDate()}else Pe=!0;Pe?this.postEvent(pt,{"enabled.telemetry":!1},(_e=>{_e||(this.eventData.lastSuccess=pt,this.eventData.tokenU=Te)}),_e):this.processRequests()}},$n=jn.postTurnstileEvent.bind(jn),ea=new class extends Fn{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(_e,be,Te,Pe){this.skuToken=be,this.errorCb=Pe,Yt.EVENTS_URL&&(Te||Yt.ACCESS_TOKEN?this.queueRequest({id:_e,timestamp:Date.now()},Te):this.errorCb(new Error(Pn)))}processRequests(_e){if(this.pendingRequest||0===this.queue.length)return;const{id:be,timestamp:Te}=this.queue.shift();be&&this.success[be]||(this.anonId||this.fetchEventData(),S(this.anonId)||(this.anonId=w()),this.postEvent(Te,{skuToken:this.skuToken},(_e=>{_e?this.errorCb(_e):be&&(this.success[be]=!0)}),_e))}},na=ea.postMapLoadEvent.bind(ea),aa=new class extends Fn{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(_e,be,Te,Pe){if(!Yt.API_URL||!Yt.SESSION_PATH)return;const pt=ot(Yt.API_URL+Yt.SESSION_PATH);pt.params.push(`sku=${be||""}`),pt.params.push(`access_token=${Pe||Yt.ACCESS_TOKEN||""}`);const vt={url:lt(pt),headers:{"Content-Type":"text/plain"}};this.pendingRequest=Pt(vt,(_e=>{this.pendingRequest=null,Te(_e),this.saveEventData(),this.processRequests(Pe)}))}getSessionAPI(_e,be,Te,Pe){this.skuToken=be,this.errorCb=Pe,Yt.SESSION_PATH&&Yt.API_URL&&(Te||Yt.ACCESS_TOKEN?this.queueRequest({id:_e,timestamp:Date.now()},Te):this.errorCb(new Error(Pn)))}processRequests(_e){if(this.pendingRequest||0===this.queue.length)return;const{id:be,timestamp:Te}=this.queue.shift();be&&this.success[be]||this.getSession(Te,this.skuToken,(_e=>{_e?this.errorCb(_e):be&&(this.success[be]=!0)}),_e)}},ra=aa.getSessionAPI.bind(aa),ia=new Set;let da,la=500,ua=50,ca={};function wt(_e){const be=St(_e);let Te,Pe;be&&be.forEach((_e=>{const be=_e.split("=");"language"===be[0]?Te=be[1]:"worldview"===be[0]&&(Pe=be[1])}));let pt="mapbox-tiles";return Te&&(pt+=`-${Te}`),Pe&&(pt+=`-${Pe}`),pt}function At(_e){be.caches&&!ca[_e]&&(ca[_e]=be.caches.open(_e))}function St(_e){const be=_e.indexOf("?");return be>0?_e.slice(be+1).split("&"):[]}function kt(_e){const be=_e.indexOf("?");if(be<0)return _e;const Te=St(_e).filter((_e=>{const be=_e.split("=");return"language"===be[0]||"worldview"===be[0]}));return Te.length?`${_e.slice(0,be)}?${Te.join("&")}`:_e.slice(0,be)}let ga=1/0;const ma={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ma);class ya extends Error{constructor(_e,be,Te){401===be&&st(Te)&&(_e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(_e),this.status=be,this.url=Te}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const _a=D()?()=>self.worker&&self.worker.referrer:()=>("blob:"===be.location.protocol?be.parent:be).location.href,Bt=function(_e,Te){if(!(/^file:/.test(Pe=_e.url)||/^file:/.test(_a())&&!/^\w+:/.test(Pe))){if(be.fetch&&be.Request&&be.AbortController&&be.Request.prototype.hasOwnProperty("signal"))return function(_e,Te){const Pe=new be.AbortController,pt=new be.Request(_e.url,{method:_e.method||"GET",body:_e.body,credentials:_e.credentials,headers:_e.headers,referrer:_a(),signal:Pe.signal});let vt=!1,xt=!1;const Tt=(It=pt.url).indexOf("sku=")>0&&st(It);var It;"json"===_e.type&&pt.headers.set("Accept","application/json");const u=(Pe,vt,It)=>{if(xt)return;if(Pe&&"SecurityError"!==Pe.message&&E(Pe),vt&&It)return c(vt);const Mt=Date.now();be.fetch(pt).then((be=>{if(be.ok){const _e=Tt?be.clone():null;return c(be,_e,Mt)}return Te(new ya(be.statusText,be.status,_e.url))})).catch((_e=>{20!==_e.code&&Te(new Error(_e.message))}))},c=(Pe,Tt,It)=>{("arrayBuffer"===_e.type?Pe.arrayBuffer():"json"===_e.type?Pe.json():Pe.text()).then((_e=>{xt||(Tt&&It&&function(_e,Te,Pe){const pt=wt(_e.url);if(At(pt),!ca[pt])return;const vt={status:Te.status,statusText:Te.statusText,headers:new be.Headers};Te.headers.forEach(((_e,be)=>vt.headers.set(be,_e)));const xt=V(Te.headers.get("Cache-Control")||"");if(xt["no-store"])return;xt["max-age"]&&vt.headers.set("Expires",new Date(Pe+1e3*xt["max-age"]).toUTCString());const Tt=vt.headers.get("Expires");Tt&&(new Date(Tt).getTime()-Pe<42e4||function(_e,be){if(void 0===da)try{new Response(new ReadableStream),da=!0}catch(_e){da=!1}da?be(_e.body):_e.blob().then(be)}(Te,(Te=>{const Pe=new be.Response(Te,vt);At(pt),ca[pt]&&ca[pt].then((be=>be.put(kt(_e.url),Pe))).catch((_e=>E(_e.message)))})))}(pt,Tt,It),vt=!0,Te(null,_e,Pe.headers.get("Cache-Control"),Pe.headers.get("Expires")))})).catch((_e=>{xt||Te(new Error(_e.message))}))};return Tt?function(_e,be){const Te=wt(_e.url);if(At(Te),!ca[Te])return be(null);const Pe=kt(_e.url);ca[Te].then((_e=>{_e.match(Pe).then((Te=>{const pt=function(_e){if(!_e)return!1;const be=new Date(_e.headers.get("Expires")||0),Te=V(_e.headers.get("Cache-Control")||"");return be>Date.now()&&!Te["no-cache"]}(Te);_e.delete(Pe),pt&&_e.put(Pe,Te.clone()),be(null,Te,pt)})).catch(be)})).catch(be)}(pt,u):u(null,null),{cancel:()=>{xt=!0,vt||Pe.abort()}}}(_e,Te);if(D()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",_e,Te,void 0,!0)}var Pe;return function(_e,Te){const Pe=new be.XMLHttpRequest;Pe.open(_e.method||"GET",_e.url,!0),"arrayBuffer"===_e.type&&(Pe.responseType="arraybuffer");for(const be in _e.headers)Pe.setRequestHeader(be,_e.headers[be]);return"json"===_e.type&&(Pe.responseType="text",Pe.setRequestHeader("Accept","application/json")),Pe.withCredentials="include"===_e.credentials,Pe.onerror=()=>{Te(new Error(Pe.statusText))},Pe.onload=()=>{if((Pe.status>=200&&Pe.status<300||0===Pe.status)&&null!==Pe.response){let be=Pe.response;if("json"===_e.type)try{be=JSON.parse(Pe.response)}catch(_e){return Te(_e)}Te(null,be,Pe.getResponseHeader("Cache-Control"),Pe.getResponseHeader("Expires"))}else Te(new ya(Pe.statusText,Pe.status,_e.url))},Pe.send(_e.body),{cancel:()=>Pe.abort()}}(_e,Te)},Et=function(_e,be){return Bt(v(_e,{type:"arrayBuffer"}),be)},Ct=function(_e,be){return Bt(v(_e,{method:"POST"}),be)},Pt=function(_e,be){return Bt(v(_e,{method:"GET"}),be)};function Dt(_e){const Te=be.document.createElement("a");return Te.href=_e,Te.protocol===be.document.location.protocol&&Te.host===be.document.location.host}const va="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let xa,ba;xa=[],ba=0;const Rt=function(_e,Te){if(Qt.supported&&(_e.headers||(_e.headers={}),_e.headers.accept="image/webp,*/*"),ba>=Yt.MAX_PARALLEL_IMAGE_REQUESTS){const be={requestParameters:_e,callback:Te,cancelled:!1,cancel(){this.cancelled=!0}};return xa.push(be),be}ba++;let Pe=!1;const i=()=>{if(!Pe)for(Pe=!0,ba--;xa.length&&ba<Yt.MAX_PARALLEL_IMAGE_REQUESTS;){const _e=xa.shift(),{requestParameters:be,callback:Te,cancelled:Pe}=_e;Pe||(_e.cancel=Rt(be,Te).cancel)}},pt=Et(_e,((_e,Pe,pt,vt)=>{i(),_e?Te(_e):Pe&&(be.createImageBitmap?function(_e,Te){const Pe=new be.Blob([new Uint8Array(_e)],{type:"image/png"});be.createImageBitmap(Pe).then((_e=>{Te(null,_e)})).catch((_e=>{Te(new Error(`Could not load image because of ${_e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))}(Pe,((_e,be)=>Te(_e,be,pt,vt))):function(_e,Te){const Pe=new be.Image,pt=be.URL;Pe.onload=()=>{Te(null,Pe),pt.revokeObjectURL(Pe.src),Pe.onload=null,be.requestAnimationFrame((()=>{Pe.src=va}))},Pe.onerror=()=>Te(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const vt=new be.Blob([new Uint8Array(_e)],{type:"image/png"});Pe.src=_e.byteLength?pt.createObjectURL(vt):va}(Pe,((_e,be)=>Te(_e,be,pt,vt))))}));return{cancel:()=>{pt.cancel(),i()}}};function jt(_e,be,Te){Te[_e]&&-1!==Te[_e].indexOf(be)||(Te[_e]=Te[_e]||[],Te[_e].push(be))}function Ut(_e,be,Te){if(Te&&Te[_e]){const Pe=Te[_e].indexOf(be);-1!==Pe&&Te[_e].splice(Pe,1)}}class wa{constructor(_e,be={}){v(this,be),this.type=_e}}class Ea extends wa{constructor(_e,be={}){super("error",v({error:_e},be))}}class Ca{on(_e,be){return this._listeners=this._listeners||{},jt(_e,be,this._listeners),this}off(_e,be){return Ut(_e,be,this._listeners),Ut(_e,be,this._oneTimeListeners),this}once(_e,be){return be?(this._oneTimeListeners=this._oneTimeListeners||{},jt(_e,be,this._oneTimeListeners),this):new Promise((be=>this.once(_e,be)))}fire(_e,be){"string"==typeof _e&&(_e=new wa(_e,be||{}));const Te=_e.type;if(this.listens(Te)){_e.target=this;const be=this._listeners&&this._listeners[Te]?this._listeners[Te].slice():[];for(const Te of be)Te.call(this,_e);const Pe=this._oneTimeListeners&&this._oneTimeListeners[Te]?this._oneTimeListeners[Te].slice():[];for(const be of Pe)Ut(Te,be,this._oneTimeListeners),be.call(this,_e);const pt=this._eventedParent;pt&&(v(_e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),pt.fire(_e))}else _e instanceof Ea&&console.error(_e.error);return this}listens(_e){return!!(this._listeners&&this._listeners[_e]&&this._listeners[_e].length>0||this._oneTimeListeners&&this._oneTimeListeners[_e]&&this._oneTimeListeners[_e].length>0||this._eventedParent&&this._eventedParent.listens(_e))}setEventedParent(_e,be){return this._eventedParent=_e,this._eventedParentData=be,this}}var Aa=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Gt(_e,...be){for(const Te of be)for(const be in Te)_e[be]=Te[be];return _e}function Zt(_e){return _e instanceof Number||_e instanceof String||_e instanceof Boolean?_e.valueOf():_e}function Xt(_e){if(Array.isArray(_e))return _e.map(Xt);if(_e instanceof Object&&!(_e instanceof Number||_e instanceof String||_e instanceof Boolean)){const be={};for(const Te in _e)be[Te]=Xt(_e[Te]);return be}return Zt(_e)}class Da extends Error{constructor(_e,be){super(be),this.message=be,this.key=_e}}var ka=Da;class Ia{constructor(_e,be=[]){this.parent=_e,this.bindings={};for(const[_e,Te]of be)this.bindings[_e]=Te}concat(_e){return new Ia(this,_e)}get(_e){if(this.bindings[_e])return this.bindings[_e];if(this.parent)return this.parent.get(_e);throw new Error(`${_e} not found in scope.`)}has(_e){return!!this.bindings[_e]||!!this.parent&&this.parent.has(_e)}}var La=Ia;const Fa={kind:"null"},Ba={kind:"number"},za={kind:"string"},ja={kind:"boolean"},Na={kind:"color"},Ga={kind:"object"},Ha={kind:"value"},$a={kind:"collator"},Ja={kind:"formatted"},sr={kind:"resolvedImage"};function le(_e,be){return{kind:"array",itemType:_e,N:be}}function ue(_e){if("array"===_e.kind){const be=ue(_e.itemType);return"number"==typeof _e.N?`array<${be}, ${_e.N}>`:"value"===_e.itemType.kind?"array":`array<${be}>`}return _e.kind}const ur=[Fa,Ba,za,ja,Na,Ja,Ga,le(Ha),sr];function he(_e,be){if("error"===be.kind)return null;if("array"===_e.kind){if("array"===be.kind&&(0===be.N&&"value"===be.itemType.kind||!he(_e.itemType,be.itemType))&&("number"!=typeof _e.N||_e.N===be.N))return null}else{if(_e.kind===be.kind)return null;if("value"===_e.kind)for(const _e of ur)if(!he(_e,be))return null}return`Expected ${ue(_e)} but found ${ue(be)} instead.`}function pe(_e,be){return be.some((be=>be.kind===_e.kind))}function fe(_e,be){return be.some((be=>"null"===be?null===_e:"array"===be?Array.isArray(_e):"object"===be?_e&&!Array.isArray(_e)&&"object"==typeof _e:be===typeof _e))}function de(_e){var be={exports:{}};return _e(be,be.exports),be.exports}var cr=de((function(_e,be){var Te={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(_e){return(_e=Math.round(_e))<0?0:_e>255?255:_e}function i(_e){return n("%"===_e[_e.length-1]?parseFloat(_e)/100*255:parseInt(_e))}function s(_e){return(be="%"===_e[_e.length-1]?parseFloat(_e)/100:parseFloat(_e))<0?0:be>1?1:be;var be}function a(_e,be,Te){return Te<0?Te+=1:Te>1&&(Te-=1),6*Te<1?_e+(be-_e)*Te*6:2*Te<1?be:3*Te<2?_e+(be-_e)*(2/3-Te)*6:_e}try{be.parseCSSColor=function(_e){var be,Pe=_e.replace(/ /g,"").toLowerCase();if(Pe in Te)return Te[Pe].slice();if("#"===Pe[0])return 4===Pe.length?(be=parseInt(Pe.substr(1),16))>=0&&be<=4095?[(3840&be)>>4|(3840&be)>>8,240&be|(240&be)>>4,15&be|(15&be)<<4,1]:null:7===Pe.length&&(be=parseInt(Pe.substr(1),16))>=0&&be<=16777215?[(16711680&be)>>16,(65280&be)>>8,255&be,1]:null;var pt=Pe.indexOf("("),vt=Pe.indexOf(")");if(-1!==pt&&vt+1===Pe.length){var xt=Pe.substr(0,pt),Tt=Pe.substr(pt+1,vt-(pt+1)).split(","),It=1;switch(xt){case"rgba":if(4!==Tt.length)return null;It=s(Tt.pop());case"rgb":return 3!==Tt.length?null:[i(Tt[0]),i(Tt[1]),i(Tt[2]),It];case"hsla":if(4!==Tt.length)return null;It=s(Tt.pop());case"hsl":if(3!==Tt.length)return null;var Mt=(parseFloat(Tt[0])%360+360)%360/360,Lt=s(Tt[1]),Ft=s(Tt[2]),Ot=Ft<=.5?Ft*(Lt+1):Ft+Lt-Ft*Lt,Vt=2*Ft-Ot;return[n(255*a(Vt,Ot,Mt+1/3)),n(255*a(Vt,Ot,Mt)),n(255*a(Vt,Ot,Mt-1/3)),It];default:return null}}return null}}catch(_e){}}));class pr{constructor(_e,be,Te,Pe=1){this.r=_e,this.g=be,this.b=Te,this.a=Pe}static parse(_e){if(!_e)return;if(_e instanceof pr)return _e;if("string"!=typeof _e)return;const be=cr.parseCSSColor(_e);return be?new pr(be[0]/255*be[3],be[1]/255*be[3],be[2]/255*be[3],be[3]):void 0}toString(){const[_e,be,Te,Pe]=this.toArray();return`rgba(${Math.round(_e)},${Math.round(be)},${Math.round(Te)},${Pe})`}toArray(){const{r:_e,g:be,b:Te,a:Pe}=this;return 0===Pe?[0,0,0,0]:[255*_e/Pe,255*be/Pe,255*Te/Pe,Pe]}toArray01(){const{r:_e,g:be,b:Te,a:Pe}=this;return 0===Pe?[0,0,0,0]:[_e/Pe,be/Pe,Te/Pe,Pe]}toArray01PremultipliedAlpha(){const{r:_e,g:be,b:Te,a:Pe}=this;return[_e,be,Te,Pe]}}pr.black=new pr(0,0,0,1),pr.white=new pr(1,1,1,1),pr.transparent=new pr(0,0,0,0),pr.red=new pr(1,0,0,1),pr.blue=new pr(0,0,1,1);var mr=pr;class yr{constructor(_e,be,Te){this.sensitivity=_e?be?"variant":"case":be?"accent":"base",this.locale=Te,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(_e,be){return this.collator.compare(_e,be)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class _r{constructor(_e,be,Te,Pe,pt){this.text=_e.normalize?_e.normalize():_e,this.image=be,this.scale=Te,this.fontStack=Pe,this.textColor=pt}}class vr{constructor(_e){this.sections=_e}static fromString(_e){return new vr([new _r(_e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((_e=>0!==_e.text.length||_e.image&&0!==_e.image.name.length))}static factory(_e){return _e instanceof vr?_e:vr.fromString(_e)}toString(){return 0===this.sections.length?"":this.sections.map((_e=>_e.text)).join("")}serialize(){const _e=["format"];for(const be of this.sections){if(be.image){_e.push(["image",be.image.name]);continue}_e.push(be.text);const Te={};be.fontStack&&(Te["text-font"]=["literal",be.fontStack.split(",")]),be.scale&&(Te["font-scale"]=be.scale),be.textColor&&(Te["text-color"]=["rgba"].concat(be.textColor.toArray())),_e.push(Te)}return _e}}class Rr{constructor(_e){this.name=_e.name,this.available=_e.available}toString(){return this.name}static fromString(_e){return _e?new Rr({name:_e,available:!1}):null}serialize(){return["image",this.name]}}function we(_e,be,Te,Pe){return"number"==typeof _e&&_e>=0&&_e<=255&&"number"==typeof be&&be>=0&&be<=255&&"number"==typeof Te&&Te>=0&&Te<=255?void 0===Pe||"number"==typeof Pe&&Pe>=0&&Pe<=1?null:`Invalid rgba value [${[_e,be,Te,Pe].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof Pe?[_e,be,Te,Pe]:[_e,be,Te]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ae(_e){if(null===_e)return!0;if("string"==typeof _e)return!0;if("boolean"==typeof _e)return!0;if("number"==typeof _e)return!0;if(_e instanceof mr)return!0;if(_e instanceof yr)return!0;if(_e instanceof vr)return!0;if(_e instanceof Rr)return!0;if(Array.isArray(_e)){for(const be of _e)if(!Ae(be))return!1;return!0}if("object"==typeof _e){for(const be in _e)if(!Ae(_e[be]))return!1;return!0}return!1}function Se(_e){if(null===_e)return Fa;if("string"==typeof _e)return za;if("boolean"==typeof _e)return ja;if("number"==typeof _e)return Ba;if(_e instanceof mr)return Na;if(_e instanceof yr)return $a;if(_e instanceof vr)return Ja;if(_e instanceof Rr)return sr;if(Array.isArray(_e)){const be=_e.length;let Te;for(const be of _e){const _e=Se(be);if(Te){if(Te===_e)continue;Te=Ha;break}Te=_e}return le(Te||Ha,be)}return Ga}function ke(_e){const be=typeof _e;return null===_e?"":"string"===be||"number"===be||"boolean"===be?String(_e):_e instanceof mr||_e instanceof vr||_e instanceof Rr?_e.toString():JSON.stringify(_e)}class xr{constructor(_e,be){this.type=_e,this.value=be}static parse(_e,be){if(2!==_e.length)return be.error(`'literal' expression requires exactly one argument, but found ${_e.length-1} instead.`);if(!Ae(_e[1]))return be.error("invalid value");const Te=_e[1];let Pe=Se(Te);const pt=be.expectedType;return"array"!==Pe.kind||0!==Pe.N||!pt||"array"!==pt.kind||"number"==typeof pt.N&&0!==pt.N||(Pe=pt),new xr(Pe,Te)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof mr?["rgba"].concat(this.value.toArray()):this.value instanceof vr?this.value.serialize():this.value}}var Sr=xr,Ar=class{constructor(_e){this.name="ExpressionEvaluationError",this.message=_e}toJSON(){return this.message}};const kr={string:za,number:Ba,boolean:ja,object:Ga};class Pr{constructor(_e,be){this.type=_e,this.args=be}static parse(_e,be){if(_e.length<2)return be.error("Expected at least one argument.");let Te,Pe=1;const pt=_e[0];if("array"===pt){let pt,vt;if(_e.length>2){const Te=_e[1];if("string"!=typeof Te||!(Te in kr)||"object"===Te)return be.error('The item type argument of "array" must be one of string, number, boolean',1);pt=kr[Te],Pe++}else pt=Ha;if(_e.length>3){if(null!==_e[2]&&("number"!=typeof _e[2]||_e[2]<0||_e[2]!==Math.floor(_e[2])))return be.error('The length argument to "array" must be a positive integer literal',2);vt=_e[2],Pe++}Te=le(pt,vt)}else Te=kr[pt];const vt=[];for(;Pe<_e.length;Pe++){const Te=be.parse(_e[Pe],Pe,Ha);if(!Te)return null;vt.push(Te)}return new Pr(Te,vt)}evaluate(_e){for(let be=0;be<this.args.length;be++){const Te=this.args[be].evaluate(_e);if(!he(this.type,Se(Te)))return Te;if(be===this.args.length-1)throw new Ar(`Expected value to be of type ${ue(this.type)}, but found ${ue(Se(Te))} instead.`)}return null}eachChild(_e){this.args.forEach(_e)}outputDefined(){return this.args.every((_e=>_e.outputDefined()))}serialize(){const _e=this.type,be=[_e.kind];if("array"===_e.kind){const Te=_e.itemType;if("string"===Te.kind||"number"===Te.kind||"boolean"===Te.kind){be.push(Te.kind);const Pe=_e.N;("number"==typeof Pe||this.args.length>1)&&be.push(Pe)}}return be.concat(this.args.map((_e=>_e.serialize())))}}var Fr=Pr;class Or{constructor(_e){this.type=Ja,this.sections=_e}static parse(_e,be){if(_e.length<2)return be.error("Expected at least one argument.");const Te=_e[1];if(!Array.isArray(Te)&&"object"==typeof Te)return be.error("First argument must be an image or text section.");const Pe=[];let pt=!1;for(let Te=1;Te<=_e.length-1;++Te){const vt=_e[Te];if(pt&&"object"==typeof vt&&!Array.isArray(vt)){pt=!1;let _e=null;if(vt["font-scale"]&&(_e=be.parse(vt["font-scale"],1,Ba),!_e))return null;let Te=null;if(vt["text-font"]&&(Te=be.parse(vt["text-font"],1,le(za)),!Te))return null;let xt=null;if(vt["text-color"]&&(xt=be.parse(vt["text-color"],1,Na),!xt))return null;const Tt=Pe[Pe.length-1];Tt.scale=_e,Tt.font=Te,Tt.textColor=xt}else{const vt=be.parse(_e[Te],1,Ha);if(!vt)return null;const xt=vt.type.kind;if("string"!==xt&&"value"!==xt&&"null"!==xt&&"resolvedImage"!==xt)return be.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");pt=!0,Pe.push({content:vt,scale:null,font:null,textColor:null})}}return new Or(Pe)}evaluate(_e){return new vr(this.sections.map((be=>{const Te=be.content.evaluate(_e);return Se(Te)===sr?new _r("",Te,null,null,null):new _r(ke(Te),null,be.scale?be.scale.evaluate(_e):null,be.font?be.font.evaluate(_e).join(","):null,be.textColor?be.textColor.evaluate(_e):null)})))}eachChild(_e){for(const be of this.sections)_e(be.content),be.scale&&_e(be.scale),be.font&&_e(be.font),be.textColor&&_e(be.textColor)}outputDefined(){return!1}serialize(){const _e=["format"];for(const be of this.sections){_e.push(be.content.serialize());const Te={};be.scale&&(Te["font-scale"]=be.scale.serialize()),be.font&&(Te["text-font"]=be.font.serialize()),be.textColor&&(Te["text-color"]=be.textColor.serialize()),_e.push(Te)}return _e}}class Nr{constructor(_e){this.type=sr,this.input=_e}static parse(_e,be){if(2!==_e.length)return be.error("Expected two arguments.");const Te=be.parse(_e[1],1,za);return Te?new Nr(Te):be.error("No image name provided.")}evaluate(_e){const be=this.input.evaluate(_e),Te=Rr.fromString(be);return Te&&_e.availableImages&&(Te.available=_e.availableImages.indexOf(be)>-1),Te}eachChild(_e){_e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Vr={"to-boolean":ja,"to-color":Na,"to-number":Ba,"to-string":za};class Gr{constructor(_e,be){this.type=_e,this.args=be}static parse(_e,be){if(_e.length<2)return be.error("Expected at least one argument.");const Te=_e[0];if(("to-boolean"===Te||"to-string"===Te)&&2!==_e.length)return be.error("Expected one argument.");const Pe=Vr[Te],pt=[];for(let Te=1;Te<_e.length;Te++){const Pe=be.parse(_e[Te],Te,Ha);if(!Pe)return null;pt.push(Pe)}return new Gr(Pe,pt)}evaluate(_e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(_e));if("color"===this.type.kind){let be,Te;for(const Pe of this.args){if(be=Pe.evaluate(_e),Te=null,be instanceof mr)return be;if("string"==typeof be){const Te=_e.parseColor(be);if(Te)return Te}else if(Array.isArray(be)&&(Te=be.length<3||be.length>4?`Invalid rbga value ${JSON.stringify(be)}: expected an array containing either three or four numeric values.`:we(be[0],be[1],be[2],be[3]),!Te))return new mr(be[0]/255,be[1]/255,be[2]/255,be[3])}throw new Ar(Te||`Could not parse color from value '${"string"==typeof be?be:String(JSON.stringify(be))}'`)}if("number"===this.type.kind){let be=null;for(const Te of this.args){if(be=Te.evaluate(_e),null===be)return 0;const Pe=Number(be);if(!isNaN(Pe))return Pe}throw new Ar(`Could not convert ${JSON.stringify(be)} to number.`)}return"formatted"===this.type.kind?vr.fromString(ke(this.args[0].evaluate(_e))):"resolvedImage"===this.type.kind?Rr.fromString(ke(this.args[0].evaluate(_e))):ke(this.args[0].evaluate(_e))}eachChild(_e){this.args.forEach(_e)}outputDefined(){return this.args.every((_e=>_e.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new Or([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Nr(this.args[0]).serialize();const _e=[`to-${this.type.kind}`];return this.eachChild((be=>{_e.push(be.serialize())})),_e}}var Zr=Gr;const qr=["Unknown","Point","LineString","Polygon"];var Wr=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?qr[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const _e=this.featureDistanceData.center,be=this.featureDistanceData.scale,{x:Te,y:Pe}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(Te*be-_e[0])+this.featureDistanceData.bearing[1]*(Pe*be-_e[1])}return 0}parseColor(_e){let be=this._parseColorCache[_e];return be||(be=this._parseColorCache[_e]=mr.parse(_e)),be}};class $r{constructor(_e,be,Te,Pe){this.name=_e,this.type=be,this._evaluate=Te,this.args=Pe}evaluate(_e){return this._evaluate(_e,this.args)}eachChild(_e){this.args.forEach(_e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((_e=>_e.serialize())))}static parse(_e,be){const Te=_e[0],Pe=$r.definitions[Te];if(!Pe)return be.error(`Unknown expression "${Te}". If you wanted a literal array, use ["literal", [...]].`,0);const pt=Array.isArray(Pe)?Pe[0]:Pe.type,vt=Array.isArray(Pe)?[[Pe[1],Pe[2]]]:Pe.overloads,xt=vt.filter((([be])=>!Array.isArray(be)||be.length===_e.length-1));let Tt=null;for(const[Pe,vt]of xt){Tt=new vo(be.registry,be.path,null,be.scope);const xt=[];let It=!1;for(let be=1;be<_e.length;be++){const Te=_e[be],pt=Array.isArray(Pe)?Pe[be-1]:Pe.type,vt=Tt.parse(Te,1+xt.length,pt);if(!vt){It=!0;break}xt.push(vt)}if(!It)if(Array.isArray(Pe)&&Pe.length!==xt.length)Tt.error(`Expected ${Pe.length} arguments, but found ${xt.length} instead.`);else{for(let _e=0;_e<xt.length;_e++){const be=Array.isArray(Pe)?Pe[_e]:Pe.type,Te=xt[_e];Tt.concat(_e+1).checkSubtype(be,Te.type)}if(0===Tt.errors.length)return new $r(Te,pt,vt,xt)}}if(1===xt.length)be.errors.push(...Tt.errors);else{const Te=(xt.length?xt:vt).map((([_e])=>{return be=_e,Array.isArray(be)?`(${be.map(ue).join(", ")})`:`(${ue(be.type)}...)`;var be})).join(" | "),Pe=[];for(let Te=1;Te<_e.length;Te++){const pt=be.parse(_e[Te],1+Pe.length);if(!pt)return null;Pe.push(ue(pt.type))}be.error(`Expected arguments of type ${Te}, but found (${Pe.join(", ")}) instead.`)}return null}static register(_e,be){$r.definitions=be;for(const Te in be)_e[Te]=$r}}var Xr=$r;class Kr{constructor(_e,be,Te){this.type=$a,this.locale=Te,this.caseSensitive=_e,this.diacriticSensitive=be}static parse(_e,be){if(2!==_e.length)return be.error("Expected one argument.");const Te=_e[1];if("object"!=typeof Te||Array.isArray(Te))return be.error("Collator options argument must be an object.");const Pe=be.parse(void 0!==Te["case-sensitive"]&&Te["case-sensitive"],1,ja);if(!Pe)return null;const pt=be.parse(void 0!==Te["diacritic-sensitive"]&&Te["diacritic-sensitive"],1,ja);if(!pt)return null;let vt=null;return Te.locale&&(vt=be.parse(Te.locale,1,za),!vt)?null:new Kr(Pe,pt,vt)}evaluate(_e){return new yr(this.caseSensitive.evaluate(_e),this.diacriticSensitive.evaluate(_e),this.locale?this.locale.evaluate(_e):null)}eachChild(_e){_e(this.caseSensitive),_e(this.diacriticSensitive),this.locale&&_e(this.locale)}outputDefined(){return!1}serialize(){const _e={};return _e["case-sensitive"]=this.caseSensitive.serialize(),_e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(_e.locale=this.locale.serialize()),["collator",_e]}}const Jr=8192;function qe(_e,be){_e[0]=Math.min(_e[0],be[0]),_e[1]=Math.min(_e[1],be[1]),_e[2]=Math.max(_e[2],be[0]),_e[3]=Math.max(_e[3],be[1])}function Ne(_e,be){return!(_e[0]<=be[0]||_e[2]>=be[2]||_e[1]<=be[1]||_e[3]>=be[3])}function Ge(_e,be){const Te=(180+_e[0])/360,Pe=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_e[1]*Math.PI/360)))/360,pt=Math.pow(2,be.z);return[Math.round(Te*pt*Jr),Math.round(Pe*pt*Jr)]}function Ze(_e,be,Te){const Pe=_e[0]-be[0],pt=_e[1]-be[1],vt=_e[0]-Te[0],xt=_e[1]-Te[1];return Pe*xt-vt*pt==0&&Pe*vt<=0&&pt*xt<=0}function Xe(_e,be){let Te=!1;for(let xt=0,Tt=be.length;xt<Tt;xt++){const Tt=be[xt];for(let be=0,xt=Tt.length;be<xt-1;be++){if(Ze(_e,Tt[be],Tt[be+1]))return!1;(pt=Tt[be])[1]>(Pe=_e)[1]!=(vt=Tt[be+1])[1]>Pe[1]&&Pe[0]<(vt[0]-pt[0])*(Pe[1]-pt[1])/(vt[1]-pt[1])+pt[0]&&(Te=!Te)}}var Pe,pt,vt;return Te}function Ke(_e,be){for(let Te=0;Te<be.length;Te++)if(Xe(_e,be[Te]))return!0;return!1}function He(_e,be,Te,Pe){const pt=Pe[0]-Te[0],vt=Pe[1]-Te[1],xt=(_e[0]-Te[0])*vt-pt*(_e[1]-Te[1]),Tt=(be[0]-Te[0])*vt-pt*(be[1]-Te[1]);return xt>0&&Tt<0||xt<0&&Tt>0}function Ye(_e,be,Te){for(const Mt of Te)for(let Te=0;Te<Mt.length-1;++Te)if(0!=(Tt=[(xt=Mt[Te+1])[0]-(vt=Mt[Te])[0],xt[1]-vt[1]])[0]*(It=[(pt=be)[0]-(Pe=_e)[0],pt[1]-Pe[1]])[1]-Tt[1]*It[0]&&He(Pe,pt,vt,xt)&&He(vt,xt,Pe,pt))return!0;var Pe,pt,vt,xt,Tt,It;return!1}function We(_e,be){for(let Te=0;Te<_e.length;++Te)if(!Xe(_e[Te],be))return!1;for(let Te=0;Te<_e.length-1;++Te)if(Ye(_e[Te],_e[Te+1],be))return!1;return!0}function Je(_e,be){for(let Te=0;Te<be.length;Te++)if(We(_e,be[Te]))return!0;return!1}function Qe(_e,be,Te){const Pe=[];for(let pt=0;pt<_e.length;pt++){const vt=[];for(let Pe=0;Pe<_e[pt].length;Pe++){const xt=Ge(_e[pt][Pe],Te);qe(be,xt),vt.push(xt)}Pe.push(vt)}return Pe}function tr(_e,be,Te){const Pe=[];for(let pt=0;pt<_e.length;pt++){const vt=Qe(_e[pt],be,Te);Pe.push(vt)}return Pe}function er(_e,be,Te,Pe){if(_e[0]<Te[0]||_e[0]>Te[2]){const be=.5*Pe;let pt=_e[0]-Te[0]>be?-Pe:Te[0]-_e[0]>be?Pe:0;0===pt&&(pt=_e[0]-Te[2]>be?-Pe:Te[2]-_e[0]>be?Pe:0),_e[0]+=pt}qe(be,_e)}function rr(_e,be,Te,Pe){const pt=Math.pow(2,Pe.z)*Jr,vt=[Pe.x*Jr,Pe.y*Jr],xt=[];if(!_e)return xt;for(const Pe of _e)for(const _e of Pe){const Pe=[_e.x+vt[0],_e.y+vt[1]];er(Pe,be,Te,pt),xt.push(Pe)}return xt}function nr(_e,be,Te,Pe){const pt=Math.pow(2,Pe.z)*Jr,vt=[Pe.x*Jr,Pe.y*Jr],xt=[];if(!_e)return xt;for(const Te of _e){const _e=[];for(const Pe of Te){const Te=[Pe.x+vt[0],Pe.y+vt[1]];qe(be,Te),_e.push(Te)}xt.push(_e)}if(be[2]-be[0]<=pt/2){(Tt=be)[0]=Tt[1]=1/0,Tt[2]=Tt[3]=-1/0;for(const _e of xt)for(const Pe of _e)er(Pe,be,Te,pt)}var Tt;return xt}class Yr{constructor(_e,be){this.type=ja,this.geojson=_e,this.geometries=be}static parse(_e,be){if(2!==_e.length)return be.error(`'within' expression requires exactly one argument, but found ${_e.length-1} instead.`);if(Ae(_e[1])){const be=_e[1];if("FeatureCollection"===be.type)for(let _e=0;_e<be.features.length;++_e){const Te=be.features[_e].geometry.type;if("Polygon"===Te||"MultiPolygon"===Te)return new Yr(be,be.features[_e].geometry)}else if("Feature"===be.type){const _e=be.geometry.type;if("Polygon"===_e||"MultiPolygon"===_e)return new Yr(be,be.geometry)}else if("Polygon"===be.type||"MultiPolygon"===be.type)return new Yr(be,be)}return be.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(_e){if(null!=_e.geometry()&&null!=_e.canonicalID()){if("Point"===_e.geometryType())return function(_e,be){const Te=[1/0,1/0,-1/0,-1/0],Pe=[1/0,1/0,-1/0,-1/0],pt=_e.canonicalID();if(!pt)return!1;if("Polygon"===be.type){const vt=Qe(be.coordinates,Pe,pt),xt=rr(_e.geometry(),Te,Pe,pt);if(!Ne(Te,Pe))return!1;for(const _e of xt)if(!Xe(_e,vt))return!1}if("MultiPolygon"===be.type){const vt=tr(be.coordinates,Pe,pt),xt=rr(_e.geometry(),Te,Pe,pt);if(!Ne(Te,Pe))return!1;for(const _e of xt)if(!Ke(_e,vt))return!1}return!0}(_e,this.geometries);if("LineString"===_e.geometryType())return function(_e,be){const Te=[1/0,1/0,-1/0,-1/0],Pe=[1/0,1/0,-1/0,-1/0],pt=_e.canonicalID();if(!pt)return!1;if("Polygon"===be.type){const vt=Qe(be.coordinates,Pe,pt),xt=nr(_e.geometry(),Te,Pe,pt);if(!Ne(Te,Pe))return!1;for(const _e of xt)if(!We(_e,vt))return!1}if("MultiPolygon"===be.type){const vt=tr(be.coordinates,Pe,pt),xt=nr(_e.geometry(),Te,Pe,pt);if(!Ne(Te,Pe))return!1;for(const _e of xt)if(!Je(_e,vt))return!1}return!0}(_e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Qr=Yr;function ar(_e){if(_e instanceof Xr){if("get"===_e.name&&1===_e.args.length)return!1;if("feature-state"===_e.name)return!1;if("has"===_e.name&&1===_e.args.length)return!1;if("properties"===_e.name||"geometry-type"===_e.name||"id"===_e.name)return!1;if(/^filter-/.test(_e.name))return!1}if(_e instanceof Qr)return!1;let be=!0;return _e.eachChild((_e=>{be&&!ar(_e)&&(be=!1)})),be}function or(_e){if(_e instanceof Xr&&"feature-state"===_e.name)return!1;let be=!0;return _e.eachChild((_e=>{be&&!or(_e)&&(be=!1)})),be}function lr(_e,be){if(_e instanceof Xr&&be.indexOf(_e.name)>=0)return!1;let Te=!0;return _e.eachChild((_e=>{Te&&!lr(_e,be)&&(Te=!1)})),Te}class no{constructor(_e,be){this.type=be.type,this.name=_e,this.boundExpression=be}static parse(_e,be){if(2!==_e.length||"string"!=typeof _e[1])return be.error("'var' expression requires exactly one string literal argument.");const Te=_e[1];return be.scope.has(Te)?new no(Te,be.scope.get(Te)):be.error(`Unknown variable "${Te}". Make sure "${Te}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(_e){return this.boundExpression.evaluate(_e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var so=no;class go{constructor(_e,be=[],Te,Pe=new La,pt=[]){this.registry=_e,this.path=be,this.key=be.map((_e=>`[${_e}]`)).join(""),this.scope=Pe,this.errors=pt,this.expectedType=Te}parse(_e,be,Te,Pe,pt={}){return be?this.concat(be,Te,Pe)._parse(_e,pt):this._parse(_e,pt)}_parse(_e,be){function r(_e,be,Te){return"assert"===Te?new Fr(be,[_e]):"coerce"===Te?new Zr(be,[_e]):_e}if(null!==_e&&"string"!=typeof _e&&"boolean"!=typeof _e&&"number"!=typeof _e||(_e=["literal",_e]),Array.isArray(_e)){if(0===_e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const Te=_e[0];if("string"!=typeof Te)return this.error(`Expression name must be a string, but found ${typeof Te} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const Pe=this.registry[Te];if(Pe){let Te=Pe.parse(_e,this);if(!Te)return null;if(this.expectedType){const _e=this.expectedType,Pe=Te.type;if("string"!==_e.kind&&"number"!==_e.kind&&"boolean"!==_e.kind&&"object"!==_e.kind&&"array"!==_e.kind||"value"!==Pe.kind)if("color"!==_e.kind&&"formatted"!==_e.kind&&"resolvedImage"!==_e.kind||"value"!==Pe.kind&&"string"!==Pe.kind){if(this.checkSubtype(_e,Pe))return null}else Te=r(Te,_e,be.typeAnnotation||"coerce");else Te=r(Te,_e,be.typeAnnotation||"assert")}if(!(Te instanceof Sr)&&"resolvedImage"!==Te.type.kind&&fr(Te)){const be=new Wr;try{Te=new Sr(Te.type,Te.evaluate(be))}catch(_e){return this.error(_e.message),null}}return Te}return this.error(`Unknown expression "${Te}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===_e?"'undefined' value invalid. Use null instead.":"object"==typeof _e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof _e} instead.`)}concat(_e,be,Te){const Pe="number"==typeof _e?this.path.concat(_e):this.path,pt=Te?this.scope.concat(Te):this.scope;return new go(this.registry,Pe,be||null,pt,this.errors)}error(_e,...be){const Te=`${this.key}${be.map((_e=>`[${_e}]`)).join("")}`;this.errors.push(new ka(Te,_e))}checkSubtype(_e,be){const Te=he(_e,be);return Te&&this.error(Te),Te}}var vo=go;function fr(_e){if(_e instanceof so)return fr(_e.boundExpression);if(_e instanceof Xr&&"error"===_e.name)return!1;if(_e instanceof Kr)return!1;if(_e instanceof Qr)return!1;const be=_e instanceof Zr||_e instanceof Fr;let Te=!0;return _e.eachChild((_e=>{Te=be?Te&&fr(_e):Te&&_e instanceof Sr})),!!Te&&ar(_e)&&lr(_e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function dr(_e,be){const Te=_e.length-1;let Pe,pt,vt=0,xt=Te,Tt=0;for(;vt<=xt;)if(Tt=Math.floor((vt+xt)/2),Pe=_e[Tt],pt=_e[Tt+1],Pe<=be){if(Tt===Te||be<pt)return Tt;vt=Tt+1}else{if(!(Pe>be))throw new Ar("Input is not a number.");xt=Tt-1}return 0}class xo{constructor(_e,be,Te){this.type=_e,this.input=be,this.labels=[],this.outputs=[];for(const[_e,be]of Te)this.labels.push(_e),this.outputs.push(be)}static parse(_e,be){if(_e.length-1<4)return be.error(`Expected at least 4 arguments, but found only ${_e.length-1}.`);if((_e.length-1)%2!=0)return be.error("Expected an even number of arguments.");const Te=be.parse(_e[1],1,Ba);if(!Te)return null;const Pe=[];let pt=null;be.expectedType&&"value"!==be.expectedType.kind&&(pt=be.expectedType);for(let Te=1;Te<_e.length;Te+=2){const vt=1===Te?-1/0:_e[Te],xt=_e[Te+1],Tt=Te,It=Te+1;if("number"!=typeof vt)return be.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Tt);if(Pe.length&&Pe[Pe.length-1][0]>=vt)return be.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Tt);const Mt=be.parse(xt,It,pt);if(!Mt)return null;pt=pt||Mt.type,Pe.push([vt,Mt])}return new xo(pt,Te,Pe)}evaluate(_e){const be=this.labels,Te=this.outputs;if(1===be.length)return Te[0].evaluate(_e);const Pe=this.input.evaluate(_e);if(Pe<=be[0])return Te[0].evaluate(_e);const pt=be.length;return Pe>=be[pt-1]?Te[pt-1].evaluate(_e):Te[dr(be,Pe)].evaluate(_e)}eachChild(_e){_e(this.input);for(const be of this.outputs)_e(be)}outputDefined(){return this.outputs.every((_e=>_e.outputDefined()))}serialize(){const _e=["step",this.input.serialize()];for(let be=0;be<this.labels.length;be++)be>0&&_e.push(this.labels[be]),_e.push(this.outputs[be].serialize());return _e}}var bo=xo;function gr(_e,be,Te){return _e*(1-Te)+be*Te}var Ao=Object.freeze({__proto__:null,number:gr,color:function(_e,be,Te){return new mr(gr(_e.r,be.r,Te),gr(_e.g,be.g,Te),gr(_e.b,be.b,Te),gr(_e.a,be.a,Te))},array:function(_e,be,Te){return _e.map(((_e,Pe)=>gr(_e,be[Pe],Te)))}});const Po=.95047,Uo=1.08883,_s=4/29,vs=6/29,Rs=3*vs*vs,xs=Math.PI/180,bs=180/Math.PI;function Ir(_e){return _e>.008856451679035631?Math.pow(_e,1/3):_e/Rs+_s}function Mr(_e){return _e>vs?_e*_e*_e:Rs*(_e-_s)}function zr(_e){return 255*(_e<=.0031308?12.92*_e:1.055*Math.pow(_e,1/2.4)-.055)}function Tr(_e){return(_e/=255)<=.04045?_e/12.92:Math.pow((_e+.055)/1.055,2.4)}function Br(_e){const be=Tr(_e.r),Te=Tr(_e.g),Pe=Tr(_e.b),pt=Ir((.4124564*be+.3575761*Te+.1804375*Pe)/Po),vt=Ir((.2126729*be+.7151522*Te+.072175*Pe)/1);return{l:116*vt-16,a:500*(pt-vt),b:200*(vt-Ir((.0193339*be+.119192*Te+.9503041*Pe)/Uo)),alpha:_e.a}}function Er(_e){let be=(_e.l+16)/116,Te=isNaN(_e.a)?be:be+_e.a/500,Pe=isNaN(_e.b)?be:be-_e.b/200;return be=1*Mr(be),Te=Po*Mr(Te),Pe=Uo*Mr(Pe),new mr(zr(3.2404542*Te-1.5371385*be-.4985314*Pe),zr(-.969266*Te+1.8760108*be+.041556*Pe),zr(.0556434*Te-.2040259*be+1.0572252*Pe),_e.alpha)}function Cr(_e,be,Te){const Pe=be-_e;return _e+Te*(Pe>180||Pe<-180?Pe-360*Math.round(Pe/360):Pe)}const ws={forward:Br,reverse:Er,interpolate:function(_e,be,Te){return{l:gr(_e.l,be.l,Te),a:gr(_e.a,be.a,Te),b:gr(_e.b,be.b,Te),alpha:gr(_e.alpha,be.alpha,Te)}}},Es={forward:function(_e){const{l:be,a:Te,b:Pe}=Br(_e),pt=Math.atan2(Pe,Te)*bs;return{h:pt<0?pt+360:pt,c:Math.sqrt(Te*Te+Pe*Pe),l:be,alpha:_e.a}},reverse:function(_e){const be=_e.h*xs,Te=_e.c;return Er({l:_e.l,a:Math.cos(be)*Te,b:Math.sin(be)*Te,alpha:_e.alpha})},interpolate:function(_e,be,Te){return{h:Cr(_e.h,be.h,Te),c:gr(_e.c,be.c,Te),l:gr(_e.l,be.l,Te),alpha:gr(_e.alpha,be.alpha,Te)}}};var Cs=Object.freeze({__proto__:null,lab:ws,hcl:Es});class As{constructor(_e,be,Te,Pe,pt){this.type=_e,this.operator=be,this.interpolation=Te,this.input=Pe,this.labels=[],this.outputs=[];for(const[_e,be]of pt)this.labels.push(_e),this.outputs.push(be)}static interpolationFactor(_e,be,Pe,pt){let vt=0;if("exponential"===_e.name)vt=Lr(be,_e.base,Pe,pt);else if("linear"===_e.name)vt=Lr(be,1,Pe,pt);else if("cubic-bezier"===_e.name){const xt=_e.controlPoints;vt=new Te(xt[0],xt[1],xt[2],xt[3]).solve(Lr(be,1,Pe,pt))}return vt}static parse(_e,be){let[Te,Pe,pt,...vt]=_e;if(!Array.isArray(Pe)||0===Pe.length)return be.error("Expected an interpolation type expression.",1);if("linear"===Pe[0])Pe={name:"linear"};else if("exponential"===Pe[0]){const _e=Pe[1];if("number"!=typeof _e)return be.error("Exponential interpolation requires a numeric base.",1,1);Pe={name:"exponential",base:_e}}else{if("cubic-bezier"!==Pe[0])return be.error(`Unknown interpolation type ${String(Pe[0])}`,1,0);{const _e=Pe.slice(1);if(4!==_e.length||_e.some((_e=>"number"!=typeof _e||_e<0||_e>1)))return be.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);Pe={name:"cubic-bezier",controlPoints:_e}}}if(_e.length-1<4)return be.error(`Expected at least 4 arguments, but found only ${_e.length-1}.`);if((_e.length-1)%2!=0)return be.error("Expected an even number of arguments.");if(pt=be.parse(pt,2,Ba),!pt)return null;const xt=[];let Tt=null;"interpolate-hcl"===Te||"interpolate-lab"===Te?Tt=Na:be.expectedType&&"value"!==be.expectedType.kind&&(Tt=be.expectedType);for(let _e=0;_e<vt.length;_e+=2){const Te=vt[_e],Pe=vt[_e+1],pt=_e+3,It=_e+4;if("number"!=typeof Te)return be.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',pt);if(xt.length&&xt[xt.length-1][0]>=Te)return be.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',pt);const Mt=be.parse(Pe,It,Tt);if(!Mt)return null;Tt=Tt||Mt.type,xt.push([Te,Mt])}return"number"===Tt.kind||"color"===Tt.kind||"array"===Tt.kind&&"number"===Tt.itemType.kind&&"number"==typeof Tt.N?new As(Tt,Te,Pe,pt,xt):be.error(`Type ${ue(Tt)} is not interpolatable.`)}evaluate(_e){const be=this.labels,Te=this.outputs;if(1===be.length)return Te[0].evaluate(_e);const Pe=this.input.evaluate(_e);if(Pe<=be[0])return Te[0].evaluate(_e);const pt=be.length;if(Pe>=be[pt-1])return Te[pt-1].evaluate(_e);const vt=dr(be,Pe),xt=As.interpolationFactor(this.interpolation,Pe,be[vt],be[vt+1]),Tt=Te[vt].evaluate(_e),It=Te[vt+1].evaluate(_e);return"interpolate"===this.operator?Ao[this.type.kind.toLowerCase()](Tt,It,xt):"interpolate-hcl"===this.operator?Es.reverse(Es.interpolate(Es.forward(Tt),Es.forward(It),xt)):ws.reverse(ws.interpolate(ws.forward(Tt),ws.forward(It),xt))}eachChild(_e){_e(this.input);for(const be of this.outputs)_e(be)}outputDefined(){return this.outputs.every((_e=>_e.outputDefined()))}serialize(){let _e;_e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const be=[this.operator,_e,this.input.serialize()];for(let _e=0;_e<this.labels.length;_e++)be.push(this.labels[_e],this.outputs[_e].serialize());return be}}function Lr(_e,be,Te,Pe){const pt=Pe-Te,vt=_e-Te;return 0===pt?0:1===be?vt/pt:(Math.pow(be,vt)-1)/(Math.pow(be,pt)-1)}var Ts=As;class Ds{constructor(_e,be){this.type=_e,this.args=be}static parse(_e,be){if(_e.length<2)return be.error("Expectected at least one argument.");let Te=null;const Pe=be.expectedType;Pe&&"value"!==Pe.kind&&(Te=Pe);const pt=[];for(const Pe of _e.slice(1)){const _e=be.parse(Pe,1+pt.length,Te,void 0,{typeAnnotation:"omit"});if(!_e)return null;Te=Te||_e.type,pt.push(_e)}const vt=Pe&&pt.some((_e=>he(Pe,_e.type)));return new Ds(vt?Ha:Te,pt)}evaluate(_e){let be,Te=null,Pe=0;for(const pt of this.args){if(Pe++,Te=pt.evaluate(_e),Te&&Te instanceof Rr&&!Te.available&&(be||(be=Te),Te=null,Pe===this.args.length))return be;if(null!==Te)break}return Te}eachChild(_e){this.args.forEach(_e)}outputDefined(){return this.args.every((_e=>_e.outputDefined()))}serialize(){const _e=["coalesce"];return this.eachChild((be=>{_e.push(be.serialize())})),_e}}var Ps=Ds;class Is{constructor(_e,be){this.type=be.type,this.bindings=[].concat(_e),this.result=be}evaluate(_e){return this.result.evaluate(_e)}eachChild(_e){for(const be of this.bindings)_e(be[1]);_e(this.result)}static parse(_e,be){if(_e.length<4)return be.error(`Expected at least 3 arguments, but found ${_e.length-1} instead.`);const Te=[];for(let Pe=1;Pe<_e.length-1;Pe+=2){const pt=_e[Pe];if("string"!=typeof pt)return be.error(`Expected string, but found ${typeof pt} instead.`,Pe);if(/[^a-zA-Z0-9_]/.test(pt))return be.error("Variable names must contain only alphanumeric characters or '_'.",Pe);const vt=be.parse(_e[Pe+1],Pe+1);if(!vt)return null;Te.push([pt,vt])}const Pe=be.parse(_e[_e.length-1],_e.length-1,be.expectedType,Te);return Pe?new Is(Te,Pe):null}outputDefined(){return this.result.outputDefined()}serialize(){const _e=["let"];for(const[be,Te]of this.bindings)_e.push(be,Te.serialize());return _e.push(this.result.serialize()),_e}}var Ls=Is;class Fs{constructor(_e,be,Te){this.type=_e,this.index=be,this.input=Te}static parse(_e,be){if(3!==_e.length)return be.error(`Expected 2 arguments, but found ${_e.length-1} instead.`);const Te=be.parse(_e[1],1,Ba),Pe=be.parse(_e[2],2,le(be.expectedType||Ha));return Te&&Pe?new Fs(Pe.type.itemType,Te,Pe):null}evaluate(_e){const be=this.index.evaluate(_e),Te=this.input.evaluate(_e);if(be<0)throw new Ar(`Array index out of bounds: ${be} < 0.`);if(be>=Te.length)throw new Ar(`Array index out of bounds: ${be} > ${Te.length-1}.`);if(be!==Math.floor(be))throw new Ar(`Array index must be an integer, but found ${be} instead.`);return Te[be]}eachChild(_e){_e(this.index),_e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Bs=Fs;class Os{constructor(_e,be){this.type=ja,this.needle=_e,this.haystack=be}static parse(_e,be){if(3!==_e.length)return be.error(`Expected 2 arguments, but found ${_e.length-1} instead.`);const Te=be.parse(_e[1],1,Ha),Pe=be.parse(_e[2],2,Ha);return Te&&Pe?pe(Te.type,[ja,za,Ba,Fa,Ha])?new Os(Te,Pe):be.error(`Expected first argument to be of type boolean, string, number or null, but found ${ue(Te.type)} instead`):null}evaluate(_e){const be=this.needle.evaluate(_e),Te=this.haystack.evaluate(_e);if(null==Te)return!1;if(!fe(be,["boolean","string","number","null"]))throw new Ar(`Expected first argument to be of type boolean, string, number or null, but found ${ue(Se(be))} instead.`);if(!fe(Te,["string","array"]))throw new Ar(`Expected second argument to be of type array or string, but found ${ue(Se(Te))} instead.`);return Te.indexOf(be)>=0}eachChild(_e){_e(this.needle),_e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var js=Os;class Ns{constructor(_e,be,Te){this.type=Ba,this.needle=_e,this.haystack=be,this.fromIndex=Te}static parse(_e,be){if(_e.length<=2||_e.length>=5)return be.error(`Expected 3 or 4 arguments, but found ${_e.length-1} instead.`);const Te=be.parse(_e[1],1,Ha),Pe=be.parse(_e[2],2,Ha);if(!Te||!Pe)return null;if(!pe(Te.type,[ja,za,Ba,Fa,Ha]))return be.error(`Expected first argument to be of type boolean, string, number or null, but found ${ue(Te.type)} instead`);if(4===_e.length){const pt=be.parse(_e[3],3,Ba);return pt?new Ns(Te,Pe,pt):null}return new Ns(Te,Pe)}evaluate(_e){const be=this.needle.evaluate(_e),Te=this.haystack.evaluate(_e);if(!fe(be,["boolean","string","number","null"]))throw new Ar(`Expected first argument to be of type boolean, string, number or null, but found ${ue(Se(be))} instead.`);if(!fe(Te,["string","array"]))throw new Ar(`Expected second argument to be of type array or string, but found ${ue(Se(Te))} instead.`);if(this.fromIndex){const Pe=this.fromIndex.evaluate(_e);return Te.indexOf(be,Pe)}return Te.indexOf(be)}eachChild(_e){_e(this.needle),_e(this.haystack),this.fromIndex&&_e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const _e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),_e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Vs=Ns;class Us{constructor(_e,be,Te,Pe,pt,vt){this.inputType=_e,this.type=be,this.input=Te,this.cases=Pe,this.outputs=pt,this.otherwise=vt}static parse(_e,be){if(_e.length<5)return be.error(`Expected at least 4 arguments, but found only ${_e.length-1}.`);if(_e.length%2!=1)return be.error("Expected an even number of arguments.");let Te,Pe;be.expectedType&&"value"!==be.expectedType.kind&&(Pe=be.expectedType);const pt={},vt=[];for(let xt=2;xt<_e.length-1;xt+=2){let Tt=_e[xt];const It=_e[xt+1];Array.isArray(Tt)||(Tt=[Tt]);const Mt=be.concat(xt);if(0===Tt.length)return Mt.error("Expected at least one branch label.");for(const _e of Tt){if("number"!=typeof _e&&"string"!=typeof _e)return Mt.error("Branch labels must be numbers or strings.");if("number"==typeof _e&&Math.abs(_e)>Number.MAX_SAFE_INTEGER)return Mt.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof _e&&Math.floor(_e)!==_e)return Mt.error("Numeric branch labels must be integer values.");if(Te){if(Mt.checkSubtype(Te,Se(_e)))return null}else Te=Se(_e);if(void 0!==pt[String(_e)])return Mt.error("Branch labels must be unique.");pt[String(_e)]=vt.length}const Lt=be.parse(It,xt,Pe);if(!Lt)return null;Pe=Pe||Lt.type,vt.push(Lt)}const xt=be.parse(_e[1],1,Ha);if(!xt)return null;const Tt=be.parse(_e[_e.length-1],_e.length-1,Pe);return Tt?"value"!==xt.type.kind&&be.concat(1).checkSubtype(Te,xt.type)?null:new Us(Te,Pe,xt,pt,vt,Tt):null}evaluate(_e){const be=this.input.evaluate(_e);return(Se(be)===this.inputType&&this.outputs[this.cases[be]]||this.otherwise).evaluate(_e)}eachChild(_e){_e(this.input),this.outputs.forEach(_e),_e(this.otherwise)}outputDefined(){return this.outputs.every((_e=>_e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const _e=["match",this.input.serialize()],be=Object.keys(this.cases).sort(),Te=[],Pe={};for(const _e of be){const be=Pe[this.cases[_e]];void 0===be?(Pe[this.cases[_e]]=Te.length,Te.push([this.cases[_e],[_e]])):Te[be][1].push(_e)}const i=_e=>"number"===this.inputType.kind?Number(_e):_e;for(const[be,Pe]of Te)_e.push(1===Pe.length?i(Pe[0]):Pe.map(i)),_e.push(this.outputs[be].serialize());return _e.push(this.otherwise.serialize()),_e}}var Zs=Us;class qs{constructor(_e,be,Te){this.type=_e,this.branches=be,this.otherwise=Te}static parse(_e,be){if(_e.length<4)return be.error(`Expected at least 3 arguments, but found only ${_e.length-1}.`);if(_e.length%2!=0)return be.error("Expected an odd number of arguments.");let Te;be.expectedType&&"value"!==be.expectedType.kind&&(Te=be.expectedType);const Pe=[];for(let pt=1;pt<_e.length-1;pt+=2){const vt=be.parse(_e[pt],pt,ja);if(!vt)return null;const xt=be.parse(_e[pt+1],pt+1,Te);if(!xt)return null;Pe.push([vt,xt]),Te=Te||xt.type}const pt=be.parse(_e[_e.length-1],_e.length-1,Te);return pt?new qs(Te,Pe,pt):null}evaluate(_e){for(const[be,Te]of this.branches)if(be.evaluate(_e))return Te.evaluate(_e);return this.otherwise.evaluate(_e)}eachChild(_e){for(const[be,Te]of this.branches)_e(be),_e(Te);_e(this.otherwise)}outputDefined(){return this.branches.every((([_e,be])=>be.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const _e=["case"];return this.eachChild((be=>{_e.push(be.serialize())})),_e}}var Ws=qs;class $s{constructor(_e,be,Te,Pe){this.type=_e,this.input=be,this.beginIndex=Te,this.endIndex=Pe}static parse(_e,be){if(_e.length<=2||_e.length>=5)return be.error(`Expected 3 or 4 arguments, but found ${_e.length-1} instead.`);const Te=be.parse(_e[1],1,Ha),Pe=be.parse(_e[2],2,Ba);if(!Te||!Pe)return null;if(!pe(Te.type,[le(Ha),za,Ha]))return be.error(`Expected first argument to be of type array or string, but found ${ue(Te.type)} instead`);if(4===_e.length){const pt=be.parse(_e[3],3,Ba);return pt?new $s(Te.type,Te,Pe,pt):null}return new $s(Te.type,Te,Pe)}evaluate(_e){const be=this.input.evaluate(_e),Te=this.beginIndex.evaluate(_e);if(!fe(be,["string","array"]))throw new Ar(`Expected first argument to be of type array or string, but found ${ue(Se(be))} instead.`);if(this.endIndex){const Pe=this.endIndex.evaluate(_e);return be.slice(Te,Pe)}return be.slice(Te)}eachChild(_e){_e(this.input),_e(this.beginIndex),this.endIndex&&_e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const _e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),_e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Xs=$s;function en(_e,be){return"=="===_e||"!="===_e?"boolean"===be.kind||"string"===be.kind||"number"===be.kind||"null"===be.kind||"value"===be.kind:"string"===be.kind||"number"===be.kind||"value"===be.kind}function rn(_e,be,Te,Pe){return 0===Pe.compare(be,Te)}function nn(_e,be,Te){const Pe="=="!==_e&&"!="!==_e;return class pt{constructor(_e,be,Te){this.type=ja,this.lhs=_e,this.rhs=be,this.collator=Te,this.hasUntypedArgument="value"===_e.type.kind||"value"===be.type.kind}static parse(_e,be){if(3!==_e.length&&4!==_e.length)return be.error("Expected two or three arguments.");const Te=_e[0];let vt=be.parse(_e[1],1,Ha);if(!vt)return null;if(!en(Te,vt.type))return be.concat(1).error(`"${Te}" comparisons are not supported for type '${ue(vt.type)}'.`);let xt=be.parse(_e[2],2,Ha);if(!xt)return null;if(!en(Te,xt.type))return be.concat(2).error(`"${Te}" comparisons are not supported for type '${ue(xt.type)}'.`);if(vt.type.kind!==xt.type.kind&&"value"!==vt.type.kind&&"value"!==xt.type.kind)return be.error(`Cannot compare types '${ue(vt.type)}' and '${ue(xt.type)}'.`);Pe&&("value"===vt.type.kind&&"value"!==xt.type.kind?vt=new Fr(xt.type,[vt]):"value"!==vt.type.kind&&"value"===xt.type.kind&&(xt=new Fr(vt.type,[xt])));let Tt=null;if(4===_e.length){if("string"!==vt.type.kind&&"string"!==xt.type.kind&&"value"!==vt.type.kind&&"value"!==xt.type.kind)return be.error("Cannot use collator to compare non-string types.");if(Tt=be.parse(_e[3],3,$a),!Tt)return null}return new pt(vt,xt,Tt)}evaluate(pt){const vt=this.lhs.evaluate(pt),xt=this.rhs.evaluate(pt);if(Pe&&this.hasUntypedArgument){const be=Se(vt),Te=Se(xt);if(be.kind!==Te.kind||"string"!==be.kind&&"number"!==be.kind)throw new Ar(`Expected arguments for "${_e}" to be (string, string) or (number, number), but found (${be.kind}, ${Te.kind}) instead.`)}if(this.collator&&!Pe&&this.hasUntypedArgument){const _e=Se(vt),Te=Se(xt);if("string"!==_e.kind||"string"!==Te.kind)return be(pt,vt,xt)}return this.collator?Te(pt,vt,xt,this.collator.evaluate(pt)):be(pt,vt,xt)}eachChild(_e){_e(this.lhs),_e(this.rhs),this.collator&&_e(this.collator)}outputDefined(){return!0}serialize(){const be=[_e];return this.eachChild((_e=>{be.push(_e.serialize())})),be}}}const Ks=nn("==",(function(_e,be,Te){return be===Te}),rn),Js=nn("!=",(function(_e,be,Te){return be!==Te}),(function(_e,be,Te,Pe){return!rn(0,be,Te,Pe)})),Qs=nn("<",(function(_e,be,Te){return be<Te}),(function(_e,be,Te,Pe){return Pe.compare(be,Te)<0})),td=nn(">",(function(_e,be,Te){return be>Te}),(function(_e,be,Te,Pe){return Pe.compare(be,Te)>0})),id=nn("<=",(function(_e,be,Te){return be<=Te}),(function(_e,be,Te,Pe){return Pe.compare(be,Te)<=0})),sd=nn(">=",(function(_e,be,Te){return be>=Te}),(function(_e,be,Te,Pe){return Pe.compare(be,Te)>=0}));class dd{constructor(_e,be,Te,Pe,pt){this.type=za,this.number=_e,this.locale=be,this.currency=Te,this.minFractionDigits=Pe,this.maxFractionDigits=pt}static parse(_e,be){if(3!==_e.length)return be.error("Expected two arguments.");const Te=be.parse(_e[1],1,Ba);if(!Te)return null;const Pe=_e[2];if("object"!=typeof Pe||Array.isArray(Pe))return be.error("NumberFormat options argument must be an object.");let pt=null;if(Pe.locale&&(pt=be.parse(Pe.locale,1,za),!pt))return null;let vt=null;if(Pe.currency&&(vt=be.parse(Pe.currency,1,za),!vt))return null;let xt=null;if(Pe["min-fraction-digits"]&&(xt=be.parse(Pe["min-fraction-digits"],1,Ba),!xt))return null;let Tt=null;return Pe["max-fraction-digits"]&&(Tt=be.parse(Pe["max-fraction-digits"],1,Ba),!Tt)?null:new dd(Te,pt,vt,xt,Tt)}evaluate(_e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(_e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(_e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(_e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(_e):void 0}).format(this.number.evaluate(_e))}eachChild(_e){_e(this.number),this.locale&&_e(this.locale),this.currency&&_e(this.currency),this.minFractionDigits&&_e(this.minFractionDigits),this.maxFractionDigits&&_e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const _e={};return this.locale&&(_e.locale=this.locale.serialize()),this.currency&&(_e.currency=this.currency.serialize()),this.minFractionDigits&&(_e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(_e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),_e]}}class ld{constructor(_e){this.type=Ba,this.input=_e}static parse(_e,be){if(2!==_e.length)return be.error(`Expected 1 argument, but found ${_e.length-1} instead.`);const Te=be.parse(_e[1],1);return Te?"array"!==Te.type.kind&&"string"!==Te.type.kind&&"value"!==Te.type.kind?be.error(`Expected argument of type string or array, but found ${ue(Te.type)} instead.`):new ld(Te):null}evaluate(_e){const be=this.input.evaluate(_e);if("string"==typeof be)return be.length;if(Array.isArray(be))return be.length;throw new Ar(`Expected value to be of type string or array, but found ${ue(Se(be))} instead.`)}eachChild(_e){_e(this.input)}outputDefined(){return!1}serialize(){const _e=["length"];return this.eachChild((be=>{_e.push(be.serialize())})),_e}}const cd={"==":Ks,"!=":Js,">":td,"<":Qs,">=":sd,"<=":id,array:Fr,at:Bs,boolean:Fr,case:Ws,coalesce:Ps,collator:Kr,format:Or,image:Nr,in:js,"index-of":Vs,interpolate:Ts,"interpolate-hcl":Ts,"interpolate-lab":Ts,length:ld,let:Ls,literal:Sr,match:Zs,number:Fr,"number-format":dd,object:Fr,slice:Xs,step:bo,string:Fr,"to-boolean":Zr,"to-color":Zr,"to-number":Zr,"to-string":Zr,var:so,within:Qr};function dn(_e,[be,Te,Pe,pt]){be=be.evaluate(_e),Te=Te.evaluate(_e),Pe=Pe.evaluate(_e);const vt=pt?pt.evaluate(_e):1,xt=we(be,Te,Pe,vt);if(xt)throw new Ar(xt);return new mr(be/255*vt,Te/255*vt,Pe/255*vt,vt)}function yn(_e,be){return _e in be}function mn(_e,be){const Te=be[_e];return void 0===Te?null:Te}function gn(_e){return{type:_e}}Xr.register(cd,{error:[{kind:"error"},[za],(_e,[be])=>{throw new Ar(be.evaluate(_e))}],typeof:[za,[Ha],(_e,[be])=>ue(Se(be.evaluate(_e)))],"to-rgba":[le(Ba,4),[Na],(_e,[be])=>be.evaluate(_e).toArray()],rgb:[Na,[Ba,Ba,Ba],dn],rgba:[Na,[Ba,Ba,Ba,Ba],dn],has:{type:ja,overloads:[[[za],(_e,[be])=>yn(be.evaluate(_e),_e.properties())],[[za,Ga],(_e,[be,Te])=>yn(be.evaluate(_e),Te.evaluate(_e))]]},get:{type:Ha,overloads:[[[za],(_e,[be])=>mn(be.evaluate(_e),_e.properties())],[[za,Ga],(_e,[be,Te])=>mn(be.evaluate(_e),Te.evaluate(_e))]]},"feature-state":[Ha,[za],(_e,[be])=>mn(be.evaluate(_e),_e.featureState||{})],properties:[Ga,[],_e=>_e.properties()],"geometry-type":[za,[],_e=>_e.geometryType()],id:[Ha,[],_e=>_e.id()],zoom:[Ba,[],_e=>_e.globals.zoom],pitch:[Ba,[],_e=>_e.globals.pitch||0],"distance-from-center":[Ba,[],_e=>_e.distanceFromCenter()],"heatmap-density":[Ba,[],_e=>_e.globals.heatmapDensity||0],"line-progress":[Ba,[],_e=>_e.globals.lineProgress||0],"sky-radial-progress":[Ba,[],_e=>_e.globals.skyRadialProgress||0],accumulated:[Ha,[],_e=>void 0===_e.globals.accumulated?null:_e.globals.accumulated],"+":[Ba,gn(Ba),(_e,be)=>{let Te=0;for(const Pe of be)Te+=Pe.evaluate(_e);return Te}],"*":[Ba,gn(Ba),(_e,be)=>{let Te=1;for(const Pe of be)Te*=Pe.evaluate(_e);return Te}],"-":{type:Ba,overloads:[[[Ba,Ba],(_e,[be,Te])=>be.evaluate(_e)-Te.evaluate(_e)],[[Ba],(_e,[be])=>-be.evaluate(_e)]]},"/":[Ba,[Ba,Ba],(_e,[be,Te])=>be.evaluate(_e)/Te.evaluate(_e)],"%":[Ba,[Ba,Ba],(_e,[be,Te])=>be.evaluate(_e)%Te.evaluate(_e)],ln2:[Ba,[],()=>Math.LN2],pi:[Ba,[],()=>Math.PI],e:[Ba,[],()=>Math.E],"^":[Ba,[Ba,Ba],(_e,[be,Te])=>Math.pow(be.evaluate(_e),Te.evaluate(_e))],sqrt:[Ba,[Ba],(_e,[be])=>Math.sqrt(be.evaluate(_e))],log10:[Ba,[Ba],(_e,[be])=>Math.log(be.evaluate(_e))/Math.LN10],ln:[Ba,[Ba],(_e,[be])=>Math.log(be.evaluate(_e))],log2:[Ba,[Ba],(_e,[be])=>Math.log(be.evaluate(_e))/Math.LN2],sin:[Ba,[Ba],(_e,[be])=>Math.sin(be.evaluate(_e))],cos:[Ba,[Ba],(_e,[be])=>Math.cos(be.evaluate(_e))],tan:[Ba,[Ba],(_e,[be])=>Math.tan(be.evaluate(_e))],asin:[Ba,[Ba],(_e,[be])=>Math.asin(be.evaluate(_e))],acos:[Ba,[Ba],(_e,[be])=>Math.acos(be.evaluate(_e))],atan:[Ba,[Ba],(_e,[be])=>Math.atan(be.evaluate(_e))],min:[Ba,gn(Ba),(_e,be)=>Math.min(...be.map((be=>be.evaluate(_e))))],max:[Ba,gn(Ba),(_e,be)=>Math.max(...be.map((be=>be.evaluate(_e))))],abs:[Ba,[Ba],(_e,[be])=>Math.abs(be.evaluate(_e))],round:[Ba,[Ba],(_e,[be])=>{const Te=be.evaluate(_e);return Te<0?-Math.round(-Te):Math.round(Te)}],floor:[Ba,[Ba],(_e,[be])=>Math.floor(be.evaluate(_e))],ceil:[Ba,[Ba],(_e,[be])=>Math.ceil(be.evaluate(_e))],"filter-==":[ja,[za,Ha],(_e,[be,Te])=>_e.properties()[be.value]===Te.value],"filter-id-==":[ja,[Ha],(_e,[be])=>_e.id()===be.value],"filter-type-==":[ja,[za],(_e,[be])=>_e.geometryType()===be.value],"filter-<":[ja,[za,Ha],(_e,[be,Te])=>{const Pe=_e.properties()[be.value],pt=Te.value;return typeof Pe==typeof pt&&Pe<pt}],"filter-id-<":[ja,[Ha],(_e,[be])=>{const Te=_e.id(),Pe=be.value;return typeof Te==typeof Pe&&Te<Pe}],"filter->":[ja,[za,Ha],(_e,[be,Te])=>{const Pe=_e.properties()[be.value],pt=Te.value;return typeof Pe==typeof pt&&Pe>pt}],"filter-id->":[ja,[Ha],(_e,[be])=>{const Te=_e.id(),Pe=be.value;return typeof Te==typeof Pe&&Te>Pe}],"filter-<=":[ja,[za,Ha],(_e,[be,Te])=>{const Pe=_e.properties()[be.value],pt=Te.value;return typeof Pe==typeof pt&&Pe<=pt}],"filter-id-<=":[ja,[Ha],(_e,[be])=>{const Te=_e.id(),Pe=be.value;return typeof Te==typeof Pe&&Te<=Pe}],"filter->=":[ja,[za,Ha],(_e,[be,Te])=>{const Pe=_e.properties()[be.value],pt=Te.value;return typeof Pe==typeof pt&&Pe>=pt}],"filter-id->=":[ja,[Ha],(_e,[be])=>{const Te=_e.id(),Pe=be.value;return typeof Te==typeof Pe&&Te>=Pe}],"filter-has":[ja,[Ha],(_e,[be])=>be.value in _e.properties()],"filter-has-id":[ja,[],_e=>null!==_e.id()&&void 0!==_e.id()],"filter-type-in":[ja,[le(za)],(_e,[be])=>be.value.indexOf(_e.geometryType())>=0],"filter-id-in":[ja,[le(Ha)],(_e,[be])=>be.value.indexOf(_e.id())>=0],"filter-in-small":[ja,[za,le(Ha)],(_e,[be,Te])=>Te.value.indexOf(_e.properties()[be.value])>=0],"filter-in-large":[ja,[za,le(Ha)],(_e,[be,Te])=>function(_e,be,Te,Pe){for(;Te<=Pe;){const pt=Te+Pe>>1;if(be[pt]===_e)return!0;be[pt]>_e?Pe=pt-1:Te=pt+1}return!1}(_e.properties()[be.value],Te.value,0,Te.value.length-1)],all:{type:ja,overloads:[[[ja,ja],(_e,[be,Te])=>be.evaluate(_e)&&Te.evaluate(_e)],[gn(ja),(_e,be)=>{for(const Te of be)if(!Te.evaluate(_e))return!1;return!0}]]},any:{type:ja,overloads:[[[ja,ja],(_e,[be,Te])=>be.evaluate(_e)||Te.evaluate(_e)],[gn(ja),(_e,be)=>{for(const Te of be)if(Te.evaluate(_e))return!0;return!1}]]},"!":[ja,[ja],(_e,[be])=>!be.evaluate(_e)],"is-supported-script":[ja,[za],(_e,[be])=>{const Te=_e.globals&&_e.globals.isSupportedScript;return!Te||Te(be.evaluate(_e))}],upcase:[za,[za],(_e,[be])=>be.evaluate(_e).toUpperCase()],downcase:[za,[za],(_e,[be])=>be.evaluate(_e).toLowerCase()],concat:[za,gn(Ha),(_e,be)=>be.map((be=>ke(be.evaluate(_e)))).join("")],"resolved-locale":[za,[$a],(_e,[be])=>be.evaluate(_e).resolvedLocale()]});var vd=cd;function vn(_e){return{result:"success",value:_e}}function bn(_e){return{result:"error",value:_e}}function _n(_e){return"data-driven"===_e["property-type"]||"cross-faded-data-driven"===_e["property-type"]}function wn(_e){return!!_e.expression&&_e.expression.parameters.indexOf("zoom")>-1}function An(_e){return!!_e.expression&&_e.expression.interpolated}function Sn(_e){return _e instanceof Number?"number":_e instanceof String?"string":_e instanceof Boolean?"boolean":Array.isArray(_e)?"array":null===_e?"null":typeof _e}function kn(_e){return"object"==typeof _e&&null!==_e&&!Array.isArray(_e)}function In(_e){return _e}function Mn(_e,be){const Te="color"===be.type,Pe=_e.stops&&"object"==typeof _e.stops[0][0],pt=Pe||!(Pe||void 0!==_e.property),vt=_e.type||(An(be)?"exponential":"interval");if(Te&&((_e=Gt({},_e)).stops&&(_e.stops=_e.stops.map((_e=>[_e[0],mr.parse(_e[1])]))),_e.default=mr.parse(_e.default?_e.default:be.default)),_e.colorSpace&&"rgb"!==_e.colorSpace&&!Cs[_e.colorSpace])throw new Error(`Unknown color space: ${_e.colorSpace}`);let xt,Tt,It;if("exponential"===vt)xt=En;else if("interval"===vt)xt=Bn;else if("categorical"===vt){xt=Tn,Tt=Object.create(null);for(const be of _e.stops)Tt[be[0]]=be[1];It=typeof _e.stops[0][0]}else{if("identity"!==vt)throw new Error(`Unknown function type "${vt}"`);xt=Cn}if(Pe){const Te={},Pe=[];for(let be=0;be<_e.stops.length;be++){const pt=_e.stops[be],vt=pt[0].zoom;void 0===Te[vt]&&(Te[vt]={zoom:vt,type:_e.type,property:_e.property,default:_e.default,stops:[]},Pe.push(vt)),Te[vt].stops.push([pt[0].value,pt[1]])}const pt=[];for(const _e of Pe)pt.push([Te[_e].zoom,Mn(Te[_e],be)]);const vt={name:"linear"};return{kind:"composite",interpolationType:vt,interpolationFactor:Ts.interpolationFactor.bind(void 0,vt),zoomStops:pt.map((_e=>_e[0])),evaluate:({zoom:Te},Pe)=>En({stops:pt,base:_e.base},be,Te).evaluate(Te,Pe)}}if(pt){const Te="exponential"===vt?{name:"exponential",base:void 0!==_e.base?_e.base:1}:null;return{kind:"camera",interpolationType:Te,interpolationFactor:Ts.interpolationFactor.bind(void 0,Te),zoomStops:_e.stops.map((_e=>_e[0])),evaluate:({zoom:Te})=>xt(_e,be,Te,Tt,It)}}return{kind:"source",evaluate(Te,Pe){const pt=Pe&&Pe.properties?Pe.properties[_e.property]:void 0;return void 0===pt?zn(_e.default,be.default):xt(_e,be,pt,Tt,It)}}}function zn(_e,be,Te){return void 0!==_e?_e:void 0!==be?be:void 0!==Te?Te:void 0}function Tn(_e,be,Te,Pe,pt){return zn(typeof Te===pt?Pe[Te]:void 0,_e.default,be.default)}function Bn(_e,be,Te){if("number"!==Sn(Te))return zn(_e.default,be.default);const Pe=_e.stops.length;if(1===Pe)return _e.stops[0][1];if(Te<=_e.stops[0][0])return _e.stops[0][1];if(Te>=_e.stops[Pe-1][0])return _e.stops[Pe-1][1];const pt=dr(_e.stops.map((_e=>_e[0])),Te);return _e.stops[pt][1]}function En(_e,be,Te){const Pe=void 0!==_e.base?_e.base:1;if("number"!==Sn(Te))return zn(_e.default,be.default);const pt=_e.stops.length;if(1===pt)return _e.stops[0][1];if(Te<=_e.stops[0][0])return _e.stops[0][1];if(Te>=_e.stops[pt-1][0])return _e.stops[pt-1][1];const vt=dr(_e.stops.map((_e=>_e[0])),Te),xt=function(_e,be,Te,Pe){const pt=Pe-Te,vt=_e-Te;return 0===pt?0:1===be?vt/pt:(Math.pow(be,vt)-1)/(Math.pow(be,pt)-1)}(Te,Pe,_e.stops[vt][0],_e.stops[vt+1][0]),Tt=_e.stops[vt][1],It=_e.stops[vt+1][1];let Mt=Ao[be.type]||In;if(_e.colorSpace&&"rgb"!==_e.colorSpace){const be=Cs[_e.colorSpace];Mt=(_e,Te)=>be.reverse(be.interpolate(be.forward(_e),be.forward(Te),xt))}return"function"==typeof Tt.evaluate?{evaluate(..._e){const be=Tt.evaluate.apply(void 0,_e),Te=It.evaluate.apply(void 0,_e);if(void 0!==be&&void 0!==Te)return Mt(be,Te,xt)}}:Mt(Tt,It,xt)}function Cn(_e,be,Te){return"color"===be.type?Te=mr.parse(Te):"formatted"===be.type?Te=vr.fromString(Te.toString()):"resolvedImage"===be.type?Te=Rr.fromString(Te.toString()):Sn(Te)===be.type||"enum"===be.type&&be.values[Te]||(Te=void 0),zn(Te,_e.default,be.default)}class wd{constructor(_e,be){this.expression=_e,this._warningHistory={},this._evaluator=new Wr,this._defaultValue=be?function(_e){return"color"===_e.type&&(kn(_e.default)||Array.isArray(_e.default))?new mr(0,0,0,0):"color"===_e.type?mr.parse(_e.default)||null:void 0===_e.default?null:_e.default}(be):null,this._enumValues=be&&"enum"===be.type?be.values:null}evaluateWithoutErrorHandling(_e,be,Te,Pe,pt,vt,xt,Tt){return this._evaluator.globals=_e,this._evaluator.feature=be,this._evaluator.featureState=Te,this._evaluator.canonical=Pe||null,this._evaluator.availableImages=pt||null,this._evaluator.formattedSection=vt,this._evaluator.featureTileCoord=xt||null,this._evaluator.featureDistanceData=Tt||null,this.expression.evaluate(this._evaluator)}evaluate(_e,be,Te,Pe,pt,vt,xt,Tt){this._evaluator.globals=_e,this._evaluator.feature=be||null,this._evaluator.featureState=Te||null,this._evaluator.canonical=Pe||null,this._evaluator.availableImages=pt||null,this._evaluator.formattedSection=vt||null,this._evaluator.featureTileCoord=xt||null,this._evaluator.featureDistanceData=Tt||null;try{const _e=this.expression.evaluate(this._evaluator);if(null==_e||"number"==typeof _e&&_e!=_e)return this._defaultValue;if(this._enumValues&&!(_e in this._enumValues))throw new Ar(`Expected value to be one of ${Object.keys(this._enumValues).map((_e=>JSON.stringify(_e))).join(", ")}, but found ${JSON.stringify(_e)} instead.`);return _e}catch(_e){return this._warningHistory[_e.message]||(this._warningHistory[_e.message]=!0,"undefined"!=typeof console&&console.warn(_e.message)),this._defaultValue}}}function Dn(_e){return Array.isArray(_e)&&_e.length>0&&"string"==typeof _e[0]&&_e[0]in vd}function Vn(_e,be){const Te=new vo(vd,[],be?function(_e){const be={color:Na,string:za,number:Ba,enum:za,boolean:ja,formatted:Ja,resolvedImage:sr};return"array"===_e.type?le(be[_e.value]||Ha,_e.length):be[_e.type]}(be):void 0),Pe=Te.parse(_e,void 0,void 0,void 0,be&&"string"===be.type?{typeAnnotation:"coerce"}:void 0);return Pe?vn(new wd(Pe,be)):bn(Te.errors)}class Ed{constructor(_e,be){this.kind=_e,this._styleExpression=be,this.isStateDependent="constant"!==_e&&!or(be.expression)}evaluateWithoutErrorHandling(_e,be,Te,Pe,pt,vt){return this._styleExpression.evaluateWithoutErrorHandling(_e,be,Te,Pe,pt,vt)}evaluate(_e,be,Te,Pe,pt,vt){return this._styleExpression.evaluate(_e,be,Te,Pe,pt,vt)}}class Sd{constructor(_e,be,Te,Pe){this.kind=_e,this.zoomStops=Te,this._styleExpression=be,this.isStateDependent="camera"!==_e&&!or(be.expression),this.interpolationType=Pe}evaluateWithoutErrorHandling(_e,be,Te,Pe,pt,vt){return this._styleExpression.evaluateWithoutErrorHandling(_e,be,Te,Pe,pt,vt)}evaluate(_e,be,Te,Pe,pt,vt){return this._styleExpression.evaluate(_e,be,Te,Pe,pt,vt)}interpolationFactor(_e,be,Te){return this.interpolationType?Ts.interpolationFactor(this.interpolationType,_e,be,Te):0}}function Rn(_e,be){if("error"===(_e=Vn(_e,be)).result)return _e;const Te=_e.value.expression,Pe=ar(Te);if(!Pe&&!_n(be))return bn([new ka("","data expressions not supported")]);const pt=lr(Te,["zoom","pitch","distance-from-center"]);if(!pt&&!wn(be))return bn([new ka("","zoom expressions not supported")]);const vt=Un(Te);return vt||pt?vt instanceof ka?bn([vt]):vt instanceof Ts&&!An(be)?bn([new ka("",'"interpolate" expressions cannot be used with this property')]):vn(vt?new Sd(Pe?"camera":"composite",_e.value,vt.labels,vt instanceof Ts?vt.interpolation:void 0):new Ed(Pe?"constant":"source",_e.value)):bn([new ka("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Cd{constructor(_e,be){this._parameters=_e,this._specification=be,Gt(this,Mn(this._parameters,this._specification))}static deserialize(_e){return new Cd(_e._parameters,_e._specification)}static serialize(_e){return{_parameters:_e._parameters,_specification:_e._specification}}}function Un(_e){let be=null;if(_e instanceof Ls)be=Un(_e.result);else if(_e instanceof Ps){for(const Te of _e.args)if(be=Un(Te),be)break}else(_e instanceof bo||_e instanceof Ts)&&_e.input instanceof Xr&&"zoom"===_e.input.name&&(be=_e);return be instanceof ka||_e.eachChild((_e=>{const Te=Un(_e);Te instanceof ka?be=Te:!be&&Te?be=new ka("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):be&&Te&&be!==Te&&(be=new ka("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),be}class Ad{constructor(_e,be,Te,Pe){this.message=(_e?`${_e}: `:"")+Te,Pe&&(this.identifier=Pe),null!=be&&be.__line__&&(this.line=be.__line__)}}function On(_e){const be=_e.key,Te=_e.value,Pe=_e.valueSpec||{},pt=_e.objectElementValidators||{},vt=_e.style,xt=_e.styleSpec;let Tt=[];const It=Sn(Te);if("object"!==It)return[new Ad(be,Te,`object expected, ${It} found`)];for(const _e in Te){const It=_e.split(".")[0],Mt=Pe[It]||Pe["*"];let Lt;pt[It]?Lt=pt[It]:Pe[It]?Lt=_i:pt["*"]?Lt=pt["*"]:Pe["*"]&&(Lt=_i),Lt?Tt=Tt.concat(Lt({key:(be?`${be}.`:be)+_e,value:Te[_e],valueSpec:Mt,style:vt,styleSpec:xt,object:Te,objectKey:_e},Te)):Tt.push(new Ad(be,Te[_e],`unknown property "${_e}"`))}for(const _e in Pe)pt[_e]||Pe[_e].required&&void 0===Pe[_e].default&&void 0===Te[_e]&&Tt.push(new Ad(be,Te,`missing required property "${_e}"`));return Tt}function qn(_e){const be=_e.value,Te=_e.valueSpec,Pe=_e.style,pt=_e.styleSpec,vt=_e.key,xt=_e.arrayElementValidator||_i;if("array"!==Sn(be))return[new Ad(vt,be,`array expected, ${Sn(be)} found`)];if(Te.length&&be.length!==Te.length)return[new Ad(vt,be,`array length ${Te.length} expected, length ${be.length} found`)];if(Te["min-length"]&&be.length<Te["min-length"])return[new Ad(vt,be,`array length at least ${Te["min-length"]} expected, length ${be.length} found`)];let Tt={type:Te.value,values:Te.values,minimum:Te.minimum,maximum:Te.maximum,function:void 0};pt.$version<7&&(Tt.function=Te.function),"object"===Sn(Te.value)&&(Tt=Te.value);let It=[];for(let _e=0;_e<be.length;_e++)It=It.concat(xt({array:be,arrayIndex:_e,value:be[_e],valueSpec:Tt,style:Pe,styleSpec:pt,key:`${vt}[${_e}]`}));return It}function Nn(_e){const be=_e.key,Te=_e.value,Pe=_e.valueSpec;let pt=Sn(Te);if("number"===pt&&Te!=Te&&(pt="NaN"),"number"!==pt)return[new Ad(be,Te,`number expected, ${pt} found`)];if("minimum"in Pe){let pt=Pe.minimum;if("array"===Sn(Pe.minimum)&&(pt=Pe.minimum[_e.arrayIndex]),Te<pt)return[new Ad(be,Te,`${Te} is less than the minimum value ${pt}`)]}if("maximum"in Pe){let pt=Pe.maximum;if("array"===Sn(Pe.maximum)&&(pt=Pe.maximum[_e.arrayIndex]),Te>pt)return[new Ad(be,Te,`${Te} is greater than the maximum value ${pt}`)]}return[]}function Gn(_e){const be=_e.valueSpec,Te=Zt(_e.value.type);let Pe,pt,vt,xt={};const Tt="categorical"!==Te&&void 0===_e.value.property,It=!Tt,Mt="array"===Sn(_e.value.stops)&&"array"===Sn(_e.value.stops[0])&&"object"===Sn(_e.value.stops[0][0]),Lt=On({key:_e.key,value:_e.value,valueSpec:_e.styleSpec.function,style:_e.style,styleSpec:_e.styleSpec,objectElementValidators:{stops:function(_e){if("identity"===Te)return[new Ad(_e.key,_e.value,'identity function may not have a "stops" property')];let be=[];const Pe=_e.value;return be=be.concat(qn({key:_e.key,value:Pe,valueSpec:_e.valueSpec,style:_e.style,styleSpec:_e.styleSpec,arrayElementValidator:h})),"array"===Sn(Pe)&&0===Pe.length&&be.push(new Ad(_e.key,Pe,"array must have at least one stop")),be},default:function(_e){return _i({key:_e.key,value:_e.value,valueSpec:be,style:_e.style,styleSpec:_e.styleSpec})}}});return"identity"===Te&&Tt&&Lt.push(new Ad(_e.key,_e.value,'missing required property "property"')),"identity"===Te||_e.value.stops||Lt.push(new Ad(_e.key,_e.value,'missing required property "stops"')),"exponential"===Te&&_e.valueSpec.expression&&!An(_e.valueSpec)&&Lt.push(new Ad(_e.key,_e.value,"exponential functions not supported")),_e.styleSpec.$version>=8&&(It&&!_n(_e.valueSpec)?Lt.push(new Ad(_e.key,_e.value,"property functions not supported")):Tt&&!wn(_e.valueSpec)&&Lt.push(new Ad(_e.key,_e.value,"zoom functions not supported"))),"categorical"!==Te&&!Mt||void 0!==_e.value.property||Lt.push(new Ad(_e.key,_e.value,'"property" property is required')),Lt;function h(_e){let Te=[];const Pe=_e.value,Tt=_e.key;if("array"!==Sn(Pe))return[new Ad(Tt,Pe,`array expected, ${Sn(Pe)} found`)];if(2!==Pe.length)return[new Ad(Tt,Pe,`array length 2 expected, length ${Pe.length} found`)];if(Mt){if("object"!==Sn(Pe[0]))return[new Ad(Tt,Pe,`object expected, ${Sn(Pe[0])} found`)];if(void 0===Pe[0].zoom)return[new Ad(Tt,Pe,"object stop key must have zoom")];if(void 0===Pe[0].value)return[new Ad(Tt,Pe,"object stop key must have value")];const be=Zt(Pe[0].zoom);if("number"!=typeof be)return[new Ad(Tt,Pe[0].zoom,"stop zoom values must be numbers")];if(vt&&vt>be)return[new Ad(Tt,Pe[0].zoom,"stop zoom values must appear in ascending order")];be!==vt&&(vt=be,pt=void 0,xt={}),Te=Te.concat(On({key:`${Tt}[0]`,value:Pe[0],valueSpec:{zoom:{}},style:_e.style,styleSpec:_e.styleSpec,objectElementValidators:{zoom:Nn,value:p}}))}else Te=Te.concat(p({key:`${Tt}[0]`,value:Pe[0],valueSpec:{},style:_e.style,styleSpec:_e.styleSpec},Pe));return Dn(Xt(Pe[1]))?Te.concat([new Ad(`${Tt}[1]`,Pe[1],"expressions are not allowed in function stops.")]):Te.concat(_i({key:`${Tt}[1]`,value:Pe[1],valueSpec:be,style:_e.style,styleSpec:_e.styleSpec}))}function p(_e,vt){const Tt=Sn(_e.value),It=Zt(_e.value),Mt=null!==_e.value?_e.value:vt;if(Pe){if(Tt!==Pe)return[new Ad(_e.key,Mt,`${Tt} stop domain type must match previous stop domain type ${Pe}`)]}else Pe=Tt;if("number"!==Tt&&"string"!==Tt&&"boolean"!==Tt&&"number"!=typeof It&&"string"!=typeof It&&"boolean"!=typeof It)return[new Ad(_e.key,Mt,"stop domain value must be a number, string, or boolean")];if("number"!==Tt&&"categorical"!==Te){let Pe=`number expected, ${Tt} found`;return _n(be)&&void 0===Te&&(Pe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ad(_e.key,Mt,Pe)]}return"categorical"!==Te||"number"!==Tt||"number"==typeof It&&isFinite(It)&&Math.floor(It)===It?"categorical"!==Te&&"number"===Tt&&"number"==typeof It&&"number"==typeof pt&&void 0!==pt&&It<pt?[new Ad(_e.key,Mt,"stop domain values must appear in ascending order")]:(pt=It,"categorical"===Te&&It in xt?[new Ad(_e.key,Mt,"stop domain values must be unique")]:(xt[It]=!0,[])):[new Ad(_e.key,Mt,`integer expected, found ${String(It)}`)]}}function Zn(_e){const be=("property"===_e.expressionContext?Rn:Vn)(Xt(_e.value),_e.valueSpec);if("error"===be.result)return be.value.map((be=>new Ad(`${_e.key}${be.key}`,_e.value,be.message)));const Te=be.value.expression||be.value._styleExpression.expression;if("property"===_e.expressionContext&&"text-font"===_e.propertyKey&&!Te.outputDefined())return[new Ad(_e.key,_e.value,`Invalid data expression for "${_e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===_e.expressionContext&&"layout"===_e.propertyType&&!or(Te))return[new Ad(_e.key,_e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===_e.expressionContext)return Xn(Te,_e);if(_e.expressionContext&&0===_e.expressionContext.indexOf("cluster")){if(!lr(Te,["zoom","feature-state"]))return[new Ad(_e.key,_e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===_e.expressionContext&&!ar(Te))return[new Ad(_e.key,_e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Xn(_e,be){const Te=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(be.valueSpec&&be.valueSpec.expression)for(const _e of be.valueSpec.expression.parameters)Te.delete(_e);if(0===Te.size)return[];const Pe=[];return _e instanceof Xr&&Te.has(_e.name)?[new Ad(be.key,be.value,`["${_e.name}"] expression is not supported in a filter for a ${be.object.type} layer with id: ${be.object.id}`)]:(_e.eachChild((_e=>{Pe.push(...Xn(_e,be))})),Pe)}function Kn(_e){const be=_e.key,Te=_e.value,Pe=_e.valueSpec,pt=[];return Array.isArray(Pe.values)?-1===Pe.values.indexOf(Zt(Te))&&pt.push(new Ad(be,Te,`expected one of [${Pe.values.join(", ")}], ${JSON.stringify(Te)} found`)):-1===Object.keys(Pe.values).indexOf(Zt(Te))&&pt.push(new Ad(be,Te,`expected one of [${Object.keys(Pe.values).join(", ")}], ${JSON.stringify(Te)} found`)),pt}function Hn(_e){if(!0===_e||!1===_e)return!0;if(!Array.isArray(_e)||0===_e.length)return!1;switch(_e[0]){case"has":return _e.length>=2&&"$id"!==_e[1]&&"$type"!==_e[1];case"in":return _e.length>=3&&("string"!=typeof _e[1]||Array.isArray(_e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==_e.length||Array.isArray(_e[1])||Array.isArray(_e[2]);case"any":case"all":for(const be of _e.slice(1))if(!Hn(be)&&"boolean"!=typeof be)return!1;return!0;default:return!0}}function Yn(_e,be="fill"){if(null==_e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Hn(_e)||(_e=ni(_e));const Te=_e;let Pe=!0;try{Pe=function(_e){if(!Qn(_e))return _e;let be=Xt(_e);return Jn(be),be=Wn(be),be}(Te)}catch(_e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(Te,null,2)}\n        `)}const pt=Aa[`filter_${be}`],vt=Vn(Pe,pt);let xt=null;if("error"===vt.result)throw new Error(vt.value.map((_e=>`${_e.key}: ${_e.message}`)).join(", "));xt=(_e,be,Te)=>vt.value.evaluate(_e,be,{},Te);let Tt=null,It=null;if(Pe!==Te){const _e=Vn(Te,pt);if("error"===_e.result)throw new Error(_e.value.map((_e=>`${_e.key}: ${_e.message}`)).join(", "));Tt=(be,Te,Pe,pt,vt)=>_e.value.evaluate(be,Te,{},Pe,void 0,void 0,pt,vt),It=!ar(_e.value.expression)}return xt=xt,{filter:xt,dynamicFilter:Tt||void 0,needGeometry:ri(Pe),needFeature:!!It}}function Wn(_e){if(!Array.isArray(_e))return _e;const be=function(_e){if(Td.has(_e[0]))for(let be=1;be<_e.length;be++)if(Qn(_e[be]))return!0;return _e}(_e);return!0===be?be:be.map((_e=>Wn(_e)))}function Jn(_e){let be=!1;const Te=[];if("case"===_e[0]){for(let Pe=1;Pe<_e.length-1;Pe+=2)be=be||Qn(_e[Pe]),Te.push(_e[Pe+1]);Te.push(_e[_e.length-1])}else if("match"===_e[0]){be=be||Qn(_e[1]);for(let be=2;be<_e.length-1;be+=2)Te.push(_e[be+1]);Te.push(_e[_e.length-1])}else if("step"===_e[0]){be=be||Qn(_e[1]);for(let be=1;be<_e.length-1;be+=2)Te.push(_e[be+1])}be&&(_e.length=0,_e.push("any",...Te));for(let be=1;be<_e.length;be++)Jn(_e[be])}function Qn(_e){if(!Array.isArray(_e))return!1;if("pitch"===(be=_e[0])||"distance-from-center"===be)return!0;var be;for(let be=1;be<_e.length;be++)if(Qn(_e[be]))return!0;return!1}const Td=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function ei(_e,be){return _e<be?-1:_e>be?1:0}function ri(_e){if(!Array.isArray(_e))return!1;if("within"===_e[0])return!0;for(let be=1;be<_e.length;be++)if(ri(_e[be]))return!0;return!1}function ni(_e){if(!_e)return!0;const be=_e[0];return _e.length<=1?"any"!==be:"=="===be?ii(_e[1],_e[2],"=="):"!="===be?oi(ii(_e[1],_e[2],"==")):"<"===be||">"===be||"<="===be||">="===be?ii(_e[1],_e[2],be):"any"===be?(Te=_e.slice(1),["any"].concat(Te.map(ni))):"all"===be?["all"].concat(_e.slice(1).map(ni)):"none"===be?["all"].concat(_e.slice(1).map(ni).map(oi)):"in"===be?si(_e[1],_e.slice(2)):"!in"===be?oi(si(_e[1],_e.slice(2))):"has"===be?ai(_e[1]):"!has"===be?oi(ai(_e[1])):"within"!==be||_e;var Te}function ii(_e,be,Te){switch(_e){case"$type":return[`filter-type-${Te}`,be];case"$id":return[`filter-id-${Te}`,be];default:return[`filter-${Te}`,_e,be]}}function si(_e,be){if(0===be.length)return!1;switch(_e){case"$type":return["filter-type-in",["literal",be]];case"$id":return["filter-id-in",["literal",be]];default:return be.length>200&&!be.some((_e=>typeof _e!=typeof be[0]))?["filter-in-large",_e,["literal",be.sort(ei)]]:["filter-in-small",_e,["literal",be]]}}function ai(_e){switch(_e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",_e]}}function oi(_e){return["!",_e]}function li(_e){return Hn(Xt(_e.value))?Zn(Gt({},_e,{expressionContext:"filter",valueSpec:_e.styleSpec[`filter_${_e.layerType||"fill"}`]})):ui(_e)}function ui(_e){const be=_e.value,Te=_e.key;if("array"!==Sn(be))return[new Ad(Te,be,`array expected, ${Sn(be)} found`)];const Pe=_e.styleSpec;let pt,vt=[];if(be.length<1)return[new Ad(Te,be,"filter array must have at least 1 element")];switch(vt=vt.concat(Kn({key:`${Te}[0]`,value:be[0],valueSpec:Pe.filter_operator,style:_e.style,styleSpec:_e.styleSpec})),Zt(be[0])){case"<":case"<=":case">":case">=":be.length>=2&&"$type"===Zt(be[1])&&vt.push(new Ad(Te,be,`"$type" cannot be use with operator "${be[0]}"`));case"==":case"!=":3!==be.length&&vt.push(new Ad(Te,be,`filter array for operator "${be[0]}" must have 3 elements`));case"in":case"!in":be.length>=2&&(pt=Sn(be[1]),"string"!==pt&&vt.push(new Ad(`${Te}[1]`,be[1],`string expected, ${pt} found`)));for(let xt=2;xt<be.length;xt++)pt=Sn(be[xt]),"$type"===Zt(be[1])?vt=vt.concat(Kn({key:`${Te}[${xt}]`,value:be[xt],valueSpec:Pe.geometry_type,style:_e.style,styleSpec:_e.styleSpec})):"string"!==pt&&"number"!==pt&&"boolean"!==pt&&vt.push(new Ad(`${Te}[${xt}]`,be[xt],`string, number, or boolean expected, ${pt} found`));break;case"any":case"all":case"none":for(let Pe=1;Pe<be.length;Pe++)vt=vt.concat(ui({key:`${Te}[${Pe}]`,value:be[Pe],style:_e.style,styleSpec:_e.styleSpec}));break;case"has":case"!has":pt=Sn(be[1]),2!==be.length?vt.push(new Ad(Te,be,`filter array for "${be[0]}" operator must have 2 elements`)):"string"!==pt&&vt.push(new Ad(`${Te}[1]`,be[1],`string expected, ${pt} found`));break;case"within":pt=Sn(be[1]),2!==be.length?vt.push(new Ad(Te,be,`filter array for "${be[0]}" operator must have 2 elements`)):"object"!==pt&&vt.push(new Ad(`${Te}[1]`,be[1],`object expected, ${pt} found`))}return vt}function ci(_e,be){const Te=_e.key,Pe=_e.style,pt=_e.styleSpec,vt=_e.value,xt=_e.objectKey,Tt=pt[`${be}_${_e.layerType}`];if(!Tt)return[];const It=xt.match(/^(.*)-transition$/);if("paint"===be&&It&&Tt[It[1]]&&Tt[It[1]].transition)return _i({key:Te,value:vt,valueSpec:pt.transition,style:Pe,styleSpec:pt});const Mt=_e.valueSpec||Tt[xt];if(!Mt)return[new Ad(Te,vt,`unknown property "${xt}"`)];let Lt;if("string"===Sn(vt)&&_n(Mt)&&!Mt.tokens&&(Lt=/^{([^}]+)}$/.exec(vt)))return[new Ad(Te,vt,`"${xt}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Lt[1])} }\`.`)];const Ft=[];return"symbol"===_e.layerType&&("text-field"===xt&&Pe&&!Pe.glyphs&&Ft.push(new Ad(Te,vt,'use of "text-field" requires a style "glyphs" property')),"text-font"===xt&&kn(Xt(vt))&&"identity"===Zt(vt.type)&&Ft.push(new Ad(Te,vt,'"text-font" does not support identity functions'))),Ft.concat(_i({key:_e.key,value:vt,valueSpec:Mt,style:Pe,styleSpec:pt,expressionContext:"property",propertyType:be,propertyKey:xt}))}function hi(_e){return ci(_e,"paint")}function pi(_e){return ci(_e,"layout")}function fi(_e){let be=[];const Te=_e.value,Pe=_e.key,pt=_e.style,vt=_e.styleSpec;Te.type||Te.ref||be.push(new Ad(Pe,Te,'either "type" or "ref" is required'));let xt=Zt(Te.type);const Tt=Zt(Te.ref);if(Te.id){const vt=Zt(Te.id);for(let xt=0;xt<_e.arrayIndex;xt++){const _e=pt.layers[xt];Zt(_e.id)===vt&&be.push(new Ad(Pe,Te.id,`duplicate layer id "${Te.id}", previously used at line ${_e.id.__line__}`))}}if("ref"in Te){let _e;["type","source","source-layer","filter","layout"].forEach((_e=>{_e in Te&&be.push(new Ad(Pe,Te[_e],`"${_e}" is prohibited for ref layers`))})),pt.layers.forEach((be=>{Zt(be.id)===Tt&&(_e=be)})),_e?_e.ref?be.push(new Ad(Pe,Te.ref,"ref cannot reference another ref layer")):xt=Zt(_e.type):"string"==typeof Tt&&be.push(new Ad(Pe,Te.ref,`ref layer "${Tt}" not found`))}else if("background"!==xt&&"sky"!==xt)if(Te.source){const _e=pt.sources&&pt.sources[Te.source],vt=_e&&Zt(_e.type);_e?"vector"===vt&&"raster"===xt?be.push(new Ad(Pe,Te.source,`layer "${Te.id}" requires a raster source`)):"raster"===vt&&"raster"!==xt?be.push(new Ad(Pe,Te.source,`layer "${Te.id}" requires a vector source`)):"vector"!==vt||Te["source-layer"]?"raster-dem"===vt&&"hillshade"!==xt?be.push(new Ad(Pe,Te.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==xt||!Te.paint||!Te.paint["line-gradient"]&&!Te.paint["line-trim-offset"]||"geojson"===vt&&_e.lineMetrics||be.push(new Ad(Pe,Te,`layer "${Te.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):be.push(new Ad(Pe,Te,`layer "${Te.id}" must specify a "source-layer"`)):be.push(new Ad(Pe,Te.source,`source "${Te.source}" not found`))}else be.push(new Ad(Pe,Te,'missing required property "source"'));return be=be.concat(On({key:Pe,value:Te,valueSpec:vt.layer,style:_e.style,styleSpec:_e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>_i({key:`${Pe}.type`,value:Te.type,valueSpec:vt.layer.type,style:_e.style,styleSpec:_e.styleSpec,object:Te,objectKey:"type"}),filter:_e=>li(Gt({layerType:xt},_e)),layout:_e=>On({layer:Te,key:_e.key,value:_e.value,valueSpec:{},style:_e.style,styleSpec:_e.styleSpec,objectElementValidators:{"*":_e=>pi(Gt({layerType:xt},_e))}}),paint:_e=>On({layer:Te,key:_e.key,value:_e.value,valueSpec:{},style:_e.style,styleSpec:_e.styleSpec,objectElementValidators:{"*":_e=>hi(Gt({layerType:xt},_e))}})}})),be}function di(_e){const be=_e.value,Te=_e.key,Pe=Sn(be);return"string"!==Pe?[new Ad(Te,be,`string expected, ${Pe} found`)]:[]}const kd={promoteId:function({key:_e,value:be}){if("string"===Sn(be))return di({key:_e,value:be});{const Te=[];for(const Pe in be)Te.push(...di({key:`${_e}.${Pe}`,value:be[Pe]}));return Te}}};function mi(_e){const be=_e.value,Te=_e.key,Pe=_e.styleSpec,pt=_e.style;if(!be.type)return[new Ad(Te,be,'"type" is required')];const vt=Zt(be.type);let xt;switch(vt){case"vector":case"raster":case"raster-dem":return xt=On({key:Te,value:be,valueSpec:Pe[`source_${vt.replace("-","_")}`],style:_e.style,styleSpec:Pe,objectElementValidators:kd}),xt;case"geojson":if(xt=On({key:Te,value:be,valueSpec:Pe.source_geojson,style:pt,styleSpec:Pe,objectElementValidators:kd}),be.cluster)for(const _e in be.clusterProperties){const[Pe,pt]=be.clusterProperties[_e],vt="string"==typeof Pe?[Pe,["accumulated"],["get",_e]]:Pe;xt.push(...Zn({key:`${Te}.${_e}.map`,value:pt,expressionContext:"cluster-map"})),xt.push(...Zn({key:`${Te}.${_e}.reduce`,value:vt,expressionContext:"cluster-reduce"}))}return xt;case"video":return On({key:Te,value:be,valueSpec:Pe.source_video,style:pt,styleSpec:Pe});case"image":return On({key:Te,value:be,valueSpec:Pe.source_image,style:pt,styleSpec:Pe});case"canvas":return[new Ad(Te,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Kn({key:`${Te}.type`,value:be.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:pt,styleSpec:Pe})}}function gi(_e){const be=_e.value,Te=_e.styleSpec,Pe=Te.light,pt=_e.style;let vt=[];const xt=Sn(be);if(void 0===be)return vt;if("object"!==xt)return vt=vt.concat([new Ad("light",be,`object expected, ${xt} found`)]),vt;for(const _e in be){const xt=_e.match(/^(.*)-transition$/);vt=vt.concat(xt&&Pe[xt[1]]&&Pe[xt[1]].transition?_i({key:_e,value:be[_e],valueSpec:Te.transition,style:pt,styleSpec:Te}):Pe[_e]?_i({key:_e,value:be[_e],valueSpec:Pe[_e],style:pt,styleSpec:Te}):[new Ad(_e,be[_e],`unknown property "${_e}"`)])}return vt}function xi(_e){const be=_e.value,Te=_e.key,Pe=_e.style,pt=_e.styleSpec,vt=pt.terrain;let xt=[];const Tt=Sn(be);if(void 0===be)return xt;if("object"!==Tt)return xt=xt.concat([new Ad("terrain",be,`object expected, ${Tt} found`)]),xt;for(const _e in be){const Te=_e.match(/^(.*)-transition$/);xt=xt.concat(Te&&vt[Te[1]]&&vt[Te[1]].transition?_i({key:_e,value:be[_e],valueSpec:pt.transition,style:Pe,styleSpec:pt}):vt[_e]?_i({key:_e,value:be[_e],valueSpec:vt[_e],style:Pe,styleSpec:pt}):[new Ad(_e,be[_e],`unknown property "${_e}"`)])}if(be.source){const _e=Pe.sources&&Pe.sources[be.source],pt=_e&&Zt(_e.type);_e?"raster-dem"!==pt&&xt.push(new Ad(Te,be.source,`terrain cannot be used with a source of type ${String(pt)}, it only be used with a "raster-dem" source type`)):xt.push(new Ad(Te,be.source,`source "${be.source}" not found`))}else xt.push(new Ad(Te,be,'terrain is missing required property "source"'));return xt}function vi(_e){const be=_e.value,Te=_e.style,Pe=_e.styleSpec,pt=Pe.fog;let vt=[];const xt=Sn(be);if(void 0===be)return vt;if("object"!==xt)return vt=vt.concat([new Ad("fog",be,`object expected, ${xt} found`)]),vt;for(const _e in be){const xt=_e.match(/^(.*)-transition$/);vt=vt.concat(xt&&pt[xt[1]]&&pt[xt[1]].transition?_i({key:_e,value:be[_e],valueSpec:Pe.transition,style:Te,styleSpec:Pe}):pt[_e]?_i({key:_e,value:be[_e],valueSpec:pt[_e],style:Te,styleSpec:Pe}):[new Ad(_e,be[_e],`unknown property "${_e}"`)])}return vt}const Id={"*":()=>[],array:qn,boolean:function(_e){const be=_e.value,Te=_e.key,Pe=Sn(be);return"boolean"!==Pe?[new Ad(Te,be,`boolean expected, ${Pe} found`)]:[]},number:Nn,color:function(_e){const be=_e.key,Te=_e.value,Pe=Sn(Te);return"string"!==Pe?[new Ad(be,Te,`color expected, ${Pe} found`)]:null===cr.parseCSSColor(Te)?[new Ad(be,Te,`color expected, "${Te}" found`)]:[]},enum:Kn,filter:li,function:Gn,layer:fi,object:On,source:mi,light:gi,terrain:xi,fog:vi,string:di,formatted:function(_e){return 0===di(_e).length?[]:Zn(_e)},resolvedImage:function(_e){return 0===di(_e).length?[]:Zn(_e)},projection:function(_e){const be=_e.value,Te=_e.styleSpec,Pe=Te.projection,pt=_e.style;let vt=[];const xt=Sn(be);if("object"===xt)for(const _e in be)vt=vt.concat(_i({key:_e,value:be[_e],valueSpec:Pe[_e],style:pt,styleSpec:Te}));else"string"!==xt&&(vt=vt.concat([new Ad("projection",be,`object or string expected, ${xt} found`)]));return vt}};function _i(_e){const be=_e.value,Te=_e.valueSpec,Pe=_e.styleSpec;return Te.expression&&kn(Zt(be))?Gn(_e):Te.expression&&Dn(Xt(be))?Zn(_e):Te.type&&Id[Te.type]?Id[Te.type](_e):On(Gt({},_e,{valueSpec:Te.type?Pe[Te.type]:Te}))}function wi(_e){const be=_e.value,Te=_e.key,Pe=di(_e);return Pe.length||(-1===be.indexOf("{fontstack}")&&Pe.push(new Ad(Te,be,'"glyphs" url must include a "{fontstack}" token')),-1===be.indexOf("{range}")&&Pe.push(new Ad(Te,be,'"glyphs" url must include a "{range}" token'))),Pe}function Ai(_e,be=Aa){return Ii(_i({key:"",value:_e,valueSpec:be.$root,styleSpec:be,style:_e,objectElementValidators:{glyphs:wi,"*":()=>[]}}))}const Si=_e=>Ii(hi(_e)),ki=_e=>Ii(pi(_e));function Ii(_e){return _e.slice().sort(((_e,be)=>_e.line&&be.line?_e.line-be.line:0))}function Mi(_e,be){let Te=!1;if(be&&be.length)for(const Pe of be)_e.fire(new Ea(new Error(Pe.message))),Te=!0;return Te}var Md=Ti;function Ti(_e,be,Te){var Pe=this.cells=[];if(_e instanceof ArrayBuffer){this.arrayBuffer=_e;var pt=new Int32Array(this.arrayBuffer);_e=pt[0],this.d=(be=pt[1])+2*(Te=pt[2]);for(var vt=0;vt<this.d*this.d;vt++){var xt=pt[3+vt],Tt=pt[3+vt+1];Pe.push(xt===Tt?null:pt.subarray(xt,Tt))}var It=pt[3+Pe.length+1];this.keys=pt.subarray(pt[3+Pe.length],It),this.bboxes=pt.subarray(It),this.insert=this._insertReadonly}else{this.d=be+2*Te;for(var Mt=0;Mt<this.d*this.d;Mt++)Pe.push([]);this.keys=[],this.bboxes=[]}this.n=be,this.extent=_e,this.padding=Te,this.scale=be/_e,this.uid=0;var Lt=Te/be*_e;this.min=-Lt,this.max=_e+Lt}Ti.prototype.insert=function(_e,be,Te,Pe,pt){this._forEachCell(be,Te,Pe,pt,this._insertCell,this.uid++),this.keys.push(_e),this.bboxes.push(be),this.bboxes.push(Te),this.bboxes.push(Pe),this.bboxes.push(pt)},Ti.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ti.prototype._insertCell=function(_e,be,Te,Pe,pt,vt){this.cells[pt].push(vt)},Ti.prototype.query=function(_e,be,Te,Pe,pt){var vt=this.min,xt=this.max;if(_e<=vt&&be<=vt&&xt<=Te&&xt<=Pe&&!pt)return Array.prototype.slice.call(this.keys);var Tt=[];return this._forEachCell(_e,be,Te,Pe,this._queryCell,Tt,{},pt),Tt},Ti.prototype._queryCell=function(_e,be,Te,Pe,pt,vt,xt,Tt){var It=this.cells[pt];if(null!==It)for(var Mt=this.keys,Lt=this.bboxes,Ft=0;Ft<It.length;Ft++){var Ot=It[Ft];if(void 0===xt[Ot]){var Vt=4*Ot;(Tt?Tt(Lt[Vt+0],Lt[Vt+1],Lt[Vt+2],Lt[Vt+3]):_e<=Lt[Vt+2]&&be<=Lt[Vt+3]&&Te>=Lt[Vt+0]&&Pe>=Lt[Vt+1])?(xt[Ot]=!0,vt.push(Mt[Ot])):xt[Ot]=!1}}},Ti.prototype._forEachCell=function(_e,be,Te,Pe,pt,vt,xt,Tt){for(var It=this._convertToCellCoord(_e),Mt=this._convertToCellCoord(be),Lt=this._convertToCellCoord(Te),Ft=this._convertToCellCoord(Pe),Ot=It;Ot<=Lt;Ot++)for(var Vt=Mt;Vt<=Ft;Vt++){var qt=this.d*Vt+Ot;if((!Tt||Tt(this._convertFromCellCoord(Ot),this._convertFromCellCoord(Vt),this._convertFromCellCoord(Ot+1),this._convertFromCellCoord(Vt+1)))&&pt.call(this,_e,be,Te,Pe,qt,vt,xt,Tt))return}},Ti.prototype._convertFromCellCoord=function(_e){return(_e-this.padding)/this.scale},Ti.prototype._convertToCellCoord=function(_e){return Math.max(0,Math.min(this.d-1,Math.floor(_e*this.scale)+this.padding))},Ti.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var _e=this.cells,be=3+this.cells.length+1+1,Te=0,Pe=0;Pe<this.cells.length;Pe++)Te+=this.cells[Pe].length;var pt=new Int32Array(be+Te+this.keys.length+this.bboxes.length);pt[0]=this.extent,pt[1]=this.n,pt[2]=this.padding;for(var vt=be,xt=0;xt<_e.length;xt++){var Tt=_e[xt];pt[3+xt]=vt,pt.set(Tt,vt),vt+=Tt.length}return pt[3+_e.length]=vt,pt.set(this.keys,vt),pt[3+_e.length+1]=vt+=this.keys.length,pt.set(this.bboxes,vt),vt+=this.bboxes.length,pt.buffer};const Ld={};function Ei(_e,be,Te={}){Object.defineProperty(_e,"_classRegistryKey",{value:be,writeable:!1}),Ld[be]={klass:_e,omit:Te.omit||[]}}Ei(Object,"Object"),Md.serialize=function(_e,be){const Te=_e.toArrayBuffer();return be&&be.push(Te),{buffer:Te}},Md.deserialize=function(_e){return new Md(_e.buffer)},Object.defineProperty(Md,"name",{value:"Grid"}),Ei(Md,"Grid"),Ei(mr,"Color"),Ei(Error,"Error"),Ei(ya,"AJAXError"),Ei(Rr,"ResolvedImage"),Ei(Cd,"StylePropertyFunction"),Ei(wd,"StyleExpression",{omit:["_evaluator"]}),Ei(Sd,"ZoomDependentExpression"),Ei(Ed,"ZoomConstantExpression"),Ei(Xr,"CompoundExpression",{omit:["_evaluate"]});for(const _e in vd)Ld[vd[_e]._classRegistryKey]||Ei(vd[_e],`Expression${_e}`);function Ci(_e){return _e&&"undefined"!=typeof ArrayBuffer&&(_e instanceof ArrayBuffer||_e.constructor&&"ArrayBuffer"===_e.constructor.name)}function Pi(_e){return be.ImageBitmap&&_e instanceof be.ImageBitmap}function Di(_e,Te){if(null==_e||"boolean"==typeof _e||"number"==typeof _e||"string"==typeof _e||_e instanceof Boolean||_e instanceof Number||_e instanceof String||_e instanceof Date||_e instanceof RegExp)return _e;if(Ci(_e)||Pi(_e))return Te&&Te.push(_e),_e;if(ArrayBuffer.isView(_e)){const be=_e;return Te&&Te.push(be.buffer),be}if(_e instanceof be.ImageData)return Te&&Te.push(_e.data.buffer),_e;if(Array.isArray(_e)){const be=[];for(const Pe of _e)be.push(Di(Pe,Te));return be}if("object"==typeof _e){const be=_e.constructor,Pe=be._classRegistryKey;if(!Pe)throw new Error(`can't serialize object of unregistered class ${Pe}`);const pt=be.serialize?be.serialize(_e,Te):{};if(!be.serialize){for(const be in _e)_e.hasOwnProperty(be)&&(Ld[Pe].omit.indexOf(be)>=0||(pt[be]=Di(_e[be],Te)));_e instanceof Error&&(pt.message=_e.message)}if(pt.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==Pe&&(pt.$name=Pe),pt}throw new Error("can't serialize object of type "+typeof _e)}function Vi(_e){if(null==_e||"boolean"==typeof _e||"number"==typeof _e||"string"==typeof _e||_e instanceof Boolean||_e instanceof Number||_e instanceof String||_e instanceof Date||_e instanceof RegExp||Ci(_e)||Pi(_e)||ArrayBuffer.isView(_e)||_e instanceof be.ImageData)return _e;if(Array.isArray(_e))return _e.map(Vi);if("object"==typeof _e){const be=_e.$name||"Object",{klass:Te}=Ld[be];if(!Te)throw new Error(`can't deserialize unregistered class ${be}`);if(Te.deserialize)return Te.deserialize(_e);const Pe=Object.create(Te.prototype);for(const be of Object.keys(_e))"$name"!==be&&(Pe[be]=Vi(_e[be]));return Pe}throw new Error("can't deserialize object of type "+typeof _e)}class Fd{constructor(){this.first=!0}update(_e,be){const Te=Math.floor(_e);return this.first?(this.first=!1,this.lastIntegerZoom=Te,this.lastIntegerZoomTime=0,this.lastZoom=_e,this.lastFloorZoom=Te,!0):(this.lastFloorZoom>Te?(this.lastIntegerZoom=Te+1,this.lastIntegerZoomTime=be):this.lastFloorZoom<Te&&(this.lastIntegerZoom=Te,this.lastIntegerZoomTime=be),_e!==this.lastZoom&&(this.lastZoom=_e,this.lastFloorZoom=Te,!0))}}const Li=_e=>_e>=1536&&_e<=1791,Ri=_e=>_e>=1872&&_e<=1919,ji=_e=>_e>=2208&&_e<=2303,Ui=_e=>_e>=11904&&_e<=12031,$i=_e=>_e>=12032&&_e<=12255,Oi=_e=>_e>=12272&&_e<=12287,qi=_e=>_e>=12288&&_e<=12351,Ni=_e=>_e>=12352&&_e<=12447,Gi=_e=>_e>=12448&&_e<=12543,Zi=_e=>_e>=12544&&_e<=12591,Xi=_e=>_e>=12704&&_e<=12735,Ki=_e=>_e>=12736&&_e<=12783,Hi=_e=>_e>=12784&&_e<=12799,Yi=_e=>_e>=12800&&_e<=13055,Wi=_e=>_e>=13056&&_e<=13311,Ji=_e=>_e>=13312&&_e<=19903,Qi=_e=>_e>=19968&&_e<=40959,ts=_e=>_e>=40960&&_e<=42127,es=_e=>_e>=42128&&_e<=42191,rs=_e=>_e>=44032&&_e<=55215,ns=_e=>_e>=63744&&_e<=64255,is=_e=>_e>=64336&&_e<=65023,ss=_e=>_e>=65040&&_e<=65055,as=_e=>_e>=65072&&_e<=65103,os=_e=>_e>=65104&&_e<=65135,ls=_e=>_e>=65136&&_e<=65279,us=_e=>_e>=65280&&_e<=65519;function cs(_e){for(const be of _e)if(fs(be.charCodeAt(0)))return!0;return!1}function hs(_e){for(const be of _e)if(!ps(be.charCodeAt(0)))return!1;return!0}function ps(_e){return!(Li(_e)||Ri(_e)||ji(_e)||is(_e)||ls(_e))}function fs(_e){return!(746!==_e&&747!==_e&&(_e<4352||!(Xi(_e)||Zi(_e)||as(_e)&&!(_e>=65097&&_e<=65103)||ns(_e)||Wi(_e)||Ui(_e)||Ki(_e)||!(!qi(_e)||_e>=12296&&_e<=12305||_e>=12308&&_e<=12319||12336===_e)||Ji(_e)||Qi(_e)||Yi(_e)||(_e=>_e>=12592&&_e<=12687)(_e)||(_e=>_e>=43360&&_e<=43391)(_e)||(_e=>_e>=55216&&_e<=55295)(_e)||(_e=>_e>=4352&&_e<=4607)(_e)||rs(_e)||Ni(_e)||Oi(_e)||(_e=>_e>=12688&&_e<=12703)(_e)||$i(_e)||Hi(_e)||Gi(_e)&&12540!==_e||!(!us(_e)||65288===_e||65289===_e||65293===_e||_e>=65306&&_e<=65310||65339===_e||65341===_e||65343===_e||_e>=65371&&_e<=65503||65507===_e||_e>=65512&&_e<=65519)||!(!os(_e)||_e>=65112&&_e<=65118||_e>=65123&&_e<=65126)||(_e=>_e>=5120&&_e<=5759)(_e)||(_e=>_e>=6320&&_e<=6399)(_e)||ss(_e)||(_e=>_e>=19904&&_e<=19967)(_e)||ts(_e)||es(_e))))}function ds(_e){return!(fs(_e)||function(_e){return!!((_e=>_e>=128&&_e<=255)(_e)&&(167===_e||169===_e||174===_e||177===_e||188===_e||189===_e||190===_e||215===_e||247===_e)||(_e=>_e>=8192&&_e<=8303)(_e)&&(8214===_e||8224===_e||8225===_e||8240===_e||8241===_e||8251===_e||8252===_e||8258===_e||8263===_e||8264===_e||8265===_e||8273===_e)||(_e=>_e>=8448&&_e<=8527)(_e)||(_e=>_e>=8528&&_e<=8591)(_e)||(_e=>_e>=8960&&_e<=9215)(_e)&&(_e>=8960&&_e<=8967||_e>=8972&&_e<=8991||_e>=8996&&_e<=9e3||9003===_e||_e>=9085&&_e<=9114||_e>=9150&&_e<=9165||9167===_e||_e>=9169&&_e<=9179||_e>=9186&&_e<=9215)||(_e=>_e>=9216&&_e<=9279)(_e)&&9251!==_e||(_e=>_e>=9280&&_e<=9311)(_e)||(_e=>_e>=9312&&_e<=9471)(_e)||(_e=>_e>=9632&&_e<=9727)(_e)||(_e=>_e>=9728&&_e<=9983)(_e)&&!(_e>=9754&&_e<=9759)||(_e=>_e>=11008&&_e<=11263)(_e)&&(_e>=11026&&_e<=11055||_e>=11088&&_e<=11097||_e>=11192&&_e<=11243)||qi(_e)||Gi(_e)||(_e=>_e>=57344&&_e<=63743)(_e)||as(_e)||os(_e)||us(_e)||8734===_e||8756===_e||8757===_e||_e>=9984&&_e<=10087||_e>=10102&&_e<=10131||65532===_e||65533===_e)}(_e))}function ys(_e){return _e>=1424&&_e<=2303||is(_e)||ls(_e)}function ms(_e,be){return!(!be&&ys(_e)||_e>=2304&&_e<=3583||_e>=3840&&_e<=4255||(_e=>_e>=6016&&_e<=6143)(_e))}function gs(_e){for(const be of _e)if(ys(be.charCodeAt(0)))return!0;return!1}const Bd="deferred",Ud="loading",Gd="loaded";let Zd=null,Wd="unavailable",Hd=null;const Ss=function(_e){_e&&"string"==typeof _e&&_e.indexOf("NetworkError")>-1&&(Wd="error"),Zd&&Zd(_e)};function ks(){$d.fire(new wa("pluginStateChange",{pluginStatus:Wd,pluginURL:Hd}))}const $d=new Ca,Ms=function(){return Wd},zs=function(){if(Wd!==Bd||!Hd)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Wd=Ud,ks(),Hd&&Et({url:Hd},(_e=>{_e?Ss(_e):(Wd=Gd,ks())}))},Xd={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Wd===Gd||null!=Xd.applyArabicShaping,isLoading:()=>Wd===Ud,setState(_e){Wd=_e.pluginStatus,Hd=_e.pluginURL},isParsed:()=>null!=Xd.applyArabicShaping&&null!=Xd.processBidirectionalText&&null!=Xd.processStyledBidirectionalText,getPluginURL:()=>Hd};class Kd{constructor(_e,be){this.zoom=_e,be?(this.now=be.now,this.fadeDuration=be.fadeDuration,this.zoomHistory=be.zoomHistory,this.transition=be.transition,this.pitch=be.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Fd,this.transition={},this.pitch=0)}isSupportedScript(_e){return function(_e,be){for(const Te of _e)if(!ms(Te.charCodeAt(0),be))return!1;return!0}(_e,Xd.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const _e=this.zoom,be=_e-Math.floor(_e),Te=this.crossFadingFactor();return _e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:be+(1-be)*Te}:{fromScale:.5,toScale:1,t:1-(1-Te)*be}}}class Jd{constructor(_e,be){this.property=_e,this.value=be,this.expression=function(_e,be){if(kn(_e))return new Cd(_e,be);if(Dn(_e)){const Te=Rn(_e,be);if("error"===Te.result)throw new Error(Te.value.map((_e=>`${_e.key}: ${_e.message}`)).join(", "));return Te.value}{let Te=_e;return"string"==typeof _e&&"color"===be.type&&(Te=mr.parse(_e)),{kind:"constant",evaluate:()=>Te}}}(void 0===be?_e.specification.default:be,_e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(_e,be,Te){return this.property.possiblyEvaluate(this,_e,be,Te)}}class Yd{constructor(_e){this.property=_e,this.value=new Jd(_e,void 0)}transitioned(_e,be){return new ul(this.property,this.value,be,v({},_e.transition,this.transition),_e.now)}untransitioned(){return new ul(this.property,this.value,null,{},0)}}class Qd{constructor(_e){this._properties=_e,this._values=Object.create(_e.defaultTransitionablePropertyValues)}getValue(_e){return T(this._values[_e].value.value)}setValue(_e,be){this._values.hasOwnProperty(_e)||(this._values[_e]=new Yd(this._values[_e].property)),this._values[_e].value=new Jd(this._values[_e].property,null===be?void 0:T(be))}getTransition(_e){return T(this._values[_e].transition)}setTransition(_e,be){this._values.hasOwnProperty(_e)||(this._values[_e]=new Yd(this._values[_e].property)),this._values[_e].transition=T(be)||void 0}serialize(){const _e={};for(const be of Object.keys(this._values)){const Te=this.getValue(be);void 0!==Te&&(_e[be]=Te);const Pe=this.getTransition(be);void 0!==Pe&&(_e[`${be}-transition`]=Pe)}return _e}transitioned(_e,be){const Te=new _l(this._properties);for(const Pe of Object.keys(this._values))Te._values[Pe]=this._values[Pe].transitioned(_e,be._values[Pe]);return Te}untransitioned(){const _e=new _l(this._properties);for(const be of Object.keys(this._values))_e._values[be]=this._values[be].untransitioned();return _e}}class ul{constructor(_e,be,Te,Pe,pt){const vt=Pe.delay||0,xt=Pe.duration||0;pt=pt||0,this.property=_e,this.value=be,this.begin=pt+vt,this.end=this.begin+xt,_e.specification.transition&&(Pe.delay||Pe.duration)&&(this.prior=Te)}possiblyEvaluate(_e,be,Te){const Pe=_e.now||0,pt=this.value.possiblyEvaluate(_e,be,Te),vt=this.prior;if(vt){if(Pe>this.end)return this.prior=null,pt;if(this.value.isDataDriven())return this.prior=null,pt;if(Pe<this.begin)return vt.possiblyEvaluate(_e,be,Te);{const xt=(Pe-this.begin)/(this.end-this.begin);return this.property.interpolate(vt.possiblyEvaluate(_e,be,Te),pt,h(xt))}}return pt}}class _l{constructor(_e){this._properties=_e,this._values=Object.create(_e.defaultTransitioningPropertyValues)}possiblyEvaluate(_e,be,Te){const Pe=new Wl(this._properties);for(const pt of Object.keys(this._values))Pe._values[pt]=this._values[pt].possiblyEvaluate(_e,be,Te);return Pe}hasTransition(){for(const _e of Object.keys(this._values))if(this._values[_e].prior)return!0;return!1}}class Rl{constructor(_e){this._properties=_e,this._values=Object.create(_e.defaultPropertyValues)}getValue(_e){return T(this._values[_e].value)}setValue(_e,be){this._values[_e]=new Jd(this._values[_e].property,null===be?void 0:T(be))}serialize(){const _e={};for(const be of Object.keys(this._values)){const Te=this.getValue(be);void 0!==Te&&(_e[be]=Te)}return _e}possiblyEvaluate(_e,be,Te){const Pe=new Wl(this._properties);for(const pt of Object.keys(this._values))Pe._values[pt]=this._values[pt].possiblyEvaluate(_e,be,Te);return Pe}}class Ul{constructor(_e,be,Te){this.property=_e,this.value=be,this.parameters=Te}isConstant(){return"constant"===this.value.kind}constantOr(_e){return"constant"===this.value.kind?this.value.value:_e}evaluate(_e,be,Te,Pe){return this.property.evaluate(this.value,this.parameters,_e,be,Te,Pe)}}class Wl{constructor(_e){this._properties=_e,this._values=Object.create(_e.defaultPossiblyEvaluatedValues)}get(_e){return this._values[_e]}}class Hl{constructor(_e){this.specification=_e}possiblyEvaluate(_e,be){return _e.expression.evaluate(be)}interpolate(_e,be,Te){const Pe=Ao[this.specification.type];return Pe?Pe(_e,be,Te):_e}}class $l{constructor(_e,be){this.specification=_e,this.overrides=be}possiblyEvaluate(_e,be,Te,Pe){return new Ul(this,"constant"===_e.expression.kind||"camera"===_e.expression.kind?{kind:"constant",value:_e.expression.evaluate(be,null,{},Te,Pe)}:_e.expression,be)}interpolate(_e,be,Te){if("constant"!==_e.value.kind||"constant"!==be.value.kind)return _e;if(void 0===_e.value.value||void 0===be.value.value)return new Ul(this,{kind:"constant",value:void 0},_e.parameters);const Pe=Ao[this.specification.type];return Pe?new Ul(this,{kind:"constant",value:Pe(_e.value.value,be.value.value,Te)},_e.parameters):_e}evaluate(_e,be,Te,Pe,pt,vt){return"constant"===_e.kind?_e.value:_e.evaluate(be,Te,Pe,pt,vt)}}class Kl extends $l{possiblyEvaluate(_e,be,Te,Pe){if(void 0===_e.value)return new Ul(this,{kind:"constant",value:void 0},be);if("constant"===_e.expression.kind){const pt=_e.expression.evaluate(be,null,{},Te,Pe),vt="resolvedImage"===_e.property.specification.type&&"string"!=typeof pt?pt.name:pt,xt=this._calculate(vt,vt,vt,be);return new Ul(this,{kind:"constant",value:xt},be)}if("camera"===_e.expression.kind){const Te=this._calculate(_e.expression.evaluate({zoom:be.zoom-1}),_e.expression.evaluate({zoom:be.zoom}),_e.expression.evaluate({zoom:be.zoom+1}),be);return new Ul(this,{kind:"constant",value:Te},be)}return new Ul(this,_e.expression,be)}evaluate(_e,be,Te,Pe,pt,vt){if("source"===_e.kind){const xt=_e.evaluate(be,Te,Pe,pt,vt);return this._calculate(xt,xt,xt,be)}return"composite"===_e.kind?this._calculate(_e.evaluate({zoom:Math.floor(be.zoom)-1},Te,Pe),_e.evaluate({zoom:Math.floor(be.zoom)},Te,Pe),_e.evaluate({zoom:Math.floor(be.zoom)+1},Te,Pe),be):_e.value}_calculate(_e,be,Te,Pe){return Pe.zoom>Pe.zoomHistory.lastIntegerZoom?{from:_e,to:be,other:Te}:{from:Te,to:be,other:_e}}interpolate(_e){return _e}}class Yl{constructor(_e){this.specification=_e}possiblyEvaluate(_e,be,Te,Pe){if(void 0!==_e.value){if("constant"===_e.expression.kind){const pt=_e.expression.evaluate(be,null,{},Te,Pe);return this._calculate(pt,pt,pt,be)}return this._calculate(_e.expression.evaluate(new Kd(Math.floor(be.zoom-1),be)),_e.expression.evaluate(new Kd(Math.floor(be.zoom),be)),_e.expression.evaluate(new Kd(Math.floor(be.zoom+1),be)),be)}}_calculate(_e,be,Te,Pe){return Pe.zoom>Pe.zoomHistory.lastIntegerZoom?{from:_e,to:be}:{from:Te,to:be}}interpolate(_e){return _e}}class eu{constructor(_e){this.specification=_e}possiblyEvaluate(_e,be,Te,Pe){return!!_e.expression.evaluate(be,null,{},Te,Pe)}interpolate(){return!1}}class tu{constructor(_e){this.properties=_e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const be=new Kd(0,{});for(const Te in _e){const Pe=_e[Te];Pe.specification.overridable&&this.overridableProperties.push(Te);const pt=this.defaultPropertyValues[Te]=new Jd(Pe,void 0),vt=this.defaultTransitionablePropertyValues[Te]=new Yd(Pe);this.defaultTransitioningPropertyValues[Te]=vt.untransitioned(),this.defaultPossiblyEvaluatedValues[Te]=pt.possiblyEvaluate(be)}}}function Gs(_e,be){return 256*(_e=d(Math.floor(_e),0,255))+d(Math.floor(be),0,255)}Ei($l,"DataDrivenProperty"),Ei(Hl,"DataConstantProperty"),Ei(Kl,"CrossFadedDataDrivenProperty"),Ei(Yl,"CrossFadedProperty"),Ei(eu,"ColorRampProperty");const nu={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ou{constructor(_e,be){this._structArray=_e,this._pos1=be*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class du{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(_e,be){return _e._trim(),be&&(_e.isTransferred=!0,be.push(_e.arrayBuffer)),{length:_e.length,arrayBuffer:_e.arrayBuffer}}static deserialize(_e){const be=Object.create(this.prototype);return be.arrayBuffer=_e.arrayBuffer,be.length=_e.length,be.capacity=_e.arrayBuffer.byteLength/be.bytesPerElement,be._refreshViews(),be}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(_e){this.reserve(_e),this.length=_e}reserve(_e){if(_e>this.capacity){this.capacity=Math.max(_e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const be=this.uint8;this._refreshViews(),be&&this.uint8.set(be)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Hs(_e,be=1){let Te=0,Pe=0;return{members:_e.map((_e=>{const pt=nu[_e.type].BYTES_PER_ELEMENT,vt=Te=Ys(Te,Math.max(be,pt)),xt=_e.components||1;return Pe=Math.max(Pe,pt),Te+=pt*xt,{name:_e.name,type:_e.type,components:xt,offset:vt}})),size:Ys(Te,Math.max(Pe,be)),alignment:be}}function Ys(_e,be){return Math.ceil(_e/be)*be}class lu extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,be){const Te=this.length;return this.resize(Te+1),this.emplace(Te,_e,be)}emplace(_e,be,Te){const Pe=2*_e;return this.int16[Pe+0]=be,this.int16[Pe+1]=Te,_e}}lu.prototype.bytesPerElement=4,Ei(lu,"StructArrayLayout2i4");class uu extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,be,Te){const Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,_e,be,Te)}emplace(_e,be,Te,Pe){const pt=3*_e;return this.int16[pt+0]=be,this.int16[pt+1]=Te,this.int16[pt+2]=Pe,_e}}uu.prototype.bytesPerElement=6,Ei(uu,"StructArrayLayout3i6");class hu extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe){const pt=this.length;return this.resize(pt+1),this.emplace(pt,_e,be,Te,Pe)}emplace(_e,be,Te,Pe,pt){const vt=4*_e;return this.int16[vt+0]=be,this.int16[vt+1]=Te,this.int16[vt+2]=Pe,this.int16[vt+3]=pt,_e}}hu.prototype.bytesPerElement=8,Ei(hu,"StructArrayLayout4i8");class pu extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt,vt,xt){const Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,_e,be,Te,Pe,pt,vt,xt)}emplace(_e,be,Te,Pe,pt,vt,xt,Tt){const It=6*_e,Mt=12*_e,Lt=3*_e;return this.int16[It+0]=be,this.int16[It+1]=Te,this.uint8[Mt+4]=Pe,this.uint8[Mt+5]=pt,this.uint8[Mt+6]=vt,this.uint8[Mt+7]=xt,this.float32[Lt+2]=Tt,_e}}pu.prototype.bytesPerElement=12,Ei(pu,"StructArrayLayout2i4ub1f12");class fu extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe){const pt=this.length;return this.resize(pt+1),this.emplace(pt,_e,be,Te,Pe)}emplace(_e,be,Te,Pe,pt){const vt=4*_e;return this.float32[vt+0]=be,this.float32[vt+1]=Te,this.float32[vt+2]=Pe,this.float32[vt+3]=pt,_e}}fu.prototype.bytesPerElement=16,Ei(fu,"StructArrayLayout4f16");class yu extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt){const Lt=this.length;return this.resize(Lt+1),this.emplace(Lt,_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt)}emplace(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt){const Ft=10*_e;return this.uint16[Ft+0]=be,this.uint16[Ft+1]=Te,this.uint16[Ft+2]=Pe,this.uint16[Ft+3]=pt,this.uint16[Ft+4]=vt,this.uint16[Ft+5]=xt,this.uint16[Ft+6]=Tt,this.uint16[Ft+7]=It,this.uint16[Ft+8]=Mt,this.uint16[Ft+9]=Lt,_e}}yu.prototype.bytesPerElement=20,Ei(yu,"StructArrayLayout10ui20");class Wu extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt,vt,xt,Tt){const It=this.length;return this.resize(It+1),this.emplace(It,_e,be,Te,Pe,pt,vt,xt,Tt)}emplace(_e,be,Te,Pe,pt,vt,xt,Tt,It){const Mt=8*_e;return this.uint16[Mt+0]=be,this.uint16[Mt+1]=Te,this.uint16[Mt+2]=Pe,this.uint16[Mt+3]=pt,this.uint16[Mt+4]=vt,this.uint16[Mt+5]=xt,this.uint16[Mt+6]=Tt,this.uint16[Mt+7]=It,_e}}Wu.prototype.bytesPerElement=16,Ei(Wu,"StructArrayLayout8ui16");class Ju extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt,vt){const xt=this.length;return this.resize(xt+1),this.emplace(xt,_e,be,Te,Pe,pt,vt)}emplace(_e,be,Te,Pe,pt,vt,xt){const Tt=6*_e;return this.int16[Tt+0]=be,this.int16[Tt+1]=Te,this.int16[Tt+2]=Pe,this.int16[Tt+3]=pt,this.int16[Tt+4]=vt,this.int16[Tt+5]=xt,_e}}Ju.prototype.bytesPerElement=12,Ei(Ju,"StructArrayLayout6i12");class Yu extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft){const Ot=this.length;return this.resize(Ot+1),this.emplace(Ot,_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft)}emplace(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot){const Vt=12*_e;return this.int16[Vt+0]=be,this.int16[Vt+1]=Te,this.int16[Vt+2]=Pe,this.int16[Vt+3]=pt,this.uint16[Vt+4]=vt,this.uint16[Vt+5]=xt,this.uint16[Vt+6]=Tt,this.uint16[Vt+7]=It,this.int16[Vt+8]=Mt,this.int16[Vt+9]=Lt,this.int16[Vt+10]=Ft,this.int16[Vt+11]=Ot,_e}}Yu.prototype.bytesPerElement=24,Ei(Yu,"StructArrayLayout4i4ui4i24");class Qu extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt,vt){const xt=this.length;return this.resize(xt+1),this.emplace(xt,_e,be,Te,Pe,pt,vt)}emplace(_e,be,Te,Pe,pt,vt,xt){const Tt=10*_e,It=5*_e;return this.int16[Tt+0]=be,this.int16[Tt+1]=Te,this.int16[Tt+2]=Pe,this.float32[It+2]=pt,this.float32[It+3]=vt,this.float32[It+4]=xt,_e}}Qu.prototype.bytesPerElement=20,Ei(Qu,"StructArrayLayout3i3f20");class ec extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(_e){const be=this.length;return this.resize(be+1),this.emplace(be,_e)}emplace(_e,be){return this.uint32[1*_e+0]=be,_e}}ec.prototype.bytesPerElement=4,Ei(ec,"StructArrayLayout1ul4");class rc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot){const Vt=this.length;return this.resize(Vt+1),this.emplace(Vt,_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot)}emplace(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt){const qt=20*_e,Wt=10*_e;return this.int16[qt+0]=be,this.int16[qt+1]=Te,this.int16[qt+2]=Pe,this.int16[qt+3]=pt,this.int16[qt+4]=vt,this.float32[Wt+3]=xt,this.float32[Wt+4]=Tt,this.float32[Wt+5]=It,this.float32[Wt+6]=Mt,this.int16[qt+14]=Lt,this.uint32[Wt+8]=Ft,this.uint16[qt+18]=Ot,this.uint16[qt+19]=Vt,_e}}rc.prototype.bytesPerElement=40,Ei(rc,"StructArrayLayout5i4f1i1ul2ui40");class oc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt,vt,xt){const Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,_e,be,Te,Pe,pt,vt,xt)}emplace(_e,be,Te,Pe,pt,vt,xt,Tt){const It=8*_e;return this.int16[It+0]=be,this.int16[It+1]=Te,this.int16[It+2]=Pe,this.int16[It+4]=pt,this.int16[It+5]=vt,this.int16[It+6]=xt,this.int16[It+7]=Tt,_e}}oc.prototype.bytesPerElement=16,Ei(oc,"StructArrayLayout3i2i2i16");class dc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt){const vt=this.length;return this.resize(vt+1),this.emplace(vt,_e,be,Te,Pe,pt)}emplace(_e,be,Te,Pe,pt,vt){const xt=4*_e,Tt=8*_e;return this.float32[xt+0]=be,this.float32[xt+1]=Te,this.float32[xt+2]=Pe,this.int16[Tt+6]=pt,this.int16[Tt+7]=vt,_e}}dc.prototype.bytesPerElement=16,Ei(dc,"StructArrayLayout2f1f2i16");class hc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe){const pt=this.length;return this.resize(pt+1),this.emplace(pt,_e,be,Te,Pe)}emplace(_e,be,Te,Pe,pt){const vt=12*_e,xt=3*_e;return this.uint8[vt+0]=be,this.uint8[vt+1]=Te,this.float32[xt+1]=Pe,this.float32[xt+2]=pt,_e}}hc.prototype.bytesPerElement=12,Ei(hc,"StructArrayLayout2ub2f12");class gc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,be,Te){const Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,_e,be,Te)}emplace(_e,be,Te,Pe){const pt=3*_e;return this.float32[pt+0]=be,this.float32[pt+1]=Te,this.float32[pt+2]=Pe,_e}}gc.prototype.bytesPerElement=12,Ei(gc,"StructArrayLayout3f12");class fc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,be,Te){const Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,_e,be,Te)}emplace(_e,be,Te,Pe){const pt=3*_e;return this.uint16[pt+0]=be,this.uint16[pt+1]=Te,this.uint16[pt+2]=Pe,_e}}fc.prototype.bytesPerElement=6,Ei(fc,"StructArrayLayout3ui6");class Rc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt,Jt,Yt,Qt){const an=this.length;return this.resize(an+1),this.emplace(an,_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt,Jt,Yt,Qt)}emplace(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt,Jt,Yt,Qt,an){const cn=30*_e,hn=15*_e,pn=60*_e;return this.int16[cn+0]=be,this.int16[cn+1]=Te,this.int16[cn+2]=Pe,this.float32[hn+2]=pt,this.float32[hn+3]=vt,this.uint16[cn+8]=xt,this.uint16[cn+9]=Tt,this.uint32[hn+5]=It,this.uint32[hn+6]=Mt,this.uint32[hn+7]=Lt,this.uint16[cn+16]=Ft,this.uint16[cn+17]=Ot,this.uint16[cn+18]=Vt,this.float32[hn+10]=qt,this.float32[hn+11]=Wt,this.uint8[pn+48]=$t,this.uint8[pn+49]=Kt,this.uint8[pn+50]=Jt,this.uint32[hn+13]=Yt,this.int16[cn+28]=Qt,this.uint8[pn+58]=an,_e}}Rc.prototype.bytesPerElement=60,Ei(Rc,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class kc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt,Jt,Yt,Qt,an,cn,hn,pn,xn,Pn,Ln,Fn,jn){const $n=this.length;return this.resize($n+1),this.emplace($n,_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt,Jt,Yt,Qt,an,cn,hn,pn,xn,Pn,Ln,Fn,jn)}emplace(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt,Jt,Yt,Qt,an,cn,hn,pn,xn,Pn,Ln,Fn,jn,$n){const ea=38*_e,na=19*_e;return this.int16[ea+0]=be,this.int16[ea+1]=Te,this.int16[ea+2]=Pe,this.float32[na+2]=pt,this.float32[na+3]=vt,this.int16[ea+8]=xt,this.int16[ea+9]=Tt,this.int16[ea+10]=It,this.int16[ea+11]=Mt,this.int16[ea+12]=Lt,this.int16[ea+13]=Ft,this.uint16[ea+14]=Ot,this.uint16[ea+15]=Vt,this.uint16[ea+16]=qt,this.uint16[ea+17]=Wt,this.uint16[ea+18]=$t,this.uint16[ea+19]=Kt,this.uint16[ea+20]=Jt,this.uint16[ea+21]=Yt,this.uint16[ea+22]=Qt,this.uint16[ea+23]=an,this.uint16[ea+24]=cn,this.uint16[ea+25]=hn,this.uint16[ea+26]=pn,this.uint16[ea+27]=xn,this.uint16[ea+28]=Pn,this.uint32[na+15]=Ln,this.float32[na+16]=Fn,this.float32[na+17]=jn,this.float32[na+18]=$n,_e}}kc.prototype.bytesPerElement=76,Ei(kc,"StructArrayLayout3i2f6i15ui1ul3f76");class Pc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e){const be=this.length;return this.resize(be+1),this.emplace(be,_e)}emplace(_e,be){return this.float32[1*_e+0]=be,_e}}Pc.prototype.bytesPerElement=4,Ei(Pc,"StructArrayLayout1f4");class Ic extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt,vt,xt){const Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,_e,be,Te,Pe,pt,vt,xt)}emplace(_e,be,Te,Pe,pt,vt,xt,Tt){const It=7*_e;return this.float32[It+0]=be,this.float32[It+1]=Te,this.float32[It+2]=Pe,this.float32[It+3]=pt,this.float32[It+4]=vt,this.float32[It+5]=xt,this.float32[It+6]=Tt,_e}}Ic.prototype.bytesPerElement=28,Ei(Ic,"StructArrayLayout7f28");class Lc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe,pt){const vt=this.length;return this.resize(vt+1),this.emplace(vt,_e,be,Te,Pe,pt)}emplace(_e,be,Te,Pe,pt,vt){const xt=5*_e;return this.float32[xt+0]=be,this.float32[xt+1]=Te,this.float32[xt+2]=Pe,this.float32[xt+3]=pt,this.float32[xt+4]=vt,_e}}Lc.prototype.bytesPerElement=20,Ei(Lc,"StructArrayLayout5f20");class Fc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,be,Te,Pe){const pt=this.length;return this.resize(pt+1),this.emplace(pt,_e,be,Te,Pe)}emplace(_e,be,Te,Pe,pt){const vt=6*_e;return this.uint32[3*_e+0]=be,this.uint16[vt+2]=Te,this.uint16[vt+3]=Pe,this.uint16[vt+4]=pt,_e}}Fc.prototype.bytesPerElement=12,Ei(Fc,"StructArrayLayout1ul3ui12");class jc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e,be){const Te=this.length;return this.resize(Te+1),this.emplace(Te,_e,be)}emplace(_e,be,Te){const Pe=2*_e;return this.uint16[Pe+0]=be,this.uint16[Pe+1]=Te,_e}}jc.prototype.bytesPerElement=4,Ei(jc,"StructArrayLayout2ui4");class Nc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(_e){const be=this.length;return this.resize(be+1),this.emplace(be,_e)}emplace(_e,be){return this.uint16[1*_e+0]=be,_e}}Nc.prototype.bytesPerElement=2,Ei(Nc,"StructArrayLayout1ui2");class Gc extends du{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(_e,be){const Te=this.length;return this.resize(Te+1),this.emplace(Te,_e,be)}emplace(_e,be,Te){const Pe=2*_e;return this.float32[Pe+0]=be,this.float32[Pe+1]=Te,_e}}Gc.prototype.bytesPerElement=8,Ei(Gc,"StructArrayLayout2f8");class qc extends ou{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}qc.prototype.size=12;class Hc extends Ju{get(_e){return new qc(this,_e)}}Ei(Hc,"FillExtrusionExtArray");class Kc extends ou{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Kc.prototype.size=40;class nh extends rc{get(_e){return new Kc(this,_e)}}Ei(nh,"CollisionBoxArray");class hh extends ou{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(_e){this._structArray.uint8[this._pos1+49]=_e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(_e){this._structArray.uint8[this._pos1+50]=_e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(_e){this._structArray.uint32[this._pos4+13]=_e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(_e){this._structArray.uint8[this._pos1+58]=_e}}hh.prototype.size=60;class Rh extends Rc{get(_e){return new hh(this,_e)}}Ei(Rh,"PlacedSymbolArray");class Ch extends ou{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(_e){this._structArray.uint32[this._pos4+15]=_e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Ch.prototype.size=76;class Dh extends kc{get(_e){return new Ch(this,_e)}}Ei(Dh,"SymbolInstanceArray");class Ph extends Pc{getoffsetX(_e){return this.float32[1*_e+0]}}Ei(Ph,"GlyphOffsetArray");class Fh extends uu{getx(_e){return this.int16[3*_e+0]}gety(_e){return this.int16[3*_e+1]}gettileUnitDistanceFromAnchor(_e){return this.int16[3*_e+2]}}Ei(Fh,"SymbolLineVertexArray");class jh extends ou{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}jh.prototype.size=12;class Vh extends Fc{get(_e){return new jh(this,_e)}}Ei(Vh,"FeatureIndexArray");class Yh extends ou{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}Yh.prototype.size=4;class sp extends jc{get(_e){return new Yh(this,_e)}}Ei(sp,"FillExtrusionCentroidArray");class lp extends ou{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}lp.prototype.size=12;class up extends Ju{get(_e){return new lp(this,_e)}}Ei(up,"CircleGlobeExtArray");const mp=Hs([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),_p=Hs([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var Rp=de((function(_e){_e.exports=function(_e,be){var Te,Pe,pt,vt,xt,Tt,It,Mt;for(Pe=_e.length-(Te=3&_e.length),pt=be,xt=3432918353,Tt=461845907,Mt=0;Mt<Pe;)It=255&_e.charCodeAt(Mt)|(255&_e.charCodeAt(++Mt))<<8|(255&_e.charCodeAt(++Mt))<<16|(255&_e.charCodeAt(++Mt))<<24,++Mt,pt=27492+(65535&(vt=5*(65535&(pt=(pt^=It=(65535&(It=(It=(65535&It)*xt+(((It>>>16)*xt&65535)<<16)&4294967295)<<15|It>>>17))*Tt+(((It>>>16)*Tt&65535)<<16)&4294967295)<<13|pt>>>19))+((5*(pt>>>16)&65535)<<16)&4294967295))+((58964+(vt>>>16)&65535)<<16);switch(It=0,Te){case 3:It^=(255&_e.charCodeAt(Mt+2))<<16;case 2:It^=(255&_e.charCodeAt(Mt+1))<<8;case 1:pt^=It=(65535&(It=(It=(65535&(It^=255&_e.charCodeAt(Mt)))*xt+(((It>>>16)*xt&65535)<<16)&4294967295)<<15|It>>>17))*Tt+(((It>>>16)*Tt&65535)<<16)&4294967295}return pt^=_e.length,pt=2246822507*(65535&(pt^=pt>>>16))+((2246822507*(pt>>>16)&65535)<<16)&4294967295,pt=3266489909*(65535&(pt^=pt>>>13))+((3266489909*(pt>>>16)&65535)<<16)&4294967295,(pt^=pt>>>16)>>>0}})),wp=de((function(_e){_e.exports=function(_e,be){for(var Te,Pe=_e.length,pt=be^Pe,vt=0;Pe>=4;)Te=1540483477*(65535&(Te=255&_e.charCodeAt(vt)|(255&_e.charCodeAt(++vt))<<8|(255&_e.charCodeAt(++vt))<<16|(255&_e.charCodeAt(++vt))<<24))+((1540483477*(Te>>>16)&65535)<<16),pt=1540483477*(65535&pt)+((1540483477*(pt>>>16)&65535)<<16)^(Te=1540483477*(65535&(Te^=Te>>>24))+((1540483477*(Te>>>16)&65535)<<16)),Pe-=4,++vt;switch(Pe){case 3:pt^=(255&_e.charCodeAt(vt+2))<<16;case 2:pt^=(255&_e.charCodeAt(vt+1))<<8;case 1:pt=1540483477*(65535&(pt^=255&_e.charCodeAt(vt)))+((1540483477*(pt>>>16)&65535)<<16)}return pt=1540483477*(65535&(pt^=pt>>>13))+((1540483477*(pt>>>16)&65535)<<16),(pt^=pt>>>15)>>>0}})),Dp=Rp,Pp=wp;Dp.murmur3=Rp,Dp.murmur2=Pp;class Mp{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(_e,be,Te,Pe){this.ids.push(Za(_e)),this.positions.push(be,Te,Pe)}getPositions(_e){const be=Za(_e);let Te=0,Pe=this.ids.length-1;for(;Te<Pe;){const _e=Te+Pe>>1;this.ids[_e]>=be?Pe=_e:Te=_e+1}const pt=[];for(;this.ids[Te]===be;)pt.push({index:this.positions[3*Te],start:this.positions[3*Te+1],end:this.positions[3*Te+2]}),Te++;return pt}static serialize(_e,be){const Te=new Float64Array(_e.ids),Pe=new Uint32Array(_e.positions);return Xa(Te,Pe,0,Te.length-1),be&&be.push(Te.buffer,Pe.buffer),{ids:Te,positions:Pe}}static deserialize(_e){const be=new Mp;return be.ids=_e.ids,be.positions=_e.positions,be.indexed=!0,be}}function Za(_e){const be=+_e;return!isNaN(be)&&Number.MIN_SAFE_INTEGER<=be&&be<=Number.MAX_SAFE_INTEGER?be:Dp(String(_e))}function Xa(_e,be,Te,Pe){for(;Te<Pe;){const pt=_e[Te+Pe>>1];let vt=Te-1,xt=Pe+1;for(;;){do{vt++}while(_e[vt]<pt);do{xt--}while(_e[xt]>pt);if(vt>=xt)break;Ka(_e,vt,xt),Ka(be,3*vt,3*xt),Ka(be,3*vt+1,3*xt+1),Ka(be,3*vt+2,3*xt+2)}xt-Te<Pe-xt?(Xa(_e,be,Te,xt),Te=xt+1):(Xa(_e,be,xt+1,Pe),Pe=xt)}}function Ka(_e,be,Te){const Pe=_e[be];_e[be]=_e[Te],_e[Te]=Pe}Ei(Mp,"FeaturePositionMap");class Lp{constructor(_e,be){this.gl=_e.gl,this.location=be}}class Fp extends Lp{constructor(_e,be){super(_e,be),this.current=0}set(_e){this.current!==_e&&(this.current=_e,this.gl.uniform1f(this.location,_e))}}class Op extends Lp{constructor(_e,be){super(_e,be),this.current=[0,0,0,0]}set(_e){_e[0]===this.current[0]&&_e[1]===this.current[1]&&_e[2]===this.current[2]&&_e[3]===this.current[3]||(this.current=_e,this.gl.uniform4f(this.location,_e[0],_e[1],_e[2],_e[3]))}}class jp extends Lp{constructor(_e,be){super(_e,be),this.current=mr.transparent}set(_e){_e.r===this.current.r&&_e.g===this.current.g&&_e.b===this.current.b&&_e.a===this.current.a||(this.current=_e,this.gl.uniform4f(this.location,_e.r,_e.g,_e.b,_e.a))}}const Np=new Float32Array(16),Vp=new Float32Array(9),Up=new Float32Array(4);function ro(_e){return[Gs(255*_e.r,255*_e.g),Gs(255*_e.b,255*_e.a)]}class $p{constructor(_e,be,Te){this.value=_e,this.uniformNames=be.map((_e=>`u_${_e}`)),this.type=Te}setUniform(_e,be,Te){_e.set(Te.constantOr(this.value))}getBinding(_e,be,Te){return"color"===this.type?new jp(_e,be):new Fp(_e,be)}}class eg{constructor(_e,be){this.uniformNames=be.map((_e=>`u_${_e}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(_e,be){this.pixelRatioFrom=be.pixelRatio||1,this.pixelRatioTo=_e.pixelRatio||1,this.patternFrom=be.tl.concat(be.br),this.patternTo=_e.tl.concat(_e.br)}setUniform(_e,be,Te,Pe){const pt="u_pattern_to"===Pe||"u_dash_to"===Pe?this.patternTo:"u_pattern_from"===Pe||"u_dash_from"===Pe?this.patternFrom:"u_pixel_ratio_to"===Pe?this.pixelRatioTo:"u_pixel_ratio_from"===Pe?this.pixelRatioFrom:null;pt&&_e.set(pt)}getBinding(_e,be,Te){return"u_pattern_from"===Te||"u_pattern_to"===Te||"u_dash_from"===Te||"u_dash_to"===Te?new Op(_e,be):new Fp(_e,be)}}class ng{constructor(_e,be,Te,Pe){this.expression=_e,this.type=Te,this.maxValue=0,this.paintVertexAttributes=be.map((_e=>({name:`a_${_e}`,type:"Float32",components:"color"===Te?2:1,offset:0}))),this.paintVertexArray=new Pe}populatePaintArray(_e,be,Te,Pe,pt,vt){const xt=this.paintVertexArray.length,Tt=this.expression.evaluate(new Kd(0),be,{},pt,Pe,vt);this.paintVertexArray.resize(_e),this._setPaintValue(xt,_e,Tt)}updatePaintArray(_e,be,Te,Pe,pt){const vt=this.expression.evaluate({zoom:0},Te,Pe,void 0,pt);this._setPaintValue(_e,be,vt)}_setPaintValue(_e,be,Te){if("color"===this.type){const Pe=ro(Te);for(let Te=_e;Te<be;Te++)this.paintVertexArray.emplace(Te,Pe[0],Pe[1])}else{for(let Pe=_e;Pe<be;Pe++)this.paintVertexArray.emplace(Pe,Te);this.maxValue=Math.max(this.maxValue,Math.abs(Te))}}upload(_e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=_e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class rg{constructor(_e,be,Te,Pe,pt,vt){this.expression=_e,this.uniformNames=be.map((_e=>`u_${_e}_t`)),this.type=Te,this.useIntegerZoom=Pe,this.zoom=pt,this.maxValue=0,this.paintVertexAttributes=be.map((_e=>({name:`a_${_e}`,type:"Float32",components:"color"===Te?4:2,offset:0}))),this.paintVertexArray=new vt}populatePaintArray(_e,be,Te,Pe,pt,vt){const xt=this.expression.evaluate(new Kd(this.zoom),be,{},pt,Pe,vt),Tt=this.expression.evaluate(new Kd(this.zoom+1),be,{},pt,Pe,vt),It=this.paintVertexArray.length;this.paintVertexArray.resize(_e),this._setPaintValue(It,_e,xt,Tt)}updatePaintArray(_e,be,Te,Pe,pt){const vt=this.expression.evaluate({zoom:this.zoom},Te,Pe,void 0,pt),xt=this.expression.evaluate({zoom:this.zoom+1},Te,Pe,void 0,pt);this._setPaintValue(_e,be,vt,xt)}_setPaintValue(_e,be,Te,Pe){if("color"===this.type){const pt=ro(Te),vt=ro(Pe);for(let Te=_e;Te<be;Te++)this.paintVertexArray.emplace(Te,pt[0],pt[1],vt[0],vt[1])}else{for(let pt=_e;pt<be;pt++)this.paintVertexArray.emplace(pt,Te,Pe);this.maxValue=Math.max(this.maxValue,Math.abs(Te),Math.abs(Pe))}}upload(_e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=_e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(_e,be){const Te=this.useIntegerZoom?Math.floor(be.zoom):be.zoom,Pe=d(this.expression.interpolationFactor(Te,this.zoom,this.zoom+1),0,1);_e.set(Pe)}getBinding(_e,be,Te){return new Fp(_e,be)}}class og{constructor(_e,be,Te,Pe,pt,vt,xt){this.expression=_e,this.type=Te,this.useIntegerZoom=Pe,this.zoom=pt,this.layerId=xt,this.paintVertexAttributes=("array"===Te?_p:mp).members;for(let _e=0;_e<be.length;++_e);this.zoomInPaintVertexArray=new vt,this.zoomOutPaintVertexArray=new vt}populatePaintArray(_e,be,Te){const Pe=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(_e),this.zoomOutPaintVertexArray.resize(_e),this._setPaintValues(Pe,_e,be.patterns&&be.patterns[this.layerId],Te)}updatePaintArray(_e,be,Te,Pe,pt,vt){this._setPaintValues(_e,be,Te.patterns&&Te.patterns[this.layerId],vt)}_setPaintValues(_e,be,Te,Pe){if(!Pe||!Te)return;const{min:pt,mid:vt,max:xt}=Te,Tt=Pe[pt],It=Pe[vt],Mt=Pe[xt];if(Tt&&It&&Mt)for(let Te=_e;Te<be;Te++)this._setPaintValue(this.zoomInPaintVertexArray,Te,It,Tt),this._setPaintValue(this.zoomOutPaintVertexArray,Te,It,Mt)}_setPaintValue(_e,be,Te,Pe){_e.emplace(be,Te.tl[0],Te.tl[1],Te.br[0],Te.br[1],Pe.tl[0],Pe.tl[1],Pe.br[0],Pe.br[1],Te.pixelRatio,Pe.pixelRatio)}upload(_e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=_e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=_e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class sg{constructor(_e,be,Te=(()=>!0)){this.binders={},this._buffers=[];const Pe=[];for(const pt in _e.paint._values){if(!Te(pt))continue;const vt=_e.paint.get(pt);if(!(vt instanceof Ul&&_n(vt.property.specification)))continue;const xt=ho(pt,_e.type),Tt=vt.value,It=vt.property.specification.type,Mt=vt.property.useIntegerZoom,Lt=vt.property.specification["property-type"],Ft="cross-faded"===Lt||"cross-faded-data-driven"===Lt,Ot="line-dasharray"===String(pt)&&"constant"!==_e.layout.get("line-cap").value.kind;if("constant"!==Tt.kind||Ot)if("source"===Tt.kind||Ot||Ft){const Te=yo(pt,It,"source");this.binders[pt]=Ft?new og(Tt,xt,It,Mt,be,Te,_e.id):new ng(Tt,xt,It,Te),Pe.push(`/a_${pt}`)}else{const _e=yo(pt,It,"composite");this.binders[pt]=new rg(Tt,xt,It,Mt,be,_e),Pe.push(`/z_${pt}`)}else this.binders[pt]=Ft?new eg(Tt.value,xt):new $p(Tt.value,xt,It),Pe.push(`/u_${pt}`)}this.cacheKey=Pe.sort().join("")}getMaxValue(_e){const be=this.binders[_e];return be instanceof ng||be instanceof rg?be.maxValue:0}populatePaintArrays(_e,be,Te,Pe,pt,vt){for(const xt in this.binders){const Tt=this.binders[xt];(Tt instanceof ng||Tt instanceof rg||Tt instanceof og)&&Tt.populatePaintArray(_e,be,Te,Pe,pt,vt)}}setConstantPatternPositions(_e,be){for(const Te in this.binders){const Pe=this.binders[Te];Pe instanceof eg&&Pe.setConstantPatternPositions(_e,be)}}updatePaintArrays(_e,be,Te,Pe,pt,vt){let xt=!1;for(const Tt in _e){const It=be.getPositions(Tt);for(const be of It){const It=Te.feature(be.index);for(const Te in this.binders){const Mt=this.binders[Te];if((Mt instanceof ng||Mt instanceof rg||Mt instanceof og)&&!0===Mt.expression.isStateDependent){const Lt=Pe.paint.get(Te);Mt.expression=Lt.value,Mt.updatePaintArray(be.start,be.end,It,_e[Tt],pt,vt),xt=!0}}}}return xt}defines(){const _e=[];for(const be in this.binders){const Te=this.binders[be];(Te instanceof $p||Te instanceof eg)&&_e.push(...Te.uniformNames.map((_e=>`#define HAS_UNIFORM_${_e}`)))}return _e}getBinderAttributes(){const _e=[];for(const be in this.binders){const Te=this.binders[be];if(Te instanceof ng||Te instanceof rg||Te instanceof og)for(let be=0;be<Te.paintVertexAttributes.length;be++)_e.push(Te.paintVertexAttributes[be].name)}return _e}getBinderUniforms(){const _e=[];for(const be in this.binders){const Te=this.binders[be];if(Te instanceof $p||Te instanceof eg||Te instanceof rg)for(const be of Te.uniformNames)_e.push(be)}return _e}getPaintVertexBuffers(){return this._buffers}getUniforms(_e,be){const Te=[];for(const Pe in this.binders){const pt=this.binders[Pe];if(pt instanceof $p||pt instanceof eg||pt instanceof rg)for(const vt of pt.uniformNames)if(be[vt]){const xt=pt.getBinding(_e,be[vt],vt);Te.push({name:vt,property:Pe,binding:xt})}}return Te}setUniforms(_e,be,Te,Pe){for(const{name:_e,property:pt,binding:vt}of be)this.binders[pt].setUniform(vt,Pe,Te.get(pt),_e)}updatePaintBuffers(_e){this._buffers=[];for(const be in this.binders){const Te=this.binders[be];if(_e&&Te instanceof og){const be=2===_e.fromScale?Te.zoomInPaintVertexBuffer:Te.zoomOutPaintVertexBuffer;be&&this._buffers.push(be)}else(Te instanceof ng||Te instanceof rg)&&Te.paintVertexBuffer&&this._buffers.push(Te.paintVertexBuffer)}}upload(_e){for(const be in this.binders){const Te=this.binders[be];(Te instanceof ng||Te instanceof rg||Te instanceof og)&&Te.upload(_e)}this.updatePaintBuffers()}destroy(){for(const _e in this.binders){const be=this.binders[_e];(be instanceof ng||be instanceof rg||be instanceof og)&&be.destroy()}}}class lg{constructor(_e,be,Te=(()=>!0)){this.programConfigurations={};for(const Pe of _e)this.programConfigurations[Pe.id]=new sg(Pe,be,Te);this.needsUpload=!1,this._featureMap=new Mp,this._bufferOffset=0}populatePaintArrays(_e,be,Te,Pe,pt,vt,xt){for(const Te in this.programConfigurations)this.programConfigurations[Te].populatePaintArrays(_e,be,Pe,pt,vt,xt);void 0!==be.id&&this._featureMap.add(be.id,Te,this._bufferOffset,_e),this._bufferOffset=_e,this.needsUpload=!0}updatePaintArrays(_e,be,Te,Pe,pt){for(const vt of Te)this.needsUpload=this.programConfigurations[vt.id].updatePaintArrays(_e,this._featureMap,be,vt,Pe,pt)||this.needsUpload}get(_e){return this.programConfigurations[_e]}upload(_e){if(this.needsUpload){for(const be in this.programConfigurations)this.programConfigurations[be].upload(_e);this.needsUpload=!1}}destroy(){for(const _e in this.programConfigurations)this.programConfigurations[_e].destroy()}}const pg={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function ho(_e,be){return pg[_e]||[_e.replace(`${be}-`,"").replace(/-/g,"_")]}const gg={"line-pattern":{source:yu,composite:yu},"fill-pattern":{source:yu,composite:yu},"fill-extrusion-pattern":{source:yu,composite:yu},"line-dasharray":{source:Wu,composite:Wu}},fg={color:{source:Gc,composite:fu},number:{source:Pc,composite:Gc}};function yo(_e,be,Te){const Pe=gg[_e];return Pe&&Pe[Te]||fg[be][Te]}Ei($p,"ConstantBinder"),Ei(eg,"CrossFadedConstantBinder"),Ei(ng,"SourceExpressionBinder"),Ei(og,"CrossFadedCompositeBinder"),Ei(rg,"CompositeExpressionBinder"),Ei(sg,"ProgramConfiguration",{omit:["_buffers"]}),Ei(lg,"ProgramConfigurationSet");const mg="-transition";class yg extends Ca{constructor(_e,be){if(super(),this.id=_e.id,this.type=_e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==_e.type&&(this.metadata=(_e=_e).metadata,this.minzoom=_e.minzoom,this.maxzoom=_e.maxzoom,"background"!==_e.type&&"sky"!==_e.type&&(this.source=_e.source,this.sourceLayer=_e["source-layer"],this.filter=_e.filter),be.layout&&(this._unevaluatedLayout=new Rl(be.layout)),be.paint)){this._transitionablePaint=new Qd(be.paint);for(const be in _e.paint)this.setPaintProperty(be,_e.paint[be],{validate:!1});for(const be in _e.layout)this.setLayoutProperty(be,_e.layout[be],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Wl(be.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(_e){return"visibility"===_e?this.visibility:this._unevaluatedLayout.getValue(_e)}setLayoutProperty(_e,be,Te={}){null!=be&&this._validate(ki,`layers.${this.id}.layout.${_e}`,_e,be,Te)||("visibility"!==_e?this._unevaluatedLayout.setValue(_e,be):this.visibility=be)}getPaintProperty(_e){return I(_e,mg)?this._transitionablePaint.getTransition(_e.slice(0,-mg.length)):this._transitionablePaint.getValue(_e)}setPaintProperty(_e,be,Te={}){if(null!=be&&this._validate(Si,`layers.${this.id}.paint.${_e}`,_e,be,Te))return!1;if(I(_e,mg))return this._transitionablePaint.setTransition(_e.slice(0,-mg.length),be||void 0),!1;{const Te=this._transitionablePaint._values[_e],Pe="cross-faded-data-driven"===Te.property.specification["property-type"],pt=Te.value.isDataDriven(),vt=Te.value;this._transitionablePaint.setValue(_e,be),this._handleSpecialPaintPropertyUpdate(_e);const xt=this._transitionablePaint._values[_e].value;return xt.isDataDriven()||pt||Pe||this._handleOverridablePaintPropertyUpdate(_e,vt,xt)}}_handleSpecialPaintPropertyUpdate(_e){}getProgramIds(){return null}getProgramConfiguration(_e){return null}_handleOverridablePaintPropertyUpdate(_e,be,Te){return!1}isHidden(_e){return!!(this.minzoom&&_e<this.minzoom)||!!(this.maxzoom&&_e>=this.maxzoom)||"none"===this.visibility}updateTransitions(_e){this._transitioningPaint=this._transitionablePaint.transitioned(_e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(_e,be){_e.getCrossfadeParameters&&(this._crossfadeParameters=_e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(_e,void 0,be)),this.paint=this._transitioningPaint.possiblyEvaluate(_e,void 0,be)}serialize(){const _e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(_e.layout=_e.layout||{},_e.layout.visibility=this.visibility),z(_e,((_e,be)=>!(void 0===_e||"layout"===be&&!Object.keys(_e).length||"paint"===be&&!Object.keys(_e).length)))}_validate(_e,be,Te,Pe,pt={}){return(!pt||!1!==pt.validate)&&Mi(this,_e.call(Ai,{key:be,layerType:this.type,objectKey:Te,value:Pe,styleSpec:Aa,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const _e in this.paint._values){const be=this.paint.get(_e);if(be instanceof Ul&&_n(be.property.specification)&&("source"===be.value.kind||"composite"===be.value.kind)&&be.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Yn(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const _g=Hs([{name:"a_pos",components:2,type:"Int16"}],4),xg=Hs([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class kg{constructor(_e=[]){this.segments=_e}prepareSegment(_e,be,Te,Pe){let pt=this.segments[this.segments.length-1];return _e>kg.MAX_VERTEX_ARRAY_LENGTH&&E(`Max vertices per segment is ${kg.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${_e}`),(!pt||pt.vertexLength+_e>kg.MAX_VERTEX_ARRAY_LENGTH||pt.sortKey!==Pe)&&(pt={vertexOffset:be.length,primitiveOffset:Te.length,vertexLength:0,primitiveLength:0},void 0!==Pe&&(pt.sortKey=Pe),this.segments.push(pt)),pt}get(){return this.segments}destroy(){for(const _e of this.segments)for(const be in _e.vaos)_e.vaos[be].destroy()}static simpleSegment(_e,be,Te,Pe){return new kg([{vertexOffset:_e,primitiveOffset:be,vertexLength:Te,primitiveLength:Pe,vaos:{},sortKey:0}])}}kg.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ei(kg,"SegmentVector");var Pg=8192;class Mg{constructor(_e,be){_e&&(be?this.setSouthWest(_e).setNorthEast(be):4===_e.length?this.setSouthWest([_e[0],_e[1]]).setNorthEast([_e[2],_e[3]]):this.setSouthWest(_e[0]).setNorthEast(_e[1]))}setNorthEast(_e){return this._ne=_e instanceof zg?new zg(_e.lng,_e.lat):zg.convert(_e),this}setSouthWest(_e){return this._sw=_e instanceof zg?new zg(_e.lng,_e.lat):zg.convert(_e),this}extend(_e){const be=this._sw,Te=this._ne;let Pe,pt;if(_e instanceof zg)Pe=_e,pt=_e;else{if(!(_e instanceof Mg))return Array.isArray(_e)?4===_e.length||_e.every(Array.isArray)?this.extend(Mg.convert(_e)):this.extend(zg.convert(_e)):this;if(Pe=_e._sw,pt=_e._ne,!Pe||!pt)return this}return be||Te?(be.lng=Math.min(Pe.lng,be.lng),be.lat=Math.min(Pe.lat,be.lat),Te.lng=Math.max(pt.lng,Te.lng),Te.lat=Math.max(pt.lat,Te.lat)):(this._sw=new zg(Pe.lng,Pe.lat),this._ne=new zg(pt.lng,pt.lat)),this}getCenter(){return new zg((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new zg(this.getWest(),this.getNorth())}getSouthEast(){return new zg(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(_e){const{lng:be,lat:Te}=zg.convert(_e);let Pe=this._sw.lng<=be&&be<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Pe=this._sw.lng>=be&&be>=this._ne.lng),this._sw.lat<=Te&&Te<=this._ne.lat&&Pe}static convert(_e){return!_e||_e instanceof Mg?_e:new Mg(_e)}}const Og=6371008.8;class zg{constructor(_e,be){if(isNaN(_e)||isNaN(be))throw new Error(`Invalid LngLat object: (${_e}, ${be})`);if(this.lng=+_e,this.lat=+be,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new zg(m(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(_e){const be=Math.PI/180,Te=this.lat*be,Pe=_e.lat*be,pt=Math.sin(Te)*Math.sin(Pe)+Math.cos(Te)*Math.cos(Pe)*Math.cos((_e.lng-this.lng)*be);return Og*Math.acos(Math.min(pt,1))}toBounds(_e=0){const be=360*_e/40075017,Te=be/Math.cos(Math.PI/180*this.lat);return new Mg(new zg(this.lng-Te,this.lat-be),new zg(this.lng+Te,this.lat+be))}static convert(_e){if(_e instanceof zg)return _e;if(Array.isArray(_e)&&(2===_e.length||3===_e.length))return new zg(Number(_e[0]),Number(_e[1]));if(!Array.isArray(_e)&&"object"==typeof _e&&null!==_e)return new zg(Number("lng"in _e?_e.lng:_e.lon),Number(_e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ng=2*Math.PI*Og;function Io(_e){return Ng*Math.cos(_e*Math.PI/180)}function Mo(_e){return(180+_e)/360}function zo(_e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_e*Math.PI/360)))/360}function To(_e,be){return _e/Io(be)}function Bo(_e){return 360*_e-180}function Eo(_e){return 360/Math.PI*Math.atan(Math.exp((180-360*_e)*Math.PI/180))-90}function Co(_e,be){return _e*Io(Eo(be))}const Ug=85.051129;class qg{constructor(_e,be,Te=0){this.x=+_e,this.y=+be,this.z=+Te}static fromLngLat(_e,be=0){const Te=zg.convert(_e);return new qg(Mo(Te.lng),zo(Te.lat),To(be,Te.lat))}toLngLat(){return new zg(Bo(this.x),Eo(this.y))}toAltitude(){return Co(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ng*(_e=Eo(this.y),1/Math.cos(_e*Math.PI/180));var _e}}function Vo(_e,be,Te,pt,vt,xt,Tt,It,Mt){const Lt=(be+pt)/2,Ft=(Te+vt)/2,Ot=new Pe(Lt,Ft);It(Ot),function(_e,be,Te,Pe,pt,vt){const xt=Te-pt,Tt=Pe-vt;return Math.abs((Pe-be)*xt-(Te-_e)*Tt)/Math.hypot(xt,Tt)}(Ot.x,Ot.y,xt.x,xt.y,Tt.x,Tt.y)>=Mt?(Vo(_e,be,Te,Lt,Ft,xt,Ot,It,Mt),Vo(_e,Lt,Ft,pt,vt,Ot,Tt,It,Mt)):_e.push(Tt)}function Fo(_e,be,Te){let Pe=_e[0],pt=Pe.x,vt=Pe.y;be(Pe);const xt=[Pe];for(let Tt=1;Tt<_e.length;Tt++){const It=_e[Tt],{x:Mt,y:Lt}=It;be(It),Vo(xt,pt,vt,Mt,Lt,Pe,It,be,Te),pt=Mt,vt=Lt,Pe=It}return xt}function Lo(_e,be,Te,Pe,pt){if(pt(be,Te)){const vt=be.add(Te).mult(.5);Pe(vt),Lo(_e,be,vt,Pe,pt),Lo(_e,vt,Te,Pe,pt)}else _e.push(Te)}function Ro(_e,be,Te){let Pe=_e[0];be(Pe);const pt=[Pe];for(let vt=1;vt<_e.length;vt++){const xt=_e[vt];be(xt),Lo(pt,Pe,xt,be,Te),Pe=xt}return pt}const Wg=Math.pow(2,14)-1,$g=-Wg-1;function $o(_e,be){const Te=Math.round(_e.x*be),Pe=Math.round(_e.y*be);return _e.x=d(Te,$g,Wg),_e.y=d(Pe,$g,Wg),(Te<_e.x||Te>_e.x+1||Pe<_e.y||Pe>_e.y+1)&&E("Geometry exceeds allowed extent, reduce your vector tile buffer size"),_e}function Oo(_e,be,Te){const Pe=_e.loadGeometry(),pt=_e.extent,vt=Pg/pt;if(be&&Te&&Te.projection.isReprojectedInTileSpace){const vt=1<<be.z,{scale:xt,x:Tt,y:It,projection:Mt}=Te,c=_e=>{const Te=Bo((be.x+_e.x/pt)/vt),Pe=Eo((be.y+_e.y/pt)/vt),Lt=Mt.project(Te,Pe);_e.x=(Lt.x*xt-Tt)*pt,_e.y=(Lt.y*xt-It)*pt};for(let be=0;be<Pe.length;be++)if(1!==_e.type)Pe[be]=Fo(Pe[be],c,1);else{const _e=[];for(const Te of Pe[be])Te.x<0||Te.x>=pt||Te.y<0||Te.y>=pt||(c(Te),_e.push(Te));Pe[be]=_e}}for(const _e of Pe)for(const be of _e)$o(be,vt);return Pe}function qo(_e,be){return{type:_e.type,id:_e.id,properties:_e.properties,geometry:be?Oo(_e):[]}}function No(_e,be,Te,Pe,pt){_e.emplaceBack(2*be+(Pe+1)/2,2*Te+(pt+1)/2)}function Go(_e,be,Te){const Pe=16384;_e.emplaceBack(be.x,be.y,be.z,Te[0]*Pe,Te[1]*Pe,Te[2]*Pe)}class Kg{constructor(_e){this.zoom=_e.zoom,this.overscaling=_e.overscaling,this.layers=_e.layers,this.layerIds=this.layers.map((_e=>_e.id)),this.index=_e.index,this.hasPattern=!1,this.projection=_e.projection,this.layoutVertexArray=new lu,this.indexArray=new fc,this.segments=new kg,this.programConfigurations=new lg(_e.layers,_e.zoom),this.stateDependentLayerIds=this.layers.filter((_e=>_e.isStateDependent())).map((_e=>_e.id))}populate(_e,be,Te,Pe){const pt=this.layers[0],vt=[];let xt=null;"circle"===pt.type&&(xt=pt.layout.get("circle-sort-key"));for(const{feature:be,id:pt,index:Tt,sourceLayerIndex:It}of _e){const _e=this.layers[0]._featureFilter.needGeometry,Mt=qo(be,_e);if(!this.layers[0]._featureFilter.filter(new Kd(this.zoom),Mt,Te))continue;const Lt=xt?xt.evaluate(Mt,{},Te):void 0,Ft={id:pt,properties:be.properties,type:be.type,sourceLayerIndex:It,index:Tt,geometry:_e?Mt.geometry:Oo(be,Te,Pe),patterns:{},sortKey:Lt};vt.push(Ft)}xt&&vt.sort(((_e,be)=>_e.sortKey-be.sortKey));let Tt=null;"globe"===Pe.projection.name&&(this.globeExtVertexArray=new up,Tt=Pe.projection);for(const Pe of vt){const{geometry:pt,index:vt,sourceLayerIndex:xt}=Pe,It=_e[vt].feature;this.addFeature(Pe,pt,vt,be.availableImages,Te,Tt),be.featureIndex.insert(It,pt,vt,xt,this.index)}}update(_e,be,Te,Pe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_e,be,this.stateDependentLayers,Te,Pe)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(_e){this.uploaded||(this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,_g.members),this.indexBuffer=_e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=_e.createVertexBuffer(this.globeExtVertexArray,xg.members))),this.programConfigurations.upload(_e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(_e,be,Te,Pe,pt,vt){for(const Te of be)for(const be of Te){const Te=be.x,Pe=be.y;if(Te<0||Te>=Pg||Pe<0||Pe>=Pg)continue;if(vt){const _e=vt.projectTilePoint(Te,Pe,pt),be=vt.upVector(pt,Te,Pe),xt=this.globeExtVertexArray;Go(xt,_e,be),Go(xt,_e,be),Go(xt,_e,be),Go(xt,_e,be)}const xt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,_e.sortKey),Tt=xt.vertexLength;No(this.layoutVertexArray,Te,Pe,-1,-1),No(this.layoutVertexArray,Te,Pe,1,-1),No(this.layoutVertexArray,Te,Pe,1,1),No(this.layoutVertexArray,Te,Pe,-1,1),this.indexArray.emplaceBack(Tt,Tt+1,Tt+2),this.indexArray.emplaceBack(Tt,Tt+2,Tt+3),xt.vertexLength+=4,xt.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_e,Te,{},Pe,pt)}}function Xo(_e,be){for(let Te=0;Te<_e.length;Te++)if(rl(be,_e[Te]))return!0;for(let Te=0;Te<be.length;Te++)if(rl(_e,be[Te]))return!0;return!!Wo(_e,be)}function Ko(_e,be,Te){return!!rl(_e,be)||!!Qo(be,_e,Te)}function Ho(_e,be){if(1===_e.length)return el(be,_e[0]);for(let Te=0;Te<be.length;Te++){const Pe=be[Te];for(let be=0;be<Pe.length;be++)if(rl(_e,Pe[be]))return!0}for(let Te=0;Te<_e.length;Te++)if(el(be,_e[Te]))return!0;for(let Te=0;Te<be.length;Te++)if(Wo(_e,be[Te]))return!0;return!1}function Yo(_e,be,Te){if(_e.length>1){if(Wo(_e,be))return!0;for(let Pe=0;Pe<be.length;Pe++)if(Qo(be[Pe],_e,Te))return!0}for(let Pe=0;Pe<_e.length;Pe++)if(Qo(_e[Pe],be,Te))return!0;return!1}function Wo(_e,be){if(0===_e.length||0===be.length)return!1;for(let Te=0;Te<_e.length-1;Te++){const Pe=_e[Te],pt=_e[Te+1];for(let _e=0;_e<be.length-1;_e++)if(Jo(Pe,pt,be[_e],be[_e+1]))return!0}return!1}function Jo(_e,be,Te,Pe){return C(_e,Te,Pe)!==C(be,Te,Pe)&&C(_e,be,Te)!==C(_e,be,Pe)}function Qo(_e,be,Te){const Pe=Te*Te;if(1===be.length)return _e.distSqr(be[0])<Pe;for(let Te=1;Te<be.length;Te++)if(tl(_e,be[Te-1],be[Te])<Pe)return!0;return!1}function tl(_e,be,Te){const Pe=be.distSqr(Te);if(0===Pe)return _e.distSqr(be);const pt=((_e.x-be.x)*(Te.x-be.x)+(_e.y-be.y)*(Te.y-be.y))/Pe;return _e.distSqr(pt<0?be:pt>1?Te:Te.sub(be)._mult(pt)._add(be))}function el(_e,be){let Te,Pe,pt,vt=!1;for(let xt=0;xt<_e.length;xt++){Te=_e[xt];for(let _e=0,xt=Te.length-1;_e<Te.length;xt=_e++)Pe=Te[_e],pt=Te[xt],Pe.y>be.y!=pt.y>be.y&&be.x<(pt.x-Pe.x)*(be.y-Pe.y)/(pt.y-Pe.y)+Pe.x&&(vt=!vt)}return vt}function rl(_e,be){let Te=!1;for(let Pe=0,pt=_e.length-1;Pe<_e.length;pt=Pe++){const vt=_e[Pe],xt=_e[pt];vt.y>be.y!=xt.y>be.y&&be.x<(xt.x-vt.x)*(be.y-vt.y)/(xt.y-vt.y)+vt.x&&(Te=!Te)}return Te}function nl(_e,be,Te,pt,vt){for(const Pe of _e)if(be<=Pe.x&&Te<=Pe.y&&pt>=Pe.x&&vt>=Pe.y)return!0;const xt=[new Pe(be,Te),new Pe(be,vt),new Pe(pt,vt),new Pe(pt,Te)];if(_e.length>2)for(const be of xt)if(rl(_e,be))return!0;for(let be=0;be<_e.length-1;be++)if(il(_e[be],_e[be+1],xt))return!0;return!1}function il(_e,be,Te){const Pe=Te[0],pt=Te[2];if(_e.x<Pe.x&&be.x<Pe.x||_e.x>pt.x&&be.x>pt.x||_e.y<Pe.y&&be.y<Pe.y||_e.y>pt.y&&be.y>pt.y)return!1;const vt=C(_e,be,Te[0]);return vt!==C(_e,be,Te[1])||vt!==C(_e,be,Te[2])||vt!==C(_e,be,Te[3])}function sl(_e,be,Te){const Pe=be.paint.get(_e).value;return"constant"===Pe.kind?Pe.value:Te.programConfigurations.get(be.id).getMaxValue(_e)}function al(_e){return Math.sqrt(_e[0]*_e[0]+_e[1]*_e[1])}function ol(_e,be,Te,pt,vt){if(!be[0]&&!be[1])return _e;const xt=Pe.convert(be)._mult(vt);"viewport"===Te&&xt._rotate(-pt);const Tt=[];for(let be=0;be<_e.length;be++)Tt.push(_e[be].sub(xt));return Tt}function ll(_e,be,Te,pt){const vt=Pe.convert(_e)._mult(pt);return"viewport"===be&&vt._rotate(-Te),vt}Ei(Kg,"CircleBucket",{omit:["layers"]});const af=new tu({"circle-sort-key":new $l(Aa.layout_circle["circle-sort-key"])});var of={paint:new tu({"circle-radius":new $l(Aa.paint_circle["circle-radius"]),"circle-color":new $l(Aa.paint_circle["circle-color"]),"circle-blur":new $l(Aa.paint_circle["circle-blur"]),"circle-opacity":new $l(Aa.paint_circle["circle-opacity"]),"circle-translate":new Hl(Aa.paint_circle["circle-translate"]),"circle-translate-anchor":new Hl(Aa.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Hl(Aa.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Hl(Aa.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new $l(Aa.paint_circle["circle-stroke-width"]),"circle-stroke-color":new $l(Aa.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new $l(Aa.paint_circle["circle-stroke-opacity"])}),layout:af},df=1e-6,cf="undefined"!=typeof Float32Array?Float32Array:Array;function fl(){var _e=new cf(9);return cf!=Float32Array&&(_e[1]=0,_e[2]=0,_e[3]=0,_e[5]=0,_e[6]=0,_e[7]=0),_e[0]=1,_e[4]=1,_e[8]=1,_e}function dl(_e){return _e[0]=1,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=1,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[10]=1,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e}function yl(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2],xt=be[3],Tt=be[4],It=be[5],Mt=be[6],Lt=be[7],Ft=be[8],Ot=be[9],Vt=be[10],qt=be[11],Wt=be[12],$t=be[13],Kt=be[14],Jt=be[15],Yt=Te[0],Qt=Te[1],an=Te[2],cn=Te[3];return _e[0]=Yt*Pe+Qt*Tt+an*Ft+cn*Wt,_e[1]=Yt*pt+Qt*It+an*Ot+cn*$t,_e[2]=Yt*vt+Qt*Mt+an*Vt+cn*Kt,_e[3]=Yt*xt+Qt*Lt+an*qt+cn*Jt,_e[4]=(Yt=Te[4])*Pe+(Qt=Te[5])*Tt+(an=Te[6])*Ft+(cn=Te[7])*Wt,_e[5]=Yt*pt+Qt*It+an*Ot+cn*$t,_e[6]=Yt*vt+Qt*Mt+an*Vt+cn*Kt,_e[7]=Yt*xt+Qt*Lt+an*qt+cn*Jt,_e[8]=(Yt=Te[8])*Pe+(Qt=Te[9])*Tt+(an=Te[10])*Ft+(cn=Te[11])*Wt,_e[9]=Yt*pt+Qt*It+an*Ot+cn*$t,_e[10]=Yt*vt+Qt*Mt+an*Vt+cn*Kt,_e[11]=Yt*xt+Qt*Lt+an*qt+cn*Jt,_e[12]=(Yt=Te[12])*Pe+(Qt=Te[13])*Tt+(an=Te[14])*Ft+(cn=Te[15])*Wt,_e[13]=Yt*pt+Qt*It+an*Ot+cn*$t,_e[14]=Yt*vt+Qt*Mt+an*Vt+cn*Kt,_e[15]=Yt*xt+Qt*Lt+an*qt+cn*Jt,_e}function ml(_e,be,Te){var Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt=Te[0],$t=Te[1],Kt=Te[2];return be===_e?(_e[12]=be[0]*Wt+be[4]*$t+be[8]*Kt+be[12],_e[13]=be[1]*Wt+be[5]*$t+be[9]*Kt+be[13],_e[14]=be[2]*Wt+be[6]*$t+be[10]*Kt+be[14],_e[15]=be[3]*Wt+be[7]*$t+be[11]*Kt+be[15]):(pt=be[1],vt=be[2],xt=be[3],Tt=be[4],It=be[5],Mt=be[6],Lt=be[7],Ft=be[8],Ot=be[9],Vt=be[10],qt=be[11],_e[0]=Pe=be[0],_e[1]=pt,_e[2]=vt,_e[3]=xt,_e[4]=Tt,_e[5]=It,_e[6]=Mt,_e[7]=Lt,_e[8]=Ft,_e[9]=Ot,_e[10]=Vt,_e[11]=qt,_e[12]=Pe*Wt+Tt*$t+Ft*Kt+be[12],_e[13]=pt*Wt+It*$t+Ot*Kt+be[13],_e[14]=vt*Wt+Mt*$t+Vt*Kt+be[14],_e[15]=xt*Wt+Lt*$t+qt*Kt+be[15]),_e}function gl(_e,be,Te){var Pe=Te[0],pt=Te[1],vt=Te[2];return _e[0]=be[0]*Pe,_e[1]=be[1]*Pe,_e[2]=be[2]*Pe,_e[3]=be[3]*Pe,_e[4]=be[4]*pt,_e[5]=be[5]*pt,_e[6]=be[6]*pt,_e[7]=be[7]*pt,_e[8]=be[8]*vt,_e[9]=be[9]*vt,_e[10]=be[10]*vt,_e[11]=be[11]*vt,_e[12]=be[12],_e[13]=be[13],_e[14]=be[14],_e[15]=be[15],_e}function xl(_e,be,Te){var Pe=Math.sin(Te),pt=Math.cos(Te),vt=be[4],xt=be[5],Tt=be[6],It=be[7],Mt=be[8],Lt=be[9],Ft=be[10],Ot=be[11];return be!==_e&&(_e[0]=be[0],_e[1]=be[1],_e[2]=be[2],_e[3]=be[3],_e[12]=be[12],_e[13]=be[13],_e[14]=be[14],_e[15]=be[15]),_e[4]=vt*pt+Mt*Pe,_e[5]=xt*pt+Lt*Pe,_e[6]=Tt*pt+Ft*Pe,_e[7]=It*pt+Ot*Pe,_e[8]=Mt*pt-vt*Pe,_e[9]=Lt*pt-xt*Pe,_e[10]=Ft*pt-Tt*Pe,_e[11]=Ot*pt-It*Pe,_e}function vl(_e,be,Te){var Pe=Math.sin(Te),pt=Math.cos(Te),vt=be[0],xt=be[1],Tt=be[2],It=be[3],Mt=be[8],Lt=be[9],Ft=be[10],Ot=be[11];return be!==_e&&(_e[4]=be[4],_e[5]=be[5],_e[6]=be[6],_e[7]=be[7],_e[12]=be[12],_e[13]=be[13],_e[14]=be[14],_e[15]=be[15]),_e[0]=vt*pt-Mt*Pe,_e[1]=xt*pt-Lt*Pe,_e[2]=Tt*pt-Ft*Pe,_e[3]=It*pt-Ot*Pe,_e[8]=vt*Pe+Mt*pt,_e[9]=xt*Pe+Lt*pt,_e[10]=Tt*Pe+Ft*pt,_e[11]=It*Pe+Ot*pt,_e}function bl(_e,be,Te){var Pe,pt,vt,xt=Te[0],Tt=Te[1],It=Te[2],Mt=Math.hypot(xt,Tt,It);return Mt<df?null:(xt*=Mt=1/Mt,Tt*=Mt,It*=Mt,Pe=Math.sin(be),pt=Math.cos(be),_e[0]=xt*xt*(vt=1-pt)+pt,_e[1]=Tt*xt*vt+It*Pe,_e[2]=It*xt*vt-Tt*Pe,_e[3]=0,_e[4]=xt*Tt*vt-It*Pe,_e[5]=Tt*Tt*vt+pt,_e[6]=It*Tt*vt+xt*Pe,_e[7]=0,_e[8]=xt*It*vt+Tt*Pe,_e[9]=Tt*It*vt-xt*Pe,_e[10]=It*It*vt+pt,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e)}Math.hypot||(Math.hypot=function(){for(var _e=0,be=arguments.length;be--;)_e+=arguments[be]*arguments[be];return Math.sqrt(_e)});var hf=yl;function wl(){var _e=new cf(3);return cf!=Float32Array&&(_e[0]=0,_e[1]=0,_e[2]=0),_e}function Al(_e){var be=new cf(3);return be[0]=_e[0],be[1]=_e[1],be[2]=_e[2],be}function Sl(_e){return Math.hypot(_e[0],_e[1],_e[2])}function kl(_e,be,Te){var Pe=new cf(3);return Pe[0]=_e,Pe[1]=be,Pe[2]=Te,Pe}function Il(_e,be,Te){return _e[0]=be[0]+Te[0],_e[1]=be[1]+Te[1],_e[2]=be[2]+Te[2],_e}function Ml(_e,be,Te){return _e[0]=be[0]-Te[0],_e[1]=be[1]-Te[1],_e[2]=be[2]-Te[2],_e}function zl(_e,be,Te){return _e[0]=be[0]*Te[0],_e[1]=be[1]*Te[1],_e[2]=be[2]*Te[2],_e}function Tl(_e,be,Te){return _e[0]=Math.min(be[0],Te[0]),_e[1]=Math.min(be[1],Te[1]),_e[2]=Math.min(be[2],Te[2]),_e}function Bl(_e,be,Te){return _e[0]=Math.max(be[0],Te[0]),_e[1]=Math.max(be[1],Te[1]),_e[2]=Math.max(be[2],Te[2]),_e}function El(_e,be,Te){return _e[0]=be[0]*Te,_e[1]=be[1]*Te,_e[2]=be[2]*Te,_e}function Cl(_e,be,Te,Pe){return _e[0]=be[0]+Te[0]*Pe,_e[1]=be[1]+Te[1]*Pe,_e[2]=be[2]+Te[2]*Pe,_e}function Pl(_e,be){var Te=be[0],Pe=be[1],pt=be[2],vt=Te*Te+Pe*Pe+pt*pt;return vt>0&&(vt=1/Math.sqrt(vt)),_e[0]=be[0]*vt,_e[1]=be[1]*vt,_e[2]=be[2]*vt,_e}function Dl(_e,be){return _e[0]*be[0]+_e[1]*be[1]+_e[2]*be[2]}function Vl(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2],xt=Te[0],Tt=Te[1],It=Te[2];return _e[0]=pt*It-vt*Tt,_e[1]=vt*xt-Pe*It,_e[2]=Pe*Tt-pt*xt,_e}function Fl(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2],xt=Te[3]*Pe+Te[7]*pt+Te[11]*vt+Te[15];return _e[0]=(Te[0]*Pe+Te[4]*pt+Te[8]*vt+Te[12])/(xt=xt||1),_e[1]=(Te[1]*Pe+Te[5]*pt+Te[9]*vt+Te[13])/xt,_e[2]=(Te[2]*Pe+Te[6]*pt+Te[10]*vt+Te[14])/xt,_e}function Ll(_e,be,Te){var Pe=Te[0],pt=Te[1],vt=Te[2],xt=be[0],Tt=be[1],It=be[2],Mt=pt*It-vt*Tt,Lt=vt*xt-Pe*It,Ft=Pe*Tt-pt*xt,Ot=pt*Ft-vt*Lt,Vt=vt*Mt-Pe*Ft,qt=Pe*Lt-pt*Mt,Wt=2*Te[3];return Lt*=Wt,Ft*=Wt,Vt*=2,qt*=2,_e[0]=xt+(Mt*=Wt)+(Ot*=2),_e[1]=Tt+Lt+Vt,_e[2]=It+Ft+qt,_e}var gf,mf=Ml,yf=zl,Rf=Sl;function Ol(_e,be,Te){return _e[0]=be[0]*Te,_e[1]=be[1]*Te,_e[2]=be[2]*Te,_e[3]=be[3]*Te,_e}function ql(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2],xt=be[3];return _e[0]=Te[0]*Pe+Te[4]*pt+Te[8]*vt+Te[12]*xt,_e[1]=Te[1]*Pe+Te[5]*pt+Te[9]*vt+Te[13]*xt,_e[2]=Te[2]*Pe+Te[6]*pt+Te[10]*vt+Te[14]*xt,_e[3]=Te[3]*Pe+Te[7]*pt+Te[11]*vt+Te[15]*xt,_e}function Nl(){var _e=new cf(4);return cf!=Float32Array&&(_e[0]=0,_e[1]=0,_e[2]=0),_e[3]=1,_e}function Gl(_e){return _e[0]=0,_e[1]=0,_e[2]=0,_e[3]=1,_e}function Zl(_e,be,Te){Te*=.5;var Pe=be[0],pt=be[1],vt=be[2],xt=be[3],Tt=Math.sin(Te),It=Math.cos(Te);return _e[0]=Pe*It+xt*Tt,_e[1]=pt*It+vt*Tt,_e[2]=vt*It-pt*Tt,_e[3]=xt*It-Pe*Tt,_e}function Xl(_e,be,Te){Te*=.5;var Pe=be[0],pt=be[1],vt=be[2],xt=be[3],Tt=Math.sin(Te),It=Math.cos(Te);return _e[0]=Pe*It-vt*Tt,_e[1]=pt*It+xt*Tt,_e[2]=vt*It+Pe*Tt,_e[3]=xt*It-pt*Tt,_e}wl(),gf=new cf(4),cf!=Float32Array&&(gf[0]=0,gf[1]=0,gf[2]=0,gf[3]=0),wl(),kl(1,0,0),kl(0,1,0),Nl(),Nl(),fl();class xf{constructor(_e,be){this.pos=_e,this.dir=be}intersectsPlane(_e,be,Te){const Pe=Dl(be,this.dir);if(Math.abs(Pe)<1e-6)return!1;const pt=((_e[0]-this.pos[0])*be[0]+(_e[1]-this.pos[1])*be[1]+(_e[2]-this.pos[2])*be[2])/Pe;return Te[0]=this.pos[0]+this.dir[0]*pt,Te[1]=this.pos[1]+this.dir[1]*pt,Te[2]=this.pos[2]+this.dir[2]*pt,!0}closestPointOnSphere(_e,be,Te){if(function(_e,be){var Te=_e[0],Pe=_e[1],pt=_e[2],vt=be[0],xt=be[1],Tt=be[2];return Math.abs(Te-vt)<=df*Math.max(1,Math.abs(Te),Math.abs(vt))&&Math.abs(Pe-xt)<=df*Math.max(1,Math.abs(Pe),Math.abs(xt))&&Math.abs(pt-Tt)<=df*Math.max(1,Math.abs(pt),Math.abs(Tt))}(this.pos,_e)||0===be)return Te[0]=Te[1]=Te[2]=0,!1;const[Pe,pt,vt]=this.dir,xt=this.pos[0]-_e[0],Tt=this.pos[1]-_e[1],It=this.pos[2]-_e[2],Mt=Pe*Pe+pt*pt+vt*vt,Lt=2*(xt*Pe+Tt*pt+It*vt),Ft=Lt*Lt-4*Mt*(xt*xt+Tt*Tt+It*It-be*be);if(Ft<0){const _e=Math.max(-Lt/2,0),Mt=xt+Pe*_e,Ft=Tt+pt*_e,Ot=It+vt*_e,Vt=Math.hypot(Mt,Ft,Ot);return Te[0]=Mt*be/Vt,Te[1]=Ft*be/Vt,Te[2]=Ot*be/Vt,!1}{const _e=(-Lt-Math.sqrt(Ft))/(2*Mt);if(_e<0){const _e=Math.hypot(xt,Tt,It);return Te[0]=xt*be/_e,Te[1]=Tt*be/_e,Te[2]=It*be/_e,!1}return Te[0]=xt+Pe*_e,Te[1]=Tt+pt*_e,Te[2]=It+vt*_e,!0}}}class bf{constructor(_e,be,Te,Pe,pt){this.TL=_e,this.TR=be,this.BR=Te,this.BL=Pe,this.horizon=pt}static fromInvProjectionMatrix(_e,be,Te){const Pe=[-1,1,1],pt=[1,1,1],vt=[1,-1,1],xt=[-1,-1,1],Tt=Fl(Pe,Pe,_e),It=Fl(pt,pt,_e),Mt=Fl(vt,vt,_e),Lt=Fl(xt,xt,_e);return new bf(Tt,It,Mt,Lt,be/Te)}}class Sf{constructor(_e,be){this.points=_e,this.planes=be}static fromInvProjectionMatrix(_e,be,Te,Pe){const pt=Math.pow(2,Te),vt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((Te=>{const vt=ql([],Te,_e),xt=1/vt[3]/be*pt;return function(_e,be,Te){return _e[0]=be[0]*Te[0],_e[1]=be[1]*Te[1],_e[2]=be[2]*Te[2],_e[3]=be[3]*Te[3],_e}(vt,vt,[xt,xt,Pe?1/vt[3]:xt,xt])})),xt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((_e=>{const be=Pl([],Vl([],mf([],vt[_e[0]],vt[_e[1]]),mf([],vt[_e[2]],vt[_e[1]]))),Te=-Dl(be,vt[_e[1]]);return be.concat(Te)}));return new Sf(vt,xt)}}class Cf{constructor(_e,be){this.min=_e,this.max=be,this.center=El([],Il([],this.min,this.max),.5)}quadrant(_e){const be=[_e%2==0,_e<2],Te=Al(this.min),Pe=Al(this.max);for(let _e=0;_e<be.length;_e++)Te[_e]=be[_e]?this.min[_e]:this.center[_e],Pe[_e]=be[_e]?this.center[_e]:this.max[_e];return Pe[2]=this.max[2],new Cf(Te,Pe)}distanceX(_e){return Math.max(Math.min(this.max[0],_e[0]),this.min[0])-_e[0]}distanceY(_e){return Math.max(Math.min(this.max[1],_e[1]),this.min[1])-_e[1]}distanceZ(_e){return Math.max(Math.min(this.max[2],_e[2]),this.min[2])-_e[2]}getCorners(){const _e=this.min,be=this.max;return[[_e[0],_e[1],_e[2]],[be[0],_e[1],_e[2]],[be[0],be[1],_e[2]],[_e[0],be[1],_e[2]],[_e[0],_e[1],be[2]],[be[0],_e[1],be[2]],[be[0],be[1],be[2]],[_e[0],be[1],be[2]]]}intersects(_e){const be=this.getCorners();let Te=!0;for(let Pe=0;Pe<_e.planes.length;Pe++){const pt=_e.planes[Pe];let vt=0;for(let _e=0;_e<be.length;_e++)vt+=Dl(pt,be[_e])+pt[3]>=0;if(0===vt)return 0;vt!==be.length&&(Te=!1)}if(Te)return 2;for(let be=0;be<3;be++){let Te=Number.MAX_VALUE,Pe=-Number.MAX_VALUE;for(let pt=0;pt<_e.points.length;pt++){const vt=_e.points[pt][be]-this.min[be];Te=Math.min(Te,vt),Pe=Math.max(Pe,vt)}if(Pe<0||Te>this.max[be]-this.min[be])return 0}return 1}}function Jl(_e,be,Te,Pe,pt,vt,xt,Tt,It){if(vt&&_e.queryGeometry.isAboveHorizon)return!1;vt&&(It*=_e.pixelToTileUnitsFactor);const Mt=_e.tileID.canonical,Lt=Te.projection.upVectorScale(Mt,Te.center.lat,Te.worldSize).metersToTile;for(const Ft of be)for(const be of Ft){const Ft=be.add(Tt),Ot=pt&&Te.elevation?Te.elevation.exaggeration()*pt.getElevationAt(Ft.x,Ft.y,!0):0,Vt=Te.projection.projectTilePoint(Ft.x,Ft.y,Mt);if(Ot>0){const _e=Te.projection.upVector(Mt,Ft.x,Ft.y);Vt.x+=_e[0]*Lt*Ot,Vt.y+=_e[1]*Lt*Ot,Vt.z+=_e[2]*Lt*Ot}const qt=vt?Ft:Ql(Vt.x,Vt.y,Vt.z,Pe),Wt=vt?_e.tilespaceRays.map((_e=>ru(_e,Ot))):_e.queryGeometry.screenGeometry,$t=ql([],[Vt.x,Vt.y,Vt.z,1],Pe);if(!xt&&vt?It*=$t[3]/Te.cameraToCenterDistance:xt&&!vt&&(It*=Te.cameraToCenterDistance/$t[3]),vt){const _e=Eo((be.y/Pg+Mt.y)/(1<<Mt.z));It/=Te.projection.pixelsPerMeter(_e,1)/To(1,_e)}if(Ko(Wt,qt,It))return!0}return!1}function Ql(_e,be,Te,pt){const vt=ql([],[_e,be,Te,1],pt);return new Pe(vt[0]/vt[3],vt[1]/vt[3])}const Tf=kl(0,0,0),kf=kl(0,0,1);function ru(_e,be){const Te=wl();return Tf[2]=be,_e.intersectsPlane(Tf,kf,Te),new Pe(Te[0],Te[1])}class Of extends Kg{}function iu(_e,{width:be,height:Te},Pe,pt){if(pt){if(pt instanceof Uint8ClampedArray)pt=new Uint8Array(pt.buffer);else if(pt.length!==be*Te*Pe)throw new RangeError("mismatched image size")}else pt=new Uint8Array(be*Te*Pe);return _e.width=be,_e.height=Te,_e.data=pt,_e}function su(_e,be,Te){const{width:Pe,height:pt}=be;Pe===_e.width&&pt===_e.height||(au(_e,be,{x:0,y:0},{x:0,y:0},{width:Math.min(_e.width,Pe),height:Math.min(_e.height,pt)},Te),_e.width=Pe,_e.height=pt,_e.data=be.data)}function au(_e,be,Te,Pe,pt,vt){if(0===pt.width||0===pt.height)return be;if(pt.width>_e.width||pt.height>_e.height||Te.x>_e.width-pt.width||Te.y>_e.height-pt.height)throw new RangeError("out of range source coordinates for image copy");if(pt.width>be.width||pt.height>be.height||Pe.x>be.width-pt.width||Pe.y>be.height-pt.height)throw new RangeError("out of range destination coordinates for image copy");const xt=_e.data,Tt=be.data;for(let It=0;It<pt.height;It++){const Mt=((Te.y+It)*_e.width+Te.x)*vt,Lt=((Pe.y+It)*be.width+Pe.x)*vt;for(let _e=0;_e<pt.width*vt;_e++)Tt[Lt+_e]=xt[Mt+_e]}return be}Ei(Of,"HeatmapBucket",{omit:["layers"]});class jf{constructor(_e,be){iu(this,_e,1,be)}resize(_e){su(this,new jf(_e),1)}clone(){return new jf({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(_e,be,Te,Pe,pt){au(_e,be,Te,Pe,pt,1)}}class Nf{constructor(_e,be){iu(this,_e,4,be)}resize(_e){su(this,new Nf(_e),4)}replace(_e,be){be?this.data.set(_e):this.data=_e instanceof Uint8ClampedArray?new Uint8Array(_e.buffer):_e}clone(){return new Nf({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(_e,be,Te,Pe,pt){au(_e,be,Te,Pe,pt,4)}}Ei(jf,"AlphaImage"),Ei(Nf,"RGBAImage");var Gf={paint:new tu({"heatmap-radius":new $l(Aa.paint_heatmap["heatmap-radius"]),"heatmap-weight":new $l(Aa.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Hl(Aa.paint_heatmap["heatmap-intensity"]),"heatmap-color":new eu(Aa.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Hl(Aa.paint_heatmap["heatmap-opacity"])})};function cu(_e){const be={},Te=_e.resolution||256,Pe=_e.clips?_e.clips.length:1,pt=_e.image||new Nf({width:Te,height:Pe}),s=(Te,Pe,vt)=>{be[_e.evaluationKey]=vt;const xt=_e.expression.evaluate(be);pt.data[Te+Pe+0]=Math.floor(255*xt.r/xt.a),pt.data[Te+Pe+1]=Math.floor(255*xt.g/xt.a),pt.data[Te+Pe+2]=Math.floor(255*xt.b/xt.a),pt.data[Te+Pe+3]=Math.floor(255*xt.a)};if(_e.clips)for(let be=0,pt=0;be<Pe;++be,pt+=4*Te)for(let Pe=0,vt=0;Pe<Te;Pe++,vt+=4){const xt=Pe/(Te-1),{start:Tt,end:It}=_e.clips[be];s(pt,vt,Tt*(1-xt)+It*xt)}else for(let _e=0,be=0;_e<Te;_e++,be+=4)s(0,be,_e/(Te-1));return pt}var Wf={paint:new tu({"hillshade-illumination-direction":new Hl(Aa.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Hl(Aa.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Hl(Aa.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Hl(Aa.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Hl(Aa.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Hl(Aa.paint_hillshade["hillshade-accent-color"])})};const Hf=Hs([{name:"a_pos",components:2,type:"Int16"}],4),{members:Xf}=Hf;var Jf=mu,Qf=mu;function mu(_e,be,Te){Te=Te||2;var Pe,pt,vt,xt,Tt,It,Mt,Lt=be&&be.length,Ft=Lt?be[0]*Te:_e.length,Ot=gu(_e,0,Ft,Te,!0),Vt=[];if(!Ot||Ot.next===Ot.prev)return Vt;if(Lt&&(Ot=function(_e,be,Te,Pe){var pt,vt,xt,Tt=[];for(pt=0,vt=be.length;pt<vt;pt++)(xt=gu(_e,be[pt]*Pe,pt<vt-1?be[pt+1]*Pe:_e.length,Pe,!1))===xt.next&&(xt.steiner=!0),Tt.push(zu(xt));for(Tt.sort(Su),pt=0;pt<Tt.length;pt++)Te=xu(Te=ku(Tt[pt],Te),Te.next);return Te}(_e,be,Ot,Te)),_e.length>80*Te){Pe=vt=_e[0],pt=xt=_e[1];for(var qt=Te;qt<Ft;qt+=Te)(Tt=_e[qt])<Pe&&(Pe=Tt),(It=_e[qt+1])<pt&&(pt=It),Tt>vt&&(vt=Tt),It>xt&&(xt=It);Mt=0!==(Mt=Math.max(vt-Pe,xt-pt))?1/Mt:0}return vu(Ot,Vt,Te,Pe,pt,Mt),Vt}function gu(_e,be,Te,Pe,pt){var vt,xt;if(pt===$u(_e,be,Te,Pe)>0)for(vt=be;vt<Te;vt+=Pe)xt=Ru(vt,_e[vt],_e[vt+1],xt);else for(vt=Te-Pe;vt>=be;vt-=Pe)xt=Ru(vt,_e[vt],_e[vt+1],xt);return xt&&Cu(xt,xt.next)&&(ju(xt),xt=xt.next),xt}function xu(_e,be){if(!_e)return _e;be||(be=_e);var Te,Pe=_e;do{if(Te=!1,Pe.steiner||!Cu(Pe,Pe.next)&&0!==Eu(Pe.prev,Pe,Pe.next))Pe=Pe.next;else{if(ju(Pe),(Pe=be=Pe.prev)===Pe.next)break;Te=!0}}while(Te||Pe!==be);return be}function vu(_e,be,Te,Pe,pt,vt,xt){if(_e){!xt&&vt&&function(_e,be,Te,Pe){var pt=_e;do{null===pt.z&&(pt.z=Mu(pt.x,pt.y,be,Te,Pe)),pt.prevZ=pt.prev,pt.nextZ=pt.next,pt=pt.next}while(pt!==_e);pt.prevZ.nextZ=null,pt.prevZ=null,function(_e){var be,Te,Pe,pt,vt,xt,Tt,It,Mt=1;do{for(Te=_e,_e=null,vt=null,xt=0;Te;){for(xt++,Pe=Te,Tt=0,be=0;be<Mt&&(Tt++,Pe=Pe.nextZ);be++);for(It=Mt;Tt>0||It>0&&Pe;)0!==Tt&&(0===It||!Pe||Te.z<=Pe.z)?(pt=Te,Te=Te.nextZ,Tt--):(pt=Pe,Pe=Pe.nextZ,It--),vt?vt.nextZ=pt:_e=pt,pt.prevZ=vt,vt=pt;Te=Pe}vt.nextZ=null,Mt*=2}while(xt>1)}(pt)}(_e,Pe,pt,vt);for(var Tt,It,Mt=_e;_e.prev!==_e.next;)if(Tt=_e.prev,It=_e.next,vt?_u(_e,Pe,pt,vt):bu(_e))be.push(Tt.i/Te),be.push(_e.i/Te),be.push(It.i/Te),ju(_e),_e=It.next,Mt=It.next;else if((_e=It)===Mt){xt?1===xt?vu(_e=wu(xu(_e),be,Te),be,Te,Pe,pt,vt,2):2===xt&&Au(_e,be,Te,Pe,pt,vt):vu(xu(_e),be,Te,Pe,pt,vt,1);break}}}function bu(_e){var be=_e.prev,Te=_e,Pe=_e.next;if(Eu(be,Te,Pe)>=0)return!1;for(var pt=_e.next.next;pt!==_e.prev;){if(Tu(be.x,be.y,Te.x,Te.y,Pe.x,Pe.y,pt.x,pt.y)&&Eu(pt.prev,pt,pt.next)>=0)return!1;pt=pt.next}return!0}function _u(_e,be,Te,Pe){var pt=_e.prev,vt=_e,xt=_e.next;if(Eu(pt,vt,xt)>=0)return!1;for(var Tt=pt.x>vt.x?pt.x>xt.x?pt.x:xt.x:vt.x>xt.x?vt.x:xt.x,It=pt.y>vt.y?pt.y>xt.y?pt.y:xt.y:vt.y>xt.y?vt.y:xt.y,Mt=Mu(pt.x<vt.x?pt.x<xt.x?pt.x:xt.x:vt.x<xt.x?vt.x:xt.x,pt.y<vt.y?pt.y<xt.y?pt.y:xt.y:vt.y<xt.y?vt.y:xt.y,be,Te,Pe),Lt=Mu(Tt,It,be,Te,Pe),Ft=_e.prevZ,Ot=_e.nextZ;Ft&&Ft.z>=Mt&&Ot&&Ot.z<=Lt;){if(Ft!==_e.prev&&Ft!==_e.next&&Tu(pt.x,pt.y,vt.x,vt.y,xt.x,xt.y,Ft.x,Ft.y)&&Eu(Ft.prev,Ft,Ft.next)>=0)return!1;if(Ft=Ft.prevZ,Ot!==_e.prev&&Ot!==_e.next&&Tu(pt.x,pt.y,vt.x,vt.y,xt.x,xt.y,Ot.x,Ot.y)&&Eu(Ot.prev,Ot,Ot.next)>=0)return!1;Ot=Ot.nextZ}for(;Ft&&Ft.z>=Mt;){if(Ft!==_e.prev&&Ft!==_e.next&&Tu(pt.x,pt.y,vt.x,vt.y,xt.x,xt.y,Ft.x,Ft.y)&&Eu(Ft.prev,Ft,Ft.next)>=0)return!1;Ft=Ft.prevZ}for(;Ot&&Ot.z<=Lt;){if(Ot!==_e.prev&&Ot!==_e.next&&Tu(pt.x,pt.y,vt.x,vt.y,xt.x,xt.y,Ot.x,Ot.y)&&Eu(Ot.prev,Ot,Ot.next)>=0)return!1;Ot=Ot.nextZ}return!0}function wu(_e,be,Te){var Pe=_e;do{var pt=Pe.prev,vt=Pe.next.next;!Cu(pt,vt)&&Pu(pt,Pe,Pe.next,vt)&&Fu(pt,vt)&&Fu(vt,pt)&&(be.push(pt.i/Te),be.push(Pe.i/Te),be.push(vt.i/Te),ju(Pe),ju(Pe.next),Pe=_e=vt),Pe=Pe.next}while(Pe!==_e);return xu(Pe)}function Au(_e,be,Te,Pe,pt,vt){var xt=_e;do{for(var Tt=xt.next.next;Tt!==xt.prev;){if(xt.i!==Tt.i&&Bu(xt,Tt)){var It=Lu(xt,Tt);return xt=xu(xt,xt.next),It=xu(It,It.next),vu(xt,be,Te,Pe,pt,vt),void vu(It,be,Te,Pe,pt,vt)}Tt=Tt.next}xt=xt.next}while(xt!==_e)}function Su(_e,be){return _e.x-be.x}function ku(_e,be){var Te=function(_e,be){var Te,Pe=be,pt=_e.x,vt=_e.y,xt=-1/0;do{if(vt<=Pe.y&&vt>=Pe.next.y&&Pe.next.y!==Pe.y){var Tt=Pe.x+(vt-Pe.y)*(Pe.next.x-Pe.x)/(Pe.next.y-Pe.y);if(Tt<=pt&&Tt>xt){if(xt=Tt,Tt===pt){if(vt===Pe.y)return Pe;if(vt===Pe.next.y)return Pe.next}Te=Pe.x<Pe.next.x?Pe:Pe.next}}Pe=Pe.next}while(Pe!==be);if(!Te)return null;if(pt===xt)return Te;var It,Mt=Te,Lt=Te.x,Ft=Te.y,Ot=1/0;Pe=Te;do{pt>=Pe.x&&Pe.x>=Lt&&pt!==Pe.x&&Tu(vt<Ft?pt:xt,vt,Lt,Ft,vt<Ft?xt:pt,vt,Pe.x,Pe.y)&&(It=Math.abs(vt-Pe.y)/(pt-Pe.x),Fu(Pe,_e)&&(It<Ot||It===Ot&&(Pe.x>Te.x||Pe.x===Te.x&&Iu(Te,Pe)))&&(Te=Pe,Ot=It)),Pe=Pe.next}while(Pe!==Mt);return Te}(_e,be);if(!Te)return be;var Pe=Lu(Te,_e),pt=xu(Te,Te.next);return xu(Pe,Pe.next),be===Te?pt:be}function Iu(_e,be){return Eu(_e.prev,_e,be.prev)<0&&Eu(be.next,_e,_e.next)<0}function Mu(_e,be,Te,Pe,pt){return(_e=1431655765&((_e=858993459&((_e=252645135&((_e=16711935&((_e=32767*(_e-Te)*pt)|_e<<8))|_e<<4))|_e<<2))|_e<<1))|(be=1431655765&((be=858993459&((be=252645135&((be=16711935&((be=32767*(be-Pe)*pt)|be<<8))|be<<4))|be<<2))|be<<1))<<1}function zu(_e){var be=_e,Te=_e;do{(be.x<Te.x||be.x===Te.x&&be.y<Te.y)&&(Te=be),be=be.next}while(be!==_e);return Te}function Tu(_e,be,Te,Pe,pt,vt,xt,Tt){return(pt-xt)*(be-Tt)-(_e-xt)*(vt-Tt)>=0&&(_e-xt)*(Pe-Tt)-(Te-xt)*(be-Tt)>=0&&(Te-xt)*(vt-Tt)-(pt-xt)*(Pe-Tt)>=0}function Bu(_e,be){return _e.next.i!==be.i&&_e.prev.i!==be.i&&!function(_e,be){var Te=_e;do{if(Te.i!==_e.i&&Te.next.i!==_e.i&&Te.i!==be.i&&Te.next.i!==be.i&&Pu(Te,Te.next,_e,be))return!0;Te=Te.next}while(Te!==_e);return!1}(_e,be)&&(Fu(_e,be)&&Fu(be,_e)&&function(_e,be){var Te=_e,Pe=!1,pt=(_e.x+be.x)/2,vt=(_e.y+be.y)/2;do{Te.y>vt!=Te.next.y>vt&&Te.next.y!==Te.y&&pt<(Te.next.x-Te.x)*(vt-Te.y)/(Te.next.y-Te.y)+Te.x&&(Pe=!Pe),Te=Te.next}while(Te!==_e);return Pe}(_e,be)&&(Eu(_e.prev,_e,be.prev)||Eu(_e,be.prev,be))||Cu(_e,be)&&Eu(_e.prev,_e,_e.next)>0&&Eu(be.prev,be,be.next)>0)}function Eu(_e,be,Te){return(be.y-_e.y)*(Te.x-be.x)-(be.x-_e.x)*(Te.y-be.y)}function Cu(_e,be){return _e.x===be.x&&_e.y===be.y}function Pu(_e,be,Te,Pe){var pt=Vu(Eu(_e,be,Te)),vt=Vu(Eu(_e,be,Pe)),xt=Vu(Eu(Te,Pe,_e)),Tt=Vu(Eu(Te,Pe,be));return pt!==vt&&xt!==Tt||!(0!==pt||!Du(_e,Te,be))||!(0!==vt||!Du(_e,Pe,be))||!(0!==xt||!Du(Te,_e,Pe))||!(0!==Tt||!Du(Te,be,Pe))}function Du(_e,be,Te){return be.x<=Math.max(_e.x,Te.x)&&be.x>=Math.min(_e.x,Te.x)&&be.y<=Math.max(_e.y,Te.y)&&be.y>=Math.min(_e.y,Te.y)}function Vu(_e){return _e>0?1:_e<0?-1:0}function Fu(_e,be){return Eu(_e.prev,_e,_e.next)<0?Eu(_e,be,_e.next)>=0&&Eu(_e,_e.prev,be)>=0:Eu(_e,be,_e.prev)<0||Eu(_e,_e.next,be)<0}function Lu(_e,be){var Te=new Uu(_e.i,_e.x,_e.y),Pe=new Uu(be.i,be.x,be.y),pt=_e.next,vt=be.prev;return _e.next=be,be.prev=_e,Te.next=pt,pt.prev=Te,Pe.next=Te,Te.prev=Pe,vt.next=Pe,Pe.prev=vt,Pe}function Ru(_e,be,Te,Pe){var pt=new Uu(_e,be,Te);return Pe?(pt.next=Pe.next,pt.prev=Pe,Pe.next.prev=pt,Pe.next=pt):(pt.prev=pt,pt.next=pt),pt}function ju(_e){_e.next.prev=_e.prev,_e.prev.next=_e.next,_e.prevZ&&(_e.prevZ.nextZ=_e.nextZ),_e.nextZ&&(_e.nextZ.prevZ=_e.prevZ)}function Uu(_e,be,Te){this.i=_e,this.x=be,this.y=Te,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $u(_e,be,Te,Pe){for(var pt=0,vt=be,xt=Te-Pe;vt<Te;vt+=Pe)pt+=(_e[xt]-_e[vt])*(_e[vt+1]+_e[xt+1]),xt=vt;return pt}function Ou(_e,be,Te,Pe,pt){qu(_e,be,Te||0,Pe||_e.length-1,pt||Gu)}function qu(_e,be,Te,Pe,pt){for(;Pe>Te;){if(Pe-Te>600){var vt=Pe-Te+1,xt=be-Te+1,Tt=Math.log(vt),It=.5*Math.exp(2*Tt/3),Mt=.5*Math.sqrt(Tt*It*(vt-It)/vt)*(xt-vt/2<0?-1:1);qu(_e,be,Math.max(Te,Math.floor(be-xt*It/vt+Mt)),Math.min(Pe,Math.floor(be+(vt-xt)*It/vt+Mt)),pt)}var Lt=_e[be],Ft=Te,Ot=Pe;for(Nu(_e,Te,be),pt(_e[Pe],Lt)>0&&Nu(_e,Te,Pe);Ft<Ot;){for(Nu(_e,Ft,Ot),Ft++,Ot--;pt(_e[Ft],Lt)<0;)Ft++;for(;pt(_e[Ot],Lt)>0;)Ot--}0===pt(_e[Te],Lt)?Nu(_e,Te,Ot):Nu(_e,++Ot,Pe),Ot<=be&&(Te=Ot+1),be<=Ot&&(Pe=Ot-1)}}function Nu(_e,be,Te){var Pe=_e[be];_e[be]=_e[Te],_e[Te]=Pe}function Gu(_e,be){return _e<be?-1:_e>be?1:0}function Zu(_e,be){const Te=_e.length;if(Te<=1)return[_e];const Pe=[];let pt,vt;for(let be=0;be<Te;be++){const Te=P(_e[be]);0!==Te&&(_e[be].area=Math.abs(Te),void 0===vt&&(vt=Te<0),vt===Te<0?(pt&&Pe.push(pt),pt=[_e[be]]):pt.push(_e[be]))}if(pt&&Pe.push(pt),be>1)for(let _e=0;_e<Pe.length;_e++)Pe[_e].length<=be||(Ou(Pe[_e],be,1,Pe[_e].length-1,Xu),Pe[_e]=Pe[_e].slice(0,be));return Pe}function Xu(_e,be){return be.area-_e.area}function Ku(_e,be,Te){const Pe=Te.patternDependencies;let pt=!1;for(const Te of be){const be=Te.paint.get(`${_e}-pattern`);be.isConstant()||(pt=!0);const vt=be.constantOr(null);vt&&(pt=!0,Pe[vt.to]=!0,Pe[vt.from]=!0)}return pt}function Hu(_e,be,Te,Pe,pt){const vt=pt.patternDependencies;for(const xt of be){const be=xt.paint.get(`${_e}-pattern`).value;if("constant"!==be.kind){let _e=be.evaluate({zoom:Pe-1},Te,{},pt.availableImages),Tt=be.evaluate({zoom:Pe},Te,{},pt.availableImages),It=be.evaluate({zoom:Pe+1},Te,{},pt.availableImages);_e=_e&&_e.name?_e.name:_e,Tt=Tt&&Tt.name?Tt.name:Tt,It=It&&It.name?It.name:It,vt[_e]=!0,vt[Tt]=!0,vt[It]=!0,Te.patterns[xt.id]={min:_e,mid:Tt,max:It}}}return Te}mu.deviation=function(_e,be,Te,Pe){var pt=be&&be.length,vt=Math.abs($u(_e,0,pt?be[0]*Te:_e.length,Te));if(pt)for(var xt=0,Tt=be.length;xt<Tt;xt++)vt-=Math.abs($u(_e,be[xt]*Te,xt<Tt-1?be[xt+1]*Te:_e.length,Te));var It=0;for(xt=0;xt<Pe.length;xt+=3){var Mt=Pe[xt]*Te,Lt=Pe[xt+1]*Te,Ft=Pe[xt+2]*Te;It+=Math.abs((_e[Mt]-_e[Ft])*(_e[Lt+1]-_e[Mt+1])-(_e[Mt]-_e[Lt])*(_e[Ft+1]-_e[Mt+1]))}return 0===vt&&0===It?0:Math.abs((It-vt)/vt)},mu.flatten=function(_e){for(var be=_e[0][0].length,Te={vertices:[],holes:[],dimensions:be},Pe=0,pt=0;pt<_e.length;pt++){for(var vt=0;vt<_e[pt].length;vt++)for(var xt=0;xt<be;xt++)Te.vertices.push(_e[pt][vt][xt]);pt>0&&Te.holes.push(Pe+=_e[pt-1].length)}return Te},Jf.default=Qf;class em{constructor(_e){this.zoom=_e.zoom,this.overscaling=_e.overscaling,this.layers=_e.layers,this.layerIds=this.layers.map((_e=>_e.id)),this.index=_e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new lu,this.indexArray=new fc,this.indexArray2=new jc,this.programConfigurations=new lg(_e.layers,_e.zoom),this.segments=new kg,this.segments2=new kg,this.stateDependentLayerIds=this.layers.filter((_e=>_e.isStateDependent())).map((_e=>_e.id)),this.projection=_e.projection}populate(_e,be,Te,Pe){this.hasPattern=Ku("fill",this.layers,be);const pt=this.layers[0].layout.get("fill-sort-key"),vt=[];for(const{feature:xt,id:Tt,index:It,sourceLayerIndex:Mt}of _e){const _e=this.layers[0]._featureFilter.needGeometry,Lt=qo(xt,_e);if(!this.layers[0]._featureFilter.filter(new Kd(this.zoom),Lt,Te))continue;const Ft=pt?pt.evaluate(Lt,{},Te,be.availableImages):void 0,Ot={id:Tt,properties:xt.properties,type:xt.type,sourceLayerIndex:Mt,index:It,geometry:_e?Lt.geometry:Oo(xt,Te,Pe),patterns:{},sortKey:Ft};vt.push(Ot)}pt&&vt.sort(((_e,be)=>_e.sortKey-be.sortKey));for(const Pe of vt){const{geometry:pt,index:vt,sourceLayerIndex:xt}=Pe;if(this.hasPattern){const _e=Hu("fill",this.layers,Pe,this.zoom,be);this.patternFeatures.push(_e)}else this.addFeature(Pe,pt,vt,Te,{},be.availableImages);be.featureIndex.insert(_e[vt].feature,pt,vt,xt,this.index)}}update(_e,be,Te,Pe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_e,be,this.stateDependentLayers,Te,Pe)}addFeatures(_e,be,Te,Pe,pt){for(const _e of this.patternFeatures)this.addFeature(_e,_e.geometry,_e.index,be,Te,Pe)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(_e){this.uploaded||(this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,Xf),this.indexBuffer=_e.createIndexBuffer(this.indexArray),this.indexBuffer2=_e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(_e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(_e,be,Te,Pe,pt,vt=[]){for(const _e of Zu(be,500)){let be=0;for(const Te of _e)be+=Te.length;const Te=this.segments.prepareSegment(be,this.layoutVertexArray,this.indexArray),Pe=Te.vertexLength,pt=[],vt=[];for(const be of _e){if(0===be.length)continue;be!==_e[0]&&vt.push(pt.length/2);const Te=this.segments2.prepareSegment(be.length,this.layoutVertexArray,this.indexArray2),Pe=Te.vertexLength;this.layoutVertexArray.emplaceBack(be[0].x,be[0].y),this.indexArray2.emplaceBack(Pe+be.length-1,Pe),pt.push(be[0].x),pt.push(be[0].y);for(let _e=1;_e<be.length;_e++)this.layoutVertexArray.emplaceBack(be[_e].x,be[_e].y),this.indexArray2.emplaceBack(Pe+_e-1,Pe+_e),pt.push(be[_e].x),pt.push(be[_e].y);Te.vertexLength+=be.length,Te.primitiveLength+=be.length}const xt=Jf(pt,vt);for(let _e=0;_e<xt.length;_e+=3)this.indexArray.emplaceBack(Pe+xt[_e],Pe+xt[_e+1],Pe+xt[_e+2]);Te.vertexLength+=be,Te.primitiveLength+=xt.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_e,Te,pt,vt,Pe)}}Ei(em,"FillBucket",{omit:["layers","patternFeatures"]});const tm=new tu({"fill-sort-key":new $l(Aa.layout_fill["fill-sort-key"])});var nm={paint:new tu({"fill-antialias":new Hl(Aa.paint_fill["fill-antialias"]),"fill-opacity":new $l(Aa.paint_fill["fill-opacity"]),"fill-color":new $l(Aa.paint_fill["fill-color"]),"fill-outline-color":new $l(Aa.paint_fill["fill-outline-color"]),"fill-translate":new Hl(Aa.paint_fill["fill-translate"]),"fill-translate-anchor":new Hl(Aa.paint_fill["fill-translate-anchor"]),"fill-pattern":new Kl(Aa.paint_fill["fill-pattern"])}),layout:tm};const am=Hs([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),rm=Hs([{name:"a_centroid_pos",components:2,type:"Uint16"}]),im=Hs([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:om}=am;var sm=ic;function ic(_e,be,Te,Pe,pt){this.properties={},this.extent=Te,this.type=0,this._pbf=_e,this._geometry=-1,this._keys=Pe,this._values=pt,_e.readFields(sc,this,be)}function sc(_e,be,Te){1==_e?be.id=Te.readVarint():2==_e?function(_e,be){for(var Te=_e.readVarint()+_e.pos;_e.pos<Te;){var Pe=be._keys[_e.readVarint()],pt=be._values[_e.readVarint()];be.properties[Pe]=pt}}(Te,be):3==_e?be.type=Te.readVarint():4==_e&&(be._geometry=Te.pos)}function ac(_e){for(var be,Te,Pe=0,pt=0,vt=_e.length,xt=vt-1;pt<vt;xt=pt++)Pe+=((Te=_e[xt]).x-(be=_e[pt]).x)*(be.y+Te.y);return Pe}ic.types=["Unknown","Point","LineString","Polygon"],ic.prototype.loadGeometry=function(){var _e=this._pbf;_e.pos=this._geometry;for(var be,Te=_e.readVarint()+_e.pos,pt=1,vt=0,xt=0,Tt=0,It=[];_e.pos<Te;){if(vt<=0){var Mt=_e.readVarint();pt=7&Mt,vt=Mt>>3}if(vt--,1===pt||2===pt)xt+=_e.readSVarint(),Tt+=_e.readSVarint(),1===pt&&(be&&It.push(be),be=[]),be.push(new Pe(xt,Tt));else{if(7!==pt)throw new Error("unknown command "+pt);be&&be.push(be[0].clone())}}return be&&It.push(be),It},ic.prototype.bbox=function(){var _e=this._pbf;_e.pos=this._geometry;for(var be=_e.readVarint()+_e.pos,Te=1,Pe=0,pt=0,vt=0,xt=1/0,Tt=-1/0,It=1/0,Mt=-1/0;_e.pos<be;){if(Pe<=0){var Lt=_e.readVarint();Te=7&Lt,Pe=Lt>>3}if(Pe--,1===Te||2===Te)(pt+=_e.readSVarint())<xt&&(xt=pt),pt>Tt&&(Tt=pt),(vt+=_e.readSVarint())<It&&(It=vt),vt>Mt&&(Mt=vt);else if(7!==Te)throw new Error("unknown command "+Te)}return[xt,It,Tt,Mt]},ic.prototype.toGeoJSON=function(_e,be,Te){var Pe,pt,vt=this.extent*Math.pow(2,Te),xt=this.extent*_e,Tt=this.extent*be,It=this.loadGeometry(),Mt=ic.types[this.type];function c(_e){for(var be=0;be<_e.length;be++){var Te=_e[be];_e[be]=[360*(Te.x+xt)/vt-180,360/Math.PI*Math.atan(Math.exp((180-360*(Te.y+Tt)/vt)*Math.PI/180))-90]}}switch(this.type){case 1:var Lt=[];for(Pe=0;Pe<It.length;Pe++)Lt[Pe]=It[Pe][0];c(It=Lt);break;case 2:for(Pe=0;Pe<It.length;Pe++)c(It[Pe]);break;case 3:for(It=function(_e){var be=_e.length;if(be<=1)return[_e];for(var Te,Pe,pt=[],vt=0;vt<be;vt++){var xt=ac(_e[vt]);0!==xt&&(void 0===Pe&&(Pe=xt<0),Pe===xt<0?(Te&&pt.push(Te),Te=[_e[vt]]):Te.push(_e[vt]))}return Te&&pt.push(Te),pt}(It),Pe=0;Pe<It.length;Pe++)for(pt=0;pt<It[Pe].length;pt++)c(It[Pe][pt])}1===It.length?It=It[0]:Mt="Multi"+Mt;var Ft={type:"Feature",geometry:{type:Mt,coordinates:It},properties:this.properties};return"id"in this&&(Ft.id=this.id),Ft};var dm=lc;function lc(_e,be){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=_e,this._keys=[],this._values=[],this._features=[],_e.readFields(uc,this,be),this.length=this._features.length}function uc(_e,be,Te){15===_e?be.version=Te.readVarint():1===_e?be.name=Te.readString():5===_e?be.extent=Te.readVarint():2===_e?be._features.push(Te.pos):3===_e?be._keys.push(Te.readString()):4===_e&&be._values.push(function(_e){for(var be=null,Te=_e.readVarint()+_e.pos;_e.pos<Te;){var Pe=_e.readVarint()>>3;be=1===Pe?_e.readString():2===Pe?_e.readFloat():3===Pe?_e.readDouble():4===Pe?_e.readVarint64():5===Pe?_e.readVarint():6===Pe?_e.readSVarint():7===Pe?_e.readBoolean():null}return be}(Te))}function cc(_e,be,Te){if(3===_e){var Pe=new dm(Te,Te.readVarint()+Te.pos);Pe.length&&(be[Pe.name]=Pe)}}lc.prototype.feature=function(_e){if(_e<0||_e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[_e];var be=this._pbf.readVarint()+this._pbf.pos;return new sm(this._pbf,be,this.extent,this._keys,this._values)};var lm={VectorTile:function(_e,be){this.layers=_e.readFields(cc,{},be)},VectorTileFeature:sm,VectorTileLayer:dm};function pc(_e,be,Te,pt){const vt=[],xt=0===pt?(_e,be,Te,pt,vt,xt)=>{_e.push(new Pe(xt,Te+(xt-be)/(pt-be)*(vt-Te)))}:(_e,be,Te,pt,vt,xt)=>{_e.push(new Pe(be+(xt-Te)/(vt-Te)*(pt-be),xt))};for(const Pe of _e){const _e=[];for(const vt of Pe){if(vt.length<=2)continue;const Pe=[];for(let _e=0;_e<vt.length-1;_e++){const Tt=vt[_e].x,It=vt[_e].y,Mt=vt[_e+1].x,Lt=vt[_e+1].y,Ft=0===pt?Tt:It,Ot=0===pt?Mt:Lt;Ft<be?Ot>be&&xt(Pe,Tt,It,Mt,Lt,be):Ft>Te?Ot<Te&&xt(Pe,Tt,It,Mt,Lt,Te):Pe.push(vt[_e]),Ot<be&&Ft>=be&&xt(Pe,Tt,It,Mt,Lt,be),Ot>Te&&Ft<=Te&&xt(Pe,Tt,It,Mt,Lt,Te)}let Tt=vt[vt.length-1];const It=0===pt?Tt.x:Tt.y;It>=be&&It<=Te&&Pe.push(Tt),Pe.length&&(Tt=Pe[Pe.length-1],Pe[0].x===Tt.x&&Pe[0].y===Tt.y||Pe.push(Pe[0]),_e.push(Pe))}_e.length&&vt.push(_e)}return vt}const um=lm.VectorTileFeature.types,cm=Math.pow(2,13);function yc(_e,be,Te,Pe,pt,vt,xt,Tt){_e.emplaceBack((be<<1)+xt,(Te<<1)+vt,(Math.floor(Pe*cm)<<1)+pt,Math.round(Tt))}function mc(_e,be,Te){const Pe=16384;_e.emplaceBack(be.x,be.y,be.z,Te[0]*Pe,Te[1]*Pe,Te[2]*Pe)}class hm{constructor(){this.acc=new Pe(0,0),this.polyCount=[]}startRing(_e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new Pe(_e.x,_e.y),this.max=new Pe(_e.x,_e.y))}append(_e,be){this.currentPolyCount.edges++,this.acc._add(_e);const Te=this.min,Pe=this.max;_e.x<Te.x?Te.x=_e.x:_e.x>Pe.x&&(Pe.x=_e.x),_e.y<Te.y?Te.y=_e.y:_e.y>Pe.y&&(Pe.y=_e.y),((0===_e.x||_e.x===Pg)&&_e.x===be.x)!=((0===_e.y||_e.y===Pg)&&_e.y===be.y)&&this.processBorderOverlap(_e,be),be.x<0!=_e.x<0&&this.addBorderIntersection(0,gr(be.y,_e.y,(0-be.x)/(_e.x-be.x))),be.x>Pg!=_e.x>Pg&&this.addBorderIntersection(1,gr(be.y,_e.y,(Pg-be.x)/(_e.x-be.x))),be.y<0!=_e.y<0&&this.addBorderIntersection(2,gr(be.x,_e.x,(0-be.y)/(_e.y-be.y))),be.y>Pg!=_e.y>Pg&&this.addBorderIntersection(3,gr(be.x,_e.x,(Pg-be.y)/(_e.y-be.y)))}addBorderIntersection(_e,be){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const Te=this.borders[_e];be<Te[0]&&(Te[0]=be),be>Te[1]&&(Te[1]=be)}processBorderOverlap(_e,be){if(_e.x===be.x){if(_e.y===be.y)return;const Te=0===_e.x?0:1;this.addBorderIntersection(Te,be.y),this.addBorderIntersection(Te,_e.y)}else{const Te=0===_e.y?2:3;this.addBorderIntersection(Te,be.x),this.addBorderIntersection(Te,_e.x)}}centroid(){const _e=this.polyCount.reduce(((_e,be)=>_e+be.edges),0);return 0!==_e?this.acc.div(_e)._round():new Pe(0,0)}span(){return new Pe(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce(((_e,be)=>_e+ +(be[0]!==Number.MAX_VALUE)),0)}}class pm{constructor(_e){this.zoom=_e.zoom,this.canonical=_e.canonical,this.overscaling=_e.overscaling,this.layers=_e.layers,this.layerIds=this.layers.map((_e=>_e.id)),this.index=_e.index,this.hasPattern=!1,this.projection=_e.projection,this.layoutVertexArray=new hu,this.centroidVertexArray=new sp,this.indexArray=new fc,this.programConfigurations=new lg(_e.layers,_e.zoom),this.segments=new kg,this.stateDependentLayerIds=this.layers.filter((_e=>_e.isStateDependent())).map((_e=>_e.id)),this.enableTerrain=_e.enableTerrain}populate(_e,be,Te,Pe){this.features=[],this.hasPattern=Ku("fill-extrusion",this.layers,be),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(_e){const be=Math.exp(Math.PI*(1-_e.y/(1<<_e.z)*2));return 80150034*be/(be*be+1)/Pg/(1<<_e.z)}(Te);for(const{feature:pt,id:vt,index:xt,sourceLayerIndex:Tt}of _e){const _e=this.layers[0]._featureFilter.needGeometry,It=qo(pt,_e);if(!this.layers[0]._featureFilter.filter(new Kd(this.zoom),It,Te))continue;const Mt={id:vt,sourceLayerIndex:Tt,index:xt,geometry:_e?It.geometry:Oo(pt,Te,Pe),properties:pt.properties,type:pt.type,patterns:{}},Lt=this.layoutVertexArray.length;this.hasPattern?this.features.push(Hu("fill-extrusion",this.layers,Mt,this.zoom,be)):this.addFeature(Mt,Mt.geometry,xt,Te,{},be.availableImages,Pe),be.featureIndex.insert(pt,Mt.geometry,xt,Tt,this.index,Lt)}this.sortBorders()}addFeatures(_e,be,Te,Pe,pt){for(const _e of this.features){const{geometry:vt}=_e;this.addFeature(_e,vt,_e.index,be,Te,Pe,pt)}this.sortBorders()}update(_e,be,Te,Pe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_e,be,this.stateDependentLayers,Te,Pe)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(_e){this.uploaded||(this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,om),this.indexBuffer=_e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=_e.createVertexBuffer(this.layoutVertexExtArray,im.members,!0))),this.programConfigurations.upload(_e),this.uploaded=!0}uploadCentroid(_e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=_e.createVertexBuffer(this.centroidVertexArray,rm.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(_e,be,Te,pt,vt,xt,Tt){const It=[new Pe(0,0),new Pe(Pg,Pg)],Mt=Tt.projection,Lt="globe"===Mt.name,Ft=this.enableTerrain&&!Lt?new hm:null;Lt&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Hc);const Ot=Zu(be,500);for(let _e=Ot.length-1;_e>=0;_e--){const be=Ot[_e];(0===be.length||(Vt=be[0]).every((_e=>_e.x<=0))||Vt.every((_e=>_e.x>=Pg))||Vt.every((_e=>_e.y<=0))||Vt.every((_e=>_e.y>=Pg)))&&Ot.splice(_e,1)}var Vt;let qt;if(Lt)qt=_c(Ot,It,pt);else{qt=[];for(const _e of Ot)qt.push({polygon:_e,bounds:It})}for(const be of qt){const Te=be.polygon;let Pe=0,vt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(let _e=0;_e<Te.length;_e++){const xt=Te[_e];if(0===xt.length)continue;Pe+=xt.length;let Tt=0;Ft&&Ft.startRing(xt[0]);for(let _e=0;_e<xt.length;_e++){const Te=xt[_e];if(_e>=1){const Pe=xt[_e-1];if(!vc(Te,Pe,be.bounds)){Ft&&Ft.append(Te,Pe),vt.vertexLength+4>kg.MAX_VERTEX_ARRAY_LENGTH&&(vt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const _e=Te.sub(Pe)._perp(),be=_e.x/(Math.abs(_e.x)+Math.abs(_e.y)),xt=_e.y>0?1:0,It=Pe.dist(Te);Tt+It>32768&&(Tt=0),yc(this.layoutVertexArray,Te.x,Te.y,be,xt,0,0,Tt),yc(this.layoutVertexArray,Te.x,Te.y,be,xt,0,1,Tt),Tt+=It,yc(this.layoutVertexArray,Pe.x,Pe.y,be,xt,0,0,Tt),yc(this.layoutVertexArray,Pe.x,Pe.y,be,xt,0,1,Tt);const Ot=vt.vertexLength;if(this.indexArray.emplaceBack(Ot,Ot+2,Ot+1),this.indexArray.emplaceBack(Ot+1,Ot+2,Ot+3),vt.vertexLength+=4,vt.primitiveLength+=2,Lt){const _e=this.layoutVertexExtArray,be=Mt.projectTilePoint(Te.x,Te.y,pt),vt=Mt.projectTilePoint(Pe.x,Pe.y,pt),xt=Mt.upVector(pt,Te.x,Te.y),Tt=Mt.upVector(pt,Pe.x,Pe.y);mc(_e,be,xt),mc(_e,be,xt),mc(_e,vt,Tt),mc(_e,vt,Tt)}}}}}if(vt.vertexLength+Pe>kg.MAX_VERTEX_ARRAY_LENGTH&&(vt=this.segments.prepareSegment(Pe,this.layoutVertexArray,this.indexArray)),"Polygon"!==um[_e.type])continue;const xt=[],Tt=[],It=vt.vertexLength;for(let _e=0;_e<Te.length;_e++){const be=Te[_e];if(0!==be.length){be!==Te[0]&&Tt.push(xt.length/2);for(let _e=0;_e<be.length;_e++){const Te=be[_e];yc(this.layoutVertexArray,Te.x,Te.y,0,0,1,1,0),xt.push(Te.x),xt.push(Te.y),Ft&&Ft.currentPolyCount.top++,Lt&&mc(this.layoutVertexExtArray,Mt.projectTilePoint(Te.x,Te.y,pt),Mt.upVector(pt,Te.x,Te.y))}}}const Ot=Jf(xt,Tt);for(let _e=0;_e<Ot.length;_e+=3)this.indexArray.emplaceBack(It+Ot[_e],It+Ot[_e+2],It+Ot[_e+1]);vt.primitiveLength+=Ot.length/3,vt.vertexLength+=Pe}if(Ft&&Ft.polyCount.length>0){if(Ft.borders){Ft.vertexArrayOffset=this.centroidVertexArray.length;const _e=Ft.borders,be=this.featuresOnBorder.push(Ft)-1;for(let Te=0;Te<4;Te++)_e[Te][0]!==Number.MAX_VALUE&&this.borders[Te].push(be)}this.encodeCentroid(Ft.borders?void 0:Ft.centroid(),Ft)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_e,Te,vt,xt,pt)}sortBorders(){for(let _e=0;_e<4;_e++)this.borders[_e].sort(((be,Te)=>this.featuresOnBorder[be].borders[_e][0]-this.featuresOnBorder[Te].borders[_e][0]))}encodeCentroid(_e,be,Te=!0){let Pe,pt;if(_e)if(0!==_e.y){const Te=be.span()._mult(this.tileToMeter);Pe=(Math.max(_e.x,1)<<3)+Math.min(7,Math.round(Te.x/10)),pt=(Math.max(_e.y,1)<<3)+Math.min(7,Math.round(Te.y/10))}else Pe=Math.ceil(7*(_e.x+450)),pt=0;else Pe=0,pt=+Te;let vt=Te?this.centroidVertexArray.length:be.vertexArrayOffset;for(const _e of be.polyCount){Te&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*_e.edges+_e.top);for(let be=0;be<2*_e.edges;be++)this.centroidVertexArray.emplace(vt++,0,pt),this.centroidVertexArray.emplace(vt++,Pe,pt);for(let be=0;be<_e.top;be++)this.centroidVertexArray.emplace(vt++,Pe,pt)}}}function vc(_e,be,Te){return _e.x===be.x&&(_e.x<Te[0].x||_e.x>Te[1].x)||_e.y===be.y&&(_e.y<Te[0].y||_e.y>Te[1].y)}function bc(){const _e=Math.PI/32,be=Math.tan(_e),Te=Og;return Te*Math.sqrt(1+2*be*be)-Te}function _c(_e,be,Te){const pt=1<<Te.z,vt=Bo(Te.x/pt),xt=Bo((Te.x+1)/pt),Tt=Eo(Te.y/pt),It=Eo((Te.y+1)/pt);return function(_e,be,Te,pt,vt=0,xt){const Tt=[];if(!_e.length||!Te||!pt)return Tt;const l=(_e,be)=>{for(const Te of _e)Tt.push({polygon:Te,bounds:be})},It=Math.ceil(Math.log2(Te)),Mt=Math.ceil(Math.log2(pt)),Lt=It-Mt,Ft=[];for(let _e=0;_e<Math.abs(Lt);_e++)Ft.push(Lt>0?0:1);for(let _e=0;_e<Math.min(It,Mt);_e++)Ft.push(0),Ft.push(1);let Ot=_e;if(Ot=pc(Ot,be[0].y-vt,be[1].y+vt,1),Ot=pc(Ot,be[0].x-vt,be[1].x+vt,0),!Ot.length)return Tt;const Vt=[];for(Ft.length?Vt.push({polygons:Ot,bounds:be,depth:0}):l(Ot,be);Vt.length;){const _e=Vt.pop(),be=_e.depth,Te=Ft[be],pt=_e.bounds[0],Tt=_e.bounds[1],It=0===Te?pt.x:pt.y,Mt=0===Te?Tt.x:Tt.y,Lt=xt?xt(Te,It,Mt):.5*(It+Mt),Ot=pc(_e.polygons,It-vt,Lt+vt,Te),qt=pc(_e.polygons,Lt-vt,Mt+vt,Te);if(Ot.length){const _e=[pt,new Pe(0===Te?Lt:Tt.x,1===Te?Lt:Tt.y)];Ft.length>be+1?Vt.push({polygons:Ot,bounds:_e,depth:be+1}):l(Ot,_e)}if(qt.length){const _e=[new Pe(0===Te?Lt:pt.x,1===Te?Lt:pt.y),Tt];Ft.length>be+1?Vt.push({polygons:qt,bounds:_e,depth:be+1}):l(qt,_e)}}return Tt}(_e,be,Math.ceil((xt-vt)/11.25),Math.ceil((Tt-It)/11.25),1,((_e,be,Pe)=>{if(0===_e)return.5*(be+Pe);{const _e=Eo((Te.y+be/Pg)/pt);return(zo(.5*(Eo((Te.y+Pe/Pg)/pt)+_e))*pt-Te.y)*Pg}}))}Ei(pm,"FillExtrusionBucket",{omit:["layers","features"]}),Ei(hm,"PartMetadata");var gm={paint:new tu({"fill-extrusion-opacity":new Hl(Aa["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new $l(Aa["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Hl(Aa["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Hl(Aa["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Kl(Aa["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new $l(Aa["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new $l(Aa["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Hl(Aa["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Ac(_e,be,Te){var Pe=2*Math.PI*6378137/256/Math.pow(2,Te);return[_e*Pe-2*Math.PI*6378137/2,be*Pe-2*Math.PI*6378137/2]}class fm{constructor(_e,be,Te){this.z=_e,this.x=be,this.y=Te,this.key=Mc(0,_e,_e,be,Te)}equals(_e){return this.z===_e.z&&this.x===_e.x&&this.y===_e.y}url(_e,be){const Te=function(_e,be,Te){var Pe=Ac(256*_e,256*(be=Math.pow(2,Te)-be-1),Te),pt=Ac(256*(_e+1),256*(be+1),Te);return Pe[0]+","+Pe[1]+","+pt[0]+","+pt[1]}(this.x,this.y,this.z),Pe=function(_e,be,Te){let Pe,pt="";for(let vt=_e;vt>0;vt--)Pe=1<<vt-1,pt+=(be&Pe?1:0)+(Te&Pe?2:0);return pt}(this.z,this.x,this.y);return _e[(this.x+this.y)%_e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===be?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",Pe).replace("{bbox-epsg-3857}",Te)}toString(){return`${this.z}/${this.x}/${this.y}`}}class mm{constructor(_e,be){this.wrap=_e,this.canonical=be,this.key=Mc(_e,be.z,be.z,be.x,be.y)}}class ym{constructor(_e,be,Te,Pe,pt){this.overscaledZ=_e,this.wrap=be,this.canonical=new fm(Te,+Pe,+pt),this.key=0===be&&_e===Te?this.canonical.key:Mc(be,_e,Te,Pe,pt)}equals(_e){return this.overscaledZ===_e.overscaledZ&&this.wrap===_e.wrap&&this.canonical.equals(_e.canonical)}scaledTo(_e){const be=this.canonical.z-_e;return _e>this.canonical.z?new ym(_e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ym(_e,this.wrap,_e,this.canonical.x>>be,this.canonical.y>>be)}calculateScaledKey(_e,be=!0){if(this.overscaledZ===_e&&be)return this.key;if(_e>this.canonical.z)return Mc(this.wrap*+be,_e,this.canonical.z,this.canonical.x,this.canonical.y);{const Te=this.canonical.z-_e;return Mc(this.wrap*+be,_e,_e,this.canonical.x>>Te,this.canonical.y>>Te)}}isChildOf(_e){if(_e.wrap!==this.wrap)return!1;const be=this.canonical.z-_e.canonical.z;return 0===_e.overscaledZ||_e.overscaledZ<this.overscaledZ&&_e.canonical.x===this.canonical.x>>be&&_e.canonical.y===this.canonical.y>>be}children(_e){if(this.overscaledZ>=_e)return[new ym(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const be=this.canonical.z+1,Te=2*this.canonical.x,Pe=2*this.canonical.y;return[new ym(be,this.wrap,be,Te,Pe),new ym(be,this.wrap,be,Te+1,Pe),new ym(be,this.wrap,be,Te,Pe+1),new ym(be,this.wrap,be,Te+1,Pe+1)]}isLessThan(_e){return this.wrap<_e.wrap||!(this.wrap>_e.wrap)&&(this.overscaledZ<_e.overscaledZ||!(this.overscaledZ>_e.overscaledZ)&&(this.canonical.x<_e.canonical.x||!(this.canonical.x>_e.canonical.x)&&this.canonical.y<_e.canonical.y))}wrapped(){return new ym(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(_e){return new ym(this.overscaledZ,_e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new mm(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Mc(_e,be,Te,Pe,pt){const vt=1<<Math.min(Te,22);let xt=vt*(pt%vt)+Pe%vt;return _e&&Te<22&&(xt+=vt*vt*((_e<0?-2*_e-1:2*_e)%(1<<2*(22-Te)))),16*(32*xt+Te)+(be-Te)}function zc(_e,be){return _e.x*be.x+_e.y*be.y}function Tc(_e,be){if(1===_e.length){let Te=0;const Pe=be[Te++];let pt;for(;!pt||Pe.equals(pt);)if(pt=be[Te++],!pt)return 1/0;for(;Te<be.length;Te++){const vt=be[Te],xt=_e[0],Tt=pt.sub(Pe),It=vt.sub(Pe),Mt=xt.sub(Pe),Lt=zc(Tt,Tt),Ft=zc(Tt,It),Ot=zc(It,It),Vt=zc(Mt,Tt),qt=zc(Mt,It),Wt=Lt*Ot-Ft*Ft,$t=(Ot*Vt-Ft*qt)/Wt,Kt=(Lt*qt-Ft*Vt)/Wt,Jt=Pe.z*(1-$t-Kt)+pt.z*$t+vt.z*Kt;if(isFinite(Jt))return Jt}return 1/0}{let _e=1/0;for(const Te of be)_e=Math.min(_e,Te.z);return _e}}function Bc(_e){const be=new Pe(_e[0],_e[1]);return be.z=_e[2],be}function Ec(_e,be,Te,Pe,pt,vt,xt,Tt){const It=xt*pt.getElevationAt(_e,be,!0,!0),Mt=0!==vt[0],Lt=Mt?0===vt[1]?xt*(vt[0]/7-450):xt*function(_e,be,Te){const Pe=Math.floor(be[0]/8),pt=Math.floor(be[1]/8),vt=10*(be[0]-8*Pe),xt=10*(be[1]-8*pt),Tt=_e.getElevationAt(Pe,pt,!0,!0),It=_e.getMeterToDEM(Te),Mt=Math.floor(.5*(vt*It-1)),Lt=Math.floor(.5*(xt*It-1)),Ft=_e.tileCoordToPixel(Pe,pt),Ot=2*Mt+1,Vt=2*Lt+1,qt=function(_e,be,Te,Pe,pt){return[_e.getElevationAtPixel(be,Te,!0),_e.getElevationAtPixel(be+pt,Te,!0),_e.getElevationAtPixel(be,Te+pt,!0),_e.getElevationAtPixel(be+Pe,Te+pt,!0)]}(_e,Ft.x-Mt,Ft.y-Lt,Ot,Vt),Wt=Math.abs(qt[0]-qt[1]),$t=Math.abs(qt[2]-qt[3]),Kt=Math.abs(qt[0]-qt[2])+Math.abs(qt[1]-qt[3]),Jt=Math.min(.25,.5*It*(Wt+$t)/Ot),Yt=Math.min(.25,.5*It*Kt/Vt);return Tt+Math.max(Jt*vt,Yt*xt)}(pt,vt,Tt):It;return{base:It+(0===Te)?-1:Te,top:Mt?Math.max(Lt+Pe,It+Te+2):It+Pe}}Ei(fm,"CanonicalTileID"),Ei(ym,"OverscaledTileID",{omit:["projMatrix"]});const _m=Hs([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:vm}=_m,Rm=Hs([{name:"a_packed",components:4,type:"Float32"}]),{members:xm}=Rm,bm=lm.VectorTileFeature.types,wm=Math.cos(Math.PI/180*37.5);class Em{constructor(_e){this.zoom=_e.zoom,this.overscaling=_e.overscaling,this.layers=_e.layers,this.layerIds=this.layers.map((_e=>_e.id)),this.index=_e.index,this.projection=_e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((_e=>{this.gradients[_e.id]={}})),this.layoutVertexArray=new pu,this.layoutVertexArray2=new fu,this.indexArray=new fc,this.programConfigurations=new lg(_e.layers,_e.zoom),this.segments=new kg,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((_e=>_e.isStateDependent())).map((_e=>_e.id))}populate(_e,be,Te,Pe){this.hasPattern=Ku("line",this.layers,be);const pt=this.layers[0].layout.get("line-sort-key"),vt=[];for(const{feature:be,id:xt,index:Tt,sourceLayerIndex:It}of _e){const _e=this.layers[0]._featureFilter.needGeometry,Mt=qo(be,_e);if(!this.layers[0]._featureFilter.filter(new Kd(this.zoom),Mt,Te))continue;const Lt=pt?pt.evaluate(Mt,{},Te):void 0,Ft={id:xt,properties:be.properties,type:be.type,sourceLayerIndex:It,index:Tt,geometry:_e?Mt.geometry:Oo(be,Te,Pe),patterns:{},sortKey:Lt};vt.push(Ft)}pt&&vt.sort(((_e,be)=>_e.sortKey-be.sortKey));const{lineAtlas:xt,featureIndex:Tt}=be,It=this.addConstantDashes(xt);for(const Pe of vt){const{geometry:pt,index:vt,sourceLayerIndex:Mt}=Pe;if(It&&this.addFeatureDashes(Pe,xt),this.hasPattern){const _e=Hu("line",this.layers,Pe,this.zoom,be);this.patternFeatures.push(_e)}else this.addFeature(Pe,pt,vt,Te,xt.positions,be.availableImages);Tt.insert(_e[vt].feature,pt,vt,Mt,this.index)}}addConstantDashes(_e){let be=!1;for(const Te of this.layers){const Pe=Te.paint.get("line-dasharray").value,pt=Te.layout.get("line-cap").value;if("constant"!==Pe.kind||"constant"!==pt.kind)be=!0;else{const be=pt.value,Te=Pe.value;if(!Te)continue;_e.addDash(Te.from,be),_e.addDash(Te.to,be),Te.other&&_e.addDash(Te.other,be)}}return be}addFeatureDashes(_e,be){const Te=this.zoom;for(const Pe of this.layers){const pt=Pe.paint.get("line-dasharray").value,vt=Pe.layout.get("line-cap").value;if("constant"===pt.kind&&"constant"===vt.kind)continue;let xt,Tt,It,Mt,Lt,Ft;if("constant"===pt.kind){const _e=pt.value;if(!_e)continue;xt=_e.other||_e.to,Tt=_e.to,It=_e.from}else xt=pt.evaluate({zoom:Te-1},_e),Tt=pt.evaluate({zoom:Te},_e),It=pt.evaluate({zoom:Te+1},_e);"constant"===vt.kind?Mt=Lt=Ft=vt.value:(Mt=vt.evaluate({zoom:Te-1},_e),Lt=vt.evaluate({zoom:Te},_e),Ft=vt.evaluate({zoom:Te+1},_e)),be.addDash(xt,Mt),be.addDash(Tt,Lt),be.addDash(It,Ft);const Ot=be.getKey(xt,Mt),Vt=be.getKey(Tt,Lt),qt=be.getKey(It,Ft);_e.patterns[Pe.id]={min:Ot,mid:Vt,max:qt}}}update(_e,be,Te,Pe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_e,be,this.stateDependentLayers,Te,Pe)}addFeatures(_e,be,Te,Pe,pt){for(const _e of this.patternFeatures)this.addFeature(_e,_e.geometry,_e.index,be,Te,Pe)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(_e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=_e.createVertexBuffer(this.layoutVertexArray2,xm)),this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,vm),this.indexBuffer=_e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(_e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(_e){if(_e.properties&&_e.properties.hasOwnProperty("mapbox_clip_start")&&_e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+_e.properties.mapbox_clip_start,end:+_e.properties.mapbox_clip_end}}addFeature(_e,be,Te,Pe,pt,vt){const xt=this.layers[0].layout,Tt=xt.get("line-join").evaluate(_e,{}),It=xt.get("line-cap").evaluate(_e,{}),Mt=xt.get("line-miter-limit"),Lt=xt.get("line-round-limit");this.lineClips=this.lineFeatureClips(_e);for(const Te of be)this.addLine(Te,_e,Tt,It,Mt,Lt);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_e,Te,pt,vt,Pe)}addLine(_e,be,Te,Pe,pt,vt){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let be=0;be<_e.length-1;be++)this.totalDistance+=_e[be].dist(_e[be+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const xt="Polygon"===bm[be.type];let Tt=_e.length;for(;Tt>=2&&_e[Tt-1].equals(_e[Tt-2]);)Tt--;let It=0;for(;It<Tt-1&&_e[It].equals(_e[It+1]);)It++;if(Tt<(xt?3:2))return;"bevel"===Te&&(pt=1.05);const Mt=this.overscaling<=16?122880/(512*this.overscaling):0,Lt=this.segments.prepareSegment(10*Tt,this.layoutVertexArray,this.indexArray);let Ft,Ot,Vt,qt,Wt;this.e1=this.e2=-1,xt&&(Ft=_e[Tt-2],Wt=_e[It].sub(Ft)._unit()._perp());for(let be=It;be<Tt;be++){if(Vt=be===Tt-1?xt?_e[It+1]:void 0:_e[be+1],Vt&&_e[be].equals(Vt))continue;Wt&&(qt=Wt),Ft&&(Ot=Ft),Ft=_e[be],Wt=Vt?Vt.sub(Ft)._unit()._perp():qt,qt=qt||Wt;let $t=qt.add(Wt);0===$t.x&&0===$t.y||$t._unit();const Kt=qt.x*Wt.x+qt.y*Wt.y,Jt=$t.x*Wt.x+$t.y*Wt.y,Yt=0!==Jt?1/Jt:1/0,Qt=2*Math.sqrt(2-2*Jt),an=Jt<wm&&Ot&&Vt,cn=qt.x*Wt.y-qt.y*Wt.x>0;if(an&&be>It){const _e=Ft.dist(Ot);if(_e>2*Mt){const be=Ft.sub(Ft.sub(Ot)._mult(Mt/_e)._round());this.updateDistance(Ot,be),this.addCurrentVertex(be,qt,0,0,Lt),Ot=be}}const hn=Ot&&Vt;let pn=hn?Te:xt?"butt":Pe;if(hn&&"round"===pn&&(Yt<vt?pn="miter":Yt<=2&&(pn="fakeround")),"miter"===pn&&Yt>pt&&(pn="bevel"),"bevel"===pn&&(Yt>2&&(pn="flipbevel"),Yt<pt&&(pn="miter")),Ot&&this.updateDistance(Ot,Ft),"miter"===pn)$t._mult(Yt),this.addCurrentVertex(Ft,$t,0,0,Lt);else if("flipbevel"===pn){if(Yt>100)$t=Wt.mult(-1);else{const _e=Yt*qt.add(Wt).mag()/qt.sub(Wt).mag();$t._perp()._mult(_e*(cn?-1:1))}this.addCurrentVertex(Ft,$t,0,0,Lt),this.addCurrentVertex(Ft,$t.mult(-1),0,0,Lt)}else if("bevel"===pn||"fakeround"===pn){const _e=-Math.sqrt(Yt*Yt-1),be=cn?_e:0,Te=cn?0:_e;if(Ot&&this.addCurrentVertex(Ft,qt,be,Te,Lt),"fakeround"===pn){const _e=Math.round(180*Qt/Math.PI/20);for(let be=1;be<_e;be++){let Te=be/_e;if(.5!==Te){const _e=Te-.5;Te+=Te*_e*(Te-1)*((1.0904+Kt*(Kt*(3.55645-1.43519*Kt)-3.2452))*_e*_e+(.848013+Kt*(.215638*Kt-1.06021)))}const Pe=Wt.sub(qt)._mult(Te)._add(qt)._unit()._mult(cn?-1:1);this.addHalfVertex(Ft,Pe.x,Pe.y,!1,cn,0,Lt)}}Vt&&this.addCurrentVertex(Ft,Wt,-be,-Te,Lt)}else if("butt"===pn)this.addCurrentVertex(Ft,$t,0,0,Lt);else if("square"===pn){const _e=Ot?1:-1;Ot||this.addCurrentVertex(Ft,$t,_e,_e,Lt),this.addCurrentVertex(Ft,$t,0,0,Lt),Ot&&this.addCurrentVertex(Ft,$t,_e,_e,Lt)}else"round"===pn&&(Ot&&(this.addCurrentVertex(Ft,qt,0,0,Lt),this.addCurrentVertex(Ft,qt,1,1,Lt,!0)),Vt&&(this.addCurrentVertex(Ft,Wt,-1,-1,Lt,!0),this.addCurrentVertex(Ft,Wt,0,0,Lt)));if(an&&be<Tt-1){const _e=Ft.dist(Vt);if(_e>2*Mt){const be=Ft.add(Vt.sub(Ft)._mult(Mt/_e)._round());this.updateDistance(Ft,be),this.addCurrentVertex(be,Wt,0,0,Lt),Ft=be}}}}addCurrentVertex(_e,be,Te,Pe,pt,vt=!1){const xt=be.y*Pe-be.x,Tt=-be.y-be.x*Pe;this.addHalfVertex(_e,be.x+be.y*Te,be.y-be.x*Te,vt,!1,Te,pt),this.addHalfVertex(_e,xt,Tt,vt,!0,-Pe,pt)}addHalfVertex({x:_e,y:be},Te,Pe,pt,vt,xt,Tt){this.layoutVertexArray.emplaceBack((_e<<1)+(pt?1:0),(be<<1)+(vt?1:0),Math.round(63*Te)+128,Math.round(63*Pe)+128,1+(0===xt?0:xt<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const It=Tt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,It),Tt.primitiveLength++),vt?this.e2=It:this.e1=It}updateScaledDistance(){if(this.lineClips){const _e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=_e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(_e,be){this.distance+=_e.dist(be),this.updateScaledDistance()}}Ei(Em,"LineBucket",{omit:["layers","patternFeatures"]});const Sm=new tu({"line-cap":new $l(Aa.layout_line["line-cap"]),"line-join":new $l(Aa.layout_line["line-join"]),"line-miter-limit":new Hl(Aa.layout_line["line-miter-limit"]),"line-round-limit":new Hl(Aa.layout_line["line-round-limit"]),"line-sort-key":new $l(Aa.layout_line["line-sort-key"])});var Cm={paint:new tu({"line-opacity":new $l(Aa.paint_line["line-opacity"]),"line-color":new $l(Aa.paint_line["line-color"]),"line-translate":new Hl(Aa.paint_line["line-translate"]),"line-translate-anchor":new Hl(Aa.paint_line["line-translate-anchor"]),"line-width":new $l(Aa.paint_line["line-width"]),"line-gap-width":new $l(Aa.paint_line["line-gap-width"]),"line-offset":new $l(Aa.paint_line["line-offset"]),"line-blur":new $l(Aa.paint_line["line-blur"]),"line-dasharray":new Kl(Aa.paint_line["line-dasharray"]),"line-pattern":new Kl(Aa.paint_line["line-pattern"]),"line-gradient":new eu(Aa.paint_line["line-gradient"]),"line-trim-offset":new Hl(Aa.paint_line["line-trim-offset"])}),layout:Sm};const Am=new class extends $l{possiblyEvaluate(_e,be){return be=new Kd(Math.floor(be.zoom),{now:be.now,fadeDuration:be.fadeDuration,zoomHistory:be.zoomHistory,transition:be.transition}),super.possiblyEvaluate(_e,be)}evaluate(_e,be,Te,Pe){return be=v({},be,{zoom:Math.floor(be.zoom)}),super.evaluate(_e,be,Te,Pe)}}(Cm.paint.properties["line-width"].specification);function Oc(_e,be){return be>0?be+2*_e:_e}Am.useIntegerZoom=!0;const Tm=Hs([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Dm=Hs([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),km=Hs([{name:"a_projected_pos",components:4,type:"Float32"}],4);Hs([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Pm=Hs([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Im=Hs([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Hs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Mm=Hs([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Lm=Hs([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Hs([{name:"triangle",components:3,type:"Uint16"}]),Hs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Hs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Hs([{type:"Float32",name:"offsetX"}]),Hs([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Fm=24;const Bm=128;function Jc(_e,be){const{expression:Te}=be;if("constant"===Te.kind)return{kind:"constant",layoutSize:Te.evaluate(new Kd(_e+1))};if("source"===Te.kind)return{kind:"source"};{const{zoomStops:be,interpolationType:Pe}=Te;let pt=0;for(;pt<be.length&&be[pt]<=_e;)pt++;pt=Math.max(0,pt-1);let vt=pt;for(;vt<be.length&&be[vt]<_e+1;)vt++;vt=Math.min(be.length-1,vt);const xt=be[pt],Tt=be[vt];return"composite"===Te.kind?{kind:"composite",minZoom:xt,maxZoom:Tt,interpolationType:Pe}:{kind:"camera",minZoom:xt,maxZoom:Tt,minSize:Te.evaluate(new Kd(xt)),maxSize:Te.evaluate(new Kd(Tt)),interpolationType:Pe}}}function Qc(_e,{uSize:be,uSizeT:Te},{lowerSize:Pe,upperSize:pt}){return"source"===_e.kind?Pe/Bm:"composite"===_e.kind?gr(Pe/Bm,pt/Bm,Te):be}function th(_e,be){let Te=0,Pe=0;if("constant"===_e.kind)Pe=_e.layoutSize;else if("source"!==_e.kind){const{interpolationType:pt,minZoom:vt,maxZoom:xt}=_e,Tt=pt?d(Ts.interpolationFactor(pt,be,vt,xt),0,1):0;"camera"===_e.kind?Pe=gr(_e.minSize,_e.maxSize,Tt):Te=Tt}return{uSizeT:Te,uSize:Pe}}var Om=Object.freeze({__proto__:null,getSizeData:Jc,evaluateSizeForFeature:Qc,evaluateSizeForZoom:th,SIZE_PACK_FACTOR:Bm});function rh(_e,be,Te){return _e.sections.forEach((_e=>{_e.text=function(_e,be,Te){const Pe=be.layout.get("text-transform").evaluate(Te,{});return"uppercase"===Pe?_e=_e.toLocaleUpperCase():"lowercase"===Pe&&(_e=_e.toLocaleLowerCase()),Xd.applyArabicShaping&&(_e=Xd.applyArabicShaping(_e)),_e}(_e.text,be,Te)})),_e}const zm={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function ih(_e){return"︶"===_e||"﹈"===_e||"︸"===_e||"﹄"===_e||"﹂"===_e||"︾"===_e||"︼"===_e||"︺"===_e||"︘"===_e||"﹀"===_e||"︐"===_e||"︓"===_e||"︔"===_e||"｀"===_e||"￣"===_e||"︑"===_e||"︒"===_e}function sh(_e){return"︵"===_e||"﹇"===_e||"︷"===_e||"﹃"===_e||"﹁"===_e||"︽"===_e||"︻"===_e||"︹"===_e||"︗"===_e||"︿"===_e}var ah=function(_e,be,Te,Pe,pt){var vt,xt,Tt=8*pt-Pe-1,It=(1<<Tt)-1,Mt=It>>1,Lt=-7,Ft=Te?pt-1:0,Ot=Te?-1:1,Vt=_e[be+Ft];for(Ft+=Ot,vt=Vt&(1<<-Lt)-1,Vt>>=-Lt,Lt+=Tt;Lt>0;vt=256*vt+_e[be+Ft],Ft+=Ot,Lt-=8);for(xt=vt&(1<<-Lt)-1,vt>>=-Lt,Lt+=Pe;Lt>0;xt=256*xt+_e[be+Ft],Ft+=Ot,Lt-=8);if(0===vt)vt=1-Mt;else{if(vt===It)return xt?NaN:1/0*(Vt?-1:1);xt+=Math.pow(2,Pe),vt-=Mt}return(Vt?-1:1)*xt*Math.pow(2,vt-Pe)},oh=function(_e,be,Te,Pe,pt,vt){var xt,Tt,It,Mt=8*vt-pt-1,Lt=(1<<Mt)-1,Ft=Lt>>1,Ot=23===pt?Math.pow(2,-24)-Math.pow(2,-77):0,Vt=Pe?0:vt-1,qt=Pe?1:-1,Wt=be<0||0===be&&1/be<0?1:0;for(be=Math.abs(be),isNaN(be)||be===1/0?(Tt=isNaN(be)?1:0,xt=Lt):(xt=Math.floor(Math.log(be)/Math.LN2),be*(It=Math.pow(2,-xt))<1&&(xt--,It*=2),(be+=xt+Ft>=1?Ot/It:Ot*Math.pow(2,1-Ft))*It>=2&&(xt++,It/=2),xt+Ft>=Lt?(Tt=0,xt=Lt):xt+Ft>=1?(Tt=(be*It-1)*Math.pow(2,pt),xt+=Ft):(Tt=be*Math.pow(2,Ft-1)*Math.pow(2,pt),xt=0));pt>=8;_e[Te+Vt]=255&Tt,Vt+=qt,Tt/=256,pt-=8);for(xt=xt<<pt|Tt,Mt+=pt;Mt>0;_e[Te+Vt]=255&xt,Vt+=qt,xt/=256,Mt-=8);_e[Te+Vt-qt]|=128*Wt},jm=uh;function uh(_e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(_e)?_e:new Uint8Array(_e||0),this.pos=0,this.type=0,this.length=this.buf.length}uh.Varint=0,uh.Fixed64=1,uh.Bytes=2,uh.Fixed32=5;var Nm=4294967296,Vm=1/Nm,Um="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function fh(_e){return _e.type===uh.Bytes?_e.readVarint()+_e.pos:_e.pos+1}function dh(_e,be,Te){return Te?4294967296*be+(_e>>>0):4294967296*(be>>>0)+(_e>>>0)}function yh(_e,be,Te){var Pe=be<=16383?1:be<=2097151?2:be<=268435455?3:Math.floor(Math.log(be)/(7*Math.LN2));Te.realloc(Pe);for(var pt=Te.pos-1;pt>=_e;pt--)Te.buf[pt+Pe]=Te.buf[pt]}function mh(_e,be){for(var Te=0;Te<_e.length;Te++)be.writeVarint(_e[Te])}function gh(_e,be){for(var Te=0;Te<_e.length;Te++)be.writeSVarint(_e[Te])}function xh(_e,be){for(var Te=0;Te<_e.length;Te++)be.writeFloat(_e[Te])}function vh(_e,be){for(var Te=0;Te<_e.length;Te++)be.writeDouble(_e[Te])}function bh(_e,be){for(var Te=0;Te<_e.length;Te++)be.writeBoolean(_e[Te])}function _h(_e,be){for(var Te=0;Te<_e.length;Te++)be.writeFixed32(_e[Te])}function wh(_e,be){for(var Te=0;Te<_e.length;Te++)be.writeSFixed32(_e[Te])}function Ah(_e,be){for(var Te=0;Te<_e.length;Te++)be.writeFixed64(_e[Te])}function Sh(_e,be){for(var Te=0;Te<_e.length;Te++)be.writeSFixed64(_e[Te])}function kh(_e,be){return(_e[be]|_e[be+1]<<8|_e[be+2]<<16)+16777216*_e[be+3]}function Ih(_e,be,Te){_e[Te]=be,_e[Te+1]=be>>>8,_e[Te+2]=be>>>16,_e[Te+3]=be>>>24}function Mh(_e,be){return(_e[be]|_e[be+1]<<8|_e[be+2]<<16)+(_e[be+3]<<24)}function zh(_e,be,Te){be.glyphs=[],1===_e&&Te.readMessage(Th,be)}function Th(_e,be,Te){if(3===_e){const{id:_e,bitmap:Pe,width:pt,height:vt,left:xt,top:Tt,advance:It}=Te.readMessage(Bh,{});be.glyphs.push({id:_e,bitmap:new jf({width:pt+6,height:vt+6},Pe),metrics:{width:pt,height:vt,left:xt,top:Tt,advance:It}})}else 4===_e?be.ascender=Te.readSVarint():5===_e&&(be.descender=Te.readSVarint())}function Bh(_e,be,Te){1===_e?be.id=Te.readVarint():2===_e?be.bitmap=Te.readBytes():3===_e?be.width=Te.readVarint():4===_e?be.height=Te.readVarint():5===_e?be.left=Te.readSVarint():6===_e?be.top=Te.readSVarint():7===_e&&(be.advance=Te.readVarint())}function Eh(_e){let be=0,Te=0;for(const Pe of _e)be+=Pe.w*Pe.h,Te=Math.max(Te,Pe.w);_e.sort(((_e,be)=>be.h-_e.h));const Pe=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(be/.95)),Te),h:1/0}];let pt=0,vt=0;for(const be of _e)for(let _e=Pe.length-1;_e>=0;_e--){const Te=Pe[_e];if(!(be.w>Te.w||be.h>Te.h)){if(be.x=Te.x,be.y=Te.y,vt=Math.max(vt,be.y+be.h),pt=Math.max(pt,be.x+be.w),be.w===Te.w&&be.h===Te.h){const be=Pe.pop();_e<Pe.length&&(Pe[_e]=be)}else be.h===Te.h?(Te.x+=be.w,Te.w-=be.w):be.w===Te.w?(Te.y+=be.h,Te.h-=be.h):(Pe.push({x:Te.x+be.w,y:Te.y,w:Te.w-be.w,h:be.h}),Te.y+=be.h,Te.h-=be.h);break}}return{w:pt,h:vt,fill:be/(pt*vt)||0}}uh.prototype={destroy:function(){this.buf=null},readFields:function(_e,be,Te){for(Te=Te||this.length;this.pos<Te;){var Pe=this.readVarint(),pt=Pe>>3,vt=this.pos;this.type=7&Pe,_e(pt,be,this),this.pos===vt&&this.skip(Pe)}return be},readMessage:function(_e,be){return this.readFields(_e,be,this.readVarint()+this.pos)},readFixed32:function(){var _e=kh(this.buf,this.pos);return this.pos+=4,_e},readSFixed32:function(){var _e=Mh(this.buf,this.pos);return this.pos+=4,_e},readFixed64:function(){var _e=kh(this.buf,this.pos)+kh(this.buf,this.pos+4)*Nm;return this.pos+=8,_e},readSFixed64:function(){var _e=kh(this.buf,this.pos)+Mh(this.buf,this.pos+4)*Nm;return this.pos+=8,_e},readFloat:function(){var _e=ah(this.buf,this.pos,!0,23,4);return this.pos+=4,_e},readDouble:function(){var _e=ah(this.buf,this.pos,!0,52,8);return this.pos+=8,_e},readVarint:function(_e){var be,Te,Pe=this.buf;return be=127&(Te=Pe[this.pos++]),Te<128?be:(be|=(127&(Te=Pe[this.pos++]))<<7,Te<128?be:(be|=(127&(Te=Pe[this.pos++]))<<14,Te<128?be:(be|=(127&(Te=Pe[this.pos++]))<<21,Te<128?be:function(_e,be,Te){var Pe,pt,vt=Te.buf;if(Pe=(112&(pt=vt[Te.pos++]))>>4,pt<128)return dh(_e,Pe,be);if(Pe|=(127&(pt=vt[Te.pos++]))<<3,pt<128)return dh(_e,Pe,be);if(Pe|=(127&(pt=vt[Te.pos++]))<<10,pt<128)return dh(_e,Pe,be);if(Pe|=(127&(pt=vt[Te.pos++]))<<17,pt<128)return dh(_e,Pe,be);if(Pe|=(127&(pt=vt[Te.pos++]))<<24,pt<128)return dh(_e,Pe,be);if(Pe|=(1&(pt=vt[Te.pos++]))<<31,pt<128)return dh(_e,Pe,be);throw new Error("Expected varint not more than 10 bytes")}(be|=(15&(Te=Pe[this.pos]))<<28,_e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var _e=this.readVarint();return _e%2==1?(_e+1)/-2:_e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var _e=this.readVarint()+this.pos,be=this.pos;return this.pos=_e,_e-be>=12&&Um?function(_e,be,Te){return Um.decode(_e.subarray(be,Te))}(this.buf,be,_e):function(_e,be,Te){for(var Pe="",pt=be;pt<Te;){var vt,xt,Tt,It=_e[pt],Mt=null,Lt=It>239?4:It>223?3:It>191?2:1;if(pt+Lt>Te)break;1===Lt?It<128&&(Mt=It):2===Lt?128==(192&(vt=_e[pt+1]))&&(Mt=(31&It)<<6|63&vt)<=127&&(Mt=null):3===Lt?(xt=_e[pt+2],128==(192&(vt=_e[pt+1]))&&128==(192&xt)&&((Mt=(15&It)<<12|(63&vt)<<6|63&xt)<=2047||Mt>=55296&&Mt<=57343)&&(Mt=null)):4===Lt&&(xt=_e[pt+2],Tt=_e[pt+3],128==(192&(vt=_e[pt+1]))&&128==(192&xt)&&128==(192&Tt)&&((Mt=(15&It)<<18|(63&vt)<<12|(63&xt)<<6|63&Tt)<=65535||Mt>=1114112)&&(Mt=null)),null===Mt?(Mt=65533,Lt=1):Mt>65535&&(Mt-=65536,Pe+=String.fromCharCode(Mt>>>10&1023|55296),Mt=56320|1023&Mt),Pe+=String.fromCharCode(Mt),pt+=Lt}return Pe}(this.buf,be,_e)},readBytes:function(){var _e=this.readVarint()+this.pos,be=this.buf.subarray(this.pos,_e);return this.pos=_e,be},readPackedVarint:function(_e,be){if(this.type!==uh.Bytes)return _e.push(this.readVarint(be));var Te=fh(this);for(_e=_e||[];this.pos<Te;)_e.push(this.readVarint(be));return _e},readPackedSVarint:function(_e){if(this.type!==uh.Bytes)return _e.push(this.readSVarint());var be=fh(this);for(_e=_e||[];this.pos<be;)_e.push(this.readSVarint());return _e},readPackedBoolean:function(_e){if(this.type!==uh.Bytes)return _e.push(this.readBoolean());var be=fh(this);for(_e=_e||[];this.pos<be;)_e.push(this.readBoolean());return _e},readPackedFloat:function(_e){if(this.type!==uh.Bytes)return _e.push(this.readFloat());var be=fh(this);for(_e=_e||[];this.pos<be;)_e.push(this.readFloat());return _e},readPackedDouble:function(_e){if(this.type!==uh.Bytes)return _e.push(this.readDouble());var be=fh(this);for(_e=_e||[];this.pos<be;)_e.push(this.readDouble());return _e},readPackedFixed32:function(_e){if(this.type!==uh.Bytes)return _e.push(this.readFixed32());var be=fh(this);for(_e=_e||[];this.pos<be;)_e.push(this.readFixed32());return _e},readPackedSFixed32:function(_e){if(this.type!==uh.Bytes)return _e.push(this.readSFixed32());var be=fh(this);for(_e=_e||[];this.pos<be;)_e.push(this.readSFixed32());return _e},readPackedFixed64:function(_e){if(this.type!==uh.Bytes)return _e.push(this.readFixed64());var be=fh(this);for(_e=_e||[];this.pos<be;)_e.push(this.readFixed64());return _e},readPackedSFixed64:function(_e){if(this.type!==uh.Bytes)return _e.push(this.readSFixed64());var be=fh(this);for(_e=_e||[];this.pos<be;)_e.push(this.readSFixed64());return _e},skip:function(_e){var be=7&_e;if(be===uh.Varint)for(;this.buf[this.pos++]>127;);else if(be===uh.Bytes)this.pos=this.readVarint()+this.pos;else if(be===uh.Fixed32)this.pos+=4;else{if(be!==uh.Fixed64)throw new Error("Unimplemented type: "+be);this.pos+=8}},writeTag:function(_e,be){this.writeVarint(_e<<3|be)},realloc:function(_e){for(var be=this.length||16;be<this.pos+_e;)be*=2;if(be!==this.length){var Te=new Uint8Array(be);Te.set(this.buf),this.buf=Te,this.length=be}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(_e){this.realloc(4),Ih(this.buf,_e,this.pos),this.pos+=4},writeSFixed32:function(_e){this.realloc(4),Ih(this.buf,_e,this.pos),this.pos+=4},writeFixed64:function(_e){this.realloc(8),Ih(this.buf,-1&_e,this.pos),Ih(this.buf,Math.floor(_e*Vm),this.pos+4),this.pos+=8},writeSFixed64:function(_e){this.realloc(8),Ih(this.buf,-1&_e,this.pos),Ih(this.buf,Math.floor(_e*Vm),this.pos+4),this.pos+=8},writeVarint:function(_e){(_e=+_e||0)>268435455||_e<0?function(_e,be){var Te,Pe;if(_e>=0?(Te=_e%4294967296|0,Pe=_e/4294967296|0):(Pe=~(-_e/4294967296),4294967295^(Te=~(-_e%4294967296))?Te=Te+1|0:(Te=0,Pe=Pe+1|0)),_e>=0x10000000000000000||_e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");be.realloc(10),function(_e,be,Te){Te.buf[Te.pos++]=127&_e|128,_e>>>=7,Te.buf[Te.pos++]=127&_e|128,_e>>>=7,Te.buf[Te.pos++]=127&_e|128,_e>>>=7,Te.buf[Te.pos++]=127&_e|128,Te.buf[Te.pos]=127&(_e>>>=7)}(Te,0,be),function(_e,be){var Te=(7&_e)<<4;be.buf[be.pos++]|=Te|((_e>>>=3)?128:0),_e&&(be.buf[be.pos++]=127&_e|((_e>>>=7)?128:0),_e&&(be.buf[be.pos++]=127&_e|((_e>>>=7)?128:0),_e&&(be.buf[be.pos++]=127&_e|((_e>>>=7)?128:0),_e&&(be.buf[be.pos++]=127&_e|((_e>>>=7)?128:0),_e&&(be.buf[be.pos++]=127&_e)))))}(Pe,be)}(_e,this):(this.realloc(4),this.buf[this.pos++]=127&_e|(_e>127?128:0),_e<=127||(this.buf[this.pos++]=127&(_e>>>=7)|(_e>127?128:0),_e<=127||(this.buf[this.pos++]=127&(_e>>>=7)|(_e>127?128:0),_e<=127||(this.buf[this.pos++]=_e>>>7&127))))},writeSVarint:function(_e){this.writeVarint(_e<0?2*-_e-1:2*_e)},writeBoolean:function(_e){this.writeVarint(Boolean(_e))},writeString:function(_e){_e=String(_e),this.realloc(4*_e.length),this.pos++;var be=this.pos;this.pos=function(_e,be,Te){for(var Pe,pt,vt=0;vt<be.length;vt++){if((Pe=be.charCodeAt(vt))>55295&&Pe<57344){if(!pt){Pe>56319||vt+1===be.length?(_e[Te++]=239,_e[Te++]=191,_e[Te++]=189):pt=Pe;continue}if(Pe<56320){_e[Te++]=239,_e[Te++]=191,_e[Te++]=189,pt=Pe;continue}Pe=pt-55296<<10|Pe-56320|65536,pt=null}else pt&&(_e[Te++]=239,_e[Te++]=191,_e[Te++]=189,pt=null);Pe<128?_e[Te++]=Pe:(Pe<2048?_e[Te++]=Pe>>6|192:(Pe<65536?_e[Te++]=Pe>>12|224:(_e[Te++]=Pe>>18|240,_e[Te++]=Pe>>12&63|128),_e[Te++]=Pe>>6&63|128),_e[Te++]=63&Pe|128)}return Te}(this.buf,_e,this.pos);var Te=this.pos-be;Te>=128&&yh(be,Te,this),this.pos=be-1,this.writeVarint(Te),this.pos+=Te},writeFloat:function(_e){this.realloc(4),oh(this.buf,_e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(_e){this.realloc(8),oh(this.buf,_e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(_e){var be=_e.length;this.writeVarint(be),this.realloc(be);for(var Te=0;Te<be;Te++)this.buf[this.pos++]=_e[Te]},writeRawMessage:function(_e,be){this.pos++;var Te=this.pos;_e(be,this);var Pe=this.pos-Te;Pe>=128&&yh(Te,Pe,this),this.pos=Te-1,this.writeVarint(Pe),this.pos+=Pe},writeMessage:function(_e,be,Te){this.writeTag(_e,uh.Bytes),this.writeRawMessage(be,Te)},writePackedVarint:function(_e,be){be.length&&this.writeMessage(_e,mh,be)},writePackedSVarint:function(_e,be){be.length&&this.writeMessage(_e,gh,be)},writePackedBoolean:function(_e,be){be.length&&this.writeMessage(_e,bh,be)},writePackedFloat:function(_e,be){be.length&&this.writeMessage(_e,xh,be)},writePackedDouble:function(_e,be){be.length&&this.writeMessage(_e,vh,be)},writePackedFixed32:function(_e,be){be.length&&this.writeMessage(_e,_h,be)},writePackedSFixed32:function(_e,be){be.length&&this.writeMessage(_e,wh,be)},writePackedFixed64:function(_e,be){be.length&&this.writeMessage(_e,Ah,be)},writePackedSFixed64:function(_e,be){be.length&&this.writeMessage(_e,Sh,be)},writeBytesField:function(_e,be){this.writeTag(_e,uh.Bytes),this.writeBytes(be)},writeFixed32Field:function(_e,be){this.writeTag(_e,uh.Fixed32),this.writeFixed32(be)},writeSFixed32Field:function(_e,be){this.writeTag(_e,uh.Fixed32),this.writeSFixed32(be)},writeFixed64Field:function(_e,be){this.writeTag(_e,uh.Fixed64),this.writeFixed64(be)},writeSFixed64Field:function(_e,be){this.writeTag(_e,uh.Fixed64),this.writeSFixed64(be)},writeVarintField:function(_e,be){this.writeTag(_e,uh.Varint),this.writeVarint(be)},writeSVarintField:function(_e,be){this.writeTag(_e,uh.Varint),this.writeSVarint(be)},writeStringField:function(_e,be){this.writeTag(_e,uh.Bytes),this.writeString(be)},writeFloatField:function(_e,be){this.writeTag(_e,uh.Fixed32),this.writeFloat(be)},writeDoubleField:function(_e,be){this.writeTag(_e,uh.Fixed64),this.writeDouble(be)},writeBooleanField:function(_e,be){this.writeVarintField(_e,Boolean(be))}};class Gm{constructor(_e,{pixelRatio:be,version:Te,stretchX:Pe,stretchY:pt,content:vt}){this.paddedRect=_e,this.pixelRatio=be,this.stretchX=Pe,this.stretchY=pt,this.content=vt,this.version=Te}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Zm{constructor(_e,be){const Te={},Pe={};this.haveRenderCallbacks=[];const pt=[];this.addImages(_e,Te,pt),this.addImages(be,Pe,pt);const{w:vt,h:xt}=Eh(pt),Tt=new Nf({width:vt||1,height:xt||1});for(const be in _e){const Pe=_e[be],pt=Te[be].paddedRect;Nf.copy(Pe.data,Tt,{x:0,y:0},{x:pt.x+1,y:pt.y+1},Pe.data)}for(const _e in be){const Te=be[_e],pt=Pe[_e].paddedRect,vt=pt.x+1,xt=pt.y+1,It=Te.data.width,Mt=Te.data.height;Nf.copy(Te.data,Tt,{x:0,y:0},{x:vt,y:xt},Te.data),Nf.copy(Te.data,Tt,{x:0,y:Mt-1},{x:vt,y:xt-1},{width:It,height:1}),Nf.copy(Te.data,Tt,{x:0,y:0},{x:vt,y:xt+Mt},{width:It,height:1}),Nf.copy(Te.data,Tt,{x:It-1,y:0},{x:vt-1,y:xt},{width:1,height:Mt}),Nf.copy(Te.data,Tt,{x:0,y:0},{x:vt+It,y:xt},{width:1,height:Mt})}this.image=Tt,this.iconPositions=Te,this.patternPositions=Pe}addImages(_e,be,Te){for(const Pe in _e){const pt=_e[Pe],vt={x:0,y:0,w:pt.data.width+2,h:pt.data.height+2};Te.push(vt),be[Pe]=new Gm(vt,pt),pt.hasRenderCallback&&this.haveRenderCallbacks.push(Pe)}}patchUpdatedImages(_e,be){this.haveRenderCallbacks=this.haveRenderCallbacks.filter((be=>_e.hasImage(be))),_e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const Te in _e.updatedImages)this.patchUpdatedImage(this.iconPositions[Te],_e.getImage(Te),be),this.patchUpdatedImage(this.patternPositions[Te],_e.getImage(Te),be)}patchUpdatedImage(_e,be,Te){if(!_e||!be)return;if(_e.version===be.version)return;_e.version=be.version;const[Pe,pt]=_e.tl;Te.update(be.data,void 0,{x:Pe,y:pt})}}Ei(Gm,"ImagePosition"),Ei(Zm,"ImageAtlas");const qm={horizontal:1,vertical:2,horizontalOnly:3};class Wm{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(_e,be){const Te=new Wm;return Te.scale=_e||1,Te.fontStack=be,Te}static forImage(_e){const be=new Wm;return be.imageName=_e,be}}class Hm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(_e,be){const Te=new Hm;for(let Pe=0;Pe<_e.sections.length;Pe++){const pt=_e.sections[Pe];pt.image?Te.addImageSection(pt):Te.addTextSection(pt,be)}return Te}length(){return this.text.length}getSection(_e){return this.sections[this.sectionIndex[_e]]}getSections(){return this.sections}getSectionIndex(_e){return this.sectionIndex[_e]}getCharCode(_e){return this.text.charCodeAt(_e)}verticalizePunctuation(_e){this.text=function(_e,be){let Te="";for(let Pe=0;Pe<_e.length;Pe++){const pt=_e.charCodeAt(Pe+1)||null,vt=_e.charCodeAt(Pe-1)||null;Te+=!be&&(pt&&ds(pt)&&!zm[_e[Pe+1]]||vt&&ds(vt)&&!zm[_e[Pe-1]])||!zm[_e[Pe]]?_e[Pe]:zm[_e[Pe]]}return Te}(this.text,_e)}trim(){let _e=0;for(let be=0;be<this.text.length&&$m[this.text.charCodeAt(be)];be++)_e++;let be=this.text.length;for(let Te=this.text.length-1;Te>=0&&Te>=_e&&$m[this.text.charCodeAt(Te)];Te--)be--;this.text=this.text.substring(_e,be),this.sectionIndex=this.sectionIndex.slice(_e,be)}substring(_e,be){const Te=new Hm;return Te.text=this.text.substring(_e,be),Te.sectionIndex=this.sectionIndex.slice(_e,be),Te.sections=this.sections,Te}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((_e,be)=>Math.max(_e,this.sections[be].scale)),0)}addTextSection(_e,be){this.text+=_e.text,this.sections.push(Wm.forText(_e.scale,_e.fontStack||be));const Te=this.sections.length-1;for(let be=0;be<_e.text.length;++be)this.sectionIndex.push(Te)}addImageSection(_e){const be=_e.image?_e.image.name:"";if(0===be.length)return void E("Can't add FormattedSection with an empty image.");const Te=this.getNextImageSectionCharCode();Te?(this.text+=String.fromCharCode(Te),this.sections.push(Wm.forImage(be)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Lh(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt){const $t=Hm.fromFeature(_e,pt);let Kt;Ft===qm.vertical&&$t.verticalizePunctuation(Ot);const{processBidirectionalText:Jt,processStyledBidirectionalText:Yt}=Xd;if(Jt&&1===$t.sections.length){Kt=[];const _e=Jt($t.toString(),Gh($t,Mt,vt,be,Pe,Vt,qt));for(const be of _e){const _e=new Hm;_e.text=be,_e.sections=$t.sections;for(let Te=0;Te<be.length;Te++)_e.sectionIndex.push(0);Kt.push(_e)}}else if(Yt){Kt=[];const _e=Yt($t.text,$t.sectionIndex,Gh($t,Mt,vt,be,Pe,Vt,qt));for(const be of _e){const _e=new Hm;_e.text=be[0],_e.sectionIndex=be[1],_e.sections=$t.sections,Kt.push(_e)}}else Kt=function(_e,be){const Te=[],Pe=_e.text;let pt=0;for(const Pe of be)Te.push(_e.substring(pt,Pe)),pt=Pe;return pt<Pe.length&&Te.push(_e.substring(pt,Pe.length)),Te}($t,Gh($t,Mt,vt,be,Pe,Vt,qt));const Qt=[],an={positionedLines:Qt,text:$t.toString(),top:Lt[1],bottom:Lt[1],left:Lt[0],right:Lt[0],writingMode:Ft,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft){let Ot=0,Vt=0,qt=0;const Wt="right"===Tt?1:"left"===Tt?0:.5;let $t=!1;for(const _e of pt){const Te=_e.getSections();for(const _e of Te){if(_e.imageName)continue;const Te=be[_e.fontStack];if(Te&&($t=void 0!==Te.ascender&&void 0!==Te.descender,!$t))break}if(!$t)break}let Kt=0;for(const xt of pt){xt.trim();const pt=xt.getMaxScale(),Tt=(pt-1)*Fm,Yt={positionedGlyphs:[],lineOffset:0};_e.positionedLines[Kt]=Yt;const Qt=Yt.positionedGlyphs;let an=0;if(!xt.length()){Vt+=vt,++Kt;continue}let cn=0,hn=0;for(let vt=0;vt<xt.length();vt++){const Tt=xt.getSection(vt),qt=xt.getSectionIndex(vt),Wt=xt.getCharCode(vt);let Kt=Tt.scale,Yt=null,pn=null,xn=null,Pn=Fm,Ln=0;const Fn=!(It===qm.horizontal||!Lt&&!fs(Wt)||Lt&&($m[Wt]||(Jt=Wt,Li(Jt)||Ri(Jt)||ji(Jt)||is(Jt)||ls(Jt))));if(Tt.imageName){const be=Pe[Tt.imageName];if(!be)continue;xn=Tt.imageName,_e.iconsInText=_e.iconsInText||!0,pn=be.paddedRect;const Te=be.displaySize;Kt=Kt*Fm/Ft,Yt={width:Te[0],height:Te[1],left:1,top:-3,advance:Fn?Te[1]:Te[0],localGlyph:!1},Ln=$t?-Yt.height*Kt:pt*Fm-17-Te[1]*Kt,Pn=Yt.advance;const vt=(Fn?Te[0]:Te[1])*Kt-Fm*pt;vt>0&&vt>an&&(an=vt)}else{const _e=Te[Tt.fontStack];if(!_e)continue;_e[Wt]&&(pn=_e[Wt]);const Pe=be[Tt.fontStack];if(!Pe)continue;const vt=Pe.glyphs[Wt];if(!vt)continue;if(Yt=vt.metrics,Pn=8203!==Wt?Fm:0,$t){const _e=void 0!==Pe.ascender?Math.abs(Pe.ascender):0,be=void 0!==Pe.descender?Math.abs(Pe.descender):0,Te=(_e+be)*Kt;cn<Te&&(cn=Te,hn=(_e-be)/2*Kt),Ln=-_e*Kt}else Ln=(pt-Kt)*Fm-17}Fn?(_e.verticalizable=!0,Qt.push({glyph:Wt,imageName:xn,x:Ot,y:Vt+Ln,vertical:Fn,scale:Kt,localGlyph:Yt.localGlyph,fontStack:Tt.fontStack,sectionIndex:qt,metrics:Yt,rect:pn}),Ot+=Pn*Kt+Mt):(Qt.push({glyph:Wt,imageName:xn,x:Ot,y:Vt+Ln,vertical:Fn,scale:Kt,localGlyph:Yt.localGlyph,fontStack:Tt.fontStack,sectionIndex:qt,metrics:Yt,rect:pn}),Ot+=Yt.advance*Kt+Mt)}0!==Qt.length&&(qt=Math.max(Ot-Mt,qt),$t?Xh(Qt,Wt,an,hn,vt*pt/2):Xh(Qt,Wt,an,0,vt/2)),Ot=0;const pn=vt*pt+an;Yt.lineOffset=Math.max(an,Tt),Vt+=pn,++Kt}var Jt;const Yt=Vt,{horizontalAlign:Qt,verticalAlign:an}=Zh(xt);(function(_e,be,Te,Pe,pt,vt){const xt=(be-Te)*pt,Tt=-vt*Pe;for(const be of _e)for(const _e of be.positionedGlyphs)_e.x+=xt,_e.y+=Tt})(_e.positionedLines,Wt,Qt,an,qt,Yt),_e.top+=-an*Yt,_e.bottom=_e.top+Yt,_e.left+=-Qt*qt,_e.right=_e.left+qt,_e.hasBaseline=$t}(an,be,Te,Pe,Kt,xt,Tt,It,Ft,Mt,Ot,Wt),!function(_e){for(const be of _e)if(0!==be.positionedGlyphs.length)return!1;return!0}(Qt)&&an}const $m={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Xm={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Uh(_e,be,Te,Pe,pt,vt){if(be.imageName){const _e=Pe[be.imageName];return _e?_e.displaySize[0]*be.scale*Fm/vt+pt:0}{const Pe=Te[be.fontStack],vt=Pe&&Pe.glyphs[_e];return vt?vt.metrics.advance*be.scale+pt:0}}function $h(_e,be,Te,Pe){const pt=Math.pow(_e-be,2);return Pe?_e<be?pt/2:2*pt:pt+Math.abs(Te)*Te}function Oh(_e,be,Te){let Pe=0;return 10===_e&&(Pe-=1e4),Te&&(Pe+=150),40!==_e&&65288!==_e||(Pe+=50),41!==be&&65289!==be||(Pe+=50),Pe}function qh(_e,be,Te,Pe,pt,vt){let xt=null,Tt=$h(be,Te,pt,vt);for(const _e of Pe){const Pe=$h(be-_e.x,Te,pt,vt)+_e.badness;Pe<=Tt&&(xt=_e,Tt=Pe)}return{index:_e,x:be,priorBreak:xt,badness:Tt}}function Nh(_e){return _e?Nh(_e.priorBreak).concat(_e.index):[]}function Gh(_e,be,Te,Pe,pt,vt,xt){if("point"!==vt)return[];if(!_e)return[];const Tt=[],It=function(_e,be,Te,Pe,pt,vt){let xt=0;for(let Te=0;Te<_e.length();Te++){const Tt=_e.getSection(Te);xt+=Uh(_e.getCharCode(Te),Tt,Pe,pt,be,vt)}return xt/Math.max(1,Math.ceil(xt/Te))}(_e,be,Te,Pe,pt,xt),Mt=_e.text.indexOf("​")>=0;let Lt=0;for(let Te=0;Te<_e.length();Te++){const vt=_e.getSection(Te),Ot=_e.getCharCode(Te);if($m[Ot]||(Lt+=Uh(Ot,vt,Pe,pt,be,xt)),Te<_e.length()-1){const be=!((Ft=Ot)<11904||!(Xi(Ft)||Zi(Ft)||as(Ft)||ns(Ft)||Wi(Ft)||Ui(Ft)||Ki(Ft)||qi(Ft)||Ji(Ft)||Qi(Ft)||Yi(Ft)||us(Ft)||Ni(Ft)||Oi(Ft)||$i(Ft)||Hi(Ft)||Gi(Ft)||ss(Ft)||es(Ft)||ts(Ft)));(Xm[Ot]||be||vt.imageName)&&Tt.push(qh(Te+1,Lt,It,Tt,Oh(Ot,_e.getCharCode(Te+1),be&&Mt),!1))}}var Ft;return Nh(qh(_e.length(),Lt,It,Tt,0,!0))}function Zh(_e){let be=.5,Te=.5;switch(_e){case"right":case"top-right":case"bottom-right":be=1;break;case"left":case"top-left":case"bottom-left":be=0}switch(_e){case"bottom":case"bottom-right":case"bottom-left":Te=1;break;case"top":case"top-right":case"top-left":Te=0}return{horizontalAlign:be,verticalAlign:Te}}function Xh(_e,be,Te,Pe,pt){if(!(be||Te||Pe||pt))return;const vt=_e.length-1,xt=_e[vt],Tt=(xt.x+xt.metrics.advance*xt.scale)*be;for(let be=0;be<=vt;be++)_e[be].x-=Tt,_e[be].y+=Te+Pe+pt}function Kh(_e,be,Te){const{horizontalAlign:Pe,verticalAlign:pt}=Zh(Te),vt=be[0]-_e.displaySize[0]*Pe,xt=be[1]-_e.displaySize[1]*pt;return{image:_e,top:xt,bottom:xt+_e.displaySize[1],left:vt,right:vt+_e.displaySize[0]}}function Hh(_e,be,Te,Pe,pt,vt){const xt=_e.image;let Tt;if(xt.content){const _e=xt.content,be=xt.pixelRatio||1;Tt=[_e[0]/be,_e[1]/be,xt.displaySize[0]-_e[2]/be,xt.displaySize[1]-_e[3]/be]}const It=be.left*vt,Mt=be.right*vt;let Lt,Ft,Ot,Vt;"width"===Te||"both"===Te?(Vt=pt[0]+It-Pe[3],Ft=pt[0]+Mt+Pe[1]):(Vt=pt[0]+(It+Mt-xt.displaySize[0])/2,Ft=Vt+xt.displaySize[0]);const qt=be.top*vt,Wt=be.bottom*vt;return"height"===Te||"both"===Te?(Lt=pt[1]+qt-Pe[0],Ot=pt[1]+Wt+Pe[2]):(Lt=pt[1]+(qt+Wt-xt.displaySize[1])/2,Ot=Lt+xt.displaySize[1]),{image:xt,top:Lt,right:Ft,bottom:Ot,left:Vt,collisionPadding:Tt}}class Km extends Pe{constructor(_e,be,Te,Pe,pt){super(_e,be),this.angle=Pe,this.z=Te,void 0!==pt&&(this.segment=pt)}clone(){return new Km(this.x,this.y,this.z,this.angle,this.segment)}}function Wh(_e,be,Te,Pe,pt){if(void 0===be.segment)return!0;let vt=be,xt=be.segment+1,Tt=0;for(;Tt>-Te/2;){if(xt--,xt<0)return!1;Tt-=_e[xt].dist(vt),vt=_e[xt]}Tt+=_e[xt].dist(_e[xt+1]),xt++;const It=[];let Mt=0;for(;Tt<Te/2;){const be=_e[xt],Te=_e[xt+1];if(!Te)return!1;let vt=_e[xt-1].angleTo(be)-be.angleTo(Te);for(vt=Math.abs((vt+3*Math.PI)%(2*Math.PI)-Math.PI),It.push({distance:Tt,angleDelta:vt}),Mt+=vt;Tt-It[0].distance>Pe;)Mt-=It.shift().angleDelta;if(Mt>pt)return!1;xt++,Tt+=be.dist(Te)}return!0}function Jh(_e){let be=0;for(let Te=0;Te<_e.length-1;Te++)be+=_e[Te].dist(_e[Te+1]);return be}function Qh(_e,be,Te){return _e?.6*be*Te:0}function tp(_e,be){return Math.max(_e?_e.right-_e.left:0,be?be.right-be.left:0)}function ep(_e,be,Te,Pe,pt,vt){const xt=Qh(Te,pt,vt),Tt=tp(Te,Pe)*vt;let It=0;const Mt=Jh(_e)/2;for(let Te=0;Te<_e.length-1;Te++){const Pe=_e[Te],pt=_e[Te+1],vt=Pe.dist(pt);if(It+vt>Mt){const Lt=(Mt-It)/vt,Ft=gr(Pe.x,pt.x,Lt),Ot=gr(Pe.y,pt.y,Lt),Vt=new Km(Ft,Ot,0,pt.angleTo(Pe),Te);return!xt||Wh(_e,Vt,Tt,xt,be)?Vt:void 0}It+=vt}}function rp(_e,be,Te,Pe,pt,vt,xt,Tt,It){const Mt=Qh(Pe,vt,xt),Lt=tp(Pe,pt),Ft=Lt*xt,Ot=0===_e[0].x||_e[0].x===It||0===_e[0].y||_e[0].y===It;return be-Ft<be/4&&(be=Ft+be/4),np(_e,Ot?be/2*Tt%be:(Lt/2+2*vt)*xt*Tt%be,be,Mt,Te,Ft,Ot,!1,It)}function np(_e,be,Te,Pe,pt,vt,xt,Tt,It){const Mt=vt/2,Lt=Jh(_e);let Ft=0,Ot=be-Te,Vt=[];for(let be=0;be<_e.length-1;be++){const xt=_e[be],Tt=_e[be+1],qt=xt.dist(Tt),Wt=Tt.angleTo(xt);for(;Ot+Te<Ft+qt;){Ot+=Te;const $t=(Ot-Ft)/qt,Kt=gr(xt.x,Tt.x,$t),Jt=gr(xt.y,Tt.y,$t);if(Kt>=0&&Kt<It&&Jt>=0&&Jt<It&&Ot-Mt>=0&&Ot+Mt<=Lt){const Te=new Km(Kt,Jt,0,Wt,be);Te._round(),Pe&&!Wh(_e,Te,vt,Pe,pt)||Vt.push(Te)}}Ft+=qt}return Tt||Vt.length||xt||(Vt=np(_e,Ft/2,Te,Pe,pt,vt,xt,!0,It)),Vt}function ip(_e,be,Te,pt,vt){const xt=[];for(let Tt=0;Tt<_e.length;Tt++){const It=_e[Tt];let Mt;for(let _e=0;_e<It.length-1;_e++){let Tt=It[_e],Lt=It[_e+1];Tt.x<be&&Lt.x<be||(Tt.x<be?Tt=new Pe(be,Tt.y+(be-Tt.x)/(Lt.x-Tt.x)*(Lt.y-Tt.y))._round():Lt.x<be&&(Lt=new Pe(be,Tt.y+(be-Tt.x)/(Lt.x-Tt.x)*(Lt.y-Tt.y))._round()),Tt.y<Te&&Lt.y<Te||(Tt.y<Te?Tt=new Pe(Tt.x+(Te-Tt.y)/(Lt.y-Tt.y)*(Lt.x-Tt.x),Te)._round():Lt.y<Te&&(Lt=new Pe(Tt.x+(Te-Tt.y)/(Lt.y-Tt.y)*(Lt.x-Tt.x),Te)._round()),Tt.x>=pt&&Lt.x>=pt||(Tt.x>=pt?Tt=new Pe(pt,Tt.y+(pt-Tt.x)/(Lt.x-Tt.x)*(Lt.y-Tt.y))._round():Lt.x>=pt&&(Lt=new Pe(pt,Tt.y+(pt-Tt.x)/(Lt.x-Tt.x)*(Lt.y-Tt.y))._round()),Tt.y>=vt&&Lt.y>=vt||(Tt.y>=vt?Tt=new Pe(Tt.x+(vt-Tt.y)/(Lt.y-Tt.y)*(Lt.x-Tt.x),vt)._round():Lt.y>=vt&&(Lt=new Pe(Tt.x+(vt-Tt.y)/(Lt.y-Tt.y)*(Lt.x-Tt.x),vt)._round()),Mt&&Tt.equals(Mt[Mt.length-1])||(Mt=[Tt],xt.push(Mt)),Mt.push(Lt)))))}}return xt}Ei(Km,"Anchor");const Jm=1e20;function ap(_e,be,Te,Pe,pt,vt,xt,Tt,It){for(let Mt=be;Mt<be+Pe;Mt++)op(_e,Te*vt+Mt,vt,pt,xt,Tt,It);for(let Mt=Te;Mt<Te+pt;Mt++)op(_e,Mt*vt+be,1,Pe,xt,Tt,It)}function op(_e,be,Te,Pe,pt,vt,xt){vt[0]=0,xt[0]=-Jm,xt[1]=Jm,pt[0]=_e[be];for(let Tt=1,It=0,Mt=0;Tt<Pe;Tt++){pt[Tt]=_e[be+Tt*Te];const Pe=Tt*Tt;do{const _e=vt[It];Mt=(pt[Tt]-pt[_e]+Pe-_e*_e)/(Tt-_e)/2}while(Mt<=xt[It]&&--It>-1);It++,vt[It]=Tt,xt[It]=Mt,xt[It+1]=Jm}for(let Tt=0,It=0;Tt<Pe;Tt++){for(;xt[It+1]<Tt;)It++;const Pe=vt[It],Mt=Tt-Pe;_e[be+Tt*Te]=pt[Pe]+Mt*Mt}}const Ym={none:0,ideographs:1,all:2};class Qm{constructor(_e,be,Te){this.requestManager=_e,this.localGlyphMode=be,this.localFontFamily=Te,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(_e){this.url=_e}getGlyphs(_e,be){const Te=[];for(const be in _e)for(const Pe of _e[be])Te.push({stack:be,id:Pe});g(Te,(({stack:_e,id:be},Te)=>{let Pe=this.entries[_e];Pe||(Pe=this.entries[_e]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let pt=Pe.glyphs[be];if(void 0!==pt)return void Te(null,{stack:_e,id:be,glyph:pt});if(pt=this._tinySDF(Pe,_e,be),pt)return Pe.glyphs[be]=pt,void Te(null,{stack:_e,id:be,glyph:pt});const vt=Math.floor(be/256);if(256*vt>65535)return void Te(new Error("glyphs > 65535 not supported"));if(Pe.ranges[vt])return void Te(null,{stack:_e,id:be,glyph:pt});let xt=Pe.requests[vt];xt||(xt=Pe.requests[vt]=[],Qm.loadGlyphRange(_e,vt,this.url,this.requestManager,((_e,be)=>{if(be){Pe.ascender=be.ascender,Pe.descender=be.descender;for(const _e in be.glyphs)this._doesCharSupportLocalGlyph(+_e)||(Pe.glyphs[+_e]=be.glyphs[+_e]);Pe.ranges[vt]=!0}for(const Te of xt)Te(_e,be);delete Pe.requests[vt]}))),xt.push(((Pe,pt)=>{Pe?Te(Pe):pt&&Te(null,{stack:_e,id:be,glyph:pt.glyphs[be]||null})}))}),((_e,Te)=>{if(_e)be(_e);else if(Te){const _e={};for(const{stack:be,id:Pe,glyph:pt}of Te)void 0===_e[be]&&(_e[be]={}),void 0===_e[be].glyphs&&(_e[be].glyphs={}),_e[be].glyphs[Pe]=pt&&{id:pt.id,bitmap:pt.bitmap.clone(),metrics:pt.metrics},_e[be].ascender=this.entries[be].ascender,_e[be].descender=this.entries[be].descender;be(null,_e)}}))}_doesCharSupportLocalGlyph(_e){return this.localGlyphMode!==Ym.none&&(this.localGlyphMode===Ym.all?!!this.localFontFamily:!!this.localFontFamily&&(Qi(_e)||rs(_e)||Ni(_e)||Gi(_e)||qi(_e)))}_tinySDF(_e,be,Te){const Pe=this.localFontFamily;if(!Pe||!this._doesCharSupportLocalGlyph(Te))return;let pt=_e.tinySDF;if(!pt){let Te="400";/bold/i.test(be)?Te="900":/medium/i.test(be)?Te="500":/light/i.test(be)&&(Te="200"),pt=_e.tinySDF=new Qm.TinySDF({fontFamily:Pe,fontWeight:Te,fontSize:48,buffer:6,radius:16}),pt.fontWeight=Te}if(this.localGlyphs[pt.fontWeight][Te])return this.localGlyphs[pt.fontWeight][Te];const vt=String.fromCharCode(Te),{data:xt,width:Tt,height:It,glyphWidth:Mt,glyphHeight:Lt,glyphLeft:Ft,glyphTop:Ot,glyphAdvance:Vt}=pt.draw(vt);return this.localGlyphs[pt.fontWeight][Te]={id:Te,bitmap:new jf({width:Tt,height:It},xt),metrics:{width:Mt/2,height:Lt/2,left:Ft/2,top:Ot/2-27,advance:Vt/2,localGlyph:!0}}}}function cp(_e,be,Te,pt){const vt=[],xt=_e.image,Tt=xt.pixelRatio,It=xt.paddedRect.w-2,Mt=xt.paddedRect.h-2,Lt=_e.right-_e.left,Ft=_e.bottom-_e.top,Ot=xt.stretchX||[[0,It]],Vt=xt.stretchY||[[0,Mt]],d=(_e,be)=>_e+be[1]-be[0],qt=Ot.reduce(d,0),Wt=Vt.reduce(d,0),$t=It-qt,Kt=Mt-Wt;let Jt=0,Yt=qt,Qt=0,an=Wt,cn=0,hn=$t,pn=0,xn=Kt;if(xt.content&&pt){const _e=xt.content;Jt=hp(Ot,0,_e[0]),Qt=hp(Vt,0,_e[1]),Yt=hp(Ot,_e[0],_e[2]),an=hp(Vt,_e[1],_e[3]),cn=_e[0]-Jt,pn=_e[1]-Qt,hn=_e[2]-_e[0]-Yt,xn=_e[3]-_e[1]-an}const M=(pt,vt,It,Mt)=>{const Ot=fp(pt.stretch-Jt,Yt,Lt,_e.left),Vt=dp(pt.fixed-cn,hn,pt.stretch,qt),$t=fp(vt.stretch-Qt,an,Ft,_e.top),Kt=dp(vt.fixed-pn,xn,vt.stretch,Wt),Pn=fp(It.stretch-Jt,Yt,Lt,_e.left),Ln=dp(It.fixed-cn,hn,It.stretch,qt),Fn=fp(Mt.stretch-Qt,an,Ft,_e.top),jn=dp(Mt.fixed-pn,xn,Mt.stretch,Wt),$n=new Pe(Ot,$t),ea=new Pe(Pn,$t),na=new Pe(Pn,Fn),aa=new Pe(Ot,Fn),ra=new Pe(Vt/Tt,Kt/Tt),ia=new Pe(Ln/Tt,jn/Tt),da=be*Math.PI/180;if(da){const _e=Math.sin(da),be=Math.cos(da),Te=[be,-_e,_e,be];$n._matMult(Te),ea._matMult(Te),aa._matMult(Te),na._matMult(Te)}const la=pt.stretch+pt.fixed,ua=vt.stretch+vt.fixed;return{tl:$n,tr:ea,bl:aa,br:na,tex:{x:xt.paddedRect.x+1+la,y:xt.paddedRect.y+1+ua,w:It.stretch+It.fixed-la,h:Mt.stretch+Mt.fixed-ua},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ra,pixelOffsetBR:ia,minFontScaleX:hn/Tt/Lt,minFontScaleY:xn/Tt/Ft,isSDF:Te}};if(pt&&(xt.stretchX||xt.stretchY)){const _e=pp(Ot,$t,qt),be=pp(Vt,Kt,Wt);for(let Te=0;Te<_e.length-1;Te++){const Pe=_e[Te],pt=_e[Te+1];for(let _e=0;_e<be.length-1;_e++)vt.push(M(Pe,be[_e],pt,be[_e+1]))}}else vt.push(M({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:It+1},{fixed:0,stretch:Mt+1}));return vt}function hp(_e,be,Te){let Pe=0;for(const pt of _e)Pe+=Math.max(be,Math.min(Te,pt[1]))-Math.max(be,Math.min(Te,pt[0]));return Pe}function pp(_e,be,Te){const Pe=[{fixed:-1,stretch:0}];for(const[be,Te]of _e){const _e=Pe[Pe.length-1];Pe.push({fixed:be-_e.stretch,stretch:_e.stretch}),Pe.push({fixed:be-_e.stretch,stretch:_e.stretch+(Te-be)})}return Pe.push({fixed:be+1,stretch:Te}),Pe}function fp(_e,be,Te,Pe){return _e/be*Te+Pe}function dp(_e,be,Te,Pe){return _e-be*Te/Pe}function yp(_e,be,Te,Pe){const pt=be+_e.positionedLines[Pe].lineOffset;return 0===Pe?Te+pt/2:Te+(pt+(be+_e.positionedLines[Pe-1].lineOffset))/2}Qm.loadGlyphRange=function(_e,be,Te,Pe,pt){const vt=256*be,xt=vt+255,Tt=Pe.transformRequest(Pe.normalizeGlyphsURL(Te).replace("{fontstack}",_e).replace("{range}",`${vt}-${xt}`),ma.Glyphs);Et(Tt,((_e,be)=>{if(_e)pt(_e);else if(be){const _e={},Te=function(_e){return new jm(_e).readFields(zh,{})}(be);for(const be of Te.glyphs)_e[be.id]=be;pt(null,{glyphs:_e,ascender:Te.ascender,descender:Te.descender})}}))},Qm.TinySDF=class{constructor({fontSize:_e=24,buffer:be=3,radius:Te=8,cutoff:Pe=.25,fontFamily:pt="sans-serif",fontWeight:vt="normal",fontStyle:xt="normal"}={}){this.buffer=be,this.cutoff=Pe,this.radius=Te;const Tt=this.size=_e+4*be,It=this._createCanvas(Tt),Mt=this.ctx=It.getContext("2d",{willReadFrequently:!0});Mt.font=`${xt} ${vt} ${_e}px ${pt}`,Mt.textBaseline="alphabetic",Mt.textAlign="left",Mt.fillStyle="black",this.gridOuter=new Float64Array(Tt*Tt),this.gridInner=new Float64Array(Tt*Tt),this.f=new Float64Array(Tt),this.z=new Float64Array(Tt+1),this.v=new Uint16Array(Tt)}_createCanvas(_e){const be=document.createElement("canvas");return be.width=be.height=_e,be}draw(_e){const{width:be,actualBoundingBoxAscent:Te,actualBoundingBoxDescent:Pe,actualBoundingBoxLeft:pt,actualBoundingBoxRight:vt}=this.ctx.measureText(_e),xt=Math.ceil(Te),Tt=Math.min(this.size-this.buffer,Math.ceil(vt-pt)),It=Math.min(this.size-this.buffer,xt+Math.ceil(Pe)),Mt=Tt+2*this.buffer,Lt=It+2*this.buffer,Ft=Math.max(Mt*Lt,0),Ot=new Uint8ClampedArray(Ft),Vt={data:Ot,width:Mt,height:Lt,glyphWidth:Tt,glyphHeight:It,glyphTop:xt,glyphLeft:0,glyphAdvance:be};if(0===Tt||0===It)return Vt;const{ctx:qt,buffer:Wt,gridInner:$t,gridOuter:Kt}=this;qt.clearRect(Wt,Wt,Tt,It),qt.fillText(_e,Wt,Wt+xt);const Jt=qt.getImageData(Wt,Wt,Tt,It);Kt.fill(Jm,0,Ft),$t.fill(0,0,Ft);for(let _e=0;_e<It;_e++)for(let be=0;be<Tt;be++){const Te=Jt.data[4*(_e*Tt+be)+3]/255;if(0===Te)continue;const Pe=(_e+Wt)*Mt+be+Wt;if(1===Te)Kt[Pe]=0,$t[Pe]=Jm;else{const _e=.5-Te;Kt[Pe]=_e>0?_e*_e:0,$t[Pe]=_e<0?_e*_e:0}}ap(Kt,0,0,Mt,Lt,Mt,this.f,this.v,this.z),ap($t,Wt,Wt,Tt,It,Mt,this.f,this.v,this.z);for(let _e=0;_e<Ft;_e++){const be=Math.sqrt(Kt[_e])-Math.sqrt($t[_e]);Ot[_e]=Math.round(255-255*(be/this.radius+this.cutoff))}return Vt}};class ey{constructor(_e=[],be=gp){if(this.data=_e,this.length=this.data.length,this.compare=be,this.length>0)for(let _e=(this.length>>1)-1;_e>=0;_e--)this._down(_e)}push(_e){this.data.push(_e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const _e=this.data[0],be=this.data.pop();return this.length--,this.length>0&&(this.data[0]=be,this._down(0)),_e}peek(){return this.data[0]}_up(_e){const{data:be,compare:Te}=this,Pe=be[_e];for(;_e>0;){const pt=_e-1>>1,vt=be[pt];if(Te(Pe,vt)>=0)break;be[_e]=vt,_e=pt}be[_e]=Pe}_down(_e){const{data:be,compare:Te}=this,Pe=this.length>>1,pt=be[_e];for(;_e<Pe;){let Pe=1+(_e<<1),vt=be[Pe];const xt=Pe+1;if(xt<this.length&&Te(be[xt],vt)<0&&(Pe=xt,vt=be[xt]),Te(vt,pt)>=0)break;be[_e]=vt,_e=Pe}be[_e]=pt}}function gp(_e,be){return _e<be?-1:_e>be?1:0}function xp(_e,be=1,Te=!1){let pt=1/0,vt=1/0,xt=-1/0,Tt=-1/0;const It=_e[0];for(let _e=0;_e<It.length;_e++){const be=It[_e];(!_e||be.x<pt)&&(pt=be.x),(!_e||be.y<vt)&&(vt=be.y),(!_e||be.x>xt)&&(xt=be.x),(!_e||be.y>Tt)&&(Tt=be.y)}const Mt=Math.min(xt-pt,Tt-vt);let Lt=Mt/2;const Ft=new ey([],vp);if(0===Mt)return new Pe(pt,vt);for(let be=pt;be<xt;be+=Mt)for(let Te=vt;Te<Tt;Te+=Mt)Ft.push(new bp(be+Lt,Te+Lt,Lt,_e));let Ot=function(_e){let be=0,Te=0,Pe=0;const pt=_e[0];for(let _e=0,vt=pt.length,xt=vt-1;_e<vt;xt=_e++){const vt=pt[_e],Tt=pt[xt],It=vt.x*Tt.y-Tt.x*vt.y;Te+=(vt.x+Tt.x)*It,Pe+=(vt.y+Tt.y)*It,be+=3*It}return new bp(Te/be,Pe/be,0,_e)}(_e),Vt=Ft.length;for(;Ft.length;){const Pe=Ft.pop();(Pe.d>Ot.d||!Ot.d)&&(Ot=Pe,Te&&console.log("found best %d after %d probes",Math.round(1e4*Pe.d)/1e4,Vt)),Pe.max-Ot.d<=be||(Lt=Pe.h/2,Ft.push(new bp(Pe.p.x-Lt,Pe.p.y-Lt,Lt,_e)),Ft.push(new bp(Pe.p.x+Lt,Pe.p.y-Lt,Lt,_e)),Ft.push(new bp(Pe.p.x-Lt,Pe.p.y+Lt,Lt,_e)),Ft.push(new bp(Pe.p.x+Lt,Pe.p.y+Lt,Lt,_e)),Vt+=4)}return Te&&(console.log(`num probes: ${Vt}`),console.log(`best distance: ${Ot.d}`)),Ot.p}function vp(_e,be){return be.max-_e.max}function bp(_e,be,Te,pt){this.p=new Pe(_e,be),this.h=Te,this.d=function(_e,be){let Te=!1,Pe=1/0;for(let pt=0;pt<be.length;pt++){const vt=be[pt];for(let be=0,pt=vt.length,xt=pt-1;be<pt;xt=be++){const pt=vt[be],Tt=vt[xt];pt.y>_e.y!=Tt.y>_e.y&&_e.x<(Tt.x-pt.x)*(_e.y-pt.y)/(Tt.y-pt.y)+pt.x&&(Te=!Te),Pe=Math.min(Pe,tl(_e,pt,Tt))}}return(Te?1:-1)*Math.sqrt(Pe)}(this.p,pt),this.max=this.d+this.h*Math.SQRT2}const ty=Number.POSITIVE_INFINITY,ny=Math.sqrt(2);function Ap(_e,be){return be[1]!==ty?function(_e,be,Te){let Pe=0,pt=0;switch(be=Math.abs(be),Te=Math.abs(Te),_e){case"top-right":case"top-left":case"top":pt=Te-7;break;case"bottom-right":case"bottom-left":case"bottom":pt=7-Te}switch(_e){case"top-right":case"bottom-right":case"right":Pe=-be;break;case"top-left":case"bottom-left":case"left":Pe=be}return[Pe,pt]}(_e,be[0],be[1]):function(_e,be){let Te=0,Pe=0;be<0&&(be=0);const pt=be/ny;switch(_e){case"top-right":case"top-left":Pe=pt-7;break;case"bottom-right":case"bottom-left":Pe=7-pt;break;case"bottom":Pe=7-be;break;case"top":Pe=be-7}switch(_e){case"top-right":case"bottom-right":Te=-pt;break;case"top-left":case"bottom-left":Te=pt;break;case"left":Te=be;break;case"right":Te=-be}return[Te,Pe]}(_e,be[0])}function Sp(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt){_e.createArrays(),_e.tilePixelRatio=Pg/(512*_e.overscaling),_e.compareText={},_e.iconsNeedLinear=!1;const Lt=_e.layers[0].layout,Ft=_e.layers[0]._unevaluatedLayout._values,Ot={};if("composite"===_e.textSizeData.kind){const{minZoom:be,maxZoom:Te}=_e.textSizeData;Ot.compositeTextSizes=[Ft["text-size"].possiblyEvaluate(new Kd(be),Tt),Ft["text-size"].possiblyEvaluate(new Kd(Te),Tt)]}if("composite"===_e.iconSizeData.kind){const{minZoom:be,maxZoom:Te}=_e.iconSizeData;Ot.compositeIconSizes=[Ft["icon-size"].possiblyEvaluate(new Kd(be),Tt),Ft["icon-size"].possiblyEvaluate(new Kd(Te),Tt)]}Ot.layoutTextSize=Ft["text-size"].possiblyEvaluate(new Kd(It+1),Tt),Ot.layoutIconSize=Ft["icon-size"].possiblyEvaluate(new Kd(It+1),Tt),Ot.textMaxSize=Ft["text-size"].possiblyEvaluate(new Kd(18),Tt);const Vt="map"===Lt.get("text-rotation-alignment")&&"point"!==Lt.get("symbol-placement"),qt=Lt.get("text-size");for(const vt of _e.features){const It=Lt.get("text-font").evaluate(vt,{},Tt).join(","),Ft=qt.evaluate(vt,{},Tt),Wt=Ot.layoutTextSize.evaluate(vt,{},Tt),$t=(Ot.layoutIconSize.evaluate(vt,{},Tt),{horizontal:{},vertical:void 0}),Kt=vt.text;let Jt,Yt=[0,0];if(Kt){const Pe=Kt.toString(),xt=Lt.get("text-letter-spacing").evaluate(vt,{},Tt)*Fm,Mt=Lt.get("text-line-height").evaluate(vt,{},Tt)*Fm,Ot=hs(Pe)?xt:0,qt=Lt.get("text-anchor").evaluate(vt,{},Tt),Jt=Lt.get("text-variable-anchor");if(!Jt){const _e=Lt.get("text-radial-offset").evaluate(vt,{},Tt);Yt=_e?Ap(qt,[_e*Fm,ty]):Lt.get("text-offset").evaluate(vt,{},Tt).map((_e=>_e*Fm))}let Qt=Vt?"center":Lt.get("text-justify").evaluate(vt,{},Tt);const an=Lt.get("symbol-placement"),cn="point"===an,hn="point"===an?Lt.get("text-max-width").evaluate(vt,{},Tt)*Fm:0,S=vt=>{_e.allowVerticalPlacement&&cs(Pe)&&($t.vertical=Lh(Kt,be,Te,pt,It,hn,Mt,qt,vt,Ot,Yt,qm.vertical,!0,an,Wt,Ft))};if(!Vt&&Jt){const _e="auto"===Qt?Jt.map((_e=>kp(_e))):[Qt];let Pe=!1;for(let vt=0;vt<_e.length;vt++){const xt=_e[vt];if(!$t.horizontal[xt])if(Pe)$t.horizontal[xt]=$t.horizontal[0];else{const _e=Lh(Kt,be,Te,pt,It,hn,Mt,"center",xt,Ot,Yt,qm.horizontal,!1,an,Wt,Ft);_e&&($t.horizontal[xt]=_e,Pe=1===_e.positionedLines.length)}}S("left")}else{if("auto"===Qt&&(Qt=kp(qt)),cn||Lt.get("text-writing-mode").indexOf("horizontal")>=0||!cs(Pe)){const _e=Lh(Kt,be,Te,pt,It,hn,Mt,qt,Qt,Ot,Yt,qm.horizontal,!1,an,Wt,Ft);_e&&($t.horizontal[Qt]=_e)}S("point"===an?"left":Qt)}}let Qt=!1;if(vt.icon&&vt.icon.name){const be=Pe[vt.icon.name];be&&(Jt=Kh(pt[vt.icon.name],Lt.get("icon-offset").evaluate(vt,{},Tt),Lt.get("icon-anchor").evaluate(vt,{},Tt)),Qt=be.sdf,void 0===_e.sdfIcons?_e.sdfIcons=be.sdf:_e.sdfIcons!==be.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(be.pixelRatio!==_e.pixelRatio||0!==Lt.get("icon-rotate").constantOr(1))&&(_e.iconsNeedLinear=!0))}const an=Tp($t.horizontal)||$t.vertical;_e.iconsInText||(_e.iconsInText=!!an&&an.iconsInText),(an||Jt)&&Ip(_e,vt,$t,Jt,Pe,Ot,Wt,0,Yt,Qt,xt,Tt,Mt)}vt&&_e.generateCollisionDebugBuffers(It,_e.collisionBoxArray)}function kp(_e){switch(_e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Ip(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot){let Vt=vt.textMaxSize.evaluate(be,{},Ft);void 0===Vt&&(Vt=xt);const qt=_e.layers[0].layout,Wt=qt.get("icon-offset").evaluate(be,{},Ft),$t=Tp(Te.horizontal)||Te.vertical,Kt="globe"===Ot.name,Jt=xt/24,Yt=_e.tilePixelRatio*Vt/24,Qt=(Fn=_e.overscaling,_e.zoom>18&&Fn>2&&(Fn>>=1),Math.max(Pg/(512*Fn),1)*qt.get("symbol-spacing")),an=qt.get("text-padding")*_e.tilePixelRatio,cn=qt.get("icon-padding")*_e.tilePixelRatio,hn=l(qt.get("text-max-angle")),pn="map"===qt.get("text-rotation-alignment")&&"point"!==qt.get("symbol-placement"),xn="map"===qt.get("icon-rotation-alignment")&&"point"!==qt.get("symbol-placement"),Pn=qt.get("symbol-placement"),Ln=Qt/2;var Fn;const jn=qt.get("icon-text-fit");let $n;Pe&&"none"!==jn&&(_e.allowVerticalPlacement&&Te.vertical&&($n=Hh(Pe,Te.vertical,jn,qt.get("icon-text-fit-padding"),Wt,Jt)),$t&&(Pe=Hh(Pe,$t,jn,qt.get("icon-text-fit-padding"),Wt,Jt)));const P=(xt,Tt,Vt)=>{if(Tt.x<0||Tt.x>=Pg||Tt.y<0||Tt.y>=Pg)return;let qt=null;if(Kt){const{x:_e,y:be,z:Te}=Ot.projectTilePoint(Tt.x,Tt.y,Vt);qt={anchor:new Km(_e,be,Te,0,void 0),up:Ot.upVector(Vt,Tt.x,Tt.y)}}!function(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt,Jt,Yt,Qt,an,cn,hn,pn){const xn=_e.addToLineVertexArray(be,Pe);let Pn,Ln,Fn,jn,$n,ea,na,aa=0,ra=0,ia=0,da=0,la=-1,ua=-1;const ca={};let ga=Dp("");const ma=Te?Te.anchor:be;let ya=0,_a=0;if(void 0===It._unevaluatedLayout.getValue("text-radial-offset")?[ya,_a]=It.layout.get("text-offset").evaluate(Qt,{},pn).map((_e=>_e*Fm)):(ya=It.layout.get("text-radial-offset").evaluate(Qt,{},pn)*Fm,_a=ty),_e.allowVerticalPlacement&&pt.vertical){const _e=pt.vertical;if(qt)ea=Ep(_e),Tt&&(na=Ep(Tt));else{const Te=It.layout.get("text-rotate").evaluate(Qt,{},pn)+90;Fn=Bp(Mt,ma,be,Lt,Ft,Ot,_e,Vt,Te,Wt),Tt&&(jn=Bp(Mt,ma,be,Lt,Ft,Ot,Tt,Kt,Te))}}if(vt){const Pe=It.layout.get("icon-rotate").evaluate(Qt,{},pn),pt="none"!==It.layout.get("icon-text-fit"),xt=cp(vt,Pe,cn,pt),Vt=Tt?cp(Tt,Pe,cn,pt):void 0;Ln=Bp(Mt,ma,be,Lt,Ft,Ot,vt,Kt,Pe),aa=4*xt.length;const qt=_e.iconSizeData;let Wt=null;"source"===qt.kind?(Wt=[Bm*It.layout.get("icon-size").evaluate(Qt,{},pn)],Wt[0]>ay&&E(`${_e.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===qt.kind&&(Wt=[Bm*an.compositeIconSizes[0].evaluate(Qt,{},pn),Bm*an.compositeIconSizes[1].evaluate(Qt,{},pn)],(Wt[0]>ay||Wt[1]>ay)&&E(`${_e.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),_e.addSymbols(_e.icon,xt,Wt,Yt,Jt,Qt,!1,Te,be,xn.lineStartIndex,xn.lineLength,-1,hn,pn),la=_e.icon.placedSymbolArray.length-1,Vt&&(ra=4*Vt.length,_e.addSymbols(_e.icon,Vt,Wt,Yt,Jt,Qt,qm.vertical,Te,be,xn.lineStartIndex,xn.lineLength,-1,hn,pn),ua=_e.icon.placedSymbolArray.length-1)}for(const Pe in pt.horizontal){const vt=pt.horizontal[Pe];Pn||(ga=Dp(vt.text),qt?$n=Ep(vt):Pn=Bp(Mt,ma,be,Lt,Ft,Ot,vt,Vt,It.layout.get("text-rotate").evaluate(Qt,{},pn),Wt));const Tt=1===vt.positionedLines.length;if(ia+=zp(_e,Te,be,vt,xt,It,qt,Qt,Wt,xn,pt.vertical?qm.horizontal:qm.horizontalOnly,Tt?Object.keys(pt.horizontal):[Pe],ca,la,an,hn,pn),Tt)break}pt.vertical&&(da+=zp(_e,Te,be,pt.vertical,xt,It,qt,Qt,Wt,xn,qm.vertical,["vertical"],ca,ua,an,hn,pn));let va=-1;const Z=(_e,be)=>_e?Math.max(_e,be):be;va=Z($n,va),va=Z(ea,va),va=Z(na,va);const xa=va>-1?1:0;_e.glyphOffsetArray.length>=Vy.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Qt.sortKey&&_e.addToSortKeyRanges(_e.symbolInstances.length,Qt.sortKey),_e.symbolInstances.emplaceBack(ma.x,ma.y,ma.z,be.x,be.y,ca.right>=0?ca.right:-1,ca.center>=0?ca.center:-1,ca.left>=0?ca.left:-1,ca.vertical>=0?ca.vertical:-1,la,ua,ga,void 0!==Pn?Pn:_e.collisionBoxArray.length,void 0!==Pn?Pn+1:_e.collisionBoxArray.length,void 0!==Fn?Fn:_e.collisionBoxArray.length,void 0!==Fn?Fn+1:_e.collisionBoxArray.length,void 0!==Ln?Ln:_e.collisionBoxArray.length,void 0!==Ln?Ln+1:_e.collisionBoxArray.length,jn||_e.collisionBoxArray.length,jn?jn+1:_e.collisionBoxArray.length,Lt,ia,da,aa,ra,xa,0,ya,_a,va)}(_e,Tt,qt,xt,Te,Pe,pt,$n,_e.layers[0],_e.collisionBoxArray,be.index,be.sourceLayerIndex,_e.index,an,pn,It,0,cn,xn,Wt,be,vt,Mt,Lt,Ft)};if("line"===Pn)for(const pt of ip(be.geometry,0,0,Pg,Pg)){const be=rp(pt,Qt,hn,Te.vertical||$t,Pe,24,Yt,_e.overscaling,Pg);for(const Te of be){const be=$t;be&&Cp(_e,be.text,Ln,Te)||P(pt,Te,Ft)}}else if("line-center"===Pn){for(const _e of be.geometry)if(_e.length>1){const be=ep(_e,hn,Te.vertical||$t,Pe,24,Yt);be&&P(_e,be,Ft)}}else if("Polygon"===be.type)for(const _e of Zu(be.geometry,0)){const be=xp(_e,16);P(_e[0],new Km(be.x,be.y,0,0,void 0),Ft)}else if("LineString"===be.type)for(const _e of be.geometry)P(_e,new Km(_e[0].x,_e[0].y,0,0,void 0),Ft);else if("Point"===be.type)for(const _e of be.geometry)for(const be of _e)P([be],new Km(be.x,be.y,0,0,void 0),Ft)}const ay=32640;function zp(_e,be,Te,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt){const Jt=function(_e,be,Te,pt,vt,xt,Tt,It){const Mt=[];if(0===be.positionedLines.length)return Mt;const Lt=pt.layout.get("text-rotate").evaluate(xt,{})*Math.PI/180,Ft=function(_e){const be=_e[0],Te=_e[1],Pe=be*Te;return Pe>0?[be,-Te]:Pe<0?[-be,Te]:0===be?[Te,be]:[Te,-be]}(Te);let Ot=Math.abs(be.top-be.bottom);for(const _e of be.positionedLines)Ot-=_e.lineOffset;const Vt=be.positionedLines.length,qt=Ot/Vt;let Wt=be.top-Te[1];for(let _e=0;_e<Vt;++_e){const pt=be.positionedLines[_e];Wt=yp(be,qt,Wt,_e);for(const _e of pt.positionedGlyphs){if(!_e.rect)continue;const pt=_e.rect||{};let xt=4,Ot=!0,Vt=1,qt=0;if(_e.imageName){const be=Tt[_e.imageName];if(!be)continue;if(be.sdf){E("SDF images are not supported in formatted text and will be ignored.");continue}Ot=!1,Vt=be.pixelRatio,xt=1/Vt}const $t=(vt||It)&&_e.vertical,Kt=_e.metrics.advance*_e.scale/2,Jt=_e.metrics,Yt=_e.rect;if(null===Yt)continue;It&&be.verticalizable&&(qt=_e.imageName?Kt-_e.metrics.width*_e.scale/2:0);const Qt=vt?[_e.x+Kt,_e.y]:[0,0];let an=[0,0],cn=[0,0],hn=!1;vt||($t?(cn=[_e.x+Kt+Ft[0],_e.y+Ft[1]-qt],hn=!0):an=[_e.x+Kt+Te[0],_e.y+Te[1]-qt]);const pn=Yt.w*_e.scale/(Vt*(_e.localGlyph?2:1)),xn=Yt.h*_e.scale/(Vt*(_e.localGlyph?2:1));let Pn,Ln,Fn,jn;if($t){const be=_e.y-Wt,Te=new Pe(-Kt,Kt-be),pt=-Math.PI/2,vt=new Pe(...cn);Pn=new Pe(-Kt+an[0],an[1]),Pn._rotateAround(pt,Te)._add(vt),Pn.x+=-be+Kt,Pn.y-=(Jt.left-xt)*_e.scale;const Tt=_e.imageName?Jt.advance*_e.scale:Fm*_e.scale,It=String.fromCharCode(_e.glyph);ih(It)?Pn.x+=(1-xt)*_e.scale:sh(It)?Pn.x+=Tt-Jt.height*_e.scale+(-xt-1)*_e.scale:Pn.x+=_e.imageName||Jt.width+2*xt===Yt.w&&Jt.height+2*xt===Yt.h?(Tt-xn)/2:(Tt-(Jt.height+2*xt)*_e.scale)/2,Ln=new Pe(Pn.x,Pn.y-pn),Fn=new Pe(Pn.x+xn,Pn.y),jn=new Pe(Pn.x+xn,Pn.y-pn)}else{const be=(Jt.left-xt)*_e.scale-Kt+an[0],Te=(-Jt.top-xt)*_e.scale+an[1],pt=be+pn,vt=Te+xn;Pn=new Pe(be,Te),Ln=new Pe(pt,Te),Fn=new Pe(be,vt),jn=new Pe(pt,vt)}if(Lt){let _e;_e=vt?new Pe(0,0):hn?new Pe(Ft[0],Ft[1]):new Pe(Te[0],Te[1]),Pn._rotateAround(Lt,_e),Ln._rotateAround(Lt,_e),Fn._rotateAround(Lt,_e),jn._rotateAround(Lt,_e)}const $n=new Pe(0,0),ea=new Pe(0,0);Mt.push({tl:Pn,tr:Ln,bl:Fn,br:jn,tex:pt,writingMode:be.writingMode,glyphOffset:Qt,sectionIndex:_e.sectionIndex,isSDF:Ot,pixelOffsetTL:$n,pixelOffsetBR:ea,minFontScaleX:0,minFontScaleY:0})}}return Mt}(0,pt,Mt,xt,Tt,It,vt,_e.allowVerticalPlacement),Yt=_e.textSizeData;let Qt=null;"source"===Yt.kind?(Qt=[Bm*xt.layout.get("text-size").evaluate(It,{},Kt)],Qt[0]>ay&&E(`${_e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===Yt.kind&&(Qt=[Bm*Wt.compositeTextSizes[0].evaluate(It,{},Kt),Bm*Wt.compositeTextSizes[1].evaluate(It,{},Kt)],(Qt[0]>ay||Qt[1]>ay)&&E(`${_e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),_e.addSymbols(_e.text,Jt,Qt,Mt,Tt,It,Ft,be,Te,Lt.lineStartIndex,Lt.lineLength,qt,$t,Kt);for(const be of Ot)Vt[be]=_e.text.placedSymbolArray.length-1;return 4*Jt.length}function Tp(_e){for(const be in _e)return _e[be];return null}function Bp(_e,be,Te,pt,vt,xt,Tt,It,Mt,Lt){let Ft=Tt.top,Ot=Tt.bottom,Vt=Tt.left,qt=Tt.right;const Wt=Tt.collisionPadding;if(Wt&&(Vt-=Wt[0],Ft-=Wt[1],qt+=Wt[2],Ot+=Wt[3]),Mt){const _e=new Pe(Vt,Ft),be=new Pe(qt,Ft),Te=new Pe(Vt,Ot),pt=new Pe(qt,Ot),vt=l(Mt);let xt=new Pe(0,0);Lt&&(xt=new Pe(Lt[0],Lt[1])),_e._rotateAround(vt,xt),be._rotateAround(vt,xt),Te._rotateAround(vt,xt),pt._rotateAround(vt,xt),Vt=Math.min(_e.x,be.x,Te.x,pt.x),qt=Math.max(_e.x,be.x,Te.x,pt.x),Ft=Math.min(_e.y,be.y,Te.y,pt.y),Ot=Math.max(_e.y,be.y,Te.y,pt.y)}return _e.emplaceBack(be.x,be.y,be.z,Te.x,Te.y,Vt,Ft,qt,Ot,It,pt,vt,xt),_e.length-1}function Ep(_e){_e.collisionPadding&&(_e.top-=_e.collisionPadding[1],_e.bottom+=_e.collisionPadding[3]);const be=_e.bottom-_e.top;return be>0?Math.max(10,be):null}function Cp(_e,be,Te,Pe){const pt=_e.compareText;if(be in pt){const _e=pt[be];for(let be=_e.length-1;be>=0;be--)if(Pe.dist(_e[be])<Te)return!0}else pt[be]=[];return pt[be].push(Pe),!1}const ry=Hs([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_merc_pos",components:2},{type:"Float32",name:"a_uv",components:2}]),{members:iy}=ry,oy=Hs([{name:"a_pos_3",components:3,type:"Int16"}]);var sy=Hs([{name:"a_pos",type:"Int16",components:2}]);const dy=Pg/Math.PI/2,ly=2*To(1,0)*dy*Math.PI,uy=[64,32,16],cy=-dy,hy=dy,py=[new Cf([cy,cy,cy],[hy,hy,hy]),new Cf([cy,cy,cy],[0,0,hy]),new Cf([0,cy,cy],[hy,0,hy]),new Cf([cy,0,cy],[0,hy,hy]),new Cf([0,0,cy],[hy,hy,hy])];function qp(_e,be,Te,Pe=!0){const pt=El([],_e._camera.position,_e.worldSize),vt=[be,Te,1,1];ql(vt,vt,_e.pixelMatrixInverse),Ol(vt,vt,1/vt[3]);const xt=Pl([],mf([],vt,pt)),Tt=_e.globeMatrix,It=[Tt[12],Tt[13],Tt[14]],Mt=mf([],It,pt),Lt=Sl(Mt),Ft=Pl([],Mt),Ot=_e.worldSize/(2*Math.PI),Vt=Dl(Ft,xt),qt=Math.asin(Ot/Lt);if(qt<Math.acos(Vt)){if(!Pe)return null;const _e=[],be=[];El(_e,xt,Lt/Vt),Pl(be,mf(be,_e,Mt)),Pl(xt,Il(xt,Mt,El(xt,be,Math.tan(qt)*Lt)))}const Wt=[];new xf(pt,xt).closestPointOnSphere(It,Ot,Wt);const $t=Pl([],j(Tt,0)),Kt=Pl([],j(Tt,1)),Jt=Pl([],j(Tt,2)),Yt=Dl($t,Wt),Qt=Dl(Kt,Wt),an=Dl(Jt,Wt),cn=u(Math.asin(-Qt/Ot));let hn=u(Math.atan2(Yt,an));hn=_e.center.lng+function(_e,be){const Te=(be-_e+180)%360-180;return Te<-180?Te+360:Te}(_e.center.lng,hn);const pn=Mo(hn),xn=d(zo(cn),0,1);return new qg(pn,xn)}class gy{constructor(_e,be,Te){this.a=mf([],_e,Te),this.b=mf([],be,Te),this.center=Te;const Pe=Pl([],this.a),pt=Pl([],this.b);this.angle=Math.acos(Dl(Pe,pt))}}function Gp(_e,be){if(0===_e.angle)return null;let Te;return Te=0===_e.a[be]?1/_e.angle*.5*Math.PI:1/_e.angle*Math.atan(_e.b[be]/_e.a[be]/Math.sin(_e.angle)-1/Math.tan(_e.angle)),Te<0||Te>1?null:function(_e,be,Te,Pe){const pt=Math.sin(Te);return _e*(Math.sin((1-Pe)*Te)/pt)+be*(Math.sin(Pe*Te)/pt)}(_e.a[be],_e.b[be],_e.angle,d(Te,0,1))+_e.center[be]}function Zp(_e){if(_e.z<=1)return py[_e.z+2*_e.y+_e.x];const[be,Te]=Kp(_e),Pe=[Yp(be[0],be[1]),Yp(be[0],Te[1]),Yp(Te[0],be[1]),Yp(Te[0],Te[1])],pt=[hy,hy,hy],vt=[cy,cy,cy];for(const _e of Pe)pt[0]=Math.min(pt[0],_e[0]),pt[1]=Math.min(pt[1],_e[1]),pt[2]=Math.min(pt[2],_e[2]),vt[0]=Math.max(vt[0],_e[0]),vt[1]=Math.max(vt[1],_e[1]),vt[2]=Math.max(vt[2],_e[2]);return new Cf(pt,vt)}function Xp(_e,be,Te){const Pe=be/_e.worldSize,pt=Number.MAX_VALUE,vt=[-pt,-pt,-pt],xt=[pt,pt,pt],Tt=dl(new Float64Array(16));if(gl(Tt,Tt,[Pe,Pe,Pe]),yl(Tt,Tt,_e.globeMatrix),Te.z<=1){const _e=Zp(Te).getCorners();for(let be=0;be<_e.length;be++)Fl(_e[be],_e[be],Tt),Tl(xt,xt,_e[be]),Bl(vt,vt,_e[be]);return new Cf(xt,vt)}const[It,Mt]=Kp(Te),Lt=new Mg;Lt.setSouthWest([It[1],Mt[0]]),Lt.setNorthEast([Mt[1],It[0]]);const Ft=[Yp(Lt.getSouth(),Lt.getWest()),Yp(Lt.getSouth(),Lt.getEast()),Yp(Lt.getNorth(),Lt.getEast()),Yp(Lt.getNorth(),Lt.getWest())];for(let _e=0;_e<Ft.length;_e++)Fl(Ft[_e],Ft[_e],Tt),Tl(xt,xt,Ft[_e]),Bl(vt,vt,Ft[_e]);if(Lt.contains(_e.center)){vt[2]=0;const be=_e.point,Te=[be.x*Pe,be.y*Pe,0];return Tl(xt,xt,Te),Bl(vt,vt,Te),new Cf(xt,vt)}const Ot=[Tt[12],Tt[13],Tt[14]],Vt=_e.center.lng,qt=d(_e.center.lat,-85.051129,Ug),Wt=[Mo(Vt),zo(qt)],$t=Lt.getCenter().lng,Kt=d(Lt.getCenter().lat,-85.051129,Ug),Jt=[Mo($t),zo(Kt)];let Yt=new Array(3),Qt=0,an=Wt[0]-Jt[0];const cn=Wt[1]-Jt[1];if(an>.5?an-=1:an<-.5&&(an+=1),Math.abs(an)>Math.abs(cn))Qt=an>=0?1:3,Yt=Ot;else{Qt=cn>=0?0:2;const _e=[Tt[4],Tt[5],Tt[6]];let be;be=cn>=0?-Math.sin(l(Lt.getSouth()))*dy:-Math.sin(l(Lt.getNorth()))*dy,Yt=Cl(Yt,Ot,_e,be)}const hn=Ft[Qt],pn=Ft[(Qt+1)%4],xn=new gy(hn,pn,Yt),Pn=[Gp(xn,0)||hn[0],Gp(xn,1)||hn[1],Gp(xn,2)||hn[2]];return xt[2]=Math.min(hn[2],pn[2]),Tl(xt,xt,Pn),Bl(vt,vt,Pn),new Cf(xt,vt)}function Kp(_e){const be=1<<_e.z,Te=_e.x/be,Pe=(_e.x+1)/be,pt=(_e.y+1)/be;return[[Eo(_e.y/be),Bo(Te)],[Eo(pt),Bo(Pe)]]}function Hp(_e,be,Te,Pe=dy){return Te=l(Te),[_e*Math.sin(Te)*Pe,-be*Pe,_e*Math.cos(Te)*Pe]}function Yp(_e,be,Te){return Hp(Math.cos(l(_e)),Math.sin(l(_e)),be,Te)}function Wp(_e,be,Te){const Pe=Math.pow(2,Te.z),pt=(_e/Pg+Te.x)/Pe;return Yp(Eo((be/Pg+Te.y)/Pe),Bo(pt))}function Jp(_e){return 16383/Math.max(...mf([],_e.max,_e.min))}function Qp(_e){const be=dl(new Float64Array(16)),Te=Jp(_e);var Pe,pt;return gl(be,be,[Te,Te,Te]),ml(be,be,((Pe=[])[0]=-(pt=_e.min)[0],Pe[1]=-pt[1],Pe[2]=-pt[2],Pe)),be}function tf(_e){const be=dl(new Float64Array(16)),Te=1/Jp(_e);return ml(be,be,_e.min),gl(be,be,[Te,Te,Te]),be}function ef(_e,be,Te,Pe,pt){const vt=function(_e){const be=Pg/(2*Math.PI);return _e/(2*Math.PI)/be}(Te),xt=[_e,be,-Te/(2*Math.PI)],Tt=dl(new Float64Array(16));return ml(Tt,Tt,xt),gl(Tt,Tt,[vt,vt,vt]),xl(Tt,Tt,l(-pt)),vl(Tt,Tt,l(-Pe)),Tt}function rf(_e){return y(5,6,_e)}function nf(_e,be){const Te=Yp(be.lat,be.lng);return vt=(Pe=Ml([],function(_e){const be=Yp(_e._center.lat,_e._center.lng);let Te=Vl([],kl(0,1,0),be);const Pe=bl([],-_e.angle,be);Te=Fl(Te,Te,Pe),bl(Pe,-_e._pitch,Te);const pt=Pl([],be);return El(pt,pt,_e.cameraToCenterDistance/_e.pixelsPerMeter*ly),Fl(pt,pt,Pe),Il([],be,pt)}(_e),Te))[0],xt=Pe[1],Tt=Pe[2],It=(pt=Te)[0],Mt=pt[1],Lt=pt[2],Ot=(Ft=Math.sqrt(vt*vt+xt*xt+Tt*Tt)*Math.sqrt(It*It+Mt*Mt+Lt*Lt))&&Dl(Pe,pt)/Ft,Math.acos(Math.min(Math.max(Ot,-1),1));var Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot}const fy=l(85),my=Math.cos(fy),yy=Math.sin(fy);function lf(_e,be){const Te=_e.fovAboveCenter,Pe=_e.elevation?_e.elevation.getMinElevationBelowMSL()*be:0,pt=(_e._camera.position[2]*_e.worldSize-Pe)/Math.cos(_e._pitch),vt=Math.sin(Te)*pt/Math.sin(Math.max(Math.PI/2-_e._pitch-Te,.01)),xt=Math.sin(_e._pitch)*vt+pt;return Math.min(1.01*xt,pt*(1/_e._horizonShift))}function uf(_e,be){if(!be.isReprojectedInTileSpace)return{scale:1<<_e.z,x:_e.x,y:_e.y,x2:_e.x+1,y2:_e.y+1,projection:be};const Te=Math.pow(2,-_e.z),Pe=_e.x*Te,pt=(_e.x+1)*Te,vt=_e.y*Te,xt=(_e.y+1)*Te,Tt=Bo(Pe),It=Bo(pt),Mt=Eo(vt),Lt=Eo(xt),Ft=be.project(Tt,Mt),Ot=be.project(It,Mt),Vt=be.project(It,Lt),qt=be.project(Tt,Lt);let Wt=Math.min(Ft.x,Ot.x,Vt.x,qt.x),$t=Math.min(Ft.y,Ot.y,Vt.y,qt.y),Kt=Math.max(Ft.x,Ot.x,Vt.x,qt.x),Jt=Math.max(Ft.y,Ot.y,Vt.y,qt.y);const Yt=Te/16;function b(_e,Te,Pe,pt,vt,xt){const Tt=(Pe+vt)/2,It=(pt+xt)/2,Mt=be.project(Bo(Tt),Eo(It)),Lt=Math.max(0,Wt-Mt.x,$t-Mt.y,Mt.x-Kt,Mt.y-Jt);Wt=Math.min(Wt,Mt.x),Kt=Math.max(Kt,Mt.x),$t=Math.min($t,Mt.y),Jt=Math.max(Jt,Mt.y),Lt>Yt&&(b(_e,Mt,Pe,pt,Tt,It),b(Mt,Te,Tt,It,vt,xt))}b(Ft,Ot,Pe,vt,pt,vt),b(Ot,Vt,pt,vt,pt,xt),b(Vt,qt,pt,xt,Pe,xt),b(qt,Ft,Pe,xt,Pe,vt),Wt-=Yt,$t-=Yt,Kt+=Yt,Jt+=Yt;const Qt=1/Math.max(Kt-Wt,Jt-$t);return{scale:Qt,x:Wt*Qt,y:$t*Qt,x2:Kt*Qt,y2:Jt*Qt,projection:be}}const _y=dl(new Float32Array(16));class vy{constructor(_e){this.spec=_e,this.name=_e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(_e,be){return{x:0,y:0,z:0}}unproject(_e,be){return new zg(0,0)}projectTilePoint(_e,be,Te){return{x:_e,y:be,z:0}}locationPoint(_e,be,Te=!0){return _e._coordinatePoint(_e.locationCoordinate(be),Te)}pixelsPerMeter(_e,be){return To(1,_e)*be}pixelSpaceConversion(_e,be,Te){return 1}farthestPixelDistance(_e){return lf(_e,_e.pixelsPerMeter)}pointCoordinate(_e,be,Te,pt){const vt=_e.horizonLineFromTop(!1),xt=new Pe(be,Math.max(vt,Te));return _e.rayIntersectionCoordinate(_e.pointRayIntersection(xt,pt))}pointCoordinate3D(_e,be,Te){const pt=new Pe(be,Te);if(_e.elevation)return _e.elevation.pointCoordinate(pt);{const be=this.pointCoordinate(_e,pt.x,pt.y,0);return[be.x,be.y,be.z]}}isPointAboveHorizon(_e,be){if(_e.elevation)return!this.pointCoordinate3D(_e,be.x,be.y);const Te=_e.horizonLineFromTop();return be.y<Te}createInversionMatrix(_e,be){return _y}createTileMatrix(_e,be,Te){let Pe,pt,vt;const xt=Te.canonical,Tt=dl(new Float64Array(16));if(this.isReprojectedInTileSpace){const It=uf(xt,this);Pe=1,pt=It.x+Te.wrap*It.scale,vt=It.y,gl(Tt,Tt,[Pe/It.scale,Pe/It.scale,_e.pixelsPerMeter/be])}else Pe=be/_e.zoomScale(xt.z),pt=(xt.x+Math.pow(2,xt.z)*Te.wrap)*Pe,vt=xt.y*Pe;return ml(Tt,Tt,[pt,vt,0]),gl(Tt,Tt,[Pe/Pg,Pe/Pg,1]),Tt}upVector(_e,be,Te){return[0,0,1]}upVectorScale(_e,be,Te){return{metersToTile:1}}}class Ry extends vy{constructor(_e){super(_e),this.range=[4,7],this.center=_e.center||[-96,37.5];const[be,Te]=this.parallels=_e.parallels||[29.5,45.5],Pe=Math.sin(l(be));this.n=(Pe+Math.sin(l(Te)))/2,this.c=1+Pe*(2*this.n-Pe),this.r0=Math.sqrt(this.c)/this.n}project(_e,be){const{n:Te,c:Pe,r0:pt}=this,vt=l(_e-this.center[0]),xt=l(be),Tt=Math.sqrt(Pe-2*Te*Math.sin(xt))/Te;return{x:Tt*Math.sin(vt*Te),y:Tt*Math.cos(vt*Te)-pt,z:0}}unproject(_e,be){const{n:Te,c:Pe,r0:pt}=this,vt=pt+be;let xt=Math.atan2(_e,Math.abs(vt))*Math.sign(vt);vt*Te<0&&(xt-=Math.PI*Math.sign(_e)*Math.sign(vt));const Tt=l(this.center[0])*Te;xt=m(xt,-Math.PI-Tt,Math.PI-Tt);const It=u(xt/Te)+this.center[0],Mt=Math.asin(d((Pe-(_e*_e+vt*vt)*Te*Te)/(2*Te),-1,1)),Lt=d(u(Mt),-85.051129,Ug);return new zg(It,Lt)}}const xy=1.340264,by=-.081106,wy=893e-6,Ey=.003796,Sy=Math.sqrt(3)/2;class Cy extends vy{project(_e,be){be=be/180*Math.PI,_e=_e/180*Math.PI;const Te=Math.asin(Sy*Math.sin(be)),Pe=Te*Te,pt=Pe*Pe*Pe;return{x:.5*(_e*Math.cos(Te)/(Sy*(xy+3*by*Pe+pt*(7*wy+9*Ey*Pe)))/Math.PI+.5),y:1-.5*(Te*(xy+by*Pe+pt*(wy+Ey*Pe))/Math.PI+1),z:0}}unproject(_e,be){_e=(2*_e-.5)*Math.PI;let Te=be=(2*(1-be)-1)*Math.PI,Pe=Te*Te,pt=Pe*Pe*Pe;for(let _e,vt,xt,Tt=0;Tt<12&&(vt=Te*(xy+by*Pe+pt*(wy+Ey*Pe))-be,xt=xy+3*by*Pe+pt*(7*wy+9*Ey*Pe),_e=vt/xt,Te=d(Te-_e,-Math.PI/3,Math.PI/3),Pe=Te*Te,pt=Pe*Pe*Pe,!(Math.abs(_e)<1e-12));++Tt);const vt=Sy*_e*(xy+3*by*Pe+pt*(7*wy+9*Ey*Pe))/Math.cos(Te),xt=Math.asin(Math.sin(Te)/Sy),Tt=d(180*vt/Math.PI,-180,180),It=d(180*xt/Math.PI,-85.051129,Ug);return new zg(Tt,It)}}class Ay extends vy{constructor(_e){super(_e),this.wrap=!0,this.supportsWorldCopies=!0}project(_e,be){return{x:.5+_e/360,y:.5-be/360,z:0}}unproject(_e,be){const Te=360*(_e-.5),Pe=d(360*(.5-be),-85.051129,Ug);return new zg(Te,Pe)}}const Ty=Math.PI/2;function _f(_e){return Math.tan((Ty+_e)/2)}class Dy extends vy{constructor(_e){super(_e),this.center=_e.center||[0,30];const[be,Te]=this.parallels=_e.parallels||[30,30],Pe=l(be),pt=l(Te),vt=Math.cos(Pe);this.n=Pe===pt?Math.sin(Pe):Math.log(vt/Math.cos(pt))/Math.log(_f(pt)/_f(Pe)),this.f=vt*Math.pow(_f(Pe),this.n)/this.n}project(_e,be){be=l(be),_e=l(_e-this.center[0]);const Te=1e-6,{n:Pe,f:pt}=this;pt>0?be<-Ty+Te&&(be=-Ty+Te):be>Ty-Te&&(be=Ty-Te);const vt=pt/Math.pow(_f(be),Pe),xt=vt*Math.sin(Pe*_e),Tt=pt-vt*Math.cos(Pe*_e);return{x:.5*(xt/Math.PI+.5),y:1-.5*(Tt/Math.PI+.5),z:0}}unproject(_e,be){_e=(2*_e-.5)*Math.PI,be=(2*(1-be)-.5)*Math.PI;const{n:Te,f:Pe}=this,pt=Pe-be,vt=Math.sign(pt),xt=Math.sign(Te)*Math.sqrt(_e*_e+pt*pt);let Tt=Math.atan2(_e,Math.abs(pt))*vt;pt*Te<0&&(Tt-=Math.PI*Math.sign(_e)*vt);const It=d(u(Tt/Te)+this.center[0],-180,180),Mt=d(u(2*Math.atan(Math.pow(Pe/xt,1/Te))-Ty),-85.051129,Ug);return new zg(It,Mt)}}class ky extends vy{constructor(_e){super(_e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(_e,be){return{x:Mo(_e),y:zo(be),z:0}}unproject(_e,be){const Te=Bo(_e),Pe=Eo(be);return new zg(Te,Pe)}}const Py=l(Ug);class Iy extends vy{project(_e,be){const Te=(be=l(be))*be,Pe=Te*Te;return{x:.5*((_e=l(_e))*(.8707-.131979*Te+Pe*(Pe*(.003971*Te-.001529*Pe)-.013791))/Math.PI+.5),y:1-.5*(be*(1.007226+Te*(.015085+Pe*(.028874*Te-.044475-.005916*Pe)))/Math.PI+1),z:0}}unproject(_e,be){_e=(2*_e-.5)*Math.PI;let Te=be=(2*(1-be)-1)*Math.PI,Pe=25,pt=0,vt=Te*Te;do{vt=Te*Te;const _e=vt*vt;pt=(Te*(1.007226+vt*(.015085+_e*(.028874*vt-.044475-.005916*_e)))-be)/(1.007226+vt*(.045255+_e*(.259866*vt-.311325-.005916*11*_e))),Te=d(Te-pt,-Py,Py)}while(Math.abs(pt)>1e-6&&--Pe>0);vt=Te*Te;const xt=d(u(_e/(.8707+vt*(vt*(vt*vt*vt*(.003971-.001529*vt)-.013791)-.131979))),-180,180),Tt=u(Te);return new zg(xt,Tt)}}const My=l(Ug);class Ly extends vy{project(_e,be){be=l(be),_e=l(_e);const Te=Math.cos(be),Pe=2/Math.PI,pt=Math.acos(Te*Math.cos(_e/2)),vt=Math.sin(pt)/pt,xt=.5*(_e*Pe+2*Te*Math.sin(_e/2)/vt)||0,Tt=.5*(be+Math.sin(be)/vt)||0;return{x:.5*(xt/Math.PI+.5),y:1-.5*(Tt/Math.PI+1),z:0}}unproject(_e,be){let Te=_e=(2*_e-.5)*Math.PI,Pe=be=(2*(1-be)-1)*Math.PI,pt=25;const vt=1e-6;let xt=0,Tt=0;do{const pt=Math.cos(Pe),vt=Math.sin(Pe),It=2*vt*pt,Mt=vt*vt,Lt=pt*pt,Ft=Math.cos(Te/2),Ot=Math.sin(Te/2),Vt=2*Ft*Ot,qt=Ot*Ot,Wt=1-Lt*Ft*Ft,$t=Wt?1/Wt:0,Kt=Wt?Math.acos(pt*Ft)*Math.sqrt(1/Wt):0,Jt=.5*(2*Kt*pt*Ot+2*Te/Math.PI)-_e,Yt=.5*(Kt*vt+Pe)-be,Qt=.5*$t*(Lt*qt+Kt*pt*Ft*Mt)+1/Math.PI,an=$t*(Vt*It/4-Kt*vt*Ot),cn=.125*$t*(It*Ot-Kt*vt*Lt*Vt),hn=.5*$t*(Mt*Ft+Kt*qt*pt)+.5,pn=an*cn-hn*Qt;xt=(Yt*an-Jt*hn)/pn,Tt=(Jt*cn-Yt*Qt)/pn,Te=d(Te-xt,-Math.PI,Math.PI),Pe=d(Pe-Tt,-My,My)}while((Math.abs(xt)>vt||Math.abs(Tt)>vt)&&--pt>0);return new zg(u(Te),u(Pe))}}class Fy extends vy{constructor(_e){super(_e),this.center=_e.center||[0,0],this.parallels=_e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(l(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(_e,be){const{scale:Te,cosPhi:Pe}=this;return{x:l(_e)*Pe*Te+.5,y:-Math.sin(l(be))/Pe*Te+.5,z:0}}unproject(_e,be){const{scale:Te,cosPhi:Pe}=this,pt=-(be-.5)/Te,vt=d(u((_e-.5)/Te)/Pe,-180,180),xt=Math.asin(d(pt*Pe,-1,1)),Tt=d(u(xt),-85.051129,Ug);return new zg(vt,Tt)}}class By extends ky{constructor(_e){super(_e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(_e,be,Te){const Pe=Math.pow(2,Te.z),pt=(_e/Pg+Te.x)/Pe,vt=Yp(Eo((be/Pg+Te.y)/Pe),Bo(pt));return Fl(vt,vt,Qp(Zp(Te))),{x:vt[0],y:vt[1],z:vt[2]}}locationPoint(_e,be){const Te=Yp(be.lat,be.lng),pt=Pl([],Te),vt=_e.elevation?_e.elevation.getAtPointOrZero(_e.locationCoordinate(be),_e._centerAltitude):_e._centerAltitude;Cl(Te,Te,pt,To(1,0)*Pg*vt);const xt=dl(new Float64Array(16));return yl(xt,_e.pixelMatrix,_e.globeMatrix),Fl(Te,Te,xt),new Pe(Te[0],Te[1])}pixelsPerMeter(_e,be){return To(1,0)*be}pixelSpaceConversion(_e,be,Te){const Pe=gr(To(1,45)*be,To(1,_e)*be,Te);return this.pixelsPerMeter(_e,be)/Pe}createTileMatrix(_e,be,Te){const Pe=tf(Zp(Te.canonical));return yl(new Float64Array(16),_e.globeMatrix,Pe)}createInversionMatrix(_e,be){const{center:Te}=_e,Pe=dl(new Float64Array(16));return yl(Pe,Pe,Qp(Zp(be))),vl(Pe,Pe,l(Te.lng)),xl(Pe,Pe,l(Te.lat)),gl(Pe,Pe,[_e._projectionScaler,_e._projectionScaler,1]),Float32Array.from(Pe)}pointCoordinate(_e,be,Te,Pe){return qp(_e,be,Te,!0)||new qg(0,0)}pointCoordinate3D(_e,be,Te){const Pe=this.pointCoordinate(_e,be,Te,0);return[Pe.x,Pe.y,Pe.z]}isPointAboveHorizon(_e,be){return!qp(_e,be.x,be.y,!1)}farthestPixelDistance(_e){const be=function(_e,be){const Te=_e.cameraToCenterDistance,Pe=_e._centerAltitude*be,pt=_e._camera,vt=_e._camera.forward(),xt=Il([],El([],vt,-Te),[0,0,Pe]),Tt=_e.worldSize/(2*Math.PI),It=[0,0,-Tt],Mt=_e.width/_e.height,Lt=Math.tan(_e.fovAboveCenter),Ft=El([],pt.up(),Lt),Ot=El([],pt.right(),Lt*Mt),Vt=Pl([],Il([],Il([],vt,Ft),Ot)),qt=[];let Wt;if(new xf(xt,Vt).closestPointOnSphere(It,Tt,qt)){const be=Il([],qt,It),Te=mf([],be,xt);Wt=Math.cos(_e.fovAboveCenter)*Sl(Te)}else{const _e=mf([],xt,It),be=mf([],It,xt);Pl(be,be);const Te=Sl(_e)-Tt;Wt=Math.sqrt(Te*(Te+2*Tt));const Pe=Math.acos(Wt/(Tt+Te))-Math.acos(Dl(vt,be));Wt*=Math.cos(Pe)}return 1.01*Wt}(_e,this.pixelsPerMeter(_e.center.lat,_e.worldSize)),Te=rf(_e.zoom);if(Te>0){const Pe=lf(_e,To(1,_e.center.lat)*_e.worldSize),pt=_e.worldSize/(2*Math.PI),vt=Math.max(_e.width,_e.height)/_e.worldSize*Math.PI;return gr(be,Pe+pt*(1-Math.cos(vt)),Math.pow(Te,10))}return be}upVector(_e,be,Te){const Pe=1<<_e.z,pt=(be/Pg+_e.x)/Pe;return Yp(Eo((Te/Pg+_e.y)/Pe),Bo(pt),1)}upVectorScale(_e){return{metersToTile:ly*Jp(Zp(_e))}}}function Bf(_e){const be=_e.parallels,Te=!!be&&Math.abs(be[0]+be[1])<.01;switch(_e.name){case"mercator":return new ky(_e);case"equirectangular":return new Ay(_e);case"naturalEarth":return new Iy(_e);case"equalEarth":return new Cy(_e);case"winkelTripel":return new Ly(_e);case"albers":return Te?new Fy(_e):new Ry(_e);case"lambertConformalConic":return Te?new Fy(_e):new Dy(_e);case"globe":return new By(_e)}throw new Error(`Invalid projection name: ${_e.name}`)}const Oy=lm.VectorTileFeature.types,zy=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Pf(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot){const Vt=Tt?Math.min(ay,Math.round(Tt[0])):0,qt=Tt?Math.min(ay,Math.round(Tt[1])):0;_e.emplaceBack(be,Te,Math.round(32*Pe),Math.round(32*pt),vt,xt,(Vt<<1)+(It?1:0),qt,16*Mt,16*Lt,256*Ft,256*Ot)}function Df(_e,be,Te,Pe,pt,vt,xt){_e.emplaceBack(be,Te,Pe,pt,vt,xt)}function Vf(_e,be,Te,Pe,pt){_e.emplaceBack(be,Te,Pe,pt),_e.emplaceBack(be,Te,Pe,pt),_e.emplaceBack(be,Te,Pe,pt),_e.emplaceBack(be,Te,Pe,pt)}function Ff(_e){for(const be of _e.sections)if(gs(be.text))return!0;return!1}class jy{constructor(_e){this.layoutVertexArray=new Yu,this.indexArray=new fc,this.programConfigurations=_e,this.segments=new kg,this.dynamicLayoutVertexArray=new fu,this.opacityVertexArray=new ec,this.placedSymbolArray=new Rh,this.globeExtVertexArray=new Qu}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(_e,be,Te,Pe){this.isEmpty()||(Te&&(this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,Tm.members),this.indexBuffer=_e.createIndexBuffer(this.indexArray,be),this.dynamicLayoutVertexBuffer=_e.createVertexBuffer(this.dynamicLayoutVertexArray,km.members,!0),this.opacityVertexBuffer=_e.createVertexBuffer(this.opacityVertexArray,zy,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=_e.createVertexBuffer(this.globeExtVertexArray,Dm.members,!0)),this.opacityVertexBuffer.itemSize=1),(Te||Pe)&&this.programConfigurations.upload(_e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Ei(jy,"SymbolBuffers");class Ny{constructor(_e,be,Te){this.layoutVertexArray=new _e,this.layoutAttributes=be,this.indexArray=new Te,this.segments=new kg,this.collisionVertexArray=new hc,this.collisionVertexArrayExt=new gc}upload(_e){this.layoutVertexBuffer=_e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=_e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=_e.createVertexBuffer(this.collisionVertexArray,Pm.members,!0),this.collisionVertexBufferExt=_e.createVertexBuffer(this.collisionVertexArrayExt,Im.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Ei(Ny,"CollisionBuffers");class Vy{constructor(_e){this.collisionBoxArray=_e.collisionBoxArray,this.zoom=_e.zoom,this.overscaling=_e.overscaling,this.layers=_e.layers,this.layerIds=this.layers.map((_e=>_e.id)),this.index=_e.index,this.pixelRatio=_e.pixelRatio,this.sourceLayerIndex=_e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=dl([]),this.placementViewportMatrix=dl([]);const be=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Jc(this.zoom,be["text-size"]),this.iconSizeData=Jc(this.zoom,be["icon-size"]);const Te=this.layers[0].layout,Pe=Te.get("symbol-sort-key"),pt=Te.get("symbol-z-order");this.canOverlap=Te.get("text-allow-overlap")||Te.get("icon-allow-overlap")||Te.get("text-ignore-placement")||Te.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==pt&&void 0!==Pe.constantOr(1),this.sortFeaturesByY=("viewport-y"===pt||"auto"===pt&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=Te.get("text-writing-mode").map((_e=>qm[_e])),this.stateDependentLayerIds=this.layers.filter((_e=>_e.isStateDependent())).map((_e=>_e.id)),this.sourceID=_e.sourceID,this.projection=_e.projection}createArrays(){this.text=new jy(new lg(this.layers,this.zoom,(_e=>/^text/.test(_e)))),this.icon=new jy(new lg(this.layers,this.zoom,(_e=>/^icon/.test(_e)))),this.glyphOffsetArray=new Ph,this.lineVertexArray=new Fh,this.symbolInstances=new Dh}calculateGlyphDependencies(_e,be,Te,Pe,pt){for(let Te=0;Te<_e.length;Te++)if(be[_e.charCodeAt(Te)]=!0,Pe&&pt){const Pe=zm[_e.charAt(Te)];Pe&&(be[Pe.charCodeAt(0)]=!0)}}populate(_e,be,Te,Pe){const pt=this.layers[0],vt=pt.layout,xt="globe"===this.projection.name,Tt=vt.get("text-font"),It=vt.get("text-field"),Mt=vt.get("icon-image"),Lt=("constant"!==It.value.kind||It.value.value instanceof vr&&!It.value.value.isEmpty()||It.value.value.toString().length>0)&&("constant"!==Tt.value.kind||Tt.value.value.length>0),Ft="constant"!==Mt.value.kind||!!Mt.value.value||Object.keys(Mt.parameters).length>0,Ot=vt.get("symbol-sort-key");if(this.features=[],!Lt&&!Ft)return;const Vt=be.iconDependencies,qt=be.glyphDependencies,Wt=be.availableImages,$t=new Kd(this.zoom);for(const{feature:be,id:It,index:Mt,sourceLayerIndex:Kt}of _e){const _e=pt._featureFilter.needGeometry,Jt=qo(be,_e);if(!pt._featureFilter.filter($t,Jt,Te))continue;if(_e||(Jt.geometry=Oo(be,Te,Pe)),xt&&1!==be.type&&Te.z<=5){const _e=Jt.geometry,be=1<<Te.z,Pe=Te.x,pt=Te.y,vt=.98078528056;for(let Te=0;Te<_e.length;Te++)_e[Te]=Ro(_e[Te],(_e=>_e),((_e,Te)=>Dl(Yp(Eo((_e.y/Pg+pt)/be),Bo((_e.x/Pg+Pe)/be),1),Yp(Eo((Te.y/Pg+pt)/be),Bo((Te.x/Pg+Pe)/be),1))<vt))}let Yt,Qt;if(Lt){const _e=pt.getValueAndResolveTokens("text-field",Jt,Te,Wt),be=vr.factory(_e);Ff(be)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Ms()||this.hasRTLText&&Xd.isParsed())&&(Yt=rh(be,pt,Jt))}if(Ft){const _e=pt.getValueAndResolveTokens("icon-image",Jt,Te,Wt);Qt=_e instanceof Rr?_e:Rr.fromString(_e)}if(!Yt&&!Qt)continue;const an=this.sortFeaturesByKey?Ot.evaluate(Jt,{},Te):void 0;if(this.features.push({id:It,text:Yt,icon:Qt,index:Mt,sourceLayerIndex:Kt,geometry:Jt.geometry,properties:be.properties,type:Oy[be.type],sortKey:an}),Qt&&(Vt[Qt.name]=!0),Yt){const _e=Tt.evaluate(Jt,{},Te).join(","),be="map"===vt.get("text-rotation-alignment")&&"point"!==vt.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(qm.vertical)>=0;for(const Te of Yt.sections)if(Te.image)Vt[Te.image.name]=!0;else{const Pe=cs(Yt.toString()),pt=Te.fontStack||_e,vt=qt[pt]=qt[pt]||{};this.calculateGlyphDependencies(Te.text,vt,be,this.allowVerticalPlacement,Pe)}}}"line"===vt.get("symbol-placement")&&(this.features=function(_e){const be={},Te={},Pe=[];let pt=0;function s(be){Pe.push(_e[be]),pt++}function a(_e,be,pt){const vt=Te[_e];return delete Te[_e],Te[be]=vt,Pe[vt].geometry[0].pop(),Pe[vt].geometry[0]=Pe[vt].geometry[0].concat(pt[0]),vt}function o(_e,Te,pt){const vt=be[Te];return delete be[Te],be[_e]=vt,Pe[vt].geometry[0].shift(),Pe[vt].geometry[0]=pt[0].concat(Pe[vt].geometry[0]),vt}function l(_e,be,Te){const Pe=Te?be[0][be[0].length-1]:be[0][0];return`${_e}:${Pe.x}:${Pe.y}`}for(let vt=0;vt<_e.length;vt++){const xt=_e[vt],Tt=xt.geometry,It=xt.text?xt.text.toString():null;if(!It){s(vt);continue}const Mt=l(It,Tt),Lt=l(It,Tt,!0);if(Mt in Te&&Lt in be&&Te[Mt]!==be[Lt]){const _e=o(Mt,Lt,Tt),pt=a(Mt,Lt,Pe[_e].geometry);delete be[Mt],delete Te[Lt],Te[l(It,Pe[pt].geometry,!0)]=pt,Pe[_e].geometry=null}else Mt in Te?a(Mt,Lt,Tt):Lt in be?o(Mt,Lt,Tt):(s(vt),be[Mt]=pt-1,Te[Lt]=pt-1)}return Pe.filter((_e=>_e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((_e,be)=>_e.sortKey-be.sortKey))}update(_e,be,Te,Pe){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(_e,be,this.layers,Te,Pe),this.icon.programConfigurations.updatePaintArrays(_e,be,this.layers,Te,Pe))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(_e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(_e),this.iconCollisionBox.upload(_e)),this.text.upload(_e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(_e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Bf(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(_e,be){const Te=this.lineVertexArray.length,Pe=_e.segment;if(void 0!==Pe){let Te=_e.dist(be[Pe+1]),pt=_e.dist(be[Pe]);const vt={};for(let _e=Pe+1;_e<be.length;_e++)vt[_e]={x:be[_e].x,y:be[_e].y,tileUnitDistanceFromAnchor:Te},_e<be.length-1&&(Te+=be[_e+1].dist(be[_e]));for(let _e=Pe||0;_e>=0;_e--)vt[_e]={x:be[_e].x,y:be[_e].y,tileUnitDistanceFromAnchor:pt},_e>0&&(pt+=be[_e-1].dist(be[_e]));for(let _e=0;_e<be.length;_e++){const be=vt[_e];this.lineVertexArray.emplaceBack(be.x,be.y,be.tileUnitDistanceFromAnchor)}}return{lineStartIndex:Te,lineLength:this.lineVertexArray.length-Te}}addSymbols(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt){const qt=_e.indexArray,Wt=_e.layoutVertexArray,$t=_e.globeExtVertexArray,Kt=_e.segments.prepareSegment(4*be.length,Wt,qt,this.canOverlap?vt.sortKey:void 0),Jt=this.glyphOffsetArray.length,Yt=Kt.vertexLength,Qt=this.allowVerticalPlacement&&xt===qm.vertical?Math.PI/2:0,an=vt.text&&vt.text.sections;for(let Pe=0;Pe<be.length;Pe++){const{tl:pt,tr:xt,bl:Mt,br:Lt,tex:Ft,pixelOffsetTL:Jt,pixelOffsetBR:Yt,minFontScaleX:cn,minFontScaleY:hn,glyphOffset:pn,isSDF:xn,sectionIndex:Pn}=be[Pe],Ln=Kt.vertexLength,Fn=pn[1];if(Pf(Wt,It.x,It.y,pt.x,Fn+pt.y,Ft.x,Ft.y,Te,xn,Jt.x,Jt.y,cn,hn),Pf(Wt,It.x,It.y,xt.x,Fn+xt.y,Ft.x+Ft.w,Ft.y,Te,xn,Yt.x,Jt.y,cn,hn),Pf(Wt,It.x,It.y,Mt.x,Fn+Mt.y,Ft.x,Ft.y+Ft.h,Te,xn,Jt.x,Yt.y,cn,hn),Pf(Wt,It.x,It.y,Lt.x,Fn+Lt.y,Ft.x+Ft.w,Ft.y+Ft.h,Te,xn,Yt.x,Yt.y,cn,hn),Tt){const be=Tt.anchor,Te=Tt.up;Df($t,be.x,be.y,be.z,Te[0],Te[1],Te[2]),Df($t,be.x,be.y,be.z,Te[0],Te[1],Te[2]),Df($t,be.x,be.y,be.z,Te[0],Te[1],Te[2]),Df($t,be.x,be.y,be.z,Te[0],Te[1],Te[2]),Vf(_e.dynamicLayoutVertexArray,be.x,be.y,be.z,Qt)}else Vf(_e.dynamicLayoutVertexArray,It.x,It.y,It.z,Qt);qt.emplaceBack(Ln,Ln+1,Ln+2),qt.emplaceBack(Ln+1,Ln+2,Ln+3),Kt.vertexLength+=4,Kt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(pn[0]),Pe!==be.length-1&&Pn===be[Pe+1].sectionIndex||_e.programConfigurations.populatePaintArrays(Wt.length,vt,vt.index,{},Ot,Vt,an&&an[Pn])}const cn=Tt?Tt.anchor:It;_e.placedSymbolArray.emplaceBack(cn.x,cn.y,cn.z,It.x,It.y,Jt,this.glyphOffsetArray.length-Jt,Yt,Mt,Lt,It.segment,Te?Te[0]:0,Te?Te[1]:0,Pe[0],Pe[1],xt,0,!1,0,Ft,0)}_commitLayoutVertex(_e,be,Te,Pe,pt,vt,xt){_e.emplaceBack(be,Te,Pe,pt,vt,Math.round(xt.x),Math.round(xt.y))}_addCollisionDebugVertices(_e,be,Te,pt,vt,xt,Tt){const It=Te.segments.prepareSegment(4,Te.layoutVertexArray,Te.indexArray),Mt=It.vertexLength,Lt=Tt.tileAnchorX,Ft=Tt.tileAnchorY;for(let _e=0;_e<4;_e++)Te.collisionVertexArray.emplaceBack(0,0,0,0);Te.collisionVertexArrayExt.emplaceBack(be,-_e.padding,-_e.padding),Te.collisionVertexArrayExt.emplaceBack(be,_e.padding,-_e.padding),Te.collisionVertexArrayExt.emplaceBack(be,_e.padding,_e.padding),Te.collisionVertexArrayExt.emplaceBack(be,-_e.padding,_e.padding),this._commitLayoutVertex(Te.layoutVertexArray,pt,vt,xt,Lt,Ft,new Pe(_e.x1,_e.y1)),this._commitLayoutVertex(Te.layoutVertexArray,pt,vt,xt,Lt,Ft,new Pe(_e.x2,_e.y1)),this._commitLayoutVertex(Te.layoutVertexArray,pt,vt,xt,Lt,Ft,new Pe(_e.x2,_e.y2)),this._commitLayoutVertex(Te.layoutVertexArray,pt,vt,xt,Lt,Ft,new Pe(_e.x1,_e.y2)),It.vertexLength+=4;const Ot=Te.indexArray;Ot.emplaceBack(Mt,Mt+1),Ot.emplaceBack(Mt+1,Mt+2),Ot.emplaceBack(Mt+2,Mt+3),Ot.emplaceBack(Mt+3,Mt),It.primitiveLength+=4}_addTextDebugCollisionBoxes(_e,be,Te,Pe,pt,vt){for(let xt=Pe;xt<pt;xt++){const Pe=Te.get(xt),pt=this.getSymbolInstanceTextSize(_e,vt,be,xt);this._addCollisionDebugVertices(Pe,pt,this.textCollisionBox,Pe.projectedAnchorX,Pe.projectedAnchorY,Pe.projectedAnchorZ,vt)}}_addIconDebugCollisionBoxes(_e,be,Te,Pe,pt,vt){for(let xt=Pe;xt<pt;xt++){const Pe=Te.get(xt),pt=this.getSymbolInstanceIconSize(_e,be,xt);this._addCollisionDebugVertices(Pe,pt,this.iconCollisionBox,Pe.projectedAnchorX,Pe.projectedAnchorY,Pe.projectedAnchorZ,vt)}}generateCollisionDebugBuffers(_e,be){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ny(oc,Mm.members,jc),this.iconCollisionBox=new Ny(oc,Mm.members,jc);const Te=th(this.iconSizeData,_e),Pe=th(this.textSizeData,_e);for(let pt=0;pt<this.symbolInstances.length;pt++){const vt=this.symbolInstances.get(pt);this._addTextDebugCollisionBoxes(Pe,_e,be,vt.textBoxStartIndex,vt.textBoxEndIndex,vt),this._addTextDebugCollisionBoxes(Pe,_e,be,vt.verticalTextBoxStartIndex,vt.verticalTextBoxEndIndex,vt),this._addIconDebugCollisionBoxes(Te,_e,be,vt.iconBoxStartIndex,vt.iconBoxEndIndex,vt),this._addIconDebugCollisionBoxes(Te,_e,be,vt.verticalIconBoxStartIndex,vt.verticalIconBoxEndIndex,vt)}}getSymbolInstanceTextSize(_e,be,Te,Pe){const pt=this.text.placedSymbolArray.get(be.rightJustifiedTextSymbolIndex>=0?be.rightJustifiedTextSymbolIndex:be.centerJustifiedTextSymbolIndex>=0?be.centerJustifiedTextSymbolIndex:be.leftJustifiedTextSymbolIndex>=0?be.leftJustifiedTextSymbolIndex:be.verticalPlacedTextSymbolIndex>=0?be.verticalPlacedTextSymbolIndex:Pe),vt=Qc(this.textSizeData,_e,pt)/Fm;return this.tilePixelRatio*vt}getSymbolInstanceIconSize(_e,be,Te){const Pe=this.icon.placedSymbolArray.get(Te),pt=Qc(this.iconSizeData,_e,Pe);return this.tilePixelRatio*pt}_commitDebugCollisionVertexUpdate(_e,be,Te){_e.emplaceBack(be,-Te,-Te),_e.emplaceBack(be,Te,-Te),_e.emplaceBack(be,Te,Te),_e.emplaceBack(be,-Te,Te)}_updateTextDebugCollisionBoxes(_e,be,Te,Pe,pt,vt){for(let xt=Pe;xt<pt;xt++){const Pe=Te.get(xt),pt=this.getSymbolInstanceTextSize(_e,vt,be,xt);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,pt,Pe.padding)}}_updateIconDebugCollisionBoxes(_e,be,Te,Pe,pt){for(let vt=Pe;vt<pt;vt++){const Pe=Te.get(vt),pt=this.getSymbolInstanceIconSize(_e,be,vt);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,pt,Pe.padding)}}updateCollisionDebugBuffers(_e,be){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const Te=th(this.iconSizeData,_e),Pe=th(this.textSizeData,_e);for(let pt=0;pt<this.symbolInstances.length;pt++){const vt=this.symbolInstances.get(pt);this._updateTextDebugCollisionBoxes(Pe,_e,be,vt.textBoxStartIndex,vt.textBoxEndIndex,vt),this._updateTextDebugCollisionBoxes(Pe,_e,be,vt.verticalTextBoxStartIndex,vt.verticalTextBoxEndIndex,vt),this._updateIconDebugCollisionBoxes(Te,_e,be,vt.iconBoxStartIndex,vt.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(Te,_e,be,vt.verticalIconBoxStartIndex,vt.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(_e,be,Te,Pe,pt,vt,xt,Tt,It){const Mt={};for(let Pe=be;Pe<Te;Pe++){const be=_e.get(Pe);Mt.textBox={x1:be.x1,y1:be.y1,x2:be.x2,y2:be.y2,padding:be.padding,projectedAnchorX:be.projectedAnchorX,projectedAnchorY:be.projectedAnchorY,projectedAnchorZ:be.projectedAnchorZ,tileAnchorX:be.tileAnchorX,tileAnchorY:be.tileAnchorY},Mt.textFeatureIndex=be.featureIndex;break}for(let be=Pe;be<pt;be++){const Te=_e.get(be);Mt.verticalTextBox={x1:Te.x1,y1:Te.y1,x2:Te.x2,y2:Te.y2,padding:Te.padding,projectedAnchorX:Te.projectedAnchorX,projectedAnchorY:Te.projectedAnchorY,projectedAnchorZ:Te.projectedAnchorZ,tileAnchorX:Te.tileAnchorX,tileAnchorY:Te.tileAnchorY},Mt.verticalTextFeatureIndex=Te.featureIndex;break}for(let be=vt;be<xt;be++){const Te=_e.get(be);Mt.iconBox={x1:Te.x1,y1:Te.y1,x2:Te.x2,y2:Te.y2,padding:Te.padding,projectedAnchorX:Te.projectedAnchorX,projectedAnchorY:Te.projectedAnchorY,projectedAnchorZ:Te.projectedAnchorZ,tileAnchorX:Te.tileAnchorX,tileAnchorY:Te.tileAnchorY},Mt.iconFeatureIndex=Te.featureIndex;break}for(let be=Tt;be<It;be++){const Te=_e.get(be);Mt.verticalIconBox={x1:Te.x1,y1:Te.y1,x2:Te.x2,y2:Te.y2,padding:Te.padding,projectedAnchorX:Te.projectedAnchorX,projectedAnchorY:Te.projectedAnchorY,projectedAnchorZ:Te.projectedAnchorZ,tileAnchorX:Te.tileAnchorX,tileAnchorY:Te.tileAnchorY},Mt.verticalIconFeatureIndex=Te.featureIndex;break}return Mt}deserializeCollisionBoxes(_e){this.collisionArrays=[];for(let be=0;be<this.symbolInstances.length;be++){const Te=this.symbolInstances.get(be);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(_e,Te.textBoxStartIndex,Te.textBoxEndIndex,Te.verticalTextBoxStartIndex,Te.verticalTextBoxEndIndex,Te.iconBoxStartIndex,Te.iconBoxEndIndex,Te.verticalIconBoxStartIndex,Te.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(_e,be){const Te=_e.placedSymbolArray.get(be),Pe=Te.vertexStartIndex+4*Te.numGlyphs;for(let be=Te.vertexStartIndex;be<Pe;be+=4)_e.indexArray.emplaceBack(be,be+1,be+2),_e.indexArray.emplaceBack(be+1,be+2,be+3)}getSortedSymbolIndexes(_e){if(this.sortedAngle===_e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const be=Math.sin(_e),Te=Math.cos(_e),Pe=[],pt=[],vt=[];for(let _e=0;_e<this.symbolInstances.length;++_e){vt.push(_e);const xt=this.symbolInstances.get(_e);Pe.push(0|Math.round(be*xt.tileAnchorX+Te*xt.tileAnchorY)),pt.push(xt.featureIndex)}return vt.sort(((_e,be)=>Pe[_e]-Pe[be]||pt[be]-pt[_e])),vt}addToSortKeyRanges(_e,be){const Te=this.sortKeyRanges[this.sortKeyRanges.length-1];Te&&Te.sortKey===be?Te.symbolInstanceEnd=_e+1:this.sortKeyRanges.push({sortKey:be,symbolInstanceStart:_e,symbolInstanceEnd:_e+1})}sortFeatures(_e){if(this.sortFeaturesByY&&this.sortedAngle!==_e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(_e),this.sortedAngle=_e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const _e of this.symbolInstanceIndexes){const be=this.symbolInstances.get(_e);this.featureSortOrder.push(be.featureIndex),[be.rightJustifiedTextSymbolIndex,be.centerJustifiedTextSymbolIndex,be.leftJustifiedTextSymbolIndex].forEach(((_e,be,Te)=>{_e>=0&&Te.indexOf(_e)===be&&this.addIndicesForPlacedSymbol(this.text,_e)})),be.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,be.verticalPlacedTextSymbolIndex),be.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,be.placedIconSymbolIndex),be.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,be.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Ei(Vy,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Vy.MAX_GLYPHS=65535,Vy.addDynamicAttributes=Vf;const Uy=new tu({"symbol-placement":new Hl(Aa.layout_symbol["symbol-placement"]),"symbol-spacing":new Hl(Aa.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Hl(Aa.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new $l(Aa.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Hl(Aa.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Hl(Aa.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Hl(Aa.layout_symbol["icon-ignore-placement"]),"icon-optional":new Hl(Aa.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Hl(Aa.layout_symbol["icon-rotation-alignment"]),"icon-size":new $l(Aa.layout_symbol["icon-size"]),"icon-text-fit":new Hl(Aa.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Hl(Aa.layout_symbol["icon-text-fit-padding"]),"icon-image":new $l(Aa.layout_symbol["icon-image"]),"icon-rotate":new $l(Aa.layout_symbol["icon-rotate"]),"icon-padding":new Hl(Aa.layout_symbol["icon-padding"]),"icon-keep-upright":new Hl(Aa.layout_symbol["icon-keep-upright"]),"icon-offset":new $l(Aa.layout_symbol["icon-offset"]),"icon-anchor":new $l(Aa.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Hl(Aa.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Hl(Aa.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Hl(Aa.layout_symbol["text-rotation-alignment"]),"text-field":new $l(Aa.layout_symbol["text-field"]),"text-font":new $l(Aa.layout_symbol["text-font"]),"text-size":new $l(Aa.layout_symbol["text-size"]),"text-max-width":new $l(Aa.layout_symbol["text-max-width"]),"text-line-height":new $l(Aa.layout_symbol["text-line-height"]),"text-letter-spacing":new $l(Aa.layout_symbol["text-letter-spacing"]),"text-justify":new $l(Aa.layout_symbol["text-justify"]),"text-radial-offset":new $l(Aa.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Hl(Aa.layout_symbol["text-variable-anchor"]),"text-anchor":new $l(Aa.layout_symbol["text-anchor"]),"text-max-angle":new Hl(Aa.layout_symbol["text-max-angle"]),"text-writing-mode":new Hl(Aa.layout_symbol["text-writing-mode"]),"text-rotate":new $l(Aa.layout_symbol["text-rotate"]),"text-padding":new Hl(Aa.layout_symbol["text-padding"]),"text-keep-upright":new Hl(Aa.layout_symbol["text-keep-upright"]),"text-transform":new $l(Aa.layout_symbol["text-transform"]),"text-offset":new $l(Aa.layout_symbol["text-offset"]),"text-allow-overlap":new Hl(Aa.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Hl(Aa.layout_symbol["text-ignore-placement"]),"text-optional":new Hl(Aa.layout_symbol["text-optional"])});var Gy={paint:new tu({"icon-opacity":new $l(Aa.paint_symbol["icon-opacity"]),"icon-color":new $l(Aa.paint_symbol["icon-color"]),"icon-halo-color":new $l(Aa.paint_symbol["icon-halo-color"]),"icon-halo-width":new $l(Aa.paint_symbol["icon-halo-width"]),"icon-halo-blur":new $l(Aa.paint_symbol["icon-halo-blur"]),"icon-translate":new Hl(Aa.paint_symbol["icon-translate"]),"icon-translate-anchor":new Hl(Aa.paint_symbol["icon-translate-anchor"]),"text-opacity":new $l(Aa.paint_symbol["text-opacity"]),"text-color":new $l(Aa.paint_symbol["text-color"],{runtimeType:Na,getOverride:_e=>_e.textColor,hasOverride:_e=>!!_e.textColor}),"text-halo-color":new $l(Aa.paint_symbol["text-halo-color"]),"text-halo-width":new $l(Aa.paint_symbol["text-halo-width"]),"text-halo-blur":new $l(Aa.paint_symbol["text-halo-blur"]),"text-translate":new Hl(Aa.paint_symbol["text-translate"]),"text-translate-anchor":new Hl(Aa.paint_symbol["text-translate-anchor"])}),layout:Uy};class Zy{constructor(_e){this.type=_e.property.overrides?_e.property.overrides.runtimeType:Fa,this.defaultValue=_e}evaluate(_e){if(_e.formattedSection){const be=this.defaultValue.property.overrides;if(be&&be.hasOverride(_e.formattedSection))return be.getOverride(_e.formattedSection)}return _e.feature&&_e.featureState?this.defaultValue.evaluate(_e.feature,_e.featureState):this.defaultValue.property.specification.default}eachChild(_e){this.defaultValue.isConstant()||_e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ei(Zy,"FormatSectionOverride",{omit:["defaultValue"]});class qy extends yg{constructor(_e){super(_e,Gy)}recalculate(_e,be){super.recalculate(_e,be),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const Te=this.layout.get("text-writing-mode");if(Te){const _e=[];for(const be of Te)_e.indexOf(be)<0&&_e.push(be);this.layout._values["text-writing-mode"]=_e}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(_e,be,Te,Pe){const pt=this.layout.get(_e).evaluate(be,{},Te,Pe),vt=this._unevaluatedLayout._values[_e];return vt.isDataDriven()||Dn(vt.value)||!pt?pt:function(_e,be){return be.replace(/{([^{}]+)}/g,((be,Te)=>Te in _e?String(_e[Te]):""))}(be.properties,pt)}createBucket(_e){return new Vy(_e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const _e of Gy.paint.overridableProperties){if(!qy.hasPaintOverride(this.layout,_e))continue;const be=this.paint.get(_e),Te=new Zy(be),Pe=new wd(Te,be.property.specification);let pt=null;pt="constant"===be.value.kind||"source"===be.value.kind?new Ed("source",Pe):new Sd("composite",Pe,be.value.zoomStops,be.value._interpolationType),this.paint._values[_e]=new Ul(be.property,pt,be.parameters)}}_handleOverridablePaintPropertyUpdate(_e,be,Te){return!(!this.layout||be.isDataDriven()||Te.isDataDriven())&&qy.hasPaintOverride(this.layout,_e)}static hasPaintOverride(_e,be){const Te=_e.get("text-field"),Pe=Gy.paint.properties[be];let pt=!1;const s=_e=>{for(const be of _e)if(Pe.overrides&&Pe.overrides.hasOverride(be))return void(pt=!0)};if("constant"===Te.value.kind&&Te.value.value instanceof vr)s(Te.value.value.sections);else if("source"===Te.value.kind){const t=_e=>{pt||(_e instanceof Sr&&Se(_e.value)===Ja?s(_e.value.sections):_e instanceof Or?s(_e.sections):_e.eachChild(t))},_e=Te.value;_e._styleExpression&&t(_e._styleExpression.expression)}return pt}getProgramConfiguration(_e){return new sg(this,_e)}}var Wy={paint:new tu({"background-color":new Hl(Aa.paint_background["background-color"]),"background-pattern":new Yl(Aa.paint_background["background-pattern"]),"background-opacity":new Hl(Aa.paint_background["background-opacity"])})},Hy={paint:new tu({"raster-opacity":new Hl(Aa.paint_raster["raster-opacity"]),"raster-hue-rotate":new Hl(Aa.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Hl(Aa.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Hl(Aa.paint_raster["raster-brightness-max"]),"raster-saturation":new Hl(Aa.paint_raster["raster-saturation"]),"raster-contrast":new Hl(Aa.paint_raster["raster-contrast"]),"raster-resampling":new Hl(Aa.paint_raster["raster-resampling"]),"raster-fade-duration":new Hl(Aa.paint_raster["raster-fade-duration"])})};class $y extends yg{constructor(_e){super(_e,{}),this.implementation=_e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(_e){this.implementation.onAdd&&this.implementation.onAdd(_e,_e.painter.context.gl)}onRemove(_e){this.implementation.onRemove&&this.implementation.onRemove(_e,_e.painter.context.gl)}}var Xy={paint:new tu({"sky-type":new Hl(Aa.paint_sky["sky-type"]),"sky-atmosphere-sun":new Hl(Aa.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Hl(Aa.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Hl(Aa.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Hl(Aa.paint_sky["sky-gradient-radius"]),"sky-gradient":new eu(Aa.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Hl(Aa.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Hl(Aa.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Hl(Aa.paint_sky["sky-opacity"])})};function Kf(_e,be,Te){const Pe=[0,0,1],pt=Gl([]);return Xl(pt,pt,Te?-l(_e)+Math.PI:l(_e)),Zl(pt,pt,-l(be)),Ll(Pe,Pe,pt),Pl(Pe,Pe)}const Ky={circle:class extends yg{constructor(_e){super(_e,of)}createBucket(_e){return new Kg(_e)}queryRadius(_e){const be=_e;return sl("circle-radius",this,be)+sl("circle-stroke-width",this,be)+al(this.paint.get("circle-translate"))}queryIntersectsFeature(_e,be,Te,Pe,pt,vt,xt,Tt){const It=ll(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),vt.angle,_e.pixelToTileUnitsFactor),Mt=this.paint.get("circle-radius").evaluate(be,Te)+this.paint.get("circle-stroke-width").evaluate(be,Te);return Jl(_e,Pe,vt,xt,Tt,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),It,Mt)}getProgramIds(){return["circle"]}getProgramConfiguration(_e){return new sg(this,_e)}},heatmap:class extends yg{createBucket(_e){return new Of(_e)}constructor(_e){super(_e,Gf),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(_e){"heatmap-color"===_e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=cu({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(_e){return sl("heatmap-radius",this,_e)}queryIntersectsFeature(_e,be,Te,pt,vt,xt,Tt,It){const Mt=this.paint.get("heatmap-radius").evaluate(be,Te);return Jl(_e,pt,xt,Tt,It,!0,!0,new Pe(0,0),Mt)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(_e){return new sg(this,_e)}},hillshade:class extends yg{constructor(_e){super(_e,Wf)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends yg{constructor(_e){super(_e,nm)}getProgramIds(){const _e=this.paint.get("fill-pattern"),be=_e&&_e.constantOr(1),Te=[be?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&Te.push(be&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),Te}getProgramConfiguration(_e){return new sg(this,_e)}recalculate(_e,be){super.recalculate(_e,be);const Te=this.paint._values["fill-outline-color"];"constant"===Te.value.kind&&void 0===Te.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(_e){return new em(_e)}queryRadius(){return al(this.paint.get("fill-translate"))}queryIntersectsFeature(_e,be,Te,Pe,pt,vt){return!_e.queryGeometry.isAboveHorizon&&Ho(ol(_e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),vt.angle,_e.pixelToTileUnitsFactor),Pe)}isTileClipped(){return!0}},"fill-extrusion":class extends yg{constructor(_e){super(_e,gm)}createBucket(_e){return new pm(_e)}queryRadius(){return al(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(_e){return new sg(this,_e)}queryIntersectsFeature(_e,be,Te,pt,vt,xt,Tt,It,Mt){const Lt=ll(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),xt.angle,_e.pixelToTileUnitsFactor),Ft=this.paint.get("fill-extrusion-height").evaluate(be,Te),Ot=this.paint.get("fill-extrusion-base").evaluate(be,Te),Vt=[0,0],qt=It&&xt.elevation,Wt=xt.elevation?xt.elevation.exaggeration():1,$t=_e.tile.getBucket(this);if(qt&&$t instanceof pm){const _e=$t.centroidVertexArray,be=Mt+1;if(be<_e.length){const Te=_e.get(be);Vt[0]=Te.a_centroid_pos0,Vt[1]=Te.a_centroid_pos1}}if(0===Vt[0]&&1===Vt[1])return!1;"globe"===xt.projection.name&&(pt=_c([pt],[new Pe(0,0),new Pe(Pg,Pg)],_e.tileID.canonical).map((_e=>_e.polygon)).flat());const Kt=function(_e,be,Te,pt,vt,xt,Tt,It,Mt,Lt,Ft){return"globe"===_e.projection.name?function(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt){const Ft=[],Ot=[],Vt=_e.projection.upVectorScale(Lt,_e.center.lat,_e.worldSize).metersToTile,qt=[0,0,0,1],Wt=[0,0,0,1],m=(_e,be,Te,Pe)=>{_e[0]=be,_e[1]=Te,_e[2]=Pe,_e[3]=1},$t=bc();Te>0&&(Te+=$t),Pe+=$t;for(const $t of be){const be=[],Kt=[];for(const Ft of $t){const Ot=Ft.x+pt.x,$t=Ft.y+pt.y,Jt=_e.projection.projectTilePoint(Ot,$t,Lt),Yt=_e.projection.upVector(Lt,Ft.x,Ft.y);let Qt=Te,an=Pe;if(xt){const _e=Ec(Ot,$t,Te,Pe,xt,Tt,It,Mt);Qt+=_e.base,an+=_e.top}0!==Te?m(qt,Jt.x+Yt[0]*Vt*Qt,Jt.y+Yt[1]*Vt*Qt,Jt.z+Yt[2]*Vt*Qt):m(qt,Jt.x,Jt.y,Jt.z),m(Wt,Jt.x+Yt[0]*Vt*an,Jt.y+Yt[1]*Vt*an,Jt.z+Yt[2]*Vt*an),Fl(qt,qt,vt),Fl(Wt,Wt,vt),be.push(Bc(qt)),Kt.push(Bc(Wt))}Ft.push(be),Ot.push(Kt)}return[Ft,Ot]}(_e,be,Te,pt,vt,xt,Tt,It,Mt,Lt,Ft):Tt?function(_e,be,Te,Pe,pt,vt,xt,Tt,It){const Mt=[],Lt=[],Ft=[0,0,0,1];for(const Ot of _e){const _e=[],Vt=[];for(const Mt of Ot){const Lt=Mt.x+Pe.x,Ot=Mt.y+Pe.y,qt=Ec(Lt,Ot,be,Te,vt,xt,Tt,It);Ft[0]=Lt,Ft[1]=Ot,Ft[2]=qt.base,Ft[3]=1,ql(Ft,Ft,pt),Ft[3]=Math.max(Ft[3],1e-5);const Wt=Bc([Ft[0]/Ft[3],Ft[1]/Ft[3],Ft[2]/Ft[3]]);Ft[0]=Lt,Ft[1]=Ot,Ft[2]=qt.top,Ft[3]=1,ql(Ft,Ft,pt),Ft[3]=Math.max(Ft[3],1e-5);const $t=Bc([Ft[0]/Ft[3],Ft[1]/Ft[3],Ft[2]/Ft[3]]);_e.push(Wt),Vt.push($t)}Mt.push(_e),Lt.push(Vt)}return[Mt,Lt]}(be,Te,pt,vt,xt,Tt,It,Mt,Lt):function(_e,be,Te,pt,vt){const xt=[],Tt=[],It=vt[8]*be,Mt=vt[9]*be,Lt=vt[10]*be,Ft=vt[11]*be,Ot=vt[8]*Te,Vt=vt[9]*Te,qt=vt[10]*Te,Wt=vt[11]*Te;for(const be of _e){const _e=[],Te=[];for(const xt of be){const be=xt.x+pt.x,Tt=xt.y+pt.y,$t=vt[0]*be+vt[4]*Tt+vt[12],Kt=vt[1]*be+vt[5]*Tt+vt[13],Jt=vt[2]*be+vt[6]*Tt+vt[14],Yt=vt[3]*be+vt[7]*Tt+vt[15],Qt=$t+It,an=Kt+Mt,cn=Jt+Lt,hn=Math.max(Yt+Ft,1e-5),pn=$t+Ot,xn=Kt+Vt,Pn=Jt+qt,Ln=Math.max(Yt+Wt,1e-5),Fn=new Pe(Qt/hn,an/hn);Fn.z=cn/hn,_e.push(Fn);const jn=new Pe(pn/Ln,xn/Ln);jn.z=Pn/Ln,Te.push(jn)}xt.push(_e),Tt.push(Te)}return[xt,Tt]}(be,Te,pt,vt,xt)}(xt,pt,Ot,Ft,Lt,Tt,qt?It:null,Vt,Wt,xt.center.lat,_e.tileID.canonical),Jt=_e.queryGeometry;return function(_e,be,Te){let Pe=1/0;Ho(Te,be)&&(Pe=Tc(Te,be[0]));for(let pt=0;pt<be.length;pt++){const vt=be[pt],xt=_e[pt];for(let _e=0;_e<vt.length-1;_e++){const be=vt[_e],pt=[be,vt[_e+1],xt[_e+1],xt[_e],be];Xo(Te,pt)&&(Pe=Math.min(Pe,Tc(Te,pt)))}}return Pe!==1/0&&Pe}(Kt[0],Kt[1],Jt.isPointQuery()?Jt.screenBounds:Jt.screenGeometry)}},line:class extends yg{constructor(_e){super(_e,Cm),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(_e){if("line-gradient"===_e){const _e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=_e._styleExpression&&_e._styleExpression.expression instanceof bo,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(_e,be){super.recalculate(_e,be),this.paint._values["line-floorwidth"]=Am.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,_e)}createBucket(_e){return new Em(_e)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(_e){return new sg(this,_e)}queryRadius(_e){const be=_e,Te=Oc(sl("line-width",this,be),sl("line-gap-width",this,be)),Pe=sl("line-offset",this,be);return Te/2+Math.abs(Pe)+al(this.paint.get("line-translate"))}queryIntersectsFeature(_e,be,Te,pt,vt,xt){if(_e.queryGeometry.isAboveHorizon)return!1;const Tt=ol(_e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),xt.angle,_e.pixelToTileUnitsFactor),It=_e.pixelToTileUnitsFactor/2*Oc(this.paint.get("line-width").evaluate(be,Te),this.paint.get("line-gap-width").evaluate(be,Te)),Mt=this.paint.get("line-offset").evaluate(be,Te);return Mt&&(pt=function(_e,be){const Te=[],pt=new Pe(0,0);for(let Pe=0;Pe<_e.length;Pe++){const vt=_e[Pe],xt=[];for(let _e=0;_e<vt.length;_e++){const Te=vt[_e-1],Pe=vt[_e],Tt=vt[_e+1],It=0===_e?pt:Pe.sub(Te)._unit()._perp(),Mt=_e===vt.length-1?pt:Tt.sub(Pe)._unit()._perp(),Lt=It._add(Mt)._unit();Lt._mult(1/(Lt.x*Mt.x+Lt.y*Mt.y)),xt.push(Lt._mult(be)._add(Pe))}Te.push(xt)}return Te}(pt,Mt*_e.pixelToTileUnitsFactor)),function(_e,be,Te){for(let Pe=0;Pe<be.length;Pe++){const pt=be[Pe];if(_e.length>=3)for(let be=0;be<pt.length;be++)if(rl(_e,pt[be]))return!0;if(Yo(_e,pt,Te))return!0}return!1}(Tt,pt,It)}isTileClipped(){return!0}},symbol:qy,background:class extends yg{constructor(_e){super(_e,Wy)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends yg{constructor(_e){super(_e,Hy)}getProgramIds(){return["raster"]}},sky:class extends yg{constructor(_e){super(_e,Xy),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(_e){"sky-gradient"===_e?this._updateColorRamp():"sky-atmosphere-sun"!==_e&&"sky-atmosphere-halo-color"!==_e&&"sky-atmosphere-color"!==_e&&"sky-atmosphere-sun-intensity"!==_e||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=cu({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(_e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const be=_e.style.light.properties.get("position");return this._lightPosition.azimuthal!==be.azimuthal||this._lightPosition.polar!==be.polar}return!1}getCenter(_e,be){if("atmosphere"===this.paint.get("sky-type")){const Te=this.paint.get("sky-atmosphere-sun"),Pe=!Te,pt=_e.style.light,vt=pt.properties.get("position");return Pe&&"viewport"===pt.properties.get("anchor")&&E("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),Pe?Kf(vt.azimuthal,90-vt.polar,be):Kf(Te[0],90-Te[1],be)}const Te=this.paint.get("sky-gradient-center");return Kf(Te[0],90-Te[1],be)}is3D(){return!1}isSky(){return!0}markSkyboxValid(_e){this._skyboxInvalidated=!1,this._lightPosition=_e.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const _e=this.paint.get("sky-type");return"atmosphere"===_e?["skyboxCapture","skybox"]:"gradient"===_e?["skyboxGradient"]:null}}};class Jy{constructor(_e,be,Te,Pe){this.context=_e,this.format=Te,this.texture=_e.gl.createTexture(),this.update(be,Pe)}update(_e,Te,Pe){const{width:pt,height:vt}=_e,{context:xt}=this,{gl:Tt}=xt,{HTMLImageElement:It,HTMLCanvasElement:Mt,HTMLVideoElement:Lt,ImageData:Ft,ImageBitmap:Ot}=be;if(Tt.bindTexture(Tt.TEXTURE_2D,this.texture),xt.pixelStoreUnpackFlipY.set(!1),xt.pixelStoreUnpack.set(1),xt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Tt.RGBA&&(!Te||!1!==Te.premultiply)),Pe||this.size&&this.size[0]===pt&&this.size[1]===vt){const{x:be,y:Te}=Pe||{x:0,y:0};_e instanceof It||_e instanceof Mt||_e instanceof Lt||_e instanceof Ft||Ot&&_e instanceof Ot?Tt.texSubImage2D(Tt.TEXTURE_2D,0,be,Te,Tt.RGBA,Tt.UNSIGNED_BYTE,_e):Tt.texSubImage2D(Tt.TEXTURE_2D,0,be,Te,pt,vt,Tt.RGBA,Tt.UNSIGNED_BYTE,_e.data)}else this.size=[pt,vt],_e instanceof It||_e instanceof Mt||_e instanceof Lt||_e instanceof Ft||Ot&&_e instanceof Ot?Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,this.format,Tt.UNSIGNED_BYTE,_e):Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,pt,vt,0,this.format,Tt.UNSIGNED_BYTE,_e.data);this.useMipmap=Boolean(Te&&Te.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&Tt.generateMipmap(Tt.TEXTURE_2D)}bind(_e,be){const{context:Te}=this,{gl:Pe}=Te;Pe.bindTexture(Pe.TEXTURE_2D,this.texture),_e!==this.filter&&(Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MAG_FILTER,_e),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MIN_FILTER,this.useMipmap?_e===Pe.NEAREST?Pe.NEAREST_MIPMAP_NEAREST:Pe.LINEAR_MIPMAP_NEAREST:_e),this.filter=_e),be!==this.wrap&&(Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_S,be),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_T,be),this.wrap=be)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:_e}=this.context;_e.deleteTexture(this.texture),this.texture=null}}class Yy{constructor(_e,be){this.width=_e,this.height=be,this.nextRow=0,this.image=new jf({width:_e,height:be}),this.positions={},this.uploaded=!1}getDash(_e,be){const Te=this.getKey(_e,be);return this.positions[Te]}trim(){const _e=this.width,be=this.height=A(this.nextRow);this.image.resize({width:_e,height:be})}getKey(_e,be){return _e.join(",")+be}getDashRanges(_e,be,Te){const Pe=[];let pt=_e.length%2==1?-_e[_e.length-1]*Te:0,vt=_e[0]*Te,xt=!0;Pe.push({left:pt,right:vt,isDash:xt,zeroLength:0===_e[0]});let Tt=_e[0];for(let be=1;be<_e.length;be++){xt=!xt;const It=_e[be];pt=Tt*Te,Tt+=It,vt=Tt*Te,Pe.push({left:pt,right:vt,isDash:xt,zeroLength:0===It})}return Pe}addRoundDash(_e,be,Te){const Pe=be/2;for(let be=-Te;be<=Te;be++){const pt=this.width*(this.nextRow+Te+be);let vt=0,xt=_e[vt];for(let Tt=0;Tt<this.width;Tt++){Tt/xt.right>1&&(xt=_e[++vt]);const It=Math.abs(Tt-xt.left),Mt=Math.abs(Tt-xt.right),Lt=Math.min(It,Mt);let Ft;const Ot=be/Te*(Pe+1);if(xt.isDash){const _e=Pe-Math.abs(Ot);Ft=Math.sqrt(Lt*Lt+_e*_e)}else Ft=Pe-Math.sqrt(Lt*Lt+Ot*Ot);this.image.data[pt+Tt]=Math.max(0,Math.min(255,Ft+128))}}}addRegularDash(_e,be){for(let be=_e.length-1;be>=0;--be){const Te=_e[be],Pe=_e[be+1];Te.zeroLength?_e.splice(be,1):Pe&&Pe.isDash===Te.isDash&&(Pe.left=Te.left,_e.splice(be,1))}const Te=_e[0],Pe=_e[_e.length-1];Te.isDash===Pe.isDash&&(Te.left=Pe.left-this.width,Pe.right=Te.right+this.width);const pt=this.width*this.nextRow;let vt=0,xt=_e[vt];for(let Te=0;Te<this.width;Te++){Te/xt.right>1&&(xt=_e[++vt]);const Pe=Math.abs(Te-xt.left),Tt=Math.abs(Te-xt.right),It=Math.min(Pe,Tt);this.image.data[pt+Te]=Math.max(0,Math.min(255,(xt.isDash?It:-It)+be+128))}}addDash(_e,be){const Te=this.getKey(_e,be);if(this.positions[Te])return this.positions[Te];const Pe="round"===be,pt=Pe?7:0,vt=2*pt+1;if(this.nextRow+vt>this.height)return E("LineAtlas out of space"),null;0===_e.length&&_e.push(1);let xt=0;for(let be=0;be<_e.length;be++)_e[be]<0&&(E("Negative value is found in line dasharray, replacing values with 0"),_e[be]=0),xt+=_e[be];if(0!==xt){const Te=this.width/xt,vt=this.getDashRanges(_e,this.width,Te);Pe?this.addRoundDash(vt,Te,pt):this.addRegularDash(vt,"square"===be?.5*Te:0)}const Tt=this.nextRow+pt;this.nextRow+=vt;const It={tl:[Tt,pt],br:[xt,0]};return this.positions[Te]=It,It}}Ei(Yy,"LineAtlas");class Qy{constructor(_e){this._callback=_e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){this._channel=void 0,this._callback=()=>{}}}class e_{constructor(){this.tasks={},this.taskQueue=[],k(["process"],this),this.invoker=new Qy(this.process),this.nextId=0}add(_e,be){const Te=this.nextId++,Pe=function({type:_e,isSymbolTile:be,zoom:Te}){return Te=Te||0,"message"===_e?0:"maybePrepare"!==_e||be?"parseTile"!==_e||be?"parseTile"===_e&&be?300-Te:"maybePrepare"===_e&&be?400-Te:500:200-Te:100-Te}(be);if(0===Pe){D();try{_e()}finally{}return{cancel:()=>{}}}return this.tasks[Te]={fn:_e,metadata:be,priority:Pe,id:Te},this.taskQueue.push(Te),this.invoker.trigger(),{cancel:()=>{delete this.tasks[Te]}}}process(){D();try{if(this.taskQueue=this.taskQueue.filter((_e=>!!this.tasks[_e])),!this.taskQueue.length)return;const _e=this.pick();if(null===_e)return;const be=this.tasks[_e];if(delete this.tasks[_e],this.taskQueue.length&&this.invoker.trigger(),!be)return;be.fn()}finally{}}pick(){let _e=null,be=1/0;for(let Te=0;Te<this.taskQueue.length;Te++){const Pe=this.tasks[this.taskQueue[Te]];Pe.priority<be&&(be=Pe.priority,_e=Te)}if(null===_e)return null;const Te=this.taskQueue[_e];return this.taskQueue.splice(_e,1),Te}remove(){this.invoker.remove()}}class t_{constructor(_e){this._stringToNumber={},this._numberToString=[];for(let be=0;be<_e.length;be++){const Te=_e[be];this._stringToNumber[Te]=be,this._numberToString[be]=Te}}encode(_e){return this._stringToNumber[_e]}decode(_e){return this._numberToString[_e]}}const n_=["tile","layer","source","sourceLayer","state"];class a_{constructor(_e,be,Te,Pe,pt){this.type="Feature",this._vectorTileFeature=_e,this._z=be,this._x=Te,this._y=Pe,this.properties=_e.properties,this.id=pt}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(_e){this._geometry=_e}toJSON(){const _e={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(_e.id=this.id);for(const be of n_)void 0!==this[be]&&(_e[be]=this[be]);return _e}}const r_=32,i_=33,o_=new Uint16Array(8184);for(let _e=0;_e<2046;_e++){let be=_e+2,Te=0,Pe=0,pt=0,vt=0,xt=0,Tt=0;for(1&be?pt=vt=xt=r_:Te=Pe=Tt=r_;(be>>=1)>1;){const _e=Te+pt>>1,It=Pe+vt>>1;1&be?(pt=Te,vt=Pe,Te=xt,Pe=Tt):(Te=pt,Pe=vt,pt=xt,vt=Tt),xt=_e,Tt=It}const It=4*_e;o_[It+0]=Te,o_[It+1]=Pe,o_[It+2]=pt,o_[It+3]=vt}const s_=new Uint16Array(2178),d_=new Uint8Array(1089),l_=new Uint16Array(1089);function ud(_e){return 0===_e?-.03125:32===_e?.03125:0}var u_=Hs([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const c_={type:2,extent:Pg,loadGeometry:()=>[[new Pe(0,0),new Pe(8193,0),new Pe(8193,8193),new Pe(0,8193),new Pe(0,0)]]};class h_{constructor(_e,be,Te,Pe,pt){this.tileID=_e,this.uid=_(),this.uses=0,this.tileSize=be,this.tileZoom=Te,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=pt,this.expiredRequestCount=0,this.state="loading",Pe&&Pe.transform&&(this.projection=Pe.transform.projection)}registerFadeDuration(_e){const be=_e+this.timeAdded;be<Kt.now()||this.fadeEndTime&&be<this.fadeEndTime||(this.fadeEndTime=be)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=uf(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(_e,be,Te){if(this.unloadVectorData(),this.state="loaded",_e){_e.featureIndex&&(this.latestFeatureIndex=_e.featureIndex,_e.rawTileData?(this.latestRawTileData=_e.rawTileData,this.latestFeatureIndex.rawTileData=_e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=_e.collisionBoxArray,this.buckets=function(_e,be){const Te={};if(!be)return Te;for(const Pe of _e){const _e=Pe.layerIds.map((_e=>be.getLayer(_e))).filter(Boolean);if(0!==_e.length){Pe.layers=_e,Pe.stateDependentLayerIds&&(Pe.stateDependentLayers=Pe.stateDependentLayerIds.map((be=>_e.filter((_e=>_e.id===be))[0])));for(const be of _e)Te[be.id]=Pe}}return Te}(_e.buckets,be.style),this.hasSymbolBuckets=!1;for(const _e in this.buckets){const be=this.buckets[_e];if(be instanceof Vy){if(this.hasSymbolBuckets=!0,!Te)break;be.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _e in this.buckets){const be=this.buckets[_e];if(be instanceof Vy&&be.hasRTLText){this.hasRTLText=!0,Xd.isLoading()||Xd.isLoaded()||"deferred"!==Ms()||zs();break}}this.queryPadding=0;for(const _e in this.buckets){const Te=this.buckets[_e];this.queryPadding=Math.max(this.queryPadding,be.style.getLayer(_e).queryRadius(Te))}_e.imageAtlas&&(this.imageAtlas=_e.imageAtlas),_e.glyphAtlasImage&&(this.glyphAtlasImage=_e.glyphAtlasImage),_e.lineAtlas&&(this.lineAtlas=_e.lineAtlas)}else this.collisionBoxArray=new nh}unloadVectorData(){if(this.hasData()){for(const _e in this.buckets)this.buckets[_e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugIndexBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(_e){return this.buckets[_e.id]}upload(_e){for(const be in this.buckets){const Te=this.buckets[be];Te.uploadPending()&&Te.upload(_e)}const be=_e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Jy(_e,this.imageAtlas.image,be.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Jy(_e,this.glyphAtlasImage,be.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Jy(_e,this.lineAtlas.image,be.ALPHA),this.lineAtlas.uploaded=!0)}prepare(_e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(_e,this.imageAtlasTexture)}queryRenderedFeatures(_e,be,Te,Pe,pt,vt,xt,Tt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:Pe,pixelPosMatrix:xt,transform:vt,params:pt,tileTransform:this.tileTransform},_e,be,Te):{}}querySourceFeatures(_e,be){const Te=this.latestFeatureIndex;if(!Te||!Te.rawTileData)return;const Pe=Te.loadVTLayers(),pt=be?be.sourceLayer:"",vt=Pe._geojsonTileLayer||Pe[pt];if(!vt)return;const xt=Yn(be&&be.filter),{z:Tt,x:It,y:Mt}=this.tileID.canonical,Lt={z:Tt,x:It,y:Mt};for(let be=0;be<vt.length;be++){const Pe=vt.feature(be);if(xt.needGeometry){const _e=qo(Pe,!0);if(!xt.filter(new Kd(this.tileID.overscaledZ),_e,this.tileID.canonical))continue}else if(!xt.filter(new Kd(this.tileID.overscaledZ),Pe))continue;const Ft=Te.getId(Pe,pt),Ot=new a_(Pe,Tt,It,Mt,Ft);Ot.tile=Lt,_e.push(Ot)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(_e){const be=this.expirationTime;if(_e.cacheControl){const be=V(_e.cacheControl);be["max-age"]&&(this.expirationTime=Date.now()+1e3*be["max-age"])}else _e.expires&&(this.expirationTime=new Date(_e.expires).getTime());if(this.expirationTime){const _e=Date.now();let Te=!1;if(this.expirationTime>_e)Te=!1;else if(be)if(this.expirationTime<be)Te=!0;else{const Pe=this.expirationTime-be;Pe?this.expirationTime=_e+Math.max(Pe,3e4):Te=!0}else Te=!0;Te?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(_e,be){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(_e).length||!be)return;const Te=this.latestFeatureIndex.loadVTLayers(),Pe=be.style.listImages();for(const pt in this.buckets){if(!be.style.hasLayer(pt))continue;const vt=this.buckets[pt],xt=vt.layers[0].sourceLayer||"_geojsonTileLayer",Tt=Te[xt],It=_e[xt];if(!Tt||!It||0===Object.keys(It).length)continue;if(vt.update(It,Tt,Pe,this.imageAtlas&&this.imageAtlas.patternPositions||{}),vt instanceof Em||vt instanceof em){const _e=be.style._getSourceCache(vt.layers[0].source);be._terrain&&be._terrain.enabled&&_e&&vt.programConfigurations.needsUpload&&be._terrain._clearRenderCacheForTile(_e.id,this.tileID)}const Mt=be&&be.style&&be.style.getLayer(pt);Mt&&(this.queryPadding=Math.max(this.queryPadding,Mt.queryRadius(vt)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Kt.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(_e){this.symbolFadeHoldUntil=Kt.now()+_e}setTexture(_e,be){const Te=be.context,Pe=Te.gl;this.texture=be.getTileTexture(_e.width),this.texture?this.texture.update(_e,{useMipmap:!0}):(this.texture=new Jy(Te,_e,Pe.RGBA,{useMipmap:!0}),this.texture.bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE),Te.extTextureFilterAnisotropic&&Pe.texParameterf(Pe.TEXTURE_2D,Te.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Te.extTextureFilterAnisotropicMax))}setDependencies(_e,be){const Te={};for(const _e of be)Te[_e]=!0;this.dependencies[_e]=Te}hasDependency(_e,be){for(const Te of _e){const _e=this.dependencies[Te];if(_e)for(const Te of be)if(_e[Te])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(_e,be){if(!be||"mercator"===be.name||this._tileDebugBuffer)return;const Te=Oo(c_,this.tileID.canonical,this.tileTransform)[0],Pe=new lu,pt=new Nc;for(let _e=0;_e<Te.length;_e++){const{x:be,y:vt}=Te[_e];Pe.emplaceBack(be,vt),pt.emplaceBack(_e)}pt.emplaceBack(0),this._tileDebugIndexBuffer=_e.createIndexBuffer(pt),this._tileDebugBuffer=_e.createVertexBuffer(Pe,sy.members),this._tileDebugSegments=kg.simpleSegment(0,0,Pe.length,pt.length)}_makeTileBoundsBuffers(_e,be){if(this._tileBoundsBuffer||!be||"mercator"===be.name)return;const Te=Oo(c_,this.tileID.canonical,this.tileTransform)[0];let Pe,pt;if(this.isRaster){const _e=function(_e,be){const Te=uf(_e,be),Pe=Math.pow(2,_e.z);for(let pt=0;pt<i_;pt++)for(let vt=0;vt<i_;vt++){const xt=Bo((_e.x+(vt+ud(vt))/r_)/Pe),Tt=Eo((_e.y+(pt+ud(pt))/r_)/Pe),It=be.project(xt,Tt),Mt=pt*i_+vt;s_[2*Mt+0]=Math.round((It.x*Te.scale-Te.x)*Pg),s_[2*Mt+1]=Math.round((It.y*Te.scale-Te.y)*Pg)}d_.fill(0),l_.fill(0);for(let _e=2045;_e>=0;_e--){const be=4*_e,Te=o_[be+0],Pe=o_[be+1],pt=o_[be+2],vt=o_[be+3],xt=Te+pt>>1,Tt=Pe+vt>>1,It=xt+Tt-Pe,Mt=Tt+Te-xt,Lt=Pe*i_+Te,Ft=vt*i_+pt,Ot=Tt*i_+xt,Vt=Math.hypot((s_[2*Lt+0]+s_[2*Ft+0])/2-s_[2*Ot+0],(s_[2*Lt+1]+s_[2*Ft+1])/2-s_[2*Ot+1])>=16;if(d_[Ot]=d_[Ot]||(Vt?1:0),_e<1022){const _e=(Pe+Mt>>1)*i_+(Te+It>>1),be=(vt+Mt>>1)*i_+(pt+It>>1);d_[Ot]=d_[Ot]||d_[_e]||d_[be]}}const pt=new hu,vt=new fc;let xt=0;function o(_e,be){const Te=be*i_+_e;return 0===l_[Te]&&(pt.emplaceBack(s_[2*Te+0],s_[2*Te+1],_e*Pg/r_,be*Pg/r_),l_[Te]=++xt),l_[Te]-1}function l(_e,be,Te,Pe,pt,xt){const Tt=_e+Te>>1,It=be+Pe>>1;if(Math.abs(_e-pt)+Math.abs(be-xt)>1&&d_[It*i_+Tt])l(pt,xt,_e,be,Tt,It),l(Te,Pe,pt,xt,Tt,It);else{const Tt=o(_e,be),It=o(Te,Pe),Mt=o(pt,xt);vt.emplaceBack(Tt,It,Mt)}}return l(0,0,r_,r_,r_,0),l(r_,r_,0,0,0,r_),{vertices:pt,indices:vt}}(this.tileID.canonical,be);Pe=_e.vertices,pt=_e.indices}else{Pe=new hu,pt=new fc;for(const{x:_e,y:be}of Te)Pe.emplaceBack(_e,be,0,0);const _e=Jf(Pe.int16,void 0,4);for(let be=0;be<_e.length;be+=3)pt.emplaceBack(_e[be],_e[be+1],_e[be+2])}this._tileBoundsBuffer=_e.createVertexBuffer(Pe,u_.members),this._tileBoundsIndexBuffer=_e.createIndexBuffer(pt),this._tileBoundsSegments=kg.simpleSegment(0,0,Pe.length,pt.length)}_makeGlobeTileDebugBuffers(_e,be){if(this._globeTileDebugBorderBuffer||this._globeTileDebugTextBuffer||!be||"globe"!==be.name)return;const Te=this.tileID.canonical,Pe=Qp(Zp(Te));this._makeGlobeTileDebugBorderBuffer(_e,Te,Pe),this._makeGlobeTileDebugTextBuffer(_e,Te,Pe)}_makeGlobeTileDebugBorderBuffer(_e,be,Te){const Pe=new lu,pt=new Nc,vt=new uu,a=(_e,xt,Tt,It,Mt)=>{const Lt=(Tt-_e)/(Mt-1),Ft=(It-xt)/(Mt-1),Ot=Pe.length;for(let Tt=0;Tt<Mt;Tt++){const It=_e+Tt*Lt,Mt=xt+Tt*Ft;Pe.emplaceBack(It,Mt);const Vt=Wp(It,Mt,be),qt=Fl(Vt,Vt,Te);vt.emplaceBack(qt[0],qt[1],qt[2]),pt.emplaceBack(Ot+Tt)}},xt=Pg;a(0,0,xt,0,16),a(xt,0,xt,xt,16),a(xt,xt,0,xt,16),a(0,xt,0,0,16),this._tileDebugIndexBuffer=_e.createIndexBuffer(pt),this._tileDebugBuffer=_e.createVertexBuffer(Pe,sy.members),this._globeTileDebugBorderBuffer=_e.createVertexBuffer(vt,oy.members),this._tileDebugSegments=kg.simpleSegment(0,0,Pe.length,pt.length)}_makeGlobeTileDebugTextBuffer(_e,be,Te){const Pe=new lu,pt=new fc,vt=new uu,xt=25;pt.reserve(32),Pe.reserve(xt),vt.reserve(xt);const o=(_e,be)=>xt*_e+be;for(let _e=0;_e<xt;_e++){const pt=2048*_e;for(let _e=0;_e<xt;_e++){const xt=2048*_e;Pe.emplaceBack(xt,pt);const Tt=Wp(xt,pt,be),It=Fl(Tt,Tt,Te);vt.emplaceBack(It[0],It[1],It[2])}}for(let _e=0;_e<4;_e++)for(let be=0;be<4;be++){const Te=o(_e,be),Pe=o(_e,be+1),vt=o(_e+1,be),xt=o(_e+1,be+1);pt.emplaceBack(Te,Pe,vt),pt.emplaceBack(vt,Pe,xt)}this._tileDebugTextIndexBuffer=_e.createIndexBuffer(pt),this._tileDebugTextBuffer=_e.createVertexBuffer(Pe,sy.members),this._globeTileDebugTextBuffer=_e.createVertexBuffer(vt,oy.members),this._tileDebugTextSegments=kg.simpleSegment(0,0,xt,32)}}class p_{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(_e,be,Te){const Pe=String(be);if(this.stateChanges[_e]=this.stateChanges[_e]||{},this.stateChanges[_e][Pe]=this.stateChanges[_e][Pe]||{},v(this.stateChanges[_e][Pe],Te),null===this.deletedStates[_e]){this.deletedStates[_e]={};for(const be in this.state[_e])be!==Pe&&(this.deletedStates[_e][be]=null)}else if(this.deletedStates[_e]&&null===this.deletedStates[_e][Pe]){this.deletedStates[_e][Pe]={};for(const be in this.state[_e][Pe])Te[be]||(this.deletedStates[_e][Pe][be]=null)}else for(const be in Te)this.deletedStates[_e]&&this.deletedStates[_e][Pe]&&null===this.deletedStates[_e][Pe][be]&&delete this.deletedStates[_e][Pe][be]}removeFeatureState(_e,be,Te){if(null===this.deletedStates[_e])return;const Pe=String(be);if(this.deletedStates[_e]=this.deletedStates[_e]||{},Te&&void 0!==be)null!==this.deletedStates[_e][Pe]&&(this.deletedStates[_e][Pe]=this.deletedStates[_e][Pe]||{},this.deletedStates[_e][Pe][Te]=null);else if(void 0!==be)if(this.stateChanges[_e]&&this.stateChanges[_e][Pe])for(Te in this.deletedStates[_e][Pe]={},this.stateChanges[_e][Pe])this.deletedStates[_e][Pe][Te]=null;else this.deletedStates[_e][Pe]=null;else this.deletedStates[_e]=null}getState(_e,be){const Te=String(be),Pe=v({},(this.state[_e]||{})[Te],(this.stateChanges[_e]||{})[Te]);if(null===this.deletedStates[_e])return{};if(this.deletedStates[_e]){const Te=this.deletedStates[_e][be];if(null===Te)return{};for(const _e in Te)delete Pe[_e]}return Pe}initializeTileState(_e,be){_e.setFeatureState(this.state,be)}coalesceChanges(_e,be){const Te={};for(const _e in this.stateChanges){this.state[_e]=this.state[_e]||{};const be={};for(const Te in this.stateChanges[_e])this.state[_e][Te]||(this.state[_e][Te]={}),v(this.state[_e][Te],this.stateChanges[_e][Te]),be[Te]=this.state[_e][Te];Te[_e]=be}for(const _e in this.deletedStates){this.state[_e]=this.state[_e]||{};const be={};if(null===this.deletedStates[_e])for(const Te in this.state[_e])be[Te]={},this.state[_e][Te]={};else for(const Te in this.deletedStates[_e]){if(null===this.deletedStates[_e][Te])this.state[_e][Te]={};else for(const be of Object.keys(this.deletedStates[_e][Te]))delete this.state[_e][Te][be];be[Te]=this.state[_e][Te]}Te[_e]=Te[_e]||{},v(Te[_e],be)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(Te).length)for(const Pe in _e)_e[Pe].setFeatureState(Te,be)}}class g_{constructor(_e){this.size=_e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(_e,be){const Te=this.toIdx(_e,be);return{min:this.minimums[Te],max:this.maximums[Te]}}isLeaf(_e,be){return this.leaves[this.toIdx(_e,be)]}toIdx(_e,be){return be*this.size+_e}}function yd(_e,be,Te,Pe){let pt=0,vt=Number.MAX_VALUE;for(let xt=0;xt<3;xt++)if(Math.abs(Pe[xt])<1e-15){if(Te[xt]<_e[xt]||Te[xt]>be[xt])return null}else{const Tt=1/Pe[xt];let It=(_e[xt]-Te[xt])*Tt,Mt=(be[xt]-Te[xt])*Tt;if(It>Mt){const _e=It;It=Mt,Mt=_e}if(It>pt&&(pt=It),Mt<vt&&(vt=Mt),pt>vt)return null}return pt}function md(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt){const Ft=Pe-_e,Ot=pt-be,Vt=vt-Te,qt=xt-_e,Wt=Tt-be,$t=It-Te,Kt=Lt[1]*$t-Lt[2]*Wt,Jt=Lt[2]*qt-Lt[0]*$t,Yt=Lt[0]*Wt-Lt[1]*qt,Qt=Ft*Kt+Ot*Jt+Vt*Yt;if(Math.abs(Qt)<1e-15)return null;const an=1/Qt,cn=Mt[0]-_e,hn=Mt[1]-be,pn=Mt[2]-Te,xn=(cn*Kt+hn*Jt+pn*Yt)*an;if(xn<0||xn>1)return null;const Pn=hn*Vt-pn*Ot,Ln=pn*Ft-cn*Vt,Fn=cn*Ot-hn*Ft,jn=(Lt[0]*Pn+Lt[1]*Ln+Lt[2]*Fn)*an;return jn<0||xn+jn>1?null:(qt*Pn+Wt*Ln+$t*Fn)*an}function gd(_e,be,Te){return(_e-be)/(Te-be)}function xd(_e,be,Te,Pe,pt,vt,xt,Tt,It){const Mt=1<<Te,Lt=vt-Pe,Ft=xt-pt,Ot=(_e+1)/Mt*Lt+Pe,Vt=(be+0)/Mt*Ft+pt,qt=(be+1)/Mt*Ft+pt;Tt[0]=(_e+0)/Mt*Lt+Pe,Tt[1]=Vt,It[0]=Ot,It[1]=qt}class f_{constructor(_e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=_e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const be=function(_e){const be=Math.ceil(Math.log2(_e.dim/8)),Te=[];let Pe=Math.ceil(Math.pow(2,be));const pt=1/Pe,s=(_e,be,Te,Pe,pt)=>{const vt=Pe?1:0,xt=(_e+1)*Te-vt,Tt=be*Te,It=(be+1)*Te-vt;pt[0]=_e*Te,pt[1]=Tt,pt[2]=xt,pt[3]=It};let vt=new g_(Pe);const xt=[];for(let be=0;be<Pe*Pe;be++){s(be%Pe,Math.floor(be/Pe),pt,!1,xt);const Te=_d(xt[0],xt[1],_e),Tt=_d(xt[2],xt[1],_e),It=_d(xt[2],xt[3],_e),Mt=_d(xt[0],xt[3],_e);vt.minimums.push(Math.min(Te,Tt,It,Mt)),vt.maximums.push(Math.max(Te,Tt,It,Mt)),vt.leaves.push(1)}for(Te.push(vt),Pe/=2;Pe>=1;Pe/=2){const _e=Te[Te.length-1];vt=new g_(Pe);for(let be=0;be<Pe*Pe;be++){s(be%Pe,Math.floor(be/Pe),2,!0,xt);const Te=_e.getElevation(xt[0],xt[1]),pt=_e.getElevation(xt[2],xt[1]),Tt=_e.getElevation(xt[2],xt[3]),It=_e.getElevation(xt[0],xt[3]),Mt=_e.isLeaf(xt[0],xt[1]),Lt=_e.isLeaf(xt[2],xt[1]),Ft=_e.isLeaf(xt[2],xt[3]),Ot=_e.isLeaf(xt[0],xt[3]),Vt=Math.min(Te.min,pt.min,Tt.min,It.min),qt=Math.max(Te.max,pt.max,Tt.max,It.max),Wt=Mt&&Lt&&Ft&&Ot;vt.maximums.push(qt),vt.minimums.push(Vt),vt.leaves.push(qt-Vt<=5&&Wt?1:0)}Te.push(vt)}return Te}(this.dem),Te=be.length-1,Pe=be[Te];this._addNode(Pe.minimums[0],Pe.maximums[0],Pe.leaves[0]),this._construct(be,0,0,Te,0)}raycastRoot(_e,be,Te,Pe,pt,vt,xt=1){return yd([_e,be,-100],[Te,Pe,this.maximums[0]*xt],pt,vt)}raycast(_e,be,Te,Pe,pt,vt,xt=1){if(!this.nodeCount)return null;const Tt=this.raycastRoot(_e,be,Te,Pe,pt,vt,xt);if(null==Tt)return null;const It=[],Mt=[],Lt=[],Ft=[],Ot=[{idx:0,t:Tt,nodex:0,nodey:0,depth:0}];for(;Ot.length>0;){const{idx:Tt,t:Vt,nodex:qt,nodey:Wt,depth:$t}=Ot.pop();if(this.leaves[Tt]){xd(qt,Wt,$t,_e,be,Te,Pe,Lt,Ft);const Tt=1<<$t,It=(qt+0)/Tt,Mt=(qt+1)/Tt,Ot=(Wt+0)/Tt,Kt=(Wt+1)/Tt,Jt=_d(It,Ot,this.dem)*xt,Yt=_d(Mt,Ot,this.dem)*xt,Qt=_d(Mt,Kt,this.dem)*xt,an=_d(It,Kt,this.dem)*xt,cn=md(Lt[0],Lt[1],Jt,Ft[0],Lt[1],Yt,Ft[0],Ft[1],Qt,pt,vt),hn=md(Ft[0],Ft[1],Qt,Lt[0],Ft[1],an,Lt[0],Lt[1],Jt,pt,vt),pn=Math.min(null!==cn?cn:Number.MAX_VALUE,null!==hn?hn:Number.MAX_VALUE);if(pn!==Number.MAX_VALUE)return pn;{const _e=Cl([],pt,vt,Vt);if(bd(Jt,Yt,an,Qt,gd(_e[0],Lt[0],Ft[0]),gd(_e[1],Lt[1],Ft[1]))>=_e[2])return Vt}continue}let Kt=0;for(let Ot=0;Ot<this._siblingOffset.length;Ot++){xd((qt<<1)+this._siblingOffset[Ot][0],(Wt<<1)+this._siblingOffset[Ot][1],$t+1,_e,be,Te,Pe,Lt,Ft),Lt[2]=-100,Ft[2]=this.maximums[this.childOffsets[Tt]+Ot]*xt;const Vt=yd(Lt,Ft,pt,vt);if(null!=Vt){const _e=Vt;It[Ot]=_e;let be=!1;for(let Te=0;Te<Kt&&!be;Te++)_e>=It[Mt[Te]]&&(Mt.splice(Te,0,Ot),be=!0);be||(Mt[Kt]=Ot),Kt++}}for(let _e=0;_e<Kt;_e++){const be=Mt[_e];Ot.push({idx:this.childOffsets[Tt]+be,t:It[be],nodex:(qt<<1)+this._siblingOffset[be][0],nodey:(Wt<<1)+this._siblingOffset[be][1],depth:$t+1})}}return null}_addNode(_e,be,Te){return this.minimums.push(_e),this.maximums.push(be),this.leaves.push(Te),this.childOffsets.push(0),this.nodeCount++}_construct(_e,be,Te,Pe,pt){if(1===_e[Pe].isLeaf(be,Te))return;this.childOffsets[pt]||(this.childOffsets[pt]=this.nodeCount);const vt=Pe-1,xt=_e[vt];let Tt=0,It=0;for(let _e=0;_e<this._siblingOffset.length;_e++){const Pe=2*be+this._siblingOffset[_e][0],pt=2*Te+this._siblingOffset[_e][1],vt=xt.getElevation(Pe,pt),Mt=xt.isLeaf(Pe,pt),Lt=this._addNode(vt.min,vt.max,Mt);Mt&&(Tt|=1<<_e),It||(It=Lt)}for(let Pe=0;Pe<this._siblingOffset.length;Pe++)Tt&1<<Pe||this._construct(_e,2*be+this._siblingOffset[Pe][0],2*Te+this._siblingOffset[Pe][1],vt,It+Pe)}}function bd(_e,be,Te,Pe,pt,vt){return gr(gr(_e,Te,vt),gr(be,Pe,vt),pt)}function _d(_e,be,Te){const Pe=Te.dim,pt=d(_e*Pe-.5,0,Pe-1),vt=d(be*Pe-.5,0,Pe-1),xt=Math.floor(pt),Tt=Math.floor(vt),It=Math.min(xt+1,Pe-1),Mt=Math.min(Tt+1,Pe-1);return bd(Te.get(xt,Tt),Te.get(It,Tt),Te.get(xt,Mt),Te.get(It,Mt),pt-xt,vt-Tt)}const m_={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class y_{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(_e,be,Te,Pe=!1,pt=!1){if(this.uid=_e,be.height!==be.width)throw new RangeError("DEM tiles must be square");if(Te&&"mapbox"!==Te&&"terrarium"!==Te)return E(`"${Te}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=be.height;const vt=this.dim=be.height-2,xt=new Uint32Array(be.data.buffer);if(this.pixels=new Uint8Array(be.data.buffer),this.encoding=Te||"mapbox",this.borderReady=Pe,!Pe){for(let _e=0;_e<vt;_e++)xt[this._idx(-1,_e)]=xt[this._idx(0,_e)],xt[this._idx(vt,_e)]=xt[this._idx(vt-1,_e)],xt[this._idx(_e,-1)]=xt[this._idx(_e,0)],xt[this._idx(_e,vt)]=xt[this._idx(_e,vt-1)];xt[this._idx(-1,-1)]=xt[this._idx(0,0)],xt[this._idx(vt,-1)]=xt[this._idx(vt-1,0)],xt[this._idx(-1,vt)]=xt[this._idx(0,vt-1)],xt[this._idx(vt,vt)]=xt[this._idx(vt-1,vt-1)],pt&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new f_(this)}get(_e,be,Te=!1){Te&&(_e=d(_e,-1,this.dim),be=d(be,-1,this.dim));const Pe=4*this._idx(_e,be);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[Pe],this.pixels[Pe+1],this.pixels[Pe+2])}static getUnpackVector(_e){return m_[_e]}get unpackVector(){return m_[this.encoding]}_idx(_e,be){if(_e<-1||_e>=this.dim+1||be<-1||be>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(be+1)*this.stride+(_e+1)}_unpackMapbox(_e,be,Te){return(256*_e*256+256*be+Te)/10-1e4}_unpackTerrarium(_e,be,Te){return 256*_e+be+Te/256-32768}static pack(_e,be){const Te=[0,0,0,0],Pe=y_.getUnpackVector(be);let pt=Math.floor((_e+Pe[3])/Pe[2]);return Te[2]=pt%256,pt=Math.floor(pt/256),Te[1]=pt%256,pt=Math.floor(pt/256),Te[0]=pt,Te}getPixels(){return new Nf({width:this.stride,height:this.stride},this.pixels)}backfillBorder(_e,be,Te){if(this.dim!==_e.dim)throw new Error("dem dimension mismatch");let Pe=be*this.dim,pt=be*this.dim+this.dim,vt=Te*this.dim,xt=Te*this.dim+this.dim;switch(be){case-1:Pe=pt-1;break;case 1:pt=Pe+1}switch(Te){case-1:vt=xt-1;break;case 1:xt=vt+1}const Tt=-be*this.dim,It=-Te*this.dim;for(let be=vt;be<xt;be++)for(let Te=Pe;Te<pt;Te++){const Pe=4*this._idx(Te,be),pt=4*this._idx(Te+Tt,be+It);this.pixels[Pe+0]=_e.pixels[pt+0],this.pixels[Pe+1]=_e.pixels[pt+1],this.pixels[Pe+2]=_e.pixels[pt+2],this.pixels[Pe+3]=_e.pixels[pt+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Ei(y_,"DEMData"),Ei(f_,"DemMinMaxQuadTree",{omit:["dem"]});class __{constructor(_e,be){this.max=_e,this.onRemove=be,this.reset()}reset(){for(const _e in this.data)for(const be of this.data[_e])be.timeout&&clearTimeout(be.timeout),this.onRemove(be.value);return this.data={},this.order=[],this}add(_e,be,Te){const Pe=_e.wrapped().key;void 0===this.data[Pe]&&(this.data[Pe]=[]);const pt={value:be,timeout:void 0};if(void 0!==Te&&(pt.timeout=setTimeout((()=>{this.remove(_e,pt)}),Te)),this.data[Pe].push(pt),this.order.push(Pe),this.order.length>this.max){const _e=this._getAndRemoveByKey(this.order[0]);_e&&this.onRemove(_e)}return this}has(_e){return _e.wrapped().key in this.data}getAndRemove(_e){return this.has(_e)?this._getAndRemoveByKey(_e.wrapped().key):null}_getAndRemoveByKey(_e){const be=this.data[_e].shift();return be.timeout&&clearTimeout(be.timeout),0===this.data[_e].length&&delete this.data[_e],this.order.splice(this.order.indexOf(_e),1),be.value}getByKey(_e){const be=this.data[_e];return be?be[0].value:null}get(_e){return this.has(_e)?this.data[_e.wrapped().key][0].value:null}remove(_e,be){if(!this.has(_e))return this;const Te=_e.wrapped().key,Pe=void 0===be?0:this.data[Te].indexOf(be),pt=this.data[Te][Pe];return this.data[Te].splice(Pe,1),pt.timeout&&clearTimeout(pt.timeout),0===this.data[Te].length&&delete this.data[Te],this.onRemove(pt.value),this.order.splice(this.order.indexOf(Te),1),this}setMaxSize(_e){for(this.max=_e;this.order.length>this.max;){const _e=this._getAndRemoveByKey(this.order[0]);_e&&this.onRemove(_e)}return this}filter(_e){const be=[];for(const Te in this.data)for(const Pe of this.data[Te])_e(Pe.value)||be.push(Pe);for(const _e of be)this.remove(_e.value.tileID,_e)}}class v_{constructor(_e,be,Te){this.func=_e,this.mask=be,this.range=Te}}v_.ReadOnly=!1,v_.ReadWrite=!0,v_.disabled=new v_(519,v_.ReadOnly,[0,1]);const R_=7680;class x_{constructor(_e,be,Te,Pe,pt,vt){this.test=_e,this.ref=be,this.mask=Te,this.fail=Pe,this.depthFail=pt,this.pass=vt}}x_.disabled=new x_({func:519,mask:0},0,0,R_,R_,R_);class b_{constructor(_e,be,Te){this.blendFunction=_e,this.blendColor=be,this.mask=Te}}b_.Replace=[1,0],b_.disabled=new b_(b_.Replace,mr.transparent,[!1,!1,!1,!1]),b_.unblended=new b_(b_.Replace,mr.transparent,[!0,!0,!0,!0]),b_.alphaBlended=new b_([1,771],mr.transparent,[!0,!0,!0,!0]);const w_=1029,E_=2305;class S_{constructor(_e,be,Te){this.enable=_e,this.mode=be,this.frontFace=Te}}S_.disabled=new S_(!1,w_,E_),S_.backCCW=new S_(!0,w_,E_),S_.backCW=new S_(!0,w_,2304),S_.frontCW=new S_(!0,1028,2304),S_.frontCCW=new S_(!0,1028,E_);class C_ extends Ca{constructor(_e,be,Te){super(),this.id=_e,this._onlySymbols=Te,be.on("data",(_e=>{"source"===_e.dataType&&"metadata"===_e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===_e.dataType&&"content"===_e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))})),be.on("error",(()=>{this._sourceErrored=!0})),this._source=be,this._tiles={},this._cache=new __(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=be.minTileCacheSize,this._maxTileCacheSize=be.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new p_,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(_e){this.map=_e,this._minTileCacheSize=void 0===this._minTileCacheSize&&_e?_e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&_e?_e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const _e in this._tiles){const be=this._tiles[_e];if("loaded"!==be.state&&"errored"!==be.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const _e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,_e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(_e,be){return _e.isSymbolTile=this._onlySymbols,this._source.loadTile(_e,be)}_unloadTile(_e){if(this._source.unloadTile)return this._source.unloadTile(_e,(()=>{}))}_abortTile(_e){if(this._source.abortTile)return this._source.abortTile(_e,(()=>{}))}serialize(){return this._source.serialize()}prepare(_e){if(this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._source.prepareTile)for(const be in this._tiles){const Te=this._tiles[be];this._source.prepareTile(Te)&&this.map.painter.terrain&&this.map.painter.terrain._clearRenderCacheForTile(this.id,Te.tileID),Te.upload(_e),Te.prepare(this.map.style.imageManager)}else for(const be in this._tiles){const Te=this._tiles[be];Te.upload(_e),Te.prepare(this.map.style.imageManager)}}getIds(){return x(this._tiles).map((_e=>_e.tileID)).sort(Pd).map((_e=>_e.key))}getRenderableIds(_e){const be=[];for(const Te in this._tiles)this._isIdRenderable(+Te,_e)&&be.push(this._tiles[Te]);return _e?be.sort(((_e,be)=>{const Te=_e.tileID,pt=be.tileID,vt=new Pe(Te.canonical.x,Te.canonical.y)._rotate(this.transform.angle),xt=new Pe(pt.canonical.x,pt.canonical.y)._rotate(this.transform.angle);return Te.overscaledZ-pt.overscaledZ||xt.y-vt.y||xt.x-vt.x})).map((_e=>_e.tileID.key)):be.map((_e=>_e.tileID)).sort(Pd).map((_e=>_e.key))}hasRenderableParent(_e){const be=this.findLoadedParent(_e,0);return!!be&&this._isIdRenderable(be.tileID.key)}_isIdRenderable(_e,be){return this._tiles[_e]&&this._tiles[_e].hasData()&&!this._coveredTiles[_e]&&(be||!this._tiles[_e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const _e in this._tiles)"errored"!==this._tiles[_e].state&&this._reloadTile(+_e,"reloading")}}_reloadTile(_e,be){const Te=this._tiles[_e];Te&&("loading"!==Te.state&&(Te.state=be),this._loadTile(Te,this._tileLoaded.bind(this,Te,_e,be)))}_tileLoaded(_e,be,Te,Pe){if(Pe)if(_e.state="errored",404!==Pe.status)this._source.fire(new Ea(Pe,{tile:_e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const _e=this.map.painter.terrain;this.update(this.transform,_e.getScaledDemTileSize(),!0),_e.resetTileLookupCache(this.id)}else this.update(this.transform);else _e.timeAdded=Kt.now(),"expired"===Te&&(_e.refreshedUponExpiration=!0),this._setTileReloadTimer(be,_e),"raster-dem"===this._source.type&&_e.dem&&this._backfillDEM(_e),this._state.initializeTileState(_e,this.map?this.map.painter:null),this._source.fire(new wa("data",{dataType:"source",tile:_e,coord:_e.tileID,sourceCacheId:this.id}))}_backfillDEM(_e){const be=this.getRenderableIds();for(let Te=0;Te<be.length;Te++){const Pe=be[Te];if(_e.neighboringTiles&&_e.neighboringTiles[Pe]){const be=this.getTileByID(Pe);r(_e,be),r(be,_e)}}function r(_e,be){if(!_e.dem||_e.dem.borderReady)return;_e.needsHillshadePrepare=!0,_e.needsDEMTextureUpload=!0;let Te=be.tileID.canonical.x-_e.tileID.canonical.x;const Pe=be.tileID.canonical.y-_e.tileID.canonical.y,pt=Math.pow(2,_e.tileID.canonical.z),vt=be.tileID.key;0===Te&&0===Pe||Math.abs(Pe)>1||(Math.abs(Te)>1&&(1===Math.abs(Te+pt)?Te+=pt:1===Math.abs(Te-pt)&&(Te-=pt)),be.dem&&_e.dem&&(_e.dem.backfillBorder(be.dem,Te,Pe),_e.neighboringTiles&&_e.neighboringTiles[vt]&&(_e.neighboringTiles[vt].backfilled=!0)))}}getTile(_e){return this.getTileByID(_e.key)}getTileByID(_e){return this._tiles[_e]}_retainLoadedChildren(_e,be,Te,Pe){for(const pt in this._tiles){let vt=this._tiles[pt];if(Pe[pt]||!vt.hasData()||vt.tileID.overscaledZ<=be||vt.tileID.overscaledZ>Te)continue;let xt=vt.tileID;for(;vt&&vt.tileID.overscaledZ>be+1;){const _e=vt.tileID.scaledTo(vt.tileID.overscaledZ-1);vt=this._tiles[_e.key],vt&&vt.hasData()&&(xt=_e)}let Tt=xt;for(;Tt.overscaledZ>be;)if(Tt=Tt.scaledTo(Tt.overscaledZ-1),_e[Tt.key]){Pe[xt.key]=xt;break}}}findLoadedParent(_e,be){if(_e.key in this._loadedParentTiles){const Te=this._loadedParentTiles[_e.key];return Te&&Te.tileID.overscaledZ>=be?Te:null}for(let Te=_e.overscaledZ-1;Te>=be;Te--){const be=_e.scaledTo(Te),Pe=this._getLoadedTile(be);if(Pe)return Pe}}_getLoadedTile(_e){const be=this._tiles[_e.key];return be&&be.hasData()?be:this._cache.getByKey(this._source.reparseOverscaled?_e.wrapped().key:_e.canonical.key)}updateCacheSize(_e,be){be=be||this._source.tileSize;const Te=Math.ceil(_e.width/be)+1,Pe=Math.ceil(_e.height/be)+1,pt=Math.floor(Te*Pe*5),vt="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,pt):pt,xt="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,vt):vt;this._cache.setMaxSize(xt)}handleWrapJump(_e){const be=Math.round((_e-(void 0===this._prevLng?_e:this._prevLng))/360);if(this._prevLng=_e,be){const _e={};for(const Te in this._tiles){const Pe=this._tiles[Te];Pe.tileID=Pe.tileID.unwrapTo(Pe.tileID.wrap+be),_e[Pe.tileID.key]=Pe}this._tiles=_e;for(const _e in this._timers)clearTimeout(this._timers[_e]),delete this._timers[_e];for(const _e in this._tiles)this._setTileReloadTimer(+_e,this._tiles[_e])}}update(_e,be,Te){if(this.transform=_e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!Te)return;let Pe;this.updateCacheSize(_e,be),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?Pe=_e.getVisibleUnwrappedCoordinates(this._source.tileID).map((_e=>new ym(_e.canonical.z,_e.wrap,_e.canonical.z,_e.canonical.x,_e.canonical.y))):(Pe=_e.coveringTiles({tileSize:be||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!Te,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(Pe=Pe.filter((_e=>this._source.hasTile(_e))))):Pe=[];const pt=this._updateRetainedTiles(Pe);if(Dd(this._source.type)&&0!==Pe.length){const _e={},be={},Te=Object.keys(pt);for(const Pe of Te){const Te=pt[Pe],vt=this._tiles[Pe];if(!vt||vt.fadeEndTime&&vt.fadeEndTime<=Kt.now())continue;const xt=this.findLoadedParent(Te,Math.max(Te.overscaledZ-C_.maxOverzooming,this._source.minzoom));xt&&(this._addTile(xt.tileID),_e[xt.tileID.key]=xt.tileID),be[Pe]=Te}const vt=Pe[Pe.length-1].overscaledZ;for(const _e in this._tiles){const Te=this._tiles[_e];if(pt[_e]||!Te.hasData())continue;let Pe=Te.tileID;for(;Pe.overscaledZ>vt;){Pe=Pe.scaledTo(Pe.overscaledZ-1);const vt=this._tiles[Pe.key];if(vt&&vt.hasData()&&be[Pe.key]){pt[_e]=Te.tileID;break}}}for(const be in _e)pt[be]||(this._coveredTiles[be]=!0,pt[be]=_e[be])}for(const _e in pt)this._tiles[_e].clearFadeHold();const vt=function(_e,be){const Te=[];for(const Pe in _e)Pe in be||Te.push(Pe);return Te}(this._tiles,pt);for(const _e of vt){const be=this._tiles[_e];be.hasSymbolBuckets&&!be.holdingForFade()?be.setHoldDuration(this.map._fadeDuration):be.hasSymbolBuckets&&!be.symbolFadeFinished()||this._removeTile(+_e)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const _e in this._tiles)this._tiles[_e].holdingForFade()&&this._removeTile(+_e)}_updateRetainedTiles(_e){const be={};if(0===_e.length)return be;const Te={},Pe=_e.reduce(((_e,be)=>Math.min(_e,be.overscaledZ)),1/0),pt=_e[0].overscaledZ,vt=Math.max(pt-C_.maxOverzooming,this._source.minzoom),xt=Math.max(pt+C_.maxUnderzooming,this._source.minzoom),Tt={};for(const Te of _e){const _e=this._addTile(Te);be[Te.key]=Te,_e.hasData()||Pe<this._source.maxzoom&&(Tt[Te.key]=Te)}this._retainLoadedChildren(Tt,Pe,xt,be);for(const Pe of _e){let _e=this._tiles[Pe.key];if(_e.hasData())continue;if(Pe.canonical.z>=this._source.maxzoom){const _e=Pe.children(this._source.maxzoom)[0],Te=this.getTile(_e);if(Te&&Te.hasData()){be[_e.key]=_e;continue}}else{const _e=Pe.children(this._source.maxzoom);if(be[_e[0].key]&&be[_e[1].key]&&be[_e[2].key]&&be[_e[3].key])continue}let pt=_e.wasRequested();for(let xt=Pe.overscaledZ-1;xt>=vt;--xt){const vt=Pe.scaledTo(xt);if(Te[vt.key])break;if(Te[vt.key]=!0,_e=this.getTile(vt),!_e&&pt&&(_e=this._addTile(vt)),_e&&(be[vt.key]=vt,pt=_e.wasRequested(),_e.hasData()))break}}return be}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const _e in this._tiles){const be=[];let Te,Pe=this._tiles[_e].tileID;for(;Pe.overscaledZ>0;){if(Pe.key in this._loadedParentTiles){Te=this._loadedParentTiles[Pe.key];break}be.push(Pe.key);const _e=Pe.scaledTo(Pe.overscaledZ-1);if(Te=this._getLoadedTile(_e),Te)break;Pe=_e}for(const _e of be)this._loadedParentTiles[_e]=Te}}_addTile(_e){let be=this._tiles[_e.key];if(be)return this._source.prepareTile&&this._source.prepareTile(be),be;be=this._cache.getAndRemove(_e),be&&(this._setTileReloadTimer(_e.key,be),be.tileID=_e,this._state.initializeTileState(be,this.map?this.map.painter:null),this._cacheTimers[_e.key]&&(clearTimeout(this._cacheTimers[_e.key]),delete this._cacheTimers[_e.key],this._setTileReloadTimer(_e.key,be)));const Te=Boolean(be);if(!Te){const Te=this.map?this.map.painter:null;be=new h_(_e,this._source.tileSize*_e.overscaleFactor(),this.transform.tileZoom,Te,this._isRaster),this._source.prepareTile&&this._source.prepareTile(be)||this._loadTile(be,this._tileLoaded.bind(this,be,_e.key,be.state))}return be?(be.uses++,this._tiles[_e.key]=be,Te||this._source.fire(new wa("dataloading",{tile:be,coord:be.tileID,dataType:"source"})),be):null}_setTileReloadTimer(_e,be){_e in this._timers&&(clearTimeout(this._timers[_e]),delete this._timers[_e]);const Te=be.getExpiryTimeout();Te&&(this._timers[_e]=setTimeout((()=>{this._reloadTile(_e,"expired"),delete this._timers[_e]}),Te))}_removeTile(_e){const be=this._tiles[_e];be&&(be.uses--,delete this._tiles[_e],this._timers[_e]&&(clearTimeout(this._timers[_e]),delete this._timers[_e]),be.uses>0||(be.hasData()&&"reloading"!==be.state?this._cache.add(be.tileID,be,be.getExpiryTimeout()):(be.aborted=!0,this._abortTile(be),this._unloadTile(be))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const _e in this._tiles)this._removeTile(+_e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(_e,be,Te){const Pe=[],pt=this.transform;if(!pt)return Pe;const vt="globe"===pt.projection.name,xt=Mo(pt.center.lng);for(const Tt in this._tiles){const It=this._tiles[Tt];if(Te&&It.clearQueryDebugViz(),It.holdingForFade())continue;let Mt;if(vt){const _e=It.tileID.canonical;if(0===_e.z){const be=[Math.abs(d(xt,...Vd(_e,-1))-xt),Math.abs(d(xt,...Vd(_e,1))-xt)];Mt=[0,2*be.indexOf(Math.min(...be))-1]}else{const be=[Math.abs(d(xt,...Vd(_e,-1))-xt),Math.abs(d(xt,...Vd(_e,0))-xt),Math.abs(d(xt,...Vd(_e,1))-xt)];Mt=[be.indexOf(Math.min(...be))-1]}}else Mt=[0];for(const Te of Mt){const vt=_e.containsTile(It,pt,be,Te);vt&&Pe.push(vt)}}return Pe}getVisibleCoordinates(_e){const be=this.getRenderableIds(_e).map((_e=>this._tiles[_e].tileID));for(const _e of be)_e.projMatrix=this.transform.calculateProjMatrix(_e.toUnwrapped());return be}hasTransition(){if(this._source.hasTransition())return!0;if(Dd(this._source.type))for(const _e in this._tiles){const be=this._tiles[_e];if(void 0!==be.fadeEndTime&&be.fadeEndTime>=Kt.now())return!0}return!1}setFeatureState(_e,be,Te){this._state.updateState(_e=_e||"_geojsonTileLayer",be,Te)}removeFeatureState(_e,be,Te){this._state.removeFeatureState(_e=_e||"_geojsonTileLayer",be,Te)}getFeatureState(_e,be){return this._state.getState(_e=_e||"_geojsonTileLayer",be)}setDependencies(_e,be,Te){const Pe=this._tiles[_e];Pe&&Pe.setDependencies(be,Te)}reloadTilesForDependencies(_e,be){for(const Te in this._tiles)this._tiles[Te].hasDependency(_e,be)&&this._reloadTile(+Te,"reloading");this._cache.filter((Te=>!Te.hasDependency(_e,be)))}_preloadTiles(_e,be){const Te=new Map,Pe=Array.isArray(_e)?_e:[_e],pt=this.map.painter.terrain,vt=this.usedForTerrain&&pt?pt.getScaledDemTileSize():this._source.tileSize;for(const _e of Pe){const be=_e.coveringTiles({tileSize:vt,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const _e of be)Te.set(_e.key,_e);this.usedForTerrain&&_e.updateElevation(!1)}g(Array.from(Te.values()),((_e,be)=>{const Te=new h_(_e,this._source.tileSize*_e.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(Te,(_e=>{"raster-dem"===this._source.type&&Te.dem&&this._backfillDEM(Te),be(_e,Te)}))}),be)}}function Pd(_e,be){const Te=Math.abs(2*_e.wrap)-+(_e.wrap<0),Pe=Math.abs(2*be.wrap)-+(be.wrap<0);return _e.overscaledZ-be.overscaledZ||Pe-Te||be.canonical.y-_e.canonical.y||be.canonical.x-_e.canonical.x}function Dd(_e){return"raster"===_e||"image"===_e||"video"===_e}function Vd(_e,be){const Te=1<<_e.z;return[_e.x/Te+be,(_e.x+1)/Te+be]}C_.maxOverzooming=10,C_.maxUnderzooming=3;class A_{constructor(_e,be,Te){this._demTile=_e,this._dem=this._demTile.dem,this._scale=be,this._offset=Te}static create(_e,be,Te){const Pe=Te||_e.findDEMTileFor(be);if(!Pe||!Pe.dem)return;const pt=Pe.dem,vt=Pe.tileID,xt=1<<be.canonical.z-vt.canonical.z;return new A_(Pe,Pe.tileSize/Pg/xt,[(be.canonical.x/xt-vt.canonical.x)*pt.dim,(be.canonical.y/xt-vt.canonical.y)*pt.dim])}tileCoordToPixel(_e,be){const Te=be*this._scale+this._offset[1],pt=Math.floor(_e*this._scale+this._offset[0]),vt=Math.floor(Te);return new Pe(pt,vt)}getElevationAt(_e,be,Te,Pe){const pt=_e*this._scale+this._offset[0],vt=be*this._scale+this._offset[1],xt=Math.floor(pt),Tt=Math.floor(vt),It=this._dem;return Pe=!!Pe,Te?gr(gr(It.get(xt,Tt,Pe),It.get(xt,Tt+1,Pe),vt-Tt),gr(It.get(xt+1,Tt,Pe),It.get(xt+1,Tt+1,Pe),vt-Tt),pt-xt):It.get(xt,Tt,Pe)}getElevationAtPixel(_e,be,Te){return this._dem.get(_e,be,!!Te)}getMeterToDEM(_e){return(1<<this._demTile.tileID.canonical.z)*To(1,_e)*this._dem.stride}}class T_{constructor(_e,be){this.tileID=_e,this.x=_e.canonical.x,this.y=_e.canonical.y,this.z=_e.canonical.z,this.grid=new Md(Pg,16,0),this.featureIndexArray=new Vh,this.promoteId=be}insert(_e,be,Te,Pe,pt,vt=0){const xt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(Te,Pe,pt,vt);const Tt=this.grid;for(let _e=0;_e<be.length;_e++){const Te=be[_e],Pe=[1/0,1/0,-1/0,-1/0];for(let _e=0;_e<Te.length;_e++){const be=Te[_e];Pe[0]=Math.min(Pe[0],be.x),Pe[1]=Math.min(Pe[1],be.y),Pe[2]=Math.max(Pe[2],be.x),Pe[3]=Math.max(Pe[3],be.y)}Pe[0]<Pg&&Pe[1]<Pg&&Pe[2]>=0&&Pe[3]>=0&&Tt.insert(xt,Pe[0],Pe[1],Pe[2],Pe[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new lm.VectorTile(new jm(this.rawTileData)).layers,this.sourceLayerCoder=new t_(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const _e in this.vtLayers)this.vtFeatures[_e]=[]}return this.vtLayers}query(_e,be,Te,Pe){this.loadVTLayers();const pt=_e.params||{},vt=Yn(pt.filter),xt=_e.tileResult,Tt=_e.transform,It=xt.bufferedTilespaceBounds,Mt=this.grid.query(It.min.x,It.min.y,It.max.x,It.max.y,((_e,be,Te,Pe)=>nl(xt.bufferedTilespaceGeometry,_e,be,Te,Pe)));Mt.sort(jd);let Lt=null;Tt.elevation&&Mt.length>0&&(Lt=A_.create(Tt.elevation,this.tileID));const Ft={};let Ot;for(let Tt=0;Tt<Mt.length;Tt++){const It=Mt[Tt];if(It===Ot)continue;Ot=It;const Vt=this.featureIndexArray.get(It);let qt=null;this.loadMatchingFeature(Ft,Vt,vt,pt.layers,pt.availableImages,be,Te,Pe,((be,Te,Pe,pt=0)=>(qt||(qt=Oo(be,this.tileID.canonical,_e.tileTransform)),Te.queryIntersectsFeature(xt,be,Pe,qt,this.z,_e.transform,_e.pixelPosMatrix,Lt,pt))))}return Ft}loadMatchingFeature(_e,be,Te,Pe,pt,vt,xt,Tt,It){const{featureIndex:Mt,bucketIndex:Lt,sourceLayerIndex:Ft,layoutVertexArrayOffset:Ot}=be,Vt=this.bucketLayerIDs[Lt];if(Pe&&!function(_e,be){for(let Te=0;Te<_e.length;Te++)if(be.indexOf(_e[Te])>=0)return!0;return!1}(Pe,Vt))return;const qt=this.sourceLayerCoder.decode(Ft),Wt=this.vtLayers[qt].feature(Mt);if(Te.needGeometry){const _e=qo(Wt,!0);if(!Te.filter(new Kd(this.tileID.overscaledZ),_e,this.tileID.canonical))return}else if(!Te.filter(new Kd(this.tileID.overscaledZ),Wt))return;const $t=this.getId(Wt,qt);for(let be=0;be<Vt.length;be++){const Te=Vt[be];if(Pe&&Pe.indexOf(Te)<0)continue;const Lt=vt[Te];if(!Lt)continue;let Ft={};void 0!==$t&&Tt&&(Ft=Tt.getState(Lt.sourceLayer||"_geojsonTileLayer",$t));const qt=v({},xt[Te]);qt.paint=Rd(qt.paint,Lt.paint,Wt,Ft,pt),qt.layout=Rd(qt.layout,Lt.layout,Wt,Ft,pt);const Kt=!It||It(Wt,Lt,Ft,Ot);if(!Kt)continue;const Jt=new a_(Wt,this.z,this.x,this.y,$t);Jt.layer=qt;let Yt=_e[Te];void 0===Yt&&(Yt=_e[Te]=[]),Yt.push({featureIndex:Mt,feature:Jt,intersectionZ:Kt})}}lookupSymbolFeatures(_e,be,Te,Pe,pt,vt,xt,Tt){const It={};this.loadVTLayers();const Mt=Yn(pt);for(const pt of _e)this.loadMatchingFeature(It,{bucketIndex:Te,sourceLayerIndex:Pe,featureIndex:pt,layoutVertexArrayOffset:0},Mt,vt,xt,Tt,be);return It}loadFeature(_e){const{featureIndex:be,sourceLayerIndex:Te}=_e;this.loadVTLayers();const Pe=this.sourceLayerCoder.decode(Te),pt=this.vtFeatures[Pe];if(pt[be])return pt[be];const vt=this.vtLayers[Pe].feature(be);return pt[be]=vt,vt}hasLayer(_e){for(const be of this.bucketLayerIDs)for(const Te of be)if(_e===Te)return!0;return!1}getId(_e,be){let Te=_e.id;return this.promoteId&&(Te=_e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[be]],"boolean"==typeof Te&&(Te=Number(Te))),Te}}function Rd(_e,be,Te,Pe,pt){return M(_e,((_e,vt)=>{const xt=be instanceof Wl?be.get(vt):null;return xt&&xt.evaluate?xt.evaluate(Te,Pe,pt):xt}))}function jd(_e,be){return be-_e}Ei(T_,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class D_{constructor(_e){const be={},Te=[];for(const Pe in _e){const pt=_e[Pe],vt=be[Pe]={};for(const _e in pt.glyphs){const be=pt.glyphs[+_e];if(!be||0===be.bitmap.width||0===be.bitmap.height)continue;const Pe=be.metrics.localGlyph?2:1,xt={x:0,y:0,w:be.bitmap.width+2*Pe,h:be.bitmap.height+2*Pe};Te.push(xt),vt[_e]=xt}}const{w:Pe,h:pt}=Eh(Te),vt=new jf({width:Pe||1,height:pt||1});for(const Te in _e){const Pe=_e[Te];for(const _e in Pe.glyphs){const pt=Pe.glyphs[+_e];if(!pt||0===pt.bitmap.width||0===pt.bitmap.height)continue;const xt=be[Te][_e],Tt=pt.metrics.localGlyph?2:1;jf.copy(pt.bitmap,vt,{x:0,y:0},{x:xt.x+Tt,y:xt.y+Tt},pt.bitmap)}}this.image=vt,this.positions=be}}Ei(D_,"GlyphAtlas");class k_{constructor(_e){this.tileID=new ym(_e.tileID.overscaledZ,_e.tileID.wrap,_e.tileID.canonical.z,_e.tileID.canonical.x,_e.tileID.canonical.y),this.tileZoom=_e.tileZoom,this.uid=_e.uid,this.zoom=_e.zoom,this.canonical=_e.tileID.canonical,this.pixelRatio=_e.pixelRatio,this.tileSize=_e.tileSize,this.source=_e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=_e.showCollisionBoxes,this.collectResourceTiming=!!_e.collectResourceTiming,this.returnDependencies=!!_e.returnDependencies,this.promoteId=_e.promoteId,this.enableTerrain=!!_e.enableTerrain,this.isSymbolTile=_e.isSymbolTile,this.tileTransform=uf(_e.tileID.canonical,_e.projection),this.projection=_e.projection}parse(_e,be,Te,Pe,pt){this.status="parsing",this.data=_e,this.collisionBoxArray=new nh;const vt=new t_(Object.keys(_e.layers).sort()),xt=new T_(this.tileID,this.promoteId);xt.bucketLayerIDs=[];const Tt={},It=new Yy(256,256),Mt={featureIndex:xt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:It,availableImages:Te},Lt=be.familiesBySource[this.source];for(const be in Lt){const Pe=_e.layers[be];if(!Pe)continue;let pt=!1,It=!1;for(const _e of Lt[be])"symbol"===_e[0].type?pt=!0:It=!0;if(!0===this.isSymbolTile&&!pt)continue;if(!1===this.isSymbolTile&&!It)continue;1===Pe.version&&E(`Vector tile source "${this.source}" layer "${be}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ft=vt.encode(be),Ot=[];for(let _e=0;_e<Pe.length;_e++){const Te=Pe.feature(_e),pt=xt.getId(Te,be);Ot.push({feature:Te,id:pt,index:_e,sourceLayerIndex:Ft})}for(const _e of Lt[be]){const be=_e[0];void 0!==this.isSymbolTile&&"symbol"===be.type!==this.isSymbolTile||be.minzoom&&this.zoom<Math.floor(be.minzoom)||be.maxzoom&&this.zoom>=be.maxzoom||"none"!==be.visibility&&(Od(_e,this.zoom,Te),(Tt[be.id]=be.createBucket({index:xt.bucketLayerIDs.length,layers:_e,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ft,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:Te})).populate(Ot,Mt,this.tileID.canonical,this.tileTransform),xt.bucketLayerIDs.push(_e.map((_e=>_e.id))))}}let Ft,Ot,Vt,qt;It.trim();const Wt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},$t=M(Mt.glyphDependencies,(_e=>Object.keys(_e).map(Number)));Object.keys($t).length?Pe.send("getGlyphs",{uid:this.uid,stacks:$t},((_e,be)=>{Ft||(Ft=_e,Ot=be,b.call(this))}),void 0,!1,Wt):Ot={};const Kt=Object.keys(Mt.iconDependencies);Kt.length?Pe.send("getImages",{icons:Kt,source:this.source,tileID:this.tileID,type:"icons"},((_e,be)=>{Ft||(Ft=_e,Vt=be,b.call(this))}),void 0,!1,Wt):Vt={};const Jt=Object.keys(Mt.patternDependencies);function b(){if(Ft)return pt(Ft);if(Ot&&Vt&&qt){const _e=new D_(Ot),be=new Zm(Vt,qt);for(const Pe in Tt){const pt=Tt[Pe];pt instanceof Vy?(Od(pt.layers,this.zoom,Te),Sp(pt,Ot,_e.positions,Vt,be.iconPositions,this.showCollisionBoxes,Te,this.tileID.canonical,this.tileZoom,this.projection)):pt.hasPattern&&(pt instanceof Em||pt instanceof em||pt instanceof pm)&&(Od(pt.layers,this.zoom,Te),pt.addFeatures(Mt,this.tileID.canonical,be.patternPositions,Te,this.tileTransform))}this.status="done",pt(null,{buckets:x(Tt).filter((_e=>!_e.isEmpty())),featureIndex:xt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:_e.image,lineAtlas:It,imageAtlas:be,glyphMap:this.returnDependencies?Ot:null,iconMap:this.returnDependencies?Vt:null,glyphPositions:this.returnDependencies?_e.positions:null})}}Jt.length?Pe.send("getImages",{icons:Jt,source:this.source,tileID:this.tileID,type:"patterns"},((_e,be)=>{Ft||(Ft=_e,qt=be,b.call(this))}),void 0,!1,Wt):qt={},b.call(this)}}function Od(_e,be,Te){const Pe=new Kd(be);for(const be of _e)be.recalculate(Pe,Te)}class P_{constructor(_e){this.entries={},this.scheduler=_e}request(_e,be,Te,Pe){const pt=this.entries[_e]=this.entries[_e]||{callbacks:[]};if(pt.result){const[_e,Te]=pt.result;return this.scheduler?this.scheduler.add((()=>{Pe(_e,Te)}),be):Pe(_e,Te),()=>{}}return pt.callbacks.push(Pe),pt.cancel||(pt.cancel=Te(((Te,Pe)=>{pt.result=[Te,Pe];for(const _e of pt.callbacks)this.scheduler?this.scheduler.add((()=>{_e(Te,Pe)}),be):_e(Te,Pe);setTimeout((()=>delete this.entries[_e]),3e3)}))),()=>{pt.result||(pt.callbacks=pt.callbacks.filter((_e=>_e!==Pe)),pt.callbacks.length||(pt.cancel(),delete this.entries[_e]))}}}function Nd(_e,be,Te){const Pe=JSON.stringify(_e.request);return _e.data&&(this.deduped.entries[Pe]={result:[null,_e.data]}),this.deduped.request(Pe,{type:"parseTile",isSymbolTile:_e.isSymbolTile,zoom:_e.tileZoom},(be=>{const Pe=Et(_e.request,((_e,Pe,pt,vt)=>{_e?be(_e):Pe&&be(null,{vectorTile:Te?void 0:new lm.VectorTile(new jm(Pe)),rawData:Pe,cacheControl:pt,expires:vt})}));return()=>{Pe.cancel(),be()}}),be)}_e.ARRAY_TYPE=cf,_e.AUTH_ERR_MSG=Pn,_e.Aabb=Cf,_e.Actor=class{constructor(_e,Te,Pe){this.target=_e,this.parent=Te,this.mapId=Pe,this.callbacks={},this.cancelCallbacks={},k(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=D()?_e:be,this.scheduler=new e_}send(_e,be,Te,Pe,pt=!1,vt){const xt=Math.round(1e18*Math.random()).toString(36).substring(0,10);Te&&(Te.metadata=vt,this.callbacks[xt]=Te);const Tt=L(this.globalScope)?void 0:[];return this.target.postMessage({id:xt,type:_e,hasCallback:!!Te,targetMapId:Pe,mustQueue:pt,sourceMapId:this.mapId,data:Di(be,Tt)},Tt),{cancel:()=>{Te&&delete this.callbacks[xt],this.target.postMessage({id:xt,type:"<cancel>",targetMapId:Pe,sourceMapId:this.mapId})}}}receive(_e){const be=_e.data,Te=be.id;if(Te&&(!be.targetMapId||this.mapId===be.targetMapId))if("<cancel>"===be.type){const _e=this.cancelCallbacks[Te];delete this.cancelCallbacks[Te],_e&&_e.cancel()}else if(be.mustQueue||D()){const _e=this.callbacks[Te];this.cancelCallbacks[Te]=this.scheduler.add((()=>this.processTask(Te,be)),_e&&_e.metadata||{type:"message"})}else this.processTask(Te,be)}processTask(_e,be){if("<response>"===be.type){const Te=this.callbacks[_e];delete this.callbacks[_e],Te&&(be.error?Te(Vi(be.error)):Te(null,Vi(be.data)))}else{const Te=L(this.globalScope)?void 0:[],Pe=be.hasCallback?(be,Pe)=>{delete this.cancelCallbacks[_e],this.target.postMessage({id:_e,type:"<response>",sourceMapId:this.mapId,error:be?Di(be):null,data:Di(Pe,Te)},Te)}:_e=>{},pt=Vi(be.data);if(this.parent[be.type])this.parent[be.type](be.sourceMapId,pt,Pe);else if(this.parent.getWorkerSource){const _e=be.type.split(".");this.parent.getWorkerSource(be.sourceMapId,_e[0],pt.source)[_e[1]](pt,Pe)}else Pe(new Error(`Could not find function ${be.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},_e.CanonicalTileID=fm,_e.Color=mr,_e.ColorMode=b_,_e.CullFaceMode=S_,_e.DEMData=y_,_e.DataConstantProperty=Hl,_e.DedupedRequest=P_,_e.DepthMode=v_,_e.EXTENT=Pg,_e.Elevation=class{isDataAvailableAtPoint(_e){const be=this._source();if(!be||_e.y<0||_e.y>1)return!1;const Te=be.getSource().maxzoom,Pe=1<<Te,pt=Math.floor(_e.x),vt=Math.floor((_e.x-pt)*Pe),xt=Math.floor(_e.y*Pe),Tt=this.findDEMTileFor(new ym(Te,pt,Te,vt,xt));return!(!Tt||!Tt.dem)}getAtPointOrZero(_e,be=0){return this.getAtPoint(_e,be)||0}getAtPoint(_e,be,Te=!0){null==be&&(be=null);const Pe=this._source();if(!Pe)return be;if(_e.y<0||_e.y>1)return be;const pt=Pe.getSource().maxzoom,vt=1<<pt,xt=Math.floor(_e.x),Tt=_e.x-xt,It=new ym(pt,xt,pt,Math.floor(Tt*vt),Math.floor(_e.y*vt)),Mt=this.findDEMTileFor(It);if(!Mt||!Mt.dem)return be;const Lt=Mt.dem,Ft=1<<Mt.tileID.canonical.z,Ot=(Tt*Ft-Mt.tileID.canonical.x)*Lt.dim,Vt=(_e.y*Ft-Mt.tileID.canonical.y)*Lt.dim,qt=Math.floor(Ot),Wt=Math.floor(Vt);return(Te?this.exaggeration():1)*gr(gr(Lt.get(qt,Wt),Lt.get(qt,Wt+1),Vt-Wt),gr(Lt.get(qt+1,Wt),Lt.get(qt+1,Wt+1),Vt-Wt),Ot-qt)}getAtTileOffset(_e,be,Te){const Pe=1<<_e.canonical.z;return this.getAtPointOrZero(new qg(_e.wrap+(_e.canonical.x+be/Pg)/Pe,(_e.canonical.y+Te/Pg)/Pe))}getAtTileOffsetFunc(_e,be,Te,Pe){return pt=>{const vt=this.getAtTileOffset(_e,pt.x,pt.y),xt=Pe.upVector(_e.canonical,pt.x,pt.y);return El(xt,xt,vt*Pe.upVectorScale(_e.canonical,be,Te).metersToTile),xt}}getForTilePoints(_e,be,Te,Pe){const pt=A_.create(this,_e,Pe);return!!pt&&(be.forEach((_e=>{_e[2]=this.exaggeration()*pt.getElevationAt(_e[0],_e[1],Te)})),!0)}getMinMaxForTile(_e){const be=this.findDEMTileFor(_e);if(!be||!be.dem)return null;const Te=be.dem.tree,Pe=be.tileID,pt=1<<_e.canonical.z-Pe.canonical.z;let vt=_e.canonical.x/pt-Pe.canonical.x,xt=_e.canonical.y/pt-Pe.canonical.y,Tt=0;for(let be=0;be<_e.canonical.z-Pe.canonical.z&&!Te.leaves[Tt];be++){vt*=2,xt*=2;const _e=2*Math.floor(xt)+Math.floor(vt);Tt=Te.childOffsets[Tt]+_e,vt%=1,xt%=1}return{min:this.exaggeration()*Te.minimums[Tt],max:this.exaggeration()*Te.maximums[Tt]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(_e,be,Te){throw new Error("Pure virtual method called.")}pointCoordinate(_e){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(_e){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},_e.ErrorEvent=Ea,_e.EvaluationParameters=Kd,_e.Event=wa,_e.Evented=Ca,_e.FillExtrusionBucket=pm,_e.Frustum=Sf,_e.FrustumCorners=bf,_e.GLOBE_METERS_TO_ECEF=ly,_e.GLOBE_RADIUS=dy,_e.GLOBE_SCALE_MATCH_LATITUDE=45,_e.GLOBE_ZOOM_THRESHOLD_MAX=6,_e.GLOBE_ZOOM_THRESHOLD_MIN=5,_e.GlobeSharedBuffers=class{constructor(_e){this._createGrid(_e),this._createPoles(_e)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const _e of this._poleSegments)_e.destroy();for(const _e of this._gridSegments)_e.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const _e of this._wireframeSegments)_e.destroy()}}_createGrid(_e){const be=new lu,Te=new fc,Pe=65;for(let _e=0;_e<Pe;_e++)for(let Te=0;Te<Pe;Te++)be.emplaceBack(Te,_e);this._gridSegments=[];for(let _e=0,be=0;_e<uy.length;_e++){const pt=uy[_e];for(let _e=0;_e<pt;_e++)for(let be=0;be<64;be++){const pt=_e*Pe+be;Te.emplaceBack(pt+1,pt,pt+Pe),Te.emplaceBack(pt+Pe,pt+Pe+1,pt+1)}const vt=64*pt*2;this._gridSegments.push(kg.simpleSegment(0,be,(pt+1)*Pe,vt)),be+=vt}this._gridBuffer=_e.createVertexBuffer(be,sy.members),this._gridIndexBuffer=_e.createIndexBuffer(Te,!0)}_createPoles(_e){const be=new fc;for(let _e=0;_e<=64;_e++)be.emplaceBack(0,_e+1,_e+2);this._poleIndexBuffer=_e.createIndexBuffer(be,!0);const Te=new Ic,Pe=new Ic;this._poleSegments=[];for(let _e=0,be=0;_e<5;_e++){const pt=1<<_e,vt=512*pt/Math.PI/2,xt=360/pt;Te.emplaceBack(0,-vt,0,0,0,.5,0),Pe.emplaceBack(0,-vt,0,0,0,.5,1);for(let _e=0;_e<=64;_e++){const be=_e/64,pt=gr(0,xt,be),[Tt,It,Mt]=Hp(my,yy,pt,vt);Te.emplaceBack(Tt,It,Mt,0,0,be,0),Pe.emplaceBack(Tt,It,Mt,0,0,be,1)}this._poleSegments.push(kg.simpleSegment(be,0,66,64)),be+=66}this._poleNorthVertexBuffer=_e.createVertexBuffer(Te,iy,!1),this._poleSouthVertexBuffer=_e.createVertexBuffer(Pe,iy,!1)}getGridBuffers(_e){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[_e]]}getPoleBuffers(_e){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[_e]]}getWirefameBuffers(_e,be){if(!this._wireframeSegments){const be=new jc,Te=64,Pe=Te+1;this._wireframeSegments=[];for(let _e=0,pt=0;_e<uy.length;_e++){const vt=uy[_e];for(let _e=0;_e<vt;_e++)for(let pt=0;pt<Te;pt++){const Te=_e*Pe+pt;be.emplaceBack(Te,Te+1),be.emplaceBack(Te,Te+Pe),be.emplaceBack(Te,Te+Pe+1)}const xt=vt*Te*3;this._wireframeSegments.push(kg.simpleSegment(0,pt,(vt+1)*Pe,xt)),pt+=xt}this._wireframeIndexBuffer=_e.createIndexBuffer(be)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[be]]}},_e.GlyphManager=Qm,_e.ImagePosition=Gm,_e.LineAtlas=Yy,_e.LngLat=zg,_e.LngLatBounds=Mg,_e.LocalGlyphMode=Ym,_e.MAX_MERCATOR_LATITUDE=Ug,_e.MercatorCoordinate=qg,_e.ONE_EM=Fm,_e.OverscaledTileID=ym,_e.Properties=tu,_e.RGBAImage=Nf,_e.Ray=xf,_e.RequestManager=class{constructor(_e,be,Te){this._transformRequestFn=_e,this._customAccessToken=be,this._silenceAuthErrors=!!Te,this._createSkuToken()}_createSkuToken(){const _e=function(){let _e="";for(let be=0;be<10;be++)_e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",xn,_e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=_e.token,this._skuTokenExpiresAt=_e.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(_e,be){return this._transformRequestFn&&this._transformRequestFn(_e,be)||{url:_e}}normalizeStyleURL(_e,be){if(!it(_e))return _e;const Te=ot(_e);return Te.path=`/styles/v1${Te.path}`,this._makeAPIURL(Te,this._customAccessToken||be)}normalizeGlyphsURL(_e,be){if(!it(_e))return _e;const Te=ot(_e);return Te.path=`/fonts/v1${Te.path}`,this._makeAPIURL(Te,this._customAccessToken||be)}normalizeSourceURL(_e,be,Te,Pe){if(!it(_e))return _e;const pt=ot(_e);return pt.path=`/v4/${pt.authority}.json`,pt.params.push("secure"),Te&&pt.params.push(`language=${Te}`),Pe&&pt.params.push(`worldview=${Pe}`),this._makeAPIURL(pt,this._customAccessToken||be)}normalizeSpriteURL(_e,be,Te,Pe){const pt=ot(_e);return it(_e)?(pt.path=`/styles/v1${pt.path}/sprite${be}${Te}`,this._makeAPIURL(pt,this._customAccessToken||Pe)):(pt.path+=`${be}${Te}`,lt(pt))}normalizeTileURL(_e,be,Te){if(this._isSkuTokenExpired()&&this._createSkuToken(),_e&&!it(_e))return _e;const Pe=ot(_e);Pe.path=Pe.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${be||Te&&"raster"!==Pe.authority&&512===Te?"@2x":""}${Qt.supported?".webp":"$1"}`),"raster"===Pe.authority?Pe.path=`/${Yt.RASTER_URL_PREFIX}${Pe.path}`:(Pe.path=Pe.path.replace(/^.+\/v4\//,"/"),Pe.path=`/${Yt.TILE_URL_VERSION}${Pe.path}`);const pt=this._customAccessToken||function(_e){for(const be of _e){const _e=be.match(/^access_token=(.*)$/);if(_e)return _e[1]}return null}(Pe.params)||Yt.ACCESS_TOKEN;return Yt.REQUIRE_ACCESS_TOKEN&&pt&&this._skuToken&&Pe.params.push(`sku=${this._skuToken}`),this._makeAPIURL(Pe,pt)}canonicalizeTileURL(_e,be){const Te=ot(_e);if(!Te.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!Te.path.match(/\.[\w]+$/))return _e;let Pe="mapbox://";Te.path.match(/^\/raster\/v1\//)?Pe+=`raster/${Te.path.replace(`/${Yt.RASTER_URL_PREFIX}/`,"")}`:Pe+=`tiles/${Te.path.replace(`/${Yt.TILE_URL_VERSION}/`,"")}`;let pt=Te.params;return be&&(pt=pt.filter((_e=>!_e.match(/^access_token=/)))),pt.length&&(Pe+=`?${pt.join("&")}`),Pe}canonicalizeTileset(_e,be){const Te=!!be&&it(be),Pe=[];for(const be of _e.tiles||[])st(be)?Pe.push(this.canonicalizeTileURL(be,Te)):Pe.push(be);return Pe}_makeAPIURL(_e,be){const Te="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",Pe=ot(Yt.API_URL);if(_e.protocol=Pe.protocol,_e.authority=Pe.authority,"http"===_e.protocol){const be=_e.params.indexOf("secure");be>=0&&_e.params.splice(be,1)}if("/"!==Pe.path&&(_e.path=`${Pe.path}${_e.path}`),!Yt.REQUIRE_ACCESS_TOKEN)return lt(_e);if(be=be||Yt.ACCESS_TOKEN,!this._silenceAuthErrors){if(!be)throw new Error(`An API access token is required to use Mapbox GL. ${Te}`);if("s"===be[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${Te}`)}return _e.params=_e.params.filter((_e=>-1===_e.indexOf("access_token"))),_e.params.push(`access_token=${be||""}`),lt(_e)}},_e.ResourceType=ma,_e.SegmentVector=kg,_e.SourceCache=C_,_e.StencilMode=x_,_e.StructArrayLayout1ui2=Nc,_e.StructArrayLayout2f1f2i16=dc,_e.StructArrayLayout2i4=lu,_e.StructArrayLayout2ui4=jc,_e.StructArrayLayout3f12=gc,_e.StructArrayLayout3ui6=fc,_e.StructArrayLayout4i8=hu,_e.StructArrayLayout5f20=Lc,_e.Texture=Jy,_e.Tile=h_,_e.Transitionable=Qd,_e.Uniform1f=Fp,_e.Uniform1i=class extends Lp{constructor(_e,be){super(_e,be),this.current=0}set(_e){this.current!==_e&&(this.current=_e,this.gl.uniform1i(this.location,_e))}},_e.Uniform2f=class extends Lp{constructor(_e,be){super(_e,be),this.current=[0,0]}set(_e){_e[0]===this.current[0]&&_e[1]===this.current[1]||(this.current=_e,this.gl.uniform2f(this.location,_e[0],_e[1]))}},_e.Uniform3f=class extends Lp{constructor(_e,be){super(_e,be),this.current=[0,0,0]}set(_e){_e[0]===this.current[0]&&_e[1]===this.current[1]&&_e[2]===this.current[2]||(this.current=_e,this.gl.uniform3f(this.location,_e[0],_e[1],_e[2]))}},_e.Uniform4f=Op,_e.UniformColor=jp,_e.UniformMatrix2f=class extends Lp{constructor(_e,be){super(_e,be),this.current=Up}set(_e){for(let be=0;be<4;be++)if(_e[be]!==this.current[be]){this.current=_e,this.gl.uniformMatrix2fv(this.location,!1,_e);break}}},_e.UniformMatrix3f=class extends Lp{constructor(_e,be){super(_e,be),this.current=Vp}set(_e){for(let be=0;be<9;be++)if(_e[be]!==this.current[be]){this.current=_e,this.gl.uniformMatrix3fv(this.location,!1,_e);break}}},_e.UniformMatrix4f=class extends Lp{constructor(_e,be){super(_e,be),this.current=Np}set(_e){if(_e[12]!==this.current[12]||_e[0]!==this.current[0])return this.current=_e,void this.gl.uniformMatrix4fv(this.location,!1,_e);for(let be=1;be<16;be++)if(_e[be]!==this.current[be]){this.current=_e,this.gl.uniformMatrix4fv(this.location,!1,_e);break}}},_e.UnwrappedTileID=mm,_e.ValidationError=Ad,_e.VectorTileWorkerSource=class extends Ca{constructor(_e,be,Te,Pe,pt){super(),this.actor=_e,this.layerIndex=be,this.availableImages=Te,this.loadVectorData=pt||Nd,this.loading={},this.loaded={},this.deduped=new P_(_e.scheduler),this.isSpriteLoaded=Pe,this.scheduler=_e.scheduler}loadTile(_e,be){const Te=_e.uid,Pe=_e&&_e.request,pt=Pe&&Pe.collectResourceTiming,vt=this.loading[Te]=new k_(_e);vt.abort=this.loadVectorData(_e,((xt,Tt)=>{const It=!this.loading[Te];if(delete this.loading[Te],It||xt||!Tt)return vt.status="done",It||(this.loaded[Te]=vt),be(xt);const Mt=Tt.rawData,Lt={};Tt.expires&&(Lt.expires=Tt.expires),Tt.cacheControl&&(Lt.cacheControl=Tt.cacheControl),vt.vectorTile=Tt.vectorTile||new lm.VectorTile(new jm(Mt));const h=()=>{vt.parse(vt.vectorTile,this.layerIndex,this.availableImages,this.actor,((_e,Te)=>{if(_e||!Te)return be(_e);const vt={};if(pt){const _e=$(Pe);_e.length>0&&(vt.resourceTiming=JSON.parse(JSON.stringify(_e)))}be(null,v({rawTileData:Mt.slice(0)},Te,Lt,vt))}))};this.isSpriteLoaded?h():this.once("isSpriteLoaded",(()=>{this.scheduler?this.scheduler.add(h,{type:"parseTile",isSymbolTile:_e.isSymbolTile,zoom:_e.tileZoom}):h()})),this.loaded=this.loaded||{},this.loaded[Te]=vt}))}reloadTile(_e,be){const Te=this.loaded,Pe=_e.uid,pt=this;if(Te&&Te[Pe]){const vt=Te[Pe];vt.showCollisionBoxes=_e.showCollisionBoxes,vt.enableTerrain=!!_e.enableTerrain,vt.projection=_e.projection,vt.tileTransform=uf(_e.tileID.canonical,_e.projection);const a=(_e,Te)=>{const Pe=vt.reloadCallback;Pe&&(delete vt.reloadCallback,vt.parse(vt.vectorTile,pt.layerIndex,this.availableImages,pt.actor,Pe)),be(_e,Te)};"parsing"===vt.status?vt.reloadCallback=a:"done"===vt.status&&(vt.vectorTile?vt.parse(vt.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}}abortTile(_e,be){const Te=_e.uid,Pe=this.loading[Te];Pe&&(Pe.abort&&Pe.abort(),delete this.loading[Te]),be()}removeTile(_e,be){const Te=this.loaded,Pe=_e.uid;Te&&Te[Pe]&&delete Te[Pe],be()}},_e.WritingMode=qm,_e.ZoomHistory=Fd,_e.add=Il,_e.addDynamicAttributes=Vf,_e.adjoint=function(_e,be){var Te=be[0],Pe=be[1],pt=be[2],vt=be[3],xt=be[4],Tt=be[5],It=be[6],Mt=be[7],Lt=be[8];return _e[0]=xt*Lt-Tt*Mt,_e[1]=pt*Mt-Pe*Lt,_e[2]=Pe*Tt-pt*xt,_e[3]=Tt*It-vt*Lt,_e[4]=Te*Lt-pt*It,_e[5]=pt*vt-Te*Tt,_e[6]=vt*Mt-xt*It,_e[7]=Pe*It-Te*Mt,_e[8]=Te*xt-Pe*vt,_e},_e.asyncAll=g,_e.bezier=p,_e.bindAll=k,_e.boundsAttributes=u_,_e.bufferConvexPolygon=function(_e,be){const Te=[];for(let Pe=0;Pe<_e.length;Pe++){const pt=m(Pe-1,-1,_e.length-1),vt=m(Pe+1,-1,_e.length-1),xt=_e[Pe],Tt=_e[vt],It=_e[pt].sub(xt).unit(),Mt=Tt.sub(xt).unit(),Lt=Mt.angleWithSep(It.x,It.y),Ft=It.add(Mt).unit().mult(-1*be/Math.sin(Lt/2));Te.push(xt.add(Ft))}return Te},_e.cacheEntryPossiblyAdded=function(_e){ga++,ga>ua&&(_e.getActor().send("enforceCacheSizeLimit",la),ga=0)},_e.calculateGlobeLabelMatrix=function(_e,be){const{x:Te,y:Pe}=_e.point,pt=ef(Te,Pe,_e.worldSize/_e._projectionScaler,0,0);return yl(pt,pt,tf(Zp(be)))},_e.calculateGlobeMatrix=function(_e){const{x:be,y:Te}=_e.point,{lng:Pe,lat:pt}=_e._center;return ef(be,Te,_e.worldSize,Pe,pt)},_e.calculateGlobeMercatorMatrix=function(_e){const be=_e.worldSize,Te=_e.point,Pe=To(1,_e.center.lat)*be,pt=_e.pixelsPerMeter,vt=be/(Pe/_e.pixelsPerMeter),xt=dl(new Float64Array(16));return ml(xt,xt,[Te.x,Te.y,0]),gl(xt,xt,[vt,vt,pt]),Float32Array.from(xt)},_e.circumferenceAtLatitude=Io,_e.clamp=d,_e.clearTileCache=function(_e){const Te=[];for(const _e in ca)Te.push(be.caches.delete(_e)),delete ca[_e];_e&&Promise.all(Te).catch(_e).then((()=>_e()))},_e.clipLine=ip,_e.clone=function(_e){var be=new cf(16);return be[0]=_e[0],be[1]=_e[1],be[2]=_e[2],be[3]=_e[3],be[4]=_e[4],be[5]=_e[5],be[6]=_e[6],be[7]=_e[7],be[8]=_e[8],be[9]=_e[9],be[10]=_e[10],be[11]=_e[11],be[12]=_e[12],be[13]=_e[13],be[14]=_e[14],be[15]=_e[15],be},_e.clone$1=T,_e.collisionCircleLayout=Lm,_e.config=Yt,_e.conjugate=function(_e,be){return _e[0]=-be[0],_e[1]=-be[1],_e[2]=-be[2],_e[3]=be[3],_e},_e.create=function(){var _e=new cf(16);return cf!=Float32Array&&(_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0),_e[0]=1,_e[5]=1,_e[10]=1,_e[15]=1,_e},_e.create$1=fl,_e.createExpression=Vn,_e.createLayout=Hs,_e.createStyleLayer=function(_e){return"custom"===_e.type?new $y(_e):new Ky[_e.type](_e)},_e.cross=Vl,_e.degToRad=l,_e.distance=function(_e,be){return Math.hypot(be[0]-_e[0],be[1]-_e[1],be[2]-_e[2])},_e.div=function(_e,be,Te){return _e[0]=be[0]/Te[0],_e[1]=be[1]/Te[1],_e[2]=be[2]/Te[2],_e},_e.dot=Dl,_e.ease=Tt,_e.easeCubicInOut=h,_e.emitValidationErrors=Mi,_e.endsWith=I,_e.enforceCacheSizeLimit=function(_e){for(const be in ca)At(be),ca[be].then((be=>{be.keys().then((Te=>{for(let Pe=0;Pe<Te.length-_e;Pe++)be.delete(Te[Pe])}))}))},_e.evaluateSizeForFeature=Qc,_e.evaluateSizeForZoom=th,_e.evaluateVariableOffset=Ap,_e.evented=$d,_e.exactEquals=function(_e,be){return _e[0]===be[0]&&_e[1]===be[1]&&_e[2]===be[2]&&_e[3]===be[3]},_e.exactEquals$1=function(_e,be){return _e[0]===be[0]&&_e[1]===be[1]&&_e[2]===be[2]},_e.exported=Kt,_e.exported$1=Qt,_e.extend=v,_e.extend$1=Gt,_e.fillExtrusionHeightLift=bc,_e.filterObject=z,_e.fromMat4=function(_e,be){return _e[0]=be[0],_e[1]=be[1],_e[2]=be[2],_e[3]=be[4],_e[4]=be[5],_e[5]=be[6],_e[6]=be[8],_e[7]=be[9],_e[8]=be[10],_e},_e.fromQuat=function(_e,be){var Te=be[0],Pe=be[1],pt=be[2],vt=be[3],xt=Te+Te,Tt=Pe+Pe,It=pt+pt,Mt=Te*xt,Lt=Pe*xt,Ft=Pe*Tt,Ot=pt*xt,Vt=pt*Tt,qt=pt*It,Wt=vt*xt,$t=vt*Tt,Kt=vt*It;return _e[0]=1-Ft-qt,_e[1]=Lt+Kt,_e[2]=Ot-$t,_e[3]=0,_e[4]=Lt-Kt,_e[5]=1-Mt-qt,_e[6]=Vt+Wt,_e[7]=0,_e[8]=Ot+$t,_e[9]=Vt-Wt,_e[10]=1-Mt-Ft,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e},_e.fromRotation=function(_e,be){var Te=Math.sin(be),Pe=Math.cos(be);return _e[0]=Pe,_e[1]=Te,_e[2]=0,_e[3]=-Te,_e[4]=Pe,_e[5]=0,_e[6]=0,_e[7]=0,_e[8]=1,_e},_e.fromScaling=function(_e,be){return _e[0]=be[0],_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=be[1],_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[10]=be[2],_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e},_e.furthestTileCorner=function(_e){const be=Math.round((_e+45+360)%360/90)%4;return xt[be]},_e.getAABBPointSquareDist=function(_e,be,Te){let Pe=0;for(let pt=0;pt<2;++pt){const vt=Te?Te[pt]:0;_e[pt]>vt&&(Pe+=(_e[pt]-vt)*(_e[pt]-vt)),be[pt]<vt&&(Pe+=(vt-be[pt])*(vt-be[pt]))}return Pe},_e.getAnchorAlignment=Zh,_e.getAnchorJustification=kp,_e.getBounds=function(_e){let be=1/0,Te=1/0,pt=-1/0,vt=-1/0;for(const Pe of _e)be=Math.min(be,Pe.x),Te=Math.min(Te,Pe.y),pt=Math.max(pt,Pe.x),vt=Math.max(vt,Pe.y);return{min:new Pe(be,Te),max:new Pe(pt,vt)}},_e.getColumn=j,_e.getGridMatrix=function(_e,be,Te){const[Pe,pt]=be,vt=.015625;return[0,(pt[1]-Pe[1])*vt,1<<_e.z,(pt[0]-Pe[0])/uy[Te],0,_e.y,Pe[0],Pe[1],vt]},_e.getImage=Rt,_e.getJSON=function(_e,be){return Bt(v(_e,{type:"json"}),be)},_e.getLatitudinalLod=function(_e){const be=80.051129;_e=d(_e,-80.051129,be)/be*90;const Te=Math.pow(Math.abs(Math.sin(l(_e))),3);return Math.round(Te*(uy.length-1))},_e.getMapSessionAPI=ra,_e.getPerformanceMeasurement=$,_e.getProjection=Bf,_e.getRTLTextPluginStatus=Ms,_e.getReferrer=_a,_e.getTilePoint=function(_e,{x:be,y:Te},pt=0){return new Pe(((be-pt)*_e.scale-_e.x)*Pg,(Te*_e.scale-_e.y)*Pg)},_e.getTileVec3=function(_e,be,Te=0){return kl(((be.x-Te)*_e.scale-_e.x)*Pg,(be.y*_e.scale-_e.y)*Pg,Co(be.z,be.y))},_e.getVideo=function(_e,Te){const Pe=be.document.createElement("video");Pe.muted=!0,Pe.onloadstart=function(){Te(null,Pe)};for(let Te=0;Te<_e.length;Te++){const pt=be.document.createElement("source");Dt(_e[Te])||(Pe.crossOrigin="Anonymous"),pt.src=_e[Te],Pe.appendChild(pt)}return{cancel:()=>{}}},_e.globeCenterToScreenPoint=function(_e){const be=[0,0,0],Te=dl(new Float64Array(16));return yl(Te,_e.pixelMatrix,_e.globeMatrix),Fl(be,be,Te),new Pe(be[0],be[1])},_e.globeECEFOrigin=function(_e,be){const Te=[0,0,0];return Fl(Te,Te,Qp(Zp(be.canonical))),Fl(Te,Te,_e),Te},_e.globeNormalizeECEF=Qp,_e.globePixelsToTileUnits=function(_e,be){return Pg/(512*Math.pow(2,_e))*Jp(Zp(be))},_e.globePoleMatrixForTile=function(_e,be,Te){const Pe=dl(new Float64Array(16)),pt=1<<_e,vt=360*(be/pt-.5),xt=Te.point,Tt=Te.worldSize/(Te.tileSize*pt);return ml(Pe,Pe,[xt.x,xt.y,-Te.worldSize/Math.PI/2]),gl(Pe,Pe,[Tt,Tt,Tt]),xl(Pe,Pe,l(-Te._center.lat)),vl(Pe,Pe,l(-Te._center.lng+vt)),Float32Array.from(Pe)},_e.globeTileBounds=Zp,_e.globeTileLatLngCorners=Kp,_e.globeTiltAtLngLat=nf,_e.globeToMercatorTransition=rf,_e.globeUseCustomAntiAliasing=function(_e,be,Te){const Pe=rf(Te.zoom),pt=_e.style.map._antialias,vt=!!be.extStandardDerivatives,xt=be.extStandardDerivativesForceOff||_e.terrain&&_e.terrain.exaggeration()>0;return 0===Pe&&!pt&&!xt&&vt},_e.identity=dl,_e.identity$1=Gl,_e.invert=function(_e,be){var Te=be[0],Pe=be[1],pt=be[2],vt=be[3],xt=be[4],Tt=be[5],It=be[6],Mt=be[7],Lt=be[8],Ft=be[9],Ot=be[10],Vt=be[11],qt=be[12],Wt=be[13],$t=be[14],Kt=be[15],Jt=Te*Tt-Pe*xt,Yt=Te*It-pt*xt,Qt=Te*Mt-vt*xt,an=Pe*It-pt*Tt,cn=Pe*Mt-vt*Tt,hn=pt*Mt-vt*It,pn=Lt*Wt-Ft*qt,xn=Lt*$t-Ot*qt,Pn=Lt*Kt-Vt*qt,Ln=Ft*$t-Ot*Wt,Fn=Ft*Kt-Vt*Wt,jn=Ot*Kt-Vt*$t,$n=Jt*jn-Yt*Fn+Qt*Ln+an*Pn-cn*xn+hn*pn;return $n?(_e[0]=(Tt*jn-It*Fn+Mt*Ln)*($n=1/$n),_e[1]=(pt*Fn-Pe*jn-vt*Ln)*$n,_e[2]=(Wt*hn-$t*cn+Kt*an)*$n,_e[3]=(Ot*cn-Ft*hn-Vt*an)*$n,_e[4]=(It*Pn-xt*jn-Mt*xn)*$n,_e[5]=(Te*jn-pt*Pn+vt*xn)*$n,_e[6]=($t*Qt-qt*hn-Kt*Yt)*$n,_e[7]=(Lt*hn-Ot*Qt+Vt*Yt)*$n,_e[8]=(xt*Fn-Tt*Pn+Mt*pn)*$n,_e[9]=(Pe*Pn-Te*Fn-vt*pn)*$n,_e[10]=(qt*cn-Wt*Qt+Kt*Jt)*$n,_e[11]=(Ft*Qt-Lt*cn-Vt*Jt)*$n,_e[12]=(Tt*xn-xt*Ln-It*pn)*$n,_e[13]=(Te*Ln-Pe*xn+pt*pn)*$n,_e[14]=(Wt*Yt-qt*an-$t*Jt)*$n,_e[15]=(Lt*an-Ft*Yt+Ot*Jt)*$n,_e):null},_e.isLngLatBehindGlobe=function(_e,be){return nf(_e,be)>Math.PI/2*1.01},_e.isMapAuthenticated=function(_e){return ia.has(_e)},_e.isMapboxURL=it,_e.isSafariWithAntialiasingBug=function(_e){const be=_e.navigator?_e.navigator.userAgent:null;return!!L(_e)&&be&&(be.match("Version/15.4")||be.match("Version/15.5")||be.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},_e.latFromMercatorY=Eo,_e.len=Rf,_e.length=Sl,_e.length$1=function(_e){return Math.hypot(_e[0],_e[1],_e[2],_e[3])},_e.loadVectorTile=Nd,_e.makeRequest=Bt,_e.mapValue=function(_e,be,Te,Pe,pt){return d((_e-be)/(Te-be)*(pt-Pe)+Pe,Pe,pt)},_e.mercatorXfromLng=Mo,_e.mercatorYfromLat=zo,_e.mercatorZfromAltitude=To,_e.mul=hf,_e.mul$1=yf,_e.multiply=yl,_e.multiply$1=function(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2],xt=be[3],Tt=be[4],It=be[5],Mt=be[6],Lt=be[7],Ft=be[8],Ot=Te[0],Vt=Te[1],qt=Te[2],Wt=Te[3],$t=Te[4],Kt=Te[5],Jt=Te[6],Yt=Te[7],Qt=Te[8];return _e[0]=Ot*Pe+Vt*xt+qt*Mt,_e[1]=Ot*pt+Vt*Tt+qt*Lt,_e[2]=Ot*vt+Vt*It+qt*Ft,_e[3]=Wt*Pe+$t*xt+Kt*Mt,_e[4]=Wt*pt+$t*Tt+Kt*Lt,_e[5]=Wt*vt+$t*It+Kt*Ft,_e[6]=Jt*Pe+Yt*xt+Qt*Mt,_e[7]=Jt*pt+Yt*Tt+Qt*Lt,_e[8]=Jt*vt+Yt*It+Qt*Ft,_e},_e.multiply$2=zl,_e.nextPowerOfTwo=A,_e.normalize=Pl,_e.normalize$1=function(_e,be){var Te=be[0],Pe=be[1],pt=be[2],vt=be[3],xt=Te*Te+Pe*Pe+pt*pt+vt*vt;return xt>0&&(xt=1/Math.sqrt(xt)),_e[0]=Te*xt,_e[1]=Pe*xt,_e[2]=pt*xt,_e[3]=vt*xt,_e},_e.number=gr,_e.ortho=function(_e,be,Te,Pe,pt,vt,xt){var Tt=1/(be-Te),It=1/(Pe-pt),Mt=1/(vt-xt);return _e[0]=-2*Tt,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=-2*It,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[10]=2*Mt,_e[11]=0,_e[12]=(be+Te)*Tt,_e[13]=(pt+Pe)*It,_e[14]=(xt+vt)*Mt,_e[15]=1,_e},_e.pbf=jm,_e.perspective=function(_e,be,Te,Pe,pt){var vt,xt=1/Math.tan(be/2);return _e[0]=xt/Te,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=xt,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[11]=-1,_e[12]=0,_e[13]=0,_e[15]=0,null!=pt&&pt!==1/0?(_e[10]=(pt+Pe)*(vt=1/(Pe-pt)),_e[14]=2*pt*Pe*vt):(_e[10]=-1,_e[14]=-2*Pe),_e},_e.pick=function(_e,be){const Te={};for(let Pe=0;Pe<be.length;Pe++){const pt=be[Pe];pt in _e&&(Te[pt]=_e[pt])}return Te},_e.plugin=Xd,_e.pointGeometry=Pe,_e.polygonContainsPoint=rl,_e.polygonIntersectsBox=nl,_e.polygonIntersectsPolygon=Xo,_e.polygonizeBounds=function(_e,be,Te=0,pt=!0){const vt=new Pe(Te,Te),xt=_e.sub(vt),Tt=be.add(vt),It=[xt,new Pe(Tt.x,xt.y),Tt,new Pe(xt.x,Tt.y)];return pt&&It.push(xt.clone()),It},_e.posAttributes=sy,_e.postMapLoadEvent=na,_e.postTurnstileEvent=$n,_e.potpack=Eh,_e.prevPowerOfTwo=function(_e){return _e<=1?1:Math.pow(2,Math.floor(Math.log(_e)/Math.LN2))},_e.radToDeg=u,_e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],_e.registerForPluginStateChange=function(_e){return _e({pluginStatus:Wd,pluginURL:Hd}),$d.on("pluginStateChange",_e),_e},_e.removeAuthState=function(_e){ia.delete(_e)},_e.renderColorRamp=cu,_e.resample=Fo,_e.rotateX=xl,_e.rotateX$1=Zl,_e.rotateY=vl,_e.rotateY$1=Xl,_e.rotateZ=function(_e,be,Te){var Pe=Math.sin(Te),pt=Math.cos(Te),vt=be[0],xt=be[1],Tt=be[2],It=be[3],Mt=be[4],Lt=be[5],Ft=be[6],Ot=be[7];return be!==_e&&(_e[8]=be[8],_e[9]=be[9],_e[10]=be[10],_e[11]=be[11],_e[12]=be[12],_e[13]=be[13],_e[14]=be[14],_e[15]=be[15]),_e[0]=vt*pt+Mt*Pe,_e[1]=xt*pt+Lt*Pe,_e[2]=Tt*pt+Ft*Pe,_e[3]=It*pt+Ot*Pe,_e[4]=Mt*pt-vt*Pe,_e[5]=Lt*pt-xt*Pe,_e[6]=Ft*pt-Tt*Pe,_e[7]=Ot*pt-It*Pe,_e},_e.rotateZ$1=function(_e,be,Te){Te*=.5;var Pe=be[0],pt=be[1],vt=be[2],xt=be[3],Tt=Math.sin(Te),It=Math.cos(Te);return _e[0]=Pe*It+pt*Tt,_e[1]=pt*It-Pe*Tt,_e[2]=vt*It+xt*Tt,_e[3]=xt*It-vt*Tt,_e},_e.scale=gl,_e.scale$1=Ol,_e.scale$2=El,_e.scaleAndAdd=Cl,_e.setCacheLimits=function(_e,be){la=_e,ua=be},_e.setColumn=function(_e,be,Te){_e[4*be+0]=Te[0],_e[4*be+1]=Te[1],_e[4*be+2]=Te[2],_e[4*be+3]=Te[3]},_e.setRTLTextPlugin=function(_e,be,Te=!1){if(Wd===Bd||Wd===Ud||Wd===Gd)throw new Error("setRTLTextPlugin cannot be called multiple times.");Hd=Kt.resolveURL(_e),Wd=Bd,Zd=be,ks(),Te||zs()},_e.smoothstep=y,_e.spec=Aa,_e.storeAuthState=function(_e,be){be?ia.add(_e):ia.delete(_e)},_e.sub=mf,_e.subtract=Ml,_e.symbolSize=Om,_e.tileAABB=function(_e,be,Te,Pe,pt,vt,xt,Tt,It){if("globe"===It.name)return Xp(_e,be,new fm(Te,Pe,pt));const Mt=uf({z:Te,x:Pe,y:pt},It);return new Cf([(vt+Mt.x/Mt.scale)*be,be*(Mt.y/Mt.scale),xt],[(vt+Mt.x2/Mt.scale)*be,be*(Mt.y2/Mt.scale),Tt])},_e.tileTransform=uf,_e.transformMat3=function(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2];return _e[0]=Pe*Te[0]+pt*Te[3]+vt*Te[6],_e[1]=Pe*Te[1]+pt*Te[4]+vt*Te[7],_e[2]=Pe*Te[2]+pt*Te[5]+vt*Te[8],_e},_e.transformMat4=Fl,_e.transformMat4$1=ql,_e.transformQuat=Ll,_e.translate=ml,_e.transpose=function(_e,be){if(_e===be){var Te=be[1],Pe=be[2],pt=be[5];_e[1]=be[3],_e[2]=be[6],_e[3]=Te,_e[5]=be[7],_e[6]=Pe,_e[7]=pt}else _e[0]=be[0],_e[1]=be[3],_e[2]=be[6],_e[3]=be[1],_e[4]=be[4],_e[5]=be[7],_e[6]=be[2],_e[7]=be[5],_e[8]=be[8];return _e},_e.triggerPluginCompletionEvent=Ss,_e.uniqueId=_,_e.updateGlobeVertexNormal=function(_e,be,Te,Pe,pt){const vt=5*be+2;_e.float32[vt+0]=Te,_e.float32[vt+1]=Pe,_e.float32[vt+2]=pt},_e.validateCustomStyleLayer=function(_e){const be=[],Te=_e.id;return void 0===Te&&be.push({message:`layers.${Te}: missing required property "id"`}),void 0===_e.render&&be.push({message:`layers.${Te}: missing required method "render"`}),_e.renderingMode&&"2d"!==_e.renderingMode&&"3d"!==_e.renderingMode&&be.push({message:`layers.${Te}: property "renderingMode" must be either "2d" or "3d"`}),be},_e.validateFilter=_e=>Ii(li(_e)),_e.validateFog=_e=>Ii(vi(_e)),_e.validateLayer=_e=>Ii(fi(_e)),_e.validateLight=_e=>Ii(gi(_e)),_e.validateSource=_e=>Ii(mi(_e)),_e.validateStyle=Ai,_e.validateTerrain=_e=>Ii(xi(_e)),_e.values=x,_e.vectorTile=lm,_e.version=Ot,_e.warnOnce=E,_e.window=be,_e.wrap=m})),define(["./shared"],(function(_e){function t(_e){if("number"==typeof _e||"boolean"==typeof _e||"string"==typeof _e||null==_e)return JSON.stringify(_e);if(Array.isArray(_e)){let be="[";for(const Te of _e)be+=`${t(Te)},`;return`${be}]`}let be="{";for(const Te of Object.keys(_e).sort())be+=`${Te}:${t(_e[Te])},`;return`${be}}`}function r(be){let Te="";for(const Pe of _e.refProperties)Te+=`/${t(be[Pe])}`;return Te}class be{constructor(_e){this.keyCache={},_e&&this.replace(_e)}replace(_e){this._layerConfigs={},this._layers={},this.update(_e,[])}update(be,Te){for(const Te of be)this._layerConfigs[Te.id]=Te,(this._layers[Te.id]=_e.createStyleLayer(Te)).compileFilter(),this.keyCache[Te.id]&&delete this.keyCache[Te.id];for(const _e of Te)delete this.keyCache[_e],delete this._layerConfigs[_e],delete this._layers[_e];this.familiesBySource={};const Pe=function(_e,be){const Te={};for(let Pe=0;Pe<_e.length;Pe++){const pt=be&&be[_e[Pe].id]||r(_e[Pe]);be&&(be[_e[Pe].id]=pt);let vt=Te[pt];vt||(vt=Te[pt]=[]),vt.push(_e[Pe])}const Pe=[];for(const _e in Te)Pe.push(Te[_e]);return Pe}(_e.values(this._layerConfigs),this.keyCache);for(const _e of Pe){const be=_e.map((_e=>this._layers[_e.id])),Te=be[0];if("none"===Te.visibility)continue;const Pe=Te.source||"";let pt=this.familiesBySource[Pe];pt||(pt=this.familiesBySource[Pe]={});const vt=Te.sourceLayer||"_geojsonTileLayer";let xt=pt[vt];xt||(xt=pt[vt]=[]),xt.push(be)}}}class Te{loadTile(be,Te){const{uid:Pe,encoding:pt,rawImageData:vt,padding:xt,buildQuadTree:Tt}=be,It=_e.window.ImageBitmap&&vt instanceof _e.window.ImageBitmap?this.getImageData(vt,xt):vt;Te(null,new _e.DEMData(Pe,It,pt,xt<1,Tt))}getImageData(_e,be){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(_e.width,_e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=_e.width,this.offscreenCanvas.height=_e.height,this.offscreenCanvasContext.drawImage(_e,0,0,_e.width,_e.height);const Te=this.offscreenCanvasContext.getImageData(-be,-be,_e.width+2*be,_e.height+2*be);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Te}}var Pe=function e(_e,be){var Te,Pe=_e&&_e.type;if("FeatureCollection"===Pe)for(Te=0;Te<_e.features.length;Te++)e(_e.features[Te],be);else if("GeometryCollection"===Pe)for(Te=0;Te<_e.geometries.length;Te++)e(_e.geometries[Te],be);else if("Feature"===Pe)e(_e.geometry,be);else if("Polygon"===Pe)s(_e.coordinates,be);else if("MultiPolygon"===Pe)for(Te=0;Te<_e.coordinates.length;Te++)s(_e.coordinates[Te],be);return _e};function s(_e,be){if(0!==_e.length){a(_e[0],be);for(var Te=1;Te<_e.length;Te++)a(_e[Te],!be)}}function a(_e,be){for(var Te=0,Pe=0,pt=0,vt=_e.length,xt=vt-1;pt<vt;xt=pt++){var Tt=(_e[pt][0]-_e[xt][0])*(_e[xt][1]+_e[pt][1]),It=Te+Tt;Pe+=Math.abs(Te)>=Math.abs(Tt)?Te-It+Tt:Tt-It+Te,Te=It}Te+Pe>=0!=!!be&&_e.reverse()}const pt=_e.vectorTile.VectorTileFeature.prototype.toGeoJSON;class vt{constructor(be){this._feature=be,this.extent=_e.EXTENT,this.type=be.type,this.properties=be.tags,"id"in be&&!isNaN(be.id)&&(this.id=parseInt(be.id,10))}loadGeometry(){if(1===this._feature.type){const be=[];for(const Te of this._feature.geometry)be.push([new _e.pointGeometry(Te[0],Te[1])]);return be}{const be=[];for(const Te of this._feature.geometry){const Pe=[];for(const be of Te)Pe.push(new _e.pointGeometry(be[0],be[1]));be.push(Pe)}return be}}toGeoJSON(_e,be,Te){return pt.call(this,_e,be,Te)}}class xt{constructor(be){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=_e.EXTENT,this.length=be.length,this._features=be}feature(_e){return new vt(this._features[_e])}}var Tt=_e.vectorTile.VectorTileFeature,It=p;function p(_e,be){this.options=be||{},this.features=_e,this.length=_e.length}function g(_e,be){this.id="number"==typeof _e.id?_e.id:void 0,this.type=_e.type,this.rawGeometry=1===_e.type?[_e.geometry]:_e.geometry,this.properties=_e.tags,this.extent=be||4096}p.prototype.feature=function(_e){return new g(this.features[_e],this.options.extent)},g.prototype.loadGeometry=function(){var be=this.rawGeometry;this.geometry=[];for(var Te=0;Te<be.length;Te++){for(var Pe=be[Te],pt=[],vt=0;vt<Pe.length;vt++)pt.push(new _e.pointGeometry(Pe[vt][0],Pe[vt][1]));this.geometry.push(pt)}return this.geometry},g.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var _e=this.geometry,be=1/0,Te=-1/0,Pe=1/0,pt=-1/0,vt=0;vt<_e.length;vt++)for(var xt=_e[vt],Tt=0;Tt<xt.length;Tt++){var It=xt[Tt];be=Math.min(be,It.x),Te=Math.max(Te,It.x),Pe=Math.min(Pe,It.y),pt=Math.max(pt,It.y)}return[be,Pe,Te,pt]},g.prototype.toGeoJSON=Tt.prototype.toGeoJSON;var Mt=y,Lt=It;function y(be){var Te=new _e.pbf;return function(_e,be){for(var Te in _e.layers)be.writeMessage(3,v,_e.layers[Te])}(be,Te),Te.finish()}function v(_e,be){var Te;be.writeVarintField(15,_e.version||1),be.writeStringField(1,_e.name||""),be.writeVarintField(5,_e.extent||4096);var Pe={keys:[],values:[],keycache:{},valuecache:{}};for(Te=0;Te<_e.length;Te++)Pe.feature=_e.feature(Te),be.writeMessage(2,x,Pe);var pt=Pe.keys;for(Te=0;Te<pt.length;Te++)be.writeStringField(3,pt[Te]);var vt=Pe.values;for(Te=0;Te<vt.length;Te++)be.writeMessage(4,b,vt[Te])}function x(_e,be){var Te=_e.feature;void 0!==Te.id&&be.writeVarintField(1,Te.id),be.writeMessage(2,w,_e),be.writeVarintField(3,Te.type),be.writeMessage(4,P,Te)}function w(_e,be){var Te=_e.feature,Pe=_e.keys,pt=_e.values,vt=_e.keycache,xt=_e.valuecache;for(var Tt in Te.properties){var It=Te.properties[Tt],Mt=vt[Tt];if(null!==It){void 0===Mt&&(Pe.push(Tt),vt[Tt]=Mt=Pe.length-1),be.writeVarint(Mt);var Lt=typeof It;"string"!==Lt&&"boolean"!==Lt&&"number"!==Lt&&(It=JSON.stringify(It));var Ft=Lt+":"+It,Ot=xt[Ft];void 0===Ot&&(pt.push(It),xt[Ft]=Ot=pt.length-1),be.writeVarint(Ot)}}}function S(_e,be){return(be<<3)+(7&_e)}function M(_e){return _e<<1^_e>>31}function P(_e,be){for(var Te=_e.loadGeometry(),Pe=_e.type,pt=0,vt=0,xt=Te.length,Tt=0;Tt<xt;Tt++){var It=Te[Tt],Mt=1;1===Pe&&(Mt=It.length),be.writeVarint(S(1,Mt));for(var Lt=3===Pe?It.length-1:It.length,Ft=0;Ft<Lt;Ft++){1===Ft&&1!==Pe&&be.writeVarint(S(2,Lt-1));var Ot=It[Ft].x-pt,Vt=It[Ft].y-vt;be.writeVarint(M(Ot)),be.writeVarint(M(Vt)),pt+=Ot,vt+=Vt}3===Pe&&be.writeVarint(S(7,1))}}function b(_e,be){var Te=typeof _e;"string"===Te?be.writeStringField(1,_e):"boolean"===Te?be.writeBooleanField(7,_e):"number"===Te&&(_e%1!=0?be.writeDoubleField(3,_e):_e<0?be.writeSVarintField(6,_e):be.writeVarintField(5,_e))}function T(_e,be,Te,Pe,pt,vt){if(pt-Pe<=Te)return;const xt=Pe+pt>>1;k(_e,be,xt,Pe,pt,vt%2),T(_e,be,Te,Pe,xt-1,vt+1),T(_e,be,Te,xt+1,pt,vt+1)}function k(_e,be,Te,Pe,pt,vt){for(;pt>Pe;){if(pt-Pe>600){const xt=pt-Pe+1,Tt=Te-Pe+1,It=Math.log(xt),Mt=.5*Math.exp(2*It/3),Lt=.5*Math.sqrt(It*Mt*(xt-Mt)/xt)*(Tt-xt/2<0?-1:1);k(_e,be,Te,Math.max(Pe,Math.floor(Te-Tt*Mt/xt+Lt)),Math.min(pt,Math.floor(Te+(xt-Tt)*Mt/xt+Lt)),vt)}const xt=be[2*Te+vt];let Tt=Pe,It=pt;for(I(_e,be,Pe,Te),be[2*pt+vt]>xt&&I(_e,be,Pe,pt);Tt<It;){for(I(_e,be,Tt,It),Tt++,It--;be[2*Tt+vt]<xt;)Tt++;for(;be[2*It+vt]>xt;)It--}be[2*Pe+vt]===xt?I(_e,be,Pe,It):(It++,I(_e,be,It,pt)),It<=Te&&(Pe=It+1),Te<=It&&(pt=It-1)}}function I(_e,be,Te,Pe){_(_e,Te,Pe),_(be,2*Te,2*Pe),_(be,2*Te+1,2*Pe+1)}function _(_e,be,Te){const Pe=_e[be];_e[be]=_e[Te],_e[Te]=Pe}function L(_e,be,Te,Pe){const pt=_e-Te,vt=be-Pe;return pt*pt+vt*vt}Mt.fromVectorTileJs=y,Mt.fromGeojsonVt=function(_e,be){be=be||{};var Te={};for(var Pe in _e)Te[Pe]=new It(_e[Pe].features,be),Te[Pe].name=Pe,Te[Pe].version=be.version,Te[Pe].extent=be.extent;return y({layers:Te})},Mt.GeoJSONWrapper=Lt;const C=_e=>_e[0],O=_e=>_e[1];class Ft{constructor(_e,be=C,Te=O,Pe=64,pt=Float64Array){this.nodeSize=Pe,this.points=_e;const vt=_e.length<65536?Uint16Array:Uint32Array,xt=this.ids=new vt(_e.length),Tt=this.coords=new pt(2*_e.length);for(let Pe=0;Pe<_e.length;Pe++)xt[Pe]=Pe,Tt[2*Pe]=be(_e[Pe]),Tt[2*Pe+1]=Te(_e[Pe]);T(xt,Tt,Pe,0,xt.length-1,0)}range(_e,be,Te,Pe){return function(_e,be,Te,Pe,pt,vt,xt){const Tt=[0,_e.length-1,0],It=[];let Mt,Lt;for(;Tt.length;){const Ft=Tt.pop(),Ot=Tt.pop(),Vt=Tt.pop();if(Ot-Vt<=xt){for(let xt=Vt;xt<=Ot;xt++)Mt=be[2*xt],Lt=be[2*xt+1],Mt>=Te&&Mt<=pt&&Lt>=Pe&&Lt<=vt&&It.push(_e[xt]);continue}const qt=Math.floor((Vt+Ot)/2);Mt=be[2*qt],Lt=be[2*qt+1],Mt>=Te&&Mt<=pt&&Lt>=Pe&&Lt<=vt&&It.push(_e[qt]);const Wt=(Ft+1)%2;(0===Ft?Te<=Mt:Pe<=Lt)&&(Tt.push(Vt),Tt.push(qt-1),Tt.push(Wt)),(0===Ft?pt>=Mt:vt>=Lt)&&(Tt.push(qt+1),Tt.push(Ot),Tt.push(Wt))}return It}(this.ids,this.coords,_e,be,Te,Pe,this.nodeSize)}within(_e,be,Te){return function(_e,be,Te,Pe,pt,vt){const xt=[0,_e.length-1,0],Tt=[],It=pt*pt;for(;xt.length;){const Mt=xt.pop(),Lt=xt.pop(),Ft=xt.pop();if(Lt-Ft<=vt){for(let pt=Ft;pt<=Lt;pt++)L(be[2*pt],be[2*pt+1],Te,Pe)<=It&&Tt.push(_e[pt]);continue}const Ot=Math.floor((Ft+Lt)/2),Vt=be[2*Ot],qt=be[2*Ot+1];L(Vt,qt,Te,Pe)<=It&&Tt.push(_e[Ot]);const Wt=(Mt+1)%2;(0===Mt?Te-pt<=Vt:Pe-pt<=qt)&&(xt.push(Ft),xt.push(Ot-1),xt.push(Wt)),(0===Mt?Te+pt>=Vt:Pe+pt>=qt)&&(xt.push(Ot+1),xt.push(Lt),xt.push(Wt))}return Tt}(this.ids,this.coords,_e,be,Te,this.nodeSize)}}const Ot={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:_e=>_e},Vt=Math.fround||(qt=new Float32Array(1),_e=>(qt[0]=+_e,qt[0]));var qt;class Wt{constructor(_e){this.options=A(Object.create(Ot),_e),this.trees=new Array(this.options.maxZoom+1)}load(_e){const{log:be,minZoom:Te,maxZoom:Pe,nodeSize:pt}=this.options;be&&console.time("total time");const vt=`prepare ${_e.length} points`;be&&console.time(vt),this.points=_e;let xt=[];for(let be=0;be<_e.length;be++)_e[be].geometry&&xt.push(G(_e[be],be));this.trees[Pe+1]=new Ft(xt,D,$,pt,Float32Array),be&&console.timeEnd(vt);for(let _e=Pe;_e>=Te;_e--){const Te=+Date.now();xt=this._cluster(xt,_e),this.trees[_e]=new Ft(xt,D,$,pt,Float32Array),be&&console.log("z%d: %d clusters in %dms",_e,xt.length,+Date.now()-Te)}return be&&console.timeEnd("total time"),this}getClusters(_e,be){let Te=((_e[0]+180)%360+360)%360-180;const Pe=Math.max(-90,Math.min(90,_e[1]));let pt=180===_e[2]?180:((_e[2]+180)%360+360)%360-180;const vt=Math.max(-90,Math.min(90,_e[3]));if(_e[2]-_e[0]>=360)Te=-180,pt=180;else if(Te>pt){const _e=this.getClusters([Te,Pe,180,vt],be),xt=this.getClusters([-180,Pe,pt,vt],be);return _e.concat(xt)}const xt=this.trees[this._limitZoom(be)],Tt=xt.range(Y(Te),X(vt),Y(pt),X(Pe)),It=[];for(const _e of Tt){const be=xt.points[_e];It.push(be.numPoints?J(be):this.points[be.index])}return It}getChildren(_e){const be=this._getOriginId(_e),Te=this._getOriginZoom(_e),Pe="No cluster with the specified id.",pt=this.trees[Te];if(!pt)throw new Error(Pe);const vt=pt.points[be];if(!vt)throw new Error(Pe);const xt=this.options.radius/(this.options.extent*Math.pow(2,Te-1)),Tt=pt.within(vt.x,vt.y,xt),It=[];for(const be of Tt){const Te=pt.points[be];Te.parentId===_e&&It.push(Te.numPoints?J(Te):this.points[Te.index])}if(0===It.length)throw new Error(Pe);return It}getLeaves(_e,be,Te){const Pe=[];return this._appendLeaves(Pe,_e,be=be||10,Te=Te||0,0),Pe}getTile(_e,be,Te){const Pe=this.trees[this._limitZoom(_e)],pt=Math.pow(2,_e),{extent:vt,radius:xt}=this.options,Tt=xt/vt,It=(Te-Tt)/pt,Mt=(Te+1+Tt)/pt,Lt={features:[]};return this._addTileFeatures(Pe.range((be-Tt)/pt,It,(be+1+Tt)/pt,Mt),Pe.points,be,Te,pt,Lt),0===be&&this._addTileFeatures(Pe.range(1-Tt/pt,It,1,Mt),Pe.points,pt,Te,pt,Lt),be===pt-1&&this._addTileFeatures(Pe.range(0,It,Tt/pt,Mt),Pe.points,-1,Te,pt,Lt),Lt.features.length?Lt:null}getClusterExpansionZoom(_e){let be=this._getOriginZoom(_e)-1;for(;be<=this.options.maxZoom;){const Te=this.getChildren(_e);if(be++,1!==Te.length)break;_e=Te[0].properties.cluster_id}return be}_appendLeaves(_e,be,Te,Pe,pt){const vt=this.getChildren(be);for(const be of vt){const vt=be.properties;if(vt&&vt.cluster?pt+vt.point_count<=Pe?pt+=vt.point_count:pt=this._appendLeaves(_e,vt.cluster_id,Te,Pe,pt):pt<Pe?pt++:_e.push(be),_e.length===Te)break}return pt}_addTileFeatures(_e,be,Te,Pe,pt,vt){for(const xt of _e){const _e=be[xt],Tt=_e.numPoints;let It,Mt,Lt;if(Tt)It=W(_e),Mt=_e.x,Lt=_e.y;else{const be=this.points[_e.index];It=be.properties,Mt=Y(be.geometry.coordinates[0]),Lt=X(be.geometry.coordinates[1])}const Ft={type:1,geometry:[[Math.round(this.options.extent*(Mt*pt-Te)),Math.round(this.options.extent*(Lt*pt-Pe))]],tags:It};let Ot;Tt?Ot=_e.id:this.options.generateId?Ot=_e.index:this.points[_e.index].id&&(Ot=this.points[_e.index].id),void 0!==Ot&&(Ft.id=Ot),vt.features.push(Ft)}}_limitZoom(_e){return Math.max(this.options.minZoom,Math.min(+_e,this.options.maxZoom+1))}_cluster(_e,be){const Te=[],{radius:Pe,extent:pt,reduce:vt,minPoints:xt}=this.options,Tt=Pe/(pt*Math.pow(2,be));for(let Pe=0;Pe<_e.length;Pe++){const pt=_e[Pe];if(pt.zoom<=be)continue;pt.zoom=be;const It=this.trees[be+1],Mt=It.within(pt.x,pt.y,Tt),Lt=pt.numPoints||1;let Ft=Lt;for(const _e of Mt){const Te=It.points[_e];Te.zoom>be&&(Ft+=Te.numPoints||1)}if(Ft>Lt&&Ft>=xt){let _e=pt.x*Lt,xt=pt.y*Lt,Tt=vt&&Lt>1?this._map(pt,!0):null;const Ot=(Pe<<5)+(be+1)+this.points.length;for(const Te of Mt){const Pe=It.points[Te];if(Pe.zoom<=be)continue;Pe.zoom=be;const Mt=Pe.numPoints||1;_e+=Pe.x*Mt,xt+=Pe.y*Mt,Pe.parentId=Ot,vt&&(Tt||(Tt=this._map(pt,!0)),vt(Tt,this._map(Pe)))}pt.parentId=Ot,Te.push(Z(_e/Ft,xt/Ft,Ot,Ft,Tt))}else if(Te.push(pt),Ft>1)for(const _e of Mt){const Pe=It.points[_e];Pe.zoom<=be||(Pe.zoom=be,Te.push(Pe))}}return Te}_getOriginId(_e){return _e-this.points.length>>5}_getOriginZoom(_e){return(_e-this.points.length)%32}_map(_e,be){if(_e.numPoints)return be?A({},_e.properties):_e.properties;const Te=this.points[_e.index].properties,Pe=this.options.map(Te);return be&&Pe===Te?A({},Pe):Pe}}function Z(_e,be,Te,Pe,pt){return{x:Vt(_e),y:Vt(be),zoom:1/0,id:Te,parentId:-1,numPoints:Pe,properties:pt}}function G(_e,be){const[Te,Pe]=_e.geometry.coordinates;return{x:Vt(Y(Te)),y:Vt(X(Pe)),zoom:1/0,index:be,parentId:-1}}function J(_e){return{type:"Feature",id:_e.id,properties:W(_e),geometry:{type:"Point",coordinates:[(be=_e.x,360*(be-.5)),V(_e.y)]}};var be}function W(_e){const be=_e.numPoints,Te=be>=1e4?`${Math.round(be/1e3)}k`:be>=1e3?Math.round(be/100)/10+"k":be;return A(A({},_e.properties),{cluster:!0,cluster_id:_e.id,point_count:be,point_count_abbreviated:Te})}function Y(_e){return _e/360+.5}function X(_e){const be=Math.sin(_e*Math.PI/180),Te=.5-.25*Math.log((1+be)/(1-be))/Math.PI;return Te<0?0:Te>1?1:Te}function V(_e){const be=(180-360*_e)*Math.PI/180;return 360*Math.atan(Math.exp(be))/Math.PI-90}function A(_e,be){for(const Te in be)_e[Te]=be[Te];return _e}function D(_e){return _e.x}function $(_e){return _e.y}function B(_e,be,Te,Pe){for(var pt,vt=Pe,xt=Te-be>>1,Tt=Te-be,It=_e[be],Mt=_e[be+1],Lt=_e[Te],Ft=_e[Te+1],Ot=be+3;Ot<Te;Ot+=3){var Vt=R(_e[Ot],_e[Ot+1],It,Mt,Lt,Ft);if(Vt>vt)pt=Ot,vt=Vt;else if(Vt===vt){var qt=Math.abs(Ot-xt);qt<Tt&&(pt=Ot,Tt=qt)}}vt>Pe&&(pt-be>3&&B(_e,be,pt,Pe),_e[pt+2]=vt,Te-pt>3&&B(_e,pt,Te,Pe))}function R(_e,be,Te,Pe,pt,vt){var xt=pt-Te,Tt=vt-Pe;if(0!==xt||0!==Tt){var It=((_e-Te)*xt+(be-Pe)*Tt)/(xt*xt+Tt*Tt);It>1?(Te=pt,Pe=vt):It>0&&(Te+=xt*It,Pe+=Tt*It)}return(xt=_e-Te)*xt+(Tt=be-Pe)*Tt}function q(_e,be,Te,Pe){var pt={id:void 0===_e?null:_e,type:be,geometry:Te,tags:Pe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(_e){var be=_e.geometry,Te=_e.type;if("Point"===Te||"MultiPoint"===Te||"LineString"===Te)U(_e,be);else if("Polygon"===Te||"MultiLineString"===Te)for(var Pe=0;Pe<be.length;Pe++)U(_e,be[Pe]);else if("MultiPolygon"===Te)for(Pe=0;Pe<be.length;Pe++)for(var pt=0;pt<be[Pe].length;pt++)U(_e,be[Pe][pt])}(pt),pt}function U(_e,be){for(var Te=0;Te<be.length;Te+=3)_e.minX=Math.min(_e.minX,be[Te]),_e.minY=Math.min(_e.minY,be[Te+1]),_e.maxX=Math.max(_e.maxX,be[Te]),_e.maxY=Math.max(_e.maxY,be[Te+1])}function Q(_e,be,Te,Pe){if(be.geometry){var pt=be.geometry.coordinates,vt=be.geometry.type,xt=Math.pow(Te.tolerance/((1<<Te.maxZoom)*Te.extent),2),Tt=[],It=be.id;if(Te.promoteId?It=be.properties[Te.promoteId]:Te.generateId&&(It=Pe||0),"Point"===vt)H(pt,Tt);else if("MultiPoint"===vt)for(var Mt=0;Mt<pt.length;Mt++)H(pt[Mt],Tt);else if("LineString"===vt)K(pt,Tt,xt,!1);else if("MultiLineString"===vt){if(Te.lineMetrics){for(Mt=0;Mt<pt.length;Mt++)K(pt[Mt],Tt=[],xt,!1),_e.push(q(It,"LineString",Tt,be.properties));return}ee(pt,Tt,xt,!1)}else if("Polygon"===vt)ee(pt,Tt,xt,!0);else{if("MultiPolygon"!==vt){if("GeometryCollection"===vt){for(Mt=0;Mt<be.geometry.geometries.length;Mt++)Q(_e,{id:It,geometry:be.geometry.geometries[Mt],properties:be.properties},Te,Pe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Mt=0;Mt<pt.length;Mt++){var Lt=[];ee(pt[Mt],Lt,xt,!0),Tt.push(Lt)}}_e.push(q(It,vt,Tt,be.properties))}}function H(_e,be){be.push(te(_e[0])),be.push(re(_e[1])),be.push(0)}function K(_e,be,Te,Pe){for(var pt,vt,xt=0,Tt=0;Tt<_e.length;Tt++){var It=te(_e[Tt][0]),Mt=re(_e[Tt][1]);be.push(It),be.push(Mt),be.push(0),Tt>0&&(xt+=Pe?(pt*Mt-It*vt)/2:Math.sqrt(Math.pow(It-pt,2)+Math.pow(Mt-vt,2))),pt=It,vt=Mt}var Lt=be.length-3;be[2]=1,B(be,0,Lt,Te),be[Lt+2]=1,be.size=Math.abs(xt),be.start=0,be.end=be.size}function ee(_e,be,Te,Pe){for(var pt=0;pt<_e.length;pt++){var vt=[];K(_e[pt],vt,Te,Pe),be.push(vt)}}function te(_e){return _e/360+.5}function re(_e){var be=Math.sin(_e*Math.PI/180),Te=.5-.25*Math.log((1+be)/(1-be))/Math.PI;return Te<0?0:Te>1?1:Te}function oe(_e,be,Te,Pe,pt,vt,xt,Tt){if(Pe/=be,vt>=(Te/=be)&&xt<Pe)return _e;if(xt<Te||vt>=Pe)return null;for(var It=[],Mt=0;Mt<_e.length;Mt++){var Lt=_e[Mt],Ft=Lt.geometry,Ot=Lt.type,Vt=0===pt?Lt.minX:Lt.minY,qt=0===pt?Lt.maxX:Lt.maxY;if(Vt>=Te&&qt<Pe)It.push(Lt);else if(!(qt<Te||Vt>=Pe)){var Wt=[];if("Point"===Ot||"MultiPoint"===Ot)ne(Ft,Wt,Te,Pe,pt);else if("LineString"===Ot)ie(Ft,Wt,Te,Pe,pt,!1,Tt.lineMetrics);else if("MultiLineString"===Ot)ae(Ft,Wt,Te,Pe,pt,!1);else if("Polygon"===Ot)ae(Ft,Wt,Te,Pe,pt,!0);else if("MultiPolygon"===Ot)for(var $t=0;$t<Ft.length;$t++){var Kt=[];ae(Ft[$t],Kt,Te,Pe,pt,!0),Kt.length&&Wt.push(Kt)}if(Wt.length){if(Tt.lineMetrics&&"LineString"===Ot){for($t=0;$t<Wt.length;$t++)It.push(q(Lt.id,Ot,Wt[$t],Lt.tags));continue}"LineString"!==Ot&&"MultiLineString"!==Ot||(1===Wt.length?(Ot="LineString",Wt=Wt[0]):Ot="MultiLineString"),"Point"!==Ot&&"MultiPoint"!==Ot||(Ot=3===Wt.length?"Point":"MultiPoint"),It.push(q(Lt.id,Ot,Wt,Lt.tags))}}}return It.length?It:null}function ne(_e,be,Te,Pe,pt){for(var vt=0;vt<_e.length;vt+=3){var xt=_e[vt+pt];xt>=Te&&xt<=Pe&&(be.push(_e[vt]),be.push(_e[vt+1]),be.push(_e[vt+2]))}}function ie(_e,be,Te,Pe,pt,vt,xt){for(var Tt,It,Mt=se(_e),Lt=0===pt?ue:he,Ft=_e.start,Ot=0;Ot<_e.length-3;Ot+=3){var Vt=_e[Ot],qt=_e[Ot+1],Wt=_e[Ot+2],$t=_e[Ot+3],Kt=_e[Ot+4],Jt=0===pt?Vt:qt,Yt=0===pt?$t:Kt,Qt=!1;xt&&(Tt=Math.sqrt(Math.pow(Vt-$t,2)+Math.pow(qt-Kt,2))),Jt<Te?Yt>Te&&(It=Lt(Mt,Vt,qt,$t,Kt,Te),xt&&(Mt.start=Ft+Tt*It)):Jt>Pe?Yt<Pe&&(It=Lt(Mt,Vt,qt,$t,Kt,Pe),xt&&(Mt.start=Ft+Tt*It)):le(Mt,Vt,qt,Wt),Yt<Te&&Jt>=Te&&(It=Lt(Mt,Vt,qt,$t,Kt,Te),Qt=!0),Yt>Pe&&Jt<=Pe&&(It=Lt(Mt,Vt,qt,$t,Kt,Pe),Qt=!0),!vt&&Qt&&(xt&&(Mt.end=Ft+Tt*It),be.push(Mt),Mt=se(_e)),xt&&(Ft+=Tt)}var an=_e.length-3;Vt=_e[an],qt=_e[an+1],Wt=_e[an+2],(Jt=0===pt?Vt:qt)>=Te&&Jt<=Pe&&le(Mt,Vt,qt,Wt),an=Mt.length-3,vt&&an>=3&&(Mt[an]!==Mt[0]||Mt[an+1]!==Mt[1])&&le(Mt,Mt[0],Mt[1],Mt[2]),Mt.length&&be.push(Mt)}function se(_e){var be=[];return be.size=_e.size,be.start=_e.start,be.end=_e.end,be}function ae(_e,be,Te,Pe,pt,vt){for(var xt=0;xt<_e.length;xt++)ie(_e[xt],be,Te,Pe,pt,vt,!1)}function le(_e,be,Te,Pe){_e.push(be),_e.push(Te),_e.push(Pe)}function ue(_e,be,Te,Pe,pt,vt){var xt=(vt-be)/(Pe-be);return _e.push(vt),_e.push(Te+(pt-Te)*xt),_e.push(1),xt}function he(_e,be,Te,Pe,pt,vt){var xt=(vt-Te)/(pt-Te);return _e.push(be+(Pe-be)*xt),_e.push(vt),_e.push(1),xt}function ce(_e,be){for(var Te=[],Pe=0;Pe<_e.length;Pe++){var pt,vt=_e[Pe],xt=vt.type;if("Point"===xt||"MultiPoint"===xt||"LineString"===xt)pt=fe(vt.geometry,be);else if("MultiLineString"===xt||"Polygon"===xt){pt=[];for(var Tt=0;Tt<vt.geometry.length;Tt++)pt.push(fe(vt.geometry[Tt],be))}else if("MultiPolygon"===xt)for(pt=[],Tt=0;Tt<vt.geometry.length;Tt++){for(var It=[],Mt=0;Mt<vt.geometry[Tt].length;Mt++)It.push(fe(vt.geometry[Tt][Mt],be));pt.push(It)}Te.push(q(vt.id,xt,pt,vt.tags))}return Te}function fe(_e,be){var Te=[];Te.size=_e.size,void 0!==_e.start&&(Te.start=_e.start,Te.end=_e.end);for(var Pe=0;Pe<_e.length;Pe+=3)Te.push(_e[Pe]+be,_e[Pe+1],_e[Pe+2]);return Te}function pe(_e,be){if(_e.transformed)return _e;var Te,Pe,pt,vt=1<<_e.z,xt=_e.x,Tt=_e.y;for(Te=0;Te<_e.features.length;Te++){var It=_e.features[Te],Mt=It.geometry,Lt=It.type;if(It.geometry=[],1===Lt)for(Pe=0;Pe<Mt.length;Pe+=2)It.geometry.push(ge(Mt[Pe],Mt[Pe+1],be,vt,xt,Tt));else for(Pe=0;Pe<Mt.length;Pe++){var Ft=[];for(pt=0;pt<Mt[Pe].length;pt+=2)Ft.push(ge(Mt[Pe][pt],Mt[Pe][pt+1],be,vt,xt,Tt));It.geometry.push(Ft)}}return _e.transformed=!0,_e}function ge(_e,be,Te,Pe,pt,vt){return[Math.round(Te*(_e*Pe-pt)),Math.round(Te*(be*Pe-vt))]}function de(_e,be,Te,Pe,pt){for(var vt=be===pt.maxZoom?0:pt.tolerance/((1<<be)*pt.extent),xt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Te,y:Pe,z:be,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Tt=0;Tt<_e.length;Tt++){xt.numFeatures++,me(xt,_e[Tt],vt,pt);var It=_e[Tt].minX,Mt=_e[Tt].minY,Lt=_e[Tt].maxX,Ft=_e[Tt].maxY;It<xt.minX&&(xt.minX=It),Mt<xt.minY&&(xt.minY=Mt),Lt>xt.maxX&&(xt.maxX=Lt),Ft>xt.maxY&&(xt.maxY=Ft)}return xt}function me(_e,be,Te,Pe){var pt=be.geometry,vt=be.type,xt=[];if("Point"===vt||"MultiPoint"===vt)for(var Tt=0;Tt<pt.length;Tt+=3)xt.push(pt[Tt]),xt.push(pt[Tt+1]),_e.numPoints++,_e.numSimplified++;else if("LineString"===vt)ye(xt,pt,_e,Te,!1,!1);else if("MultiLineString"===vt||"Polygon"===vt)for(Tt=0;Tt<pt.length;Tt++)ye(xt,pt[Tt],_e,Te,"Polygon"===vt,0===Tt);else if("MultiPolygon"===vt)for(var It=0;It<pt.length;It++){var Mt=pt[It];for(Tt=0;Tt<Mt.length;Tt++)ye(xt,Mt[Tt],_e,Te,!0,0===Tt)}if(xt.length){var Lt=be.tags||null;if("LineString"===vt&&Pe.lineMetrics){for(var Ft in Lt={},be.tags)Lt[Ft]=be.tags[Ft];Lt.mapbox_clip_start=pt.start/pt.size,Lt.mapbox_clip_end=pt.end/pt.size}var Ot={geometry:xt,type:"Polygon"===vt||"MultiPolygon"===vt?3:"LineString"===vt||"MultiLineString"===vt?2:1,tags:Lt};null!==be.id&&(Ot.id=be.id),_e.features.push(Ot)}}function ye(_e,be,Te,Pe,pt,vt){var xt=Pe*Pe;if(Pe>0&&be.size<(pt?xt:Pe))Te.numPoints+=be.length/3;else{for(var Tt=[],It=0;It<be.length;It+=3)(0===Pe||be[It+2]>xt)&&(Te.numSimplified++,Tt.push(be[It]),Tt.push(be[It+1])),Te.numPoints++;pt&&function(_e,be){for(var Te=0,Pe=0,pt=_e.length,vt=pt-2;Pe<pt;vt=Pe,Pe+=2)Te+=(_e[Pe]-_e[vt])*(_e[Pe+1]+_e[vt+1]);if(Te>0===be)for(Pe=0,pt=_e.length;Pe<pt/2;Pe+=2){var xt=_e[Pe],Tt=_e[Pe+1];_e[Pe]=_e[pt-2-Pe],_e[Pe+1]=_e[pt-1-Pe],_e[pt-2-Pe]=xt,_e[pt-1-Pe]=Tt}}(Tt,vt),_e.push(Tt)}}function ve(_e,be){var Te=(be=this.options=function(_e,be){for(var Te in be)_e[Te]=be[Te];return _e}(Object.create(this.options),be)).debug;if(Te&&console.time("preprocess data"),be.maxZoom<0||be.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(be.promoteId&&be.generateId)throw new Error("promoteId and generateId cannot be used together.");var Pe=function(_e,be){var Te=[];if("FeatureCollection"===_e.type)for(var Pe=0;Pe<_e.features.length;Pe++)Q(Te,_e.features[Pe],be,Pe);else Q(Te,"Feature"===_e.type?_e:{geometry:_e},be);return Te}(_e,be);this.tiles={},this.tileCoords=[],Te&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",be.indexMaxZoom,be.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Pe=function(_e,be){var Te=be.buffer/be.extent,Pe=_e,pt=oe(_e,1,-1-Te,Te,0,-1,2,be),vt=oe(_e,1,1-Te,2+Te,0,-1,2,be);return(pt||vt)&&(Pe=oe(_e,1,-Te,1+Te,0,-1,2,be)||[],pt&&(Pe=ce(pt,1).concat(Pe)),vt&&(Pe=Pe.concat(ce(vt,-1)))),Pe}(Pe,be)).length&&this.splitTile(Pe,0,0,0),Te&&(Pe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function xe(_e,be,Te){return 32*((1<<_e)*Te+be)+_e}function we(_e,be){const Te=_e.tileID.canonical;if(!this._geoJSONIndex)return be(null,null);const Pe=this._geoJSONIndex.getTile(Te.z,Te.x,Te.y);if(!Pe)return be(null,null);const pt=new xt(Pe.features);let vt=Mt(pt);0===vt.byteOffset&&vt.byteLength===vt.buffer.byteLength||(vt=new Uint8Array(vt)),be(null,{vectorTile:pt,rawData:vt.buffer})}ve.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ve.prototype.splitTile=function(_e,be,Te,Pe,pt,vt,xt){for(var Tt=[_e,be,Te,Pe],It=this.options,Mt=It.debug;Tt.length;){Pe=Tt.pop(),Te=Tt.pop(),be=Tt.pop(),_e=Tt.pop();var Lt=1<<be,Ft=xe(be,Te,Pe),Ot=this.tiles[Ft];if(!Ot&&(Mt>1&&console.time("creation"),Ot=this.tiles[Ft]=de(_e,be,Te,Pe,It),this.tileCoords.push({z:be,x:Te,y:Pe}),Mt)){Mt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",be,Te,Pe,Ot.numFeatures,Ot.numPoints,Ot.numSimplified),console.timeEnd("creation"));var Vt="z"+be;this.stats[Vt]=(this.stats[Vt]||0)+1,this.total++}if(Ot.source=_e,pt){if(be===It.maxZoom||be===pt)continue;var qt=1<<pt-be;if(Te!==Math.floor(vt/qt)||Pe!==Math.floor(xt/qt))continue}else if(be===It.indexMaxZoom||Ot.numPoints<=It.indexMaxPoints)continue;if(Ot.source=null,0!==_e.length){Mt>1&&console.time("clipping");var Wt,$t,Kt,Jt,Yt,Qt,an=.5*It.buffer/It.extent,cn=.5-an,hn=.5+an,pn=1+an;Wt=$t=Kt=Jt=null,Yt=oe(_e,Lt,Te-an,Te+hn,0,Ot.minX,Ot.maxX,It),Qt=oe(_e,Lt,Te+cn,Te+pn,0,Ot.minX,Ot.maxX,It),_e=null,Yt&&(Wt=oe(Yt,Lt,Pe-an,Pe+hn,1,Ot.minY,Ot.maxY,It),$t=oe(Yt,Lt,Pe+cn,Pe+pn,1,Ot.minY,Ot.maxY,It),Yt=null),Qt&&(Kt=oe(Qt,Lt,Pe-an,Pe+hn,1,Ot.minY,Ot.maxY,It),Jt=oe(Qt,Lt,Pe+cn,Pe+pn,1,Ot.minY,Ot.maxY,It),Qt=null),Mt>1&&console.timeEnd("clipping"),Tt.push(Wt||[],be+1,2*Te,2*Pe),Tt.push($t||[],be+1,2*Te,2*Pe+1),Tt.push(Kt||[],be+1,2*Te+1,2*Pe),Tt.push(Jt||[],be+1,2*Te+1,2*Pe+1)}}},ve.prototype.getTile=function(_e,be,Te){var Pe=this.options,pt=Pe.extent,vt=Pe.debug;if(_e<0||_e>24)return null;var xt=1<<_e,Tt=xe(_e,be=(be%xt+xt)%xt,Te);if(this.tiles[Tt])return pe(this.tiles[Tt],pt);vt>1&&console.log("drilling down to z%d-%d-%d",_e,be,Te);for(var It,Mt=_e,Lt=be,Ft=Te;!It&&Mt>0;)Mt--,Lt=Math.floor(Lt/2),Ft=Math.floor(Ft/2),It=this.tiles[xe(Mt,Lt,Ft)];return It&&It.source?(vt>1&&console.log("found parent tile z%d-%d-%d",Mt,Lt,Ft),vt>1&&console.time("drilling down"),this.splitTile(It.source,Mt,Lt,Ft,_e,be,Te),vt>1&&console.timeEnd("drilling down"),this.tiles[Tt]?pe(this.tiles[Tt],pt):null):null};class $t extends _e.VectorTileWorkerSource{constructor(_e,be,Te,Pe,pt){super(_e,be,Te,Pe,we),pt&&(this.loadGeoJSON=pt)}loadData(be,Te){const pt=be&&be.request,vt=pt&&pt.collectResourceTiming;this.loadGeoJSON(be,((xt,Tt)=>{if(xt||!Tt)return Te(xt);if("object"!=typeof Tt)return Te(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`));{Pe(Tt,!0);try{if(be.filter){const Te=_e.createExpression(be.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===Te.result)throw new Error(Te.value.map((_e=>`${_e.key}: ${_e.message}`)).join(", "));const Pe=Tt.features.filter((_e=>Te.value.evaluate({zoom:0},_e)));Tt={type:"FeatureCollection",features:Pe}}this._geoJSONIndex=be.cluster?new Wt(function({superclusterOptions:be,clusterProperties:Te}){if(!Te||!be)return be;const Pe={},pt={},vt={accumulated:null,zoom:0},xt={properties:null},Tt=Object.keys(Te);for(const be of Tt){const[vt,xt]=Te[be],Tt=_e.createExpression(xt),It=_e.createExpression("string"==typeof vt?[vt,["accumulated"],["get",be]]:vt);Pe[be]=Tt.value,pt[be]=It.value}return be.map=_e=>{xt.properties=_e;const be={};for(const _e of Tt)be[_e]=Pe[_e].evaluate(vt,xt);return be},be.reduce=(_e,be)=>{xt.properties=be;for(const be of Tt)vt.accumulated=_e[be],_e[be]=pt[be].evaluate(vt,xt)},be}(be)).load(Tt.features):function(_e,be){return new ve(_e,be)}(Tt,be.geojsonVtOptions)}catch(xt){return Te(xt)}this.loaded={};const It={};if(vt){const Te=_e.getPerformanceMeasurement(pt);Te&&(It.resourceTiming={},It.resourceTiming[be.source]=JSON.parse(JSON.stringify(Te)))}Te(null,It)}}))}reloadTile(_e,be){const Te=this.loaded;return Te&&Te[_e.uid]?super.reloadTile(_e,be):this.loadTile(_e,be)}loadGeoJSON(be,Te){if(be.request)_e.getJSON(be.request,Te);else{if("string"!=typeof be.data)return Te(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`));try{return Te(null,JSON.parse(be.data))}catch(_e){return Te(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(_e,be){try{be(null,this._geoJSONIndex.getClusterExpansionZoom(_e.clusterId))}catch(_e){be(_e)}}getClusterChildren(_e,be){try{be(null,this._geoJSONIndex.getChildren(_e.clusterId))}catch(_e){be(_e)}}getClusterLeaves(_e,be){try{be(null,this._geoJSONIndex.getLeaves(_e.clusterId,_e.limit,_e.offset))}catch(_e){be(_e)}}}class Kt{constructor(be){this.self=be,this.actor=new _e.Actor(be,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=_e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:_e.VectorTileWorkerSource,geojson:$t},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(_e,be)=>{if(this.workerSourceTypes[_e])throw new Error(`Worker source with name "${_e}" already registered.`);this.workerSourceTypes[_e]=be},this.self.registerRTLTextPlugin=be=>{if(_e.plugin.isParsed())throw new Error("RTL text plugin already registered.");_e.plugin.applyArabicShaping=be.applyArabicShaping,_e.plugin.processBidirectionalText=be.processBidirectionalText,_e.plugin.processStyledBidirectionalText=be.processStyledBidirectionalText}}clearCaches(_e,be,Te){delete this.layerIndexes[_e],delete this.availableImages[_e],delete this.workerSources[_e],delete this.demWorkerSources[_e],Te()}checkIfReady(_e,be,Te){Te()}setReferrer(_e,be){this.referrer=be}spriteLoaded(be,Te){this.isSpriteLoaded[be]=Te;for(const Pe in this.workerSources[be]){const pt=this.workerSources[be][Pe];for(const be in pt)pt[be]instanceof _e.VectorTileWorkerSource&&(pt[be].isSpriteLoaded=Te,pt[be].fire(new _e.Event("isSpriteLoaded")))}}setImages(_e,be,Te){this.availableImages[_e]=be;for(const Te in this.workerSources[_e]){const Pe=this.workerSources[_e][Te];for(const _e in Pe)Pe[_e].availableImages=be}Te()}enableTerrain(_e,be,Te){this.terrain=be,Te()}setProjection(be,Te){this.projections[be]=_e.getProjection(Te)}setLayers(_e,be,Te){this.getLayerIndex(_e).replace(be),Te()}updateLayers(_e,be,Te){this.getLayerIndex(_e).update(be.layers,be.removedIds),Te()}loadTile(be,Te,Pe){const pt=this.enableTerrain?_e.extend({enableTerrain:this.terrain},Te):Te;pt.projection=this.projections[be]||this.defaultProjection,this.getWorkerSource(be,Te.type,Te.source).loadTile(pt,Pe)}loadDEMTile(be,Te,Pe){const pt=this.enableTerrain?_e.extend({buildQuadTree:this.terrain},Te):Te;this.getDEMWorkerSource(be,Te.source).loadTile(pt,Pe)}reloadTile(be,Te,Pe){const pt=this.enableTerrain?_e.extend({enableTerrain:this.terrain},Te):Te;pt.projection=this.projections[be]||this.defaultProjection,this.getWorkerSource(be,Te.type,Te.source).reloadTile(pt,Pe)}abortTile(_e,be,Te){this.getWorkerSource(_e,be.type,be.source).abortTile(be,Te)}removeTile(_e,be,Te){this.getWorkerSource(_e,be.type,be.source).removeTile(be,Te)}removeSource(_e,be,Te){if(!this.workerSources[_e]||!this.workerSources[_e][be.type]||!this.workerSources[_e][be.type][be.source])return;const Pe=this.workerSources[_e][be.type][be.source];delete this.workerSources[_e][be.type][be.source],void 0!==Pe.removeSource?Pe.removeSource(be,Te):Te()}loadWorkerSource(_e,be,Te){try{this.self.importScripts(be.url),Te()}catch(_e){Te(_e.toString())}}syncRTLPluginState(be,Te,Pe){try{_e.plugin.setState(Te);const be=_e.plugin.getPluginURL();if(_e.plugin.isLoaded()&&!_e.plugin.isParsed()&&null!=be){this.self.importScripts(be);const Te=_e.plugin.isParsed();Pe(Te?void 0:new Error(`RTL Text Plugin failed to import scripts from ${be}`),Te)}}catch(_e){Pe(_e.toString())}}getAvailableImages(_e){let be=this.availableImages[_e];return be||(be=[]),be}getLayerIndex(_e){let Te=this.layerIndexes[_e];return Te||(Te=this.layerIndexes[_e]=new be),Te}getWorkerSource(_e,be,Te){return this.workerSources[_e]||(this.workerSources[_e]={}),this.workerSources[_e][be]||(this.workerSources[_e][be]={}),this.workerSources[_e][be][Te]||(this.workerSources[_e][be][Te]=new this.workerSourceTypes[be]({send:(be,Te,Pe,pt,vt,xt)=>{this.actor.send(be,Te,Pe,_e,vt,xt)},scheduler:this.actor.scheduler},this.getLayerIndex(_e),this.getAvailableImages(_e),this.isSpriteLoaded[_e])),this.workerSources[_e][be][Te]}getDEMWorkerSource(_e,be){return this.demWorkerSources[_e]||(this.demWorkerSources[_e]={}),this.demWorkerSources[_e][be]||(this.demWorkerSources[_e][be]=new Te),this.demWorkerSources[_e][be]}enforceCacheSizeLimit(be,Te){_e.enforceCacheSizeLimit(Te)}getWorkerPerformanceMetrics(_e,be,Te){Te(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Kt(self)),Kt})),define(["./shared"],(function(_e){function t(_e,be){if(Array.isArray(_e)){if(!Array.isArray(be)||_e.length!==be.length)return!1;for(let Te=0;Te<_e.length;Te++)if(!t(_e[Te],be[Te]))return!1;return!0}if("object"==typeof _e&&null!==_e&&null!==be){if("object"!=typeof be)return!1;if(Object.keys(_e).length!==Object.keys(be).length)return!1;for(const Te in _e)if(!t(_e[Te],be[Te]))return!1;return!0}return _e===be}var be=o;function o(_e){return!function(_e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var _e,be,Te=new Blob([""],{type:"text/javascript"}),Pe=URL.createObjectURL(Te);try{be=new Worker(Pe),_e=!0}catch(be){_e=!1}return be&&be.terminate(),URL.revokeObjectURL(Pe),_e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var _e=document.createElement("canvas");_e.width=_e.height=1;var be=_e.getContext("2d");if(!be)return!1;var Te=be.getImageData(0,0,1,1);return Te&&Te.width===_e.width}()?(void 0===Te[be=_e&&_e.failIfMajorPerformanceCaveat]&&(Te[be]=function(_e){var be,Te=function(_e){var be=document.createElement("canvas"),Te=Object.create(o.webGLContextAttributes);return Te.failIfMajorPerformanceCaveat=_e,be.getContext("webgl",Te)||be.getContext("experimental-webgl",Te)}(_e);if(!Te)return!1;try{be=Te.createShader(Te.VERTEX_SHADER)}catch(_e){return!1}return!(!be||Te.isContextLost())&&(Te.shaderSource(be,"void main() {}"),Te.compileShader(be),!0===Te.getShaderParameter(be,Te.COMPILE_STATUS))}(be)),Te[be]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var be}(_e)}var Te={};function n(be,Te,Pe){const pt=_e.window.document.createElement(be);return void 0!==Te&&(pt.className=Te),Pe&&Pe.appendChild(pt),pt}function a(be,Te,Pe){const pt=_e.window.document.createElementNS("http://www.w3.org/2000/svg",be);for(const _e of Object.keys(Te))pt.setAttributeNS(null,_e,Te[_e]);return Pe&&Pe.appendChild(pt),pt}o.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const Pe=_e.window.document&&_e.window.document.documentElement.style,pt=Pe&&void 0!==Pe.userSelect?"userSelect":"WebkitUserSelect";let vt;function h(){Pe&&pt&&(vt=Pe[pt],Pe[pt]="none")}function u(){Pe&&pt&&(Pe[pt]=vt)}function _(be){be.preventDefault(),be.stopPropagation(),_e.window.removeEventListener("click",_,!0)}function d(){_e.window.addEventListener("click",_,!0),_e.window.setTimeout((()=>{_e.window.removeEventListener("click",_,!0)}),0)}function m(_e,be){const Te=_e.getBoundingClientRect();return g(_e,Te,be)}function p(_e,be){const Te=_e.getBoundingClientRect(),Pe=[];for(let pt=0;pt<be.length;pt++)Pe.push(g(_e,Te,be[pt]));return Pe}function f(be){return void 0!==_e.window.InstallTrigger&&2===be.button&&be.ctrlKey&&_e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:be.button}function g(be,Te,Pe){const pt=be.offsetWidth===Te.width?1:be.offsetWidth/Te.width;return new _e.pointGeometry((Pe.clientX-Te.left)*pt,(Pe.clientY-Te.top)*pt)}function v(_e,be){var Te=be[0],Pe=be[1],pt=be[2],vt=be[3],xt=Te*vt-pt*Pe;return xt?(_e[0]=vt*(xt=1/xt),_e[1]=-Pe*xt,_e[2]=-pt*xt,_e[3]=Te*xt,_e):null}function x(_e){const{userImage:be}=_e;return!!(be&&be.render&&be.render())&&(_e.data.replace(new Uint8Array(be.data.buffer)),!0)}class xt extends _e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new _e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(_e){if(this.loaded!==_e&&(this.loaded=_e,_e)){for(const{ids:_e,callback:be}of this.requestors)this._notify(_e,be);this.requestors=[]}}hasImage(_e){return!!this.getImage(_e)}getImage(_e){return this.images[_e]}addImage(_e,be){this._validate(_e,be)&&(this.images[_e]=be)}_validate(be,Te){let Pe=!0;return this._validateStretch(Te.stretchX,Te.data&&Te.data.width)||(this.fire(new _e.ErrorEvent(new Error(`Image "${be}" has invalid "stretchX" value`))),Pe=!1),this._validateStretch(Te.stretchY,Te.data&&Te.data.height)||(this.fire(new _e.ErrorEvent(new Error(`Image "${be}" has invalid "stretchY" value`))),Pe=!1),this._validateContent(Te.content,Te)||(this.fire(new _e.ErrorEvent(new Error(`Image "${be}" has invalid "content" value`))),Pe=!1),Pe}_validateStretch(_e,be){if(!_e)return!0;let Te=0;for(const Pe of _e){if(Pe[0]<Te||Pe[1]<Pe[0]||be<Pe[1])return!1;Te=Pe[1]}return!0}_validateContent(_e,be){return!(_e&&(4!==_e.length||_e[0]<0||be.data.width<_e[0]||_e[1]<0||be.data.height<_e[1]||_e[2]<0||be.data.width<_e[2]||_e[3]<0||be.data.height<_e[3]||_e[2]<_e[0]||_e[3]<_e[1]))}updateImage(_e,be){be.version=this.images[_e].version+1,this.images[_e]=be,this.updatedImages[_e]=!0}removeImage(_e){const be=this.images[_e];delete this.images[_e],delete this.patterns[_e],be.userImage&&be.userImage.onRemove&&be.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(_e,be){let Te=!0;if(!this.isLoaded())for(const be of _e)this.images[be]||(Te=!1);this.isLoaded()||Te?this._notify(_e,be):this.requestors.push({ids:_e,callback:be})}_notify(be,Te){const Pe={};for(const Te of be){this.images[Te]||this.fire(new _e.Event("styleimagemissing",{id:Te}));const be=this.images[Te];be?Pe[Te]={data:be.data.clone(),pixelRatio:be.pixelRatio,sdf:be.sdf,version:be.version,stretchX:be.stretchX,stretchY:be.stretchY,content:be.content,hasRenderCallback:Boolean(be.userImage&&be.userImage.render)}:_e.warnOnce(`Image "${Te}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}Te(null,Pe)}getPixelSize(){const{width:_e,height:be}=this.atlasImage;return{width:_e,height:be}}getPattern(be){const Te=this.patterns[be],Pe=this.getImage(be);if(!Pe)return null;if(Te&&Te.position.version===Pe.version)return Te.position;if(Te)Te.position.version=Pe.version;else{const Te={w:Pe.data.width+2,h:Pe.data.height+2,x:0,y:0},pt=new _e.ImagePosition(Te,Pe);this.patterns[be]={bin:Te,position:pt}}return this._updatePatternAtlas(),this.patterns[be].position}bind(be){const Te=be.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new _e.Texture(be,this.atlasImage,Te.RGBA),this.atlasTexture.bind(Te.LINEAR,Te.CLAMP_TO_EDGE)}_updatePatternAtlas(){const be=[];for(const _e in this.patterns)be.push(this.patterns[_e].bin);const{w:Te,h:Pe}=_e.potpack(be),pt=this.atlasImage;pt.resize({width:Te||1,height:Pe||1});for(const be in this.patterns){const{bin:Te}=this.patterns[be],Pe=Te.x+1,vt=Te.y+1,xt=this.images[be].data,Tt=xt.width,It=xt.height;_e.RGBAImage.copy(xt,pt,{x:0,y:0},{x:Pe,y:vt},{width:Tt,height:It}),_e.RGBAImage.copy(xt,pt,{x:0,y:It-1},{x:Pe,y:vt-1},{width:Tt,height:1}),_e.RGBAImage.copy(xt,pt,{x:0,y:0},{x:Pe,y:vt+It},{width:Tt,height:1}),_e.RGBAImage.copy(xt,pt,{x:Tt-1,y:0},{x:Pe-1,y:vt},{width:1,height:It}),_e.RGBAImage.copy(xt,pt,{x:0,y:0},{x:Pe+Tt,y:vt},{width:1,height:It})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(_e){for(const be of _e){if(this.callbackDispatchedThisFrame[be])continue;this.callbackDispatchedThisFrame[be]=!0;const _e=this.images[be];x(_e)&&this.updateImage(be,_e)}}}const Tt=new _e.Properties({anchor:new _e.DataConstantProperty(_e.spec.light.anchor),position:new class{constructor(){this.specification=_e.spec.light.position}possiblyEvaluate(be,Te){return function([be,Te,Pe]){const pt=_e.degToRad(Te+90),vt=_e.degToRad(Pe);return{x:be*Math.cos(pt)*Math.sin(vt),y:be*Math.sin(pt)*Math.sin(vt),z:be*Math.cos(vt),azimuthal:Te,polar:Pe}}(be.expression.evaluate(Te))}interpolate(be,Te,Pe){return{x:_e.number(be.x,Te.x,Pe),y:_e.number(be.y,Te.y,Pe),z:_e.number(be.z,Te.z,Pe),azimuthal:_e.number(be.azimuthal,Te.azimuthal,Pe),polar:_e.number(be.polar,Te.polar,Pe)}}},color:new _e.DataConstantProperty(_e.spec.light.color),intensity:new _e.DataConstantProperty(_e.spec.light.intensity)}),It="-transition";class Mt extends _e.Evented{constructor(be){super(),this._transitionable=new _e.Transitionable(Tt),this.setLight(be),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(be,Te={}){if(!this._validate(_e.validateLight,be,Te))for(const Te in be){const Pe=be[Te];_e.endsWith(Te,It)?this._transitionable.setTransition(Te.slice(0,-It.length),Pe):this._transitionable.setValue(Te,Pe)}}updateTransitions(_e){this._transitioning=this._transitionable.transitioned(_e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(_e){this.properties=this._transitioning.possiblyEvaluate(_e)}_validate(be,Te,Pe){return(!Pe||!1!==Pe.validate)&&_e.emitValidationErrors(this,be.call(_e.validateStyle,_e.extend({value:Te,style:{glyphs:!0,sprite:!0},styleSpec:_e.spec})))}}const Lt=new _e.Properties({source:new _e.DataConstantProperty(_e.spec.terrain.source),exaggeration:new _e.DataConstantProperty(_e.spec.terrain.exaggeration)}),Ft="-transition";class Ot extends _e.Evented{constructor(be,Te){super(),this._transitionable=new _e.Transitionable(Lt),this.set(be),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=Te}get(){return this._transitionable.serialize()}set(be){for(const Te in be){const Pe=be[Te];_e.endsWith(Te,Ft)?this._transitionable.setTransition(Te.slice(0,-Ft.length),Pe):this._transitionable.setValue(Te,Pe)}}updateTransitions(_e){this._transitioning=this._transitionable.transitioned(_e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(_e){this.properties=this._transitioning.possiblyEvaluate(_e)}}function M(be,Te,Pe,pt){const vt=_e.smoothstep(45,65,Pe),[xt,Tt]=S(be,pt),It=_e.length(Te);let Mt=1-Math.min(1,Math.exp((It-xt)/(Tt-xt)*-6));return Mt*=Mt*Mt,Mt=Math.min(1,1.00747*Mt),Mt*vt*be.alpha}function S(_e,be){const Te=.5/Math.tan(.5*be);return[_e.range[0]+Te,_e.range[1]+Te]}const Vt=new _e.Properties({range:new _e.DataConstantProperty(_e.spec.fog.range),color:new _e.DataConstantProperty(_e.spec.fog.color),"high-color":new _e.DataConstantProperty(_e.spec.fog["high-color"]),"space-color":new _e.DataConstantProperty(_e.spec.fog["space-color"]),"horizon-blend":new _e.DataConstantProperty(_e.spec.fog["horizon-blend"]),"star-intensity":new _e.DataConstantProperty(_e.spec.fog["star-intensity"])}),qt="-transition";class Wt extends _e.Evented{constructor(be,Te){super(),this._transitionable=new _e.Transitionable(Vt),this.set(be),this._transitioning=this._transitionable.untransitioned(),this._transform=Te}get state(){const be=this._transform,Te="globe"===be.projection.name,Pe=_e.globeToMercatorTransition(be.zoom),pt=this.properties.get("range"),vt=[.5,3];return{range:Te?[_e.number(vt[0],pt[0],Pe),_e.number(vt[1],pt[1],Pe)]:pt,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(be,Te={}){if(!this._validate(_e.validateFog,be,Te)){for(const Te of Object.keys(_e.spec.fog))be&&void 0===be[Te]&&(be[Te]=_e.spec.fog[Te].default);for(const Te in be){const Pe=be[Te];_e.endsWith(Te,qt)?this._transitionable.setTransition(Te.slice(0,-qt.length),Pe):this._transitionable.setValue(Te,Pe)}}}getOpacity(be){if(!this._transform.projection.supportsFog)return 0;const Te=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:_e.smoothstep(45,65,be))*Te.a}getOpacityAtLatLng(be,Te){return this._transform.projection.supportsFog?function(be,Te,Pe){const pt=_e.MercatorCoordinate.fromLngLat(Te),vt=Pe.elevation?Pe.elevation.getAtPointOrZero(pt):0,xt=[pt.x,pt.y,vt];return _e.transformMat4(xt,xt,Pe.mercatorFogMatrix),M(be,xt,Pe.pitch,Pe._fov)}(this.state,be,Te):0}getFovAdjustedRange(_e){return this._transform.projection.supportsFog?S(this.state,_e):[0,1]}updateTransitions(_e){this._transitioning=this._transitionable.transitioned(_e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(_e){this.properties=this._transitioning.possiblyEvaluate(_e)}_validate(be,Te,Pe){return(!Pe||!1!==Pe.validate)&&_e.emitValidationErrors(this,be.call(_e.validateStyle,_e.extend({value:Te,style:{glyphs:!0,sprite:!0},styleSpec:_e.spec})))}}class $t{constructor(be,Te){this.workerPool=be,this.actors=[],this.currentActor=0,this.id=_e.uniqueId();const Pe=this.workerPool.acquire(this.id);for(let _e=0;_e<Pe.length;_e++){const be=new $t.Actor(Pe[_e],Te,this.id);be.name=`Worker ${_e}`,this.actors.push(be)}this.ready=!1,this.broadcast("checkIfReady",null,(()=>{this.ready=!0}))}broadcast(be,Te,Pe){_e.asyncAll(this.actors,((_e,Pe)=>{_e.send(be,Te,Pe)}),Pe=Pe||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((_e=>{_e.remove()})),this.actors=[],this.workerPool.release(this.id)}}function L(be,Te,Pe){return Te*(_e.EXTENT/(be.tileSize*Math.pow(2,Pe-be.tileID.overscaledZ)))}$t.Actor=_e.Actor;class Kt{constructor(_e,be,Te,Pe){this.screenBounds=_e,this.cameraPoint=be,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=Te,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,Pe)}static createFromScreenPoints(be,Te){let Pe,pt;if(be instanceof _e.pointGeometry||"number"==typeof be[0]){const vt=_e.pointGeometry.convert(be);Pe=[_e.pointGeometry.convert(be)],pt=Te.isPointAboveHorizon(vt)}else{const vt=_e.pointGeometry.convert(be[0]),xt=_e.pointGeometry.convert(be[1]);Pe=[vt,xt],pt=_e.polygonizeBounds(vt,xt).every((_e=>Te.isPointAboveHorizon(_e)))}return new Kt(Pe,Te.getCameraPoint(),pt,Te)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(be){return _e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],be)}bufferedCameraGeometry(be){const Te=this.screenBounds[0],Pe=1===this.screenBounds.length?this.screenBounds[0].add(new _e.pointGeometry(1,1)):this.screenBounds[1],pt=_e.polygonizeBounds(Te,Pe,0,!1);return this.cameraPoint.y>Pe.y&&(this.cameraPoint.x>Te.x&&this.cameraPoint.x<Pe.x?pt.splice(3,0,this.cameraPoint):this.cameraPoint.x>=Pe.x?pt[2]=this.cameraPoint:this.cameraPoint.x<=Te.x&&(pt[3]=this.cameraPoint)),_e.bufferConvexPolygon(pt,be)}bufferedCameraGeometryGlobe(be){const Te=this.screenBounds[0],Pe=1===this.screenBounds.length?this.screenBounds[0].add(new _e.pointGeometry(1,1)):this.screenBounds[1],pt=_e.polygonizeBounds(Te,Pe,be),vt=this.cameraPoint.clone();switch(3*((vt.y>Te.y)+(vt.y>Pe.y))+((vt.x>Te.x)+(vt.x>Pe.x))){case 0:pt[0]=vt,pt[4]=vt.clone();break;case 1:pt.splice(1,0,vt);break;case 2:pt[1]=vt;break;case 3:pt.splice(4,0,vt);break;case 5:pt.splice(2,0,vt);break;case 6:pt[3]=vt;break;case 7:pt.splice(3,0,vt);break;case 8:pt[2]=vt}return pt}containsTile(be,Te,Pe,pt=0){const vt=be.queryPadding/Te._projectionScaler+1,xt=Pe?this._bufferedCameraMercator(vt,Te):this._bufferedScreenMercator(vt,Te);let Tt=be.tileID.wrap+(xt.unwrapped?pt:0);const It=xt.polygon.map((Te=>_e.getTilePoint(be.tileTransform,Te,Tt)));if(!_e.polygonIntersectsBox(It,0,0,_e.EXTENT,_e.EXTENT))return;Tt=be.tileID.wrap+(this.screenGeometryMercator.unwrapped?pt:0);const Mt=this.screenGeometryMercator.polygon.map((Te=>_e.getTileVec3(be.tileTransform,Te,Tt))),Lt=Mt.map((be=>new _e.pointGeometry(be[0],be[1]))),Ft=Te.getFreeCameraOptions().position||new _e.MercatorCoordinate(0,0,0),Ot=_e.getTileVec3(be.tileTransform,Ft,Tt),Vt=Mt.map((be=>{const Te=_e.sub(be,be,Ot);return _e.normalize(Te,Te),new _e.Ray(Ot,Te)})),qt=L(be,1,Te.zoom)*Te._projectionScaler;return{queryGeometry:this,tilespaceGeometry:Lt,tilespaceRays:Vt,bufferedTilespaceGeometry:It,bufferedTilespaceBounds:(Wt=_e.getBounds(It),Wt.min.x=_e.clamp(Wt.min.x,0,_e.EXTENT),Wt.min.y=_e.clamp(Wt.min.y,0,_e.EXTENT),Wt.max.x=_e.clamp(Wt.max.x,0,_e.EXTENT),Wt.max.y=_e.clamp(Wt.max.y,0,_e.EXTENT),Wt),tile:be,tileID:be.tileID,pixelToTileUnitsFactor:qt};var Wt}_bufferedScreenMercator(_e,be){const Te=B(_e);if(this._screenRaycastCache[Te])return this._screenRaycastCache[Te];{let Pe;return Pe="globe"===be.projection.name?this._projectAndResample(this.bufferedScreenGeometry(_e),be):{polygon:this.bufferedScreenGeometry(_e).map((_e=>be.pointCoordinate3D(_e))),unwrapped:!0},this._screenRaycastCache[Te]=Pe,Pe}}_bufferedCameraMercator(_e,be){const Te=B(_e);if(this._cameraRaycastCache[Te])return this._cameraRaycastCache[Te];{let Pe;return Pe="globe"===be.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(_e),be):{polygon:this.bufferedCameraGeometry(_e).map((_e=>be.pointCoordinate3D(_e))),unwrapped:!0},this._cameraRaycastCache[Te]=Pe,Pe}}_projectAndResample(be,Te){const Pe=function(be,Te){const Pe=_e.multiply([],Te.pixelMatrix,Te.globeMatrix),pt=[0,-_e.GLOBE_RADIUS,0,1],vt=[0,_e.GLOBE_RADIUS,0,1],xt=[0,0,0,1];_e.transformMat4$1(pt,pt,Pe),_e.transformMat4$1(vt,vt,Pe),_e.transformMat4$1(xt,xt,Pe);const Tt=new _e.pointGeometry(pt[0]/pt[3],pt[1]/pt[3]),It=new _e.pointGeometry(vt[0]/vt[3],vt[1]/vt[3]),Mt=_e.polygonContainsPoint(be,Tt)&&pt[3]<xt[3],Lt=_e.polygonContainsPoint(be,It)&&vt[3]<xt[3];if(!Mt&&!Lt)return null;const Ft=function(_e,be,Te){for(let Pe=1;Pe<_e.length;Pe++){const pt=k(be.pointCoordinate3D(_e[Pe-1]).x),vt=k(be.pointCoordinate3D(_e[Pe]).x);if(Te<0){if(pt<vt)return{idx:Pe,t:-pt/(vt-1-pt)}}else if(vt<pt)return{idx:Pe,t:(1-pt)/(vt+1-pt)}}return null}(be,Te,Mt?-1:1);if(!Ft)return null;const{idx:Ot,t:Vt}=Ft;let qt=Ot>1?O(be.slice(0,Ot),Te):[],Wt=Ot<be.length?O(be.slice(Ot),Te):[];qt=qt.map((be=>new _e.pointGeometry(k(be.x),be.y))),Wt=Wt.map((be=>new _e.pointGeometry(k(be.x),be.y)));const $t=[...qt];0===$t.length&&$t.push(Wt[Wt.length-1]);const Kt=_e.number($t[$t.length-1].y,(0===Wt.length?qt[0]:Wt[0]).y,Vt);let Jt;return Jt=Mt?[new _e.pointGeometry(0,Kt),new _e.pointGeometry(0,0),new _e.pointGeometry(1,0),new _e.pointGeometry(1,Kt)]:[new _e.pointGeometry(1,Kt),new _e.pointGeometry(1,1),new _e.pointGeometry(0,1),new _e.pointGeometry(0,Kt)],$t.push(...Jt),0===Wt.length?$t.push(qt[0]):$t.push(...Wt),{polygon:$t.map((be=>new _e.MercatorCoordinate(be.x,be.y))),unwrapped:!1}}(be,Te);if(Pe)return Pe;const pt=function(be,Te){let Pe=!1,pt=-1/0,vt=0;for(let _e=0;_e<be.length-1;_e++)be[_e].x>pt&&(pt=be[_e].x,vt=_e);for(let _e=0;_e<be.length-1;_e++){const Te=(vt+_e)%(be.length-1),pt=be[Te],xt=be[Te+1];Math.abs(pt.x-xt.x)>.5&&(pt.x<xt.x?(pt.x+=1,0===Te&&(be[be.length-1].x+=1)):(xt.x+=1,Te+1===be.length-1&&(be[0].x+=1)),Pe=!0)}const xt=_e.mercatorXfromLng(Te.center.lng);return Pe&&xt<Math.abs(xt-1)&&be.forEach((_e=>{_e.x-=1})),{polygon:be,unwrapped:Pe}}(O(be,Te).map((be=>new _e.pointGeometry(k(be.x),be.y))),Te);return{polygon:pt.polygon.map((be=>new _e.MercatorCoordinate(be.x,be.y))),unwrapped:pt.unwrapped}}}function O(be,Te){return _e.resample(be,(_e=>{const be=Te.pointCoordinate3D(_e);_e.x=be.x,_e.y=be.y}),1/256)}function k(_e){return _e<0?1+_e%1:_e%1}function B(_e){return 100*_e|0}function F(be,Te,Pe,pt,vt){const a=function(Pe,pt){if(Pe)return vt(Pe);if(pt){const Pe=_e.pick(_e.extend(pt,be),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);pt.vector_layers&&(Pe.vectorLayers=pt.vector_layers,Pe.vectorLayerIds=Pe.vectorLayers.map((_e=>_e.id))),pt.language_options&&(Pe.languageOptions=pt.language_options),pt.language&&pt.language[pt.id]&&(Pe.language=pt.language[pt.id]),pt.worldview_options&&(Pe.worldviewOptions=pt.worldview_options),pt.worldview?Pe.worldview=pt.worldview[pt.id]:pt.worldview_default&&(Pe.worldview=pt.worldview_default),Pe.tiles=Te.canonicalizeTileset(Pe,be.url),vt(null,Pe)}};return be.url?_e.getJSON(Te.transformRequest(Te.normalizeSourceURL(be.url,null,Pe,pt),_e.ResourceType.Source),a):_e.exported.frame((()=>a(null,be)))}class Jt{constructor(be,Te,Pe){this.bounds=_e.LngLatBounds.convert(this.validateBounds(be)),this.minzoom=Te||0,this.maxzoom=Pe||24}validateBounds(_e){return Array.isArray(_e)&&4===_e.length?[Math.max(-180,_e[0]),Math.max(-90,_e[1]),Math.min(180,_e[2]),Math.min(90,_e[3])]:[-180,-90,180,90]}contains(be){const Te=Math.pow(2,be.z),Pe=Math.floor(_e.mercatorXfromLng(this.bounds.getWest())*Te),pt=Math.floor(_e.mercatorYfromLat(this.bounds.getNorth())*Te),vt=Math.ceil(_e.mercatorXfromLng(this.bounds.getEast())*Te),xt=Math.ceil(_e.mercatorYfromLat(this.bounds.getSouth())*Te);return be.x>=Pe&&be.x<vt&&be.y>=pt&&be.y<xt}}class Yt{constructor(_e,be,Te){this.context=_e;const Pe=_e.gl;this.buffer=Pe.createBuffer(),this.dynamicDraw=Boolean(Te),this.context.unbindVAO(),_e.bindElementBuffer.set(this.buffer),Pe.bufferData(Pe.ELEMENT_ARRAY_BUFFER,be.arrayBuffer,this.dynamicDraw?Pe.DYNAMIC_DRAW:Pe.STATIC_DRAW),this.dynamicDraw||be.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(_e){const be=this.context.gl;this.context.unbindVAO(),this.bind(),be.bufferSubData(be.ELEMENT_ARRAY_BUFFER,0,_e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Qt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class an{constructor(_e,be,Te,Pe){this.length=be.length,this.attributes=Te,this.itemSize=be.bytesPerElement,this.dynamicDraw=Pe,this.context=_e;const pt=_e.gl;this.buffer=pt.createBuffer(),_e.bindVertexBuffer.set(this.buffer),pt.bufferData(pt.ARRAY_BUFFER,be.arrayBuffer,this.dynamicDraw?pt.DYNAMIC_DRAW:pt.STATIC_DRAW),this.dynamicDraw||be.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(_e){const be=this.context.gl;this.bind(),be.bufferSubData(be.ARRAY_BUFFER,0,_e.arrayBuffer)}enableAttributes(_e,be){for(let Te=0;Te<this.attributes.length;Te++){const Pe=be.attributes[this.attributes[Te].name];void 0!==Pe&&_e.enableVertexAttribArray(Pe)}}setVertexAttribPointers(_e,be,Te){for(let Pe=0;Pe<this.attributes.length;Pe++){const pt=this.attributes[Pe],vt=be.attributes[pt.name];void 0!==vt&&_e.vertexAttribPointer(vt,pt.components,_e[Qt[pt.type]],!1,this.itemSize,pt.offset+this.itemSize*(Te||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class cn{constructor(_e){this.gl=_e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(_e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class hn extends cn{getDefault(){return _e.Color.transparent}set(_e){const be=this.current;(_e.r!==be.r||_e.g!==be.g||_e.b!==be.b||_e.a!==be.a||this.dirty)&&(this.gl.clearColor(_e.r,_e.g,_e.b,_e.a),this.current=_e,this.dirty=!1)}}class pn extends cn{getDefault(){return 1}set(_e){(_e!==this.current||this.dirty)&&(this.gl.clearDepth(_e),this.current=_e,this.dirty=!1)}}class xn extends cn{getDefault(){return 0}set(_e){(_e!==this.current||this.dirty)&&(this.gl.clearStencil(_e),this.current=_e,this.dirty=!1)}}class Pn extends cn{getDefault(){return[!0,!0,!0,!0]}set(_e){const be=this.current;(_e[0]!==be[0]||_e[1]!==be[1]||_e[2]!==be[2]||_e[3]!==be[3]||this.dirty)&&(this.gl.colorMask(_e[0],_e[1],_e[2],_e[3]),this.current=_e,this.dirty=!1)}}class Ln extends cn{getDefault(){return!0}set(_e){(_e!==this.current||this.dirty)&&(this.gl.depthMask(_e),this.current=_e,this.dirty=!1)}}class Fn extends cn{getDefault(){return 255}set(_e){(_e!==this.current||this.dirty)&&(this.gl.stencilMask(_e),this.current=_e,this.dirty=!1)}}class jn extends cn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(_e){const be=this.current;(_e.func!==be.func||_e.ref!==be.ref||_e.mask!==be.mask||this.dirty)&&(this.gl.stencilFunc(_e.func,_e.ref,_e.mask),this.current=_e,this.dirty=!1)}}class $n extends cn{getDefault(){const _e=this.gl;return[_e.KEEP,_e.KEEP,_e.KEEP]}set(_e){const be=this.current;(_e[0]!==be[0]||_e[1]!==be[1]||_e[2]!==be[2]||this.dirty)&&(this.gl.stencilOp(_e[0],_e[1],_e[2]),this.current=_e,this.dirty=!1)}}class ea extends cn{getDefault(){return!1}set(_e){if(_e===this.current&&!this.dirty)return;const be=this.gl;_e?be.enable(be.STENCIL_TEST):be.disable(be.STENCIL_TEST),this.current=_e,this.dirty=!1}}class na extends cn{getDefault(){return[0,1]}set(_e){const be=this.current;(_e[0]!==be[0]||_e[1]!==be[1]||this.dirty)&&(this.gl.depthRange(_e[0],_e[1]),this.current=_e,this.dirty=!1)}}class aa extends cn{getDefault(){return!1}set(_e){if(_e===this.current&&!this.dirty)return;const be=this.gl;_e?be.enable(be.DEPTH_TEST):be.disable(be.DEPTH_TEST),this.current=_e,this.dirty=!1}}class ra extends cn{getDefault(){return this.gl.LESS}set(_e){(_e!==this.current||this.dirty)&&(this.gl.depthFunc(_e),this.current=_e,this.dirty=!1)}}class ia extends cn{getDefault(){return!1}set(_e){if(_e===this.current&&!this.dirty)return;const be=this.gl;_e?be.enable(be.BLEND):be.disable(be.BLEND),this.current=_e,this.dirty=!1}}class da extends cn{getDefault(){const _e=this.gl;return[_e.ONE,_e.ZERO]}set(_e){const be=this.current;(_e[0]!==be[0]||_e[1]!==be[1]||this.dirty)&&(this.gl.blendFunc(_e[0],_e[1]),this.current=_e,this.dirty=!1)}}class la extends cn{getDefault(){return _e.Color.transparent}set(_e){const be=this.current;(_e.r!==be.r||_e.g!==be.g||_e.b!==be.b||_e.a!==be.a||this.dirty)&&(this.gl.blendColor(_e.r,_e.g,_e.b,_e.a),this.current=_e,this.dirty=!1)}}class ua extends cn{getDefault(){return this.gl.FUNC_ADD}set(_e){(_e!==this.current||this.dirty)&&(this.gl.blendEquation(_e),this.current=_e,this.dirty=!1)}}class ca extends cn{getDefault(){return!1}set(_e){if(_e===this.current&&!this.dirty)return;const be=this.gl;_e?be.enable(be.CULL_FACE):be.disable(be.CULL_FACE),this.current=_e,this.dirty=!1}}class ga extends cn{getDefault(){return this.gl.BACK}set(_e){(_e!==this.current||this.dirty)&&(this.gl.cullFace(_e),this.current=_e,this.dirty=!1)}}class ma extends cn{getDefault(){return this.gl.CCW}set(_e){(_e!==this.current||this.dirty)&&(this.gl.frontFace(_e),this.current=_e,this.dirty=!1)}}class ya extends cn{getDefault(){return null}set(_e){(_e!==this.current||this.dirty)&&(this.gl.useProgram(_e),this.current=_e,this.dirty=!1)}}class _a extends cn{getDefault(){return this.gl.TEXTURE0}set(_e){(_e!==this.current||this.dirty)&&(this.gl.activeTexture(_e),this.current=_e,this.dirty=!1)}}class va extends cn{getDefault(){const _e=this.gl;return[0,0,_e.drawingBufferWidth,_e.drawingBufferHeight]}set(_e){const be=this.current;(_e[0]!==be[0]||_e[1]!==be[1]||_e[2]!==be[2]||_e[3]!==be[3]||this.dirty)&&(this.gl.viewport(_e[0],_e[1],_e[2],_e[3]),this.current=_e,this.dirty=!1)}}class xa extends cn{getDefault(){return null}set(_e){if(_e===this.current&&!this.dirty)return;const be=this.gl;be.bindFramebuffer(be.FRAMEBUFFER,_e),this.current=_e,this.dirty=!1}}class ba extends cn{getDefault(){return null}set(_e){if(_e===this.current&&!this.dirty)return;const be=this.gl;be.bindRenderbuffer(be.RENDERBUFFER,_e),this.current=_e,this.dirty=!1}}class wa extends cn{getDefault(){return null}set(_e){if(_e===this.current&&!this.dirty)return;const be=this.gl;be.bindTexture(be.TEXTURE_2D,_e),this.current=_e,this.dirty=!1}}class Ea extends cn{getDefault(){return null}set(_e){if(_e===this.current&&!this.dirty)return;const be=this.gl;be.bindBuffer(be.ARRAY_BUFFER,_e),this.current=_e,this.dirty=!1}}class Ca extends cn{getDefault(){return null}set(_e){const be=this.gl;be.bindBuffer(be.ELEMENT_ARRAY_BUFFER,_e),this.current=_e,this.dirty=!1}}class Aa extends cn{constructor(_e){super(_e),this.vao=_e.extVertexArrayObject}getDefault(){return null}set(_e){this.vao&&(_e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(_e),this.current=_e,this.dirty=!1)}}class Da extends cn{getDefault(){return 4}set(_e){if(_e===this.current&&!this.dirty)return;const be=this.gl;be.pixelStorei(be.UNPACK_ALIGNMENT,_e),this.current=_e,this.dirty=!1}}class ka extends cn{getDefault(){return!1}set(_e){if(_e===this.current&&!this.dirty)return;const be=this.gl;be.pixelStorei(be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e),this.current=_e,this.dirty=!1}}class Ia extends cn{getDefault(){return!1}set(_e){if(_e===this.current&&!this.dirty)return;const be=this.gl;be.pixelStorei(be.UNPACK_FLIP_Y_WEBGL,_e),this.current=_e,this.dirty=!1}}class La extends cn{constructor(_e,be){super(_e),this.context=_e,this.parent=be}getDefault(){return null}}class Fa extends La{setDirty(){this.dirty=!0}set(_e){if(_e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const be=this.gl;be.framebufferTexture2D(be.FRAMEBUFFER,be.COLOR_ATTACHMENT0,be.TEXTURE_2D,_e,0),this.current=_e,this.dirty=!1}}class Ba extends La{attachment(){return this.gl.DEPTH_ATTACHMENT}set(_e){if(_e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const be=this.gl;be.framebufferRenderbuffer(be.FRAMEBUFFER,this.attachment(),be.RENDERBUFFER,_e),this.current=_e,this.dirty=!1}}class za extends Ba{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ja{constructor(_e,be,Te,Pe){this.context=_e,this.width=be,this.height=Te;const pt=this.framebuffer=_e.gl.createFramebuffer();this.colorAttachment=new Fa(_e,pt),Pe&&(this.depthAttachment=new Ba(_e,pt))}destroy(){const _e=this.context.gl,be=this.colorAttachment.get();if(be&&_e.deleteTexture(be),this.depthAttachment){const be=this.depthAttachment.get();be&&_e.deleteRenderbuffer(be)}_e.deleteFramebuffer(this.framebuffer)}}class Na{constructor(_e){this.gl=_e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new hn(this),this.clearDepth=new pn(this),this.clearStencil=new xn(this),this.colorMask=new Pn(this),this.depthMask=new Ln(this),this.stencilMask=new Fn(this),this.stencilFunc=new jn(this),this.stencilOp=new $n(this),this.stencilTest=new ea(this),this.depthRange=new na(this),this.depthTest=new aa(this),this.depthFunc=new ra(this),this.blend=new ia(this),this.blendFunc=new da(this),this.blendColor=new la(this),this.blendEquation=new ua(this),this.cullFace=new ca(this),this.cullFaceSide=new ga(this),this.frontFace=new ma(this),this.program=new ya(this),this.activeTexture=new _a(this),this.viewport=new va(this),this.bindFramebuffer=new xa(this),this.bindRenderbuffer=new ba(this),this.bindTexture=new wa(this),this.bindVertexBuffer=new Ea(this),this.bindElementBuffer=new Ca(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Aa(this),this.pixelStoreUnpack=new Da(this),this.pixelStoreUnpackPremultiplyAlpha=new ka(this),this.pixelStoreUnpackFlipY=new Ia(this),this.extTextureFilterAnisotropic=_e.getExtension("EXT_texture_filter_anisotropic")||_e.getExtension("MOZ_EXT_texture_filter_anisotropic")||_e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=_e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extTextureHalfFloat=_e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(_e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=_e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=_e.getExtension("OES_standard_derivatives"),this.extTimerQuery=_e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=_e.getParameter(_e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(_e,be){return new Yt(this,_e,be)}createVertexBuffer(_e,be,Te){return new an(this,_e,be,Te)}createRenderbuffer(_e,be,Te){const Pe=this.gl,pt=Pe.createRenderbuffer();return this.bindRenderbuffer.set(pt),Pe.renderbufferStorage(Pe.RENDERBUFFER,_e,be,Te),this.bindRenderbuffer.set(null),pt}createFramebuffer(_e,be,Te){return new ja(this,_e,be,Te)}clear({color:_e,depth:be,stencil:Te}){const Pe=this.gl;let pt=0;_e&&(pt|=Pe.COLOR_BUFFER_BIT,this.clearColor.set(_e),this.colorMask.set([!0,!0,!0,!0])),void 0!==be&&(pt|=Pe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(be),this.depthMask.set(!0)),void 0!==Te&&(pt|=Pe.STENCIL_BUFFER_BIT,this.clearStencil.set(Te),this.stencilMask.set(255)),Pe.clear(pt)}setCullFace(_e){!1===_e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(_e.mode),this.frontFace.set(_e.frontFace))}setDepthMode(_e){_e.func!==this.gl.ALWAYS||_e.mask?(this.depthTest.set(!0),this.depthFunc.set(_e.func),this.depthMask.set(_e.mask),this.depthRange.set(_e.range)):this.depthTest.set(!1)}setStencilMode(_e){_e.test.func!==this.gl.ALWAYS||_e.mask?(this.stencilTest.set(!0),this.stencilMask.set(_e.mask),this.stencilOp.set([_e.fail,_e.depthFail,_e.pass]),this.stencilFunc.set({func:_e.test.func,ref:_e.ref,mask:_e.test.mask})):this.stencilTest.set(!1)}setColorMode(be){t(be.blendFunction,_e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(be.blendFunction),this.blendColor.set(be.blendColor)),this.colorMask.set(be.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ga extends _e.Evented{constructor(be,Te,Pe,pt){super(),this.id=be,this.dispatcher=Pe,this.setEventedParent(pt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=_e.extend({type:"raster"},Te),_e.extend(this,_e.pick(Te,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new _e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=F(this._options,this.map._requestManager,null,null,((be,Te)=>{this._tileJSONRequest=null,this._loaded=!0,be?this.fire(new _e.ErrorEvent(be)):Te&&(_e.extend(this,Te),Te.bounds&&(this.tileBounds=new Jt(Te.bounds,this.minzoom,this.maxzoom)),_e.postTurnstileEvent(Te.tiles),this.fire(new _e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new _e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}onAdd(_e){this.map=_e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return _e.extend({},this._options)}hasTile(_e){return!this.tileBounds||this.tileBounds.contains(_e.canonical)}loadTile(be,Te){const Pe=_e.exported.devicePixelRatio>=2,pt=this.map._requestManager.normalizeTileURL(be.tileID.canonical.url(this.tiles,this.scheme),Pe,this.tileSize);be.request=_e.getImage(this.map._requestManager.transformRequest(pt,_e.ResourceType.Tile),((Pe,pt,vt,xt)=>(delete be.request,be.aborted?(be.state="unloaded",Te(null)):Pe?(be.state="errored",Te(Pe)):pt?(this.map._refreshExpiredTiles&&be.setExpiryData({cacheControl:vt,expires:xt}),be.setTexture(pt,this.map.painter),be.state="loaded",_e.cacheEntryPossiblyAdded(this.dispatcher),void Te(null)):Te(null))))}static loadTileData(_e,be,Te){_e.setTexture(be,Te)}static unloadTileData(_e,be){_e.texture&&be.saveTileTexture(_e.texture)}abortTile(_e,be){_e.request&&(_e.request.cancel(),delete _e.request),be()}unloadTile(_e,be){_e.texture&&this.map.painter.saveTileTexture(_e.texture),be()}hasTransition(){return!1}}let Ha;function ze(be,Te,Pe,pt,vt,xt,Tt,It){const Mt=[be,Pe,vt,Te,pt,xt,1,1,1],Lt=[Tt,It,1],Ft=_e.adjoint([],Mt),[Ot,Vt,qt]=_e.transformMat3(Lt,Lt,_e.transpose(Ft,Ft));return _e.multiply$1(Mt,[Ot,0,0,0,Vt,0,0,0,qt],Mt)}class $a extends _e.Evented{constructor(_e,be,Te,Pe){super(),this.id=_e,this.dispatcher=Te,this.coordinates=be.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Pe),this.options=be}load(be,Te){this._loaded=Te||!1,this.fire(new _e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,_e.getImage(this.map._requestManager.transformRequest(this.url,_e.ResourceType.Image),((Te,Pe)=>{if(this._loaded=!0,Te)this.fire(new _e.ErrorEvent(Te));else if(Pe){const{HTMLImageElement:Te}=_e.window;this.image=Pe instanceof Te?_e.exported.getImageData(Pe):Pe,this.width=this.image.width,this.height=this.image.height,be&&(this.coordinates=be),this._finishLoading()}}))}loaded(){return this._loaded}updateImage(_e){return this.image&&_e.url?(this.options.url=_e.url,this.load(_e.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new _e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(_e){this.map=_e,this.load()}onRemove(){this.texture&&this.texture.destroy()}setCoordinates(be){this.coordinates=be,this._boundsArray=void 0;const Te=be.map(_e.MercatorCoordinate.fromLngLat);return this.tileID=function(be){let Te=1/0,Pe=1/0,pt=-1/0,vt=-1/0;for(const _e of be)Te=Math.min(Te,_e.x),Pe=Math.min(Pe,_e.y),pt=Math.max(pt,_e.x),vt=Math.max(vt,_e.y);const xt=Math.max(pt-Te,vt-Pe),Tt=Math.max(0,Math.floor(-Math.log(xt)/Math.LN2)),It=Math.pow(2,Tt);return new _e.CanonicalTileID(Tt,Math.floor((Te+pt)/2*It),Math.floor((Pe+vt)/2*It))}(Te),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new _e.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(be){for(const _e in this.tiles){const be=this.tiles[_e];"loaded"!==be.state&&(be.state="loaded",be.texture=this.texture)}if(this._boundsArray)return;const Te=_e.tileTransform(this.tileID,this.map.transform.projection),[Pe,pt,vt,xt]=this.coordinates.map((be=>{const Pe=Te.projection.project(be[0],be[1]);return _e.getTilePoint(Te,Pe)._round()}));this.perspectiveTransform=function(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt){const Ft=ze(0,0,be,0,0,Te,be,Te),Ot=ze(Pe,pt,vt,xt,Tt,It,Mt,Lt);return _e.multiply$1(Ot,_e.adjoint(Ft,Ft),Ot),[Ot[6]/Ot[8]*be/_e.EXTENT,Ot[7]/Ot[8]*Te/_e.EXTENT]}(this.width,this.height,Pe.x,Pe.y,pt.x,pt.y,xt.x,xt.y,vt.x,vt.y);const Tt=this._boundsArray=new _e.StructArrayLayout4i8;Tt.emplaceBack(Pe.x,Pe.y,0,0),Tt.emplaceBack(pt.x,pt.y,_e.EXTENT,0),Tt.emplaceBack(xt.x,xt.y,0,_e.EXTENT),Tt.emplaceBack(vt.x,vt.y,_e.EXTENT,_e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=be.createVertexBuffer(Tt,_e.boundsAttributes.members),this.boundsSegments=_e.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const be=this.map.painter.context,Te=be.gl;this.texture?this.texture.update(this.image):(this.texture=new _e.Texture(be,this.image,Te.RGBA),this.texture.bind(Te.LINEAR,Te.CLAMP_TO_EDGE)),this._prepareData(be)}loadTile(_e,be){this.tileID&&this.tileID.equals(_e.tileID.canonical)?(this.tiles[String(_e.tileID.wrap)]=_e,_e.buckets={},be(null)):(_e.state="errored",be(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ja={vector:class extends _e.Evented{constructor(be,Te,Pe,pt){if(super(),this.id=be,this.dispatcher=Pe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,_e.extend(this,_e.pick(Te,["url","scheme","tileSize","promoteId"])),this._options=_e.extend({type:"vector"},Te),this._collectResourceTiming=Te.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(pt),this._tileWorkers={},this._deduped=new _e.DedupedRequest}load(be){this._loaded=!1,this.fire(new _e.Event("dataloading",{dataType:"source"}));const Te=this.language||this.map._language,Pe=this.worldview||this.map._worldview;this._tileJSONRequest=F(this._options,this.map._requestManager,Te,Pe,((pt,vt)=>{this._tileJSONRequest=null,this._loaded=!0,pt?(Te&&console.warn(`Ensure that your requested language string is a valid BCP-47 code. Found: ${Te}`),Pe&&2!==Pe.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${Pe}`),this.fire(new _e.ErrorEvent(pt))):vt&&(_e.extend(this,vt),vt.bounds&&(this.tileBounds=new Jt(vt.bounds,this.minzoom,this.maxzoom)),_e.postTurnstileEvent(vt.tiles,this.map._requestManager._customAccessToken),this.fire(new _e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new _e.Event("data",{dataType:"source",sourceDataType:"content"}))),be&&be(pt)}))}loaded(){return this._loaded}hasTile(_e){return!this.tileBounds||this.tileBounds.contains(_e.canonical)}onAdd(_e){this.map=_e,this.load()}setSourceProperty(_e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),_e(),this.load((()=>{const _e=this.map.style._getSourceCaches(this.id);for(const be of _e)be.clearTiles()}))}setTiles(_e){return this.setSourceProperty((()=>{this._options.tiles=_e})),this}setUrl(_e){return this.setSourceProperty((()=>{this.url=_e,this._options.url=_e})),this}_setLanguage(_e){return _e===this.language||this.setSourceProperty((()=>{this.language=_e})),this}_setWorldview(_e){return _e===this.worldview?this:this.worldviewOptions&&_e&&!this.worldviewOptions[_e]?(console.warn(`Vector tile source "${this.id}" does not support worldview "${_e}".`),this):(this.setSourceProperty((()=>{this.worldview=_e})),this)}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return _e.extend({},this._options)}loadTile(be,Te){const Pe=this.map._requestManager.normalizeTileURL(be.tileID.canonical.url(this.tiles,this.scheme)),pt={request:this.map._requestManager.transformRequest(Pe,_e.ResourceType.Tile),data:void 0,uid:be.uid,tileID:be.tileID,tileZoom:be.tileZoom,zoom:be.tileID.overscaledZ,tileSize:this.tileSize*be.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:_e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:be.isSymbolTile};if(pt.request.collectResourceTiming=this._collectResourceTiming,be.actor&&"expired"!==be.state)"loading"===be.state?be.reloadCallback=Te:be.request=be.actor.send("reloadTile",pt,n.bind(this));else if(be.actor=this._tileWorkers[Pe]=this._tileWorkers[Pe]||this.dispatcher.getActor(),this.dispatcher.ready)be.request=be.actor.send("loadTile",pt,n.bind(this),void 0,!0);else{const Te=_e.loadVectorTile.call({deduped:this._deduped},pt,((_e,Te)=>{_e||!Te?n.call(this,_e):(pt.data={cacheControl:Te.cacheControl,expires:Te.expires,rawData:Te.rawData.slice(0)},be.actor&&be.actor.send("loadTile",pt,n.bind(this),void 0,!0))}),!0);be.request={cancel:Te}}function n(Pe,pt){return delete be.request,be.aborted?Te(null):Pe&&404!==Pe.status?Te(Pe):(pt&&pt.resourceTiming&&(be.resourceTiming=pt.resourceTiming),this.map._refreshExpiredTiles&&pt&&be.setExpiryData(pt),be.loadVectorData(pt,this.map.painter),_e.cacheEntryPossiblyAdded(this.dispatcher),Te(null),void(be.reloadCallback&&(this.loadTile(be,be.reloadCallback),be.reloadCallback=null)))}}abortTile(_e){_e.request&&(_e.request.cancel(),delete _e.request),_e.actor&&_e.actor.send("abortTile",{uid:_e.uid,type:this.type,source:this.id})}unloadTile(_e){_e.unloadVectorData(),_e.actor&&_e.actor.send("removeTile",{uid:_e.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:Ga,"raster-dem":class extends Ga{constructor(be,Te,Pe,pt){super(be,Te,Pe,pt),this.type="raster-dem",this.maxzoom=22,this._options=_e.extend({type:"raster-dem"},Te),this.encoding=Te.encoding||"mapbox"}loadTile(be,Te){const Pe=this.map._requestManager.normalizeTileURL(be.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(_e,Pe){_e&&(be.state="errored",Te(_e)),Pe&&(be.dem=Pe,be.dem.onDeserialize(),be.needsHillshadePrepare=!0,be.needsDEMTextureUpload=!0,be.state="loaded",Te(null))}be.request=_e.getImage(this.map._requestManager.transformRequest(Pe,_e.ResourceType.Tile),function(Pe,pt,vt,xt){if(delete be.request,be.aborted)be.state="unloaded",Te(null);else if(Pe)be.state="errored",Te(Pe);else if(pt){this.map._refreshExpiredTiles&&be.setExpiryData({cacheControl:vt,expires:xt});const Te=_e.window.ImageBitmap&&pt instanceof _e.window.ImageBitmap&&(null==Ha&&(Ha=_e.window.OffscreenCanvas&&new _e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof _e.window.createImageBitmap),Ha),Pe=1-(pt.width-_e.prevPowerOfTwo(pt.width))/2;Pe<1||be.neighboringTiles||(be.neighboringTiles=this._getNeighboringTiles(be.tileID));const Tt=Te?pt:_e.exported.getImageData(pt,Pe),It={uid:be.uid,coord:be.tileID,source:this.id,rawImageData:Tt,encoding:this.encoding,padding:Pe};be.actor&&"expired"!==be.state||(be.actor=this.dispatcher.getActor(),be.actor.send("loadDEMTile",It,r.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(be){const Te=be.canonical,Pe=Math.pow(2,Te.z),pt=(Te.x-1+Pe)%Pe,vt=0===Te.x?be.wrap-1:be.wrap,xt=(Te.x+1+Pe)%Pe,Tt=Te.x+1===Pe?be.wrap+1:be.wrap,It={};return It[new _e.OverscaledTileID(be.overscaledZ,vt,Te.z,pt,Te.y).key]={backfilled:!1},It[new _e.OverscaledTileID(be.overscaledZ,Tt,Te.z,xt,Te.y).key]={backfilled:!1},Te.y>0&&(It[new _e.OverscaledTileID(be.overscaledZ,vt,Te.z,pt,Te.y-1).key]={backfilled:!1},It[new _e.OverscaledTileID(be.overscaledZ,be.wrap,Te.z,Te.x,Te.y-1).key]={backfilled:!1},It[new _e.OverscaledTileID(be.overscaledZ,Tt,Te.z,xt,Te.y-1).key]={backfilled:!1}),Te.y+1<Pe&&(It[new _e.OverscaledTileID(be.overscaledZ,vt,Te.z,pt,Te.y+1).key]={backfilled:!1},It[new _e.OverscaledTileID(be.overscaledZ,be.wrap,Te.z,Te.x,Te.y+1).key]={backfilled:!1},It[new _e.OverscaledTileID(be.overscaledZ,Tt,Te.z,xt,Te.y+1).key]={backfilled:!1}),It}unloadTile(_e){_e.demTexture&&this.map.painter.saveTileTexture(_e.demTexture),_e.fbo&&(_e.fbo.destroy(),delete _e.fbo),_e.dem&&delete _e.dem,delete _e.neighboringTiles,_e.state="unloaded"}},geojson:class extends _e.Evented{constructor(be,Te,Pe,pt){super(),this.id=be,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=Pe.getActor(),this.setEventedParent(pt),this._data=Te.data,this._options=_e.extend({},Te),this._collectResourceTiming=Te.collectResourceTiming,void 0!==Te.maxzoom&&(this.maxzoom=Te.maxzoom),Te.type&&(this.type=Te.type),Te.attribution&&(this.attribution=Te.attribution),this.promoteId=Te.promoteId;const vt=_e.EXTENT/this.tileSize;this.workerOptions=_e.extend({source:this.id,cluster:Te.cluster||!1,geojsonVtOptions:{buffer:(void 0!==Te.buffer?Te.buffer:128)*vt,tolerance:(void 0!==Te.tolerance?Te.tolerance:.375)*vt,extent:_e.EXTENT,maxZoom:this.maxzoom,lineMetrics:Te.lineMetrics||!1,generateId:Te.generateId||!1},superclusterOptions:{maxZoom:void 0!==Te.clusterMaxZoom?Te.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,Te.clusterMinPoints||2),extent:_e.EXTENT,radius:(void 0!==Te.clusterRadius?Te.clusterRadius:50)*vt,log:!1,generateId:Te.generateId||!1},clusterProperties:Te.clusterProperties,filter:Te.filter},Te.workerOptions)}onAdd(_e){this.map=_e,this.setData(this._data)}setData(_e){return this._data=_e,this._updateWorkerData(),this}getClusterExpansionZoom(_e,be){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:_e,source:this.id},be),this}getClusterChildren(_e,be){return this.actor.send("geojson.getClusterChildren",{clusterId:_e,source:this.id},be),this}getClusterLeaves(_e,be,Te,Pe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:_e,limit:be,offset:Te},Pe),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new _e.Event("dataloading",{dataType:"source"})),this._loaded=!1;const be=_e.extend({},this.workerOptions),Te=this._data;"string"==typeof Te?(be.request=this.map._requestManager.transformRequest(_e.exported.resolveURL(Te),_e.ResourceType.Source),be.request.collectResourceTiming=this._collectResourceTiming):be.data=JSON.stringify(Te),this._pendingLoad=this.actor.send(`${this.type}.loadData`,be,((be,Te)=>{if(this._loaded=!0,this._pendingLoad=null,be)this.fire(new _e.ErrorEvent(be));else{const be={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&Te&&Te.resourceTiming&&Te.resourceTiming[this.id]&&(be.resourceTiming=Te.resourceTiming[this.id]),this.fire(new _e.Event("data",be)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)}))}loaded(){return this._loaded}loadTile(be,Te){const Pe=be.actor?"reloadTile":"loadTile";be.actor=this.actor,be.request=this.actor.send(Pe,{type:this.type,uid:be.uid,tileID:be.tileID,tileZoom:be.tileZoom,zoom:be.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:_e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},((_e,pt)=>(delete be.request,be.unloadVectorData(),be.aborted?Te(null):_e?Te(_e):(be.loadVectorData(pt,this.map.painter,"reloadTile"===Pe),Te(null)))),void 0,"loadTile"===Pe)}abortTile(_e){_e.request&&(_e.request.cancel(),delete _e.request),_e.aborted=!0}unloadTile(_e){_e.unloadVectorData(),this.actor.send("removeTile",{uid:_e.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return _e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends $a{constructor(_e,be,Te,Pe){super(_e,be,Te,Pe),this.roundZoom=!0,this.type="video",this.options=be}load(){this._loaded=!1;const be=this.options;this.urls=[];for(const Te of be.urls)this.urls.push(this.map._requestManager.transformRequest(Te,_e.ResourceType.Source).url);_e.getVideo(this.urls,((be,Te)=>{this._loaded=!0,be?this.fire(new _e.ErrorEvent(be)):Te&&(this.video=Te,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(be){if(this.video){const Te=this.video.seekable;be<Te.start(0)||be>Te.end(0)?this.fire(new _e.ErrorEvent(new _e.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${Te.start(0)} and ${Te.end(0)}-second mark.`))):this.video.currentTime=be}}getVideo(){return this.video}onAdd(_e){this.map||(this.map=_e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const be=this.map.painter.context,Te=be.gl;this.texture?this.video.paused||(this.texture.bind(Te.LINEAR,Te.CLAMP_TO_EDGE),Te.texSubImage2D(Te.TEXTURE_2D,0,0,0,Te.RGBA,Te.UNSIGNED_BYTE,this.video)):(this.texture=new _e.Texture(be,this.video,Te.RGBA),this.texture.bind(Te.LINEAR,Te.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(be)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:$a,canvas:class extends $a{constructor(be,Te,Pe,pt){super(be,Te,Pe,pt),Te.coordinates?Array.isArray(Te.coordinates)&&4===Te.coordinates.length&&!Te.coordinates.some((_e=>!Array.isArray(_e)||2!==_e.length||_e.some((_e=>"number"!=typeof _e))))||this.fire(new _e.ErrorEvent(new _e.ValidationError(`sources.${be}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new _e.ErrorEvent(new _e.ValidationError(`sources.${be}`,null,'missing required property "coordinates"'))),Te.animate&&"boolean"!=typeof Te.animate&&this.fire(new _e.ErrorEvent(new _e.ValidationError(`sources.${be}`,null,'optional "animate" property must be a boolean value'))),Te.canvas?"string"==typeof Te.canvas||Te.canvas instanceof _e.window.HTMLCanvasElement||this.fire(new _e.ErrorEvent(new _e.ValidationError(`sources.${be}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new _e.ErrorEvent(new _e.ValidationError(`sources.${be}`,null,'missing required property "canvas"'))),this.options=Te,this.animate=void 0===Te.animate||Te.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof _e.window.HTMLCanvasElement?this.options.canvas:_e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new _e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(_e){this.map=_e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let be=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,be=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,be=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const Te=this.map.painter.context;this.texture?(be||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new _e.Texture(Te,this.canvas,Te.gl.RGBA,{premultiply:!0}),this._prepareData(Te)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const _e of[this.canvas.width,this.canvas.height])if(isNaN(_e)||_e<=0)return!0;return!1}},custom:class extends _e.Evented{constructor(be,Te,Pe,pt){super(),this.id=be,this.type="custom",this._dataType="raster",this._dispatcher=Pe,this._implementation=Te,this.setEventedParent(pt),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new _e.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new _e.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Jt(this._implementation.bounds,this.minzoom,this.maxzoom)),Te.update=this._update.bind(this),Te.coveringTiles=this._coveringTiles.bind(this),_e.extend(this,_e.pick(Te,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return _e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new _e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new _e.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(be){this._map=be,this._loaded=!1,this.fire(new _e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(be),this.load()}onRemove(_e){this._implementation.onRemove&&this._implementation.onRemove(_e)}hasTile(_e){if(this._implementation.hasTile){const{x:be,y:Te,z:Pe}=_e.canonical;return this._implementation.hasTile({x:be,y:Te,z:Pe})}return!this.tileBounds||this.tileBounds.contains(_e.canonical)}loadTile(be,Te){const{x:Pe,y:pt,z:vt}=be.tileID.canonical,xt=new _e.window.AbortController,Tt=this._implementation.loadTile({x:Pe,y:pt,z:vt},{signal:xt.signal});if(!Tt)return this.loadTileData(be,{width:this.tileSize,height:this.tileSize,data:null}),be.state="loaded",Te(null);Tt.cancel=()=>xt.abort(),be.request=Tt.then(function(Pe){return delete be.request,be.aborted?(be.state="unloaded",Te(null)):Pe?function(be){return be instanceof _e.window.ImageData||be instanceof _e.window.ImageBitmap||be instanceof _e.window.HTMLCanvasElement}(Pe)?(this.loadTileData(be,Pe),be.state="loaded",void Te(null)):(be.state="errored",Te(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`))):(this.loadTileData(be,{width:this.tileSize,height:this.tileSize,data:null}),be.state="loaded",Te(null))}.bind(this)).catch((_e=>{20!==_e.code&&(be.state="errored",Te(_e))}))}loadTileData(_e,be){Ga.loadTileData(_e,be,this._map.painter)}unloadTileData(_e){Ga.unloadTileData(_e,this._map.painter)}prepareTile(_e){if(!this._implementation.prepareTile)return null;const{x:be,y:Te,z:Pe}=_e.tileID.canonical,pt=this._implementation.prepareTile({x:be,y:Te,z:Pe});return pt?(this.loadTileData(_e,pt),_e.state="loaded",pt):null}unloadTile(_e,be){if(this.unloadTileData(_e),this._implementation.unloadTile){const{x:be,y:Te,z:Pe}=_e.tileID.canonical;this._implementation.unloadTile({x:be,y:Te,z:Pe})}be()}abortTile(_e,be){_e.request&&_e.request.cancel&&(_e.request.cancel(),delete _e.request),be()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((_e=>({x:_e.canonical.x,y:_e.canonical.y,z:_e.canonical.z})))}_update(){this.fire(new _e.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Ae=function(be,Te,Pe,pt){const vt=new Ja[Te.type](be,Te,Pe,pt);if(vt.id!==be)throw new Error(`Expected Source id to be ${be} instead of ${vt.id}`);return _e.bindAll(["load","abort","unload","serialize","prepare"],vt),vt};function Le(be,Te){const Pe=_e.identity([]);return _e.scale(Pe,Pe,[.5*be.width,.5*-be.height,1]),_e.translate(Pe,Pe,[1,-1,0]),_e.multiply(Pe,Pe,be.calculateProjMatrix(Te.toUnwrapped())),Float32Array.from(Pe)}function Re(_e,be,Te,Pe,pt,vt,xt,Tt=!1){const It=_e.tilesIn(Pe,xt,Tt);It.sort(ke);const Mt=[];for(const Pe of It)Mt.push({wrappedTileID:Pe.tile.tileID.wrapped().key,queryResults:Pe.tile.queryRenderedFeatures(be,Te,_e._state,Pe,pt,vt,Le(_e.transform,Pe.tile.tileID),Tt)});const Lt=function(_e){const be={},Te={};for(const Pe of _e){const _e=Pe.queryResults,pt=Pe.wrappedTileID,vt=Te[pt]=Te[pt]||{};for(const Te in _e){const Pe=_e[Te],pt=vt[Te]=vt[Te]||{},xt=be[Te]=be[Te]||[];for(const _e of Pe)pt[_e.featureIndex]||(pt[_e.featureIndex]=!0,xt.push(_e))}}return be}(Mt);for(const be in Lt)Lt[be].forEach((be=>{const Te=be.feature,Pe=Te.layer;Pe&&"background"!==Pe.type&&"sky"!==Pe.type&&(Te.source=Pe.source,Pe["source-layer"]&&(Te.sourceLayer=Pe["source-layer"]),Te.state=void 0!==Te.id?_e.getFeatureState(Pe["source-layer"],Te.id):{})}));return Lt}function Oe(_e,be){const Te=_e.getRenderableIds().map((be=>_e.getTileByID(be))),Pe=[],pt={};for(let _e=0;_e<Te.length;_e++){const vt=Te[_e],xt=vt.tileID.canonical.key;pt[xt]||(pt[xt]=!0,vt.querySourceFeatures(Pe,be))}return Pe}function ke(_e,be){const Te=_e.tileID,Pe=be.tileID;return Te.overscaledZ-Pe.overscaledZ||Te.canonical.y-Pe.canonical.y||Te.wrap-Pe.wrap||Te.canonical.x-Pe.canonical.x}function Be(){return null!=Fc.workerClass?new Fc.workerClass:new _e.window.Worker(Fc.workerUrl)}const sr="mapboxgl_preloaded_worker_pool";class ur{constructor(){this.active={}}acquire(_e){if(!this.workers)for(this.workers=[];this.workers.length<ur.workerCount;)this.workers.push(new Be);return this.active[_e]=!0,this.workers.slice()}release(_e){delete this.active[_e],0===this.numActive()&&(this.workers.forEach((_e=>{_e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[sr]}numActive(){return Object.keys(this.active).length}}let cr;function Ge(){return cr||(cr=new ur),cr}function je(be,Te){const Pe={};for(const _e in be)"ref"!==_e&&(Pe[_e]=be[_e]);return _e.refProperties.forEach((_e=>{_e in Te&&(Pe[_e]=Te[_e])})),Pe}function Ze(_e){_e=_e.slice();const be=Object.create(null);for(let Te=0;Te<_e.length;Te++)be[_e[Te].id]=_e[Te];for(let Te=0;Te<_e.length;Te++)"ref"in _e[Te]&&(_e[Te]=je(_e[Te],be[_e[Te].ref]));return _e}ur.workerCount=2;const pr={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function We(_e,be,Te){Te.push({command:pr.addSource,args:[_e,be[_e]]})}function Xe(_e,be,Te){be.push({command:pr.removeSource,args:[_e]}),Te[_e]=!0}function qe(_e,be,Te,Pe){Xe(_e,Te,Pe),We(_e,be,Te)}function $e(_e,be,Te){let Pe;for(Pe in _e[Te])if(_e[Te].hasOwnProperty(Pe)&&"data"!==Pe&&!t(_e[Te][Pe],be[Te][Pe]))return!1;for(Pe in be[Te])if(be[Te].hasOwnProperty(Pe)&&"data"!==Pe&&!t(_e[Te][Pe],be[Te][Pe]))return!1;return!0}function He(_e,be,Te,Pe,pt,vt){let xt;for(xt in be=be||{},_e=_e||{})_e.hasOwnProperty(xt)&&(t(_e[xt],be[xt])||Te.push({command:vt,args:[Pe,xt,be[xt],pt]}));for(xt in be)be.hasOwnProperty(xt)&&!_e.hasOwnProperty(xt)&&(t(_e[xt],be[xt])||Te.push({command:vt,args:[Pe,xt,be[xt],pt]}))}function Ye(_e){return _e.id}function Ke(_e,be){return _e[be.id]=be,_e}class mr{constructor(_e,be){this.reset(_e,be)}reset(_e,be){this.points=_e||[],this._distances=[0];for(let _e=1;_e<this.points.length;_e++)this._distances[_e]=this._distances[_e-1]+this.points[_e].dist(this.points[_e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(be||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(be){if(1===this.points.length)return this.points[0];be=_e.clamp(be,0,1);let Te=1,Pe=this._distances[Te];const pt=be*this.paddedLength+this.padding;for(;Pe<pt&&Te<this._distances.length;)Pe=this._distances[++Te];const vt=Te-1,xt=this._distances[vt],Tt=Pe-xt,It=Tt>0?(pt-xt)/Tt:0;return this.points[vt].mult(1-It).add(this.points[Te].mult(It))}}class yr{constructor(_e,be,Te){const Pe=this.boxCells=[],pt=this.circleCells=[];this.xCellCount=Math.ceil(_e/Te),this.yCellCount=Math.ceil(be/Te);for(let _e=0;_e<this.xCellCount*this.yCellCount;_e++)Pe.push([]),pt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=_e,this.height=be,this.xScale=this.xCellCount/_e,this.yScale=this.yCellCount/be,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(_e,be,Te,Pe,pt){this._forEachCell(be,Te,Pe,pt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(_e),this.bboxes.push(be),this.bboxes.push(Te),this.bboxes.push(Pe),this.bboxes.push(pt)}insertCircle(_e,be,Te,Pe){this._forEachCell(be-Pe,Te-Pe,be+Pe,Te+Pe,this._insertCircleCell,this.circleUid++),this.circleKeys.push(_e),this.circles.push(be),this.circles.push(Te),this.circles.push(Pe)}_insertBoxCell(_e,be,Te,Pe,pt,vt){this.boxCells[pt].push(vt)}_insertCircleCell(_e,be,Te,Pe,pt,vt){this.circleCells[pt].push(vt)}_query(_e,be,Te,Pe,pt,vt){if(Te<0||_e>this.width||Pe<0||be>this.height)return!pt&&[];const xt=[];if(_e<=0&&be<=0&&this.width<=Te&&this.height<=Pe){if(pt)return!0;for(let _e=0;_e<this.boxKeys.length;_e++)xt.push({key:this.boxKeys[_e],x1:this.bboxes[4*_e],y1:this.bboxes[4*_e+1],x2:this.bboxes[4*_e+2],y2:this.bboxes[4*_e+3]});for(let _e=0;_e<this.circleKeys.length;_e++){const be=this.circles[3*_e],Te=this.circles[3*_e+1],Pe=this.circles[3*_e+2];xt.push({key:this.circleKeys[_e],x1:be-Pe,y1:Te-Pe,x2:be+Pe,y2:Te+Pe})}return vt?xt.filter(vt):xt}return this._forEachCell(_e,be,Te,Pe,this._queryCell,xt,{hitTest:pt,seenUids:{box:{},circle:{}}},vt),pt?xt.length>0:xt}_queryCircle(_e,be,Te,Pe,pt){const vt=_e-Te,xt=_e+Te,Tt=be-Te,It=be+Te;if(xt<0||vt>this.width||It<0||Tt>this.height)return!Pe&&[];const Mt=[];return this._forEachCell(vt,Tt,xt,It,this._queryCellCircle,Mt,{hitTest:Pe,circle:{x:_e,y:be,radius:Te},seenUids:{box:{},circle:{}}},pt),Pe?Mt.length>0:Mt}query(_e,be,Te,Pe,pt){return this._query(_e,be,Te,Pe,!1,pt)}hitTest(_e,be,Te,Pe,pt){return this._query(_e,be,Te,Pe,!0,pt)}hitTestCircle(_e,be,Te,Pe){return this._queryCircle(_e,be,Te,!0,Pe)}_queryCell(_e,be,Te,Pe,pt,vt,xt,Tt){const It=xt.seenUids,Mt=this.boxCells[pt];if(null!==Mt){const pt=this.bboxes;for(const Lt of Mt)if(!It.box[Lt]){It.box[Lt]=!0;const Mt=4*Lt;if(_e<=pt[Mt+2]&&be<=pt[Mt+3]&&Te>=pt[Mt+0]&&Pe>=pt[Mt+1]&&(!Tt||Tt(this.boxKeys[Lt]))){if(xt.hitTest)return vt.push(!0),!0;vt.push({key:this.boxKeys[Lt],x1:pt[Mt],y1:pt[Mt+1],x2:pt[Mt+2],y2:pt[Mt+3]})}}}const Lt=this.circleCells[pt];if(null!==Lt){const pt=this.circles;for(const Mt of Lt)if(!It.circle[Mt]){It.circle[Mt]=!0;const Lt=3*Mt;if(this._circleAndRectCollide(pt[Lt],pt[Lt+1],pt[Lt+2],_e,be,Te,Pe)&&(!Tt||Tt(this.circleKeys[Mt]))){if(xt.hitTest)return vt.push(!0),!0;{const _e=pt[Lt],be=pt[Lt+1],Te=pt[Lt+2];vt.push({key:this.circleKeys[Mt],x1:_e-Te,y1:be-Te,x2:_e+Te,y2:be+Te})}}}}}_queryCellCircle(_e,be,Te,Pe,pt,vt,xt,Tt){const It=xt.circle,Mt=xt.seenUids,Lt=this.boxCells[pt];if(null!==Lt){const _e=this.bboxes;for(const be of Lt)if(!Mt.box[be]){Mt.box[be]=!0;const Te=4*be;if(this._circleAndRectCollide(It.x,It.y,It.radius,_e[Te+0],_e[Te+1],_e[Te+2],_e[Te+3])&&(!Tt||Tt(this.boxKeys[be])))return vt.push(!0),!0}}const Ft=this.circleCells[pt];if(null!==Ft){const _e=this.circles;for(const be of Ft)if(!Mt.circle[be]){Mt.circle[be]=!0;const Te=3*be;if(this._circlesCollide(_e[Te],_e[Te+1],_e[Te+2],It.x,It.y,It.radius)&&(!Tt||Tt(this.circleKeys[be])))return vt.push(!0),!0}}}_forEachCell(_e,be,Te,Pe,pt,vt,xt,Tt){const It=this._convertToXCellCoord(_e),Mt=this._convertToYCellCoord(be),Lt=this._convertToXCellCoord(Te),Ft=this._convertToYCellCoord(Pe);for(let Ot=It;Ot<=Lt;Ot++)for(let It=Mt;It<=Ft;It++)if(pt.call(this,_e,be,Te,Pe,this.xCellCount*It+Ot,vt,xt,Tt))return}_convertToXCellCoord(_e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(_e*this.xScale)))}_convertToYCellCoord(_e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(_e*this.yScale)))}_circlesCollide(_e,be,Te,Pe,pt,vt){const xt=Pe-_e,Tt=pt-be,It=Te+vt;return It*It>xt*xt+Tt*Tt}_circleAndRectCollide(_e,be,Te,Pe,pt,vt,xt){const Tt=(vt-Pe)/2,It=Math.abs(_e-(Pe+Tt));if(It>Tt+Te)return!1;const Mt=(xt-pt)/2,Lt=Math.abs(be-(pt+Mt));if(Lt>Mt+Te)return!1;if(It<=Tt||Lt<=Mt)return!0;const Ft=It-Tt,Ot=Lt-Mt;return Ft*Ft+Ot*Ot<=Te*Te}}const _r=Math.tan(85*Math.PI/180);function tt(be,Te,Pe,pt,vt,xt,Tt){const It=_e.create();if(Pe)if("globe"===xt.name){const be=_e.calculateGlobeLabelMatrix(vt,Te);_e.multiply(It,It,be)}else{const be=v([],Tt);It[0]=be[0],It[1]=be[1],It[4]=be[2],It[5]=be[3],pt||_e.rotateZ(It,It,vt.angle)}else _e.multiply(It,vt.labelPlaneMatrix,be);return It}function it(_e,be,Te,Pe,pt,vt,xt){const Tt=tt(_e,be,Te,Pe,pt,vt,xt);return"globe"===vt.name&&Te||(Tt[2]=Tt[6]=Tt[10]=Tt[14]=0),Tt}function ot(be,Te,Pe,pt,vt,xt,Tt){if(Pe){if("globe"===xt.name){const It=tt(be,Te,Pe,pt,vt,xt,Tt);return _e.invert(It,It),_e.multiply(It,be,It),It}{const Te=_e.clone(be),Pe=_e.identity([]);return Pe[0]=Tt[0],Pe[1]=Tt[1],Pe[4]=Tt[2],Pe[5]=Tt[3],_e.multiply(Te,Te,Pe),pt||_e.rotateZ(Te,Te,-vt.angle),Te}}return vt.glCoordMatrix}function rt(be,Te,Pe=0){const pt=[be.x,be.y,Pe,1];Pe?_e.transformMat4$1(pt,pt,Te):gt(pt,pt,Te);const vt=pt[3];return{point:[pt[0]/vt,pt[1]/vt,pt[2]/vt],signedDistanceFromCamera:vt}}function nt(be,Te){const Pe=[be[0],be[1],be[2],1];_e.transformMat4$1(Pe,Pe,Te);const pt=Pe[3];return{point:[Pe[0]/pt,Pe[1]/pt,Pe[2]/pt],signedDistanceFromCamera:pt}}function at(_e,be){return Math.min(.5+_e/be*.5,1.5)}function st(_e,be){const Te=_e[0]/_e[3],Pe=_e[1]/_e[3];return Te>=-be[0]&&Te<=be[0]&&Pe>=-be[1]&&Pe<=be[1]}function lt(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt){const Ft=Pe.transform,Ot=pt?be.textSizeData:be.iconSizeData,Vt=_e.evaluateSizeForZoom(Ot,Pe.transform.zoom),qt="globe"===Ft.projection.name,Wt=[256/Pe.width*2+1,256/Pe.height*2+1],$t=pt?be.text.dynamicLayoutVertexArray:be.icon.dynamicLayoutVertexArray;$t.clear();let Kt=null;qt&&(Kt=pt?be.text.globeExtVertexArray:be.icon.globeExtVertexArray);const Jt=be.lineVertexArray,Yt=pt?be.text.placedSymbolArray:be.icon.placedSymbolArray,Qt=Pe.transform.width/Pe.transform.height;let an=!1;for(let pt=0;pt<Yt.length;pt++){const qt=Yt.get(pt);if(qt.writingMode!==_e.WritingMode.vertical||an||0!==pt&&Yt.get(pt-1).writingMode===_e.WritingMode.horizontal||(an=!0),(qt.hidden||qt.writingMode===_e.WritingMode.vertical)&&!an){ft(qt.numGlyphs,$t);continue}an=!1;const cn=new _e.pointGeometry(qt.tileAnchorX,qt.tileAnchorY),hn=Mt?Mt(cn):[0,0,0],pn=Ft.projection.projectTilePoint(cn.x,cn.y,Lt.canonical),xn=[pn.x+hn[0],pn.y+hn[1],pn.z+hn[2]],Pn=[...xn,1];if(_e.transformMat4$1(Pn,Pn,Te),!st(Pn,Wt)){ft(qt.numGlyphs,$t);continue}const Ln=at(Pe.transform.cameraToCenterDistance,Pn[3]),Fn=_e.evaluateSizeForFeature(Ot,Vt,qt),jn=Tt?Fn/Ln:Fn*Ln,$n=rt(new _e.pointGeometry(xn[0],xn[1]),vt,xn[2]);if($n.signedDistanceFromCamera<=0){ft(qt.numGlyphs,$t);continue}let ea={};const na=Tt?null:Mt,aa=ut(qt,jn,!1,It,Te,vt,xt,be.glyphOffsetArray,Jt,$t,Kt,$n.point,cn,ea,Qt,na,Ft.projection,Lt,Tt);an=aa.useVertical,na&&aa.needsFlipping&&(ea={}),(aa.notEnoughRoom||an||aa.needsFlipping&&ut(qt,jn,!0,It,Te,vt,xt,be.glyphOffsetArray,Jt,$t,Kt,$n.point,cn,ea,Qt,na,Ft.projection,Lt,Tt).notEnoughRoom)&&ft(qt.numGlyphs,$t)}pt?(be.text.dynamicLayoutVertexBuffer.updateData($t),Kt&&be.text.globeExtVertexBuffer.updateData(Kt)):(be.icon.dynamicLayoutVertexBuffer.updateData($t),Kt&&be.icon.globeExtVertexBuffer.updateData(Kt))}function ct(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt){const $t=Tt.glyphStartIndex+Tt.numGlyphs,Kt=Tt.lineStartIndex,Jt=Tt.lineStartIndex+Tt.lineLength,Yt=be.getoffsetX(Tt.glyphStartIndex),Qt=be.getoffsetX($t-1),an=mt(_e*Yt,Te,Pe,pt,vt,xt,Tt.segment,Kt,Jt,It,Mt,Lt,Ft,Ot,!0,Vt,qt,Wt);if(!an)return null;const cn=mt(_e*Qt,Te,Pe,pt,vt,xt,Tt.segment,Kt,Jt,It,Mt,Lt,Ft,Ot,!0,Vt,qt,Wt);return cn?{first:an,last:cn}:null}function ht(be,Te,Pe,pt){return be.writingMode===_e.WritingMode.horizontal&&Math.abs(Pe.y-Te.y)>Math.abs(Pe.x-Te.x)*pt?{useVertical:!0}:be.writingMode===_e.WritingMode.vertical?Te.y<Pe.y?{needsFlipping:!0}:null:0!==be.flipState&&function(_e,be,Te){const Pe=(be.x-_e.x)*Te;return 0===Pe||Math.abs((be.y-_e.y)/Pe)>_r}(Te,Pe,pt)?1===be.flipState?{needsFlipping:!0}:null:Te.x>Pe.x?{needsFlipping:!0}:null}function ut(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt,Jt,Yt){const Qt=Te/24,an=be.lineOffsetX*Qt,cn=be.lineOffsetY*Qt;let hn;if(be.numGlyphs>1){const Te=be.glyphStartIndex+be.numGlyphs,vt=be.lineStartIndex,Lt=be.lineStartIndex+be.lineLength,Ft=ct(Qt,It,an,cn,Pe,Ot,Vt,be,Mt,xt,qt,$t,!1,Kt,Jt,Yt);if(!Ft)return{notEnoughRoom:!0};const pn=nt(Ft.first.point,Tt).point,xn=nt(Ft.last.point,Tt).point,Pn=new _e.pointGeometry(pn[0],pn[1]),Ln=new _e.pointGeometry(xn[0],xn[1]);if(pt&&!Pe){const _e=ht(be,Pn,Ln,Wt);if(be.flipState=_e&&_e.needsFlipping?1:2,_e)return _e}hn=[Ft.first];for(let _e=be.glyphStartIndex+1;_e<Te-1;_e++)hn.push(mt(Qt*It.getoffsetX(_e),an,cn,Pe,Ot,Vt,be.segment,vt,Lt,Mt,xt,qt,$t,!1,!1,Kt,Jt,Yt));hn.push(Ft.last)}else{if(pt&&!Pe){const Te=rt(Vt,vt).point,Pe=be.lineStartIndex+be.segment+1,pt=new _e.pointGeometry(Mt.getx(Pe),Mt.gety(Pe)),xt=rt(pt,vt),Tt=xt.signedDistanceFromCamera>0?xt.point:dt(Vt,pt,Te,1,vt,void 0,Kt,Jt.canonical),It=ht(be,new _e.pointGeometry(Te[0],Te[1]),new _e.pointGeometry(Tt[0],Tt[1]),Wt);if(be.flipState=It&&It.needsFlipping?1:2,It)return It}const Te=mt(Qt*It.getoffsetX(be.glyphStartIndex),an,cn,Pe,Ot,Vt,be.segment,be.lineStartIndex,be.lineStartIndex+be.lineLength,Mt,xt,qt,$t,!1,!1,Kt,Jt,Yt);if(!Te)return{notEnoughRoom:!0};hn=[Te]}if(Ft)for(const be of hn)_e.updateGlobeVertexNormal(Ft,Lt.length+0,be.up[0],be.up[1],be.up[2]),_e.updateGlobeVertexNormal(Ft,Lt.length+1,be.up[0],be.up[1],be.up[2]),_e.updateGlobeVertexNormal(Ft,Lt.length+2,be.up[0],be.up[1],be.up[2]),_e.updateGlobeVertexNormal(Ft,Lt.length+3,be.up[0],be.up[1],be.up[2]),_e.addDynamicAttributes(Lt,be.point[0],be.point[1],be.point[2],be.angle);else for(const be of hn)_e.addDynamicAttributes(Lt,be.point[0],be.point[1],be.point[2],be.angle);return{}}function _t(be,Te,Pe,pt,vt){const xt=pt.projectTilePoint(be.x,be.y,Te);if(!vt)return rt(xt,Pe,xt.z);const Tt=vt(be);return rt(new _e.pointGeometry(xt.x+Tt[0],xt.y+Tt[1]),Pe,xt.z+Tt[2])}function dt(be,Te,Pe,pt,vt,xt,Tt,It){const Mt=_t(be.add(be.sub(Te)._unit()),It,vt,Tt,xt).point,Lt=_e.sub([],Pe,Mt);return _e.scaleAndAdd([],Pe,Lt,pt/_e.length(Lt))}function mt(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt,Jt){const Yt=pt?be-Te:be+Te;let Qt=Yt>0?1:-1,an=0;pt&&(Qt*=-1,an=Math.PI),Qt<0&&(an+=Math.PI);let cn=Qt>0?It+Tt:It+Tt+1,hn=vt,pn=vt,xn=0,Pn=0;const Ln=Math.abs(Yt),Fn=[],jn=[];let $n=xt;const P=()=>{const be=cn-Qt;return 0===xn?xt:new _e.pointGeometry(Lt.getx(be),Lt.gety(be))},A=()=>dt(P(),$n,pn,Ln-xn+1,Ft,Vt,$t,Kt.canonical);for(;xn+Pn<=Ln;){if(cn+=Qt,cn<It||cn>=Mt)return null;if(pn=hn,Fn.push(hn),qt&&jn.push($n||P()),hn=Ot[cn],void 0===hn){$n=new _e.pointGeometry(Lt.getx(cn),Lt.gety(cn));const be=_t($n,Kt.canonical,Ft,$t,Vt);hn=be.signedDistanceFromCamera>0?Ot[cn]=be.point:A()}else $n=null;xn+=Pn,Pn=_e.distance(pn,hn)}$n=$n||new _e.pointGeometry(Lt.getx(cn),Lt.gety(cn));const ea=P();Wt&&Vt&&(Ot[cn]=hn=void 0===Ot[cn]?hn:A(),Pn=_e.distance(pn,hn));const na=(Ln-xn)/Pn,aa=$n.sub(ea).mult(na)._add(ea),ra=_e.sub([],hn,pn),ia=_e.scaleAndAdd([],pn,ra,na);let da=[0,0,1],la=ra[0],ua=ra[1];if(Jt&&(da=$t.upVector(Kt.canonical,aa.x,aa.y),0!==da[0]||0!==da[1]||1!==da[2])){const be=[1,0,0],Te=[0,1,0];be[0]=da[2],be[1]=0,be[2]=-da[0],_e.cross(Te,da,be),_e.normalize(be,be),_e.normalize(Te,Te),la=_e.dot(ra,be),ua=_e.dot(ra,Te)}if(Pe){const be=_e.cross([],da,ra);_e.normalize(be,be),_e.scaleAndAdd(ia,ia,be,Pe*Qt)}const ca=an+Math.atan2(ua,la);return Fn.push(ia),qt&&jn.push(aa),{point:ia,angle:ca,path:Fn,tilePath:jn,up:da}}const vr=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ft(_e,be){for(let Te=0;Te<_e;Te++){const _e=be.length;be.resize(_e+4),be.float32.set(vr,4*_e)}}function gt(_e,be,Te){const Pe=be[0],pt=be[1];return _e[0]=Te[0]*Pe+Te[4]*pt+Te[12],_e[1]=Te[1]*Pe+Te[5]*pt+Te[13],_e[3]=Te[3]*Pe+Te[7]*pt+Te[15],_e}const Rr=100;class xr{constructor(_e,be,Te=new yr(_e.width+200,_e.height+200,25),Pe=new yr(_e.width+200,_e.height+200,25)){this.transform=_e,this.grid=Te,this.ignoredGrid=Pe,this.pitchfactor=Math.cos(_e._pitch)*_e.cameraToCenterDistance,this.screenRightBoundary=_e.width+Rr,this.screenBottomBoundary=_e.height+Rr,this.gridRightBoundary=_e.width+200,this.gridBottomBoundary=_e.height+200,this.fogState=be}placeCollisionBox(_e,be,Te,Pe,pt,vt,xt,Tt){let It=Te.projectedAnchorX,Mt=Te.projectedAnchorY,Lt=Te.projectedAnchorZ;const Ft=Te.elevation,Ot=Te.tileID;if(Ft&&Ot){const be=_e.getProjection().upVector(Ot.canonical,Te.tileAnchorX,Te.tileAnchorY),Pe=_e.getProjection().upVectorScale(Ot.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;It+=be[0]*Ft*Pe,Mt+=be[1]*Ft*Pe,Lt+=be[2]*Ft*Pe}const Vt=this.projectAndGetPerspectiveRatio(xt,[It,Mt,Lt],Te.tileID,"globe"===_e.projection.name||!!Ft||this.transform.pitch>0,_e.getProjection()),qt=vt*Vt.perspectiveRatio,Wt=(Te.x1*be+Pe.x-Te.padding)*qt+Vt.point.x,$t=(Te.y1*be+Pe.y-Te.padding)*qt+Vt.point.y,Kt=(Te.x2*be+Pe.x+Te.padding)*qt+Vt.point.x,Jt=(Te.y2*be+Pe.y+Te.padding)*qt+Vt.point.y,Yt=Vt.perspectiveRatio<=.55||Vt.occluded;return!this.isInsideGrid(Wt,$t,Kt,Jt)||!pt&&this.grid.hitTest(Wt,$t,Kt,Jt,Tt)||Yt?{box:[],offscreen:!1,occluded:Vt.occluded}:{box:[Wt,$t,Kt,Jt],offscreen:this.isOffscreen(Wt,$t,Kt,Jt),occluded:!1}}placeCollisionCircles(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt){const $t=[],Kt=this.transform.elevation,Jt=Kt?Kt.getAtTileOffsetFunc(Wt,this.transform.center.lat,this.transform.worldSize,be.getProjection()):_e=>[0,0,0],Yt=new _e.pointGeometry(Pe.tileAnchorX,Pe.tileAnchorY),Qt=be.getProjection().projectTilePoint(Pe.tileAnchorX,Pe.tileAnchorY,Wt.canonical),an=Jt(Yt),cn=[Qt.x+an[0],Qt.y+an[1],Qt.z+an[2]],hn="globe"===be.projection.name,pn=this.projectAndGetPerspectiveRatio(Tt,[cn[0],cn[1],cn[2]],Wt,hn||!!Kt||this.transform.pitch>0,be.getProjection()),{perspectiveRatio:xn}=pn,Pn=(Ft?xt/xn:xt*xn)/_e.ONE_EM,Ln=rt(new _e.pointGeometry(cn[0],cn[1]),It,cn[2]).point,Fn=pn.signedDistanceFromCamera>0?ct(Pn,vt,Pe.lineOffsetX*Pn,Pe.lineOffsetY*Pn,!1,Ln,Yt,Pe,pt,It,{},Kt&&!Ft?Jt:null,Ft&&!!Kt,be.getProjection(),Wt,Ft):null;let jn=!1,$n=!1,ea=!0;if(Fn&&!pn.occluded){const be=.5*Vt*xn+qt,Pe=new _e.pointGeometry(-100,-100),pt=new _e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),vt=new mr,xt=Fn.first,Tt=Fn.last;let It=[];for(let _e=xt.path.length-1;_e>=1;_e--)It.push(xt.path[_e]);for(let _e=1;_e<Tt.path.length;_e++)It.push(Tt.path[_e]);const Ft=2.5*be;if(Mt){const _e=It.map(Kt&&!hn?(_e,be)=>{const Te=Jt(be<xt.path.length-1?xt.tilePath[xt.path.length-1-be]:Tt.tilePath[be-xt.path.length+2]);return _e[2]=Te[2],nt(_e,Mt)}:_e=>nt(_e,Mt));It=_e.some((_e=>_e.signedDistanceFromCamera<=0))?[]:_e.map((_e=>_e.point))}let Wt=[];if(It.length>0){const be=It.map((be=>new _e.pointGeometry(be[0],be[1])));let Te=1/0,vt=-1/0,xt=1/0,Tt=-1/0;for(let _e=0;_e<be.length;_e++)Te=Math.min(Te,be[_e].x),xt=Math.min(xt,be[_e].y),vt=Math.max(vt,be[_e].x),Tt=Math.max(Tt,be[_e].y);Wt=Te>=Pe.x&&vt<=pt.x&&xt>=Pe.y&&Tt<=pt.y?[be]:vt<Pe.x||Te>pt.x||Tt<Pe.y||xt>pt.y?[]:_e.clipLine([be],Pe.x,Pe.y,pt.x,pt.y)}for(const _e of Wt){vt.reset(_e,.25*be);let Pe=0;Pe=vt.length<=.5*be?1:Math.ceil(vt.paddedLength/Ft)+1;for(let _e=0;_e<Pe;_e++){const pt=_e/Math.max(Pe-1,1),xt=vt.lerp(pt),Tt=xt.x+Rr,It=xt.y+Rr;$t.push(Tt,It,be,0);const Mt=Tt-be,Ft=It-be,Vt=Tt+be,qt=It+be;if(ea=ea&&this.isOffscreen(Mt,Ft,Vt,qt),$n=$n||this.isInsideGrid(Mt,Ft,Vt,qt),!Te&&this.grid.hitTestCircle(Tt,It,be,Ot)&&(jn=!0,!Lt))return{circles:[],offscreen:!1,collisionDetected:jn,occluded:!1}}}}return{circles:!Lt&&jn||!$n?[]:$t,offscreen:ea,collisionDetected:jn,occluded:pn.occluded}}queryRenderedSymbols(be){if(0===be.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const Te=[];let Pe=1/0,pt=1/0,vt=-1/0,xt=-1/0;for(const Tt of be){const be=new _e.pointGeometry(Tt.x+Rr,Tt.y+Rr);Pe=Math.min(Pe,be.x),pt=Math.min(pt,be.y),vt=Math.max(vt,be.x),xt=Math.max(xt,be.y),Te.push(be)}const Tt=this.grid.query(Pe,pt,vt,xt).concat(this.ignoredGrid.query(Pe,pt,vt,xt)),It={},Mt={};for(const be of Tt){const Pe=be.key;if(void 0===It[Pe.bucketInstanceId]&&(It[Pe.bucketInstanceId]={}),It[Pe.bucketInstanceId][Pe.featureIndex])continue;const pt=[new _e.pointGeometry(be.x1,be.y1),new _e.pointGeometry(be.x2,be.y1),new _e.pointGeometry(be.x2,be.y2),new _e.pointGeometry(be.x1,be.y2)];_e.polygonIntersectsPolygon(Te,pt)&&(It[Pe.bucketInstanceId][Pe.featureIndex]=!0,void 0===Mt[Pe.bucketInstanceId]&&(Mt[Pe.bucketInstanceId]=[]),Mt[Pe.bucketInstanceId].push(Pe.featureIndex))}return Mt}insertCollisionBox(_e,be,Te,Pe,pt){(be?this.ignoredGrid:this.grid).insert({bucketInstanceId:Te,featureIndex:Pe,collisionGroupID:pt},_e[0],_e[1],_e[2],_e[3])}insertCollisionCircles(_e,be,Te,Pe,pt){const vt=be?this.ignoredGrid:this.grid,xt={bucketInstanceId:Te,featureIndex:Pe,collisionGroupID:pt};for(let be=0;be<_e.length;be+=4)vt.insertCircle(xt,_e[be],_e[be+1],_e[be+2])}projectAndGetPerspectiveRatio(be,Te,Pe,pt,vt){const xt=[Te[0],Te[1],Te[2],1];let Tt=!1;if(Te[2]||this.transform.pitch>0){_e.transformMat4$1(xt,xt,be);const pt="globe"===vt.name;this.fogState&&Pe&&!pt&&(Tt=function(be,Te,Pe,pt,vt,xt){const Tt=xt.calculateFogTileMatrix(vt),It=[Te,Pe,pt];return _e.transformMat4(It,It,Tt),M(be,It,xt.pitch,xt._fov)}(this.fogState,Te[0],Te[1],Te[2],Pe.toUnwrapped(),this.transform)>.9)}else gt(xt,xt,be);return{point:new _e.pointGeometry((xt[0]/xt[3]+1)/2*this.transform.width+Rr,(-xt[1]/xt[3]+1)/2*this.transform.height+Rr),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(vt)/xt[3]*.5,1.5),signedDistanceFromCamera:xt[3],occluded:pt&&xt[2]>xt[3]||Tt}}isOffscreen(_e,be,Te,Pe){return Te<Rr||_e>=this.screenRightBoundary||Pe<Rr||be>this.screenBottomBoundary}isInsideGrid(_e,be,Te,Pe){return Te>=0&&_e<this.gridRightBoundary&&Pe>=0&&be<this.gridBottomBoundary}getViewportMatrix(){const be=_e.identity([]);return _e.translate(be,be,[-100,-100,0]),be}}function yt(be,Te,Pe){const pt=Te.createTileMatrix(be,be.worldSize,Pe.toUnwrapped());return _e.multiply(new Float32Array(16),be.projMatrix,pt)}function bt(_e,be,Te){if(be.projection.name===Te.projection.name)return _e.projMatrix;const Pe=Te.clone();return Pe.setProjection(be.projection),yt(Pe,be.getProjection(),_e)}function wt(_e,be,Te){return be.name===Te.projection.name?_e.projMatrix:yt(Te,be,_e)}class Sr{constructor(_e,be,Te,Pe){this.opacity=_e?Math.max(0,Math.min(1,_e.opacity+(_e.placed?be:-be))):Pe&&Te?1:0,this.placed=Te}isHidden(){return 0===this.opacity&&!this.placed}}class Ar{constructor(_e,be,Te,Pe,pt,vt=!1){this.text=new Sr(_e?_e.text:null,be,Te,pt),this.icon=new Sr(_e?_e.icon:null,be,Pe,pt),this.clipped=vt}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class kr{constructor(_e,be,Te,Pe=!1){this.text=_e,this.icon=be,this.skipFade=Te,this.clipped=Pe}}class Pr{constructor(){this.invProjMatrix=_e.create(),this.viewportMatrix=_e.create(),this.circles=[]}}class Fr{constructor(_e,be,Te,Pe,pt){this.bucketInstanceId=_e,this.featureIndex=be,this.sourceLayerIndex=Te,this.bucketIndex=Pe,this.tileID=pt}}class Or{constructor(_e){this.crossSourceCollisions=_e,this.maxGroupID=0,this.collisionGroups={}}get(_e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[_e]){const be=++this.maxGroupID;this.collisionGroups[_e]={ID:be,predicate:_e=>_e.collisionGroupID===be}}return this.collisionGroups[_e]}}function zt(be,Te,Pe,pt,vt){const{horizontalAlign:xt,verticalAlign:Tt}=_e.getAnchorAlignment(be),It=-(xt-.5)*Te,Mt=-(Tt-.5)*Pe,Lt=_e.evaluateVariableOffset(be,pt);return new _e.pointGeometry(It+Lt[0]*vt,Mt+Lt[1]*vt)}function Dt(be,Te,Pe,pt,vt){const xt=new _e.pointGeometry(be,Te);return Pe&&xt._rotate(pt?vt:-vt),xt}class Nr{constructor(_e,be,Te,Pe,pt){this.transform=_e.clone(),this.projection=_e.projection.name,this.collisionIndex=new xr(this.transform,pt),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=be,this.retainedQueryData={},this.collisionGroups=new Or(Te),this.collisionCircleArrays={},this.prevPlacement=Pe,Pe&&(Pe.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(be,Te,Pe,pt){const vt=Pe.getBucket(Te),xt=Pe.latestFeatureIndex;if(!vt||!xt||Te.id!==vt.layerIds[0])return;const Tt=vt.layers[0].layout,It=Pe.collisionBoxArray,Mt=Math.pow(2,this.transform.zoom-Pe.tileID.overscaledZ),Lt=Pe.tileSize/_e.EXTENT,Ft=Pe.tileID.toUnwrapped();this.transform.setProjection(vt.projection);const Ot=(Vt=Pe.tileID,qt=vt.getProjection(),Wt=this.transform,qt.name===this.projection?Wt.calculateProjMatrix(Vt.toUnwrapped()):yt(Wt,qt,Vt));var Vt,qt,Wt;const $t="map"===Tt.get("text-pitch-alignment"),Kt="map"===Tt.get("text-rotation-alignment");Te.compileFilter();const Jt=Te.dynamicFilter(),Yt=Te.dynamicFilterNeedsFeature(),Qt=this.transform.calculatePixelsToTileUnitsMatrix(Pe),an=it(Ot,Pe.tileID.canonical,$t,Kt,this.transform,vt.getProjection(),Qt);let cn=null;if($t){const be=ot(Ot,Pe.tileID.canonical,$t,Kt,this.transform,vt.getProjection(),Qt);cn=_e.multiply([],this.transform.labelPlaneMatrix,be)}let hn=null;Jt&&Pe.latestFeatureIndex&&(hn={unwrappedTileID:Ft,dynamicFilter:Jt,dynamicFilterNeedsFeature:Yt,featureIndex:Pe.latestFeatureIndex}),this.retainedQueryData[vt.bucketInstanceId]=new Fr(vt.bucketInstanceId,xt,vt.sourceLayerIndex,vt.index,Pe.tileID);const pn={bucket:vt,layout:Tt,posMatrix:Ot,textLabelPlaneMatrix:an,labelToScreenMatrix:cn,clippingData:hn,scale:Mt,textPixelRatio:Lt,holdingForFade:Pe.holdingForFade(),collisionBoxArray:It,partiallyEvaluatedTextSize:_e.evaluateSizeForZoom(vt.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:_e.evaluateSizeForZoom(vt.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(vt.sourceID)};if(pt)for(const _e of vt.sortKeyRanges){const{sortKey:Te,symbolInstanceStart:Pe,symbolInstanceEnd:pt}=_e;be.push({sortKey:Te,symbolInstanceStart:Pe,symbolInstanceEnd:pt,parameters:pn})}else be.push({symbolInstanceStart:0,symbolInstanceEnd:vt.symbolInstances.length,parameters:pn})}attemptAnchorPlacement(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt){const Jt=[Ft.textOffset0,Ft.textOffset1],Yt=zt(_e,Te,Pe,Jt,pt),Qt=this.collisionIndex.placeCollisionBox(Vt,pt,be,Dt(Yt.x,Yt.y,vt,xt,this.transform.angle),Lt,Tt,It,Mt.predicate);if((!Wt||0!==this.collisionIndex.placeCollisionBox(Vt,Vt.getSymbolInstanceIconSize(Kt,this.transform.zoom,Ot),Wt,Dt(Yt.x,Yt.y,vt,xt,this.transform.angle),Lt,Tt,It,Mt.predicate).box.length)&&Qt.box.length>0){let be;return this.prevPlacement&&this.prevPlacement.variableOffsets[Ft.crossTileID]&&this.prevPlacement.placements[Ft.crossTileID]&&this.prevPlacement.placements[Ft.crossTileID].text&&(be=this.prevPlacement.variableOffsets[Ft.crossTileID].anchor),this.variableOffsets[Ft.crossTileID]={textOffset:Jt,width:Te,height:Pe,anchor:_e,textScale:pt,prevAnchor:be},this.markUsedJustification(Vt,_e,Ft,qt),Vt.allowVerticalPlacement&&(this.markUsedOrientation(Vt,qt,Ft),this.placedOrientations[Ft.crossTileID]=qt),{shift:Yt,placedGlyphBoxes:Qt}}}placeLayerBucketPart(be,Te,Pe,pt){const{bucket:vt,layout:xt,posMatrix:Tt,textLabelPlaneMatrix:It,labelToScreenMatrix:Mt,clippingData:Lt,textPixelRatio:Ft,holdingForFade:Ot,collisionBoxArray:Vt,partiallyEvaluatedTextSize:qt,partiallyEvaluatedIconSize:Wt,collisionGroup:$t}=be.parameters,Kt=xt.get("text-optional"),Jt=xt.get("icon-optional"),Yt=xt.get("text-allow-overlap"),Qt=xt.get("icon-allow-overlap"),an="map"===xt.get("text-rotation-alignment"),cn="map"===xt.get("text-pitch-alignment"),hn="none"!==xt.get("icon-text-fit"),pn="viewport-y"===xt.get("symbol-z-order");this.transform.setProjection(vt.projection);let xn=Yt&&(Qt||!vt.hasIconData()||Jt),Pn=Qt&&(Yt||!vt.hasTextData()||Kt);!vt.collisionArrays&&Vt&&vt.deserializeCollisionBoxes(Vt),Pe&&pt&&vt.updateCollisionDebugBuffers(this.transform.zoom,Vt);const M=(be,pt,Vt)=>{if(Lt){const Pe={zoom:this.transform.zoom,pitch:this.transform.pitch};let pt=null;if(Lt.dynamicFilterNeedsFeature){const _e=this.retainedQueryData[vt.bucketInstanceId];pt=Lt.featureIndex.loadFeature({featureIndex:be.featureIndex,bucketIndex:_e.bucketIndex,sourceLayerIndex:_e.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Lt.dynamicFilter)(Pe,pt,this.retainedQueryData[vt.bucketInstanceId].tileID.canonical,new _e.pointGeometry(be.tileAnchorX,be.tileAnchorY),this.transform.calculateDistanceTileData(Lt.unwrappedTileID)))return this.placements[be.crossTileID]=new kr(!1,!1,!1,!0),void(Te[be.crossTileID]=!0)}if(Te[be.crossTileID])return;if(Ot)return void(this.placements[be.crossTileID]=new kr(!1,!1,!1));let pn=!1,Ln=!1,Fn=!0,jn=!1,$n=!1,ea=null,na={box:null,offscreen:null,occluded:null},aa={box:null,offscreen:null,occluded:null},ra=null,ia=null,da=null,la=0,ua=0,ca=0;Vt.textFeatureIndex?la=Vt.textFeatureIndex:be.useRuntimeCollisionCircles&&(la=be.featureIndex),Vt.verticalTextFeatureIndex&&(ua=Vt.verticalTextFeatureIndex);const N=_e=>{_e.tileID=this.retainedQueryData[vt.bucketInstanceId].tileID,(this.transform.elevation||_e.elevation)&&(_e.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[vt.bucketInstanceId].tileID,_e.tileAnchorX,_e.tileAnchorY):0)},ga=Vt.textBox;if(ga){N(ga);const i=Te=>{let Pe=_e.WritingMode.horizontal;if(vt.allowVerticalPlacement&&!Te&&this.prevPlacement){const _e=this.prevPlacement.placedOrientations[be.crossTileID];_e&&(this.placedOrientations[be.crossTileID]=_e,Pe=_e,this.markUsedOrientation(vt,Pe,be))}return Pe},o=(Te,Pe)=>{if(vt.allowVerticalPlacement&&be.numVerticalGlyphVertices>0&&Vt.verticalTextBox){for(const be of vt.writingModes)if(be===_e.WritingMode.vertical?(na=Pe(),aa=na):na=Te(),na&&na.box&&na.box.length)break}else na=Te()};if(xt.get("text-variable-anchor")){let Te=xt.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[be.crossTileID]){const _e=this.prevPlacement.variableOffsets[be.crossTileID];Te.indexOf(_e.anchor)>0&&(Te=Te.filter((be=>be!==_e.anchor)),Te.unshift(_e.anchor))}const c=(_e,Pe,xt)=>{const It=vt.getSymbolInstanceTextSize(qt,be,this.transform.zoom,pt),Mt=(_e.x2-_e.x1)*It+2*_e.padding,Lt=(_e.y2-_e.y1)*It+2*_e.padding,Ot=hn&&!Qt?Pe:null;Ot&&N(Ot);let Vt={box:[],offscreen:!1,occluded:!1};const Kt=Yt?2*Te.length:Te.length;for(let Pe=0;Pe<Kt;++Pe){const Kt=this.attemptAnchorPlacement(Te[Pe%Te.length],_e,Mt,Lt,It,an,cn,Ft,Tt,$t,Pe>=Te.length,be,pt,vt,xt,Ot,qt,Wt);if(Kt&&(Vt=Kt.placedGlyphBoxes,Vt&&Vt.box&&Vt.box.length)){pn=!0,ea=Kt.shift;break}}return Vt};o((()=>c(ga,Vt.iconBox,_e.WritingMode.horizontal)),(()=>{const Te=Vt.verticalTextBox;return Te&&N(Te),vt.allowVerticalPlacement&&!(na&&na.box&&na.box.length)&&be.numVerticalGlyphVertices>0&&Te?c(Te,Vt.verticalIconBox,_e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),na&&(pn=na.box,Fn=na.offscreen,jn=na.occluded);const Pe=i(na&&na.box);if(!pn&&this.prevPlacement){const _e=this.prevPlacement.variableOffsets[be.crossTileID];_e&&(this.variableOffsets[be.crossTileID]=_e,this.markUsedJustification(vt,_e.anchor,be,Pe))}}else{const a=(Te,Pe)=>{const xt=vt.getSymbolInstanceTextSize(qt,be,this.transform.zoom,pt),It=this.collisionIndex.placeCollisionBox(vt,xt,Te,new _e.pointGeometry(0,0),Yt,Ft,Tt,$t.predicate);return It&&It.box&&It.box.length&&(this.markUsedOrientation(vt,Pe,be),this.placedOrientations[be.crossTileID]=Pe),It};o((()=>a(ga,_e.WritingMode.horizontal)),(()=>{const Te=Vt.verticalTextBox;return vt.allowVerticalPlacement&&be.numVerticalGlyphVertices>0&&Te?(N(Te),a(Te,_e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),i(na&&na.box&&na.box.length)}}if(ra=na,pn=ra&&ra.box&&ra.box.length>0,Fn=ra&&ra.offscreen,jn=ra&&ra.occluded,be.useRuntimeCollisionCircles){const Te=vt.text.placedSymbolArray.get(be.centerJustifiedTextSymbolIndex>=0?be.centerJustifiedTextSymbolIndex:be.verticalPlacedTextSymbolIndex),pt=_e.evaluateSizeForFeature(vt.textSizeData,qt,Te),Lt=xt.get("text-padding");ia=this.collisionIndex.placeCollisionCircles(vt,Yt,Te,vt.lineVertexArray,vt.glyphOffsetArray,pt,Tt,It,Mt,Pe,cn,$t.predicate,be.collisionCircleDiameter*pt/_e.ONE_EM,Lt,this.retainedQueryData[vt.bucketInstanceId].tileID),pn=Yt||ia.circles.length>0&&!ia.collisionDetected,Fn=Fn&&ia.offscreen,jn=ia.occluded}if(Vt.iconFeatureIndex&&(ca=Vt.iconFeatureIndex),Vt.iconBox){const t=be=>{N(be);const Te=hn&&ea?Dt(ea.x,ea.y,an,cn,this.transform.angle):new _e.pointGeometry(0,0),Pe=vt.getSymbolInstanceIconSize(Wt,this.transform.zoom,pt);return this.collisionIndex.placeCollisionBox(vt,Pe,be,Te,Qt,Ft,Tt,$t.predicate)};aa&&aa.box&&aa.box.length&&Vt.verticalIconBox?(da=t(Vt.verticalIconBox),Ln=da.box.length>0):(da=t(Vt.iconBox),Ln=da.box.length>0),Fn=Fn&&da.offscreen,$n=da.occluded}const ma=Kt||0===be.numHorizontalGlyphVertices&&0===be.numVerticalGlyphVertices,ya=Jt||0===be.numIconVertices;if(ma||ya?ya?ma||(Ln=Ln&&pn):pn=Ln&&pn:Ln=pn=Ln&&pn,pn&&ra&&ra.box&&this.collisionIndex.insertCollisionBox(ra.box,xt.get("text-ignore-placement"),vt.bucketInstanceId,aa&&aa.box&&ua?ua:la,$t.ID),Ln&&da&&this.collisionIndex.insertCollisionBox(da.box,xt.get("icon-ignore-placement"),vt.bucketInstanceId,ca,$t.ID),ia&&(pn&&this.collisionIndex.insertCollisionCircles(ia.circles,xt.get("text-ignore-placement"),vt.bucketInstanceId,la,$t.ID),Pe)){const _e=vt.bucketInstanceId;let be=this.collisionCircleArrays[_e];void 0===be&&(be=this.collisionCircleArrays[_e]=new Pr);for(let _e=0;_e<ia.circles.length;_e+=4)be.circles.push(ia.circles[_e+0]),be.circles.push(ia.circles[_e+1]),be.circles.push(ia.circles[_e+2]),be.circles.push(ia.collisionDetected?1:0)}const _a="globe"!==vt.projection.name;xn=xn&&(_a||!jn),Pn=Pn&&(_a||!$n),this.placements[be.crossTileID]=new kr(pn||xn,Ln||Pn,Fn||vt.justReloaded),Te[be.crossTileID]=!0};if(pn){const _e=vt.getSortedSymbolIndexes(this.transform.angle);for(let be=_e.length-1;be>=0;--be){const Te=_e[be];M(vt.symbolInstances.get(Te),Te,vt.collisionArrays[Te])}}else for(let _e=be.symbolInstanceStart;_e<be.symbolInstanceEnd;_e++)M(vt.symbolInstances.get(_e),_e,vt.collisionArrays[_e]);if(Pe&&vt.bucketInstanceId in this.collisionCircleArrays){const be=this.collisionCircleArrays[vt.bucketInstanceId];_e.invert(be.invProjMatrix,Tt),be.viewportMatrix=this.collisionIndex.getViewportMatrix()}vt.justReloaded=!1}markUsedJustification(be,Te,Pe,pt){let vt;vt=pt===_e.WritingMode.vertical?Pe.verticalPlacedTextSymbolIndex:{left:Pe.leftJustifiedTextSymbolIndex,center:Pe.centerJustifiedTextSymbolIndex,right:Pe.rightJustifiedTextSymbolIndex}[_e.getAnchorJustification(Te)];const xt=[Pe.leftJustifiedTextSymbolIndex,Pe.centerJustifiedTextSymbolIndex,Pe.rightJustifiedTextSymbolIndex,Pe.verticalPlacedTextSymbolIndex];for(const _e of xt)_e>=0&&(be.text.placedSymbolArray.get(_e).crossTileID=vt>=0&&_e!==vt?0:Pe.crossTileID)}markUsedOrientation(be,Te,Pe){const pt=Te===_e.WritingMode.horizontal||Te===_e.WritingMode.horizontalOnly?Te:0,vt=Te===_e.WritingMode.vertical?Te:0,xt=[Pe.leftJustifiedTextSymbolIndex,Pe.centerJustifiedTextSymbolIndex,Pe.rightJustifiedTextSymbolIndex];for(const _e of xt)be.text.placedSymbolArray.get(_e).placedOrientation=pt;Pe.verticalPlacedTextSymbolIndex&&(be.text.placedSymbolArray.get(Pe.verticalPlacedTextSymbolIndex).placedOrientation=vt)}commit(_e){this.commitTime=_e,this.zoomAtLastRecencyCheck=this.transform.zoom;const be=this.prevPlacement;let Te=!1;this.prevZoomAdjustment=be?be.zoomAdjustment(this.transform.zoom):0;const Pe=be?be.symbolFadeChange(_e):1,pt=be?be.opacities:{},vt=be?be.variableOffsets:{},xt=be?be.placedOrientations:{};for(const _e in this.placements){const be=this.placements[_e],vt=pt[_e];vt?(this.opacities[_e]=new Ar(vt,Pe,be.text,be.icon,null,be.clipped),Te=Te||be.text!==vt.text.placed||be.icon!==vt.icon.placed):(this.opacities[_e]=new Ar(null,Pe,be.text,be.icon,be.skipFade,be.clipped),Te=Te||be.text||be.icon)}for(const _e in pt){const be=pt[_e];if(!this.opacities[_e]){const pt=new Ar(be,Pe,!1,!1);pt.isHidden()||(this.opacities[_e]=pt,Te=Te||be.text.placed||be.icon.placed)}}for(const _e in vt)this.variableOffsets[_e]||!this.opacities[_e]||this.opacities[_e].isHidden()||(this.variableOffsets[_e]=vt[_e]);for(const _e in xt)this.placedOrientations[_e]||!this.opacities[_e]||this.opacities[_e].isHidden()||(this.placedOrientations[_e]=xt[_e]);Te?this.lastPlacementChangeTime=_e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=be?be.lastPlacementChangeTime:_e)}updateLayerOpacities(_e,be){const Te={};for(const Pe of be){const be=Pe.getBucket(_e);be&&Pe.latestFeatureIndex&&_e.id===be.layerIds[0]&&this.updateBucketOpacities(be,Te,Pe.collisionBoxArray)}}updateBucketOpacities(be,Te,Pe){be.hasTextData()&&be.text.opacityVertexArray.clear(),be.hasIconData()&&be.icon.opacityVertexArray.clear(),be.hasIconCollisionBoxData()&&be.iconCollisionBox.collisionVertexArray.clear(),be.hasTextCollisionBoxData()&&be.textCollisionBox.collisionVertexArray.clear();const pt=be.layers[0].layout,vt=!!be.layers[0].dynamicFilter(),xt=new Ar(null,0,!1,!1,!0),Tt=pt.get("text-allow-overlap"),It=pt.get("icon-allow-overlap"),Mt=pt.get("text-variable-anchor"),Lt="map"===pt.get("text-rotation-alignment"),Ft="map"===pt.get("text-pitch-alignment"),Ot="none"!==pt.get("icon-text-fit"),Vt=new Ar(null,0,Tt&&(It||!be.hasIconData()||pt.get("icon-optional")),It&&(Tt||!be.hasTextData()||pt.get("text-optional")),!0);!be.collisionArrays&&Pe&&(be.hasIconCollisionBoxData()||be.hasTextCollisionBoxData())&&be.deserializeCollisionBoxes(Pe);const m=(_e,be,Te)=>{for(let Pe=0;Pe<be/4;Pe++)_e.opacityVertexArray.emplaceBack(Te)};let qt=0;for(let Pe=0;Pe<be.symbolInstances.length;Pe++){const pt=be.symbolInstances.get(Pe),{numHorizontalGlyphVertices:Tt,numVerticalGlyphVertices:It,crossTileID:Wt}=pt;let $t=this.opacities[Wt];Te[Wt]?$t=xt:$t||($t=Vt,this.opacities[Wt]=$t),Te[Wt]=!0;const Kt=Tt>0||It>0,Jt=pt.numIconVertices>0,Yt=this.placedOrientations[pt.crossTileID],Qt=Yt===_e.WritingMode.vertical,an=Yt===_e.WritingMode.horizontal||Yt===_e.WritingMode.horizontalOnly;if(!Kt&&!Jt||$t.isHidden()||qt++,Kt){const _e=Nt($t.text);m(be.text,Tt,Qt?Kr:_e),m(be.text,It,an?Kr:_e);const Te=$t.text.isHidden();[pt.rightJustifiedTextSymbolIndex,pt.centerJustifiedTextSymbolIndex,pt.leftJustifiedTextSymbolIndex].forEach((_e=>{_e>=0&&(be.text.placedSymbolArray.get(_e).hidden=Te||Qt?1:0)})),pt.verticalPlacedTextSymbolIndex>=0&&(be.text.placedSymbolArray.get(pt.verticalPlacedTextSymbolIndex).hidden=Te||an?1:0);const Pe=this.variableOffsets[pt.crossTileID];Pe&&this.markUsedJustification(be,Pe.anchor,pt,Yt);const vt=this.placedOrientations[pt.crossTileID];vt&&(this.markUsedJustification(be,"left",pt,vt),this.markUsedOrientation(be,vt,pt))}if(Jt){const _e=Nt($t.icon);pt.placedIconSymbolIndex>=0&&(m(be.icon,pt.numIconVertices,Qt?Kr:_e),be.icon.placedSymbolArray.get(pt.placedIconSymbolIndex).hidden=$t.icon.isHidden()),pt.verticalPlacedIconSymbolIndex>=0&&(m(be.icon,pt.numVerticalIconVertices,an?Kr:_e),be.icon.placedSymbolArray.get(pt.verticalPlacedIconSymbolIndex).hidden=$t.icon.isHidden())}if(be.hasIconCollisionBoxData()||be.hasTextCollisionBoxData()){const Te=be.collisionArrays[Pe];if(Te){let Pe=new _e.pointGeometry(0,0),pt=!0;if(Te.textBox||Te.verticalTextBox){if(Mt){const _e=this.variableOffsets[Wt];_e?(Pe=zt(_e.anchor,_e.width,_e.height,_e.textOffset,_e.textScale),Lt&&Pe._rotate(Ft?this.transform.angle:-this.transform.angle)):pt=!1}vt&&(pt=!$t.clipped),Te.textBox&&At(be.textCollisionBox.collisionVertexArray,$t.text.placed,!pt||Qt,Pe.x,Pe.y),Te.verticalTextBox&&At(be.textCollisionBox.collisionVertexArray,$t.text.placed,!pt||an,Pe.x,Pe.y)}const xt=pt&&Boolean(!an&&Te.verticalIconBox);Te.iconBox&&At(be.iconCollisionBox.collisionVertexArray,$t.icon.placed,xt,Ot?Pe.x:0,Ot?Pe.y:0),Te.verticalIconBox&&At(be.iconCollisionBox.collisionVertexArray,$t.icon.placed,!xt,Ot?Pe.x:0,Ot?Pe.y:0)}}}if(be.fullyClipped=0===qt,be.sortFeatures(this.transform.angle),this.retainedQueryData[be.bucketInstanceId]&&(this.retainedQueryData[be.bucketInstanceId].featureSortOrder=be.featureSortOrder),be.hasTextData()&&be.text.opacityVertexBuffer&&be.text.opacityVertexBuffer.updateData(be.text.opacityVertexArray),be.hasIconData()&&be.icon.opacityVertexBuffer&&be.icon.opacityVertexBuffer.updateData(be.icon.opacityVertexArray),be.hasIconCollisionBoxData()&&be.iconCollisionBox.collisionVertexBuffer&&be.iconCollisionBox.collisionVertexBuffer.updateData(be.iconCollisionBox.collisionVertexArray),be.hasTextCollisionBoxData()&&be.textCollisionBox.collisionVertexBuffer&&be.textCollisionBox.collisionVertexBuffer.updateData(be.textCollisionBox.collisionVertexArray),be.bucketInstanceId in this.collisionCircleArrays){const _e=this.collisionCircleArrays[be.bucketInstanceId];be.placementInvProjMatrix=_e.invProjMatrix,be.placementViewportMatrix=_e.viewportMatrix,be.collisionCircleArray=_e.circles,delete this.collisionCircleArrays[be.bucketInstanceId]}}symbolFadeChange(_e){return 0===this.fadeDuration?1:(_e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(_e){return Math.max(0,(this.transform.zoom-_e)/1.5)}hasTransitions(_e){return this.stale||_e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(_e,be){const Te=this.zoomAtLastRecencyCheck===be?1-this.zoomAdjustment(be):1;return this.zoomAtLastRecencyCheck=be,this.commitTime+this.fadeDuration*Te>_e}setStale(){this.stale=!0}}function At(_e,be,Te,Pe,pt){_e.emplaceBack(be?1:0,Te?1:0,Pe||0,pt||0),_e.emplaceBack(be?1:0,Te?1:0,Pe||0,pt||0),_e.emplaceBack(be?1:0,Te?1:0,Pe||0,pt||0),_e.emplaceBack(be?1:0,Te?1:0,Pe||0,pt||0)}const Vr=Math.pow(2,25),Gr=Math.pow(2,24),Zr=Math.pow(2,17),qr=Math.pow(2,16),Wr=Math.pow(2,9),$r=Math.pow(2,8),Xr=Math.pow(2,1);function Nt(_e){if(0===_e.opacity&&!_e.placed)return 0;if(1===_e.opacity&&_e.placed)return 4294967295;const be=_e.placed?1:0,Te=Math.floor(127*_e.opacity);return Te*Vr+be*Gr+Te*Zr+be*qr+Te*Wr+be*$r+Te*Xr+be}const Kr=0;class Jr{constructor(_e){this._sortAcrossTiles="viewport-y"!==_e.layout.get("symbol-z-order")&&void 0!==_e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(_e,be,Te,Pe,pt){const vt=this._bucketParts;for(;this._currentTileIndex<_e.length;)if(be.getBucketParts(vt,Pe,_e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,pt())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,vt.sort(((_e,be)=>_e.sortKey-be.sortKey)));this._currentPartIndex<vt.length;){const _e=vt[this._currentPartIndex];if(be.placeLayerBucketPart(_e,this._seenCrossTileIDs,Te,0===_e.symbolInstanceStart),this._currentPartIndex++,pt())return!0}return!1}}class Yr{constructor(_e,be,Te,Pe,pt,vt,xt,Tt){this.placement=new Nr(_e,pt,vt,xt,Tt),this._currentPlacementIndex=be.length-1,this._forceFullPlacement=Te,this._showCollisionBoxes=Pe,this._done=!1}isDone(){return this._done}continuePlacement(be,Te,Pe){const pt=_e.exported.now(),n=()=>{const be=_e.exported.now()-pt;return!this._forceFullPlacement&&be>2};for(;this._currentPlacementIndex>=0;){const _e=Te[be[this._currentPlacementIndex]],pt=this.placement.collisionIndex.transform.zoom;if("symbol"===_e.type&&(!_e.minzoom||_e.minzoom<=pt)&&(!_e.maxzoom||_e.maxzoom>pt)){if(this._inProgressLayer||(this._inProgressLayer=new Jr(_e)),this._inProgressLayer.continuePlacement(Pe[_e.source],this.placement,this._showCollisionBoxes,_e,n))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(_e){return this.placement.commit(_e),this.placement}}const Qr=512/_e.EXTENT/2;class no{constructor(_e,be,Te){this.tileID=_e,this.indexedSymbolInstances={},this.bucketInstanceId=Te;for(let Te=0;Te<be.length;Te++){const Pe=be.get(Te),pt=Pe.key;this.indexedSymbolInstances[pt]||(this.indexedSymbolInstances[pt]=[]),this.indexedSymbolInstances[pt].push({crossTileID:Pe.crossTileID,coord:this.getScaledCoordinates(Pe,_e)})}}getScaledCoordinates(be,Te){const Pe=Qr/Math.pow(2,Te.canonical.z-this.tileID.canonical.z);return{x:Math.floor((Te.canonical.x*_e.EXTENT+be.tileAnchorX)*Pe),y:Math.floor((Te.canonical.y*_e.EXTENT+be.tileAnchorY)*Pe)}}findMatches(_e,be,Te){const Pe=this.tileID.canonical.z<be.canonical.z?1:Math.pow(2,this.tileID.canonical.z-be.canonical.z);for(let pt=0;pt<_e.length;pt++){const vt=_e.get(pt);if(vt.crossTileID)continue;const xt=this.indexedSymbolInstances[vt.key];if(!xt)continue;const Tt=this.getScaledCoordinates(vt,be);for(const _e of xt)if(Math.abs(_e.coord.x-Tt.x)<=Pe&&Math.abs(_e.coord.y-Tt.y)<=Pe&&!Te[_e.crossTileID]){Te[_e.crossTileID]=!0,vt.crossTileID=_e.crossTileID;break}}}}class so{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class go{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(_e){const be=Math.round((_e-this.lng)/360);if(0!==be)for(const _e in this.indexes){const Te=this.indexes[_e],Pe={};for(const _e in Te){const pt=Te[_e];pt.tileID=pt.tileID.unwrapTo(pt.tileID.wrap+be),Pe[pt.tileID.key]=pt}this.indexes[_e]=Pe}this.lng=_e}addBucket(_e,be,Te){if(this.indexes[_e.overscaledZ]&&this.indexes[_e.overscaledZ][_e.key]){if(this.indexes[_e.overscaledZ][_e.key].bucketInstanceId===be.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(_e.overscaledZ,this.indexes[_e.overscaledZ][_e.key])}for(let _e=0;_e<be.symbolInstances.length;_e++)be.symbolInstances.get(_e).crossTileID=0;this.usedCrossTileIDs[_e.overscaledZ]||(this.usedCrossTileIDs[_e.overscaledZ]={});const Pe=this.usedCrossTileIDs[_e.overscaledZ];for(const Te in this.indexes){const pt=this.indexes[Te];if(Number(Te)>_e.overscaledZ)for(const Te in pt){const vt=pt[Te];vt.tileID.isChildOf(_e)&&vt.findMatches(be.symbolInstances,_e,Pe)}else{const vt=pt[_e.scaledTo(Number(Te)).key];vt&&vt.findMatches(be.symbolInstances,_e,Pe)}}for(let _e=0;_e<be.symbolInstances.length;_e++){const pt=be.symbolInstances.get(_e);pt.crossTileID||(pt.crossTileID=Te.generate(),Pe[pt.crossTileID]=!0)}return void 0===this.indexes[_e.overscaledZ]&&(this.indexes[_e.overscaledZ]={}),this.indexes[_e.overscaledZ][_e.key]=new no(_e,be.symbolInstances,be.bucketInstanceId),!0}removeBucketCrossTileIDs(_e,be){for(const Te in be.indexedSymbolInstances)for(const Pe of be.indexedSymbolInstances[Te])delete this.usedCrossTileIDs[_e][Pe.crossTileID]}removeStaleBuckets(_e){let be=!1;for(const Te in this.indexes){const Pe=this.indexes[Te];for(const pt in Pe)_e[Pe[pt].bucketInstanceId]||(this.removeBucketCrossTileIDs(Te,Pe[pt]),delete Pe[pt],be=!0)}return be}}class vo{constructor(){this.layerIndexes={},this.crossTileIDs=new so,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(_e,be,Te,Pe){let pt=this.layerIndexes[_e.id];void 0===pt&&(pt=this.layerIndexes[_e.id]=new go);let vt=!1;const xt={};"globe"!==Pe.name&&pt.handleWrapJump(Te);for(const Te of be){const be=Te.getBucket(_e);be&&_e.id===be.layerIds[0]&&(be.bucketInstanceId||(be.bucketInstanceId=++this.maxBucketInstanceId),pt.addBucket(Te.tileID,be,this.crossTileIDs)&&(vt=!0),xt[be.bucketInstanceId]=!0)}return pt.removeStaleBuckets(xt)&&(vt=!0),vt}pruneUnusedLayers(_e){const be={};_e.forEach((_e=>{be[_e]=!0}));for(const _e in this.layerIndexes)be[_e]||delete this.layerIndexes[_e]}}const Ht=(be,Te)=>_e.emitValidationErrors(be,Te&&Te.filter((_e=>"source.canvas"!==_e.identifier))),xo=_e.pick(pr,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),bo=_e.pick(pr,["setCenter","setZoom","setBearing","setPitch"]),Ao={version:8,layers:[],sources:{}},Po={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Uo extends _e.Evented{constructor(be,Te={}){super(),this.map=be,this.dispatcher=new $t(Ge(),this),this.imageManager=new xt,this.imageManager.setEventedParent(this),this.glyphManager=new _e.GlyphManager(be._requestManager,Te.localFontFamily?_e.LocalGlyphMode.all:Te.localIdeographFontFamily?_e.LocalGlyphMode.ideographs:_e.LocalGlyphMode.none,Te.localFontFamily||Te.localIdeographFontFamily),this.lineAtlas=new _e.LineAtlas(256,512),this.crossTileSymbolIndex=new vo,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new _e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",_e.getReferrer());const Pe=this;this._rtlTextPluginCallback=Uo.registerForPluginStateChange((be=>{Pe.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:be.pluginStatus,pluginURL:be.pluginURL},((be,Te)=>{if(_e.triggerPluginCompletionEvent(be),Te&&Te.every((_e=>_e)))for(const _e in Pe._sourceCaches){const be=Pe._sourceCaches[_e],Te=be.getSource().type;"vector"!==Te&&"geojson"!==Te||be.reload()}}))})),this.on("data",(_e=>{if("source"!==_e.dataType||"metadata"!==_e.sourceDataType)return;const be=this.getSource(_e.sourceId);if(be&&be.vectorLayerIds)for(const _e in this._layers){const Te=this._layers[_e];Te.source===be.id&&this._validateLayer(Te)}}))}loadURL(be,Te={}){this.fire(new _e.Event("dataloading",{dataType:"style"}));const Pe="boolean"==typeof Te.validate?Te.validate:!_e.isMapboxURL(be);be=this.map._requestManager.normalizeStyleURL(be,Te.accessToken);const pt=this.map._requestManager.transformRequest(be,_e.ResourceType.Style);this._request=_e.getJSON(pt,((be,Te)=>{this._request=null,be?this.fire(new _e.ErrorEvent(be)):Te&&this._load(Te,Pe)}))}loadJSON(be,Te={}){this.fire(new _e.Event("dataloading",{dataType:"style"})),this._request=_e.exported.frame((()=>{this._request=null,this._load(be,!1!==Te.validate)}))}loadEmpty(){this.fire(new _e.Event("dataloading",{dataType:"style"})),this._load(Ao,!1)}_updateLayerCount(_e,be){const Te=be?1:-1;_e.is3D()&&(this._num3DLayers+=Te),"circle"===_e.type&&(this._numCircleLayers+=Te),"symbol"===_e.type&&(this._numSymbolLayers+=Te)}_load(be,Te){if(Te&&Ht(this,_e.validateStyle(be)))return;this._loaded=!0,this.stylesheet=_e.clone$1(be),this._updateMapProjection();for(const _e in be.sources)this.addSource(_e,be.sources[_e],{validate:!1});this._changed=!1,be.sprite?this._loadSprite(be.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(be.glyphs);const Pe=Ze(this.stylesheet.layers);this._order=Pe.map((_e=>_e.id)),this._layers={},this._serializedLayers={};for(let be of Pe)be=_e.createStyleLayer(be),be.setEventedParent(this,{layer:{id:be.id}}),this._layers[be.id]=be,this._serializedLayers[be.id]=be.serialize(),this._updateLayerCount(be,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Mt(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new _e.Event("data",{dataType:"style"})),this.fire(new _e.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(_e){_e?this.stylesheet.projection=_e:delete this.stylesheet.projection,this.map._explicitProjection||this.map._updateProjection()}_updateMapProjection(){this.map._explicitProjection?this.applyProjectionUpdate():this.map._updateProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_loadSprite(be){this._spriteRequest=function(be,Te,Pe){let pt,vt,xt;const Tt=_e.exported.devicePixelRatio>1?"@2x":"";let It=_e.getJSON(Te.transformRequest(Te.normalizeSpriteURL(be,Tt,".json"),_e.ResourceType.SpriteJSON),((_e,be)=>{It=null,xt||(xt=_e,pt=be,h())})),Mt=_e.getImage(Te.transformRequest(Te.normalizeSpriteURL(be,Tt,".png"),_e.ResourceType.SpriteImage),((_e,be)=>{Mt=null,xt||(xt=_e,vt=be,h())}));function h(){if(xt)Pe(xt);else if(pt&&vt){const be=_e.exported.getImageData(vt),Te={};for(const Pe in pt){const{width:vt,height:xt,x:Tt,y:It,sdf:Mt,pixelRatio:Lt,stretchX:Ft,stretchY:Ot,content:Vt}=pt[Pe],qt=new _e.RGBAImage({width:vt,height:xt});_e.RGBAImage.copy(be,qt,{x:Tt,y:It},{x:0,y:0},{width:vt,height:xt}),Te[Pe]={data:qt,pixelRatio:Lt,sdf:Mt,stretchX:Ft,stretchY:Ot,content:Vt}}Pe(null,Te)}}return{cancel(){It&&(It.cancel(),It=null),Mt&&(Mt.cancel(),Mt=null)}}}(be,this.map._requestManager,((be,Te)=>{if(this._spriteRequest=null,be)this.fire(new _e.ErrorEvent(be));else if(Te)for(const _e in Te)this.imageManager.addImage(_e,Te[_e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new _e.Event("data",{dataType:"style"}))}))}_validateLayer(be){const Te=this.getSource(be.source);if(!Te)return;const Pe=be.sourceLayer;Pe&&("geojson"===Te.type||Te.vectorLayerIds&&-1===Te.vectorLayerIds.indexOf(Pe))&&this.fire(new _e.ErrorEvent(new Error(`Source layer "${Pe}" does not exist on source "${Te.id}" as specified by style layer "${be.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const _e in this._sourceCaches)if(!this._sourceCaches[_e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(_e){const be=[];for(const Te of _e){const _e=this._layers[Te];"custom"!==_e.type&&be.push(_e.serialize())}return be}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const _e in this._sourceCaches)if(this._sourceCaches[_e].hasTransition())return!0;for(const _e in this._layers)if(this._layers[_e].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(_e){return!!this.terrain&&Po[_e.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(be){if(!this._loaded)return;const Te=this._changed;if(this._changed){const _e=Object.keys(this._updatedLayers),Te=Object.keys(this._removedLayers);(_e.length||Te.length)&&this._updateWorkerLayers(_e,Te);for(const _e in this._updatedSources){const be=this._updatedSources[_e];"reload"===be?this._reloadSource(_e):"clear"===be&&this._clearSource(_e)}this._updateTilesForChangedImages();for(const _e in this._updatedPaintProps)this._layers[_e].updateTransitions(be);this.light.updateTransitions(be),this.fog&&this.fog.updateTransitions(be),this._resetUpdates()}const Pe={};for(const _e in this._sourceCaches){const be=this._sourceCaches[_e];Pe[_e]=be.used,be.used=!1}for(const _e of this._order){const Te=this._layers[_e];if(Te.recalculate(be,this._availableImages),!Te.isHidden(be.zoom)){const _e=this._getLayerSourceCache(Te);_e&&(_e.used=!0)}const Pe=this.map.painter;if(Pe){const _e=Te.getProgramIds();if(!_e)continue;const pt=Te.getProgramConfiguration(be.zoom);for(const be of _e)Pe.useProgram(be,pt)}}for(const be in Pe){const Te=this._sourceCaches[be];Pe[be]!==Te.used&&Te.getSource().fire(new _e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Te.getSource().id}))}this.light.recalculate(be),this.terrain&&this.terrain.recalculate(be),this.fog&&this.fog.recalculate(be),this.z=be.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),Te&&this.fire(new _e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const _e=Object.keys(this._changedImages);if(_e.length){for(const be in this._sourceCaches)this._sourceCaches[be].reloadTilesForDependencies(["icons","patterns"],_e);this._changedImages={}}}_updateWorkerLayers(_e,be){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(_e),removedIds:be})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(be){if(this._checkLoaded(),Ht(this,_e.validateStyle(be)))return!1;(be=_e.clone$1(be)).layers=Ze(be.layers);const Te=function(_e,be){if(!_e)return[{command:pr.setStyle,args:[be]}];let Te=[];try{if(!t(_e.version,be.version))return[{command:pr.setStyle,args:[be]}];t(_e.center,be.center)||Te.push({command:pr.setCenter,args:[be.center]}),t(_e.zoom,be.zoom)||Te.push({command:pr.setZoom,args:[be.zoom]}),t(_e.bearing,be.bearing)||Te.push({command:pr.setBearing,args:[be.bearing]}),t(_e.pitch,be.pitch)||Te.push({command:pr.setPitch,args:[be.pitch]}),t(_e.sprite,be.sprite)||Te.push({command:pr.setSprite,args:[be.sprite]}),t(_e.glyphs,be.glyphs)||Te.push({command:pr.setGlyphs,args:[be.glyphs]}),t(_e.transition,be.transition)||Te.push({command:pr.setTransition,args:[be.transition]}),t(_e.light,be.light)||Te.push({command:pr.setLight,args:[be.light]}),t(_e.fog,be.fog)||Te.push({command:pr.setFog,args:[be.fog]}),t(_e.projection,be.projection)||Te.push({command:pr.setProjection,args:[be.projection]});const Pe={},pt=[];!function(_e,be,Te,Pe){let pt;for(pt in be=be||{},_e=_e||{})_e.hasOwnProperty(pt)&&(be.hasOwnProperty(pt)||Xe(pt,Te,Pe));for(pt in be)be.hasOwnProperty(pt)&&(_e.hasOwnProperty(pt)?t(_e[pt],be[pt])||("geojson"===_e[pt].type&&"geojson"===be[pt].type&&$e(_e,be,pt)?Te.push({command:pr.setGeoJSONSourceData,args:[pt,be[pt].data]}):qe(pt,be,Te,Pe)):We(pt,be,Te))}(_e.sources,be.sources,pt,Pe);const vt=[];_e.layers&&_e.layers.forEach((_e=>{_e.source&&Pe[_e.source]?Te.push({command:pr.removeLayer,args:[_e.id]}):vt.push(_e)}));let xt=_e.terrain;xt&&Pe[xt.source]&&(Te.push({command:pr.setTerrain,args:[void 0]}),xt=void 0),Te=Te.concat(pt),t(xt,be.terrain)||Te.push({command:pr.setTerrain,args:[be.terrain]}),function(_e,be,Te){be=be||[];const Pe=(_e=_e||[]).map(Ye),pt=be.map(Ye),vt=_e.reduce(Ke,{}),xt=be.reduce(Ke,{}),Tt=Pe.slice(),It=Object.create(null);let Mt,Lt,Ft,Ot,Vt,qt,Wt;for(Mt=0,Lt=0;Mt<Pe.length;Mt++)Ft=Pe[Mt],xt.hasOwnProperty(Ft)?Lt++:(Te.push({command:pr.removeLayer,args:[Ft]}),Tt.splice(Tt.indexOf(Ft,Lt),1));for(Mt=0,Lt=0;Mt<pt.length;Mt++)Ft=pt[pt.length-1-Mt],Tt[Tt.length-1-Mt]!==Ft&&(vt.hasOwnProperty(Ft)?(Te.push({command:pr.removeLayer,args:[Ft]}),Tt.splice(Tt.lastIndexOf(Ft,Tt.length-Lt),1)):Lt++,qt=Tt[Tt.length-Mt],Te.push({command:pr.addLayer,args:[xt[Ft],qt]}),Tt.splice(Tt.length-Mt,0,Ft),It[Ft]=!0);for(Mt=0;Mt<pt.length;Mt++)if(Ft=pt[Mt],Ot=vt[Ft],Vt=xt[Ft],!It[Ft]&&!t(Ot,Vt))if(t(Ot.source,Vt.source)&&t(Ot["source-layer"],Vt["source-layer"])&&t(Ot.type,Vt.type)){for(Wt in He(Ot.layout,Vt.layout,Te,Ft,null,pr.setLayoutProperty),He(Ot.paint,Vt.paint,Te,Ft,null,pr.setPaintProperty),t(Ot.filter,Vt.filter)||Te.push({command:pr.setFilter,args:[Ft,Vt.filter]}),t(Ot.minzoom,Vt.minzoom)&&t(Ot.maxzoom,Vt.maxzoom)||Te.push({command:pr.setLayerZoomRange,args:[Ft,Vt.minzoom,Vt.maxzoom]}),Ot)Ot.hasOwnProperty(Wt)&&"layout"!==Wt&&"paint"!==Wt&&"filter"!==Wt&&"metadata"!==Wt&&"minzoom"!==Wt&&"maxzoom"!==Wt&&(0===Wt.indexOf("paint.")?He(Ot[Wt],Vt[Wt],Te,Ft,Wt.slice(6),pr.setPaintProperty):t(Ot[Wt],Vt[Wt])||Te.push({command:pr.setLayerProperty,args:[Ft,Wt,Vt[Wt]]}));for(Wt in Vt)Vt.hasOwnProperty(Wt)&&!Ot.hasOwnProperty(Wt)&&"layout"!==Wt&&"paint"!==Wt&&"filter"!==Wt&&"metadata"!==Wt&&"minzoom"!==Wt&&"maxzoom"!==Wt&&(0===Wt.indexOf("paint.")?He(Ot[Wt],Vt[Wt],Te,Ft,Wt.slice(6),pr.setPaintProperty):t(Ot[Wt],Vt[Wt])||Te.push({command:pr.setLayerProperty,args:[Ft,Wt,Vt[Wt]]}))}else Te.push({command:pr.removeLayer,args:[Ft]}),qt=Tt[Tt.lastIndexOf(Ft)+1],Te.push({command:pr.addLayer,args:[Vt,qt]})}(vt,be.layers,Te)}catch(_e){console.warn("Unable to compute style diff:",_e),Te=[{command:pr.setStyle,args:[be]}]}return Te}(this.serialize(),be).filter((_e=>!(_e.command in bo)));if(0===Te.length)return!1;const Pe=Te.filter((_e=>!(_e.command in xo)));if(Pe.length>0)throw new Error(`Unimplemented: ${Pe.map((_e=>_e.command)).join(", ")}.`);return Te.forEach((_e=>{"setTransition"!==_e.command&&this[_e.command].apply(this,_e.args)})),this.stylesheet=be,this._updateMapProjection(),!0}addImage(be,Te){return this.getImage(be)?this.fire(new _e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(be,Te),this._afterImageUpdated(be),this)}updateImage(_e,be){this.imageManager.updateImage(_e,be)}getImage(_e){return this.imageManager.getImage(_e)}removeImage(be){return this.getImage(be)?(this.imageManager.removeImage(be),this._afterImageUpdated(be),this):this.fire(new _e.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(be){this._availableImages=this.imageManager.listImages(),this._changedImages[be]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new _e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(be,Te,Pe={}){if(this._checkLoaded(),void 0!==this.getSource(be))throw new Error("There is already a source with this ID");if(!Te.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(Te).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(Te.type)>=0&&this._validate(_e.validateSource,`sources.${be}`,Te,null,Pe))return;this.map&&this.map._collectResourceTiming&&(Te.collectResourceTiming=!0);const pt=Ae(be,Te,this.dispatcher,this);pt.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(be),source:pt.serialize(),sourceId:be})));const n=Te=>{const Pe=(Te?"symbol:":"other:")+be,vt=this._sourceCaches[Pe]=new _e.SourceCache(Pe,pt,Te);(Te?this._symbolSourceCaches:this._otherSourceCaches)[be]=vt,vt.style=this,vt.onAdd(this.map)};n(!1),"vector"!==Te.type&&"geojson"!==Te.type||n(!0),pt.onAdd&&pt.onAdd(this.map),this._changed=!0}removeSource(be){this._checkLoaded();const Te=this.getSource(be);if(!Te)throw new Error("There is no source with this ID");for(const Te in this._layers)if(this._layers[Te].source===be)return this.fire(new _e.ErrorEvent(new Error(`Source "${be}" cannot be removed while layer "${Te}" is using it.`)));if(this.terrain&&this.terrain.get().source===be)return this.fire(new _e.ErrorEvent(new Error(`Source "${be}" cannot be removed while terrain is using it.`)));const Pe=this._getSourceCaches(be);for(const be of Pe)delete this._sourceCaches[be.id],delete this._updatedSources[be.id],be.fire(new _e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:be.getSource().id})),be.setEventedParent(null),be.clearTiles();return delete this._otherSourceCaches[be],delete this._symbolSourceCaches[be],Te.setEventedParent(null),Te.onRemove&&Te.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(_e,be){this._checkLoaded(),this.getSource(_e).setData(be),this._changed=!0}getSource(_e){const be=this._getSourceCache(_e);return be&&be.getSource()}addLayer(be,Te,Pe={}){this._checkLoaded();const pt=be.id;if(this.getLayer(pt))return void this.fire(new _e.ErrorEvent(new Error(`Layer with id "${pt}" already exists on this map`)));let vt;if("custom"===be.type){if(Ht(this,_e.validateCustomStyleLayer(be)))return;vt=_e.createStyleLayer(be)}else{if("object"==typeof be.source&&(this.addSource(pt,be.source),be=_e.clone$1(be),be=_e.extend(be,{source:pt})),this._validate(_e.validateLayer,`layers.${pt}`,be,{arrayIndex:-1},Pe))return;vt=_e.createStyleLayer(be),this._validateLayer(vt),vt.setEventedParent(this,{layer:{id:pt}}),this._serializedLayers[vt.id]=vt.serialize(),this._updateLayerCount(vt,!0)}const xt=Te?this._order.indexOf(Te):this._order.length;if(Te&&-1===xt)return void this.fire(new _e.ErrorEvent(new Error(`Layer with id "${Te}" does not exist on this map.`)));this._order.splice(xt,0,pt),this._layerOrderChanged=!0,this._layers[pt]=vt;const Tt=this._getLayerSourceCache(vt);if(this._removedLayers[pt]&&vt.source&&Tt&&"custom"!==vt.type){const _e=this._removedLayers[pt];delete this._removedLayers[pt],_e.type!==vt.type?this._updatedSources[vt.source]="clear":(this._updatedSources[vt.source]="reload",Tt.pause())}this._updateLayer(vt),vt.onAdd&&vt.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(be,Te){if(this._checkLoaded(),this._changed=!0,!this._layers[be])return void this.fire(new _e.ErrorEvent(new Error(`The layer '${be}' does not exist in the map's style and cannot be moved.`)));if(be===Te)return;const Pe=this._order.indexOf(be);this._order.splice(Pe,1);const pt=Te?this._order.indexOf(Te):this._order.length;Te&&-1===pt?this.fire(new _e.ErrorEvent(new Error(`Layer with id "${Te}" does not exist on this map.`))):(this._order.splice(pt,0,be),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(be){this._checkLoaded();const Te=this._layers[be];if(!Te)return void this.fire(new _e.ErrorEvent(new Error(`The layer '${be}' does not exist in the map's style and cannot be removed.`)));Te.setEventedParent(null),this._updateLayerCount(Te,!1);const Pe=this._order.indexOf(be);this._order.splice(Pe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[be]=Te,delete this._layers[be],delete this._serializedLayers[be],delete this._updatedLayers[be],delete this._updatedPaintProps[be],Te.onRemove&&Te.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(_e){return this._layers[_e]}hasLayer(_e){return _e in this._layers}hasLayerType(_e){for(const be in this._layers)if(this._layers[be].type===_e)return!0;return!1}setLayerZoomRange(be,Te,Pe){this._checkLoaded();const pt=this.getLayer(be);pt?pt.minzoom===Te&&pt.maxzoom===Pe||(null!=Te&&(pt.minzoom=Te),null!=Pe&&(pt.maxzoom=Pe),this._updateLayer(pt)):this.fire(new _e.ErrorEvent(new Error(`The layer '${be}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(be,Te,Pe={}){this._checkLoaded();const pt=this.getLayer(be);if(pt){if(!t(pt.filter,Te))return null==Te?(pt.filter=void 0,void this._updateLayer(pt)):void(this._validate(_e.validateFilter,`layers.${pt.id}.filter`,Te,{layerType:pt.type},Pe)||(pt.filter=_e.clone$1(Te),this._updateLayer(pt)))}else this.fire(new _e.ErrorEvent(new Error(`The layer '${be}' does not exist in the map's style and cannot be filtered.`)))}getFilter(be){const Te=this.getLayer(be);return Te&&_e.clone$1(Te.filter)}setLayoutProperty(be,Te,Pe,pt={}){this._checkLoaded();const vt=this.getLayer(be);vt?t(vt.getLayoutProperty(Te),Pe)||(vt.setLayoutProperty(Te,Pe,pt),this._updateLayer(vt)):this.fire(new _e.ErrorEvent(new Error(`The layer '${be}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(be,Te){const Pe=this.getLayer(be);if(Pe)return Pe.getLayoutProperty(Te);this.fire(new _e.ErrorEvent(new Error(`The layer '${be}' does not exist in the map's style.`)))}setPaintProperty(be,Te,Pe,pt={}){this._checkLoaded();const vt=this.getLayer(be);vt?t(vt.getPaintProperty(Te),Pe)||(vt.setPaintProperty(Te,Pe,pt)&&this._updateLayer(vt),this._changed=!0,this._updatedPaintProps[be]=!0):this.fire(new _e.ErrorEvent(new Error(`The layer '${be}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(_e,be){const Te=this.getLayer(_e);return Te&&Te.getPaintProperty(be)}setFeatureState(be,Te){this._checkLoaded();const Pe=be.source,pt=be.sourceLayer,vt=this.getSource(Pe);if(!vt)return void this.fire(new _e.ErrorEvent(new Error(`The source '${Pe}' does not exist in the map's style.`)));const xt=vt.type;if("geojson"===xt&&pt)return void this.fire(new _e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===xt&&!pt)return void this.fire(new _e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===be.id&&this.fire(new _e.ErrorEvent(new Error("The feature id parameter must be provided.")));const Tt=this._getSourceCaches(Pe);for(const _e of Tt)_e.setFeatureState(pt,be.id,Te)}removeFeatureState(be,Te){this._checkLoaded();const Pe=be.source,pt=this.getSource(Pe);if(!pt)return void this.fire(new _e.ErrorEvent(new Error(`The source '${Pe}' does not exist in the map's style.`)));const vt=pt.type,xt="vector"===vt?be.sourceLayer:void 0;if("vector"===vt&&!xt)return void this.fire(new _e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(Te&&"string"!=typeof be.id&&"number"!=typeof be.id)return void this.fire(new _e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const Tt=this._getSourceCaches(Pe);for(const _e of Tt)_e.removeFeatureState(xt,be.id,Te)}getFeatureState(be){this._checkLoaded();const Te=be.source,Pe=be.sourceLayer,pt=this.getSource(Te);if(pt){if("vector"!==pt.type||Pe)return void 0===be.id&&this.fire(new _e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(Te)[0].getFeatureState(Pe,be.id);this.fire(new _e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new _e.ErrorEvent(new Error(`The source '${Te}' does not exist in the map's style.`)))}getTransition(){return _e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const be={};for(const _e in this._sourceCaches){const Te=this._sourceCaches[_e].getSource();be[Te.id]||(be[Te.id]=Te.serialize())}return _e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:be,layers:this._serializeLayers(this._order)},(_e=>void 0!==_e))}_updateLayer(_e){this._updatedLayers[_e.id]=!0;const be=this._getLayerSourceCache(_e);_e.source&&!this._updatedSources[_e.source]&&be&&"raster"!==be.getSource().type&&(this._updatedSources[_e.source]="reload",be.pause()),this._changed=!0,_e.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(_e){const t=_e=>"fill-extrusion"===this._layers[_e].type,be={},Te=[];for(let Pe=this._order.length-1;Pe>=0;Pe--){const pt=this._order[Pe];if(t(pt)){be[pt]=Pe;for(const be of _e){const _e=be[pt];if(_e)for(const be of _e)Te.push(be)}}}Te.sort(((_e,be)=>be.intersectionZ-_e.intersectionZ));const Pe=[];for(let pt=this._order.length-1;pt>=0;pt--){const vt=this._order[pt];if(t(vt))for(let _e=Te.length-1;_e>=0;_e--){const vt=Te[_e].feature;if(be[vt.layer.id]<pt)break;Pe.push(vt),Te.pop()}else for(const be of _e){const _e=be[vt];if(_e)for(const be of _e)Pe.push(be.feature)}}return Pe}queryRenderedFeatures(be,Te,Pe){Te&&Te.filter&&this._validate(_e.validateFilter,"queryRenderedFeatures.filter",Te.filter,null,Te);const pt={};if(Te&&Te.layers){if(!Array.isArray(Te.layers))return this.fire(new _e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const be of Te.layers){const Te=this._layers[be];if(!Te)return this.fire(new _e.ErrorEvent(new Error(`The layer '${be}' does not exist in the map's style and cannot be queried for features.`))),[];pt[Te.source]=!0}}const vt=[];Te.availableImages=this._availableImages;const xt=Te&&Te.layers?Te.layers.some((_e=>{const be=this.getLayer(_e);return be&&be.is3D()})):this.has3DLayers(),Tt=Kt.createFromScreenPoints(be,Pe);for(const _e in this._sourceCaches){const be=this._sourceCaches[_e].getSource().id;Te.layers&&!pt[be]||vt.push(Re(this._sourceCaches[_e],this._layers,this._serializedLayers,Tt,Te,Pe,xt,!!this.map._showQueryGeometry))}return this.placement&&vt.push(function(_e,be,Te,Pe,pt,vt,xt){const Tt={},It=vt.queryRenderedSymbols(Pe),Mt=[];for(const _e of Object.keys(It).map(Number))Mt.push(xt[_e]);Mt.sort(ke);for(const Te of Mt){const Pe=Te.featureIndex.lookupSymbolFeatures(It[Te.bucketInstanceId],be,Te.bucketIndex,Te.sourceLayerIndex,pt.filter,pt.layers,pt.availableImages,_e);for(const _e in Pe){const be=Tt[_e]=Tt[_e]||[],pt=Pe[_e];pt.sort(((_e,be)=>{const Pe=Te.featureSortOrder;if(Pe){const Te=Pe.indexOf(_e.featureIndex);return Pe.indexOf(be.featureIndex)-Te}return be.featureIndex-_e.featureIndex}));for(const _e of pt)be.push(_e)}}for(const be in Tt)Tt[be].forEach((Pe=>{const pt=Pe.feature,vt=Te(_e[be]).getFeatureState(pt.layer["source-layer"],pt.id);pt.source=pt.layer.source,pt.layer["source-layer"]&&(pt.sourceLayer=pt.layer["source-layer"]),pt.state=vt}));return Tt}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),Tt.screenGeometry,Te,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(vt)}querySourceFeatures(be,Te){Te&&Te.filter&&this._validate(_e.validateFilter,"querySourceFeatures.filter",Te.filter,null,Te);const Pe=this._getSourceCaches(be);let pt=[];for(const _e of Pe)pt=pt.concat(Oe(_e,Te));return pt}addSourceType(_e,be,Te){return Uo.getSourceType(_e)?Te(new Error(`A source type called "${_e}" already exists.`)):(Uo.setSourceType(_e,be),be.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:_e,url:be.workerSourceURL},Te):Te(null,null))}getLight(){return this.light.getLight()}setLight(_e,be={}){this._checkLoaded();const Te=this.light.getLight();let Pe=!1;for(const be in _e)if(!t(_e[be],Te[be])){Pe=!0;break}if(!Pe)return;const pt=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(_e,be),this.light.updateTransitions(pt)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(be,Te=1){if(this._checkLoaded(),!be)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===Te){if("object"==typeof be.source){const Te="terrain-dem-src";this.addSource(Te,be.source),be=_e.clone$1(be),be=_e.extend(be,{source:Te})}if(this._validate(_e.validateTerrain,"terrain",be))return}if(!this.terrain||this.terrain&&Te!==this.terrain.drapeRenderMode)this._createTerrain(be,Te);else{const Te=this.terrain,Pe=Te.get();for(const Te of Object.keys(_e.spec.terrain))!be.hasOwnProperty(Te)&&_e.spec.terrain[Te].default&&(be[Te]=_e.spec.terrain[Te].default);for(const _e in be)if(!t(be[_e],Pe[_e])){Te.set(be),this.stylesheet.terrain=be;const _e=this._setTransitionParameters({duration:0});Te.updateTransitions(_e);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(_e){const be=this.fog=new Wt(_e,this.map.transform);this.stylesheet.fog=_e;const Te=this._setTransitionParameters({duration:0});be.updateTransitions(Te)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask((()=>{for(const _e of this.map._markers)_e._evaluateOpacity()}))}getFog(){return this.fog?this.fog.get():null}setFog(_e){if(this._checkLoaded(),!_e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const be=this.fog,Te=be.get();0===Object.keys(_e).length&&be.set(_e);for(const Pe in _e)if(!t(_e[Pe],Te[Pe])){be.set(_e),this.stylesheet.fog=_e;const Te=this._setTransitionParameters({duration:0});be.updateTransitions(Te);break}}else this._createFog(_e);this._markersNeedUpdate=!0}_setTransitionParameters(be){return{now:_e.exported.now(),transition:_e.extend(be,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const _e=this._order.filter((_e=>this.isLayerDraped(this._layers[_e]))),be=this._order.filter((_e=>!this.isLayerDraped(this._layers[_e])));this._drapedFirstOrder=[],this._drapedFirstOrder.push(..._e),this._drapedFirstOrder.push(...be)}_createTerrain(_e,be){const Te=this.terrain=new Ot(_e,be);this.stylesheet.terrain=_e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const Pe=this._setTransitionParameters({duration:0});Te.updateTransitions(Pe)}_force3DLayerUpdate(){for(const _e in this._layers){const be=this._layers[_e];"fill-extrusion"===be.type&&this._updateLayer(be)}}_forceSymbolLayerUpdate(){for(const _e in this._layers){const be=this._layers[_e];"symbol"===be.type&&this._updateLayer(be)}}_validate(be,Te,Pe,pt,vt={}){return(!vt||!1!==vt.validate)&&Ht(this,be.call(_e.validateStyle,_e.extend({key:Te,style:this.serialize(),value:Pe,styleSpec:_e.spec},pt)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),_e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const _e in this._layers)this._layers[_e].setEventedParent(null);for(const _e in this._sourceCaches)this._sourceCaches[_e].clearTiles(),this._sourceCaches[_e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(_e){const be=this._getSourceCaches(_e);for(const _e of be)_e.clearTiles()}_reloadSource(_e){const be=this._getSourceCaches(_e);for(const _e of be)_e.resume(),_e.reload()}_updateSources(_e){for(const be in this._sourceCaches)this._sourceCaches[be].update(_e)}_generateCollisionBoxes(){for(const _e in this._sourceCaches){const be=this._sourceCaches[_e];be.resume(),be.reload()}}_updatePlacement(be,Te,Pe,pt,vt=!1){let xt=!1,Tt=!1;const It={};for(const _e of this._order){const Te=this._layers[_e];if("symbol"!==Te.type)continue;if(!It[Te.source]){const _e=this._getLayerSourceCache(Te);if(!_e)continue;It[Te.source]=_e.getRenderableIds(!0).map((be=>_e.getTileByID(be))).sort(((_e,be)=>be.tileID.overscaledZ-_e.tileID.overscaledZ||(_e.tileID.isLessThan(be.tileID)?-1:1)))}const Pe=this.crossTileSymbolIndex.addLayer(Te,It[Te.source],be.center.lng,be.projection);xt=xt||Pe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),vt=vt||this._layerOrderChanged||0===Pe,this._layerOrderChanged&&this.fire(new _e.Event("neworder")),(vt||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(_e.exported.now(),be.zoom))&&(this.pauseablePlacement=new Yr(be,this._order,vt,Te,Pe,pt,this.placement,this.fog&&be.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,It),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(_e.exported.now()),Tt=!0),xt&&this.pauseablePlacement.placement.setStale()),Tt||xt)for(const _e of this._order){const be=this._layers[_e];"symbol"===be.type&&this.placement.updateLayerOpacities(be,It[be.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(_e.exported.now())}_releaseSymbolFadeTiles(){for(const _e in this._sourceCaches)this._sourceCaches[_e].releaseSymbolFadeTiles()}getImages(_e,be,Te){this.imageManager.getImages(be.icons,Te),this._updateTilesForChangedImages();const o=_e=>{_e&&_e.setDependencies(be.tileID.key,be.type,be.icons)};o(this._otherSourceCaches[be.source]),o(this._symbolSourceCaches[be.source])}getGlyphs(_e,be,Te){this.glyphManager.getGlyphs(be.stacks,Te)}getResource(be,Te,Pe){return _e.makeRequest(Te,Pe)}_getSourceCache(_e){return this._otherSourceCaches[_e]}_getLayerSourceCache(_e){return"symbol"===_e.type?this._symbolSourceCaches[_e.source]:this._otherSourceCaches[_e.source]}_getSourceCaches(_e){const be=[];return this._otherSourceCaches[_e]&&be.push(this._otherSourceCaches[_e]),this._symbolSourceCaches[_e]&&be.push(this._symbolSourceCaches[_e]),be}_isSourceCacheLoaded(be){const Te=this._getSourceCaches(be);return 0===Te.length?(this.fire(new _e.ErrorEvent(new Error(`There is no source with ID '${be}'`))),!1):Te.every((_e=>_e.loaded()))}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Uo.getSourceType=function(_e){return Ja[_e]},Uo.setSourceType=function(_e,be){Ja[_e]=be},Uo.registerForPluginStateChange=_e.registerForPluginStateChange;var _s="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",vs="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let Rs={},xs={};Rs=ci("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0),xs=ci("#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);const bs=ci("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}\n#ifdef TERRAIN\nhighp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\n#endif","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),ws=_s,Es="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var Cs={background:ci("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:ci("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:ci("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;attribute float a_scale;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);vec4 world_center=vec4(pos,1);\n#else \nmat3 surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:ci("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ci("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\nvec3 pos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:ci("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:ci("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:ci("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:ci("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:ci("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:ci("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:ci("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:ci("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:ci("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(pos.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:ci("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);\n#else\nvec3 p=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:ci("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ci("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:ci("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nhighp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nvec4 out_color=color;\n#endif\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:ci("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:ci("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:ci("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);vec4 offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\nvec4 offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:ci("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);vec4 offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\nvec4 offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:ci("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:ci("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:ci("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:ci("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",vs),skyboxGradient:ci("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",vs),skyboxCapture:ci("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:ci("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);vec4 color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\nvec4 color=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_merc_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 merc_pos=a_merc_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idy=u_grid_matrix[1][2];float S=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=a_pos[0]*S;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;uv=uv*EXTENT;vec4 up_vector=vec4(elevationVector(uv),1.0);float height=elevation(uv);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector.xyz*height;vec4 globe=u_globe_matrix*vec4(globe_pos,1.0);vec4 mercator=vec4(0.0);if (u_zoom_transition > 0.0) {mercator=vec4(merc_pos,height,1.0);mercator.xy-=u_merc_center;mercator.x=wrap(mercator.x,-0.5,0.5);mercator=u_merc_matrix*mercator;}vec3 position=mix(globe.xyz,mercator.xyz,u_zoom_transition);gl_Position=u_proj_matrix*vec4(position,1.0);\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:ci("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);\n#ifdef PROJECTION_GLOBE_VIEW\nfloat globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));float horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nfloat horizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function ci(_e,be,Te){const Pe=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,pt=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,vt=be.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),xt=_e.match(pt),Tt=be.match(pt),It=_s.match(pt);let Mt=Tt?Tt.concat(xt):xt;Te||(Rs.staticUniforms&&(Mt=Rs.staticUniforms.concat(Mt)),xs.staticUniforms&&(Mt=xs.staticUniforms.concat(Mt))),Mt&&(Mt=Mt.concat(It));const Lt={};return{fragmentSource:_e=_e.replace(Pe,((_e,be,Te,Pe,pt)=>(Lt[pt]=!0,"define"===be?`\n#ifndef HAS_UNIFORM_u_${pt}\nvarying ${Te} ${Pe} ${pt};\n#else\nuniform ${Te} ${Pe} u_${pt};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${pt}\n    ${Te} ${Pe} ${pt} = u_${pt};\n#endif\n`))),vertexSource:be=be.replace(Pe,((_e,be,Te,Pe,pt)=>{const vt="float"===Pe?"vec2":"vec4",xt=pt.match(/color/)?"color":vt;return Lt[pt]?"define"===be?`\n#ifndef HAS_UNIFORM_u_${pt}\nuniform lowp float u_${pt}_t;\nattribute ${Te} ${vt} a_${pt};\nvarying ${Te} ${Pe} ${pt};\n#else\nuniform ${Te} ${Pe} u_${pt};\n#endif\n`:"vec4"===xt?`\n#ifndef HAS_UNIFORM_u_${pt}\n    ${pt} = a_${pt};\n#else\n    ${Te} ${Pe} ${pt} = u_${pt};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${pt}\n    ${pt} = unpack_mix_${xt}(a_${pt}, u_${pt}_t);\n#else\n    ${Te} ${Pe} ${pt} = u_${pt};\n#endif\n`:"define"===be?`\n#ifndef HAS_UNIFORM_u_${pt}\nuniform lowp float u_${pt}_t;\nattribute ${Te} ${vt} a_${pt};\n#else\nuniform ${Te} ${Pe} u_${pt};\n#endif\n`:"vec4"===xt?`\n#ifndef HAS_UNIFORM_u_${pt}\n    ${Te} ${Pe} ${pt} = a_${pt};\n#else\n    ${Te} ${Pe} ${pt} = u_${pt};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${pt}\n    ${Te} ${Pe} ${pt} = unpack_mix_${xt}(a_${pt}, u_${pt}_t);\n#else\n    ${Te} ${Pe} ${pt} = u_${pt};\n#endif\n`})),staticAttributes:vt,staticUniforms:Mt}}class As{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(_e,be,Te,Pe,pt,vt,xt,Tt,It){this.context=_e;let Mt=this.boundPaintVertexBuffers.length!==Pe.length;for(let _e=0;!Mt&&_e<Pe.length;_e++)this.boundPaintVertexBuffers[_e]!==Pe[_e]&&(Mt=!0);_e.extVertexArrayObject&&this.vao&&this.boundProgram===be&&this.boundLayoutVertexBuffer===Te&&!Mt&&this.boundIndexBuffer===pt&&this.boundVertexOffset===vt&&this.boundDynamicVertexBuffer===xt&&this.boundDynamicVertexBuffer2===Tt&&this.boundDynamicVertexBuffer3===It?(_e.bindVertexArrayOES.set(this.vao),xt&&xt.bind(),pt&&pt.dynamicDraw&&pt.bind(),Tt&&Tt.bind(),It&&It.bind()):this.freshBind(be,Te,Pe,pt,vt,xt,Tt,It)}freshBind(_e,be,Te,Pe,pt,vt,xt,Tt){let It;const Mt=_e.numAttributes,Lt=this.context,Ft=Lt.gl;if(Lt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Lt.extVertexArrayObject.createVertexArrayOES(),Lt.bindVertexArrayOES.set(this.vao),It=0,this.boundProgram=_e,this.boundLayoutVertexBuffer=be,this.boundPaintVertexBuffers=Te,this.boundIndexBuffer=Pe,this.boundVertexOffset=pt,this.boundDynamicVertexBuffer=vt,this.boundDynamicVertexBuffer2=xt,this.boundDynamicVertexBuffer3=Tt;else{It=Lt.currentNumAttributes||0;for(let _e=Mt;_e<It;_e++)Ft.disableVertexAttribArray(_e)}be.enableAttributes(Ft,_e);for(const be of Te)be.enableAttributes(Ft,_e);vt&&vt.enableAttributes(Ft,_e),xt&&xt.enableAttributes(Ft,_e),Tt&&Tt.enableAttributes(Ft,_e),be.bind(),be.setVertexAttribPointers(Ft,_e,pt);for(const be of Te)be.bind(),be.setVertexAttribPointers(Ft,_e,pt);vt&&(vt.bind(),vt.setVertexAttribPointers(Ft,_e,pt)),Pe&&Pe.bind(),xt&&(xt.bind(),xt.setVertexAttribPointers(Ft,_e,pt)),Tt&&(Tt.bind(),Tt.setVertexAttribPointers(Ft,_e,pt)),Lt.currentNumAttributes=Mt}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function ui(be,Te){const Pe=Math.pow(2,Te.canonical.z),pt=Te.canonical.y;return[new _e.MercatorCoordinate(0,pt/Pe).toLngLat().lat,new _e.MercatorCoordinate(0,(pt+1)/Pe).toLngLat().lat]}function _i(be,Te,Pe,pt,vt,xt,Tt){const It=be.context,Mt=It.gl,Lt=Pe.fbo;if(!Lt)return;be.prepareDrawTile();const Ft=be.useProgram("hillshade");It.activeTexture.set(Mt.TEXTURE0),Mt.bindTexture(Mt.TEXTURE_2D,Lt.colorAttachment.get());const Ot=((_e,be,Te,Pe)=>{const pt=Te.paint.get("hillshade-shadow-color"),vt=Te.paint.get("hillshade-highlight-color"),xt=Te.paint.get("hillshade-accent-color");let Tt=Te.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===Te.paint.get("hillshade-illumination-anchor")&&(Tt-=_e.transform.angle);const It=!_e.options.moving;return{u_matrix:Pe||_e.transform.calculateProjMatrix(be.tileID.toUnwrapped(),It),u_image:0,u_latrange:ui(0,be.tileID),u_light:[Te.paint.get("hillshade-exaggeration"),Tt],u_shadow:pt,u_highlight:vt,u_accent:xt}})(be,Pe,pt,be.terrain?Te.projMatrix:null);be.prepareDrawProgram(It,Ft,Te.toUnwrapped());const{tileBoundsBuffer:Vt,tileBoundsIndexBuffer:qt,tileBoundsSegments:Wt}=be.getTileBoundsBuffers(Pe);Ft.draw(It,Mt.TRIANGLES,vt,xt,Tt,_e.CullFaceMode.disabled,Ot,pt.id,Vt,qt,Wt)}function di(be,Te,Pe){if(!Te.needsDEMTextureUpload)return;const pt=be.context,vt=pt.gl;pt.pixelStoreUnpackPremultiplyAlpha.set(!1),Te.demTexture=Te.demTexture||be.getTileTexture(Pe.stride);const xt=Pe.getPixels();Te.demTexture?Te.demTexture.update(xt,{premultiply:!1}):Te.demTexture=new _e.Texture(pt,xt,vt.RGBA,{premultiply:!1}),Te.needsDEMTextureUpload=!1}function mi(be,Te,Pe,pt,vt,xt){const Tt=be.context,It=Tt.gl;if(!Te.dem)return;const Mt=Te.dem;if(Tt.activeTexture.set(It.TEXTURE1),di(be,Te,Mt),!Te.demTexture)return;Te.demTexture.bind(It.NEAREST,It.CLAMP_TO_EDGE);const Lt=Mt.dim;Tt.activeTexture.set(It.TEXTURE0);let Ft=Te.fbo;if(!Ft){const be=new _e.Texture(Tt,{width:Lt,height:Lt,data:null},It.RGBA);be.bind(It.LINEAR,It.CLAMP_TO_EDGE),Ft=Te.fbo=Tt.createFramebuffer(Lt,Lt,!0),Ft.colorAttachment.set(be.texture)}Tt.bindFramebuffer.set(Ft.framebuffer),Tt.viewport.set([0,0,Lt,Lt]);const{tileBoundsBuffer:Ot,tileBoundsIndexBuffer:Vt,tileBoundsSegments:qt}=be.getMercatorTileBoundsBuffers();be.useProgram("hillshadePrepare").draw(Tt,It.TRIANGLES,pt,vt,xt,_e.CullFaceMode.disabled,((be,Te)=>{const Pe=Te.stride,pt=_e.create();return _e.ortho(pt,0,_e.EXTENT,-_e.EXTENT,0,0,1),_e.translate(pt,pt,[0,-_e.EXTENT,0]),{u_matrix:pt,u_image:1,u_dimension:[Pe,Pe],u_zoom:be.overscaledZ,u_unpack:Te.unpackVector}})(Te.tileID,Mt),Pe.id,Ot,Vt,qt),Te.needsHillshadePrepare=!1}const pi=(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_image0:new _e.Uniform1i(be,Te.u_image0),u_skirt_height:new _e.Uniform1f(be,Te.u_skirt_height)}),fi=(_e,be)=>({u_matrix:_e,u_image0:0,u_skirt_height:be}),gi=(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt)=>({u_proj_matrix:Float32Array.from(_e),u_globe_matrix:be,u_normalize_matrix:Float32Array.from(Pe),u_merc_matrix:Te,u_zoom_transition:pt,u_merc_center:vt,u_image0:0,u_frustum_tl:xt,u_frustum_tr:Tt,u_frustum_br:It,u_frustum_bl:Mt,u_globe_pos:Lt,u_globe_radius:Ft,u_viewport:Ot,u_grid_matrix:Vt?Float32Array.from(Vt):new Float32Array(9)});function vi(_e,be){return null!=_e&&null!=be&&!(!_e.hasData()||!be.hasData())&&null!=_e.demTexture&&null!=be.demTexture&&_e.tileID.key!==be.tileID.key}const Ts=new class{constructor(){this.operations={}}newMorphing(_e,be,Te,Pe,pt){if(_e in this.operations){const be=this.operations[_e];be.to.tileID.key!==Te.tileID.key&&(be.queued=Te)}else this.operations[_e]={startTime:Pe,phase:0,duration:pt,from:be,to:Te,queued:null}}getMorphValuesForProxy(_e){if(!(_e in this.operations))return null;const be=this.operations[_e];return{from:be.from,to:be.to,phase:be.phase}}update(_e){for(const be in this.operations){const Te=this.operations[be];for(Te.phase=(_e-Te.startTime)/Te.duration;Te.phase>=1||!this._validOp(Te);)if(!this._nextOp(Te,_e)){delete this.operations[be];break}}}_nextOp(_e,be){return!!_e.queued&&(_e.from=_e.to,_e.to=_e.queued,_e.queued=null,_e.phase=0,_e.startTime=be,!0)}_validOp(_e){return _e.from.hasData()&&_e.to.hasData()}},Ds={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function bi(_e,be){const Te=1<<_e.z;return!be&&(0===_e.x||_e.x===Te-1)||0===_e.y||_e.y===Te-1}const wi=_e=>({u_matrix:_e});function Ti(be,Te,Pe,pt,vt){if(vt>0){const xt=_e.exported.now(),Tt=(xt-be.timeAdded)/vt,It=Te?(xt-Te.timeAdded)/vt:-1,Mt=Pe.getSource(),Lt=pt.coveringZoomLevel({tileSize:Mt.tileSize,roundZoom:Mt.roundZoom}),Ft=!Te||Math.abs(Te.tileID.overscaledZ-Lt)>Math.abs(be.tileID.overscaledZ-Lt),Ot=Ft&&be.refreshedUponExpiration?1:_e.clamp(Ft?Tt:1-It,0,1);return be.refreshedUponExpiration&&Tt>=1&&(be.refreshedUponExpiration=!1),Te?{opacity:1,mix:1-Ot}:{opacity:Ot,mix:0}}return{opacity:1,mix:0}}class Ps extends _e.SourceCache{constructor(_e){const be={type:"raster-dem",maxzoom:_e.transform.maxZoom},Te=new $t(Ge(),null),Pe=Ae("mock-dem",be,Te,_e.style);super("mock-dem",Pe,!1),Pe.setEventedParent(this),this._sourceLoaded=!0}_loadTile(_e,be){_e.state="loaded",be(null)}}class Is extends _e.SourceCache{constructor(_e){const be=Ae("proxy",{type:"geojson",maxzoom:_e.transform.maxZoom},new $t(Ge(),null),_e.style);super("proxy",be,!1),be.setEventedParent(this),this.map=this.getSource().map=_e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(be,Te,Pe){if(be.freezeTileCoverage)return;this.transform=be;const pt=be.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((Te,Pe)=>{if(Te[Pe.key]="",!this._tiles[Pe.key]){const Te=new _e.Tile(Pe,this._source.tileSize*Pe.overscaleFactor(),be.tileZoom);Te.state="loaded",this._tiles[Pe.key]=Te}return Te}),{});for(const _e in this._tiles)_e in pt||(this.freeFBO(_e),this._tiles[_e].unloadVectorData(),delete this._tiles[_e])}freeFBO(_e){const be=this.proxyCachedFBO[_e];if(void 0!==be){const Te=Object.values(be);this.renderCachePool.push(...Te),delete this.proxyCachedFBO[_e]}}deallocRenderCache(){this.renderCache.forEach((_e=>_e.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Ls extends _e.OverscaledTileID{constructor(_e,be,Te){super(_e.overscaledZ,_e.wrap,_e.canonical.z,_e.canonical.x,_e.canonical.y),this.proxyTileKey=be,this.projMatrix=Te}}class Fs extends _e.Elevation{constructor(be,Te){super(),this.painter=be,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[Pe,pt,vt]=function(be){const Te=new _e.StructArrayLayout4i8,Pe=new _e.StructArrayLayout3ui6,pt=131;Te.reserve(17161),Pe.reserve(33800);const vt=_e.EXTENT/128,xt=_e.EXTENT+vt/2,Tt=xt+vt;for(let be=-vt;be<Tt;be+=vt)for(let Pe=-vt;Pe<Tt;Pe+=vt){const pt=Pe<0||Pe>xt||be<0||be>xt?24575:0,vt=_e.clamp(Math.round(Pe),0,_e.EXTENT),Tt=_e.clamp(Math.round(be),0,_e.EXTENT);Te.emplaceBack(vt+pt,Tt,vt,Tt)}const l=(_e,be)=>{const Te=be*pt+_e;Pe.emplaceBack(Te+1,Te,Te+pt),Pe.emplaceBack(Te+pt,Te+pt+1,Te+1)};for(let _e=1;_e<129;_e++)for(let be=1;be<129;be++)l(be,_e);return[0,129].forEach((_e=>{for(let be=0;be<130;be++)l(be,_e),l(_e,be)})),[Te,Pe,32768]}(),xt=be.context;this.gridBuffer=xt.createVertexBuffer(Pe,_e.boundsAttributes.members),this.gridIndexBuffer=xt.createIndexBuffer(pt),this.gridSegments=_e.SegmentVector.simpleSegment(0,0,Pe.length,pt.length),this.gridNoSkirtSegments=_e.SegmentVector.simpleSegment(0,0,Pe.length,vt),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Is(Te.map),this.orthoMatrix=_e.create(),_e.ortho(this.orthoMatrix,0,_e.EXTENT,0,_e.EXTENT,0,1);const Tt=xt.gl;this._overlapStencilMode=new _e.StencilMode({func:Tt.GEQUAL,mask:255},0,255,Tt.KEEP,Tt.KEEP,Tt.REPLACE),this._previousZoom=be.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=Te,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Ps(Te.map)}set style(_e){_e.on("data",this._onStyleDataEvent.bind(this)),_e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=_e,this._checkRenderCacheEfficiency()}update(be,Te,Pe){if(be&&be.terrain){this._style!==be&&(this.style=be),this.enabled=!0;const pt=be.terrain.properties;this.sourceCache=0===be.terrain.drapeRenderMode?this._mockSourceCache:be._getSourceCache(pt.get("source")),this._exaggeration=pt.get("exaggeration");const n=()=>{this.sourceCache.used&&_e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const be=this.getScaledDemTileSize();this.sourceCache.update(Te,be,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,n(),this._initializing=!0),n(),Te.updateElevation(!Pe),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(Te),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(_e){this._findCoveringTileCache[_e]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const be=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==be.efficiency&&_e.warnOnce(`Terrain render cache efficiency is not optimal (${be.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${be.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(_e){_e.coord&&"source"===_e.dataType?this._clearRenderCacheForTile(_e.sourceCacheId,_e.coord):"style"===_e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const _e in this._style._sourceCaches)this._style._sourceCaches[_e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((_e=>_e.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const _e=2*this.proxySourceCache.getSource().tileSize;return[_e,_e]}set useVertexMorphing(_e){this._useVertexMorphing=_e}updateTileBinding(be){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const Te=this.proxySourceCache,Pe=this.painter.transform;this._initializing&&(this._initializing=0===Pe._centerAltitude&&-1===this.getAtPointOrZero(_e.MercatorCoordinate.fromLngLat(Pe.center),-1),this._emptyDEMTextureDirty=!this._initializing);const pt=this.proxyCoords=Te.getIds().map((_e=>{const be=Te.getTileByID(_e).tileID;return be.projMatrix=Pe.calculateProjMatrix(be.toUnwrapped()),be}));!function(be,Te){const Pe=Te.transform.pointCoordinate(Te.transform.getCameraPoint()),pt=new _e.pointGeometry(Pe.x,Pe.y);be.sort(((be,Te)=>{if(Te.overscaledZ-be.overscaledZ)return Te.overscaledZ-be.overscaledZ;const Pe=new _e.pointGeometry(be.canonical.x+(1<<be.canonical.z)*be.wrap,be.canonical.y),vt=new _e.pointGeometry(Te.canonical.x+(1<<Te.canonical.z)*Te.wrap,Te.canonical.y),xt=pt.mult(1<<be.canonical.z);return xt.x-=.5,xt.y-=.5,xt.distSqr(Pe)-xt.distSqr(vt)}))}(pt,this.painter),this._previousZoom=Pe.zoom;const vt=this.proxyToSource||{};this.proxyToSource={},pt.forEach((_e=>{this.proxyToSource[_e.key]={}})),this.terrainTileForTile={};const xt=this._style._sourceCaches;for(const _e in xt){const Te=xt[_e];if(!Te.used)continue;if(Te!==this.sourceCache&&this.resetTileLookupCache(Te.id),this._setupProxiedCoordsForOrtho(Te,be[_e],vt),Te.usedForTerrain)continue;const Pe=be[_e];Te.getSource().reparseOverscaled&&this._assignTerrainTiles(Pe)}this.proxiedCoords[Te.id]=pt.map((_e=>new Ls(_e,_e.key,this.orthoMatrix))),this._assignTerrainTiles(pt),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(vt),this.renderingToTexture=!1,this._updateTimestamp=_e.exported.now();const Tt={};this._visibleDemTiles=[];for(const _e of this.proxyCoords){const be=this.terrainTileForTile[_e.key];if(!be)continue;const Te=be.tileID.key;Te in Tt||(this._visibleDemTiles.push(be),Tt[Te]=Te)}}_assignTerrainTiles(_e){this._initializing||_e.forEach((_e=>{if(this.terrainTileForTile[_e.key])return;const be=this._findTileCoveringTileID(_e,this.sourceCache);be&&(this.terrainTileForTile[_e.key]=be)}))}_prepareDEMTextures(){const _e=this.painter.context,be=_e.gl;for(const Te in this.terrainTileForTile){const Pe=this.terrainTileForTile[Te],pt=Pe.dem;!pt||Pe.demTexture&&!Pe.needsDEMTextureUpload||(_e.activeTexture.set(be.TEXTURE1),di(this.painter,Pe,pt))}}_prepareDemTileUniforms(_e,be,Te,Pe){if(!be||null==be.demTexture)return!1;const pt=_e.tileID.canonical,vt=Math.pow(2,be.tileID.canonical.z-pt.z),xt=Pe||"";return Te[`u_dem_tl${xt}`]=[pt.x*vt%1,pt.y*vt%1],Te[`u_dem_scale${xt}`]=vt,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const be=this.painter.context,Te=be.gl;if(!this._emptyDepthBufferTexture){const Pe=new _e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new _e.Texture(be,Pe,Te.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let _e=0;const be=this._visibleDemTiles.reduce(((be,Te)=>{if(!Te.dem)return be;const Pe=Te.dem.tree.minimums[0];return Pe>0&&_e++,be+Pe}),0);return _e?be/_e:0}_updateEmptyDEMTexture(){const be=this.painter.context,Te=be.gl;be.activeTexture.set(Te.TEXTURE2);const Pe=this._getLoadedAreaMinimum(),pt=new _e.RGBAImage({width:1,height:1},new Uint8Array(_e.DEMData.pack(Pe,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let vt=this._emptyDEMTexture;return vt?vt.update(pt,{premultiply:!1}):vt=this._emptyDEMTexture=new _e.Texture(be,pt,Te.RGBA,{premultiply:!1}),vt}setupElevationDraw(be,Te,Pe){const pt=this.painter.context,vt=pt.gl,xt=(Tt=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:_e.DEMData.getUnpackVector(Tt),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});var Tt;xt.u_dem_size=this.sourceCache.getSource().tileSize,xt.u_exaggeration=this.exaggeration();const It=this.painter.transform,Mt=It.projection,Lt=be.tileID.canonical;xt.u_tile_tl_up=Mt.upVector(Lt,0,0),xt.u_tile_tr_up=Mt.upVector(Lt,_e.EXTENT,0),xt.u_tile_br_up=Mt.upVector(Lt,_e.EXTENT,_e.EXTENT),xt.u_tile_bl_up=Mt.upVector(Lt,0,_e.EXTENT),xt.u_tile_up_scale=Pe&&Pe.useDenormalizedUpVectorScale?_e.GLOBE_METERS_TO_ECEF:Mt.upVectorScale(Lt,It.center.lat,It.worldSize).metersToTile;let Ft=null,Ot=null,Vt=1;if(Pe&&Pe.morphing&&this._useVertexMorphing){const _e=Pe.morphing.srcDemTile,Te=Pe.morphing.dstDemTile;Vt=Pe.morphing.phase,_e&&Te&&(this._prepareDemTileUniforms(be,_e,xt,"_prev")&&(Ot=_e),this._prepareDemTileUniforms(be,Te,xt)&&(Ft=Te))}if(Ot&&Ft?(pt.activeTexture.set(vt.TEXTURE2),Ft.demTexture.bind(vt.NEAREST,vt.CLAMP_TO_EDGE,vt.NEAREST),pt.activeTexture.set(vt.TEXTURE4),Ot.demTexture.bind(vt.NEAREST,vt.CLAMP_TO_EDGE,vt.NEAREST),xt.u_dem_lerp=Vt):(Ft=this.terrainTileForTile[be.tileID.key],pt.activeTexture.set(vt.TEXTURE2),(this._prepareDemTileUniforms(be,Ft,xt)?Ft.demTexture:this.emptyDEMTexture).bind(vt.NEAREST,vt.CLAMP_TO_EDGE)),pt.activeTexture.set(vt.TEXTURE3),Pe&&Pe.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(vt.NEAREST,vt.CLAMP_TO_EDGE),this._depthFBO&&(xt.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(vt.NEAREST,vt.CLAMP_TO_EDGE),xt.u_depth_size_inv=[1,1]),Pe&&Pe.useMeterToDem&&Ft){const be=(1<<Ft.tileID.canonical.z)*_e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;xt.u_meter_to_dem=be}Pe&&Pe.labelPlaneMatrixInv&&(xt.u_label_plane_matrix_inv=Pe.labelPlaneMatrixInv),Te.setTerrainUniformValues(pt,xt)}renderToBackBuffer(be){const Te=this.painter,Pe=this.painter.context;0!==be.length&&(Pe.bindFramebuffer.set(null),Pe.viewport.set([0,0,Te.width,Te.height]),Te.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(be,Te,Pe,pt,vt){if("globe"===be.transform.projection.name)!function(be,Te,Pe,pt,vt){const xt=be.context,Tt=xt.gl;let It,Mt;const Lt=be.options.showTerrainWireframe?2:0,Ft=be.transform,Ot=_e.globeUseCustomAntiAliasing(be,xt,Ft),d=(_e,Te)=>{if(Mt===_e)return;const Pe=[Ds[_e],"PROJECTION_GLOBE_VIEW"];Ot&&Pe.push("CUSTOM_ANTIALIASING"),Te&&Pe.push(Ds[Lt]),It=be.useProgram("globeRaster",null,Pe),Mt=_e},Vt=be.colorModeForRenderPass(),qt=new _e.DepthMode(Tt.LEQUAL,_e.DepthMode.ReadWrite,be.depthRangeFor3D);Ts.update(vt);const Wt=_e.calculateGlobeMercatorMatrix(Ft),$t=[_e.mercatorXfromLng(Ft.center.lng),_e.mercatorYfromLat(Ft.center.lat)],Kt=be.globeSharedBuffers,Jt=[Ft.width*_e.exported.devicePixelRatio,Ft.height*_e.exported.devicePixelRatio];if((Lt?[!1,!0]:[!1]).forEach((Lt=>{Mt=-1;const Ot=Lt?Tt.LINES:Tt.TRIANGLES;for(const Mt of pt){const pt=Pe.getTile(Mt),Yt=_e.StencilMode.disabled,Qt=Te.prevTerrainTileForTile[Mt.key],an=Te.terrainTileForTile[Mt.key];vi(Qt,an)&&Ts.newMorphing(Mt.key,Qt,an,vt,250),xt.activeTexture.set(Tt.TEXTURE0),pt.texture.bind(Tt.LINEAR,Tt.CLAMP_TO_EDGE);const cn=Ts.getMorphValuesForProxy(Mt.key),hn=cn?1:0,pn={useDenormalizedUpVectorScale:!0};cn&&_e.extend$1(pn,{morphing:{srcDemTile:cn.from,dstDemTile:cn.to,phase:_e.easeCubicInOut(cn.phase)}});const xn=Float32Array.from(Ft.globeMatrix),Pn=_e.globeTileLatLngCorners(Mt.canonical),Ln=_e.getLatitudinalLod((Pn[0][0]+Pn[1][0])/2),Fn=_e.getGridMatrix(Mt.canonical,Pn,Ln),jn=_e.globeNormalizeECEF(_e.globeTileBounds(Mt.canonical)),$n=gi(Ft.projMatrix,xn,Wt,jn,_e.globeToMercatorTransition(Ft.zoom),$t,Ft.frustumCorners.TL,Ft.frustumCorners.TR,Ft.frustumCorners.BR,Ft.frustumCorners.BL,Ft.globeCenterInViewSpace,Ft.globeRadius,Jt,Fn);if(d(hn,Lt),Te.setupElevationDraw(pt,It,pn),be.prepareDrawProgram(xt,It,Mt.toUnwrapped()),Kt){const[Te,Pe,pt]=Lt?Kt.getWirefameBuffers(be.context,Ln):Kt.getGridBuffers(Ln);It.draw(xt,Ot,qt,Yt,Vt,_e.CullFaceMode.backCCW,$n,"globe_raster",Te,Pe,pt)}}})),Kt){const vt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Ot&&vt.push("CUSTOM_ANTIALIASING"),It=be.useProgram("globeRaster",null,vt);for(const vt of pt){const{x:pt,y:Mt,z:Lt}=vt.canonical,Ot=0===Mt,Wt=Mt===(1<<Lt)-1,[Yt,Qt,an,cn]=Kt.getPoleBuffers(Lt);if(cn&&(Ot||Wt)){const Mt=Pe.getTile(vt);xt.activeTexture.set(Tt.TEXTURE0),Mt.texture.bind(Tt.LINEAR,Tt.CLAMP_TO_EDGE);let Kt=_e.globePoleMatrixForTile(Lt,pt,Ft);const hn=_e.globeNormalizeECEF(_e.globeTileBounds(vt.canonical)),E=(be,Te)=>be.draw(xt,Tt.TRIANGLES,qt,_e.StencilMode.disabled,Vt,_e.CullFaceMode.disabled,gi(Ft.projMatrix,Kt,Kt,hn,0,$t,Ft.frustumCorners.TL,Ft.frustumCorners.TR,Ft.frustumCorners.BR,Ft.frustumCorners.BL,Ft.globeCenterInViewSpace,Ft.globeRadius,Jt),"globe_pole_raster",Te,an,cn);Te.setupElevationDraw(Mt,It,{}),be.prepareDrawProgram(xt,It,vt.toUnwrapped()),Ot&&E(It,Yt),Wt&&(Kt=_e.scale(_e.create(),Kt,[1,-1,1]),E(It,Qt))}}}}(be,Te,Pe,pt,vt);else{const xt=be.context,Tt=xt.gl;let It,Mt;const Lt=be.options.showTerrainWireframe?2:0,u=(_e,Te)=>{if(Mt===_e)return;const Pe=[Ds[_e]];Te&&Pe.push(Ds[Lt]),It=be.useProgram("terrainRaster",null,Pe),Mt=_e},Ft=be.colorModeForRenderPass(),Ot=new _e.DepthMode(Tt.LEQUAL,_e.DepthMode.ReadWrite,be.depthRangeFor3D);Ts.update(vt);const Vt=be.transform,qt=6*Math.pow(1.5,22-Vt.zoom)*Te.exaggeration();(Lt?[!1,!0]:[!1]).forEach((Lt=>{Mt=-1;const Wt=Lt?Tt.LINES:Tt.TRIANGLES,[$t,Kt]=Lt?Te.getWirefameBuffer():[Te.gridIndexBuffer,Te.gridSegments];for(const Mt of pt){const pt=Pe.getTile(Mt),Jt=_e.StencilMode.disabled,Yt=Te.prevTerrainTileForTile[Mt.key],Qt=Te.terrainTileForTile[Mt.key];vi(Yt,Qt)&&Ts.newMorphing(Mt.key,Yt,Qt,vt,250),xt.activeTexture.set(Tt.TEXTURE0),pt.texture.bind(Tt.LINEAR,Tt.CLAMP_TO_EDGE,Tt.LINEAR_MIPMAP_NEAREST);const an=Ts.getMorphValuesForProxy(Mt.key),cn=an?1:0;let hn;an&&(hn={morphing:{srcDemTile:an.from,dstDemTile:an.to,phase:_e.easeCubicInOut(an.phase)}});const pn=fi(Mt.projMatrix,bi(Mt.canonical,Vt.renderWorldCopies)?qt/10:qt);u(cn,Lt),Te.setupElevationDraw(pt,It,hn),be.prepareDrawProgram(xt,It,Mt.toUnwrapped()),It.draw(xt,Wt,Ot,Jt,Ft,_e.CullFaceMode.backCCW,pn,"terrain_raster",Te.gridBuffer,$t,Kt)}}))}}(Te,this,this.proxySourceCache,be,this._updateTimestamp),this.renderingToTexture=!0,Te.gpuTimingDeferredRenderEnd(),be.splice(0,be.length))}renderBatch(be){if(0===this._drapedRenderBatches.length)return be+1;this.renderingToTexture=!0;const Te=this.painter,Pe=this.painter.context,pt=this.proxySourceCache,vt=this.proxiedCoords[pt.id],xt=this._drapedRenderBatches.shift(),Tt=[],It=Te.style.order;let Mt=0;for(const Lt of vt){const vt=pt.getTileByID(Lt.proxyTileKey),Ft=pt.proxyCachedFBO[Lt.key]?pt.proxyCachedFBO[Lt.key][be]:void 0,Ot=void 0!==Ft?pt.renderCache[Ft]:this.pool[Mt++],Vt=void 0!==Ft;if(vt.texture=Ot.tex,Vt&&!Ot.dirty){Tt.push(vt.tileID);continue}let qt;Pe.bindFramebuffer.set(Ot.fb.framebuffer),this.renderedToTile=!1,Ot.dirty&&(Pe.clear({color:_e.Color.transparent,stencil:0}),Ot.dirty=!1);for(let _e=xt.start;_e<=xt.end;++_e){const be=Te.style._layers[It[_e]];if(be.isHidden(Te.transform.zoom))continue;const pt=Te.style._getLayerSourceCache(be),vt=pt?this.proxyToSource[Lt.key][pt.id]:[Lt];if(!vt)continue;const xt=vt;Pe.viewport.set([0,0,Ot.fb.width,Ot.fb.height]),qt!==(pt?pt.id:null)&&(this._setupStencil(Ot,vt,be,pt),qt=pt?pt.id:null),Te.renderLayer(Te,pt,be,xt)}this.renderedToTile?(Ot.dirty=!0,Tt.push(vt.tileID)):Vt||--Mt,5===Mt&&(Mt=0,this.renderToBackBuffer(Tt))}return this.renderToBackBuffer(Tt),this.renderingToTexture=!1,Pe.bindFramebuffer.set(null),Pe.viewport.set([0,0,Te.width,Te.height]),xt.end+1}postRender(){}renderCacheEfficiency(_e){const be=_e.order.length;if(0===be)return{efficiency:100};let Te,Pe=0,pt=0,vt=!1;for(let xt=0;xt<be;++xt){const be=_e._layers[_e.order[xt]];this._style.isLayerDraped(be)?(vt&&++Pe,++pt):vt||(vt=!0,Te=be.id)}return 0===pt?{efficiency:100}:{efficiency:100*(1-Pe/pt),firstUndrapedLayer:Te}}getMinElevationBelowMSL(){let _e=0;return this._visibleDemTiles.filter((_e=>_e.dem)).forEach((be=>{_e=Math.min(_e,be.dem.tree.minimums[0])})),0===_e?_e:(_e-30)*this._exaggeration}raycast(_e,be,Te){if(!this._visibleDemTiles)return null;const Pe=this._visibleDemTiles.filter((_e=>_e.dem)).map((Pe=>{const pt=Pe.tileID,vt=Math.pow(2,pt.overscaledZ),{x:xt,y:Tt}=pt.canonical,It=xt/vt,Mt=(xt+1)/vt,Lt=Tt/vt,Ft=(Tt+1)/vt;return{minx:It,miny:Lt,maxx:Mt,maxy:Ft,t:Pe.dem.tree.raycastRoot(It,Lt,Mt,Ft,_e,be,Te),tile:Pe}}));Pe.sort(((_e,be)=>(null!==_e.t?_e.t:Number.MAX_VALUE)-(null!==be.t?be.t:Number.MAX_VALUE)));for(const pt of Pe){if(null==pt.t)return null;const Pe=pt.tile.dem.tree.raycast(pt.minx,pt.miny,pt.maxx,pt.maxy,_e,be,Te);if(null!=Pe)return Pe}return null}_createFBO(){const be=this.painter.context,Te=be.gl,Pe=this.drapeBufferSize;be.activeTexture.set(Te.TEXTURE0);const pt=new _e.Texture(be,{width:Pe[0],height:Pe[1],data:null},Te.RGBA);pt.bind(Te.LINEAR,Te.CLAMP_TO_EDGE);const vt=be.createFramebuffer(Pe[0],Pe[1],!1);return vt.colorAttachment.set(pt.texture),vt.depthAttachment=new za(be,vt.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=be.createRenderbuffer(be.gl.DEPTH_STENCIL,Pe[0],Pe[1]),this._stencilRef=0,vt.depthAttachment.set(this._sharedDepthStencil),be.clear({stencil:0})):vt.depthAttachment.set(this._sharedDepthStencil),be.extTextureFilterAnisotropic&&!be.extTextureFilterAnisotropicForceOff&&Te.texParameterf(Te.TEXTURE_2D,be.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,be.extTextureFilterAnisotropicMax),{fb:vt,tex:pt,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const _e in this._style._sourceCaches)if(this._style._sourceCaches[_e].hasTransition())return!0;return this._style.order.some((_e=>{const be=this._style._layers[_e],Te=be.isHidden(this.painter.transform.zoom),Pe=be.getCrossfadeParameters(),pt=!!Pe&&1!==Pe.t,vt=be.hasTransition();return"custom"!==be.type&&!Te&&(pt||vt)}))}_clearRasterFadeFromRenderCache(){let _e=!1;for(const be in this._style._sourceCaches)if(this._style._sourceCaches[be]._source instanceof Ga){_e=!0;break}if(_e)for(let _e=0;_e<this._style.order.length;++_e){const be=this._style._layers[this._style.order[_e]],Te=be.isHidden(this.painter.transform.zoom),Pe=this._style._getLayerSourceCache(be);if("raster"!==be.type||Te||!Pe)continue;const pt=be.paint.get("raster-fade-duration");for(const _e of this.proxyCoords){const be=this.proxyToSource[_e.key][Pe.id];if(be)for(const _e of be){const be=Ti(Pe.getTile(_e),Pe.findLoadedParent(_e,0),Pe,this.painter.transform,pt);(1!==be.opacity||0!==be.mix)&&this._clearRenderCacheForTile(Pe.id,_e)}}}}_setupDrapedRenderBatches(){const _e=this._style.order,be=_e.length;if(0===be)return;const Te=[];let Pe,pt=0,vt=this._style._layers[_e[pt]];for(;!this._style.isLayerDraped(vt)&&vt.isHidden(this.painter.transform.zoom)&&++pt<be;)vt=this._style._layers[_e[pt]];for(;pt<be;++pt){const be=this._style._layers[_e[pt]];be.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(be)?void 0===Pe&&(Pe=pt):void 0!==Pe&&(Te.push({start:Pe,end:pt-1}),Pe=void 0))}void 0!==Pe&&Te.push({start:Pe,end:pt-1}),this._drapedRenderBatches=Te}_setupRenderCache(_e){const be=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,be.renderCache.length>be.renderCachePool.length){const _e=Object.values(be.proxyCachedFBO);be.proxyCachedFBO={};for(let Te=0;Te<_e.length;++Te){const Pe=Object.values(_e[Te]);be.renderCachePool.push(...Pe)}}return}this._clearRasterFadeFromRenderCache();const Te=this.proxyCoords,Pe=this._tilesDirty;for(let pt=Te.length-1;pt>=0;pt--){const vt=Te[pt];if(be.getTileByID(vt.key),void 0!==be.proxyCachedFBO[vt.key]){const Te=_e[vt.key],pt=this.proxyToSource[vt.key];let xt=0;for(const _e in pt){const be=pt[_e],vt=Te[_e];if(!vt||vt.length!==be.length||be.some(((be,Te)=>be!==vt[Te]||Pe[_e]&&Pe[_e].hasOwnProperty(be.key)))){xt=-1;break}++xt}for(const _e in be.proxyCachedFBO[vt.key])be.renderCache[be.proxyCachedFBO[vt.key][_e]].dirty=xt<0||xt!==Object.values(Te).length}}const pt=[...this._drapedRenderBatches];pt.sort(((_e,be)=>be.end-be.start-(_e.end-_e.start)));for(const _e of pt)for(const Pe of Te){if(be.proxyCachedFBO[Pe.key])continue;let Te=be.renderCachePool.pop();void 0===Te&&be.renderCache.length<50&&(Te=be.renderCache.length,be.renderCache.push(this._createFBO())),void 0!==Te&&(be.proxyCachedFBO[Pe.key]={},be.proxyCachedFBO[Pe.key][_e.start]=Te,be.renderCache[Te].dirty=!0)}this._tilesDirty={}}_setupStencil(_e,be,Te,Pe){if(!Pe||!this._sourceTilesOverlap[Pe.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const pt=this.painter.context,vt=pt.gl;if(be.length<=1)return void(this._overlapStencilType=!1);let xt;if(Te.isTileClipped())xt=be.length,this._overlapStencilMode.test={func:vt.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(be[0].overscaledZ>be[be.length-1].overscaledZ))return void(this._overlapStencilType=!1);xt=1,this._overlapStencilMode.test={func:vt.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+xt>255&&(pt.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=xt,this._overlapStencilMode.ref=this._stencilRef,Te.isTileClipped()&&this._renderTileClippingMasks(be,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(be){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[be.key]),this._overlapStencilMode):_e.StencilMode.disabled}_renderTileClippingMasks(be,Te){const Pe=this.painter,pt=this.painter.context,vt=pt.gl;Pe._tileClippingMaskIDs={},pt.setColorMode(_e.ColorMode.disabled),pt.setDepthMode(_e.DepthMode.disabled);const xt=Pe.useProgram("clippingMask");for(const Tt of be){const be=Pe._tileClippingMaskIDs[Tt.key]=--Te;xt.draw(pt,vt.TRIANGLES,_e.DepthMode.disabled,new _e.StencilMode({func:vt.ALWAYS,mask:0},be,255,vt.KEEP,vt.KEEP,vt.REPLACE),_e.ColorMode.disabled,_e.CullFaceMode.disabled,wi(Tt.projMatrix),"$clipping",Pe.tileExtentBuffer,Pe.quadTriangleIndexBuffer,Pe.tileExtentSegments)}}pointCoordinate(be){const Te=this.painter.transform;if(be.x<0||be.x>Te.width||be.y<0||be.y>Te.height)return null;const Pe=[be.x,be.y,1,1];_e.transformMat4$1(Pe,Pe,Te.pixelMatrixInverse),_e.scale$1(Pe,Pe,1/Pe[3]),Pe[0]/=Te.worldSize,Pe[1]/=Te.worldSize;const pt=Te._camera.position,vt=_e.mercatorZfromAltitude(1,Te.center.lat),xt=[pt[0],pt[1],pt[2]/vt,0],Tt=_e.subtract([],Pe.slice(0,3),xt);_e.normalize(Tt,Tt);const It=this.raycast(xt,Tt,this._exaggeration);return null!==It&&It?(_e.scaleAndAdd(xt,xt,Tt,It),xt[3]=xt[2],xt[2]*=vt,xt):null}drawDepth(){const be=this.painter,Te=be.context,Pe=this.proxySourceCache,pt=Math.ceil(be.width),vt=Math.ceil(be.height);if(!this._depthFBO||this._depthFBO.width===pt&&this._depthFBO.height===vt||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const be=Te.gl,Pe=Te.createFramebuffer(pt,vt,!0);Te.activeTexture.set(be.TEXTURE0);const xt=new _e.Texture(Te,{width:pt,height:vt,data:null},be.RGBA);xt.bind(be.NEAREST,be.CLAMP_TO_EDGE),Pe.colorAttachment.set(xt.texture);const Tt=Te.createRenderbuffer(Te.gl.DEPTH_COMPONENT16,pt,vt);Pe.depthAttachment.set(Tt),this._depthFBO=Pe,this._depthTexture=xt}Te.bindFramebuffer.set(this._depthFBO.framebuffer),Te.viewport.set([0,0,pt,vt]),function(be,Te,Pe,pt){if("globe"===be.transform.projection.name)return;const vt=be.context,xt=vt.gl;vt.clear({depth:1});const Tt=be.useProgram("terrainDepth"),It=new _e.DepthMode(xt.LESS,_e.DepthMode.ReadWrite,be.depthRangeFor3D);for(const be of pt){const pt=Pe.getTile(be),Mt=fi(be.projMatrix,0);Te.setupElevationDraw(pt,Tt),Tt.draw(vt,xt.TRIANGLES,It,_e.StencilMode.disabled,_e.ColorMode.unblended,_e.CullFaceMode.backCCW,Mt,"terrain_depth",Te.gridBuffer,Te.gridIndexBuffer,Te.gridNoSkirtSegments)}}(be,this,Pe,this.proxyCoords)}_setupProxiedCoordsForOrtho(_e,be,Te){if(_e.getSource()instanceof $a)return this._setupProxiedCoordsForImageSource(_e,be,Te);this._findCoveringTileCache[_e.id]=this._findCoveringTileCache[_e.id]||{};const Pe=this.proxiedCoords[_e.id]=[],pt=this.proxyCoords;for(let be=0;be<pt.length;be++){const vt=pt[be],xt=this._findTileCoveringTileID(vt,_e);if(xt){const be=this._createProxiedId(vt,xt,Te[vt.key]&&Te[vt.key][_e.id]);Pe.push(be),this.proxyToSource[vt.key][_e.id]=[be]}}let vt=!1;for(let pt=0;pt<be.length;pt++){const xt=_e.getTile(be[pt]);if(!xt||!xt.hasData())continue;const Tt=this._findTileCoveringTileID(xt.tileID,this.proxySourceCache);if(Tt&&Tt.tileID.canonical.z!==xt.tileID.canonical.z){const be=this.proxyToSource[Tt.tileID.key][_e.id],pt=this._createProxiedId(Tt.tileID,xt,Te[Tt.tileID.key]&&Te[Tt.tileID.key][_e.id]);be?be.splice(be.length-1,0,pt):this.proxyToSource[Tt.tileID.key][_e.id]=[pt],Pe.push(pt),vt=!0}}this._sourceTilesOverlap[_e.id]=vt}_setupProxiedCoordsForImageSource(be,Te,Pe){if(!be.getSource().loaded())return;const pt=this.proxiedCoords[be.id]=[],vt=this.proxyCoords,xt=be.getSource(),Tt=new _e.pointGeometry(xt.tileID.x,xt.tileID.y)._div(1<<xt.tileID.z),It=xt.coordinates.map(_e.MercatorCoordinate.fromLngLat).reduce(((_e,be)=>(_e.min.x=Math.min(_e.min.x,be.x-Tt.x),_e.min.y=Math.min(_e.min.y,be.y-Tt.y),_e.max.x=Math.max(_e.max.x,be.x-Tt.x),_e.max.y=Math.max(_e.max.y,be.y-Tt.y),_e)),{min:new _e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new _e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(be,Te)=>{const Pe=be.wrap+be.canonical.x/(1<<be.canonical.z),pt=be.canonical.y/(1<<be.canonical.z),vt=_e.EXTENT/(1<<be.canonical.z),xt=Te.wrap+Te.canonical.x/(1<<Te.canonical.z),Tt=Te.canonical.y/(1<<Te.canonical.z);return Pe+vt<xt+It.min.x||Pe>xt+It.max.x||pt+vt<Tt+It.min.y||pt>Tt+It.max.y};for(let _e=0;_e<vt.length;_e++){const xt=vt[_e];for(let _e=0;_e<Te.length;_e++){const vt=be.getTile(Te[_e]);if(!vt||!vt.hasData())continue;if(c(xt,vt.tileID))continue;const Tt=this._createProxiedId(xt,vt,Pe[xt.key]&&Pe[xt.key][be.id]),It=this.proxyToSource[xt.key][be.id];It?It.push(Tt):this.proxyToSource[xt.key][be.id]=[Tt],pt.push(Tt)}}}_createProxiedId(be,Te,Pe){let pt=this.orthoMatrix;if(Pe){const _e=Pe.find((_e=>_e.key===Te.tileID.key));if(_e)return _e}if(Te.tileID.key!==be.key){const Pe=be.canonical.z-Te.tileID.canonical.z;let vt,xt,Tt;pt=_e.create();const It=Te.tileID.wrap-be.wrap<<be.overscaledZ;Pe>0?(vt=_e.EXTENT>>Pe,xt=vt*((Te.tileID.canonical.x<<Pe)-be.canonical.x+It),Tt=vt*((Te.tileID.canonical.y<<Pe)-be.canonical.y)):(vt=_e.EXTENT<<-Pe,xt=_e.EXTENT*(Te.tileID.canonical.x-(be.canonical.x+It<<-Pe)),Tt=_e.EXTENT*(Te.tileID.canonical.y-(be.canonical.y<<-Pe))),_e.ortho(pt,0,vt,0,vt,0,1),_e.translate(pt,pt,[xt,Tt,0])}return new Ls(Te.tileID,be.key,pt)}_findTileCoveringTileID(be,Te){let Pe=Te.getTile(be);if(Pe&&Pe.hasData())return Pe;const pt=this._findCoveringTileCache[Te.id],vt=pt[be.key];if(Pe=vt?Te.getTileByID(vt):null,Pe&&Pe.hasData()||null===vt)return Pe;let xt=Pe?Pe.tileID:be,Tt=xt.overscaledZ;const It=Te.getSource().minzoom,Mt=[];if(!vt){const pt=Te.getSource().maxzoom;if(be.canonical.z>=pt){const Pe=be.canonical.z-pt;Te.getSource().reparseOverscaled?(Tt=Math.max(be.canonical.z+2,Te.transform.tileZoom),xt=new _e.OverscaledTileID(Tt,be.wrap,pt,be.canonical.x>>Pe,be.canonical.y>>Pe)):0!==Pe&&(Tt=pt,xt=new _e.OverscaledTileID(Tt,be.wrap,pt,be.canonical.x>>Pe,be.canonical.y>>Pe))}xt.key!==be.key&&(Mt.push(xt.key),Pe=Te.getTile(xt))}const h=_e=>{Mt.forEach((be=>{pt[be]=_e})),Mt.length=0};for(Tt-=1;Tt>=It&&(!Pe||!Pe.hasData());Tt--){Pe&&h(Pe.tileID.key);const _e=xt.calculateScaledKey(Tt);if(Pe=Te.getTileByID(_e),Pe&&Pe.hasData())break;const be=pt[_e];if(null===be)break;void 0===be?Mt.push(_e):Pe=Te.getTileByID(be)}return h(Pe?Pe.tileID.key:null),Pe&&Pe.hasData()?Pe:null}findDEMTileFor(_e){return this.enabled?this._findTileCoveringTileID(_e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(_e,be){let Te=this._tilesDirty[_e];Te||(Te=this._tilesDirty[_e]={}),Te[be.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const be=function(be){let Te=0;const Pe=new _e.StructArrayLayout2ui4,pt=131;for(let _e=1;_e<129;_e++){for(let be=1;be<129;be++)Te=_e*pt+be,Pe.emplaceBack(Te,Te+1),Pe.emplaceBack(Te,Te+pt),Pe.emplaceBack(Te+1,Te+pt),128===_e&&Pe.emplaceBack(Te+pt,Te+pt+1);Pe.emplaceBack(Te+1,Te+1+pt)}return Pe}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(be),this.wireframeSegments=_e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,be.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function Si(_e){const be=[];for(let Te=0;Te<_e.length;Te++){if(null===_e[Te])continue;const Pe=_e[Te].split(" ");be.push(Pe.pop())}return be}class Bs{static cacheKey(_e,be,Te){let Pe=`${_e}${Te?Te.cacheKey:""}`;for(const _e of be)Pe+=`/${_e}`;return Pe}constructor(be,Te,Pe,pt,vt,xt){const Tt=be.gl;this.program=Tt.createProgram();const It=Si(Pe.staticAttributes),Mt=pt?pt.getBinderAttributes():[],Lt=It.concat(Mt),Ft=Pe.staticUniforms?Si(Pe.staticUniforms):[],Ot=pt?pt.getBinderUniforms():[],Vt=Ft.concat(Ot),qt=[];for(const _e of Vt)qt.indexOf(_e)<0&&qt.push(_e);let Wt=pt?pt.defines():[];Wt=Wt.concat(xt.map((_e=>`#define ${_e}`)));const $t=Wt.concat(be.extStandardDerivatives?"#extension GL_OES_standard_derivatives : enable\n".concat(Es):Es,Es,ws,bs.fragmentSource,xs.fragmentSource,Pe.fragmentSource).join("\n"),Kt=Wt.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",ws,bs.vertexSource,xs.vertexSource,Rs.vertexSource,Pe.vertexSource).join("\n"),Jt=Tt.createShader(Tt.FRAGMENT_SHADER);if(Tt.isContextLost())return void(this.failedToCreate=!0);Tt.shaderSource(Jt,$t),Tt.compileShader(Jt),Tt.attachShader(this.program,Jt);const Yt=Tt.createShader(Tt.VERTEX_SHADER);if(Tt.isContextLost())return void(this.failedToCreate=!0);Tt.shaderSource(Yt,Kt),Tt.compileShader(Yt),Tt.attachShader(this.program,Yt),this.attributes={};const Qt={};this.numAttributes=Lt.length;for(let _e=0;_e<this.numAttributes;_e++)Lt[_e]&&(Tt.bindAttribLocation(this.program,_e,Lt[_e]),this.attributes[Lt[_e]]=_e);Tt.linkProgram(this.program),Tt.deleteShader(Yt),Tt.deleteShader(Jt);for(let _e=0;_e<qt.length;_e++){const be=qt[_e];if(be&&!Qt[be]){const _e=Tt.getUniformLocation(this.program,be);_e&&(Qt[be]=_e)}}this.fixedUniforms=vt(be,Qt),this.binderUniforms=pt?pt.getUniforms(be,Qt):[],-1!==xt.indexOf("TERRAIN")&&(this.terrainUniforms=((be,Te)=>({u_dem:new _e.Uniform1i(be,Te.u_dem),u_dem_prev:new _e.Uniform1i(be,Te.u_dem_prev),u_dem_unpack:new _e.Uniform4f(be,Te.u_dem_unpack),u_dem_tl:new _e.Uniform2f(be,Te.u_dem_tl),u_dem_scale:new _e.Uniform1f(be,Te.u_dem_scale),u_dem_tl_prev:new _e.Uniform2f(be,Te.u_dem_tl_prev),u_dem_scale_prev:new _e.Uniform1f(be,Te.u_dem_scale_prev),u_dem_size:new _e.Uniform1f(be,Te.u_dem_size),u_dem_lerp:new _e.Uniform1f(be,Te.u_dem_lerp),u_exaggeration:new _e.Uniform1f(be,Te.u_exaggeration),u_depth:new _e.Uniform1i(be,Te.u_depth),u_depth_size_inv:new _e.Uniform2f(be,Te.u_depth_size_inv),u_meter_to_dem:new _e.Uniform1f(be,Te.u_meter_to_dem),u_label_plane_matrix_inv:new _e.UniformMatrix4f(be,Te.u_label_plane_matrix_inv),u_tile_tl_up:new _e.Uniform3f(be,Te.u_tile_tl_up),u_tile_tr_up:new _e.Uniform3f(be,Te.u_tile_tr_up),u_tile_br_up:new _e.Uniform3f(be,Te.u_tile_br_up),u_tile_bl_up:new _e.Uniform3f(be,Te.u_tile_bl_up),u_tile_up_scale:new _e.Uniform1f(be,Te.u_tile_up_scale)}))(be,Qt)),-1!==xt.indexOf("FOG")&&(this.fogUniforms=((be,Te)=>({u_fog_matrix:new _e.UniformMatrix4f(be,Te.u_fog_matrix),u_fog_range:new _e.Uniform2f(be,Te.u_fog_range),u_fog_color:new _e.Uniform4f(be,Te.u_fog_color),u_fog_horizon_blend:new _e.Uniform1f(be,Te.u_fog_horizon_blend),u_fog_temporal_offset:new _e.Uniform1f(be,Te.u_fog_temporal_offset),u_frustum_tl:new _e.Uniform3f(be,Te.u_frustum_tl),u_frustum_tr:new _e.Uniform3f(be,Te.u_frustum_tr),u_frustum_br:new _e.Uniform3f(be,Te.u_frustum_br),u_frustum_bl:new _e.Uniform3f(be,Te.u_frustum_bl),u_globe_pos:new _e.Uniform3f(be,Te.u_globe_pos),u_globe_radius:new _e.Uniform1f(be,Te.u_globe_radius),u_globe_transition:new _e.Uniform1f(be,Te.u_globe_transition),u_is_globe:new _e.Uniform1i(be,Te.u_is_globe),u_viewport:new _e.Uniform2f(be,Te.u_viewport)}))(be,Qt))}setTerrainUniformValues(_e,be){if(!this.terrainUniforms)return;const Te=this.terrainUniforms;if(!this.failedToCreate){_e.program.set(this.program);for(const _e in be)Te[_e].set(be[_e])}}setFogUniformValues(_e,be){if(!this.fogUniforms)return;const Te=this.fogUniforms;if(!this.failedToCreate){_e.program.set(this.program);for(const _e in be)Te[_e].location&&Te[_e].set(be[_e])}}draw(_e,be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t){const Kt=_e.gl;if(this.failedToCreate)return;_e.program.set(this.program),_e.setDepthMode(Te),_e.setStencilMode(Pe),_e.setColorMode(pt),_e.setCullFace(vt);for(const _e of Object.keys(this.fixedUniforms))this.fixedUniforms[_e].set(xt[_e]);Vt&&Vt.setUniforms(_e,this.binderUniforms,Ft,{zoom:Ot});const Jt={[Kt.LINES]:2,[Kt.TRIANGLES]:3,[Kt.LINE_STRIP]:1}[be];for(const Te of Lt.get()){const Pe=Te.vaos||(Te.vaos={});(Pe[Tt]||(Pe[Tt]=new As)).bind(_e,this,It,Vt?Vt.getPaintVertexBuffers():[],Mt,Te.vertexOffset,qt,Wt,$t),Kt.drawElements(be,Te.primitiveLength*Jt,Kt.UNSIGNED_SHORT,Te.primitiveOffset*Jt*2)}}}function Di(_e,be,Te){const Pe=1/L(Te,1,be.transform.tileZoom),pt=Math.pow(2,Te.tileID.overscaledZ),vt=Te.tileSize*Math.pow(2,be.transform.tileZoom)/pt,xt=vt*(Te.tileID.canonical.x+Te.tileID.wrap*pt),Tt=vt*Te.tileID.canonical.y;return{u_image:0,u_texsize:Te.imageAtlasTexture.size,u_scale:[Pe,_e.fromScale,_e.toScale],u_fade:_e.t,u_pixel_coord_upper:[xt>>16,Tt>>16],u_pixel_coord_lower:[65535&xt,65535&Tt]}}const Os=_e.create(),Ai=(be,Te,Pe,pt,vt,xt,Tt,It,Mt)=>{const Lt=Te.style.light,Ft=Lt.properties.get("position"),Ot=[Ft.x,Ft.y,Ft.z],Vt=_e.create$1();"viewport"===Lt.properties.get("anchor")&&(_e.fromRotation(Vt,-Te.transform.angle),_e.transformMat3(Ot,Ot,Vt));const qt=Lt.properties.get("color"),Wt=Te.transform,$t={u_matrix:be,u_lightpos:Ot,u_lightintensity:Lt.properties.get("intensity"),u_lightcolor:[qt.r,qt.g,qt.b],u_vertical_gradient:+Pe,u_opacity:pt,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Os,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0};return"globe"===Wt.projection.name&&($t.u_tile_id=[vt.canonical.x,vt.canonical.y,1<<vt.canonical.z],$t.u_zoom_transition=Tt,$t.u_inv_rot_matrix=Mt,$t.u_merc_center=It,$t.u_up_dir=Wt.projection.upVector(new _e.CanonicalTileID(0,0,0),It[0]*_e.EXTENT,It[1]*_e.EXTENT),$t.u_height_lift=xt),$t},Li=(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft)=>{const Ot=Ai(be,Te,Pe,pt,vt,It,Mt,Lt,Ft),Vt={u_height_factor:-Math.pow(2,vt.overscaledZ)/Tt.tileSize/8};return _e.extend(Ot,Di(xt,Te,Tt),Vt)},Ri=_e=>({u_matrix:_e}),Oi=(be,Te,Pe,pt)=>_e.extend(Ri(be),Di(Pe,Te,pt)),ki=(_e,be)=>({u_matrix:_e,u_world:be}),Bi=(be,Te,Pe,pt,vt)=>_e.extend(Oi(be,Te,Pe,pt),{u_world:vt}),js=_e.create(),Ui=(be,Te,Pe,pt,vt,xt)=>{const Tt=be.transform,It="globe"===Tt.projection.name;let Mt;if("map"===xt.paint.get("circle-pitch-alignment"))if(It){const be=_e.globePixelsToTileUnits(Tt.zoom,Te.canonical)*Tt._projectionScaler;Mt=Float32Array.from([be,0,0,be])}else Mt=Tt.calculatePixelsToTileUnitsMatrix(Pe);else Mt=new Float32Array([Tt.pixelsToGLUnits[0],0,0,Tt.pixelsToGLUnits[1]]);const Lt={u_camera_to_center_distance:Tt.cameraToCenterDistance,u_matrix:be.translatePosMatrix(Te.projMatrix,Pe,xt.paint.get("circle-translate"),xt.paint.get("circle-translate-anchor")),u_device_pixel_ratio:_e.exported.devicePixelRatio,u_extrude_scale:Mt,u_inv_rot_matrix:js,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(It){Lt.u_inv_rot_matrix=pt,Lt.u_merc_center=vt,Lt.u_tile_id=[Te.canonical.x,Te.canonical.y,1<<Te.canonical.z],Lt.u_zoom_transition=_e.globeToMercatorTransition(Tt.zoom);const be=vt[0]*_e.EXTENT,Pe=vt[1]*_e.EXTENT;Lt.u_up_dir=Tt.projection.upVector(new _e.CanonicalTileID(0,0,0),be,Pe)}return Lt},Ni=_e=>{const be=[];return"map"===_e.paint.get("circle-pitch-alignment")&&be.push("PITCH_WITH_MAP"),"map"===_e.paint.get("circle-pitch-scale")&&be.push("SCALE_WITH_MAP"),be},Gi=(be,Te,Pe,pt)=>{const vt=_e.EXTENT/Pe.tileSize;return{u_matrix:be,u_camera_to_center_distance:Te.getCameraToCenterDistance(pt),u_extrude_scale:[Te.pixelsToGLUnits[0]/vt,Te.pixelsToGLUnits[1]/vt]}},ji=(_e,be,Te=1)=>({u_matrix:_e,u_color:be,u_overlay:0,u_overlay_scale:Te}),Ns=_e.create(),Vi=(be,Te,Pe,pt,vt,xt,Tt)=>{const It=be.transform,Mt="globe"===It.projection.name,Lt=Mt?_e.globePixelsToTileUnits(It.zoom,Te.canonical)*It._projectionScaler:L(Pe,1,xt),Ft={u_matrix:Te.projMatrix,u_extrude_scale:Lt,u_intensity:Tt,u_inv_rot_matrix:Ns,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(Mt){Ft.u_inv_rot_matrix=pt,Ft.u_merc_center=vt,Ft.u_tile_id=[Te.canonical.x,Te.canonical.y,1<<Te.canonical.z],Ft.u_zoom_transition=_e.globeToMercatorTransition(It.zoom);const be=vt[0]*_e.EXTENT,Pe=vt[1]*_e.EXTENT;Ft.u_up_dir=It.projection.upVector(new _e.CanonicalTileID(0,0,0),be,Pe)}return Ft},Wi=(_e,be,Te,Pe,pt,vt,xt,Tt)=>{const It=_e.transform,Mt=It.calculatePixelsToTileUnitsMatrix(be),Lt={u_matrix:$i(_e,be,Te,pt),u_pixels_to_tile_units:Mt,u_device_pixel_ratio:xt,u_units_to_pixels:[1/It.pixelsToGLUnits[0],1/It.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:vt,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:Tt};if(Hi(Te)){const Te=qi(be,_e.transform);Lt.u_texsize=be.lineAtlasTexture.size,Lt.u_scale=[Te,Pe.fromScale,Pe.toScale],Lt.u_mix=Pe.t}return Lt},Xi=(_e,be,Te,Pe,pt,vt)=>{const xt=_e.transform,Tt=qi(be,xt);return{u_matrix:$i(_e,be,Te,pt),u_texsize:be.imageAtlasTexture.size,u_pixels_to_tile_units:xt.calculatePixelsToTileUnitsMatrix(be),u_device_pixel_ratio:vt,u_image:0,u_scale:[Tt,Pe.fromScale,Pe.toScale],u_fade:Pe.t,u_units_to_pixels:[1/xt.pixelsToGLUnits[0],1/xt.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function qi(_e,be){return 1/L(_e,1,be.tileZoom)}function $i(_e,be,Te,Pe){return _e.translatePosMatrix(Pe||be.tileID.projMatrix,be,Te.paint.get("line-translate"),Te.paint.get("line-translate-anchor"))}function Hi(_e){const be=_e.paint.get("line-dasharray").value;return be.value||"constant"!==be.kind}const Yi=(_e,be,Te,Pe,pt,vt)=>{return{u_matrix:_e,u_tl_parent:be,u_scale_parent:Te,u_fade_t:Pe.mix,u_opacity:Pe.opacity*pt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:pt.paint.get("raster-brightness-min"),u_brightness_high:pt.paint.get("raster-brightness-max"),u_saturation_factor:(Tt=pt.paint.get("raster-saturation"),Tt>0?1-1/(1.001-Tt):-Tt),u_contrast_factor:(xt=pt.paint.get("raster-contrast"),xt>0?1/(1-xt):1+xt),u_spin_weights:Ki(pt.paint.get("raster-hue-rotate")),u_perspective_transform:vt};var xt,Tt};function Ki(_e){_e*=Math.PI/180;const be=Math.sin(_e),Te=Math.cos(_e);return[(2*Te+1)/3,(-Math.sqrt(3)*be-Te+1)/3,(Math.sqrt(3)*be-Te+1)/3]}const Vs=_e.create(),Qi=(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t)=>{const Kt=vt.transform,Jt={u_is_size_zoom_constant:+("constant"===be||"source"===be),u_is_size_feature_constant:+("constant"===be||"camera"===be),u_size_t:Te?Te.uSizeT:0,u_size:Te?Te.uSize:0,u_camera_to_center_distance:Kt.cameraToCenterDistance,u_rotate_symbol:+Pe,u_aspect_ratio:Kt.width/Kt.height,u_fade_change:vt.options.fadeDuration?vt.symbolFadeChange:1,u_matrix:xt,u_label_plane_matrix:Tt,u_coord_matrix:It,u_is_text:+Mt,u_pitch_with_map:+pt,u_texsize:Lt,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Vs,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Vs,u_up_vector:[0,-1,0]};return"globe"===$t.name&&(Jt.u_tile_id=[Ft.canonical.x,Ft.canonical.y,1<<Ft.canonical.z],Jt.u_zoom_transition=Ot,Jt.u_inv_rot_matrix=qt,Jt.u_merc_center=Vt,Jt.u_camera_forward=Kt._camera.forward(),Jt.u_ecef_origin=_e.globeECEFOrigin(Kt.globeMatrix,Ft.toUnwrapped()),Jt.u_tile_matrix=Float32Array.from(Kt.globeMatrix),Jt.u_up_vector=Wt),Jt},eo=(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t,Kt)=>_e.extend(Qi(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ot,Vt,qt,Wt,$t,Kt),{u_gamma_scale:pt?vt.transform.cameraToCenterDistance*Math.cos(vt.terrain?0:vt.transform._pitch):1,u_device_pixel_ratio:_e.exported.devicePixelRatio,u_is_halo:+Ft}),to=(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt,Wt,$t)=>_e.extend(eo(be,Te,Pe,pt,vt,xt,Tt,It,!0,Mt,!0,Ft,Ot,Vt,qt,Wt,$t),{u_texsize_icon:Lt,u_texture_icon:1}),io=(_e,be,Te)=>({u_matrix:_e,u_opacity:be,u_color:Te}),oo=(be,Te,Pe,pt,vt,xt)=>_e.extend(function(_e,be,Te,Pe){const pt=Te.imageManager.getPattern(_e.from.toString()),vt=Te.imageManager.getPattern(_e.to.toString()),{width:xt,height:Tt}=Te.imageManager.getPixelSize(),It=Math.pow(2,Pe.tileID.overscaledZ),Mt=Pe.tileSize*Math.pow(2,Te.transform.tileZoom)/It,Lt=Mt*(Pe.tileID.canonical.x+Pe.tileID.wrap*It),Ft=Mt*Pe.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:pt.tl,u_pattern_br_a:pt.br,u_pattern_tl_b:vt.tl,u_pattern_br_b:vt.br,u_texsize:[xt,Tt],u_mix:be.t,u_pattern_size_a:pt.displaySize,u_pattern_size_b:vt.displaySize,u_scale_a:be.fromScale,u_scale_b:be.toScale,u_tile_units_to_pixels:1/L(Pe,1,Te.transform.tileZoom),u_pixel_coord_upper:[Lt>>16,Ft>>16],u_pixel_coord_lower:[65535&Lt,65535&Ft]}}(pt,xt,Pe,vt),{u_matrix:be,u_opacity:Te}),Us={fillExtrusion:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_lightpos:new _e.Uniform3f(be,Te.u_lightpos),u_lightintensity:new _e.Uniform1f(be,Te.u_lightintensity),u_lightcolor:new _e.Uniform3f(be,Te.u_lightcolor),u_vertical_gradient:new _e.Uniform1f(be,Te.u_vertical_gradient),u_opacity:new _e.Uniform1f(be,Te.u_opacity),u_tile_id:new _e.Uniform3f(be,Te.u_tile_id),u_zoom_transition:new _e.Uniform1f(be,Te.u_zoom_transition),u_inv_rot_matrix:new _e.UniformMatrix4f(be,Te.u_inv_rot_matrix),u_merc_center:new _e.Uniform2f(be,Te.u_merc_center),u_up_dir:new _e.Uniform3f(be,Te.u_up_dir),u_height_lift:new _e.Uniform1f(be,Te.u_height_lift)}),fillExtrusionPattern:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_lightpos:new _e.Uniform3f(be,Te.u_lightpos),u_lightintensity:new _e.Uniform1f(be,Te.u_lightintensity),u_lightcolor:new _e.Uniform3f(be,Te.u_lightcolor),u_vertical_gradient:new _e.Uniform1f(be,Te.u_vertical_gradient),u_height_factor:new _e.Uniform1f(be,Te.u_height_factor),u_tile_id:new _e.Uniform3f(be,Te.u_tile_id),u_zoom_transition:new _e.Uniform1f(be,Te.u_zoom_transition),u_inv_rot_matrix:new _e.UniformMatrix4f(be,Te.u_inv_rot_matrix),u_merc_center:new _e.Uniform2f(be,Te.u_merc_center),u_up_dir:new _e.Uniform3f(be,Te.u_up_dir),u_height_lift:new _e.Uniform1f(be,Te.u_height_lift),u_image:new _e.Uniform1i(be,Te.u_image),u_texsize:new _e.Uniform2f(be,Te.u_texsize),u_pixel_coord_upper:new _e.Uniform2f(be,Te.u_pixel_coord_upper),u_pixel_coord_lower:new _e.Uniform2f(be,Te.u_pixel_coord_lower),u_scale:new _e.Uniform3f(be,Te.u_scale),u_fade:new _e.Uniform1f(be,Te.u_fade),u_opacity:new _e.Uniform1f(be,Te.u_opacity)}),fill:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix)}),fillPattern:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_image:new _e.Uniform1i(be,Te.u_image),u_texsize:new _e.Uniform2f(be,Te.u_texsize),u_pixel_coord_upper:new _e.Uniform2f(be,Te.u_pixel_coord_upper),u_pixel_coord_lower:new _e.Uniform2f(be,Te.u_pixel_coord_lower),u_scale:new _e.Uniform3f(be,Te.u_scale),u_fade:new _e.Uniform1f(be,Te.u_fade)}),fillOutline:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_world:new _e.Uniform2f(be,Te.u_world)}),fillOutlinePattern:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_world:new _e.Uniform2f(be,Te.u_world),u_image:new _e.Uniform1i(be,Te.u_image),u_texsize:new _e.Uniform2f(be,Te.u_texsize),u_pixel_coord_upper:new _e.Uniform2f(be,Te.u_pixel_coord_upper),u_pixel_coord_lower:new _e.Uniform2f(be,Te.u_pixel_coord_lower),u_scale:new _e.Uniform3f(be,Te.u_scale),u_fade:new _e.Uniform1f(be,Te.u_fade)}),circle:(be,Te)=>({u_camera_to_center_distance:new _e.Uniform1f(be,Te.u_camera_to_center_distance),u_extrude_scale:new _e.UniformMatrix2f(be,Te.u_extrude_scale),u_device_pixel_ratio:new _e.Uniform1f(be,Te.u_device_pixel_ratio),u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_inv_rot_matrix:new _e.UniformMatrix4f(be,Te.u_inv_rot_matrix),u_merc_center:new _e.Uniform2f(be,Te.u_merc_center),u_tile_id:new _e.Uniform3f(be,Te.u_tile_id),u_zoom_transition:new _e.Uniform1f(be,Te.u_zoom_transition),u_up_dir:new _e.Uniform3f(be,Te.u_up_dir)}),collisionBox:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_camera_to_center_distance:new _e.Uniform1f(be,Te.u_camera_to_center_distance),u_extrude_scale:new _e.Uniform2f(be,Te.u_extrude_scale)}),collisionCircle:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_inv_matrix:new _e.UniformMatrix4f(be,Te.u_inv_matrix),u_camera_to_center_distance:new _e.Uniform1f(be,Te.u_camera_to_center_distance),u_viewport_size:new _e.Uniform2f(be,Te.u_viewport_size)}),debug:(be,Te)=>({u_color:new _e.UniformColor(be,Te.u_color),u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_overlay:new _e.Uniform1i(be,Te.u_overlay),u_overlay_scale:new _e.Uniform1f(be,Te.u_overlay_scale)}),clippingMask:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix)}),heatmap:(be,Te)=>({u_extrude_scale:new _e.Uniform1f(be,Te.u_extrude_scale),u_intensity:new _e.Uniform1f(be,Te.u_intensity),u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_inv_rot_matrix:new _e.UniformMatrix4f(be,Te.u_inv_rot_matrix),u_merc_center:new _e.Uniform2f(be,Te.u_merc_center),u_tile_id:new _e.Uniform3f(be,Te.u_tile_id),u_zoom_transition:new _e.Uniform1f(be,Te.u_zoom_transition),u_up_dir:new _e.Uniform3f(be,Te.u_up_dir)}),heatmapTexture:(be,Te)=>({u_image:new _e.Uniform1i(be,Te.u_image),u_color_ramp:new _e.Uniform1i(be,Te.u_color_ramp),u_opacity:new _e.Uniform1f(be,Te.u_opacity)}),hillshade:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_image:new _e.Uniform1i(be,Te.u_image),u_latrange:new _e.Uniform2f(be,Te.u_latrange),u_light:new _e.Uniform2f(be,Te.u_light),u_shadow:new _e.UniformColor(be,Te.u_shadow),u_highlight:new _e.UniformColor(be,Te.u_highlight),u_accent:new _e.UniformColor(be,Te.u_accent)}),hillshadePrepare:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_image:new _e.Uniform1i(be,Te.u_image),u_dimension:new _e.Uniform2f(be,Te.u_dimension),u_zoom:new _e.Uniform1f(be,Te.u_zoom),u_unpack:new _e.Uniform4f(be,Te.u_unpack)}),line:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_pixels_to_tile_units:new _e.UniformMatrix2f(be,Te.u_pixels_to_tile_units),u_device_pixel_ratio:new _e.Uniform1f(be,Te.u_device_pixel_ratio),u_units_to_pixels:new _e.Uniform2f(be,Te.u_units_to_pixels),u_dash_image:new _e.Uniform1i(be,Te.u_dash_image),u_gradient_image:new _e.Uniform1i(be,Te.u_gradient_image),u_image_height:new _e.Uniform1f(be,Te.u_image_height),u_texsize:new _e.Uniform2f(be,Te.u_texsize),u_scale:new _e.Uniform3f(be,Te.u_scale),u_mix:new _e.Uniform1f(be,Te.u_mix),u_alpha_discard_threshold:new _e.Uniform1f(be,Te.u_alpha_discard_threshold),u_trim_offset:new _e.Uniform2f(be,Te.u_trim_offset)}),linePattern:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_texsize:new _e.Uniform2f(be,Te.u_texsize),u_pixels_to_tile_units:new _e.UniformMatrix2f(be,Te.u_pixels_to_tile_units),u_device_pixel_ratio:new _e.Uniform1f(be,Te.u_device_pixel_ratio),u_image:new _e.Uniform1i(be,Te.u_image),u_units_to_pixels:new _e.Uniform2f(be,Te.u_units_to_pixels),u_scale:new _e.Uniform3f(be,Te.u_scale),u_fade:new _e.Uniform1f(be,Te.u_fade),u_alpha_discard_threshold:new _e.Uniform1f(be,Te.u_alpha_discard_threshold)}),raster:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_tl_parent:new _e.Uniform2f(be,Te.u_tl_parent),u_scale_parent:new _e.Uniform1f(be,Te.u_scale_parent),u_fade_t:new _e.Uniform1f(be,Te.u_fade_t),u_opacity:new _e.Uniform1f(be,Te.u_opacity),u_image0:new _e.Uniform1i(be,Te.u_image0),u_image1:new _e.Uniform1i(be,Te.u_image1),u_brightness_low:new _e.Uniform1f(be,Te.u_brightness_low),u_brightness_high:new _e.Uniform1f(be,Te.u_brightness_high),u_saturation_factor:new _e.Uniform1f(be,Te.u_saturation_factor),u_contrast_factor:new _e.Uniform1f(be,Te.u_contrast_factor),u_spin_weights:new _e.Uniform3f(be,Te.u_spin_weights),u_perspective_transform:new _e.Uniform2f(be,Te.u_perspective_transform)}),symbolIcon:(be,Te)=>({u_is_size_zoom_constant:new _e.Uniform1i(be,Te.u_is_size_zoom_constant),u_is_size_feature_constant:new _e.Uniform1i(be,Te.u_is_size_feature_constant),u_size_t:new _e.Uniform1f(be,Te.u_size_t),u_size:new _e.Uniform1f(be,Te.u_size),u_camera_to_center_distance:new _e.Uniform1f(be,Te.u_camera_to_center_distance),u_rotate_symbol:new _e.Uniform1i(be,Te.u_rotate_symbol),u_aspect_ratio:new _e.Uniform1f(be,Te.u_aspect_ratio),u_fade_change:new _e.Uniform1f(be,Te.u_fade_change),u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_label_plane_matrix:new _e.UniformMatrix4f(be,Te.u_label_plane_matrix),u_coord_matrix:new _e.UniformMatrix4f(be,Te.u_coord_matrix),u_is_text:new _e.Uniform1i(be,Te.u_is_text),u_pitch_with_map:new _e.Uniform1i(be,Te.u_pitch_with_map),u_texsize:new _e.Uniform2f(be,Te.u_texsize),u_tile_id:new _e.Uniform3f(be,Te.u_tile_id),u_zoom_transition:new _e.Uniform1f(be,Te.u_zoom_transition),u_inv_rot_matrix:new _e.UniformMatrix4f(be,Te.u_inv_rot_matrix),u_merc_center:new _e.Uniform2f(be,Te.u_merc_center),u_camera_forward:new _e.Uniform3f(be,Te.u_camera_forward),u_tile_matrix:new _e.UniformMatrix4f(be,Te.u_tile_matrix),u_up_vector:new _e.Uniform3f(be,Te.u_up_vector),u_ecef_origin:new _e.Uniform3f(be,Te.u_ecef_origin),u_texture:new _e.Uniform1i(be,Te.u_texture)}),symbolSDF:(be,Te)=>({u_is_size_zoom_constant:new _e.Uniform1i(be,Te.u_is_size_zoom_constant),u_is_size_feature_constant:new _e.Uniform1i(be,Te.u_is_size_feature_constant),u_size_t:new _e.Uniform1f(be,Te.u_size_t),u_size:new _e.Uniform1f(be,Te.u_size),u_camera_to_center_distance:new _e.Uniform1f(be,Te.u_camera_to_center_distance),u_rotate_symbol:new _e.Uniform1i(be,Te.u_rotate_symbol),u_aspect_ratio:new _e.Uniform1f(be,Te.u_aspect_ratio),u_fade_change:new _e.Uniform1f(be,Te.u_fade_change),u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_label_plane_matrix:new _e.UniformMatrix4f(be,Te.u_label_plane_matrix),u_coord_matrix:new _e.UniformMatrix4f(be,Te.u_coord_matrix),u_is_text:new _e.Uniform1i(be,Te.u_is_text),u_pitch_with_map:new _e.Uniform1i(be,Te.u_pitch_with_map),u_texsize:new _e.Uniform2f(be,Te.u_texsize),u_texture:new _e.Uniform1i(be,Te.u_texture),u_gamma_scale:new _e.Uniform1f(be,Te.u_gamma_scale),u_device_pixel_ratio:new _e.Uniform1f(be,Te.u_device_pixel_ratio),u_tile_id:new _e.Uniform3f(be,Te.u_tile_id),u_zoom_transition:new _e.Uniform1f(be,Te.u_zoom_transition),u_inv_rot_matrix:new _e.UniformMatrix4f(be,Te.u_inv_rot_matrix),u_merc_center:new _e.Uniform2f(be,Te.u_merc_center),u_camera_forward:new _e.Uniform3f(be,Te.u_camera_forward),u_tile_matrix:new _e.UniformMatrix4f(be,Te.u_tile_matrix),u_up_vector:new _e.Uniform3f(be,Te.u_up_vector),u_ecef_origin:new _e.Uniform3f(be,Te.u_ecef_origin),u_is_halo:new _e.Uniform1i(be,Te.u_is_halo)}),symbolTextAndIcon:(be,Te)=>({u_is_size_zoom_constant:new _e.Uniform1i(be,Te.u_is_size_zoom_constant),u_is_size_feature_constant:new _e.Uniform1i(be,Te.u_is_size_feature_constant),u_size_t:new _e.Uniform1f(be,Te.u_size_t),u_size:new _e.Uniform1f(be,Te.u_size),u_camera_to_center_distance:new _e.Uniform1f(be,Te.u_camera_to_center_distance),u_rotate_symbol:new _e.Uniform1i(be,Te.u_rotate_symbol),u_aspect_ratio:new _e.Uniform1f(be,Te.u_aspect_ratio),u_fade_change:new _e.Uniform1f(be,Te.u_fade_change),u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_label_plane_matrix:new _e.UniformMatrix4f(be,Te.u_label_plane_matrix),u_coord_matrix:new _e.UniformMatrix4f(be,Te.u_coord_matrix),u_is_text:new _e.Uniform1i(be,Te.u_is_text),u_pitch_with_map:new _e.Uniform1i(be,Te.u_pitch_with_map),u_texsize:new _e.Uniform2f(be,Te.u_texsize),u_texsize_icon:new _e.Uniform2f(be,Te.u_texsize_icon),u_texture:new _e.Uniform1i(be,Te.u_texture),u_texture_icon:new _e.Uniform1i(be,Te.u_texture_icon),u_gamma_scale:new _e.Uniform1f(be,Te.u_gamma_scale),u_device_pixel_ratio:new _e.Uniform1f(be,Te.u_device_pixel_ratio),u_is_halo:new _e.Uniform1i(be,Te.u_is_halo)}),background:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_opacity:new _e.Uniform1f(be,Te.u_opacity),u_color:new _e.UniformColor(be,Te.u_color)}),backgroundPattern:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_opacity:new _e.Uniform1f(be,Te.u_opacity),u_image:new _e.Uniform1i(be,Te.u_image),u_pattern_tl_a:new _e.Uniform2f(be,Te.u_pattern_tl_a),u_pattern_br_a:new _e.Uniform2f(be,Te.u_pattern_br_a),u_pattern_tl_b:new _e.Uniform2f(be,Te.u_pattern_tl_b),u_pattern_br_b:new _e.Uniform2f(be,Te.u_pattern_br_b),u_texsize:new _e.Uniform2f(be,Te.u_texsize),u_mix:new _e.Uniform1f(be,Te.u_mix),u_pattern_size_a:new _e.Uniform2f(be,Te.u_pattern_size_a),u_pattern_size_b:new _e.Uniform2f(be,Te.u_pattern_size_b),u_scale_a:new _e.Uniform1f(be,Te.u_scale_a),u_scale_b:new _e.Uniform1f(be,Te.u_scale_b),u_pixel_coord_upper:new _e.Uniform2f(be,Te.u_pixel_coord_upper),u_pixel_coord_lower:new _e.Uniform2f(be,Te.u_pixel_coord_lower),u_tile_units_to_pixels:new _e.Uniform1f(be,Te.u_tile_units_to_pixels)}),terrainRaster:pi,terrainDepth:pi,skybox:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_sun_direction:new _e.Uniform3f(be,Te.u_sun_direction),u_cubemap:new _e.Uniform1i(be,Te.u_cubemap),u_opacity:new _e.Uniform1f(be,Te.u_opacity),u_temporal_offset:new _e.Uniform1f(be,Te.u_temporal_offset)}),skyboxGradient:(be,Te)=>({u_matrix:new _e.UniformMatrix4f(be,Te.u_matrix),u_color_ramp:new _e.Uniform1i(be,Te.u_color_ramp),u_center_direction:new _e.Uniform3f(be,Te.u_center_direction),u_radius:new _e.Uniform1f(be,Te.u_radius),u_opacity:new _e.Uniform1f(be,Te.u_opacity),u_temporal_offset:new _e.Uniform1f(be,Te.u_temporal_offset)}),skyboxCapture:(be,Te)=>({u_matrix_3f:new _e.UniformMatrix3f(be,Te.u_matrix_3f),u_sun_direction:new _e.Uniform3f(be,Te.u_sun_direction),u_sun_intensity:new _e.Uniform1f(be,Te.u_sun_intensity),u_color_tint_r:new _e.Uniform4f(be,Te.u_color_tint_r),u_color_tint_m:new _e.Uniform4f(be,Te.u_color_tint_m),u_luminance:new _e.Uniform1f(be,Te.u_luminance)}),globeRaster:(be,Te)=>({u_proj_matrix:new _e.UniformMatrix4f(be,Te.u_proj_matrix),u_globe_matrix:new _e.UniformMatrix4f(be,Te.u_globe_matrix),u_normalize_matrix:new _e.UniformMatrix4f(be,Te.u_normalize_matrix),u_merc_matrix:new _e.UniformMatrix4f(be,Te.u_merc_matrix),u_zoom_transition:new _e.Uniform1f(be,Te.u_zoom_transition),u_merc_center:new _e.Uniform2f(be,Te.u_merc_center),u_image0:new _e.Uniform1i(be,Te.u_image0),u_grid_matrix:new _e.UniformMatrix3f(be,Te.u_grid_matrix),u_frustum_tl:new _e.Uniform3f(be,Te.u_frustum_tl),u_frustum_tr:new _e.Uniform3f(be,Te.u_frustum_tr),u_frustum_br:new _e.Uniform3f(be,Te.u_frustum_br),u_frustum_bl:new _e.Uniform3f(be,Te.u_frustum_bl),u_globe_pos:new _e.Uniform3f(be,Te.u_globe_pos),u_globe_radius:new _e.Uniform1f(be,Te.u_globe_radius),u_viewport:new _e.Uniform2f(be,Te.u_viewport)}),globeAtmosphere:(be,Te)=>({u_frustum_tl:new _e.Uniform3f(be,Te.u_frustum_tl),u_frustum_tr:new _e.Uniform3f(be,Te.u_frustum_tr),u_frustum_br:new _e.Uniform3f(be,Te.u_frustum_br),u_frustum_bl:new _e.Uniform3f(be,Te.u_frustum_bl),u_horizon:new _e.Uniform1f(be,Te.u_horizon),u_transition:new _e.Uniform1f(be,Te.u_transition),u_fadeout_range:new _e.Uniform1f(be,Te.u_fadeout_range),u_color:new _e.Uniform4f(be,Te.u_color),u_high_color:new _e.Uniform4f(be,Te.u_high_color),u_space_color:new _e.Uniform4f(be,Te.u_space_color),u_star_intensity:new _e.Uniform1f(be,Te.u_star_intensity),u_star_density:new _e.Uniform1f(be,Te.u_star_density),u_star_size:new _e.Uniform1f(be,Te.u_star_size),u_temporal_offset:new _e.Uniform1f(be,Te.u_temporal_offset),u_horizon_angle:new _e.Uniform1f(be,Te.u_horizon_angle),u_rotation_matrix:new _e.UniformMatrix4f(be,Te.u_rotation_matrix)})};let Zs;function ao(be,Te,Pe,pt,vt,xt,Tt){const It=be.context,Mt=It.gl,Lt=be.transform,Ft=be.useProgram("collisionBox"),Ot=[];let Vt=0,qt=0;for(let Wt=0;Wt<pt.length;Wt++){const $t=pt[Wt],Kt=Te.getTile($t),Jt=Kt.getBucket(Pe);if(!Jt)continue;const Yt=bt($t,Jt,Lt);let Qt=Yt;0===vt[0]&&0===vt[1]||(Qt=be.translatePosMatrix(Yt,Kt,vt,xt));const an=Tt?Jt.textCollisionBox:Jt.iconCollisionBox,cn=Jt.collisionCircleArray;if(cn.length>0){const be=_e.create(),Te=Qt;_e.mul(be,Jt.placementInvProjMatrix,Lt.glCoordMatrix),_e.mul(be,be,Jt.placementViewportMatrix),Ot.push({circleArray:cn,circleOffset:qt,transform:Te,invTransform:be,projection:Jt.getProjection()}),Vt+=cn.length/4,qt=Vt}an&&(be.terrain&&be.terrain.setupElevationDraw(Kt,Ft),Ft.draw(It,Mt.LINES,_e.DepthMode.disabled,_e.StencilMode.disabled,be.colorModeForRenderPass(),_e.CullFaceMode.disabled,Gi(Qt,Lt,Kt,Jt.getProjection()),Pe.id,an.layoutVertexBuffer,an.indexBuffer,an.segments,null,Lt.zoom,null,an.collisionVertexBuffer,an.collisionVertexBufferExt))}if(!Tt||!Ot.length)return;const Wt=be.useProgram("collisionCircle"),$t=new _e.StructArrayLayout2f1f2i16;$t.resize(4*Vt),$t._trim();let Kt=0;for(const _e of Ot)for(let be=0;be<_e.circleArray.length/4;be++){const Te=4*be,Pe=_e.circleArray[Te+0],pt=_e.circleArray[Te+1],vt=_e.circleArray[Te+2],xt=_e.circleArray[Te+3];$t.emplace(Kt++,Pe,pt,vt,xt,0),$t.emplace(Kt++,Pe,pt,vt,xt,1),$t.emplace(Kt++,Pe,pt,vt,xt,2),$t.emplace(Kt++,Pe,pt,vt,xt,3)}(!Zs||Zs.length<2*Vt)&&(Zs=function(be){const Te=2*be,Pe=new _e.StructArrayLayout3ui6;Pe.resize(Te),Pe._trim();for(let _e=0;_e<Te;_e++){const be=6*_e;Pe.uint16[be+0]=4*_e+0,Pe.uint16[be+1]=4*_e+1,Pe.uint16[be+2]=4*_e+2,Pe.uint16[be+3]=4*_e+2,Pe.uint16[be+4]=4*_e+3,Pe.uint16[be+5]=4*_e+0}return Pe}(Vt));const Jt=It.createIndexBuffer(Zs,!0),Yt=It.createVertexBuffer($t,_e.collisionCircleLayout.members,!0);for(const Te of Ot){const pt={u_matrix:Te.transform,u_inv_matrix:Te.invTransform,u_camera_to_center_distance:(Qt=Lt).getCameraToCenterDistance(Te.projection),u_viewport_size:[Qt.width,Qt.height]};Wt.draw(It,Mt.TRIANGLES,_e.DepthMode.disabled,_e.StencilMode.disabled,be.colorModeForRenderPass(),_e.CullFaceMode.disabled,pt,Pe.id,Yt,Jt,_e.SegmentVector.simpleSegment(0,2*Te.circleOffset,Te.circleArray.length,Te.circleArray.length/2),null,Lt.zoom)}var Qt;Yt.destroy(),Jt.destroy()}const qs=_e.create();function lo(be,Te,Pe,pt,vt,xt){const{horizontalAlign:Tt,verticalAlign:It}=_e.getAnchorAlignment(be),Mt=-(Tt-.5)*Te,Lt=-(It-.5)*Pe,Ft=_e.evaluateVariableOffset(be,pt);return new _e.pointGeometry((Mt/vt+Ft[0])*xt,(Lt/vt+Ft[1])*xt)}function co(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft){const Ot=be.text.placedSymbolArray,Vt=be.text.dynamicLayoutVertexArray,qt=be.icon.dynamicLayoutVertexArray,Wt={},$t=wt(It,be.getProjection(),xt),Kt=xt.elevation,Jt=be.getProjection().upVectorScale(It.canonical,xt.center.lat,xt.worldSize);Vt.clear();for(let qt=0;qt<Ot.length;qt++){const Yt=Ot.get(qt),Qt=be.allowVerticalPlacement&&!Yt.placedOrientation,an=Yt.hidden||!Yt.crossTileID||Qt?null:pt[Yt.crossTileID];if(an){const pt=new _e.pointGeometry(Yt.tileAnchorX,Yt.tileAnchorY),Ot=be.getProjection().upVector(It.canonical,pt.x,pt.y),qt=Kt?Kt.getAtTileOffset(It,pt.x,pt.y):0,Qt=nt([Yt.projectedAnchorX+qt*Ot[0]*Jt.metersToTile,Yt.projectedAnchorY+qt*Ot[1]*Jt.metersToTile,Yt.projectedAnchorZ+qt*Ot[2]*Jt.metersToTile],Pe?$t:Tt),cn=at(xt.getCameraToCenterDistance(be.getProjection()),Qt.signedDistanceFromCamera);let hn=vt.evaluateSizeForFeature(be.textSizeData,Lt,Yt)*cn/_e.ONE_EM;Pe&&(hn*=be.tilePixelRatio/Mt);const{width:pn,height:xn,anchor:Pn,textOffset:Ln,textScale:Fn}=an,jn=lo(Pn,pn,xn,Ln,Fn,hn);let $n;if(Pe){const _e=pt.add(jn),{x:Te,y:Pe,z:vt}=be.getProjection().projectTilePoint(_e.x,_e.y,It.canonical);$n=nt([Te+qt*Ot[0]*Jt.metersToTile,Pe+qt*Ot[1]*Jt.metersToTile,vt+qt*Ot[2]*Jt.metersToTile],Tt).point}else{const _e=Te?jn.rotate(-xt.angle):jn;$n=[Qt.point[0]+_e.x,Qt.point[1]+_e.y,0]}const ea=be.allowVerticalPlacement&&Yt.placedOrientation===_e.WritingMode.vertical?Math.PI/2:0;for(let be=0;be<Yt.numGlyphs;be++)_e.addDynamicAttributes(Vt,$n[0],$n[1],$n[2],ea);Ft&&Yt.associatedIconIndex>=0&&(Wt[Yt.associatedIconIndex]={shiftedAnchor:$n,angle:ea})}else ft(Yt.numGlyphs,Vt)}if(Ft){qt.clear();const Te=be.icon.placedSymbolArray;for(let be=0;be<Te.length;be++){const Pe=Te.get(be);if(Pe.hidden)ft(Pe.numGlyphs,qt);else{const Te=Wt[be];if(Te)for(let be=0;be<Pe.numGlyphs;be++)_e.addDynamicAttributes(qt,Te.shiftedAnchor[0],Te.shiftedAnchor[1],Te.shiftedAnchor[2],Te.angle);else ft(Pe.numGlyphs,qt)}}be.icon.dynamicLayoutVertexBuffer.updateData(qt)}be.text.dynamicLayoutVertexBuffer.updateData(Vt)}function ho(_e,be,Te){return Te.iconsInText&&be?"symbolTextAndIcon":_e?"symbolSDF":"symbolIcon"}function uo(be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot){const Vt=be.context,qt=Vt.gl,Wt=be.transform,$t="map"===It,Kt="map"===Mt,Jt=$t&&"point"!==Pe.layout.get("symbol-placement"),Yt=$t&&!Kt&&!Jt,Qt=void 0!==Pe.layout.get("symbol-sort-key").constantOr(1);let an=!1;const cn=be.depthModeForSublayer(0,_e.DepthMode.ReadOnly),hn=[_e.mercatorXfromLng(Wt.center.lng),_e.mercatorYfromLat(Wt.center.lat)],pn=Pe.layout.get("text-variable-anchor"),xn="globe"===Wt.projection.name,Pn=[],Ln=[0,-1,0];let Fn=Ln;!xn&&!Wt.mercatorFromTransition||$t||(Fn=function(be){const Te=be._camera.getWorldToCamera(be.worldSize,1),Pe=_e.multiply([],Te,be.globeMatrix);_e.invert(Pe,Pe);const pt=[0,0,0],vt=[0,1,0,0];return _e.transformMat4$1(vt,vt,Pe),pt[0]=vt[0],pt[1]=vt[1],pt[2]=vt[2],_e.normalize(pt,pt),pt}(Wt));for(const It of pt){const pt=Te.getTile(It),Mt=pt.getBucket(Pe);if(!Mt)continue;if("mercator"===Mt.projection.name&&xn)continue;const Ft=vt?Mt.text:Mt.icon;if(!Ft||Mt.fullyClipped||!Ft.segments.get().length)continue;const Ot=Ft.programConfigurations.get(Pe.id),Vt=vt||Mt.sdfIcons,cn=vt?Mt.textSizeData:Mt.iconSizeData,jn=Kt||0!==Wt.pitch,$n=_e.evaluateSizeForZoom(cn,Wt.zoom);let ea,na,aa,ra,ia=[0,0],da=null;if(vt){if(na=pt.glyphAtlasTexture,aa=qt.LINEAR,ea=pt.glyphAtlasTexture.size,Mt.iconsInText){ia=pt.imageAtlasTexture.size,da=pt.imageAtlasTexture;const _e="composite"===cn.kind||"camera"===cn.kind;ra=jn||be.options.rotating||be.options.zooming||_e?qt.LINEAR:qt.NEAREST}}else{const _e=1!==Pe.layout.get("icon-size").constantOr(0)||Mt.iconsNeedLinear;na=pt.imageAtlasTexture,aa=Vt||be.options.rotating||be.options.zooming||_e||jn?qt.LINEAR:qt.NEAREST,ea=pt.imageAtlasTexture.size}const la="globe"===Mt.projection.name,ua=la?Fn:Ln,ca=la?_e.globeToMercatorTransition(Wt.zoom):0,ga=wt(It,Mt.getProjection(),Wt),ma=Wt.calculatePixelsToTileUnitsMatrix(pt),ya=tt(ga,pt.tileID.canonical,Kt,$t,Wt,Mt.getProjection(),ma),_a=be.terrain&&Kt&&Jt?_e.invert(_e.create(),ya):qs,va=ot(ga,pt.tileID.canonical,Kt,$t,Wt,Mt.getProjection(),ma),xa=pn&&Mt.hasTextData(),ba="none"!==Pe.layout.get("icon-text-fit")&&xa&&Mt.hasIconData();if(Jt){const _e=Wt.elevation,Te=_e?_e.getAtTileOffsetFunc(It,Wt.center.lat,Wt.worldSize,Mt.getProjection()):_e=>[0,0,0],Pe=it(ga,pt.tileID.canonical,Kt,$t,Wt,Mt.getProjection(),ma);lt(Mt,ga,be,vt,Pe,va,Kt,Lt,Te,It)}const wa=Jt||vt&&pn||ba,Ea=be.translatePosMatrix(ga,pt,xt,Tt),Ca=wa?qs:ya,Aa=be.translatePosMatrix(va,pt,xt,Tt,!0),Da=Mt.getProjection().createInversionMatrix(Wt,It.canonical),ka=[];be.terrain&&Kt&&ka.push("PITCH_WITH_MAP_TERRAIN"),la&&ka.push("PROJECTION_GLOBE_VIEW"),wa&&ka.push("PROJECTED_POS_ON_VIEWPORT");const Ia=Vt&&0!==Pe.paint.get(vt?"text-halo-width":"icon-halo-width").constantOr(1);let La;La=Vt?Mt.iconsInText?to(cn.kind,$n,Yt,Kt,be,Ea,Ca,Aa,ea,ia,It,ca,hn,Da,ua,Mt.getProjection()):eo(cn.kind,$n,Yt,Kt,be,Ea,Ca,Aa,vt,ea,!0,It,ca,hn,Da,ua,Mt.getProjection()):Qi(cn.kind,$n,Yt,Kt,be,Ea,Ca,Aa,vt,ea,It,ca,hn,Da,ua,Mt.getProjection());const Fa={program:be.useProgram(ho(Vt,vt,Mt),Ot,ka),buffers:Ft,uniformValues:La,atlasTexture:na,atlasTextureIcon:da,atlasInterpolation:aa,atlasInterpolationIcon:ra,isSDF:Vt,hasHalo:Ia,tile:pt,labelPlaneMatrixInv:_a};if(Qt&&Mt.canOverlap){an=!0;const be=Ft.segments.get();for(const Te of be)Pn.push({segments:new _e.SegmentVector([Te]),sortKey:Te.sortKey,state:Fa})}else Pn.push({segments:Ft.segments,sortKey:0,state:Fa})}an&&Pn.sort(((_e,be)=>_e.sortKey-be.sortKey));for(const _e of Pn){const Te=_e.state;if(be.terrain&&be.terrain.setupElevationDraw(Te.tile,Te.program,{useDepthForOcclusion:!xn,labelPlaneMatrixInv:Te.labelPlaneMatrixInv}),Vt.activeTexture.set(qt.TEXTURE0),Te.atlasTexture.bind(Te.atlasInterpolation,qt.CLAMP_TO_EDGE),Te.atlasTextureIcon&&(Vt.activeTexture.set(qt.TEXTURE1),Te.atlasTextureIcon&&Te.atlasTextureIcon.bind(Te.atlasInterpolationIcon,qt.CLAMP_TO_EDGE)),Te.isSDF){const pt=Te.uniformValues;Te.hasHalo&&(pt.u_is_halo=1,_o(Te.buffers,_e.segments,Pe,be,Te.program,cn,Ft,Ot,pt)),pt.u_is_halo=0}_o(Te.buffers,_e.segments,Pe,be,Te.program,cn,Ft,Ot,Te.uniformValues)}}function _o(be,Te,Pe,pt,vt,xt,Tt,It,Mt){const Lt=pt.context;vt.draw(Lt,Lt.gl.TRIANGLES,xt,Tt,It,_e.CullFaceMode.disabled,Mt,Pe.id,be.layoutVertexBuffer,be.indexBuffer,Te,Pe.paint,pt.transform.zoom,be.programConfigurations.get(Pe.id),be.dynamicLayoutVertexBuffer,be.opacityVertexBuffer,be.globeExtVertexBuffer)}function mo(be,Te,Pe,pt,vt,xt,Tt){const It=be.context.gl,Mt=Pe.paint.get("fill-pattern"),Lt=Mt&&Mt.constantOr(1),Ft=Pe.getCrossfadeParameters();let Ot,Vt,qt,Wt,$t;Tt?(Vt=Lt&&!Pe.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ot=It.LINES):(Vt=Lt?"fillPattern":"fill",Ot=It.TRIANGLES);for(const Kt of pt){const pt=Te.getTile(Kt);if(Lt&&!pt.patternsLoaded())continue;const Jt=pt.getBucket(Pe);if(!Jt)continue;be.prepareDrawTile();const Yt=Jt.programConfigurations.get(Pe.id),Qt=be.useProgram(Vt,Yt);Lt&&(be.context.activeTexture.set(It.TEXTURE0),pt.imageAtlasTexture.bind(It.LINEAR,It.CLAMP_TO_EDGE),Yt.updatePaintBuffers(Ft));const an=Mt.constantOr(null);if(an&&pt.imageAtlas){const _e=pt.imageAtlas,be=_e.patternPositions[an.to.toString()],Te=_e.patternPositions[an.from.toString()];be&&Te&&Yt.setConstantPatternPositions(be,Te)}const cn=be.translatePosMatrix(Kt.projMatrix,pt,Pe.paint.get("fill-translate"),Pe.paint.get("fill-translate-anchor"));if(Tt){Wt=Jt.indexBuffer2,$t=Jt.segments2;const _e=be.terrain&&be.terrain.renderingToTexture?be.terrain.drapeBufferSize:[It.drawingBufferWidth,It.drawingBufferHeight];qt="fillOutlinePattern"===Vt&&Lt?Bi(cn,be,Ft,pt,_e):ki(cn,_e)}else Wt=Jt.indexBuffer,$t=Jt.segments,qt=Lt?Oi(cn,be,Ft,pt):Ri(cn);be.prepareDrawProgram(be.context,Qt,Kt.toUnwrapped()),Qt.draw(be.context,Ot,vt,be.stencilModeForClipping(Kt),xt,_e.CullFaceMode.disabled,qt,Pe.id,Jt.layoutVertexBuffer,Wt,$t,Pe.paint,be.transform.zoom,Yt)}}function po(be,Te,Pe,pt,vt,xt,Tt){const It=be.context,Mt=It.gl,Lt=be.transform,Ft=Pe.paint.get("fill-extrusion-pattern"),Ot=Ft.constantOr(1),Vt=Pe.getCrossfadeParameters(),qt=Pe.paint.get("fill-extrusion-opacity"),Wt="globe"===Lt.projection.name?_e.fillExtrusionHeightLift():0,$t="globe"===Lt.projection.name,Kt=$t?_e.globeToMercatorTransition(Lt.zoom):0,Jt=[_e.mercatorXfromLng(Lt.center.lng),_e.mercatorYfromLat(Lt.center.lat)],Yt=[];$t&&Yt.push("PROJECTION_GLOBE_VIEW");for(const Qt of pt){const pt=Te.getTile(Qt),an=pt.getBucket(Pe);if(!an||an.projection.name!==Lt.projection.name)continue;const cn=an.programConfigurations.get(Pe.id),hn=be.useProgram(Ot?"fillExtrusionPattern":"fillExtrusion",cn,Yt);if(be.terrain){const _e=be.terrain;if(be.style.terrainSetForDrapingOnly())_e.setupElevationDraw(pt,hn,{useMeterToDem:!0});else{if(!an.enableTerrain)continue;if(_e.setupElevationDraw(pt,hn,{useMeterToDem:!0}),fo(It,Te,Qt,an,Pe,_e),!an.centroidVertexBuffer){const _e=hn.attributes.a_centroid_pos;void 0!==_e&&Mt.vertexAttrib2f(_e,0,0)}}}Ot&&(be.context.activeTexture.set(Mt.TEXTURE0),pt.imageAtlasTexture.bind(Mt.LINEAR,Mt.CLAMP_TO_EDGE),cn.updatePaintBuffers(Vt));const pn=Ft.constantOr(null);if(pn&&pt.imageAtlas){const _e=pt.imageAtlas,be=_e.patternPositions[pn.to.toString()],Te=_e.patternPositions[pn.from.toString()];be&&Te&&cn.setConstantPatternPositions(be,Te)}const xn=be.translatePosMatrix(Qt.projMatrix,pt,Pe.paint.get("fill-extrusion-translate"),Pe.paint.get("fill-extrusion-translate-anchor")),Pn=Lt.projection.createInversionMatrix(Lt,Qt.canonical),Ln=Pe.paint.get("fill-extrusion-vertical-gradient"),Fn=Ot?Li(xn,be,Ln,qt,Qt,Vt,pt,Wt,Kt,Jt,Pn):Ai(xn,be,Ln,qt,Qt,Wt,Kt,Jt,Pn);be.prepareDrawProgram(It,hn,Qt.toUnwrapped()),hn.draw(It,It.gl.TRIANGLES,vt,xt,Tt,_e.CullFaceMode.backCCW,Fn,Pe.id,an.layoutVertexBuffer,an.indexBuffer,an.segments,Pe.paint,be.transform.zoom,cn,be.terrain?an.centroidVertexBuffer:null,$t?an.layoutVertexExtBuffer:null)}}function fo(be,Te,Pe,pt,vt,xt){const Tt=[be=>{let Te=be.canonical.x-1,Pe=be.wrap;return Te<0&&(Te=(1<<be.canonical.z)-1,Pe--),new _e.OverscaledTileID(be.overscaledZ,Pe,be.canonical.z,Te,be.canonical.y)},be=>{let Te=be.canonical.x+1,Pe=be.wrap;return Te===1<<be.canonical.z&&(Te=0,Pe++),new _e.OverscaledTileID(be.overscaledZ,Pe,be.canonical.z,Te,be.canonical.y)},be=>new _e.OverscaledTileID(be.overscaledZ,be.wrap,be.canonical.z,be.canonical.x,(0===be.canonical.y?1<<be.canonical.z:be.canonical.y)-1),be=>new _e.OverscaledTileID(be.overscaledZ,be.wrap,be.canonical.z,be.canonical.x,be.canonical.y===(1<<be.canonical.z)-1?0:be.canonical.y+1)],l=_e=>{const be=Te.getSource().minzoom,o=_e=>{const be=Te.getTileByID(_e);if(be&&be.hasData())return be.getBucket(vt)},Pe=[0,-1,1];for(const Te of Pe){if(_e.overscaledZ+Te<be)continue;const Pe=o(_e.calculateScaledKey(_e.overscaledZ+Te));if(Pe)return Pe}},It=[0,0,0],h=(be,Te)=>(It[0]=Math.min(be.min.y,Te.min.y),It[1]=Math.max(be.max.y,Te.max.y),It[2]=_e.EXTENT-Te.min.x>be.max.x?Te.min.x-_e.EXTENT:be.max.x,It),u=(be,Te)=>(It[0]=Math.min(be.min.x,Te.min.x),It[1]=Math.max(be.max.x,Te.max.x),It[2]=_e.EXTENT-Te.min.y>be.max.y?Te.min.y-_e.EXTENT:be.max.y,It),Mt=[(_e,be)=>h(_e,be),(_e,be)=>h(be,_e),(_e,be)=>u(_e,be),(_e,be)=>u(be,_e)],Lt=new _e.pointGeometry(0,0);let Ft,Ot,Vt;const g=(be,Te,pt,vt,Tt)=>{const It=[[vt?pt:be,vt?be:pt,0],[vt?pt:Te,vt?Te:pt,0]],Mt=Tt<0?_e.EXTENT+Tt:Tt,Lt=[vt?Mt:(be+Te)/2,vt?(be+Te)/2:Mt,0];return 0===pt&&Tt<0||0!==pt&&Tt>0?xt.getForTilePoints(Vt,[Lt],!0,Ot):It.push(Lt),xt.getForTilePoints(Pe,It,!0,Ft),Math.max(It[0][2],It[1][2],Lt[2])/xt.exaggeration()};for(let be=0;be<4;be++){const Te=(be<2?1:5)-be,vt=pt.borders[be];if(0===vt.length)continue;const It=Vt=Tt[be](Pe),qt=l(It);if(!(qt&&qt instanceof _e.FillExtrusionBucket&&qt.enableTerrain))continue;if(pt.borderDoneWithNeighborZ[be]===qt.canonical.z&&qt.borderDoneWithNeighborZ[Te]===pt.canonical.z)continue;if(Ot=xt.findDEMTileFor(It),!Ot||!Ot.dem)continue;if(!Ft){const _e=xt.findDEMTileFor(Pe);if(!_e||!_e.dem)return;Ft=_e}const Wt=qt.borders[Te];let $t=0;const Kt=qt.borderDoneWithNeighborZ[Te]!==pt.canonical.z;if(pt.canonical.z===qt.canonical.z){for(let Pe=0;Pe<vt.length;Pe++){const xt=pt.featuresOnBorder[vt[Pe]],Tt=xt.borders[be];let It;for(;$t<Wt.length&&(It=qt.featuresOnBorder[Wt[$t]],!(It.borders[Te][1]>Tt[0]+3));)Kt&&qt.encodeCentroid(void 0,It,!1),$t++;if(It&&$t<Wt.length){const Pe=$t;let vt=0;for(;!(It.borders[Te][0]>Tt[1]-3)&&(vt++,++$t!==Wt.length);)It=qt.featuresOnBorder[Wt[$t]];if(It=qt.featuresOnBorder[Wt[Pe]],xt.intersectsCount()>1||It.intersectsCount()>1||1!==vt){1!==vt&&($t=Pe),pt.encodeCentroid(void 0,xt,!1),Kt&&qt.encodeCentroid(void 0,It,!1);continue}const Ft=Mt[be](xt,It),Ot=be%2?_e.EXTENT-1:0;Lt.x=g(Ft[0],Math.min(_e.EXTENT-1,Ft[1]),Ot,be<2,Ft[2]),Lt.y=0,pt.encodeCentroid(Lt,xt,!1),Kt&&qt.encodeCentroid(Lt,It,!1)}else pt.encodeCentroid(void 0,xt,!1)}pt.borderDoneWithNeighborZ[be]=qt.canonical.z,pt.needsCentroidUpdate=!0,Kt&&(qt.borderDoneWithNeighborZ[Te]=pt.canonical.z,qt.needsCentroidUpdate=!0)}else{for(const _e of vt)pt.encodeCentroid(void 0,pt.featuresOnBorder[_e],!1);if(Kt){for(const _e of Wt)qt.encodeCentroid(void 0,qt.featuresOnBorder[_e],!1);qt.borderDoneWithNeighborZ[Te]=pt.canonical.z,qt.needsCentroidUpdate=!0}pt.borderDoneWithNeighborZ[be]=qt.canonical.z,pt.needsCentroidUpdate=!0}}(pt.needsCentroidUpdate||!pt.centroidVertexBuffer&&0!==pt.centroidVertexArray.length)&&pt.uploadCentroid(be)}const Ws=new _e.Color(1,0,0,1),$s=new _e.Color(0,1,0,1),Xs=new _e.Color(0,0,1,1),Ks=new _e.Color(1,0,1,1),Js=new _e.Color(0,1,1,1);function wo(_e,be,Te,Pe){Eo(_e,0,be+Te/2,_e.transform.width,Te,Pe)}function To(_e,be,Te,Pe){Eo(_e,be-Te/2,0,Te,_e.transform.height,Pe)}function Eo(be,Te,Pe,pt,vt,xt){const Tt=be.context,It=Tt.gl;It.enable(It.SCISSOR_TEST),It.scissor(Te*_e.exported.devicePixelRatio,Pe*_e.exported.devicePixelRatio,pt*_e.exported.devicePixelRatio,vt*_e.exported.devicePixelRatio),Tt.clear({color:xt}),It.disable(It.SCISSOR_TEST)}function Co(be,Te,Pe){const pt=be.context,vt=pt.gl,xt="globe"===be.transform.projection.name,Tt=Pe.projMatrix,It=be.useProgram("debug",null,xt?["PROJECTION_GLOBE_VIEW"]:null),Mt=Te.getTileByID(Pe.key);be.terrain&&be.terrain.setupElevationDraw(Mt,It);const Lt=_e.DepthMode.disabled,Ft=_e.StencilMode.disabled,Ot=be.colorModeForRenderPass(),Vt="$debug";pt.activeTexture.set(vt.TEXTURE0),be.emptyTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),xt?Mt._makeGlobeTileDebugBuffers(be.context,be.transform.projection):Mt._makeDebugTileBoundsBuffers(be.context,be.transform.projection);const qt=Mt._tileDebugBuffer||be.debugBuffer,Wt=Mt._tileDebugIndexBuffer||be.debugIndexBuffer,$t=Mt._tileDebugSegments||be.debugSegments;It.draw(pt,vt.LINE_STRIP,Lt,Ft,Ot,_e.CullFaceMode.disabled,ji(Tt,_e.Color.red),Vt,qt,Wt,$t,null,null,null,Mt._globeTileDebugBorderBuffer);const Kt=Mt.latestRawTileData,Jt=Math.floor((Kt&&Kt.byteLength||0)/1024),Yt=Te.getTile(Pe).tileSize,Qt=512/Math.min(Yt,512)*(Pe.overscaledZ/be.transform.zoom)*.5;let an=Pe.canonical.toString();Pe.overscaledZ!==Pe.canonical.z&&(an+=` => ${Pe.overscaledZ}`),function(_e,be){_e.initDebugOverlayCanvas();const Te=_e.debugOverlayCanvas,Pe=_e.context.gl,pt=_e.debugOverlayCanvas.getContext("2d");pt.clearRect(0,0,Te.width,Te.height),pt.shadowColor="white",pt.shadowBlur=2,pt.lineWidth=1.5,pt.strokeStyle="white",pt.textBaseline="top",pt.font="bold 36px Open Sans, sans-serif",pt.fillText(be,5,5),pt.strokeText(be,5,5),_e.debugOverlayTexture.update(Te),_e.debugOverlayTexture.bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE)}(be,`${an} ${Jt}kb`);const cn=Mt._tileDebugTextBuffer||be.debugBuffer,hn=Mt._tileDebugTextIndexBuffer||be.quadTriangleIndexBuffer,pn=Mt._tileDebugTextSegments||be.debugSegments;It.draw(pt,vt.TRIANGLES,Lt,Ft,_e.ColorMode.alphaBlended,_e.CullFaceMode.disabled,ji(Tt,_e.Color.transparent,Qt),Vt,cn,hn,pn,null,null,null,Mt._globeTileDebugTextBuffer)}const Qs=_e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:td}=Qs;function So(_e,be,Te,Pe){_e.emplaceBack(be,Te,Pe)}class id{constructor(be){this.vertexArray=new _e.StructArrayLayout3f12,this.indices=new _e.StructArrayLayout3ui6,So(this.vertexArray,-1,-1,1),So(this.vertexArray,1,-1,1),So(this.vertexArray,-1,1,1),So(this.vertexArray,1,1,1),So(this.vertexArray,-1,-1,-1),So(this.vertexArray,1,-1,-1),So(this.vertexArray,-1,1,-1),So(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=be.createVertexBuffer(this.vertexArray,td),this.indexBuffer=be.createIndexBuffer(this.indices),this.segment=_e.SegmentVector.simpleSegment(0,0,36,12)}}function Do(be,Te,Pe,pt,vt,xt){const Tt=be.gl,It=Te.paint.get("sky-atmosphere-color"),Mt=Te.paint.get("sky-atmosphere-halo-color"),Lt=Te.paint.get("sky-atmosphere-sun-intensity"),Ft=((_e,be,Te,Pe,pt)=>({u_matrix_3f:_e,u_sun_direction:be,u_sun_intensity:Te,u_color_tint_r:[Pe.r,Pe.g,Pe.b,Pe.a],u_color_tint_m:[pt.r,pt.g,pt.b,pt.a],u_luminance:5e-5}))(_e.fromMat4(_e.create$1(),pt),vt,Lt,It,Mt);Tt.framebufferTexture2D(Tt.FRAMEBUFFER,Tt.COLOR_ATTACHMENT0,Tt.TEXTURE_CUBE_MAP_POSITIVE_X+xt,Te.skyboxTexture,0),Pe.draw(be,Tt.TRIANGLES,_e.DepthMode.disabled,_e.StencilMode.disabled,_e.ColorMode.unblended,_e.CullFaceMode.frontCW,Ft,"skyboxCapture",Te.skyboxGeometry.vertexBuffer,Te.skyboxGeometry.indexBuffer,Te.skyboxGeometry.segment)}const sd=_e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class dd{constructor(be){const Te=new _e.StructArrayLayout5f20;Te.emplaceBack(-1,1,1,0,0),Te.emplaceBack(1,1,1,1,0),Te.emplaceBack(1,-1,1,1,1),Te.emplaceBack(-1,-1,1,0,1);const Pe=new _e.StructArrayLayout3ui6;Pe.emplaceBack(0,1,2),Pe.emplaceBack(2,3,0),this.vertexBuffer=be.createVertexBuffer(Te,sd.members),this.indexBuffer=be.createIndexBuffer(Pe),this.segments=_e.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const ld={symbol:function(be,Te,Pe,pt,vt){if("translucent"!==be.renderPass)return;const xt=_e.StencilMode.disabled,Tt=be.colorModeForRenderPass();Pe.layout.get("text-variable-anchor")&&function(be,Te,Pe,pt,vt,xt,Tt){const It=Te.transform,Mt="map"===vt,Lt="map"===xt;for(const Te of be){const be=pt.getTile(Te),vt=be.getBucket(Pe);if(!vt||!vt.text||!vt.text.segments.get().length)continue;const xt=_e.evaluateSizeForZoom(vt.textSizeData,It.zoom),Ft=wt(Te,vt.getProjection(),It),Ot=It.calculatePixelsToTileUnitsMatrix(be),Vt=tt(Ft,be.tileID.canonical,Lt,Mt,It,vt.getProjection(),Ot),qt="none"!==Pe.layout.get("icon-text-fit")&&vt.hasIconData();if(xt){const Pe=Math.pow(2,It.zoom-be.tileID.overscaledZ);co(vt,Mt,Lt,Tt,_e.symbolSize,It,Vt,Te,Pe,xt,qt)}}}(pt,be,Pe,Te,Pe.layout.get("text-rotation-alignment"),Pe.layout.get("text-pitch-alignment"),vt),0!==Pe.paint.get("icon-opacity").constantOr(1)&&uo(be,Te,Pe,pt,!1,Pe.paint.get("icon-translate"),Pe.paint.get("icon-translate-anchor"),Pe.layout.get("icon-rotation-alignment"),Pe.layout.get("icon-pitch-alignment"),Pe.layout.get("icon-keep-upright"),xt,Tt),0!==Pe.paint.get("text-opacity").constantOr(1)&&uo(be,Te,Pe,pt,!0,Pe.paint.get("text-translate"),Pe.paint.get("text-translate-anchor"),Pe.layout.get("text-rotation-alignment"),Pe.layout.get("text-pitch-alignment"),Pe.layout.get("text-keep-upright"),xt,Tt),Te.map.showCollisionBoxes&&(ao(be,Te,Pe,pt,Pe.paint.get("text-translate"),Pe.paint.get("text-translate-anchor"),!0),ao(be,Te,Pe,pt,Pe.paint.get("icon-translate"),Pe.paint.get("icon-translate-anchor"),!1))},circle:function(be,Te,Pe,pt){if("translucent"!==be.renderPass)return;const vt=Pe.paint.get("circle-opacity"),xt=Pe.paint.get("circle-stroke-width"),Tt=Pe.paint.get("circle-stroke-opacity"),It=void 0!==Pe.layout.get("circle-sort-key").constantOr(1);if(0===vt.constantOr(1)&&(0===xt.constantOr(1)||0===Tt.constantOr(1)))return;const Mt=be.context,Lt=Mt.gl,Ft=be.transform,Ot=be.depthModeForSublayer(0,_e.DepthMode.ReadOnly),Vt=_e.StencilMode.disabled,qt=be.colorModeForRenderPass(),Wt="globe"===Ft.projection.name,$t=[_e.mercatorXfromLng(Ft.center.lng),_e.mercatorYfromLat(Ft.center.lat)],Kt=[];for(let vt=0;vt<pt.length;vt++){const xt=pt[vt],Tt=Te.getTile(xt),Mt=Tt.getBucket(Pe);if(!Mt||Mt.projection.name!==Ft.projection.name)continue;const Lt=Mt.programConfigurations.get(Pe.id),Ot=Ni(Pe);Wt&&Ot.push("PROJECTION_GLOBE_VIEW");const Vt=be.useProgram("circle",Lt,Ot),qt=Mt.layoutVertexBuffer,Jt=Mt.globeExtVertexBuffer,Yt=Mt.indexBuffer,Qt=Ft.projection.createInversionMatrix(Ft,xt.canonical),an={programConfiguration:Lt,program:Vt,layoutVertexBuffer:qt,globeExtVertexBuffer:Jt,indexBuffer:Yt,uniformValues:Ui(be,xt,Tt,Qt,$t,Pe),tile:Tt};if(It){const be=Mt.segments.get();for(const Te of be)Kt.push({segments:new _e.SegmentVector([Te]),sortKey:Te.sortKey,state:an})}else Kt.push({segments:Mt.segments,sortKey:0,state:an})}It&&Kt.sort(((_e,be)=>_e.sortKey-be.sortKey));const Jt={useDepthForOcclusion:!Wt};for(const Te of Kt){const{programConfiguration:pt,program:vt,layoutVertexBuffer:xt,globeExtVertexBuffer:Tt,indexBuffer:It,uniformValues:$t,tile:Kt}=Te.state,Yt=Te.segments;be.terrain&&be.terrain.setupElevationDraw(Kt,vt,Jt),be.prepareDrawProgram(Mt,vt,Kt.tileID.toUnwrapped()),vt.draw(Mt,Lt.TRIANGLES,Ot,Vt,qt,_e.CullFaceMode.disabled,$t,Pe.id,xt,It,Yt,Pe.paint,Ft.zoom,pt,Wt?Tt:null)}},heatmap:function(be,Te,Pe,pt){if(0!==Pe.paint.get("heatmap-opacity"))if("offscreen"===be.renderPass){const vt=be.context,xt=vt.gl,Tt=_e.StencilMode.disabled,It=new _e.ColorMode([xt.ONE,xt.ONE],_e.Color.transparent,[!0,!0,!0,!0]);!function(_e,be,Te,Pe){const pt=_e.gl,vt=be.width*Pe,xt=be.height*Pe;_e.activeTexture.set(pt.TEXTURE1),_e.viewport.set([0,0,vt,xt]);let Tt=Te.heatmapFbo;if(!Tt||Tt&&(Tt.width!==vt||Tt.height!==xt)){Tt&&Tt.destroy();const be=pt.createTexture();pt.bindTexture(pt.TEXTURE_2D,be),pt.texParameteri(pt.TEXTURE_2D,pt.TEXTURE_WRAP_S,pt.CLAMP_TO_EDGE),pt.texParameteri(pt.TEXTURE_2D,pt.TEXTURE_WRAP_T,pt.CLAMP_TO_EDGE),pt.texParameteri(pt.TEXTURE_2D,pt.TEXTURE_MIN_FILTER,pt.LINEAR),pt.texParameteri(pt.TEXTURE_2D,pt.TEXTURE_MAG_FILTER,pt.LINEAR),Tt=Te.heatmapFbo=_e.createFramebuffer(vt,xt,!1),function(_e,be,Te,Pe,pt,vt){const xt=_e.gl;xt.texImage2D(xt.TEXTURE_2D,0,xt.RGBA,pt,vt,0,xt.RGBA,_e.extRenderToTextureHalfFloat?_e.extTextureHalfFloat.HALF_FLOAT_OES:xt.UNSIGNED_BYTE,null),Pe.colorAttachment.set(Te)}(_e,0,be,Tt,vt,xt)}else pt.bindTexture(pt.TEXTURE_2D,Tt.colorAttachment.get()),_e.bindFramebuffer.set(Tt.framebuffer)}(vt,be,Pe,"globe"===be.transform.projection.name?.5:.25),vt.clear({color:_e.Color.transparent});const Mt=be.transform,Lt="globe"===Mt.projection.name,Ft=Lt?["PROJECTION_GLOBE_VIEW"]:null,Ot=Lt?_e.CullFaceMode.frontCCW:_e.CullFaceMode.disabled,Vt=[_e.mercatorXfromLng(Mt.center.lng),_e.mercatorYfromLat(Mt.center.lat)];for(let qt=0;qt<pt.length;qt++){const Wt=pt[qt];if(Te.hasRenderableParent(Wt))continue;const $t=Te.getTile(Wt),Kt=$t.getBucket(Pe);if(!Kt||Kt.projection.name!==Mt.projection.name)continue;const Jt=Kt.programConfigurations.get(Pe.id),Yt=be.useProgram("heatmap",Jt,Ft),{zoom:Qt}=be.transform;be.terrain&&be.terrain.setupElevationDraw($t,Yt),be.prepareDrawProgram(vt,Yt,Wt.toUnwrapped());const an=Mt.projection.createInversionMatrix(Mt,Wt.canonical);Yt.draw(vt,xt.TRIANGLES,_e.DepthMode.disabled,Tt,It,Ot,Vi(be,Wt,$t,an,Vt,Qt,Pe.paint.get("heatmap-intensity")),Pe.id,Kt.layoutVertexBuffer,Kt.indexBuffer,Kt.segments,Pe.paint,be.transform.zoom,Jt,Lt?Kt.globeExtVertexBuffer:null)}vt.viewport.set([0,0,be.width,be.height])}else"translucent"===be.renderPass&&(be.context.setColorMode(be.colorModeForRenderPass()),function(be,Te){const Pe=be.context,pt=Pe.gl,vt=Te.heatmapFbo;if(!vt)return;Pe.activeTexture.set(pt.TEXTURE0),pt.bindTexture(pt.TEXTURE_2D,vt.colorAttachment.get()),Pe.activeTexture.set(pt.TEXTURE1);let xt=Te.colorRampTexture;xt||(xt=Te.colorRampTexture=new _e.Texture(Pe,Te.colorRamp,pt.RGBA)),xt.bind(pt.LINEAR,pt.CLAMP_TO_EDGE),be.useProgram("heatmapTexture").draw(Pe,pt.TRIANGLES,_e.DepthMode.disabled,_e.StencilMode.disabled,be.colorModeForRenderPass(),_e.CullFaceMode.disabled,((_e,be,Te,Pe)=>({u_image:0,u_color_ramp:1,u_opacity:be.paint.get("heatmap-opacity")}))(0,Te),Te.id,be.viewportBuffer,be.quadTriangleIndexBuffer,be.viewportSegments,Te.paint,be.transform.zoom)}(be,Pe))},line:function(be,Te,Pe,pt){if("translucent"!==be.renderPass)return;const vt=Pe.paint.get("line-opacity"),xt=Pe.paint.get("line-width");if(0===vt.constantOr(1)||0===xt.constantOr(1))return;const Tt=be.depthModeForSublayer(0,_e.DepthMode.ReadOnly),It=be.colorModeForRenderPass(),Mt=be.terrain&&be.terrain.renderingToTexture?1:_e.exported.devicePixelRatio,Lt=Pe.paint.get("line-dasharray"),Ft=Lt.constantOr(1),Ot=Pe.layout.get("line-cap"),Vt=Pe.paint.get("line-pattern"),qt=Vt.constantOr(1),Wt=Pe.paint.get("line-gradient"),$t=Pe.getCrossfadeParameters(),Kt=qt?"linePattern":"line",Jt=be.context,Yt=Jt.gl,Qt=(_e=>{const be=[];Hi(_e)&&be.push("RENDER_LINE_DASH"),_e.paint.get("line-gradient")&&be.push("RENDER_LINE_GRADIENT");const Te=_e.paint.get("line-trim-offset");0===Te[0]&&0===Te[1]||be.push("RENDER_LINE_TRIM_OFFSET");const Pe=_e.paint.get("line-pattern").constantOr(1),pt=1!==_e.paint.get("line-opacity").constantOr(1);return!Pe&&pt&&be.push("RENDER_LINE_ALPHA_DISCARD"),be})(Pe);let an=Qt.includes("RENDER_LINE_ALPHA_DISCARD");be.terrain&&be.terrain.clipOrMaskOverlapStencilType()&&(an=!1);for(const vt of pt){const pt=Te.getTile(vt);if(qt&&!pt.patternsLoaded())continue;const xt=pt.getBucket(Pe);if(!xt)continue;be.prepareDrawTile();const cn=xt.programConfigurations.get(Pe.id),hn=be.useProgram(Kt,cn,Qt),pn=Vt.constantOr(null);if(pn&&pt.imageAtlas){const _e=pt.imageAtlas,be=_e.patternPositions[pn.to.toString()],Te=_e.patternPositions[pn.from.toString()];be&&Te&&cn.setConstantPatternPositions(be,Te)}const xn=Lt.constantOr(null),Pn=Ot.constantOr(null);if(!qt&&xn&&Pn&&pt.lineAtlas){const _e=pt.lineAtlas,be=_e.getDash(xn.to,Pn),Te=_e.getDash(xn.from,Pn);be&&Te&&cn.setConstantPatternPositions(be,Te)}let[Ln,Fn]=Pe.paint.get("line-trim-offset");if("round"===Pn||"square"===Pn){const _e=1;Ln!==Fn&&(0===Ln&&(Ln-=_e),1===Fn&&(Fn+=_e))}const jn=be.terrain?vt.projMatrix:null,$n=qt?Xi(be,pt,Pe,$t,jn,Mt):Wi(be,pt,Pe,$t,jn,xt.lineClipsArray.length,Mt,[Ln,Fn]);if(Wt){const pt=xt.gradients[Pe.id];let Tt=pt.texture;if(Pe.gradientVersion!==pt.version){let It=256;if(Pe.stepInterpolant){const Pe=Te.getSource().maxzoom,pt=vt.canonical.z===Pe?Math.ceil(1<<be.transform.maxZoom-vt.canonical.z):1;It=_e.clamp(_e.nextPowerOfTwo(xt.maxLineLength/_e.EXTENT*1024*pt),256,Jt.maxTextureSize)}pt.gradient=_e.renderColorRamp({expression:Pe.gradientExpression(),evaluationKey:"lineProgress",resolution:It,image:pt.gradient||void 0,clips:xt.lineClipsArray}),pt.texture?pt.texture.update(pt.gradient):pt.texture=new _e.Texture(Jt,pt.gradient,Yt.RGBA),pt.version=Pe.gradientVersion,Tt=pt.texture}Jt.activeTexture.set(Yt.TEXTURE1),Tt.bind(Pe.stepInterpolant?Yt.NEAREST:Yt.LINEAR,Yt.CLAMP_TO_EDGE)}Ft&&(Jt.activeTexture.set(Yt.TEXTURE0),pt.lineAtlasTexture.bind(Yt.LINEAR,Yt.REPEAT),cn.updatePaintBuffers($t)),qt&&(Jt.activeTexture.set(Yt.TEXTURE0),pt.imageAtlasTexture.bind(Yt.LINEAR,Yt.CLAMP_TO_EDGE),cn.updatePaintBuffers($t)),be.prepareDrawProgram(Jt,hn,vt.toUnwrapped());const P=Te=>{hn.draw(Jt,Yt.TRIANGLES,Tt,Te,It,_e.CullFaceMode.disabled,$n,Pe.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,Pe.paint,be.transform.zoom,cn,xt.layoutVertexBuffer2)};if(an){const Te=be.stencilModeForClipping(vt).ref;0===Te&&be.terrain&&Jt.clear({stencil:0});const Pe={func:Yt.EQUAL,mask:255};$n.u_alpha_discard_threshold=.8,P(new _e.StencilMode(Pe,Te,255,Yt.KEEP,Yt.KEEP,Yt.INVERT)),$n.u_alpha_discard_threshold=0,P(new _e.StencilMode(Pe,Te,255,Yt.KEEP,Yt.KEEP,Yt.KEEP))}else P(be.stencilModeForClipping(vt))}an&&(be.resetStencilClippingMasks(),be.terrain&&Jt.clear({stencil:0}))},fill:function(be,Te,Pe,pt){const vt=Pe.paint.get("fill-color"),xt=Pe.paint.get("fill-opacity");if(0===xt.constantOr(1))return;const Tt=be.colorModeForRenderPass(),It=Pe.paint.get("fill-pattern"),Mt=be.opaquePassEnabledForLayer()&&!It.constantOr(1)&&1===vt.constantOr(_e.Color.transparent).a&&1===xt.constantOr(0)?"opaque":"translucent";if(be.renderPass===Mt){const vt=be.depthModeForSublayer(1,"opaque"===be.renderPass?_e.DepthMode.ReadWrite:_e.DepthMode.ReadOnly);mo(be,Te,Pe,pt,vt,Tt,!1)}if("translucent"===be.renderPass&&Pe.paint.get("fill-antialias")){const vt=be.depthModeForSublayer(Pe.getPaintProperty("fill-outline-color")?2:0,_e.DepthMode.ReadOnly);mo(be,Te,Pe,pt,vt,Tt,!0)}},"fill-extrusion":function(be,Te,Pe,pt){const vt=Pe.paint.get("fill-extrusion-opacity");if(0!==vt&&"translucent"===be.renderPass){const xt=new _e.DepthMode(be.context.gl.LEQUAL,_e.DepthMode.ReadWrite,be.depthRangeFor3D);if(1!==vt||Pe.paint.get("fill-extrusion-pattern").constantOr(1))po(be,Te,Pe,pt,xt,_e.StencilMode.disabled,_e.ColorMode.disabled),po(be,Te,Pe,pt,xt,be.stencilModeFor3D(),be.colorModeForRenderPass()),be.resetStencilClippingMasks();else{const vt=be.colorModeForRenderPass();po(be,Te,Pe,pt,xt,_e.StencilMode.disabled,vt)}}},hillshade:function(be,Te,Pe,pt){if("offscreen"!==be.renderPass&&"translucent"!==be.renderPass)return;const vt=be.context,xt=be.depthModeForSublayer(0,_e.DepthMode.ReadOnly),Tt=be.colorModeForRenderPass(),It=be.terrain&&be.terrain.renderingToTexture,[Mt,Lt]="translucent"!==be.renderPass||It?[{},pt]:be.stencilConfigForOverlap(pt);for(const pt of Lt){const vt=Te.getTile(pt);if(vt.needsHillshadePrepare&&"offscreen"===be.renderPass)mi(be,vt,Pe,xt,_e.StencilMode.disabled,Tt);else if("translucent"===be.renderPass){const _e=It&&be.terrain?be.terrain.stencilModeForRTTOverlap(pt):Mt[pt.overscaledZ];_i(be,pt,vt,Pe,xt,_e,Tt)}}vt.viewport.set([0,0,be.width,be.height]),be.resetStencilClippingMasks()},raster:function(be,Te,Pe,pt,vt,xt){if("translucent"!==be.renderPass)return;if(0===Pe.paint.get("raster-opacity"))return;if(!pt.length)return;const Tt=be.context,It=Tt.gl,Mt=Te.getSource(),Lt=be.useProgram("raster"),Ft=be.colorModeForRenderPass(),Ot=be.terrain&&be.terrain.renderingToTexture,[Vt,qt]=Mt instanceof $a||Ot?[{},pt]:be.stencilConfigForOverlap(pt),Wt=qt[qt.length-1].overscaledZ,$t=!be.options.moving;for(const pt of qt){const vt=Ot?_e.DepthMode.disabled:be.depthModeForSublayer(pt.overscaledZ-Wt,1===Pe.paint.get("raster-opacity")?_e.DepthMode.ReadWrite:_e.DepthMode.ReadOnly,It.LESS),qt=pt.toUnwrapped(),Kt=Te.getTile(pt);if(Ot&&(!Kt||!Kt.hasData()))continue;const Jt=Ot?pt.projMatrix:be.transform.calculateProjMatrix(qt,$t),Yt=be.terrain&&Ot?be.terrain.stencilModeForRTTOverlap(pt):Vt[pt.overscaledZ],Qt=xt?0:Pe.paint.get("raster-fade-duration");Kt.registerFadeDuration(Qt);const an=Te.findLoadedParent(pt,0),cn=Ti(Kt,an,Te,be.transform,Qt);let hn,pn;be.terrain&&be.terrain.prepareDrawTile();const xn="nearest"===Pe.paint.get("raster-resampling")?It.NEAREST:It.LINEAR;Tt.activeTexture.set(It.TEXTURE0),Kt.texture.bind(xn,It.CLAMP_TO_EDGE),Tt.activeTexture.set(It.TEXTURE1),an?(an.texture.bind(xn,It.CLAMP_TO_EDGE),hn=Math.pow(2,an.tileID.overscaledZ-Kt.tileID.overscaledZ),pn=[Kt.tileID.canonical.x*hn%1,Kt.tileID.canonical.y*hn%1]):Kt.texture.bind(xn,It.CLAMP_TO_EDGE);const Pn=Yi(Jt,pn||[0,0],hn||1,cn,Pe,Mt instanceof $a?Mt.perspectiveTransform:[0,0]);if(be.prepareDrawProgram(Tt,Lt,qt),Mt instanceof $a)Mt.boundsBuffer&&Mt.boundsSegments&&Lt.draw(Tt,It.TRIANGLES,vt,_e.StencilMode.disabled,Ft,_e.CullFaceMode.disabled,Pn,Pe.id,Mt.boundsBuffer,be.quadTriangleIndexBuffer,Mt.boundsSegments);else{const{tileBoundsBuffer:Te,tileBoundsIndexBuffer:pt,tileBoundsSegments:xt}=be.getTileBoundsBuffers(Kt);Lt.draw(Tt,It.TRIANGLES,vt,Yt,Ft,_e.CullFaceMode.disabled,Pn,Pe.id,Te,pt,xt)}}be.resetStencilClippingMasks()},background:function(be,Te,Pe,pt){const vt=Pe.paint.get("background-color"),xt=Pe.paint.get("background-opacity");if(0===xt)return;const Tt=be.context,It=Tt.gl,Mt=be.transform,Lt=Mt.tileSize,Ft=Pe.paint.get("background-pattern");if(be.isPatternMissing(Ft))return;const Ot=!Ft&&1===vt.a&&1===xt&&be.opaquePassEnabledForLayer()?"opaque":"translucent";if(be.renderPass!==Ot)return;const Vt=_e.StencilMode.disabled,qt=be.depthModeForSublayer(0,"opaque"===Ot?_e.DepthMode.ReadWrite:_e.DepthMode.ReadOnly),Wt=be.colorModeForRenderPass(),$t=be.useProgram(Ft?"backgroundPattern":"background");let Kt,Jt=pt;Jt||(Kt=be.getBackgroundTiles(),Jt=Object.values(Kt).map((_e=>_e.tileID))),Ft&&(Tt.activeTexture.set(It.TEXTURE0),be.imageManager.bind(be.context));const Yt=Pe.getCrossfadeParameters();for(const Ot of Jt){const Jt=Ot.toUnwrapped(),Qt=pt?Ot.projMatrix:be.transform.calculateProjMatrix(Jt);be.prepareDrawTile();const an=Te?Te.getTile(Ot):Kt?Kt[Ot.key]:new _e.Tile(Ot,Lt,Mt.zoom,be),cn=Ft?oo(Qt,xt,be,Ft,{tileID:Ot,tileSize:Lt},Yt):io(Qt,xt,vt);be.prepareDrawProgram(Tt,$t,Jt);const{tileBoundsBuffer:hn,tileBoundsIndexBuffer:pn,tileBoundsSegments:xn}=be.getTileBoundsBuffers(an);$t.draw(Tt,It.TRIANGLES,qt,Vt,Wt,_e.CullFaceMode.disabled,cn,Pe.id,hn,pn,xn)}},sky:function(be,Te,Pe){const pt=be.transform,vt="mercator"===pt.projection.name||"globe"===pt.projection.name?1:_e.smoothstep(7,8,pt.zoom),xt=Pe.paint.get("sky-opacity")*vt;if(0===xt)return;const Tt=be.context,It=Pe.paint.get("sky-type"),Mt=new _e.DepthMode(Tt.gl.LEQUAL,_e.DepthMode.ReadOnly,[0,1]),Lt=be.frameCounter/1e3%1;"atmosphere"===It?"offscreen"===be.renderPass?Pe.needsSkyboxCapture(be)&&(function(be,Te,Pe,pt){const vt=be.context,xt=vt.gl;let Tt=Te.skyboxFbo;if(!Tt){Tt=Te.skyboxFbo=vt.createFramebuffer(32,32,!1),Te.skyboxGeometry=new id(vt),Te.skyboxTexture=vt.gl.createTexture(),xt.bindTexture(xt.TEXTURE_CUBE_MAP,Te.skyboxTexture),xt.texParameteri(xt.TEXTURE_CUBE_MAP,xt.TEXTURE_WRAP_S,xt.CLAMP_TO_EDGE),xt.texParameteri(xt.TEXTURE_CUBE_MAP,xt.TEXTURE_WRAP_T,xt.CLAMP_TO_EDGE),xt.texParameteri(xt.TEXTURE_CUBE_MAP,xt.TEXTURE_MIN_FILTER,xt.LINEAR),xt.texParameteri(xt.TEXTURE_CUBE_MAP,xt.TEXTURE_MAG_FILTER,xt.LINEAR);for(let _e=0;_e<6;++_e)xt.texImage2D(xt.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,xt.RGBA,32,32,0,xt.RGBA,xt.UNSIGNED_BYTE,null)}vt.bindFramebuffer.set(Tt.framebuffer),vt.viewport.set([0,0,32,32]);const It=Te.getCenter(be,!0),Mt=be.useProgram("skyboxCapture"),Lt=new Float64Array(16);_e.identity(Lt),_e.rotateY(Lt,Lt,.5*-Math.PI),Do(vt,Te,Mt,Lt,It,0),_e.identity(Lt),_e.rotateY(Lt,Lt,.5*Math.PI),Do(vt,Te,Mt,Lt,It,1),_e.identity(Lt),_e.rotateX(Lt,Lt,.5*-Math.PI),Do(vt,Te,Mt,Lt,It,2),_e.identity(Lt),_e.rotateX(Lt,Lt,.5*Math.PI),Do(vt,Te,Mt,Lt,It,3),_e.identity(Lt),Do(vt,Te,Mt,Lt,It,4),_e.identity(Lt),_e.rotateY(Lt,Lt,Math.PI),Do(vt,Te,Mt,Lt,It,5),vt.viewport.set([0,0,be.width,be.height])}(be,Pe),Pe.markSkyboxValid(be)):"sky"===be.renderPass&&function(be,Te,Pe,pt,vt){const xt=be.context,Tt=xt.gl,It=be.transform,Mt=be.useProgram("skybox");xt.activeTexture.set(Tt.TEXTURE0),Tt.bindTexture(Tt.TEXTURE_CUBE_MAP,Te.skyboxTexture);const Lt=((_e,be,Te,Pe,pt)=>({u_matrix:_e,u_sun_direction:be,u_cubemap:0,u_opacity:Pe,u_temporal_offset:pt}))(It.skyboxMatrix,Te.getCenter(be,!1),0,pt,vt);be.prepareDrawProgram(xt,Mt),Mt.draw(xt,Tt.TRIANGLES,Pe,_e.StencilMode.disabled,be.colorModeForRenderPass(),_e.CullFaceMode.backCW,Lt,"skybox",Te.skyboxGeometry.vertexBuffer,Te.skyboxGeometry.indexBuffer,Te.skyboxGeometry.segment)}(be,Pe,Mt,xt,Lt):"gradient"===It&&"sky"===be.renderPass&&function(be,Te,Pe,pt,vt){const xt=be.context,Tt=xt.gl,It=be.transform,Mt=be.useProgram("skyboxGradient");Te.skyboxGeometry||(Te.skyboxGeometry=new id(xt)),xt.activeTexture.set(Tt.TEXTURE0);let Lt=Te.colorRampTexture;Lt||(Lt=Te.colorRampTexture=new _e.Texture(xt,Te.colorRamp,Tt.RGBA)),Lt.bind(Tt.LINEAR,Tt.CLAMP_TO_EDGE);const Ft=((be,Te,Pe,pt,vt)=>({u_matrix:be,u_color_ramp:0,u_center_direction:Te,u_radius:_e.degToRad(Pe),u_opacity:pt,u_temporal_offset:vt}))(It.skyboxMatrix,Te.getCenter(be,!1),Te.paint.get("sky-gradient-radius"),pt,vt);be.prepareDrawProgram(xt,Mt),Mt.draw(xt,Tt.TRIANGLES,Pe,_e.StencilMode.disabled,be.colorModeForRenderPass(),_e.CullFaceMode.backCW,Ft,"skyboxGradient",Te.skyboxGeometry.vertexBuffer,Te.skyboxGeometry.indexBuffer,Te.skyboxGeometry.segment)}(be,Pe,Mt,xt,Lt)},debug:function(_e,be,Te){for(let Pe=0;Pe<Te.length;Pe++)Co(_e,be,Te[Pe])},custom:function(be,Te,Pe){const pt=be.context,vt=Pe.implementation;if(be.transform.projection.unsupportedLayers&&be.transform.projection.unsupportedLayers.includes("custom"))_e.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===be.renderPass){const _e=vt.prerender;_e&&(be.setCustomLayerDefaults(),pt.setColorMode(be.colorModeForRenderPass()),_e.call(vt,pt.gl,be.transform.customLayerMatrix()),pt.setDirty(),be.setBaseState())}else if("translucent"===be.renderPass){be.setCustomLayerDefaults(),pt.setColorMode(be.colorModeForRenderPass()),pt.setStencilMode(_e.StencilMode.disabled);const Te="3d"===vt.renderingMode?new _e.DepthMode(be.context.gl.LEQUAL,_e.DepthMode.ReadWrite,be.depthRangeFor3D):be.depthModeForSublayer(0,_e.DepthMode.ReadOnly);pt.setDepthMode(Te),vt.render(pt.gl,be.transform.customLayerMatrix()),pt.setDirty(),be.setBaseState(),pt.bindFramebuffer.set(null)}}};class cd{constructor(be,Te){this.context=new Na(be),this.transform=Te,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=_e.SourceCache.maxUnderzooming+_e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new vo,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(_e,be){const Te=!!_e&&!!_e.terrain&&this.transform.projection.supportsTerrain;if(!(Te||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Fs(this,_e));const Pe=this._terrain;this.transform.elevation=Te?Pe:null,Pe.update(_e,this.transform,be)}_updateFog(_e){const be=_e.fog;if(!be||"globe"===this.transform.projection.name||be.getOpacity(this.transform.pitch)<1||be.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[Te,Pe]=be.getFovAdjustedRange(this.transform._fov);if(Te>Pe)return void(this.transform.fogCullDistSq=null);const pt=Te+.78*(Pe-Te);this.transform.fogCullDistSq=pt*pt}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(be,Te){if(this.width=be*_e.exported.devicePixelRatio,this.height=Te*_e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _e of this.style.order)this.style._layers[_e].resize()}setup(){const be=this.context,Te=new _e.StructArrayLayout2i4;Te.emplaceBack(0,0),Te.emplaceBack(_e.EXTENT,0),Te.emplaceBack(0,_e.EXTENT),Te.emplaceBack(_e.EXTENT,_e.EXTENT),this.tileExtentBuffer=be.createVertexBuffer(Te,_e.posAttributes.members),this.tileExtentSegments=_e.SegmentVector.simpleSegment(0,0,4,2);const Pe=new _e.StructArrayLayout2i4;Pe.emplaceBack(0,0),Pe.emplaceBack(_e.EXTENT,0),Pe.emplaceBack(0,_e.EXTENT),Pe.emplaceBack(_e.EXTENT,_e.EXTENT),this.debugBuffer=be.createVertexBuffer(Pe,_e.posAttributes.members),this.debugSegments=_e.SegmentVector.simpleSegment(0,0,4,5);const pt=new _e.StructArrayLayout2i4;pt.emplaceBack(-1,-1),pt.emplaceBack(1,-1),pt.emplaceBack(-1,1),pt.emplaceBack(1,1),this.viewportBuffer=be.createVertexBuffer(pt,_e.posAttributes.members),this.viewportSegments=_e.SegmentVector.simpleSegment(0,0,4,2);const vt=new _e.StructArrayLayout4i8;vt.emplaceBack(0,0,0,0),vt.emplaceBack(_e.EXTENT,0,_e.EXTENT,0),vt.emplaceBack(0,_e.EXTENT,0,_e.EXTENT),vt.emplaceBack(_e.EXTENT,_e.EXTENT,_e.EXTENT,_e.EXTENT),this.mercatorBoundsBuffer=be.createVertexBuffer(vt,_e.boundsAttributes.members),this.mercatorBoundsSegments=_e.SegmentVector.simpleSegment(0,0,4,2);const xt=new _e.StructArrayLayout3ui6;xt.emplaceBack(0,1,2),xt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=be.createIndexBuffer(xt);const Tt=new _e.StructArrayLayout1ui2;for(const _e of[0,1,3,2,0])Tt.emplaceBack(_e);this.debugIndexBuffer=be.createIndexBuffer(Tt),this.emptyTexture=new _e.Texture(be,new _e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),be.gl.RGBA),this.identityMat=_e.create();const It=this.context.gl;this.stencilClearMode=new _e.StencilMode({func:It.ALWAYS,mask:0},0,255,It.ZERO,It.ZERO,It.ZERO),this.loadTimeStamps.push(_e.window.performance.now()),this.atmosphereBuffer=new dd(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(_e){return _e._makeTileBoundsBuffers(this.context,this.transform.projection),_e._tileBoundsBuffer?{tileBoundsBuffer:_e._tileBoundsBuffer,tileBoundsIndexBuffer:_e._tileBoundsIndexBuffer,tileBoundsSegments:_e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const be=this.context,Te=be.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(be,Te.TRIANGLES,_e.DepthMode.disabled,this.stencilClearMode,_e.ColorMode.disabled,_e.CullFaceMode.disabled,wi(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(be,Te,Pe){if(!Te||this.currentStencilSource===Te.id||!be.isTileClipped()||!Pe||0===Pe.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let _e=!1;for(const be of Pe)if(void 0===this._tileClippingMaskIDs[be.key]){_e=!0;break}if(!_e)return}this.currentStencilSource=Te.id;const pt=this.context,vt=pt.gl;this.nextStencilID+Pe.length>256&&this.clearStencil(),pt.setColorMode(_e.ColorMode.disabled),pt.setDepthMode(_e.DepthMode.disabled);const xt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const be of Pe){const Pe=Te.getTile(be),Tt=this._tileClippingMaskIDs[be.key]=this.nextStencilID++,{tileBoundsBuffer:It,tileBoundsIndexBuffer:Mt,tileBoundsSegments:Lt}=this.getTileBoundsBuffers(Pe);xt.draw(pt,vt.TRIANGLES,_e.DepthMode.disabled,new _e.StencilMode({func:vt.ALWAYS,mask:0},Tt,255,vt.KEEP,vt.KEEP,vt.REPLACE),_e.ColorMode.disabled,_e.CullFaceMode.disabled,wi(be.projMatrix),"$clipping",It,Mt,Lt)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const be=this.nextStencilID++,Te=this.context.gl;return new _e.StencilMode({func:Te.NOTEQUAL,mask:255},be,255,Te.KEEP,Te.KEEP,Te.REPLACE)}stencilModeForClipping(be){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(be);const Te=this.context.gl;return new _e.StencilMode({func:Te.EQUAL,mask:255},this._tileClippingMaskIDs[be.key],0,Te.KEEP,Te.KEEP,Te.REPLACE)}stencilConfigForOverlap(be){const Te=this.context.gl,Pe=be.sort(((_e,be)=>be.overscaledZ-_e.overscaledZ)),pt=Pe[Pe.length-1].overscaledZ,vt=Pe[0].overscaledZ-pt+1;if(vt>1){this.currentStencilSource=void 0,this.nextStencilID+vt>256&&this.clearStencil();const be={};for(let Pe=0;Pe<vt;Pe++)be[Pe+pt]=new _e.StencilMode({func:Te.GEQUAL,mask:255},Pe+this.nextStencilID,255,Te.KEEP,Te.KEEP,Te.REPLACE);return this.nextStencilID+=vt,[be,Pe]}return[{[pt]:_e.StencilMode.disabled},Pe]}colorModeForRenderPass(){const be=this.context.gl;if(this._showOverdrawInspector){const Te=1/8;return new _e.ColorMode([be.CONSTANT_COLOR,be.ONE],new _e.Color(Te,Te,Te,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?_e.ColorMode.unblended:_e.ColorMode.alphaBlended}depthModeForSublayer(be,Te,Pe){if(!this.opaquePassEnabledForLayer())return _e.DepthMode.disabled;const pt=1-((1+this.currentLayer)*this.numSublayers+be)*this.depthEpsilon;return new _e.DepthMode(Pe||this.context.gl.LEQUAL,Te,[pt,pt])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(be,Te){this.style=be,this.options=Te,this.lineAtlas=be.lineAtlas,this.imageManager=be.imageManager,this.glyphManager=be.glyphManager,this.symbolFadeChange=be.placement.symbolFadeChange(_e.exported.now()),this.imageManager.beginFrame();const Pe=this.style.order,pt=this.style._sourceCaches;for(const _e in pt){const be=pt[_e];be.used&&be.prepare(this.context)}const vt={},xt={},Tt={};for(const _e in pt){const be=pt[_e];vt[_e]=be.getVisibleCoordinates(),xt[_e]=vt[_e].slice().reverse(),Tt[_e]=be.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let _e=0;_e<Pe.length;_e++)if(this.style._layers[Pe[_e]].is3D()){this.opaquePassCutoff=_e;break}if(this.terrain&&(this.terrain.updateTileBinding(Tt),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new _e.GlobeSharedBuffers(this.context)),_e.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const _e of Pe){const Te=this.style._layers[_e],Pe=be._getLayerSourceCache(Te);if(!Te.hasOffscreenPass()||Te.isHidden(this.transform.zoom))continue;const pt=Pe?xt[Pe.id]:void 0;("custom"===Te.type||Te.isSky()||pt&&pt.length)&&this.renderLayer(this,Pe,Te,pt)}if(this.depthRangeFor3D=[0,1-(be.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:Te.showOverdrawInspector?_e.Color.black:_e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=Te.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=Pe.length-1;this.currentLayer>=0;this.currentLayer--){const _e=this.style._layers[Pe[this.currentLayer]],Te=be._getLayerSourceCache(_e);if(_e.isSky())continue;const pt=Te?xt[Te.id]:void 0;this._renderTileClippingMasks(_e,Te,pt),this.renderLayer(this,Te,_e,pt)}if(this.style.fog&&this.transform.projection.supportsFog&&function(be,Te){const Pe=be.context,pt=Pe.gl,vt=be.transform,xt=new _e.DepthMode(pt.LEQUAL,_e.DepthMode.ReadOnly,[0,1]),Tt=be.useProgram("globeAtmosphere",null,"globe"===vt.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),It=_e.globeToMercatorTransition(vt.zoom),Mt=Te.properties.get("color").toArray01(),Lt=Te.properties.get("high-color").toArray01(),Ft=Te.properties.get("space-color").toArray01PremultipliedAlpha(),Ot=_e.identity$1([]);_e.rotateY$1(Ot,Ot,-_e.degToRad(vt._center.lng)),_e.rotateX$1(Ot,Ot,_e.degToRad(vt._center.lat)),_e.rotateZ$1(Ot,Ot,vt.angle),_e.rotateX$1(Ot,Ot,-vt._pitch);const Vt=_e.fromQuat(new Float32Array(16),Ot),qt=_e.mapValue(Te.properties.get("star-intensity"),0,1,0,.25),Wt=5e-4,$t=_e.mapValue(Te.properties.get("horizon-blend"),0,1,Wt,.25),Kt=_e.globeUseCustomAntiAliasing(be,Pe,vt)&&$t===Wt?vt.worldSize/(2*Math.PI*1.025)-1:vt.globeRadius,Jt=be.frameCounter/1e3%1,Yt=_e.length(vt.globeCenterInViewSpace),Qt=Math.sqrt(Math.pow(Yt,2)-Math.pow(Kt,2)),an=Math.acos(Qt/Yt),cn=((be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft,Ot,Vt,qt)=>({u_frustum_tl:be,u_frustum_tr:Te,u_frustum_br:Pe,u_frustum_bl:pt,u_horizon:vt,u_transition:xt,u_fadeout_range:Tt,u_color:It,u_high_color:Mt,u_space_color:Lt,u_star_intensity:Ft,u_star_size:5*_e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:Ot,u_horizon_angle:Vt,u_rotation_matrix:qt}))(vt.frustumCorners.TL,vt.frustumCorners.TR,vt.frustumCorners.BR,vt.frustumCorners.BL,vt.frustumCorners.horizon,It,$t,Mt,Lt,Ft,qt,Jt,an,Vt);be.prepareDrawProgram(Pe,Tt);const hn=be.atmosphereBuffer;hn&&Tt.draw(Pe,pt.TRIANGLES,xt,_e.StencilMode.disabled,_e.ColorMode.alphaBlended,_e.CullFaceMode.backCW,cn,"skybox",hn.vertexBuffer,hn.indexBuffer,hn.segments)}(this,this.style.fog),this.renderPass="sky",(_e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<Pe.length;this.currentLayer++){const _e=this.style._layers[Pe[this.currentLayer]],Te=be._getLayerSourceCache(_e);_e.isSky()&&this.renderLayer(this,Te,_e,Te?xt[Te.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<Pe.length;){const _e=this.style._layers[Pe[this.currentLayer]],Te=be._getLayerSourceCache(_e);if(_e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(_e)){if(_e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const pt=Te?("symbol"===_e.type?Tt:xt)[Te.id]:void 0;this._renderTileClippingMasks(_e,Te,Te?vt[Te.id]:void 0),this.renderLayer(this,Te,_e,pt),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let Te=null;_e.values(this.style._layers).forEach((_e=>{const Pe=be._getLayerSourceCache(_e);Pe&&!_e.isHidden(this.transform.zoom)&&(!Te||Te.getSource().maxzoom<Pe.getSource().maxzoom)&&(Te=Pe)})),Te&&this.options.showTileBoundaries&&ld.debug(this,Te,Te.getVisibleCoordinates())}this.options.showPadding&&function(_e){const be=_e.transform.padding;wo(_e,_e.transform.height-(be.top||0),3,Ws),wo(_e,be.bottom||0,3,$s),To(_e,be.left||0,3,Xs),To(_e,_e.transform.width-(be.right||0),3,Ks);const Te=_e.transform.centerPoint;!function(_e,be,Te,Pe){Eo(_e,be-1,Te-10,2,20,Pe),Eo(_e,be-10,Te-1,20,2,Pe)}(_e,Te.x,_e.transform.height-Te.y,Js)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(_e.window.performance.now()),this.saveCanvasCopy())}}renderLayer(_e,be,Te,Pe){Te.isHidden(this.transform.zoom)||("background"===Te.type||"sky"===Te.type||"custom"===Te.type||Pe&&Pe.length)&&(this.id=Te.id,this.gpuTimingStart(Te),_e.transform.projection.unsupportedLayers&&_e.transform.projection.unsupportedLayers.includes(Te.type)||ld[Te.type](_e,be,Te,Pe,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(_e){if(!this.options.gpuTiming)return;const be=this.context.extTimerQuery;let Te=this.gpuTimers[_e.id];Te||(Te=this.gpuTimers[_e.id]={calls:0,cpuTime:0,query:be.createQueryEXT()}),Te.calls++,be.beginQueryEXT(be.TIME_ELAPSED_EXT,Te.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const _e=this.context.extTimerQuery,be=_e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(be),_e.beginQueryEXT(_e.TIME_ELAPSED_EXT,be)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const _e=this.context.extTimerQuery;_e.endQueryEXT(_e.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const _e=this.context.extTimerQuery;_e.endQueryEXT(_e.TIME_ELAPSED_EXT)}collectGpuTimers(){const _e=this.gpuTimers;return this.gpuTimers={},_e}collectDeferredRenderGpuQueries(){const _e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],_e}queryGpuTimers(_e){const be={};for(const Te in _e){const Pe=_e[Te],pt=this.context.extTimerQuery,vt=pt.getQueryObjectEXT(Pe.query,pt.QUERY_RESULT_EXT)/1e6;pt.deleteQueryEXT(Pe.query),be[Te]=vt}return be}queryGpuTimeDeferredRender(_e){if(!this.options.gpuTimingDeferredRender)return 0;const be=this.context.extTimerQuery;let Te=0;for(const Pe of _e)Te+=be.getQueryObjectEXT(Pe,be.QUERY_RESULT_EXT)/1e6,be.deleteQueryEXT(Pe);return Te}translatePosMatrix(be,Te,Pe,pt,vt){if(!Pe[0]&&!Pe[1])return be;const xt=vt?"map"===pt?this.transform.angle:0:"viewport"===pt?-this.transform.angle:0;if(xt){const _e=Math.sin(xt),be=Math.cos(xt);Pe=[Pe[0]*be-Pe[1]*_e,Pe[0]*_e+Pe[1]*be]}const Tt=[vt?Pe[0]:L(Te,Pe[0],this.transform.zoom),vt?Pe[1]:L(Te,Pe[1],this.transform.zoom),0],It=new Float32Array(16);return _e.translate(It,be,Tt),It}saveTileTexture(_e){const be=this._tileTextures[_e.size[0]];be?be.push(_e):this._tileTextures[_e.size[0]]=[_e]}getTileTexture(_e){const be=this._tileTextures[_e];return be&&be.length>0?be.pop():null}isPatternMissing(_e){if(!_e)return!1;if(!_e.from||!_e.to)return!0;const be=this.imageManager.getPattern(_e.from.toString()),Te=this.imageManager.getPattern(_e.to.toString());return!be||!Te}currentGlobalDefines(){const _e=this.terrain&&this.terrain.renderingToTexture,be=this.style&&this.style.fog,Te=[];return this.terrain&&!this.terrain.renderingToTexture&&Te.push("TERRAIN"),be&&!_e&&0!==be.getOpacity(this.transform.pitch)&&Te.push("FOG"),_e&&Te.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&Te.push("OVERDRAW_INSPECTOR"),Te}useProgram(_e,be,Te){this.cache=this.cache||{};const Pe=Te||[],pt=this.currentGlobalDefines().concat(Pe),vt=Bs.cacheKey(_e,pt,be);return this.cache[vt]||(this.cache[vt]=new Bs(this.context,_e,Cs[_e],be,Us[_e],pt)),this.cache[vt]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const _e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(_e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=_e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new _e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(be,Te,Pe){if(this.terrain&&this.terrain.renderingToTexture)return;const pt=this.style.fog;if(pt){const vt=pt.getOpacity(this.transform.pitch),xt=((be,Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft)=>{const Ot=be.transform,Vt=Te.properties.get("color").toArray01();Vt[3]=pt;const qt=be.frameCounter/1e3%1;return{u_fog_matrix:Pe?Ot.calculateFogTileMatrix(Pe):be.identityMat,u_fog_range:Te.getFovAdjustedRange(Ot._fov),u_fog_color:Vt,u_fog_horizon_blend:Te.properties.get("horizon-blend"),u_fog_temporal_offset:qt,u_frustum_tl:vt,u_frustum_tr:xt,u_frustum_br:Tt,u_frustum_bl:It,u_globe_pos:Mt,u_globe_radius:Lt,u_viewport:Ft,u_globe_transition:_e.globeToMercatorTransition(Ot.zoom),u_is_globe:+("globe"===Ot.projection.name)}})(this,pt,Pe,vt,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*_e.exported.devicePixelRatio,this.transform.height*_e.exported.devicePixelRatio]);Te.setFogUniformValues(be,xt)}}setTileLoadedFlag(_e){this.tileLoaded=_e}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const _e=this.context.gl,be=_e.createTexture();return _e.bindTexture(_e.TEXTURE_2D,be),_e.copyTexImage2D(_e.TEXTURE_2D,0,_e.RGBA,0,0,_e.drawingBufferWidth,_e.drawingBufferHeight,0),be}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const _e=this.style&&this.style.fog;return!!_e&&0!==_e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const be=this._backgroundTiles,Te=this._backgroundTiles={},Pe=this.transform.coveringTiles({tileSize:512});for(const pt of Pe)Te[pt.key]=be[pt.key]||new _e.Tile(pt,512,this.transform.tileZoom,this);return Te}clearBackgroundTiles(){this._backgroundTiles={}}}class vd{constructor(_e=0,be=0,Te=0,Pe=0){if(isNaN(_e)||_e<0||isNaN(be)||be<0||isNaN(Te)||Te<0||isNaN(Pe)||Pe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=_e,this.bottom=be,this.left=Te,this.right=Pe}interpolate(be,Te,Pe){return null!=Te.top&&null!=be.top&&(this.top=_e.number(be.top,Te.top,Pe)),null!=Te.bottom&&null!=be.bottom&&(this.bottom=_e.number(be.bottom,Te.bottom,Pe)),null!=Te.left&&null!=be.left&&(this.left=_e.number(be.left,Te.left,Pe)),null!=Te.right&&null!=be.right&&(this.right=_e.number(be.right,Te.right,Pe)),this}getCenter(be,Te){const Pe=_e.clamp((this.left+be-this.right)/2,0,be),pt=_e.clamp((this.top+Te-this.bottom)/2,0,Te);return new _e.pointGeometry(Pe,pt)}equals(_e){return this.top===_e.top&&this.bottom===_e.bottom&&this.left===_e.left&&this.right===_e.right}clone(){return new vd(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function ko(be,Te){const Pe=_e.getColumn(be,3);_e.fromQuat(be,Te),_e.setColumn(be,3,Pe)}function Bo(be,Te){const Pe=_e.identity$1([]);return _e.rotateZ$1(Pe,Pe,-Te),_e.rotateX$1(Pe,Pe,-be),Pe}function Fo(be,Te){const Pe=[be[0],be[1],0],pt=[Te[0],Te[1],0];if(_e.length(Pe)>=1e-15){const be=_e.normalize([],Pe);_e.scale$2(pt,be,_e.dot(pt,be)),Te[0]=pt[0],Te[1]=pt[1]}const vt=_e.cross([],Te,be);if(_e.len(vt)<1e-15)return null;const xt=Math.atan2(-vt[1],vt[0]);return Bo(Math.atan2(Math.sqrt(be[0]*be[0]+be[1]*be[1]),-be[2]),xt)}class wd{constructor(_e,be){this.position=_e,this.orientation=be}get position(){return this._position}set position(be){if(be){const Te=be instanceof _e.MercatorCoordinate?be:new _e.MercatorCoordinate(be[0],be[1],be[2]);this._renderWorldCopies&&(Te.x=_e.wrap(Te.x,0,1)),this._position=Te}else this._position=null}lookAtPoint(be,Te){if(this.orientation=null,!this.position)return;const Pe=this._elevation?this._elevation.getAtPointOrZero(_e.MercatorCoordinate.fromLngLat(be)):0,pt=this.position,vt=_e.MercatorCoordinate.fromLngLat(be,Pe),xt=[vt.x-pt.x,vt.y-pt.y,vt.z-pt.z];Te||(Te=[0,0,1]),Te[2]=Math.abs(Te[2]),this.orientation=Fo(xt,Te)}setPitchBearing(be,Te){this.orientation=Bo(_e.degToRad(be),_e.degToRad(-Te))}}class Ed{constructor(be,Te){this._transform=_e.identity([]),this.orientation=Te,this.position=be}get mercatorPosition(){const be=this.position;return new _e.MercatorCoordinate(be[0],be[1],be[2])}get position(){const be=_e.getColumn(this._transform,3);return[be[0],be[1],be[2]]}set position(be){var Te;be&&_e.setColumn(this._transform,3,[(Te=be)[0],Te[1],Te[2],1])}get orientation(){return this._orientation}set orientation(be){this._orientation=be||_e.identity$1([]),be&&ko(this._transform,this._orientation)}getPitchBearing(){const _e=this.forward(),be=this.right();return{bearing:Math.atan2(-be[1],be[0]),pitch:Math.atan2(Math.sqrt(_e[0]*_e[0]+_e[1]*_e[1]),-_e[2])}}setPitchBearing(_e,be){this._orientation=Bo(_e,be),ko(this._transform,this._orientation)}forward(){const be=_e.getColumn(this._transform,2);return[-be[0],-be[1],-be[2]]}up(){const be=_e.getColumn(this._transform,1);return[-be[0],-be[1],-be[2]]}right(){const be=_e.getColumn(this._transform,0);return[be[0],be[1],be[2]]}getCameraToWorld(be,Te){const Pe=new Float64Array(16);return _e.invert(Pe,this.getWorldToCamera(be,Te)),Pe}getWorldToCameraPosition(be,Te,Pe){const pt=this.position;_e.scale$2(pt,pt,-be);const vt=new Float64Array(16);return _e.fromScaling(vt,[Pe,Pe,Pe]),_e.translate(vt,vt,pt),vt[10]*=Te,vt}getWorldToCamera(be,Te){const Pe=new Float64Array(16),pt=new Float64Array(4),vt=this.position;return _e.conjugate(pt,this._orientation),_e.scale$2(vt,vt,-be),_e.fromQuat(Pe,pt),_e.translate(Pe,Pe,vt),Pe[1]*=-1,Pe[5]*=-1,Pe[9]*=-1,Pe[13]*=-1,Pe[8]*=Te,Pe[9]*=Te,Pe[10]*=Te,Pe[11]*=Te,Pe}getCameraToClipPerspective(be,Te,Pe,pt){const vt=new Float64Array(16);return _e.perspective(vt,be,Te,Pe,pt),vt}getDistanceToElevation(be){const Te=0===be?0:_e.mercatorZfromAltitude(be,this.position[1]),Pe=this.forward();return(Te-this.position[2])/Pe[2]}clone(){return new Ed([...this.position],[...this.orientation])}}function Go(be,Te){const Pe=Zo(be.projection,be.zoom,be.width,be.height),pt=function(be,Te,Pe,pt,vt){const xt=new _e.LngLat(Pe.lng-180*Sd,Pe.lat),Tt=new _e.LngLat(Pe.lng+180*Sd,Pe.lat),It=be.project(xt.lng,xt.lat),Mt=be.project(Tt.lng,Tt.lat),Lt=-Math.atan2(Mt.y-It.y,Mt.x-It.x),Ft=_e.MercatorCoordinate.fromLngLat(Pe);Ft.y=_e.clamp(Ft.y,-.999975,.999975);const Ot=Ft.toLngLat(),Vt=be.project(Ot.lng,Ot.lat),qt=_e.MercatorCoordinate.fromLngLat(Ot);qt.x+=Sd;const Wt=qt.toLngLat(),$t=be.project(Wt.lng,Wt.lat),Kt=Xo($t.x-Vt.x,$t.y-Vt.y,Lt),Jt=_e.MercatorCoordinate.fromLngLat(Ot);Jt.y+=Sd;const Yt=Jt.toLngLat(),Qt=be.project(Yt.lng,Yt.lat),an=Xo(Qt.x-Vt.x,Qt.y-Vt.y,Lt),cn=Math.abs(Kt.x)/Math.abs(an.y),hn=_e.identity([]);_e.rotateZ(hn,hn,-Lt*(1-(vt?0:pt)));const pn=_e.identity([]);return _e.scale(pn,pn,[1,1-(1-cn)*pt,1]),pn[4]=-an.x/an.y*pt,_e.rotateZ(pn,pn,Lt),_e.multiply(pn,hn,pn),pn}(be.projection,0,be.center,Pe,Te),vt=jo(be);return _e.scale(pt,pt,[vt,vt,1]),pt}function jo(be){const Te=be.projection,Pe=Zo(be.projection,be.zoom,be.width,be.height),pt=Wo(Te,be.center),vt=Wo(Te,_e.LngLat.convert(Te.center));return Math.pow(2,pt*Pe+(1-Pe)*vt)}function Zo(be,Te,Pe,pt,vt=1/0){const xt=be.range;if(!xt)return 0;const Tt=Math.min(vt,Math.max(Pe,pt)),It=Math.log(Tt/1024)/Math.LN2;return _e.smoothstep(xt[0]+It,xt[1]+It,Te)}const Sd=1/4e4;function Wo(be,Te){const Pe=_e.clamp(Te.lat,-_e.MAX_MERCATOR_LATITUDE,_e.MAX_MERCATOR_LATITUDE),pt=new _e.LngLat(Te.lng-180*Sd,Pe),vt=new _e.LngLat(Te.lng+180*Sd,Pe),xt=be.project(pt.lng,Pe),Tt=be.project(vt.lng,Pe),It=_e.MercatorCoordinate.fromLngLat(pt),Mt=_e.MercatorCoordinate.fromLngLat(vt),Lt=Tt.x-xt.x,Ft=Tt.y-xt.y,Ot=Mt.x-It.x,Vt=Mt.y-It.y,qt=Math.sqrt((Ot*Ot+Vt*Vt)/(Lt*Lt+Ft*Ft));return Math.log(qt)/Math.LN2}function Xo(_e,be,Te){const Pe=Math.cos(Te),pt=Math.sin(Te);return{x:_e*Pe-be*pt,y:_e*pt+be*Pe}}class Cd{constructor(be,Te,Pe,pt,vt,xt,Tt){this.tileSize=512,this._renderWorldCopies=void 0===vt||vt,this._minZoom=be||0,this._maxZoom=Te||22,this._minPitch=null==Pe?0:Pe,this._maxPitch=null==pt?60:pt,this.setProjection(xt),this.setMaxBounds(Tt),this.width=0,this.height=0,this._center=new _e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new vd,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Ed,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._projectionScaler=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const _e=new Cd(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return _e._elevation=this._elevation,_e._centerAltitude=this._centerAltitude,_e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,_e.tileSize=this.tileSize,_e.width=this.width,_e.height=this.height,_e.cameraElevationReference=this.cameraElevationReference,_e._center=this._center,_e._setZoom(this.zoom),_e._seaLevelZoom=this._seaLevelZoom,_e.angle=this.angle,_e._fov=this._fov,_e._pitch=this._pitch,_e._nearZ=this._nearZ,_e._farZ=this._farZ,_e._averageElevation=this._averageElevation,_e._unmodified=this._unmodified,_e._edgeInsets=this._edgeInsets.clone(),_e._camera=this._camera.clone(),_e._calcMatrices(),_e.freezeTileCoverage=this.freezeTileCoverage,_e.frustumCorners=this.frustumCorners,_e}get elevation(){return this._elevation}set elevation(_e){this._elevation!==_e&&(this._elevation=_e,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(_e){const be=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||be)&&this._updateCameraOnTerrain(),(_e||be)&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return _e.pick(this.projection,["name","center","parallels"])}setProjection(be){this.projectionOptions=be||{name:"mercator"};const Te=this.projection?this.getProjection():void 0;this.projection=_e.getProjection(this.projectionOptions);const Pe=!t(Te,this.getProjection());return Pe&&this._calcMatrices(),Pe}get minZoom(){return this._minZoom}set minZoom(_e){this._minZoom!==_e&&(this._minZoom=_e,this.zoom=Math.max(this.zoom,_e))}get maxZoom(){return this._maxZoom}set maxZoom(_e){this._maxZoom!==_e&&(this._maxZoom=_e,this.zoom=Math.min(this.zoom,_e))}get minPitch(){return this._minPitch}set minPitch(_e){this._minPitch!==_e&&(this._minPitch=_e,this.pitch=Math.max(this.pitch,_e))}get maxPitch(){return this._maxPitch}set maxPitch(_e){this._maxPitch!==_e&&(this._maxPitch=_e,this.pitch=Math.min(this.pitch,_e))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(_e){void 0===_e?_e=!0:null===_e&&(_e=!1),this._renderWorldCopies=_e}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const _e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(_e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return _e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new _e.pointGeometry(this.width,this.height)}get bearing(){return _e.wrap(this.rotation,-180,180)}set bearing(_e){this.rotation=_e}get rotation(){return-this.angle/Math.PI*180}set rotation(be){const Te=-be*Math.PI/180;var Pe;this.angle!==Te&&(this._unmodified=!1,this.angle=Te,this._calcMatrices(),this.rotationMatrix=(Pe=new _e.ARRAY_TYPE(4),_e.ARRAY_TYPE!=Float32Array&&(Pe[1]=0,Pe[2]=0),Pe[0]=1,Pe[3]=1,Pe),function(_e,be,Te){var Pe=be[0],pt=be[1],vt=be[2],xt=be[3],Tt=Math.sin(Te),It=Math.cos(Te);_e[0]=Pe*It+vt*Tt,_e[1]=pt*It+xt*Tt,_e[2]=Pe*-Tt+vt*It,_e[3]=pt*-Tt+xt*It}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(be){const Te=_e.clamp(be,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Te&&(this._unmodified=!1,this._pitch=Te,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(_e){_e=Math.max(.01,Math.min(60,_e)),this._fov!==_e&&(this._unmodified=!1,this._fov=_e/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(_e){this._averageElevation=_e,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(_e){const be=Math.min(Math.max(_e,this.minZoom),this.maxZoom);this._zoom!==be&&(this._unmodified=!1,this._setZoom(be),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(_e){this._zoom=_e,this.scale=this.zoomScale(_e),this.tileZoom=Math.floor(_e),this.zoomFraction=_e-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const _e=this._elevation;this._centerAltitude=_e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=_e.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const be=this._elevation,Te=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],Pe=this.horizonLineFromTop();let pt=0,vt=0;for(let xt=0;xt<Te.length;xt++){const Tt=new _e.pointGeometry(Te[xt][0]*this.width,Pe+Te[xt][1]*(this.height-Pe)),It=be.pointCoordinate(Tt);if(!It)continue;const Mt=1/Math.hypot(It[0]-this._camera.position[0],It[1]-this._camera.position[1]);pt+=It[3]*Mt,vt+=Mt}return 0===vt?NaN:pt/vt}get center(){return this._center}set center(_e){_e.lat===this._center.lat&&_e.lng===this._center.lng||(this._unmodified=!1,this._center=_e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const _e=this._seaLevelZoom,be=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),Te=this.pixelsPerMeter/this.worldSize*be,Pe=this._mercatorZfromZoom(_e),pt=this._mercatorZfromZoom(this._maxZoom),vt=Math.max(Pe-Te,pt);this._setZoom(this._zoomFromMercatorZ(vt))}get padding(){return this._edgeInsets.toJSON()}set padding(_e){this._edgeInsets.equals(_e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,_e,1),this._calcMatrices())}computeZoomRelativeTo(be){const Te=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,be.toAltitude()));let Pe;Pe=be.z<this._camera.position[2]?[Te.x,Te.y,Te.z]:[be.x,be.y,be.z];const pt=_e.length(_e.sub([],this._camera.position,Pe));return _e.clamp(this._zoomFromMercatorZ(pt),this._minZoom,this._maxZoom)}setFreeCameraOptions(be){if(!this.height)return;if(!be.position&&!be.orientation)return;this._updateCameraState();let Te=!1;if(be.orientation&&!_e.exactEquals(be.orientation,this._camera.orientation)&&(Te=this._setCameraOrientation(be.orientation)),be.position){const Pe=[be.position.x,be.position.y,be.position.z];_e.exactEquals$1(Pe,this._camera.position)||(this._setCameraPosition(Pe),Te=!0)}Te&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const be=this._camera.position,Te=new wd;return Te.position=new _e.MercatorCoordinate(be[0],be[1],be[2]),Te.orientation=this._camera.orientation,Te._elevation=this.elevation,Te._renderWorldCopies=this.renderWorldCopies,Te}_setCameraOrientation(be){if(!_e.length$1(be))return!1;_e.normalize$1(be,be);const Te=_e.transformQuat([],[0,0,-1],be),Pe=_e.transformQuat([],[0,-1,0],be);if(Pe[2]<0)return!1;const pt=Fo(Te,Pe);return!!pt&&(this._camera.orientation=pt,!0)}_setCameraPosition(be){const Te=this.zoomScale(this.minZoom)*this.tileSize,Pe=this.zoomScale(this.maxZoom)*this.tileSize,pt=this.cameraToCenterDistance;be[2]=_e.clamp(be[2],pt/Pe,pt/Te),this._camera.position=be}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(_e){return this._edgeInsets.equals(_e)}interpolatePadding(_e,be,Te){this._unmodified=!1,this._edgeInsets.interpolate(_e,be,Te),this._constrain(),this._calcMatrices()}coveringZoomLevel(_e){const be=(_e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/_e.tileSize));return Math.max(0,be)}getVisibleUnwrappedCoordinates(be){const Te=[new _e.UnwrappedTileID(0,be)];if(this.renderWorldCopies){const Pe=this.pointCoordinate(new _e.pointGeometry(0,0)),pt=this.pointCoordinate(new _e.pointGeometry(this.width,0)),vt=this.pointCoordinate(new _e.pointGeometry(this.width,this.height)),xt=this.pointCoordinate(new _e.pointGeometry(0,this.height)),Tt=Math.floor(Math.min(Pe.x,pt.x,vt.x,xt.x)),It=Math.floor(Math.max(Pe.x,pt.x,vt.x,xt.x)),Mt=1;for(let Pe=Tt-Mt;Pe<=It+Mt;Pe++)0!==Pe&&Te.push(new _e.UnwrappedTileID(Pe,be))}return Te}coveringTiles(be){let Te=this.coveringZoomLevel(be);const Pe=Te,pt=this.elevation&&!be.isTerrainDEM,vt="mercator"===this.projection.name;if(void 0!==be.minzoom&&Te<be.minzoom)return[];void 0!==be.maxzoom&&Te>be.maxzoom&&(Te=be.maxzoom);const xt=this.locationCoordinate(this.center),Tt=this.center.lat,It=1<<Te,Mt=[It*xt.x,It*xt.y,0],Lt="globe"===this.projection.name,Ft=!Lt,Ot=_e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,Te,Ft),Vt=Lt?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),qt=It*_e.mercatorZfromAltitude(1,this.center.lat),Wt=this._camera.position[2]/_e.mercatorZfromAltitude(1,this.center.lat),$t=[It*Vt.x,It*Vt.y,Wt*(Ft?1:qt)],Kt=this.cameraToCenterDistance/be.tileSize*(be.roundZoom?1:.502),Jt=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?Te:0,Yt=be.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Qt=be.isTerrainDEM?-Yt:this._elevation?this._elevation.getMinElevationBelowMSL():0,an=this.projection.isReprojectedInTileSpace?jo(this):1,w=be=>{const Te=1/4e4,Pe=new _e.MercatorCoordinate(be.x+Te,be.y,be.z),pt=new _e.MercatorCoordinate(be.x,be.y+Te,be.z),vt=be.toLngLat(),xt=Pe.toLngLat(),Tt=pt.toLngLat(),It=this.locationCoordinate(vt),Mt=this.locationCoordinate(xt),Lt=this.locationCoordinate(Tt),Ft=Math.hypot(Mt.x-It.x,Mt.y-It.y),Ot=Math.hypot(Lt.x-It.x,Lt.y-It.y);return Math.sqrt(Ft*Ot)*an/Te},T=be=>{const Te=Yt,Pe=Qt;return{aabb:_e.tileAABB(this,It,0,0,0,be,Pe,Te,this.projection),zoom:0,x:0,y:0,minZ:Pe,maxZ:Te,wrap:be,fullyVisible:!1}},cn=[];let hn=[];const pn=Te,xn=be.reparseOverscaled?Pe:Te,S=_e=>_e*_e,Pn=S((Wt-this._centerAltitude)*qt),D=_e=>{if(!this._elevation||!_e.tileID||!vt)return;const be=this._elevation.getMinMaxForTile(_e.tileID),Te=_e.aabb;be?(Te.min[2]=be.min,Te.max[2]=be.max,Te.center[2]=(Te.min[2]+Te.max[2])/2):(_e.shouldSplit=P(_e),_e.shouldSplit||(Te.min[2]=Te.max[2]=Te.center[2]=this._centerAltitude))},P=be=>{if(be.zoom<Jt)return!0;if(be.zoom===pn)return!1;if(null!=be.shouldSplit)return be.shouldSplit;const Te=be.aabb.distanceX($t),vt=be.aabb.distanceY($t);let xt=Pn,It=1;if(Lt){xt=S(be.aabb.distanceZ($t));const Te=Math.pow(2,be.zoom),Pe=_e.latFromMercatorY((be.y+1)/Te),pt=_e.latFromMercatorY(be.y/Te),vt=Math.min(Math.max(Tt,Pe),pt),Mt=_e.circumferenceAtLatitude(vt)/_e.circumferenceAtLatitude(Tt);if(It=vt===Tt?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Mt/this._mercatorScaleRatio),this.zoom<=_e.GLOBE_ZOOM_THRESHOLD_MIN&&be.zoom===pn-1&&Mt>=.9)return!0}else if(pt&&(xt=S(be.aabb.distanceZ($t)*qt)),this.projection.isReprojectedInTileSpace&&Pe<=5){const Te=Math.pow(2,be.zoom),Pe=w(new _e.MercatorCoordinate((be.x+.5)/Te,(be.y+.5)/Te));It=Pe>.85?1:Pe}const Mt=Te*Te+vt*vt+xt;return Mt<S((1<<pn-be.zoom)*Kt*It*((_e,be)=>{if(be*S(.707)<_e)return 1;const Te=Math.sqrt(be/_e);return Te/(1.4144271570014144+(Math.pow(1.1,Te-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(xt,Pn),Mt))};if(this.renderWorldCopies)for(let _e=1;_e<=3;_e++)cn.push(T(-_e)),cn.push(T(_e));for(cn.push(T(0));cn.length>0;){const Pe=cn.pop(),xt=Pe.x,Tt=Pe.y;let Ft=Pe.fullyVisible;if(!Ft){const _e=Pe.aabb.intersects(Ot);if(0===_e)continue;Ft=2===_e}if(Pe.zoom!==pn&&P(Pe))for(let be=0;be<4;be++){const Te=(xt<<1)+be%2,Mt=(Tt<<1)+(be>>1),Ot={aabb:vt?Pe.aabb.quadrant(be):_e.tileAABB(this,It,Pe.zoom+1,Te,Mt,Pe.wrap,Pe.minZ,Pe.maxZ,this.projection),zoom:Pe.zoom+1,x:Te,y:Mt,wrap:Pe.wrap,fullyVisible:Ft,tileID:void 0,shouldSplit:void 0,minZ:Pe.minZ,maxZ:Pe.maxZ};pt&&!Lt&&(Ot.tileID=new _e.OverscaledTileID(Pe.zoom+1===pn?xn:Pe.zoom+1,Pe.wrap,Pe.zoom+1,Te,Mt),D(Ot)),cn.push(Ot)}else{const pt=Pe.zoom===pn?xn:Pe.zoom;if(be.minzoom&&be.minzoom>pt)continue;const vt=Mt[0]-(.5+xt+(Pe.wrap<<Pe.zoom))*(1<<Te-Pe.zoom),It=Mt[1]-.5-Tt,Lt=Pe.tileID?Pe.tileID:new _e.OverscaledTileID(pt,Pe.wrap,Pe.zoom,xt,Tt);hn.push({tileID:Lt,distanceSq:vt*vt+It*It})}}if(this.fogCullDistSq){const Te=this.fogCullDistSq,Pe=this.horizonLineFromTop();hn=hn.filter((pt=>{const vt=[0,0,0,1],xt=[_e.EXTENT,_e.EXTENT,0,1],Tt=this.calculateFogTileMatrix(pt.tileID.toUnwrapped());_e.transformMat4$1(vt,vt,Tt),_e.transformMat4$1(xt,xt,Tt);const It=_e.getAABBPointSquareDist(vt,xt);if(0===It)return!0;let Mt=!1;const Lt=this._elevation;if(Lt&&It>Te&&0!==Pe){const Te=this.calculateProjMatrix(pt.tileID.toUnwrapped());let vt;be.isTerrainDEM||(vt=Lt.getMinMaxForTile(pt.tileID)),vt||(vt={min:Qt,max:Yt});const xt=_e.furthestTileCorner(this.rotation),Tt=[xt[0]*_e.EXTENT,xt[1]*_e.EXTENT,vt.max];_e.transformMat4(Tt,Tt,Te),Mt=(1-Tt[1])*this.height*.5<Pe}return It<Te||Mt}))}return hn.sort(((_e,be)=>_e.distanceSq-be.distanceSq)).map((_e=>_e.tileID))}resize(_e,be){this.width=_e,this.height=be,this.pixelsToGLUnits=[2/_e,-2/be],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(_e){return Math.pow(2,_e)}scaleZoom(_e){return Math.log(_e)/Math.LN2}project(be){const Te=_e.clamp(be.lat,-_e.MAX_MERCATOR_LATITUDE,_e.MAX_MERCATOR_LATITUDE),Pe=this.projection.project(be.lng,Te);return new _e.pointGeometry(Pe.x*this.worldSize,Pe.y*this.worldSize)}unproject(_e){return this.projection.unproject(_e.x/this.worldSize,_e.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(be,Te){let Pe,pt;const vt=this.centerPoint;if("globe"===this.projection.name){const _e=this.worldSize;Pe=(Te.x-vt.x)/_e,pt=(Te.y-vt.y)/_e}else{const _e=this.pointCoordinate(Te),be=this.pointCoordinate(vt);Pe=_e.x-be.x,pt=_e.y-be.y}const xt=this.locationCoordinate(be);this.setLocation(new _e.MercatorCoordinate(xt.x-Pe,xt.y-pt))}setLocation(_e){this.center=this.coordinateLocation(_e),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(_e){return this.projection.locationPoint(this,_e)}locationPoint3D(_e){return this.projection.locationPoint(this,_e,!0)}pointLocation(_e){return this.coordinateLocation(this.pointCoordinate(_e))}pointLocation3D(_e){return this.coordinateLocation(this.pointCoordinate3D(_e))}locationCoordinate(be,Te){const Pe=Te?_e.mercatorZfromAltitude(Te,be.lat):void 0,pt=this.projection.project(be.lng,be.lat);return new _e.MercatorCoordinate(pt.x,pt.y,Pe)}coordinateLocation(_e){return this.projection.unproject(_e.x,_e.y)}pointRayIntersection(be,Te){const Pe=null!=Te?Te:this._centerAltitude,pt=[be.x,be.y,0,1],vt=[be.x,be.y,1,1];_e.transformMat4$1(pt,pt,this.pixelMatrixInverse),_e.transformMat4$1(vt,vt,this.pixelMatrixInverse);const xt=vt[3];_e.scale$1(pt,pt,1/pt[3]),_e.scale$1(vt,vt,1/xt);const Tt=pt[2],It=vt[2];return{p0:pt,p1:vt,t:Tt===It?0:(Pe-Tt)/(It-Tt)}}screenPointToMercatorRay(be){const Te=[be.x,be.y,0,1],Pe=[be.x,be.y,1,1];return _e.transformMat4$1(Te,Te,this.pixelMatrixInverse),_e.transformMat4$1(Pe,Pe,this.pixelMatrixInverse),_e.scale$1(Te,Te,1/Te[3]),_e.scale$1(Pe,Pe,1/Pe[3]),Te[2]=_e.mercatorZfromAltitude(Te[2],this._center.lat)*this.worldSize,Pe[2]=_e.mercatorZfromAltitude(Pe[2],this._center.lat)*this.worldSize,_e.scale$1(Te,Te,1/this.worldSize),_e.scale$1(Pe,Pe,1/this.worldSize),new _e.Ray([Te[0],Te[1],Te[2]],_e.normalize([],_e.sub([],Pe,Te)))}rayIntersectionCoordinate(be){const{p0:Te,p1:Pe,t:pt}=be,vt=_e.mercatorZfromAltitude(Te[2],this._center.lat),xt=_e.mercatorZfromAltitude(Pe[2],this._center.lat);return new _e.MercatorCoordinate(_e.number(Te[0],Pe[0],pt)/this.worldSize,_e.number(Te[1],Pe[1],pt)/this.worldSize,_e.number(vt,xt,pt))}pointCoordinate(_e,be=this._centerAltitude){return this.projection.pointCoordinate(this,_e.x,_e.y,be)}pointCoordinate3D(be){if(!this.elevation)return this.pointCoordinate(be);let Te=this.projection.pointCoordinate3D(this,be.x,be.y);if(Te)return new _e.MercatorCoordinate(Te[0],Te[1],Te[2]);let Pe=0,pt=this.horizonLineFromTop();if(be.y>pt)return this.pointCoordinate(be);const vt=.02*pt,xt=be.clone();for(let be=0;be<10&&pt-Pe>vt;be++){xt.y=_e.number(Pe,pt,.66);const be=this.projection.pointCoordinate3D(this,xt.x,xt.y);be?(pt=xt.y,Te=be):Pe=xt.y}return Te?new _e.MercatorCoordinate(Te[0],Te[1],Te[2]):this.pointCoordinate(be)}isPointAboveHorizon(_e){return this.projection.isPointAboveHorizon(this,_e)}_coordinatePoint(be,Te){const Pe=Te&&this.elevation?this.elevation.getAtPointOrZero(be,this._centerAltitude):this._centerAltitude,pt=[be.x*this.worldSize,be.y*this.worldSize,Pe+be.toAltitude(),1];return _e.transformMat4$1(pt,pt,this.pixelMatrix),pt[3]>0?new _e.pointGeometry(pt[0]/pt[3],pt[1]/pt[3]):new _e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBounds(be,Te){const Pe=new _e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),pt=new _e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),vt=new _e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),xt=new _e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let Tt=this.pointCoordinate(Pe,be),It=this.pointCoordinate(pt,be);const Mt=this.pointCoordinate(vt,Te),Lt=this.pointCoordinate(xt,Te),u=(_e,be)=>(be.y-_e.y)/(be.x-_e.x);return Tt.y>1&&It.y>=0?Tt=new _e.MercatorCoordinate((1-Lt.y)/u(Lt,Tt)+Lt.x,1):Tt.y<0&&It.y<=1&&(Tt=new _e.MercatorCoordinate(-Lt.y/u(Lt,Tt)+Lt.x,0)),It.y>1&&Tt.y>=0?It=new _e.MercatorCoordinate((1-Mt.y)/u(Mt,It)+Mt.x,1):It.y<0&&Tt.y<=1&&(It=new _e.MercatorCoordinate(-Mt.y/u(Mt,It)+Mt.x,0)),(new _e.LngLatBounds).extend(this.coordinateLocation(Tt)).extend(this.coordinateLocation(It)).extend(this.coordinateLocation(Lt)).extend(this.coordinateLocation(Mt))}_getBounds3D(){const _e=this.elevation;if(!_e.visibleDemTiles.length)return this._getBounds(0,0);const be=_e.visibleDemTiles.reduce(((_e,be)=>{if(be.dem){const Te=be.dem.tree;_e.min=Math.min(_e.min,Te.minimums[0]),_e.max=Math.max(_e.max,Te.maximums[0])}return _e}),{min:Number.MAX_VALUE,max:0});return this._getBounds(be.min*_e.exaggeration(),be.max*_e.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(_e=!0){const be=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,Te=this.height/2-be*(1-this._horizonShift);return _e?Math.max(0,Te):Te}getMaxBounds(){return this.maxBounds}setMaxBounds(be){this.maxBounds=be,this.minLat=-_e.MAX_MERCATOR_LATITUDE,this.maxLat=_e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,be&&(this.minLat=be.getSouth(),this.maxLat=be.getNorth(),this.minLng=be.getWest(),this.maxLng=be.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=_e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=_e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=_e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=_e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(_e,be){return this.projection.createTileMatrix(this,be,_e)}calculateDistanceTileData(be){const Te=be.key,Pe=this._distanceTileDataCache;if(Pe[Te])return Pe[Te];const pt=be.canonical,vt=1/this.height,xt=this.cameraWorldSize/this.zoomScale(pt.z),Tt=(pt.x+Math.pow(2,pt.z)*be.wrap)*xt,It=pt.y*xt,Mt=this.point,Lt=this.angle,Ft=Math.sin(-Lt),Ot=-Math.cos(-Lt);return Pe[Te]={bearing:[Ft,Ot],center:[(Mt.x-Tt)*vt,(Mt.y-It)*vt],scale:xt/_e.EXTENT*vt},Pe[Te]}calculateFogTileMatrix(be){const Te=be.key,Pe=this._fogTileMatrixCache;if(Pe[Te])return Pe[Te];const pt=this.projection.createTileMatrix(this,this.cameraWorldSize,be);return _e.multiply(pt,this.worldToFogMatrix,pt),Pe[Te]=new Float32Array(pt),Pe[Te]}calculateProjMatrix(be,Te=!1){const Pe=be.key,pt=Te?this._alignedProjMatrixCache:this._projMatrixCache;if(pt[Pe])return pt[Pe];const vt=this.calculatePosMatrix(be,this.worldSize);return _e.multiply(vt,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:Te?this.alignedProjMatrix:this.projMatrix,vt),pt[Pe]=new Float32Array(vt),pt[Pe]}calculatePixelsToTileUnitsMatrix(be){const Te=be.tileID.key,Pe=this._pixelsToTileUnitsCache;if(Pe[Te])return Pe[Te];const pt=function(be,Te){const{scale:Pe}=be.tileTransform,pt=Pe*_e.EXTENT/(be.tileSize*Math.pow(2,Te.zoom-be.tileID.overscaledZ+be.tileID.canonical.z));return vt=new Float32Array(4),It=(xt=Te.inverseAdjustmentMatrix)[1],Mt=xt[2],Lt=xt[3],Ot=(Tt=[pt,pt])[1],vt[0]=xt[0]*(Ft=Tt[0]),vt[1]=It*Ft,vt[2]=Mt*Ot,vt[3]=Lt*Ot,vt;var vt,xt,Tt,It,Mt,Lt,Ft,Ot}(be,this);return Pe[Te]=pt,Pe[Te]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const be=this._elevation;this._updateCameraState();const Te=_e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,Pe=this._computeCameraPosition(Te),pt=this._camera.forward(),vt=_e.mercatorZfromAltitude(1,this._center.lat);Pe[2]/=vt,pt[2]/=vt,_e.normalize(pt,pt);const xt=be.raycast(Pe,pt,be.exaggeration());if(xt){const be=_e.scaleAndAdd([],Pe,pt,xt),Te=new _e.MercatorCoordinate(be[0],be[1],_e.mercatorZfromAltitude(be[2],_e.latFromMercatorY(be[1]))),Tt=(Te.z+_e.length([Te.x-Pe[0],Te.y-Pe[1],Te.z-Pe[2]*vt]))*this._projectionScaler;this._seaLevelZoom=this._zoomFromMercatorZ(Tt),this._centerAltitude=Te.toAltitude(),this._center=this.coordinateLocation(Te),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const be=this._elevation;this._updateCameraState();const Te=_e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,Pe=this._computeCameraPosition(Te),pt=be.getAtPointOrZero(new _e.MercatorCoordinate(...Pe)),vt=this._minimumHeightOverTerrain()*Math.cos(_e.degToRad(this._maxPitch)),xt=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*pt;if(xt<vt){const be=this.locationCoordinate(this._center,this._centerAltitude),Te=[be.x-Pe[0],be.y-Pe[1],be.z-Pe[2]],pt=_e.length(Te);Te[2]-=(vt-xt)/this._projectionScaler;const Tt=_e.length(Te);if(0===Tt)return;_e.scale$2(Te,Te,pt/Tt*this._projectionScaler),this._camera.position=[be.x-Te[0],be.y-Te[1],be.z*this._projectionScaler-Te[2]],this._camera.orientation=Fo(Te,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;if(this._constraining=!0,this.projection.isReprojectedInTileSpace){const be=this.center;return be.lat=_e.clamp(be.lat,this.minLat,this.maxLat),!this.maxBounds&&this.renderWorldCopies||(be.lng=_e.clamp(be.lng,this.minLng,this.maxLng)),this.center=be,void(this._constraining=!1)}const be=this._unmodified,{x:Te,y:Pe}=this.point;let pt=0,vt=Te,xt=Pe;const Tt=this.width/2,It=this.height/2,Mt=this.worldMinY*this.scale,Lt=this.worldMaxY*this.scale;if(Pe-It<Mt&&(xt=Mt+It),Pe+It>Lt&&(xt=Lt-It),Lt-Mt<this.height&&(pt=Math.max(pt,this.height/(Lt-Mt)),xt=(Lt+Mt)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const _e=this.worldMinX*this.scale,be=this.worldMaxX*this.scale,Pe=this.worldSize/2-(_e+be)/2;vt=(Te+Pe+this.worldSize)%this.worldSize-Pe,vt-Tt<_e&&(vt=_e+Tt),vt+Tt>be&&(vt=be-Tt),be-_e<this.width&&(pt=Math.max(pt,this.width/(be-_e)),vt=(be+_e)/2)}vt===Te&&xt===Pe||(this.center=this.unproject(new _e.pointGeometry(vt,xt))),pt&&(this.zoom+=this.scaleZoom(pt)),this._constrainCameraAltitude(),this._unmodified=be,this._constraining=!1}_minZoomForBounds(){let _e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(_e=Math.max(_e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),_e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const be=this.centerOffset,Te=this.pixelsPerMeter;if("globe"===this.projection.name){const be=_e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,Te=_e.mercatorZfromAltitude(1,_e.GLOBE_SCALE_MATCH_LATITUDE)*this.worldSize;this._mercatorScaleRatio=be/Te}const Pe=Zo(this.projection,this.zoom,this.width,this.height,1024);this._projectionScaler=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,Pe),this.cameraToCenterDistance=this.getCameraToCenterDistance(this.projection),this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const pt=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?Te:1),vt=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);vt[8]=2*-be.x/this.width,vt[9]=2*be.y/this.height;let xt=_e.mul([],vt,pt);if(this.projection.isReprojectedInTileSpace){const be=this.locationCoordinate(this.center),Te=_e.identity([]);_e.translate(Te,Te,[be.x*this.worldSize,be.y*this.worldSize,0]),_e.multiply(Te,Te,Go(this)),_e.translate(Te,Te,[-be.x*this.worldSize,-be.y*this.worldSize,0]),_e.multiply(xt,xt,Te),this.inverseAdjustmentMatrix=function(_e){const be=Go(_e,!0);return v([],[be[0],be[1],be[4],be[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=_e.scale([],xt,[this.worldSize,this.worldSize,this.worldSize/Te,1]),this.projMatrix=xt,this.invProjMatrix=_e.invert(new Float64Array(16),this.projMatrix);const Tt=_e.invert([],vt);this.frustumCorners=_e.FrustumCorners.fromInvProjectionMatrix(Tt,this.horizonLineFromTop(),this.height);const It=new Float32Array(16);_e.identity(It),_e.scale(It,It,[1,-1,1]),_e.rotateX(It,It,this._pitch),_e.rotateZ(It,It,this.angle);const Mt=_e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Lt=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;Mt[8]=2*-be.x/this.width,Mt[9]=2*(be.y+Lt)/this.height,this.skyboxMatrix=_e.multiply(It,Mt,It);const Ft=this.point,Ot=Ft.x,Vt=Ft.y,qt=this.width%2/2,Wt=this.height%2/2,$t=Math.cos(this.angle),Kt=Math.sin(this.angle),Jt=Ot-Math.round(Ot)+$t*qt+Kt*Wt,Yt=Vt-Math.round(Vt)+$t*Wt+Kt*qt,Qt=new Float64Array(xt);if(_e.translate(Qt,Qt,[Jt>.5?Jt-1:Jt,Yt>.5?Yt-1:Yt,0]),this.alignedProjMatrix=Qt,xt=_e.create(),_e.scale(xt,xt,[this.width/2,-this.height/2,1]),_e.translate(xt,xt,[1,-1,0]),this.labelPlaneMatrix=xt,xt=_e.create(),_e.scale(xt,xt,[1,-1,1]),_e.translate(xt,xt,[-1,-1,0]),_e.scale(xt,xt,[2/this.width,2/this.height,1]),this.glCoordMatrix=xt,this.pixelMatrix=_e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},xt=_e.invert(new Float64Array(16),this.pixelMatrix),!xt)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=xt,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=_e.calculateGlobeMatrix(this);const be=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=_e.transformMat4(be,be,pt),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=xt;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const be=this.cameraWorldSize,Te=this.cameraPixelsPerMeter,Pe=this._camera.position,pt=1/this.height/this._projectionScaler,vt=[be,be,Te];_e.scale$2(vt,vt,pt),_e.scale$2(Pe,Pe,-1),_e.multiply$2(Pe,Pe,vt);const xt=_e.create();_e.translate(xt,xt,Pe),_e.scale(xt,xt,vt),this.mercatorFogMatrix=xt,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(be,Te,pt)}_computeCameraPosition(_e){const be=(_e=_e||this.pixelsPerMeter)/this.pixelsPerMeter,Te=this._camera.forward(),Pe=this.point,pt=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*be-_e/this.worldSize*this._centerAltitude;return[Pe.x/this.worldSize-Te[0]*pt,Pe.y/this.worldSize-Te[1]*pt,_e/this.worldSize*this._centerAltitude-Te[2]*pt]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(be){const Te=this._maxCameraBoundsDistance()*Math.cos(this._pitch),Pe=be[2];let pt=1;Pe>0&&(pt=Math.min((Te-this._camera.position[2])/Pe,1)),this._camera.position=_e.scaleAndAdd([],this._camera.position,be,pt),this._updateStateFromCamera(),this.projection.wrap&&(this.center=this.center.wrap())}_updateStateFromCamera(){const be=this._camera.position,Te=this._camera.forward(),{pitch:Pe,bearing:pt}=this._camera.getPitchBearing(),vt=_e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._projectionScaler,xt=this._mercatorZfromZoom(this._maxZoom)*Math.cos(_e.degToRad(this._maxPitch)),Tt=Math.max((be[2]-vt)/Math.cos(Pe),xt),It=this._zoomFromMercatorZ(Tt);_e.scaleAndAdd(be,be,Te,Tt),this._pitch=_e.clamp(Pe,_e.degToRad(this.minPitch),_e.degToRad(this.maxPitch)),this.angle=_e.wrap(pt,-Math.PI,Math.PI),this._setZoom(_e.clamp(It,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new _e.MercatorCoordinate(be[0],be[1],be[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(_e){return Math.pow(2,_e)*this.tileSize}_mercatorZfromZoom(_e){return this.cameraToCenterDistance/this._worldSizeFromZoom(_e)}_minimumHeightOverTerrain(){const _e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(_e)}_zoomFromMercatorZ(_e){return this.scaleZoom(this.cameraToCenterDistance/(_e*this.tileSize))}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(_e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(be,Te){const Pe=Math.min(be.x,Te.x),pt=Math.max(be.x,Te.x),vt=Math.min(be.y,Te.y),xt=Math.max(be.y,Te.y);if(vt<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const Tt=[new _e.pointGeometry(Pe,vt),new _e.pointGeometry(pt,xt),new _e.pointGeometry(Pe,xt),new _e.pointGeometry(pt,vt)],It=this.renderWorldCopies?-3:0,Mt=this.renderWorldCopies?4:1;for(const _e of Tt){const be=this.pointRayIntersection(_e);if(be.t<0)return!0;const Te=this.rayIntersectionCoordinate(be);if(Te.x<It||Te.y<0||Te.x>Mt||Te.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+_e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new _e.pointGeometry(0,0),new _e.pointGeometry(this.width,this.height))}zoomDeltaToMovement(be,Te){const Pe=_e.length(_e.sub([],this._camera.position,be)),pt=this._zoomFromMercatorZ(Pe)+Te;return Pe-this._mercatorZfromZoom(pt)}getCameraPoint(){if("globe"===this.projection.name){const be=function(be,Te){const Pe=[be[0],be[1],be[2],1];_e.transformMat4$1(Pe,Pe,Te);const pt=Math.max(Pe[3],1e-6);return[Pe[0]/pt,Pe[1]/pt,Pe[2]/pt,pt]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new _e.pointGeometry(be[0],be[1])}{const be=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new _e.pointGeometry(0,be))}}getCameraToCenterDistance(_e){const be=Zo(_e,this.zoom,this.width,this.height,1024),Te=_e.pixelSpaceConversion(this.center.lat,this.worldSize,be);return.5/Math.tan(.5*this._fov)*this.height*Te}}function $o(_e,be){let Te=!1,Pe=null;const r=()=>{Pe=null,Te&&(_e(),Pe=setTimeout(r,be),Te=!1)};return()=>(Te=!0,Pe||r(),Pe)}class Ad{constructor(be){this._hashName=be&&encodeURIComponent(be),_e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=$o(this._updateHashUnthrottled.bind(this),300)}addTo(be){return this._map=be,_e.window.addEventListener("hashchange",this._onHashChange,!1),be.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),_e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(be){const Te=this._map;if(!Te)return"";const Pe=Te.getCenter(),pt=Math.round(100*Te.getZoom())/100,vt=Math.ceil((pt*Math.LN2+Math.log(512/360/.5))/Math.LN10),xt=Math.pow(10,vt),Tt=Math.round(Pe.lng*xt)/xt,It=Math.round(Pe.lat*xt)/xt,Mt=Te.getBearing(),Lt=Te.getPitch();let Ft="";if(Ft+=be?`/${Tt}/${It}/${pt}`:`${pt}/${It}/${Tt}`,(Mt||Lt)&&(Ft+="/"+Math.round(10*Mt)/10),Lt&&(Ft+=`/${Math.round(Lt)}`),this._hashName){const be=this._hashName;let Te=!1;const Pe=_e.window.location.hash.slice(1).split("&").map((_e=>{const Pe=_e.split("=")[0];return Pe===be?(Te=!0,`${Pe}=${Ft}`):_e})).filter((_e=>_e));return Te||Pe.push(`${be}=${Ft}`),`#${Pe.join("&")}`}return`#${Ft}`}_getCurrentHash(){const be=_e.window.location.hash.replace("#","");if(this._hashName){let _e;return be.split("&").map((_e=>_e.split("="))).forEach((be=>{be[0]===this._hashName&&(_e=be)})),(_e&&_e[1]||"").split("/")}return be.split("/")}_onHashChange(){const _e=this._map;if(!_e)return!1;const be=this._getCurrentHash();if(be.length>=3&&!be.some((_e=>isNaN(_e)))){const Te=_e.dragRotate.isEnabled()&&_e.touchZoomRotate.isEnabled()?+(be[3]||0):_e.getBearing();return _e.jumpTo({center:[+be[2],+be[1]],zoom:+be[0],bearing:Te,pitch:+(be[4]||0)}),!0}return!1}_updateHashUnthrottled(){const be=_e.window.location.href.replace(/(#.+)?$/,this.getHashString());_e.window.history.replaceState(_e.window.history.state,null,be)}}const Td={linearity:.3,easing:_e.bezier(0,0,.3,1)},kd=_e.extend({deceleration:2500,maxSpeed:1400},Td),Id=_e.extend({deceleration:20,maxSpeed:1400},Td),Md=_e.extend({deceleration:1e3,maxSpeed:360},Td),Ld=_e.extend({deceleration:1e3,maxSpeed:90},Td);class Fd{constructor(_e){this._map=_e,this.clear()}clear(){this._inertiaBuffer=[]}record(be){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:_e.exported.now(),settings:be})}_drainInertiaBuffer(){const be=this._inertiaBuffer,Te=_e.exported.now();for(;be.length>0&&Te-be[0].time>160;)be.shift()}_onMoveEnd(be){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const Te={zoom:0,bearing:0,pitch:0,pan:new _e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:_e}of this._inertiaBuffer)Te.zoom+=_e.zoomDelta||0,Te.bearing+=_e.bearingDelta||0,Te.pitch+=_e.pitchDelta||0,_e.panDelta&&Te.pan._add(_e.panDelta),_e.around&&(Te.around=_e.around),_e.pinchAround&&(Te.pinchAround=_e.pinchAround);const Pe=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,pt={};if(Te.pan.mag()){const vt=or(Te.pan.mag(),Pe,_e.extend({},kd,be||{}));pt.offset=Te.pan.mult(vt.amount/Te.pan.mag()),pt.center=this._map.transform.center,ir(pt,vt)}if(Te.zoom){const _e=or(Te.zoom,Pe,Id);pt.zoom=this._map.transform.zoom+_e.amount,ir(pt,_e)}if(Te.bearing){const be=or(Te.bearing,Pe,Md);pt.bearing=this._map.transform.bearing+_e.clamp(be.amount,-179,179),ir(pt,be)}if(Te.pitch){const _e=or(Te.pitch,Pe,Ld);pt.pitch=this._map.transform.pitch+_e.amount,ir(pt,_e)}if(pt.zoom||pt.bearing){const _e=void 0===Te.pinchAround?Te.around:Te.pinchAround;pt.around=_e?this._map.unproject(_e):this._map.getCenter()}return this.clear(),pt.noMoveStart=!0,pt}}function ir(_e,be){(!_e.duration||_e.duration<be.duration)&&(_e.duration=be.duration,_e.easing=be.easing)}function or(be,Te,Pe){const{maxSpeed:pt,linearity:vt,deceleration:xt}=Pe,Tt=_e.clamp(be*vt/(Te/1e3),-pt,pt),It=Math.abs(Tt)/(xt*vt);return{easing:Pe.easing,duration:1e3*It,amount:Tt*(It/2)}}class Bd extends _e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(be,Te,Pe,pt={}){const vt=m(Te.getCanvasContainer(),Pe),xt=Te.unproject(vt);super(be,_e.extend({point:vt,lngLat:xt,originalEvent:Pe},pt)),this._defaultPrevented=!1,this.target=Te}}class Ud extends _e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(be,Te,Pe){const pt="touchend"===be?Pe.changedTouches:Pe.touches,vt=p(Te.getCanvasContainer(),pt),xt=vt.map((_e=>Te.unproject(_e))),Tt=vt.reduce(((_e,be,Te,Pe)=>_e.add(be.div(Pe.length))),new _e.pointGeometry(0,0));super(be,{points:vt,point:Tt,lngLats:xt,lngLat:Te.unproject(Tt),originalEvent:Pe}),this._defaultPrevented=!1}}class Gd extends _e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(_e,be,Te){super(_e,{originalEvent:Te}),this._defaultPrevented=!1}}class Zd{constructor(_e,be){this._map=_e,this._clickTolerance=be.clickTolerance}reset(){this._mousedownPos=void 0}wheel(_e){return this._firePreventable(new Gd(_e.type,this._map,_e))}mousedown(_e,be){return this._mousedownPos=be,this._firePreventable(new Bd(_e.type,this._map,_e))}mouseup(_e){this._map.fire(new Bd(_e.type,this._map,_e))}preclick(be){const Te=_e.extend({},be);Te.type="preclick",this._map.fire(new Bd(Te.type,this._map,Te))}click(_e,be){this._mousedownPos&&this._mousedownPos.dist(be)>=this._clickTolerance||(this.preclick(_e),this._map.fire(new Bd(_e.type,this._map,_e)))}dblclick(_e){return this._firePreventable(new Bd(_e.type,this._map,_e))}mouseover(_e){this._map.fire(new Bd(_e.type,this._map,_e))}mouseout(_e){this._map.fire(new Bd(_e.type,this._map,_e))}touchstart(_e){return this._firePreventable(new Ud(_e.type,this._map,_e))}touchmove(_e){this._map.fire(new Ud(_e.type,this._map,_e))}touchend(_e){this._map.fire(new Ud(_e.type,this._map,_e))}touchcancel(_e){this._map.fire(new Ud(_e.type,this._map,_e))}_firePreventable(_e){if(this._map.fire(_e),_e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Wd{constructor(_e){this._map=_e}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(_e){this._map.fire(new Bd(_e.type,this._map,_e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Bd("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(_e){this._delayContextMenu?this._contextMenuEvent=_e:this._map.fire(new Bd(_e.type,this._map,_e)),this._map.listens("contextmenu")&&_e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Hd{constructor(_e,be){this._map=_e,this._el=_e.getCanvasContainer(),this._container=_e.getContainer(),this._clickTolerance=be.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(_e,be){this.isEnabled()&&_e.shiftKey&&0===_e.button&&(h(),this._startPos=this._lastPos=be,this._active=!0)}mousemoveWindow(_e,be){if(!this._active)return;const Te=be;if(this._lastPos.equals(Te)||!this._box&&Te.dist(this._startPos)<this._clickTolerance)return;const Pe=this._startPos;this._lastPos=Te,this._box||(this._box=n("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",_e));const pt=Math.min(Pe.x,Te.x),vt=Math.max(Pe.x,Te.x),xt=Math.min(Pe.y,Te.y),Tt=Math.max(Pe.y,Te.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${pt}px,${xt}px)`,this._box.style.width=vt-pt+"px",this._box.style.height=Tt-xt+"px")}))}mouseupWindow(be,Te){if(!this._active)return;if(0!==be.button)return;const Pe=this._startPos,pt=Te;if(this.reset(),d(),Pe.x!==pt.x||Pe.y!==pt.y)return this._map.fire(new _e.Event("boxzoomend",{originalEvent:be})),{cameraAnimation:_e=>_e.fitScreenCoordinates(Pe,pt,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",be)}keydown(_e){this._active&&27===_e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",_e))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),u(),delete this._startPos,delete this._lastPos}_fireEvent(be,Te){return this._map.fire(new _e.Event(be,{originalEvent:Te}))}}function hr(_e,be){const Te={};for(let Pe=0;Pe<_e.length;Pe++)Te[_e[Pe].identifier]=be[Pe];return Te}class $d{constructor(_e){this.reset(),this.numTouches=_e.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(be,Te,Pe){(this.centroid||Pe.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=be.timeStamp),Pe.length===this.numTouches&&(this.centroid=function(be){const Te=new _e.pointGeometry(0,0);for(const _e of be)Te._add(_e);return Te.div(be.length)}(Te),this.touches=hr(Pe,Te)))}touchmove(_e,be,Te){if(this.aborted||!this.centroid)return;const Pe=hr(Te,be);for(const _e in this.touches){const be=this.touches[_e],Te=Pe[_e];(!Te||Te.dist(be)>30)&&(this.aborted=!0)}}touchend(_e,be,Te){if((!this.centroid||_e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===Te.length){const _e=!this.aborted&&this.centroid;if(this.reset(),_e)return _e}}}class Xd{constructor(_e){this.singleTap=new $d(_e),this.numTaps=_e.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(_e,be,Te){this.singleTap.touchstart(_e,be,Te)}touchmove(_e,be,Te){this.singleTap.touchmove(_e,be,Te)}touchend(_e,be,Te){const Pe=this.singleTap.touchend(_e,be,Te);if(Pe){const be=_e.timeStamp-this.lastTime<500,Te=!this.lastTap||this.lastTap.dist(Pe)<30;if(be&&Te||this.reset(),this.count++,this.lastTime=_e.timeStamp,this.lastTap=Pe,this.count===this.numTaps)return this.reset(),Pe}}}class Kd{constructor(){this._zoomIn=new Xd({numTouches:1,numTaps:2}),this._zoomOut=new Xd({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(_e,be,Te){this._zoomIn.touchstart(_e,be,Te),this._zoomOut.touchstart(_e,be,Te)}touchmove(_e,be,Te){this._zoomIn.touchmove(_e,be,Te),this._zoomOut.touchmove(_e,be,Te)}touchend(_e,be,Te){const Pe=this._zoomIn.touchend(_e,be,Te),pt=this._zoomOut.touchend(_e,be,Te);return Pe?(this._active=!0,_e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:be=>be.easeTo({duration:300,zoom:be.getZoom()+1,around:be.unproject(Pe)},{originalEvent:_e})}):pt?(this._active=!0,_e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:be=>be.easeTo({duration:300,zoom:be.getZoom()-1,around:be.unproject(pt)},{originalEvent:_e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Jd={0:1,2:2};class Yd{constructor(_e){this.reset(),this._clickTolerance=_e.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(_e,be){return!1}_move(_e,be){return{}}mousedown(_e,be){if(this._lastPoint)return;const Te=f(_e);this._correctButton(_e,Te)&&(this._lastPoint=be,this._eventButton=Te)}mousemoveWindow(_e,be){const Te=this._lastPoint;if(Te)if(_e.preventDefault(),null!=this._eventButton&&function(_e,be){const Te=Jd[be];return void 0===_e.buttons||(_e.buttons&Te)!==Te}(_e,this._eventButton))this.reset();else if(this._moved||!(be.dist(Te)<this._clickTolerance))return this._moved=!0,this._lastPoint=be,this._move(Te,be)}mouseupWindow(_e){this._lastPoint&&f(_e)===this._eventButton&&(this._moved&&d(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Qd extends Yd{mousedown(_e,be){super.mousedown(_e,be),this._lastPoint&&(this._active=!0)}_correctButton(_e,be){return 0===be&&!_e.ctrlKey}_move(_e,be){return{around:be,panDelta:be.sub(_e)}}}class ul extends Yd{_correctButton(_e,be){return 0===be&&_e.ctrlKey||2===be}_move(_e,be){const Te=.8*(be.x-_e.x);if(Te)return this._active=!0,{bearingDelta:Te}}contextmenu(_e){_e.preventDefault()}}class _l extends Yd{_correctButton(_e,be){return 0===be&&_e.ctrlKey||2===be}_move(_e,be){const Te=-.5*(be.y-_e.y);if(Te)return this._active=!0,{pitchDelta:Te}}contextmenu(_e){_e.preventDefault()}}class Rl{constructor(be,Te){this._map=be,this._el=be.getCanvasContainer(),this._minTouches=1,this._clickTolerance=Te.clickTolerance||1,this.reset(),_e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new _e.pointGeometry(0,0)}touchstart(_e,be,Te){return this._calculateTransform(_e,be,Te)}touchmove(_e,be,Te){if(this._active&&!(Te.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===Te.length)return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return _e.preventDefault(),this._calculateTransform(_e,be,Te)}}touchend(_e,be,Te){this._calculateTransform(_e,be,Te),this._active&&Te.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(be,Te,Pe){Pe.length>0&&(this._active=!0);const pt=hr(Pe,Te),vt=new _e.pointGeometry(0,0),xt=new _e.pointGeometry(0,0);let Tt=0;for(const _e in pt){const be=pt[_e],Te=this._touches[_e];Te&&(vt._add(be),xt._add(be.sub(Te)),Tt++,pt[_e]=be)}if(this._touches=pt,Tt<this._minTouches||!xt.mag())return;const It=xt.div(Tt);return this._sum._add(It),this._sum.mag()<this._clickTolerance?void 0:{around:vt.div(Tt),panDelta:It}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=n("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show")}),500)}}class Ul{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(_e){}_move(_e,be,Te){return{}}touchstart(_e,be,Te){this._firstTwoTouches||Te.length<2||(this._firstTwoTouches=[Te[0].identifier,Te[1].identifier],this._start([be[0],be[1]]))}touchmove(_e,be,Te){const Pe=this._firstTwoTouches;if(!Pe)return;_e.preventDefault();const[pt,vt]=Pe,xt=br(Te,be,pt),Tt=br(Te,be,vt);if(!xt||!Tt)return;const It=this._aroundCenter?null:xt.add(Tt).div(2);return this._move([xt,Tt],It,_e)}touchend(_e,be,Te){if(!this._firstTwoTouches)return;const[Pe,pt]=this._firstTwoTouches,vt=br(Te,be,Pe),xt=br(Te,be,pt);vt&&xt||(this._active&&d(),this.reset())}touchcancel(){this.reset()}enable(_e){this._enabled=!0,this._aroundCenter=!!_e&&"center"===_e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function br(_e,be,Te){for(let Pe=0;Pe<_e.length;Pe++)if(_e[Pe].identifier===Te)return be[Pe]}function wr(_e,be){return Math.log(_e/be)/Math.LN2}class Wl extends Ul{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(_e){this._startDistance=this._distance=_e[0].dist(_e[1])}_move(_e,be){const Te=this._distance;if(this._distance=_e[0].dist(_e[1]),this._active||!(Math.abs(wr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:wr(this._distance,Te),pinchAround:be}}}function Er(_e,be){return 180*_e.angleWith(be)/Math.PI}class Hl extends Ul{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(_e){this._startVector=this._vector=_e[0].sub(_e[1]),this._minDiameter=_e[0].dist(_e[1])}_move(_e,be){const Te=this._vector;if(this._vector=_e[0].sub(_e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Er(this._vector,Te),pinchAround:be}}_isBelowThreshold(_e){this._minDiameter=Math.min(this._minDiameter,_e.mag());const be=25/(Math.PI*this._minDiameter)*360,Te=Er(_e,this._startVector);return Math.abs(Te)<be}}function Ir(_e){return Math.abs(_e.y)>Math.abs(_e.x)}class $l extends Ul{constructor(_e){super(),this._map=_e}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(_e){this._lastPoints=_e,Ir(_e[0].sub(_e[1]))&&(this._valid=!1)}_move(_e,be,Te){const Pe=this._lastPoints;if(!Pe)return;const pt=_e[0].sub(Pe[0]),vt=_e[1].sub(Pe[1]);return this._map._cooperativeGestures&&Te.touches.length<3||(this._valid=this.gestureBeginsVertically(pt,vt,Te.timeStamp),!this._valid)?void 0:(this._lastPoints=_e,this._active=!0,{pitchDelta:(pt.y+vt.y)/2*-.5})}gestureBeginsVertically(_e,be,Te){if(void 0!==this._valid)return this._valid;const Pe=_e.mag()>=2,pt=be.mag()>=2;if(!Pe&&!pt)return;if(!Pe||!pt)return null==this._firstMove&&(this._firstMove=Te),Te-this._firstMove<100&&void 0;const vt=_e.y>0==be.y>0;return Ir(_e)&&Ir(be)&&vt}}const Kl={panStep:100,bearingStep:15,pitchStep:10};class Yl{constructor(){const _e=Kl;this._panStep=_e.panStep,this._bearingStep=_e.bearingStep,this._pitchStep=_e.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(_e){if(_e.altKey||_e.ctrlKey||_e.metaKey)return;let be=0,Te=0,Pe=0,pt=0,vt=0;switch(_e.keyCode){case 61:case 107:case 171:case 187:be=1;break;case 189:case 109:case 173:be=-1;break;case 37:_e.shiftKey?Te=-1:(_e.preventDefault(),pt=-1);break;case 39:_e.shiftKey?Te=1:(_e.preventDefault(),pt=1);break;case 38:_e.shiftKey?Pe=1:(_e.preventDefault(),vt=-1);break;case 40:_e.shiftKey?Pe=-1:(_e.preventDefault(),vt=1);break;default:return}return this._rotationDisabled&&(Te=0,Pe=0),{cameraAnimation:xt=>{const Tt=xt.getZoom();xt.easeTo({duration:300,easeId:"keyboardHandler",easing:Dr,zoom:be?Math.round(Tt)+be*(_e.shiftKey?2:1):Tt,bearing:xt.getBearing()+Te*this._bearingStep,pitch:xt.getPitch()+Pe*this._pitchStep,offset:[-pt*this._panStep,-vt*this._panStep],center:xt.getCenter()},{originalEvent:_e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Dr(_e){return _e*(2-_e)}const eu=4.000244140625;class tu{constructor(be,Te){this._map=be,this._el=be.getCanvasContainer(),this._handler=Te,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,_e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert","_isFullscreen"],this)}setZoomRate(_e){this._defaultZoomRate=_e}setWheelZoomRate(_e){this._wheelZoomRate=_e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(_e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!_e&&"center"===_e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(be){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(be.ctrlKey||be.metaKey||this.isZooming()||this._isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let Te=be.deltaMode===_e.window.WheelEvent.DOM_DELTA_LINE?40*be.deltaY:be.deltaY;const Pe=_e.exported.now(),pt=Pe-(this._lastWheelEventTime||0);this._lastWheelEventTime=Pe,0!==Te&&Te%eu==0?this._type="wheel":0!==Te&&Math.abs(Te)<4?this._type="trackpad":pt>400?(this._type=null,this._lastValue=Te,this._timeout=setTimeout(this._onTimeout,40,be)):this._type||(this._type=Math.abs(pt*Te)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,Te+=this._lastValue)),be.shiftKey&&Te&&(Te/=4),this._type&&(this._lastWheelEvent=be,this._delta-=Te,this._active||this._start(be)),be.preventDefault()}_onTimeout(_e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_e)}_start(_e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const be=m(this._el,_e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:be,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const be=this._map.transform,i=()=>be._terrainEnabled()&&this._aroundCoord?be.computeZoomRelativeTo(this._aroundCoord):be.zoom;if(0!==this._delta){const _e="wheel"===this._type&&Math.abs(this._delta)>eu?this._wheelZoomRate:this._defaultZoomRate;let Te=2/(1+Math.exp(-Math.abs(this._delta*_e)));this._delta<0&&0!==Te&&(Te=1/Te);const Pe=i(),pt=Math.pow(2,Pe),vt="number"==typeof this._targetZoom?be.zoomScale(this._targetZoom):pt;this._targetZoom=Math.min(be.maxZoom,Math.max(be.minZoom,be.scaleZoom(vt*Te))),"wheel"===this._type&&(this._startZoom=i(),this._easing=this._smoothOutEasing(200)),this._delta=0}const Te="number"==typeof this._targetZoom?this._targetZoom:i(),Pe=this._startZoom,pt=this._easing;let vt,xt=!1;if("wheel"===this._type&&Pe&&pt){const be=Math.min((_e.exported.now()-this._lastWheelEventTime)/200,1),Tt=pt(be);vt=_e.number(Pe,Te,Tt),be<1?this._frameId||(this._frameId=!0):xt=!0}else vt=Te,xt=!0;return this._active=!0,xt&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!xt,zoomDelta:vt-i(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(be){let Te=_e.ease;if(this._prevEase){const be=this._prevEase,Pe=(_e.exported.now()-be.start)/be.duration,pt=be.easing(Pe+.01)-be.easing(Pe),vt=.27/Math.sqrt(pt*pt+1e-4)*.01,xt=Math.sqrt(.0729-vt*vt);Te=_e.bezier(vt,xt,.25,1)}return this._prevEase={start:_e.exported.now(),duration:be,easing:Te},Te}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=n("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(_e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_isFullscreen(){return!!_e.window.document.fullscreenElement||!!_e.window.document.webkitFullscreenElement}_showBlockerAlert(){"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show")}),200)}}class nu{constructor(_e,be){this._clickZoom=_e,this._tapZoom=be}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ou{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(_e,be){return _e.preventDefault(),{cameraAnimation:Te=>{Te.easeTo({duration:300,zoom:Te.getZoom()+(_e.shiftKey?-1:1),around:Te.unproject(be)},{originalEvent:_e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class du{constructor(){this._tap=new Xd({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(_e,be,Te){this._swipePoint||(this._tapTime&&_e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?Te.length>0&&(this._swipePoint=be[0],this._swipeTouch=Te[0].identifier):this._tap.touchstart(_e,be,Te))}touchmove(_e,be,Te){if(this._tapTime){if(this._swipePoint){if(Te[0].identifier!==this._swipeTouch)return;const Pe=be[0],pt=Pe.y-this._swipePoint.y;return this._swipePoint=Pe,_e.preventDefault(),this._active=!0,{zoomDelta:pt/128}}}else this._tap.touchmove(_e,be,Te)}touchend(_e,be,Te){this._tapTime?this._swipePoint&&0===Te.length&&this.reset():this._tap.touchend(_e,be,Te)&&(this._tapTime=_e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class lu{constructor(_e,be,Te){this._el=_e,this._mousePan=be,this._touchPan=Te}enable(_e){this._inertiaOptions=_e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class uu{constructor(_e,be,Te){this._pitchWithRotate=_e.pitchWithRotate,this._mouseRotate=be,this._mousePitch=Te}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class hu{constructor(_e,be,Te,Pe){this._el=_e,this._touchZoom=be,this._touchRotate=Te,this._tapDragZoom=Pe,this._rotationDisabled=!1,this._enabled=!0}enable(_e){this._touchZoom.enable(_e),this._rotationDisabled||this._touchRotate.enable(_e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ur=_e=>_e.zoom||_e.drag||_e.pitch||_e.rotate;class pu extends _e.Event{}class fu{constructor(){this.constants=[1,1,.01],this.radius=0}setup(be,Te){const Pe=_e.sub([],Te,be);this.radius=_e.length(Pe[2]<0?_e.div([],Pe,this.constants):[Pe[0],Pe[1],0])}projectRay(be){_e.div(be,be,this.constants),_e.normalize(be,be),_e.mul$1(be,be,this.constants);const Te=_e.scale$2([],be,this.radius);if(Te[2]>0){const be=_e.scale$2([],[0,0,1],_e.dot(Te,[0,0,1])),Pe=_e.scale$2([],_e.normalize([],[Te[0],Te[1],0]),this.radius),pt=_e.add([],Te,_e.scale$2([],_e.sub([],_e.add([],Pe,be),Te),2));Te[0]=pt[0],Te[1]=pt[1]}return Te}}function jr(_e){return _e.panDelta&&_e.panDelta.mag()||_e.zoomDelta||_e.bearingDelta||_e.pitchDelta}class yu{constructor(be,Te){this._map=be,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Fd(be),this._bearingSnap=Te.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new fu,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(Te),_e.bindAll(["handleEvent","handleWindowEvent"],this);const Pe=this._el;this._listeners=[[Pe,"touchstart",{passive:!0}],[Pe,"touchmove",{passive:!1}],[Pe,"touchend",void 0],[Pe,"touchcancel",void 0],[Pe,"mousedown",void 0],[Pe,"mousemove",void 0],[Pe,"mouseup",void 0],[_e.window.document,"mousemove",{capture:!0}],[_e.window.document,"mouseup",void 0],[Pe,"mouseover",void 0],[Pe,"mouseout",void 0],[Pe,"dblclick",void 0],[Pe,"click",void 0],[Pe,"keydown",{capture:!1}],[Pe,"keyup",void 0],[Pe,"wheel",{passive:!1}],[Pe,"contextmenu",void 0],[_e.window,"blur",void 0]];for(const[be,Te,Pe]of this._listeners)be.addEventListener(Te,be===_e.window.document?this.handleWindowEvent:this.handleEvent,Pe)}destroy(){for(const[be,Te,Pe]of this._listeners)be.removeEventListener(Te,be===_e.window.document?this.handleWindowEvent:this.handleEvent,Pe)}_addDefaultHandlers(_e){const be=this._map,Te=be.getCanvasContainer();this._add("mapEvent",new Zd(be,_e));const Pe=be.boxZoom=new Hd(be,_e);this._add("boxZoom",Pe);const pt=new Kd,vt=new ou;be.doubleClickZoom=new nu(vt,pt),this._add("tapZoom",pt),this._add("clickZoom",vt);const xt=new du;this._add("tapDragZoom",xt);const Tt=be.touchPitch=new $l(be);this._add("touchPitch",Tt);const It=new ul(_e),Mt=new _l(_e);be.dragRotate=new uu(_e,It,Mt),this._add("mouseRotate",It,["mousePitch"]),this._add("mousePitch",Mt,["mouseRotate"]);const Lt=new Qd(_e),Ft=new Rl(be,_e);be.dragPan=new lu(Te,Lt,Ft),this._add("mousePan",Lt),this._add("touchPan",Ft,["touchZoom","touchRotate"]);const Ot=new Hl,Vt=new Wl;be.touchZoomRotate=new hu(Te,Vt,Ot,xt),this._add("touchRotate",Ot,["touchPan","touchZoom"]),this._add("touchZoom",Vt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Wd(be));const qt=be.scrollZoom=new tu(be,this);this._add("scrollZoom",qt,["mousePan"]);const Wt=be.keyboard=new Yl;this._add("keyboard",Wt);for(const Te of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])_e.interactive&&_e[Te]&&be[Te].enable(_e[Te])}_add(_e,be,Te){this._handlers.push({handlerName:_e,handler:be,allowed:Te}),this._handlersById[_e]=be}stop(_e){if(!this._updatingCamera){for(const{handler:_e}of this._handlers)_e.reset();this._inertia.clear(),this._fireEvents({},{},_e),this._changes=[]}}isActive(){for(const{handler:_e}of this._handlers)if(_e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ur(this._eventsInProgress)||this.isZooming()}_blockedByActive(_e,be,Te){for(const Pe in _e)if(Pe!==Te&&(!be||be.indexOf(Pe)<0))return!0;return!1}handleWindowEvent(_e){this.handleEvent(_e,`${_e.type}Window`)}_getMapTouches(_e){const be=[];for(const Te of _e)this._el.contains(Te.target)&&be.push(Te);return be}handleEvent(_e,be){this._updatingCamera=!0;const Te="renderFrame"===_e.type,Pe=Te?void 0:_e,pt={needsRenderFrame:!1},vt={},xt={},Tt=_e.touches?this._getMapTouches(_e.touches):void 0,It=Tt?p(this._el,Tt):Te?void 0:m(this._el,_e);for(const{handlerName:Te,handler:Mt,allowed:Lt}of this._handlers){if(!Mt.isEnabled())continue;let Ft;this._blockedByActive(xt,Lt,Te)?Mt.reset():Mt[be||_e.type]&&(Ft=Mt[be||_e.type](_e,It,Tt),this.mergeHandlerResult(pt,vt,Ft,Te,Pe),Ft&&Ft.needsRenderFrame&&this._triggerRenderFrame()),(Ft||Mt.isActive())&&(xt[Te]=Mt)}const Mt={};for(const _e in this._previousActiveHandlers)xt[_e]||(Mt[_e]=Pe);this._previousActiveHandlers=xt,(Object.keys(Mt).length||jr(pt))&&(this._changes.push([pt,vt,Mt]),this._triggerRenderFrame()),(Object.keys(xt).length||jr(pt))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Lt}=pt;Lt&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Lt(this._map))}mergeHandlerResult(be,Te,Pe,pt,vt){if(!Pe)return;_e.extend(be,Pe);const xt={handlerName:pt,originalEvent:Pe.originalEvent||vt};void 0!==Pe.zoomDelta&&(Te.zoom=xt),void 0!==Pe.panDelta&&(Te.drag=xt),void 0!==Pe.pitchDelta&&(Te.pitch=xt),void 0!==Pe.bearingDelta&&(Te.rotate=xt)}_applyChanges(){const be={},Te={},Pe={};for(const[pt,vt,xt]of this._changes)pt.panDelta&&(be.panDelta=(be.panDelta||new _e.pointGeometry(0,0))._add(pt.panDelta)),pt.zoomDelta&&(be.zoomDelta=(be.zoomDelta||0)+pt.zoomDelta),pt.bearingDelta&&(be.bearingDelta=(be.bearingDelta||0)+pt.bearingDelta),pt.pitchDelta&&(be.pitchDelta=(be.pitchDelta||0)+pt.pitchDelta),void 0!==pt.around&&(be.around=pt.around),void 0!==pt.aroundCoord&&(be.aroundCoord=pt.aroundCoord),void 0!==pt.pinchAround&&(be.pinchAround=pt.pinchAround),pt.noInertia&&(be.noInertia=pt.noInertia),_e.extend(Te,vt),_e.extend(Pe,xt);this._updateMapTransform(be,Te,Pe),this._changes=[]}_updateMapTransform(be,Te,Pe){const pt=this._map,vt=pt.transform,a=_e=>[_e.x,_e.y,_e.z];if((_e=>{const be=this._eventsInProgress.drag;return be&&!this._handlersById[be.handlerName].isActive()})()&&!jr(be)){const _e=vt.zoom;vt.cameraElevationReference="sea",vt.recenterOnTerrain(),vt.cameraElevationReference="ground",_e!==vt.zoom&&this._map._update(!0)}if(!jr(be))return void this._fireEvents(Te,Pe,!0);let{panDelta:xt,zoomDelta:Tt,bearingDelta:It,pitchDelta:Mt,around:Lt,aroundCoord:Ft,pinchAround:Ot}=be;void 0!==Ot&&(Lt=Ot),(_e=>Te.drag&&!this._eventsInProgress.drag)()&&Lt&&(this._dragOrigin=a(vt.pointCoordinate3D(Lt)),this._trackingEllipsoid.setup(vt._camera.position,this._dragOrigin)),vt.cameraElevationReference="sea",pt._stop(!0),Lt=Lt||pt.transform.centerPoint,It&&(vt.bearing+=It),Mt&&(vt.pitch+=Mt),vt._updateCameraState();const Vt=[0,0,0];if(xt){const be=vt.pointCoordinate(Lt);if("globe"===vt.projection.name){const Te=_e.latFromMercatorY(be.y),Pe=vt.center.lat,pt=Math.min(_e.mercatorZfromAltitude(1,Te)/_e.mercatorZfromAltitude(1,Pe),2);xt=xt.rotate(-vt.angle),Vt[0]=-xt.x/vt.worldSize*pt,Vt[1]=-xt.y/vt.worldSize*pt}else{const _e=vt.pointCoordinate(Lt.sub(xt));be&&_e&&(Vt[0]=_e.x-be.x,Vt[1]=_e.y-be.y)}}const qt=vt.zoom,Wt=[0,0,0];if(Tt){const be=a(Ft||vt.pointCoordinate3D(Lt)),Te={dir:_e.normalize([],_e.sub([],be,vt._camera.position))};if(Te.dir[2]<0){const Pe=vt.zoomDeltaToMovement(be,Tt);_e.scale$2(Wt,Te.dir,Pe)}}const $t=_e.add(Vt,Vt,Wt);vt._translateCameraConstrained($t),Tt&&Math.abs(vt.zoom-qt)>1e-4&&vt.recenterOnTerrain(),vt.cameraElevationReference="ground",this._map._update(),be.noInertia||this._inertia.record(be),this._fireEvents(Te,Pe,!0)}_fireEvents(be,Te,Pe){const pt=Ur(this._eventsInProgress),vt=Ur(be),xt={};for(const _e in be){const{originalEvent:Te}=be[_e];this._eventsInProgress[_e]||(xt[`${_e}start`]=Te),this._eventsInProgress[_e]=be[_e]}!pt&&vt&&this._fireEvent("movestart",vt.originalEvent);for(const _e in xt)this._fireEvent(_e,xt[_e]);vt&&this._fireEvent("move",vt.originalEvent);for(const _e in be){const{originalEvent:Te}=be[_e];this._fireEvent(_e,Te)}const Tt={};let It;for(const _e in this._eventsInProgress){const{handlerName:be,originalEvent:Pe}=this._eventsInProgress[_e];this._handlersById[be].isActive()||(delete this._eventsInProgress[_e],It=Te[be]||Pe,Tt[`${_e}end`]=It)}for(const _e in Tt)this._fireEvent(_e,Tt[_e]);const Mt=Ur(this._eventsInProgress);if(Pe&&(pt||vt)&&!Mt){this._updatingCamera=!0;const be=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i=_e=>0!==_e&&-this._bearingSnap<_e&&_e<this._bearingSnap;be?(i(be.bearing||this._map.getBearing())&&(be.bearing=0),this._map.easeTo(be,{originalEvent:It})):(this._map.fire(new _e.Event("moveend",{originalEvent:It})),i(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(be,Te){this._map.fire(new _e.Event(be,Te?{originalEvent:Te}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((_e=>{this._frameId=void 0,this.handleEvent(new pu("renderFrame",{timeStamp:_e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Wu="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Ju extends _e.Evented{constructor(be,Te){super(),this._moving=!1,this._zooming=!1,this.transform=be,this._bearingSnap=Te.bearingSnap,_e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new _e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(_e,be){return this.jumpTo({center:_e},be)}panBy(be,Te,Pe){return be=_e.pointGeometry.convert(be).mult(-1),this.panTo(this.transform.center,_e.extend({offset:be},Te),Pe)}panTo(be,Te,Pe){return this.easeTo(_e.extend({center:be},Te),Pe)}getZoom(){return this.transform.zoom}setZoom(_e,be){return this.jumpTo({zoom:_e},be),this}zoomTo(be,Te,Pe){return this.easeTo(_e.extend({zoom:be},Te),Pe)}zoomIn(_e,be){return this.zoomTo(this.getZoom()+1,_e,be),this}zoomOut(_e,be){return this.zoomTo(this.getZoom()-1,_e,be),this}getBearing(){return this.transform.bearing}setBearing(_e,be){return this.jumpTo({bearing:_e},be),this}getPadding(){return this.transform.padding}setPadding(_e,be){return this.jumpTo({padding:_e},be),this}rotateTo(be,Te,Pe){return this.easeTo(_e.extend({bearing:be},Te),Pe)}resetNorth(be,Te){return this.rotateTo(0,_e.extend({duration:1e3},be),Te),this}resetNorthPitch(be,Te){return this.easeTo(_e.extend({bearing:0,pitch:0,duration:1e3},be),Te),this}snapToNorth(_e,be){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(_e,be):this}getPitch(){return this.transform.pitch}setPitch(_e,be){return this.jumpTo({pitch:_e},be),this}cameraForBounds(be,Te){"globe"===this.transform.projection.name&&_e.warnOnce('Globe projection does not support cameraForBounds API, this API may behave unexpectedly."'),be=_e.LngLatBounds.convert(be);const Pe=Te&&Te.bearing||0;return this._cameraForBoxAndBearing(be.getNorthWest(),be.getSouthEast(),Pe,Te)}_extendCameraOptions(be){const Te={top:0,bottom:0,right:0,left:0};if("number"==typeof(be=_e.extend({padding:Te,offset:[0,0],maxZoom:this.transform.maxZoom},be)).padding){const _e=be.padding;be.padding={top:_e,bottom:_e,right:_e,left:_e}}return be.padding=_e.extend(Te,be.padding),be}_cameraForBoxAndBearing(be,Te,Pe,pt){const vt=this._extendCameraOptions(pt),xt=this.transform,Tt=xt.padding,It=xt.project(_e.LngLat.convert(be)),Mt=xt.project(_e.LngLat.convert(Te)),Lt=new _e.pointGeometry(It.x,Mt.y),Ft=new _e.pointGeometry(Mt.x,It.y),Ot=-_e.degToRad(Pe),Vt=It.rotate(Ot),qt=Mt.rotate(Ot),Wt=Lt.rotate(Ot),$t=Ft.rotate(Ot),Kt=new _e.pointGeometry(Math.max(Vt.x,qt.x,Wt.x,$t.x),Math.max(Vt.y,qt.y,Wt.y,$t.y)),Jt=new _e.pointGeometry(Math.min(Vt.x,qt.x,Wt.x,$t.x),Math.min(Vt.y,qt.y,Wt.y,$t.y)),Yt=Kt.sub(Jt),Qt=(xt.width-((Tt.left||0)+(Tt.right||0)+vt.padding.left+vt.padding.right))/Yt.x,an=(xt.height-((Tt.top||0)+(Tt.bottom||0)+vt.padding.top+vt.padding.bottom))/Yt.y;if(an<0||Qt<0)return void _e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const cn=Math.min(xt.scaleZoom(xt.scale*Math.min(Qt,an)),vt.maxZoom),hn="number"==typeof vt.offset.x&&"number"==typeof vt.offset.y?new _e.pointGeometry(vt.offset.x,vt.offset.y):_e.pointGeometry.convert(vt.offset),pn=new _e.pointGeometry((vt.padding.left-vt.padding.right)/2,(vt.padding.top-vt.padding.bottom)/2).rotate(Pe*Math.PI/180),xn=hn.add(pn).mult(xt.scale/xt.zoomScale(cn));return{center:xt.unproject(It.add(Mt).div(2).sub(xn)),zoom:cn,bearing:Pe}}_cameraForBox(be,Te,Pe,pt,vt){const xt=this._extendCameraOptions(vt);Pe=Pe||0,pt=pt||0,be=_e.LngLat.convert(be),Te=_e.LngLat.convert(Te);const Tt=this.transform.clone();Tt.padding=xt.padding;const It=this.getFreeCameraOptions(),Mt=new _e.LngLat(.5*(be.lng+Te.lng),.5*(be.lat+Te.lat)),Lt=.5*(Pe+pt);if(Tt._camera.position[2]<_e.mercatorZfromAltitude(Lt,Mt.lat))return void _e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");It.lookAtPoint(Mt),Tt.setFreeCameraOptions(It);const Ft=_e.MercatorCoordinate.fromLngLat(be),Ot=_e.MercatorCoordinate.fromLngLat(Te),Vt=Tt.pointRayIntersection(Tt.centerPoint,Lt),qt=[(Wt=Tt.rayIntersectionCoordinate(Vt)).x,Wt.y,Wt.z];var Wt;const $t=Tt.screenPointToMercatorRay(Tt.centerPoint),Kt="globe"!==Tt.projection.name;let Jt,Yt=0;do{const Te=Math.floor(Tt.zoom),vt=1<<Te,xt=Math.min(vt*Ft.x,vt*Ot.x),It=Math.min(vt*Ft.y,vt*Ot.y),Mt=Math.max(vt*Ft.x,vt*Ot.x),Lt=Math.max(vt*Ft.y,vt*Ot.y),Vt=new _e.Aabb([xt,It,Pe],[Mt,Lt,pt]),Wt=_e.Frustum.fromInvProjectionMatrix(Tt.invProjMatrix,Tt.worldSize,Te,Kt);if(2!==Vt.intersects(Wt)){Jt&&(Tt._camera.position=_e.scaleAndAdd([],Tt._camera.position,$t.dir,-Jt),Tt._updateStateFromCamera());break}const Yt=_e.sub([],Tt._camera.position,qt);Jt=.5*_e.length(Yt),Tt._camera.position=_e.scaleAndAdd([],Tt._camera.position,$t.dir,Jt);try{Tt._updateStateFromCamera()}catch(be){return void _e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++Yt<10);return{center:Tt.center,zoom:Tt.zoom,bearing:Tt.bearing,pitch:Tt.pitch}}fitBounds(be,Te,Pe){return"globe"===this.transform.projection.name&&_e.warnOnce("Globe projection does not support fitBounds API, this API may behave unexpectedly."),this._fitInternal(this.cameraForBounds(be,Te),Te,Pe)}_raycastElevationBox(be,Te){const Pe=this.transform.elevation;if(!Pe)return;const pt=new _e.pointGeometry(be.x,Te.y),vt=new _e.pointGeometry(Te.x,be.y),xt=Pe.pointCoordinate(be);if(!xt)return;const Tt=Pe.pointCoordinate(Te);if(!Tt)return;const It=Pe.pointCoordinate(pt);if(!It)return;const Mt=Pe.pointCoordinate(vt);if(!Mt)return;const Lt=new _e.MercatorCoordinate(xt[0],xt[1]).toLngLat(),Ft=new _e.MercatorCoordinate(Tt[0],Tt[1]).toLngLat(),Ot=new _e.MercatorCoordinate(It[0],It[1]).toLngLat(),Vt=new _e.MercatorCoordinate(Mt[0],Mt[1]).toLngLat(),qt=Math.min(Lt.lng,Math.min(Ft.lng,Math.min(Ot.lng,Vt.lng))),Wt=Math.min(Lt.lat,Math.min(Ft.lat,Math.min(Ot.lat,Vt.lat))),$t=Math.max(Lt.lng,Math.max(Ft.lng,Math.max(Ot.lng,Vt.lng))),Kt=Math.max(Lt.lat,Math.max(Ft.lat,Math.max(Ot.lat,Vt.lat))),Jt=Math.min(xt[3],Math.min(Tt[3],Math.min(It[3],Mt[3]))),Yt=Math.max(xt[3],Math.max(Tt[3],Math.max(It[3],Mt[3])));return{minLngLat:new _e.LngLat(qt,Wt),maxLngLat:new _e.LngLat($t,Kt),minAltitude:Jt,maxAltitude:Yt}}fitScreenCoordinates(be,Te,Pe,pt,vt){let xt,Tt,It,Mt;"globe"===this.transform.projection.name&&_e.warnOnce("Globe projection does not support fitScreenCoordinates API, this API may behave unexpectedly.");const Lt=_e.pointGeometry.convert(be),Ft=_e.pointGeometry.convert(Te),Ot=this._raycastElevationBox(Lt,Ft);if(Ot)xt=Ot.minLngLat,Tt=Ot.maxLngLat,It=Ot.minAltitude,Mt=Ot.maxAltitude;else{if(this.transform.anyCornerOffEdge(Lt,Ft))return this;xt=this.transform.pointLocation(Lt),Tt=this.transform.pointLocation(Ft)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(_e.pointGeometry.convert(be)),this.transform.pointLocation(_e.pointGeometry.convert(Te)),Pe,pt):this._cameraForBox(xt,Tt,It,Mt,pt),pt,vt)}_fitInternal(be,Te,Pe){return be?(delete(Te=_e.extend(be,Te)).padding,Te.linear?this.easeTo(Te,Pe):this.flyTo(Te,Pe)):this}jumpTo(be,Te){this.stop();const Pe=be.preloadOnly?this.transform.clone():this.transform;let pt=!1,vt=!1,xt=!1;return"zoom"in be&&Pe.zoom!==+be.zoom&&(pt=!0,Pe.zoom=+be.zoom),void 0!==be.center&&(Pe.center=_e.LngLat.convert(be.center)),"bearing"in be&&Pe.bearing!==+be.bearing&&(vt=!0,Pe.bearing=+be.bearing),"pitch"in be&&Pe.pitch!==+be.pitch&&(xt=!0,Pe.pitch=+be.pitch),null==be.padding||Pe.isPaddingEqual(be.padding)||(Pe.padding=be.padding),be.preloadOnly?(this._preloadTiles(Pe),this):(this.fire(new _e.Event("movestart",Te)).fire(new _e.Event("move",Te)),pt&&this.fire(new _e.Event("zoomstart",Te)).fire(new _e.Event("zoom",Te)).fire(new _e.Event("zoomend",Te)),vt&&this.fire(new _e.Event("rotatestart",Te)).fire(new _e.Event("rotate",Te)).fire(new _e.Event("rotateend",Te)),xt&&this.fire(new _e.Event("pitchstart",Te)).fire(new _e.Event("pitch",Te)).fire(new _e.Event("pitchend",Te)),this.fire(new _e.Event("moveend",Te)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||_e.warnOnce(Wu),this.transform.getFreeCameraOptions()}setFreeCameraOptions(be,Te){const Pe=this.transform;if(!Pe.projection.supportsFreeCamera)return _e.warnOnce(Wu),this;this.stop();const pt=Pe.zoom,vt=Pe.pitch,xt=Pe.bearing;Pe.setFreeCameraOptions(be);const Tt=pt!==Pe.zoom,It=vt!==Pe.pitch,Mt=xt!==Pe.bearing;return this.fire(new _e.Event("movestart",Te)).fire(new _e.Event("move",Te)),Tt&&this.fire(new _e.Event("zoomstart",Te)).fire(new _e.Event("zoom",Te)).fire(new _e.Event("zoomend",Te)),Mt&&this.fire(new _e.Event("rotatestart",Te)).fire(new _e.Event("rotate",Te)).fire(new _e.Event("rotateend",Te)),It&&this.fire(new _e.Event("pitchstart",Te)).fire(new _e.Event("pitch",Te)).fire(new _e.Event("pitchend",Te)),this.fire(new _e.Event("moveend",Te)),this}easeTo(be,Te){this._stop(!1,be.easeId),(!1===(be=_e.extend({offset:[0,0],duration:500,easing:_e.ease},be)).animate||!be.essential&&_e.exported.prefersReducedMotion)&&(be.duration=0);const Pe=this.transform,pt=this.getZoom(),vt=this.getBearing(),xt=this.getPitch(),Tt=this.getPadding(),It="zoom"in be?+be.zoom:pt,Mt="bearing"in be?this._normalizeBearing(be.bearing,vt):vt,Lt="pitch"in be?+be.pitch:xt,Ft="padding"in be?be.padding:Pe.padding,Ot=_e.pointGeometry.convert(be.offset);let Vt,qt,Wt;if("globe"===Pe.projection.name){const Te=_e.MercatorCoordinate.fromLngLat(Pe.center),pt=Ot.rotate(-Pe.angle);Te.x+=pt.x/Pe.worldSize,Te.y+=pt.y/Pe.worldSize;const vt=Te.toLngLat(),xt=_e.LngLat.convert(be.center||vt);this._normalizeCenter(xt),Vt=Pe.centerPoint.add(pt),qt=new _e.pointGeometry(Te.x,Te.y).mult(Pe.worldSize),Wt=new _e.pointGeometry(_e.mercatorXfromLng(xt.lng),_e.mercatorYfromLat(xt.lat)).mult(Pe.worldSize).sub(qt)}else{Vt=Pe.centerPoint.add(Ot);const Te=Pe.pointLocation(Vt),pt=_e.LngLat.convert(be.center||Te);this._normalizeCenter(pt),qt=Pe.project(Te),Wt=Pe.project(pt).sub(qt)}const $t=Pe.zoomScale(It-pt);let Kt,Jt;be.around&&(Kt=_e.LngLat.convert(be.around),Jt=Pe.locationPoint(Kt));const Yt=this._zooming||It!==pt,Qt=this._rotating||vt!==Mt,an=this._pitching||Lt!==xt,cn=!Pe.isPaddingEqual(Ft),T=Pe=>hn=>{if(Yt&&(Pe.zoom=_e.number(pt,It,hn)),Qt&&(Pe.bearing=_e.number(vt,Mt,hn)),an&&(Pe.pitch=_e.number(xt,Lt,hn)),cn&&(Pe.interpolatePadding(Tt,Ft,hn),Vt=Pe.centerPoint.add(Ot)),Kt)Pe.setLocationAtPoint(Kt,Jt);else{const _e=Pe.zoomScale(Pe.zoom-pt),be=It>pt?Math.min(2,$t):Math.max(.5,$t),Te=Math.pow(be,1-hn),vt=Pe.unproject(qt.add(Wt.mult(hn*Te)).mult(_e));Pe.setLocationAtPoint(Pe.renderWorldCopies?vt.wrap():vt,Vt)}return be.preloadOnly||this._fireMoveEvents(Te),Pe};if(be.preloadOnly){const _e=this._emulate(T,be.duration,Pe);return this._preloadTiles(_e),this}const hn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Yt,this._rotating=Qt,this._pitching=an,this._padding=cn,this._easeId=be.easeId,this._prepareEase(Te,be.noMoveStart,hn),this._ease(T(Pe),(_e=>{Pe.recenterOnTerrain(),this._afterEase(Te,_e)}),be),this}_prepareEase(be,Te,Pe={}){this._moving=!0,this.transform.cameraElevationReference="sea",Te||Pe.moving||this.fire(new _e.Event("movestart",be)),this._zooming&&!Pe.zooming&&this.fire(new _e.Event("zoomstart",be)),this._rotating&&!Pe.rotating&&this.fire(new _e.Event("rotatestart",be)),this._pitching&&!Pe.pitching&&this.fire(new _e.Event("pitchstart",be))}_fireMoveEvents(be){this.fire(new _e.Event("move",be)),this._zooming&&this.fire(new _e.Event("zoom",be)),this._rotating&&this.fire(new _e.Event("rotate",be)),this._pitching&&this.fire(new _e.Event("pitch",be))}_afterEase(be,Te){if(this._easeId&&Te&&this._easeId===Te)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const Pe=this._zooming,pt=this._rotating,vt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Pe&&this.fire(new _e.Event("zoomend",be)),pt&&this.fire(new _e.Event("rotateend",be)),vt&&this.fire(new _e.Event("pitchend",be)),this.fire(new _e.Event("moveend",be))}flyTo(be,Te){if(!be.essential&&_e.exported.prefersReducedMotion){const Pe=_e.pick(be,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Pe,Te)}this.stop(),be=_e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:_e.ease},be);const Pe=this.transform,pt=this.getZoom(),vt=this.getBearing(),xt=this.getPitch(),Tt=this.getPadding(),It="zoom"in be?_e.clamp(+be.zoom,Pe.minZoom,Pe.maxZoom):pt,Mt="bearing"in be?this._normalizeBearing(be.bearing,vt):vt,Lt="pitch"in be?+be.pitch:xt,Ft="padding"in be?be.padding:Pe.padding,Ot=Pe.zoomScale(It-pt),Vt=_e.pointGeometry.convert(be.offset);let qt=Pe.centerPoint.add(Vt);const Wt=Pe.pointLocation(qt),$t=_e.LngLat.convert(be.center||Wt);this._normalizeCenter($t);const Kt=Pe.project(Wt),Jt=Pe.project($t).sub(Kt);let Yt=be.curve;const Qt=Math.max(Pe.width,Pe.height),an=Qt/Ot,cn=Jt.mag();if("minZoom"in be){const Te=_e.clamp(Math.min(be.minZoom,pt,It),Pe.minZoom,Pe.maxZoom),vt=Qt/Pe.zoomScale(Te-pt);Yt=Math.sqrt(vt/cn*2)}const hn=Yt*Yt;function E(_e){const be=(an*an-Qt*Qt+(_e?-1:1)*hn*hn*cn*cn)/(2*(_e?an:Qt)*hn*cn);return Math.log(Math.sqrt(be*be+1)-be)}function C(_e){return(Math.exp(_e)-Math.exp(-_e))/2}function I(_e){return(Math.exp(_e)+Math.exp(-_e))/2}const pn=E(0);let S=function(_e){return I(pn)/I(pn+Yt*_e)},z=function(_e){return Qt*((I(pn)*(C(be=pn+Yt*_e)/I(be))-C(pn))/hn)/cn;var be},xn=(E(1)-pn)/Yt;if(Math.abs(cn)<1e-6||!isFinite(xn)){if(Math.abs(Qt-an)<1e-6)return this.easeTo(be,Te);const _e=an<Qt?-1:1;xn=Math.abs(Math.log(an/Qt))/Yt,z=function(){return 0},S=function(be){return Math.exp(_e*Yt*be)}}be.duration="duration"in be?+be.duration:1e3*xn/("screenSpeed"in be?+be.screenSpeed/Yt:+be.speed),be.maxDuration&&be.duration>be.maxDuration&&(be.duration=0);const Pn=vt!==Mt,Ln=Lt!==xt,Fn=!Pe.isPaddingEqual(Ft),R=Pe=>Ot=>{const Wt=Ot*xn,Yt=1/S(Wt);Pe.zoom=1===Ot?It:pt+Pe.scaleZoom(Yt),Pn&&(Pe.bearing=_e.number(vt,Mt,Ot)),Ln&&(Pe.pitch=_e.number(xt,Lt,Ot)),Fn&&(Pe.interpolatePadding(Tt,Ft,Ot),qt=Pe.centerPoint.add(Vt));const Qt=1===Ot?$t:Pe.unproject(Kt.add(Jt.mult(z(Wt))).mult(Yt));return Pe.setLocationAtPoint(Pe.renderWorldCopies?Qt.wrap():Qt,qt),Pe._updateCameraOnTerrain(),be.preloadOnly||this._fireMoveEvents(Te),Pe};if(be.preloadOnly){const _e=this._emulate(R,be.duration,Pe);return this._preloadTiles(_e),this}return this._zooming=!0,this._rotating=Pn,this._pitching=Ln,this._padding=Fn,this._prepareEase(Te,!1),this._ease(R(Pe),(()=>this._afterEase(Te)),be),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(_e,be){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const _e=this._onEaseEnd;this._onEaseEnd=void 0,_e.call(this,be)}if(!_e){const _e=this.handlers;_e&&_e.stop(!1)}return this}_ease(be,Te,Pe){!1===Pe.animate||0===Pe.duration?(be(1),Te()):(this._easeStart=_e.exported.now(),this._easeOptions=Pe,this._onEaseFrame=be,this._onEaseEnd=Te,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const be=Math.min((_e.exported.now()-this._easeStart)/this._easeOptions.duration,1),Te=this._onEaseFrame;Te&&Te(this._easeOptions.easing(be)),be<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(be,Te){be=_e.wrap(be,-180,180);const Pe=Math.abs(be-Te);return Math.abs(be-360-Te)<Pe&&(be-=360),Math.abs(be+360-Te)<Pe&&(be+=360),be}_normalizeCenter(_e){const be=this.transform;if(!be.renderWorldCopies||be.maxBounds)return;const Te=_e.lng-be.center.lng;_e.lng+=Te>180?-360:Te<-180?360:0}_emulate(_e,be,Te){const Pe=Math.ceil(15*be/1e3),pt=[],vt=_e(Te.clone());for(let _e=0;_e<=Pe;_e++){const be=vt(_e/Pe);pt.push(be.clone())}return pt}}class Yu{constructor(be={}){this.options=be,_e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(_e){const be=this.options&&this.options.compact;return this._map=_e,this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n("button","mapboxgl-ctrl-attrib-button",this._container),n("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),be&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===be&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(_e,be){const Te=this._map._getUIString(`AttributionControl.${be}`);_e.setAttribute("aria-label",Te),_e.removeAttribute("title"),_e.firstElementChild&&_e.firstElementChild.setAttribute("title",Te)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let be=this._editLink;be||(be=this._editLink=this._container.querySelector(".mapbox-improve-map"));const Te=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||_e.config.ACCESS_TOKEN}];if(be){const Pe=Te.reduce(((_e,be,Pe)=>(be.value&&(_e+=`${be.key}=${be.value}${Pe<Te.length-1?"&":""}`),_e)),"?");be.href=`${_e.config.FEEDBACK_URL}/${Pe}${this._map._hash?this._map._hash.getHashString(!0):""}`,be.rel="noopener nofollow",this._setElementTitle(be,"MapFeedback")}}_updateData(_e){!_e||"metadata"!==_e.sourceDataType&&"visibility"!==_e.sourceDataType&&"style"!==_e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let _e=[];if(this._map.style.stylesheet){const _e=this._map.style.stylesheet;this.styleOwner=_e.owner,this.styleId=_e.id}const be=this._map.style._sourceCaches;for(const Te in be){const Pe=be[Te];if(Pe.used){const be=Pe.getSource();be.attribution&&_e.indexOf(be.attribution)<0&&_e.push(be.attribution)}}_e.sort(((_e,be)=>_e.length-be.length)),_e=_e.filter(((be,Te)=>{for(let Pe=Te+1;Pe<_e.length;Pe++)if(_e[Pe].indexOf(be)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?_e=[...this.options.customAttribution,..._e]:_e.unshift(this.options.customAttribution));const Te=_e.join(" | ");Te!==this._attribHTML&&(this._attribHTML=Te,_e.length?(this._innerContainer.innerHTML=Te,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Qu{constructor(){_e.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(_e){this._map=_e,this._container=n("div","mapboxgl-ctrl");const be=n("a","mapboxgl-ctrl-logo");return be.target="_blank",be.rel="noopener nofollow",be.href="https://www.mapbox.com/",be.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),be.setAttribute("rel","noopener nofollow"),this._container.appendChild(be),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(_e){_e&&"metadata"!==_e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const _e=this._map.style._sourceCaches;if(0===Object.entries(_e).length)return!0;for(const be in _e){const Te=_e[be].getSource();if(Te.hasOwnProperty("mapbox_logo")&&!Te.mapbox_logo)return!1}return!0}_updateCompact(){const _e=this._container.children;if(_e.length){const be=_e[0];this._map.getCanvasContainer().offsetWidth<250?be.classList.add("mapboxgl-compact"):be.classList.remove("mapboxgl-compact")}}}class ec{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(_e){const be=++this._id;return this._queue.push({callback:_e,id:be,cancelled:!1}),be}remove(_e){const be=this._currentlyRunning,Te=be?this._queue.concat(be):this._queue;for(const be of Te)if(be.id===_e)return void(be.cancelled=!0)}run(_e=0){const be=this._currentlyRunning=this._queue;this._queue=[];for(const Te of be)if(!Te.cancelled&&(Te.callback(_e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Hr(be,Te,Pe){if(be=new _e.LngLat(be.lng,be.lat),Te){const pt=new _e.LngLat(be.lng-360,be.lat),vt=new _e.LngLat(be.lng+360,be.lat),xt=360*Math.ceil(Math.abs(be.lng-Pe.center.lng)/360),Tt=Pe.locationPoint(be).distSqr(Te),It=Te.x<0||Te.y<0||Te.x>Pe.width||Te.y>Pe.height;Pe.locationPoint(pt).distSqr(Te)<Tt&&(It||Math.abs(pt.lng-Pe.center.lng)<xt)?be=pt:Pe.locationPoint(vt).distSqr(Te)<Tt&&(It||Math.abs(vt.lng-Pe.center.lng)<xt)&&(be=vt)}for(;Math.abs(be.lng-Pe.center.lng)>180;){const _e=Pe.locationPoint(be);if(_e.x>=0&&_e.y>=0&&_e.x<=Pe.width&&_e.y<=Pe.height)break;be.lng>Pe.center.lng?be.lng-=360:be.lng+=360}return be}const rc={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class oc extends _e.Evented{constructor(be,Te){if(super(),(be instanceof _e.window.HTMLElement||Te)&&(be=_e.extend({element:be},Te)),_e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=be&&be.anchor||"center",this._color=be&&be.color||"#3FB1CE",this._scale=be&&be.scale||1,this._draggable=be&&be.draggable||!1,this._clickTolerance=be&&be.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=be&&be.rotation||0,this._rotationAlignment=be&&be.rotationAlignment||"auto",this._pitchAlignment=be&&be.pitchAlignment&&be.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),be&&be.element)this._element=be.element,this._offset=_e.pointGeometry.convert(be&&be.offset||[0,0]);else{this._defaultMarker=!0,this._element=n("div");const Te=41,Pe=27,pt=a("svg",{display:"block",height:Te*this._scale+"px",width:Pe*this._scale+"px",viewBox:`0 0 ${Pe} ${Te}`},this._element),vt=a("radialGradient",{id:"shadowGradient"},a("defs",{},pt));a("stop",{offset:"10%","stop-opacity":.4},vt),a("stop",{offset:"100%","stop-opacity":.05},vt),a("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},pt),a("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},pt),a("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},pt),a("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},pt),this._offset=_e.pointGeometry.convert(be&&be.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(_e=>{_e.preventDefault()})),this._element.addEventListener("mousedown",(_e=>{_e.preventDefault()}));const Pe=this._element.classList;for(const _e in rc)Pe.remove(`mapboxgl-marker-anchor-${_e}`);Pe.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(_e){return _e===this._map||(this.remove(),this._map=_e,_e.getCanvasContainer().appendChild(this._element),_e.on("move",this._updateMoving),_e.on("moveend",this._update),_e.on("remove",this._clearFadeTimer),_e._addMarker(this),this.setDraggable(this._draggable),this._update(),_e.on("click",this._onMapClick)),this}remove(){const _e=this._map;return _e&&(_e.off("click",this._onMapClick),_e.off("move",this._updateMoving),_e.off("moveend",this._update),_e.off("mousedown",this._addDragHandler),_e.off("touchstart",this._addDragHandler),_e.off("mouseup",this._onUp),_e.off("touchend",this._onUp),_e.off("mousemove",this._onMove),_e.off("touchmove",this._onMove),_e.off("remove",this._clearFadeTimer),_e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(be){return this._lngLat=_e.LngLat.convert(be),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(_e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),_e){if(!("offset"in _e.options)){const be=38.1,Te=13.5,Pe=Math.sqrt(Math.pow(Te,2)/2);_e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-be],"bottom-left":[Pe,-1*(be-Te+Pe)],"bottom-right":[-Pe,-1*(be-Te+Pe)],left:[Te,-1*(be-Te)],right:[-Te,-1*(be-Te)]}:this._offset}this._popup=_e,_e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(_e){const be=_e.code,Te=_e.charCode||_e.keyCode;"Space"!==be&&"Enter"!==be&&32!==Te&&13!==Te||this.togglePopup()}_onMapClick(_e){const be=_e.originalEvent.target,Te=this._element;this._popup&&(be===Te||Te.contains(be))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const _e=this._popup;return _e?(_e.isOpen()?(_e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(_e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const _e=this._map;if(!_e)return!1;const be=_e.unproject(this._pos),Te=_e.getFreeCameraOptions();if(!Te.position)return!1;const Pe=Te.position.toLngLat();return Pe.distanceTo(be)<.9*Pe.distanceTo(this._lngLat)}_evaluateOpacity(){const be=this._map;if(!be)return;const Te=this._pos;if(!Te||Te.x<0||Te.x>be.transform.width||Te.y<0||Te.y>be.transform.height)return void this._clearFadeTimer();const Pe=be.unproject(Te);let pt;be._usingGlobe()&&_e.isLngLatBehindGlobe(be.transform,this._lngLat)?pt=0:(pt=1-be._queryFogOpacity(Pe),be.transform._terrainEnabled()&&be.getTerrain()&&this._behindTerrain()&&(pt*=.2)),this._element.style.opacity=`${pt}`,this._element.style.pointerEvents=pt>0?"auto":"none",this._popup&&this._popup._setOpacity(pt),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const _e=this._pos;if(!_e||!this._map)return;const be=this._calculateXYTransform()+this._calculateZTransform(),Te=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${_e.x}px,${_e.y}px) ${rc[this._anchor]}\n            ${be}\n            translate(${Te.x}px,${Te.y}px)\n        `}_calculateXYTransform(){const be=this._pos,Te=this._map;if("map"!==this.getPitchAlignment()||!Te||!be)return"";if(!Te._usingGlobe()){const _e=Te.getPitch();return _e?`rotateX(${_e}deg)`:""}const Pe=_e.radToDeg(_e.globeTiltAtLngLat(Te.transform,this._lngLat)),pt=be.sub(_e.globeCenterToScreenPoint(Te.transform)),vt=Pe/(Math.abs(pt.x)+Math.abs(pt.y)),xt=pt.x*vt,Tt=-pt.y*vt;return Tt||xt?`rotateX(${Tt}deg) rotateY(${xt}deg)`:""}_calculateZTransform(){const _e=this._calculateRotation();return _e?`rotateZ(${_e}deg)`:""}_calculateRotation(){if("viewport"===this._rotationAlignment||"auto"===this._rotationAlignment)return this._rotation;if(this._map&&"map"===this._rotationAlignment){const be=this._map;if(this._pos&&be&&be._usingGlobe()){const Te=be.project(new _e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),Pe=be.project(new _e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(Te);return this._rotation+_e.radToDeg(Math.atan2(Pe.y,Pe.x))-90}return this._rotation-this._map.getBearing()}return 0}_update(be){_e.window.cancelAnimationFrame(this._updateFrameId);const Te=this._map;Te&&(Te.transform.renderWorldCopies&&(this._lngLat=Hr(this._lngLat,this._pos,Te.transform)),this._pos=Te.project(this._lngLat),!0===be?this._updateFrameId=_e.window.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())})):this._pos=this._pos.round(),Te._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(Te._usingGlobe()||Te.getTerrain()||Te.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})))}getOffset(){return this._offset}setOffset(be){return this._offset=_e.pointGeometry.convert(be),this._update(),this}_onMove(be){const Te=this._map;if(Te){if(!this._isDragging){const _e=this._clickTolerance||Te._clickTolerance;this._isDragging=be.point.dist(this._pointerdownPos)>=_e}this._isDragging&&(this._pos=be.point.sub(this._positionDelta),this._lngLat=Te.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new _e.Event("dragstart"))),this.fire(new _e.Event("drag")))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const be=this._map;be&&(be.off("mousemove",this._onMove),be.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new _e.Event("dragend")),this._state="inactive"}_addDragHandler(_e){const be=this._map;be&&this._element.contains(_e.originalEvent.target)&&(_e.preventDefault(),this._positionDelta=_e.point.sub(this._pos),this._pointerdownPos=_e.point,this._state="pending",be.on("mousemove",this._onMove),be.on("touchmove",this._onMove),be.once("mouseup",this._onUp),be.once("touchend",this._onUp))}setDraggable(_e){this._draggable=!!_e;const be=this._map;return be&&(_e?(be.on("mousedown",this._addDragHandler),be.on("touchstart",this._addDragHandler)):(be.off("mousedown",this._addDragHandler),be.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(_e){return this._rotation=_e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(_e){return this._rotationAlignment=_e||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment?"viewport":this._rotationAlignment}setPitchAlignment(_e){return this._pitchAlignment=_e||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}}class dc{constructor(_e){this.jumpTo(_e)}getValue(be){if(be<=this._startTime)return this._start;if(be>=this._endTime)return this._end;const Te=_e.easeCubicInOut((be-this._startTime)/(this._endTime-this._startTime));return this._start*(1-Te)+this._end*Te}isEasing(_e){return _e>=this._startTime&&_e<=this._endTime}jumpTo(_e){this._startTime=-1/0,this._endTime=-1/0,this._start=_e,this._end=_e}easeTo(_e,be,Te){this._start=this.getValue(be),this._end=_e,this._startTime=be,this._endTime=be+Te}}const hc={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},gc={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function tn(_e){_e.parentNode&&_e.parentNode.removeChild(_e)}const fc={showCompass:!0,showZoom:!0,visualizePitch:!1};class Rc{constructor(be,Te,Pe=!1){this._clickTolerance=10,this.element=Te,this.mouseRotate=new ul({clickTolerance:be.dragRotate._mouseRotate._clickTolerance}),this.map=be,Pe&&(this.mousePitch=new _l({clickTolerance:be.dragRotate._mousePitch._clickTolerance})),_e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),Te.addEventListener("mousedown",this.mousedown),Te.addEventListener("touchstart",this.touchstart,{passive:!1}),Te.addEventListener("touchmove",this.touchmove),Te.addEventListener("touchend",this.touchend),Te.addEventListener("touchcancel",this.reset)}down(_e,be){this.mouseRotate.mousedown(_e,be),this.mousePitch&&this.mousePitch.mousedown(_e,be),h()}move(_e,be){const Te=this.map,Pe=this.mouseRotate.mousemoveWindow(_e,be),pt=Pe&&Pe.bearingDelta;if(pt&&Te.setBearing(Te.getBearing()+pt),this.mousePitch){const Pe=this.mousePitch.mousemoveWindow(_e,be),pt=Pe&&Pe.pitchDelta;pt&&Te.setPitch(Te.getPitch()+pt)}}off(){const _e=this.element;_e.removeEventListener("mousedown",this.mousedown),_e.removeEventListener("touchstart",this.touchstart,{passive:!1}),_e.removeEventListener("touchmove",this.touchmove),_e.removeEventListener("touchend",this.touchend),_e.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){u(),_e.window.removeEventListener("mousemove",this.mousemove),_e.window.removeEventListener("mouseup",this.mouseup)}mousedown(be){this.down(_e.extend({},be,{ctrlKey:!0,preventDefault:()=>be.preventDefault()}),m(this.element,be)),_e.window.addEventListener("mousemove",this.mousemove),_e.window.addEventListener("mouseup",this.mouseup)}mousemove(_e){this.move(_e,m(this.element,_e))}mouseup(_e){this.mouseRotate.mouseupWindow(_e),this.mousePitch&&this.mousePitch.mouseupWindow(_e),this.offTemp()}touchstart(_e){1!==_e.targetTouches.length?this.reset():(this._startPos=this._lastPos=p(this.element,_e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>_e.preventDefault()},this._startPos))}touchmove(_e){1!==_e.targetTouches.length?this.reset():(this._lastPos=p(this.element,_e.targetTouches)[0],this.move({preventDefault:()=>_e.preventDefault()},this._lastPos))}touchend(_e){0===_e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const kc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Pc={maxWidth:100,unit:"metric"};function sn(_e,be,Te){const Pe=ln(be),pt=Pe/be,vt={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[Te];this._map._requestDomTask((()=>{this._container.style.width=_e*pt+"px",this._container.innerHTML=`${Pe}&nbsp;${vt}`}))}function ln(_e){const be=Math.pow(10,`${Math.floor(_e)}`.length-1);let Te=_e/be;return Te=Te>=10?10:Te>=5?5:Te>=3?3:Te>=2?2:Te>=1?1:function(_e){const be=Math.pow(10,Math.ceil(-Math.log(_e)/Math.LN10));return Math.round(_e*be)/be}(Te),be*Te}const Ic={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Lc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function un(be=new _e.pointGeometry(0,0),Te="bottom"){if("number"==typeof be){const Pe=Math.round(Math.sqrt(.5*Math.pow(be,2)));switch(Te){case"top":return new _e.pointGeometry(0,be);case"top-left":return new _e.pointGeometry(Pe,Pe);case"top-right":return new _e.pointGeometry(-Pe,Pe);case"bottom":return new _e.pointGeometry(0,-be);case"bottom-left":return new _e.pointGeometry(Pe,-Pe);case"bottom-right":return new _e.pointGeometry(-Pe,-Pe);case"left":return new _e.pointGeometry(be,0);case"right":return new _e.pointGeometry(-be,0)}return new _e.pointGeometry(0,0)}return be instanceof _e.pointGeometry||Array.isArray(be)?_e.pointGeometry.convert(be):_e.pointGeometry.convert(be[Te]||[0,0])}const Fc={version:_e.version,supported:be,setRTLTextPlugin:_e.setRTLTextPlugin,getRTLTextPluginStatus:_e.getRTLTextPluginStatus,Map:class extends Ju{constructor(be){if(null!=(be=_e.extend({},gc,be)).minZoom&&null!=be.maxZoom&&be.minZoom>be.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=be.minPitch&&null!=be.maxPitch&&be.minPitch>be.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=be.minPitch&&be.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=be.maxPitch&&be.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(be.antialias&&_e.isSafariWithAntialiasingBug(_e.window)&&(be.antialias=!1,_e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Cd(be.minZoom,be.maxZoom,be.minPitch,be.maxPitch,be.renderWorldCopies),be),this._interactive=be.interactive,this._minTileCacheSize=be.minTileCacheSize,this._maxTileCacheSize=be.maxTileCacheSize,this._failIfMajorPerformanceCaveat=be.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=be.preserveDrawingBuffer,this._antialias=be.antialias,this._trackResize=be.trackResize,this._bearingSnap=be.bearingSnap,this._refreshExpiredTiles=be.refreshExpiredTiles,this._fadeDuration=be.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=be.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=be.collectResourceTiming,this._optimizeForTerrain=be.optimizeForTerrain,this._language="auto"===be.language?_e.window.navigator.language:be.language,this._worldview=be.worldview,this._renderTaskQueue=new ec,this._domRenderTaskQueue=new ec,this._controls=[],this._markers=[],this._mapId=_e.uniqueId(),this._locale=_e.extend({},hc,be.locale),this._clickTolerance=be.clickTolerance,this._cooperativeGestures=be.cooperativeGestures,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new dc(0),this._explicitProjection=null,this._requestManager=new _e.RequestManager(be.transformRequest,be.accessToken,be.testMode),this._silenceAuthErrors=!!be.testMode,"string"==typeof be.container){if(this._container=_e.window.document.getElementById(be.container),!this._container)throw new Error(`Container '${be.container}' not found.`)}else{if(!(be.container instanceof _e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=be.container}if(this._container.childNodes.length>0&&_e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),be.maxBounds&&this.setMaxBounds(be.maxBounds),_e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),void 0!==_e.window&&(_e.window.addEventListener("online",this._onWindowOnline,!1),_e.window.addEventListener("resize",this._onWindowResize,!1),_e.window.addEventListener("orientationchange",this._onWindowResize,!1),_e.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new yu(this,be),this._localFontFamily=be.localFontFamily,this._localIdeographFontFamily=be.localIdeographFontFamily,be.style&&this.setStyle(be.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),be.projection&&this.setProjection(be.projection),this._hash=be.hash&&new Ad("string"==typeof be.hash&&be.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:be.center,zoom:be.zoom,bearing:be.bearing,pitch:be.pitch}),be.bounds&&(this.resize(),this.fitBounds(be.bounds,_e.extend({},be.fitBoundsOptions,{duration:0})))),this.resize(),be.attributionControl&&this.addControl(new Yu({customAttribution:be.customAttribution})),this._logoControl=new Qu,this.addControl(this._logoControl,be.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(be=>{this._update("style"===be.dataType),this.fire(new _e.Event(`${be.dataType}data`,be))})),this.on("dataloading",(be=>{this.fire(new _e.Event(`${be.dataType}dataloading`,be))}))}_getMapId(){return this._mapId}addControl(be,Te){if(void 0===Te&&(Te=be.getDefaultPosition?be.getDefaultPosition():"top-right"),!be||!be.onAdd)return this.fire(new _e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const Pe=be.onAdd(this);this._controls.push(be);const pt=this._controlPositions[Te];return-1!==Te.indexOf("bottom")?pt.insertBefore(Pe,pt.firstChild):pt.appendChild(Pe),this}removeControl(be){if(!be||!be.onRemove)return this.fire(new _e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const Te=this._controls.indexOf(be);return Te>-1&&this._controls.splice(Te,1),be.onRemove(this),this}hasControl(_e){return this._controls.indexOf(_e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(be){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const Te=!this._moving;return Te&&this.fire(new _e.Event("movestart",be)).fire(new _e.Event("move",be)),this.fire(new _e.Event("resize",be)),Te&&this.fire(new _e.Event("moveend",be)),this}getBounds(){return"globe"===this.transform.projection.name&&_e.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly."'),this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(be){return this.transform.setMaxBounds(_e.LngLatBounds.convert(be)),this._update()}setMinZoom(be){if((be=null==be?-2:be)>=-2&&be<=this.transform.maxZoom)return this.transform.minZoom=be,this._update(),this.getZoom()<be?this.setZoom(be):this.fire(new _e.Event("zoomstart")).fire(new _e.Event("zoom")).fire(new _e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(be){if((be=null==be?22:be)>=this.transform.minZoom)return this.transform.maxZoom=be,this._update(),this.getZoom()>be?this.setZoom(be):this.fire(new _e.Event("zoomstart")).fire(new _e.Event("zoom")).fire(new _e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(be){if((be=null==be?0:be)<0)throw new Error("minPitch must be greater than or equal to 0");if(be>=0&&be<=this.transform.maxPitch)return this.transform.minPitch=be,this._update(),this.getPitch()<be?this.setPitch(be):this.fire(new _e.Event("pitchstart")).fire(new _e.Event("pitch")).fire(new _e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(be){if((be=null==be?85:be)>85)throw new Error("maxPitch must be less than or equal to 85");if(be>=this.transform.minPitch)return this.transform.maxPitch=be,this._update(),this.getPitch()>be?this.setPitch(be):this.fire(new _e.Event("pitchstart")).fire(new _e.Event("pitch")).fire(new _e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_e){return this.transform.renderWorldCopies=_e,this._update()}getLanguage(){return this._language}setLanguage(be){if(this._language="auto"===be?_e.window.navigator.language:be,this.style)for(const _e in this.style._sourceCaches){const be=this.style._sourceCaches[_e]._source;be._setLanguage&&be._setLanguage(this._language)}for(const _e of this._controls)_e._setLanguage&&_e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(_e){if(this._worldview=_e,this.style)for(const be in this.style._sourceCaches){const Te=this.style._sourceCaches[be]._source;Te._setWorldview&&Te._setWorldview(_e)}return this}getProjection(){return this._explicitProjection?this._explicitProjection:this.style&&this.style.stylesheet&&this.style.stylesheet.projection?this.style.stylesheet.projection:{name:"mercator",center:[0,0]}}_usingGlobe(){return"globe"===this.transform.projection.name}setProjection(_e){return this._lazyInitEmptyStyle(),_e?"string"==typeof _e&&(_e={name:_e}):_e=null,this._updateProjection(_e)}_updateProjection(be){const Te=this.getProjection();null===be&&(this._explicitProjection=null);const Pe=be||this.getProjection();let pt;if(Pe&&"globe"===Pe.name&&this.transform.zoom>=_e.GLOBE_ZOOM_THRESHOLD_MAX?(pt=this.transform.setProjection({name:"mercator"}),this.transform.mercatorFromTransition=!0):(pt=this.transform.setProjection(Pe),this.transform.mercatorFromTransition=!1),be&&(this._explicitProjection="globe"===be.name?{name:"globe",center:[0,0]}:this.transform.getProjection()),this.style.applyProjectionUpdate(),pt){if("globe"===Te.name&&"globe"===this.getProjection().name)this.style._forceSymbolLayerUpdate();else{this.painter.clearBackgroundTiles();for(const _e in this.style._sourceCaches)this.style._sourceCaches[_e].clearTiles()}this._update(!0)}return this}project(be){return this.transform.locationPoint3D(_e.LngLat.convert(be))}unproject(be){return this.transform.pointLocation3D(_e.pointGeometry.convert(be))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_createDelegatedListener(_e,be,Te){if("mouseenter"===_e||"mouseover"===_e){let Pe=!1;const r=pt=>{const vt=be.filter((_e=>this.getLayer(_e))),xt=vt.length?this.queryRenderedFeatures(pt.point,{layers:vt}):[];xt.length?Pe||(Pe=!0,Te.call(this,new Bd(_e,this,pt.originalEvent,{features:xt}))):Pe=!1},n=()=>{Pe=!1};return{layers:new Set(be),listener:Te,delegates:{mousemove:r,mouseout:n}}}if("mouseleave"===_e||"mouseout"===_e){let Pe=!1;const r=pt=>{const vt=be.filter((_e=>this.getLayer(_e)));(vt.length?this.queryRenderedFeatures(pt.point,{layers:vt}):[]).length?Pe=!0:Pe&&(Pe=!1,Te.call(this,new Bd(_e,this,pt.originalEvent)))},n=be=>{Pe&&(Pe=!1,Te.call(this,new Bd(_e,this,be.originalEvent)))};return{layers:new Set(be),listener:Te,delegates:{mousemove:r,mouseout:n}}}{const o=_e=>{const Pe=be.filter((_e=>this.getLayer(_e))),pt=Pe.length?this.queryRenderedFeatures(_e.point,{layers:Pe}):[];pt.length&&(_e.features=pt,Te.call(this,_e),delete _e.features)};return{layers:new Set(be),listener:Te,delegates:{[_e]:o}}}}on(_e,be,Te){if(void 0===Te)return super.on(_e,be);Array.isArray(be)||(be=[be]);const Pe=this._createDelegatedListener(_e,be,Te);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_e]=this._delegatedListeners[_e]||[],this._delegatedListeners[_e].push(Pe);for(const _e in Pe.delegates)this.on(_e,Pe.delegates[_e]);return this}once(_e,be,Te){if(void 0===Te)return super.once(_e,be);Array.isArray(be)||(be=[be]);const Pe=this._createDelegatedListener(_e,be,Te);for(const _e in Pe.delegates)this.once(_e,Pe.delegates[_e]);return this}off(_e,be,Te){if(void 0===Te)return super.off(_e,be);be=new Set(Array.isArray(be)?be:[be]);const o=(_e,be)=>{if(_e.size!==be.size)return!1;for(const Te of _e)if(!be.has(Te))return!1;return!0},Pe=this._delegatedListeners?this._delegatedListeners[_e]:void 0;return Pe&&(_e=>{for(let Pe=0;Pe<_e.length;Pe++){const pt=_e[Pe];if(pt.listener===Te&&o(pt.layers,be)){for(const _e in pt.delegates)this.off(_e,pt.delegates[_e]);return _e.splice(Pe,1),this}}})(Pe),this}queryRenderedFeatures(be,Te){return this.style?(void 0!==Te||void 0===be||be instanceof _e.pointGeometry||Array.isArray(be)||(Te=be,be=void 0),this.style.queryRenderedFeatures(be=be||[[0,0],[this.transform.width,this.transform.height]],Te=Te||{},this.transform)):[]}querySourceFeatures(_e,be){return this.style.querySourceFeatures(_e,be)}queryTerrainElevation(be,Te){const Pe=this.transform.elevation;return Pe?(Te=_e.extend({},{exaggerated:!0},Te),Pe.getAtPoint(_e.MercatorCoordinate.fromLngLat(be),null,Te.exaggerated)):null}setStyle(be,Te){return!1!==(Te=_e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},Te)).diff&&Te.localIdeographFontFamily===this._localIdeographFontFamily&&Te.localFontFamily===this._localFontFamily&&this.style&&be?(this._diffStyle(be,Te),this):(this._localIdeographFontFamily=Te.localIdeographFontFamily,this._localFontFamily=Te.localFontFamily,this._updateStyle(be,Te))}_getUIString(_e){const be=this._locale[_e];if(null==be)throw new Error(`Missing UI string '${_e}'`);return be}_updateStyle(_e,be){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),_e&&(this.style=new Uo(this,be||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof _e?this.style.loadURL(_e):this.style.loadJSON(_e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Uo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(be,Te){if("string"==typeof be){const Pe=this._requestManager.normalizeStyleURL(be),pt=this._requestManager.transformRequest(Pe,_e.ResourceType.Style);_e.getJSON(pt,((be,Pe)=>{be?this.fire(new _e.ErrorEvent(be)):Pe&&this._updateDiff(Pe,Te)}))}else"object"==typeof be&&this._updateDiff(be,Te)}_updateDiff(be,Te){try{this.style.setState(be)&&this._update(!0)}catch(Pe){_e.warnOnce(`Unable to perform style diff: ${Pe.message||Pe.error||Pe}.  Rebuilding the style from scratch.`),this._updateStyle(be,Te)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(_e.warnOnce("There is no style added to the map."),!1)}addSource(_e,be){return this._lazyInitEmptyStyle(),this.style.addSource(_e,be),this._update(!0)}isSourceLoaded(_e){return!!this.style&&this.style._isSourceCacheLoaded(_e)}areTilesLoaded(){const _e=this.style&&this.style._sourceCaches;for(const be in _e){const Te=_e[be]._tiles;for(const _e in Te){const be=Te[_e];if("loaded"!==be.state&&"errored"!==be.state)return!1}}return!0}addSourceType(_e,be,Te){this._lazyInitEmptyStyle(),this.style.addSourceType(_e,be,Te)}removeSource(_e){return this.style.removeSource(_e),this._updateTerrain(),this._update(!0)}getSource(_e){return this.style.getSource(_e)}addImage(be,Te,{pixelRatio:Pe=1,sdf:pt=!1,stretchX:vt,stretchY:xt,content:Tt}={}){if(this._lazyInitEmptyStyle(),Te instanceof _e.window.HTMLImageElement||_e.window.ImageBitmap&&Te instanceof _e.window.ImageBitmap){const{width:It,height:Mt,data:Lt}=_e.exported.getImageData(Te);this.style.addImage(be,{data:new _e.RGBAImage({width:It,height:Mt},Lt),pixelRatio:Pe,stretchX:vt,stretchY:xt,content:Tt,sdf:pt,version:0})}else if(void 0===Te.width||void 0===Te.height)this.fire(new _e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:It,height:Mt}=Te,Lt=Te;this.style.addImage(be,{data:new _e.RGBAImage({width:It,height:Mt},new Uint8Array(Lt.data)),pixelRatio:Pe,stretchX:vt,stretchY:xt,content:Tt,sdf:pt,version:0,userImage:Lt}),Lt.onAdd&&Lt.onAdd(this,be)}}updateImage(be,Te){const Pe=this.style.getImage(be);if(!Pe)return void this.fire(new _e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const pt=Te instanceof _e.window.HTMLImageElement||_e.window.ImageBitmap&&Te instanceof _e.window.ImageBitmap?_e.exported.getImageData(Te):Te,{width:vt,height:xt}=pt;void 0!==vt&&void 0!==xt?vt===Pe.data.width&&xt===Pe.data.height?(Pe.data.replace(pt.data,!(Te instanceof _e.window.HTMLImageElement||_e.window.ImageBitmap&&Te instanceof _e.window.ImageBitmap)),this.style.updateImage(be,Pe)):this.fire(new _e.ErrorEvent(new Error(`The width and height of the updated image (${vt}, ${xt})\n                must be that same as the previous version of the image\n                (${Pe.data.width}, ${Pe.data.height})`))):this.fire(new _e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(be){return be?!!this.style.getImage(be):(this.fire(new _e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(_e){this.style.removeImage(_e)}loadImage(be,Te){_e.getImage(this._requestManager.transformRequest(be,_e.ResourceType.Image),((be,Pe)=>{Te(be,Pe instanceof _e.window.HTMLImageElement?_e.exported.getImageData(Pe):Pe)}))}listImages(){return this.style.listImages()}addLayer(_e,be){return this._lazyInitEmptyStyle(),this.style.addLayer(_e,be),this._update(!0)}moveLayer(_e,be){return this.style.moveLayer(_e,be),this._update(!0)}removeLayer(_e){return this.style.removeLayer(_e),this._update(!0)}getLayer(_e){return this.style.getLayer(_e)}setLayerZoomRange(_e,be,Te){return this.style.setLayerZoomRange(_e,be,Te),this._update(!0)}setFilter(_e,be,Te={}){return this.style.setFilter(_e,be,Te),this._update(!0)}getFilter(_e){return this.style.getFilter(_e)}setPaintProperty(_e,be,Te,Pe={}){return this.style.setPaintProperty(_e,be,Te,Pe),this._update(!0)}getPaintProperty(_e,be){return this.style.getPaintProperty(_e,be)}setLayoutProperty(_e,be,Te,Pe={}){return this.style.setLayoutProperty(_e,be,Te,Pe),this._update(!0)}getLayoutProperty(_e,be){return this.style.getLayoutProperty(_e,be)}setLight(_e,be={}){return this._lazyInitEmptyStyle(),this.style.setLight(_e,be),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(_e){return this._lazyInitEmptyStyle(),!_e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(_e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(_e){return this._lazyInitEmptyStyle(),this.style.setFog(_e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(be){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(_e.LngLat.convert(be),this.transform):0}setFeatureState(_e,be){return this.style.setFeatureState(_e,be),this._update()}removeFeatureState(_e,be){return this.style.removeFeatureState(_e,be),this._update()}getFeatureState(_e){return this.style.getFeatureState(_e)}_updateContainerDimensions(){if(!this._container)return;const be=this._container.getBoundingClientRect().width||400,Te=this._container.getBoundingClientRect().height||300;let Pe,pt,vt,xt=this._container;for(;xt&&(!pt||!vt);){const be=_e.window.getComputedStyle(xt).transform;be&&"none"!==be&&(Pe=be.match(/matrix.*\((.+)\)/)[1].split(", "),Pe[0]&&"0"!==Pe[0]&&"1"!==Pe[0]&&(pt=Pe[0]),Pe[3]&&"0"!==Pe[3]&&"1"!==Pe[3]&&(vt=Pe[3])),xt=xt.parentElement}this._containerWidth=pt?Math.abs(be/pt):be,this._containerHeight=vt?Math.abs(Te/vt):Te}_detectMissingCSS(){"rgb(250, 128, 114)"!==_e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&_e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const _e=this._container;_e.classList.add("mapboxgl-map"),(this._missingCSSCanary=n("div","mapboxgl-canary",_e)).style.visibility="hidden",this._detectMissingCSS();const be=this._canvasContainer=n("div","mapboxgl-canvas-container",_e);this._interactive&&be.classList.add("mapboxgl-interactive"),this._canvas=n("canvas","mapboxgl-canvas",be),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const Te=this._controlContainer=n("div","mapboxgl-control-container",_e),Pe=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((_e=>{Pe[_e]=n("div",`mapboxgl-ctrl-${_e}`,Te)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(be,Te){const Pe=_e.exported.devicePixelRatio||1;this._canvas.width=Pe*Math.ceil(be),this._canvas.height=Pe*Math.ceil(Te),this._canvas.style.width=`${be}px`,this._canvas.style.height=`${Te}px`}_addMarker(_e){this._markers.push(_e)}_removeMarker(_e){const be=this._markers.indexOf(_e);-1!==be&&this._markers.splice(be,1)}_setupPainter(){const Te=_e.extend({},be.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Pe=this._canvas.getContext("webgl",Te)||this._canvas.getContext("experimental-webgl",Te);Pe?(_e.storeAuthState(Pe,!0),this.painter=new cd(Pe,this.transform),this.on("data",(_e=>{"source"===_e.dataType&&this.painter.setTileLoadedFlag(!0)})),_e.exported$1.testSupport(Pe)):this.fire(new _e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(be){be.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new _e.Event("webglcontextlost",{originalEvent:be}))}_contextRestored(be){this._setupPainter(),this.resize(),this._update(),this.fire(new _e.Event("webglcontextrestored",{originalEvent:be}))}_onMapScroll(_e){if(_e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_e){return this.style?(this._styleDirty=this._styleDirty||_e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_e){return this._update(),this._renderTaskQueue.add(_e)}_cancelRenderFrame(_e){this._renderTaskQueue.remove(_e)}_requestDomTask(_e){!this.loaded()||this.loaded()&&!this.isMoving()?_e():this._domRenderTaskQueue.add(_e)}_render(be){let Te;const Pe=this.painter.context.extTimerQuery,pt=_e.exported.now();if(this.listens("gpu-timing-frame")&&(Te=Pe.createQueryEXT(),Pe.beginQueryEXT(Pe.TIME_ELAPSED_EXT,Te)),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(be),this._domRenderTaskQueue.run(be),this._removed)return;"globe"===this.getProjection().name&&(this.transform.zoom>=_e.GLOBE_ZOOM_THRESHOLD_MAX?"globe"===this.transform.projection.name&&this._updateProjection():"mercator"===this.transform.projection.name&&this._updateProjection());let vt=!1;const xt=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const be=this.transform.zoom,Te=this.transform.pitch,Pe=_e.exported.now();this.style.zoomHistory.update(be,Pe);const pt=new _e.EvaluationParameters(be,{now:Pe,fadeDuration:xt,pitch:Te,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Tt=pt.crossFadingFactor();1===Tt&&Tt===this._crossFadingFactor||(vt=!0,this._crossFadingFactor=Tt),this.style.update(pt)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let Tt=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),Tt=this._updateAverageElevation(pt),this.style._updateSources(this.transform),this._forceMarkerUpdate()):Tt=this._updateAverageElevation(pt),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,xt,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:xt,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new _e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new _e.Event("load"))),this.style&&(this.style.hasTransitions()||vt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),Te){const be=_e.exported.now()-pt;Pe.endQueryEXT(Pe.TIME_ELAPSED_EXT,Te),setTimeout((()=>{const vt=Pe.getQueryObjectEXT(Te,Pe.QUERY_RESULT_EXT)/1e6;Pe.deleteQueryEXT(Te),this.fire(new _e.Event("gpu-timing-frame",{cpuTime:be,gpuTime:vt})),_e.window.performance.mark("frame-gpu",{startTime:pt,detail:{gpuTime:vt}})}),50)}if(this.listens("gpu-timing-layer")){const be=this.painter.collectGpuTimers();setTimeout((()=>{const Te=this.painter.queryGpuTimers(be);this.fire(new _e.Event("gpu-timing-layer",{layerTimes:Te}))}),50)}if(this.listens("gpu-timing-deferred-render")){const be=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const Te=this.painter.queryGpuTimeDeferredRender(be);this.fire(new _e.Event("gpu-timing-deferred-render",{gpuTime:Te}))}),50)}const It=this._sourcesDirty||this._styleDirty||this._placementDirty||Tt;if(It||this._repaint)this.triggerRepaint();else{const be=!this.isMoving()&&this.loaded();if(be&&(Tt=this._updateAverageElevation(pt,!0)),Tt)this.triggerRepaint();else if(this._triggerFrame(!1),be&&(this.fire(new _e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const be=this._calculateSpeedIndex();this.fire(new _e.Event("speedindexcompleted",{speedIndex:be})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||It||(this._fullyLoaded=!0,this._authenticate())}_forceMarkerUpdate(){for(const _e of this._markers)_e._update()}_updateAverageElevation(_e,be=!1){const i=_e=>(this.transform.averageElevation=_e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&i(0);if((be||_e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(_e)){const be=this.transform.averageElevation;let Te=this.transform.sampleAverageElevation(),Pe=!1;this.transform.elevation&&(Pe=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(Te)?Te=0:this._averageElevationLastSampledAt=_e;const pt=Math.abs(be-Te);if(pt>1){if(this._isInitialLoad||Pe)return this._averageElevation.jumpTo(Te),i(Te);this._averageElevation.easeTo(Te,_e,300)}else if(pt>1e-4)return this._averageElevation.jumpTo(Te),i(Te)}return!!this._averageElevation.isEasing(_e)&&i(this._averageElevation.getValue(_e))}_authenticate(){_e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(be=>{if(be&&(be.message===_e.AUTH_ERR_MSG||401===be.status)){const be=this.painter.context.gl;_e.storeAuthState(be,!1),this._logoControl instanceof Qu&&this._logoControl._updateLogo(),be&&be.clear(be.DEPTH_BUFFER_BIT|be.COLOR_BUFFER_BIT|be.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new _e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),_e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}))}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const _e=this.painter.canvasCopy(),be=this.painter.getCanvasCopiesAndTimestamps();be.timeStamps.push(performance.now());const Te=this.painter.context.gl,Pe=Te.createFramebuffer();function r(_e){Te.framebufferTexture2D(Te.FRAMEBUFFER,Te.COLOR_ATTACHMENT0,Te.TEXTURE_2D,_e,0);const be=new Uint8Array(Te.drawingBufferWidth*Te.drawingBufferHeight*4);return Te.readPixels(0,0,Te.drawingBufferWidth,Te.drawingBufferHeight,Te.RGBA,Te.UNSIGNED_BYTE,be),be}return Te.bindFramebuffer(Te.FRAMEBUFFER,Pe),this._canvasPixelComparison(r(_e),be.canvasCopies.map(r),be.timeStamps)}_canvasPixelComparison(_e,be,Te){let Pe=Te[1]-Te[0];const pt=_e.length/4;for(let vt=0;vt<be.length;vt++){const xt=be[vt];let Tt=0;for(let be=0;be<xt.length;be+=4)xt[be]===_e[be]&&xt[be+1]===_e[be+1]&&xt[be+2]===_e[be+2]&&xt[be+3]===_e[be+3]&&(Tt+=1);Pe+=(Te[vt+2]-Te[vt+1])*(1-Tt/pt)}return Pe}remove(){this._hash&&this._hash.remove();for(const _e of this._controls)_e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==_e.window&&(_e.window.removeEventListener("resize",this._onWindowResize,!1),_e.window.removeEventListener("orientationchange",this._onWindowResize,!1),_e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),_e.window.removeEventListener("online",this._onWindowOnline,!1));const be=this.painter.context.gl.getExtension("WEBGL_lose_context");be&&be.loseContext(),tn(this._canvasContainer),tn(this._controlContainer),tn(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),_e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new _e.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(be){this._renderNextFrame=this._renderNextFrame||be,this.style&&!this._frame&&(this._frame=_e.exported.frame((_e=>{const be=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,be&&this._render(_e)})))}_preloadTiles(be){const Te=this.style?Object.values(this.style._sourceCaches):[];return _e.asyncAll(Te,((_e,Te)=>_e._preloadTiles(be,Te)),(()=>{this.triggerRepaint()})),this}_onWindowOnline(){this._update()}_onWindowResize(_e){this._trackResize&&this.resize({originalEvent:_e})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_e){this._showTileBoundaries!==_e&&(this._showTileBoundaries=_e,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(_e){this._showTerrainWireframe!==_e&&(this._showTerrainWireframe=_e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(_e){this._speedIndexTiming!==_e&&(this._speedIndexTiming=_e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_e){this._showPadding!==_e&&(this._showPadding=_e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_e){this._showCollisionBoxes!==_e&&(this._showCollisionBoxes=_e,_e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_e){this._showOverdrawInspector!==_e&&(this._showOverdrawInspector=_e,this._update())}get repaint(){return!!this._repaint}set repaint(_e){this._repaint!==_e&&(this._repaint=_e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_e){this._vertices=_e,this._update()}_setCacheLimits(be,Te){_e.setCacheLimits(be,Te)}get version(){return _e.version}},NavigationControl:class{constructor(be){this.options=_e.extend({},fc,be),this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(_e=>_e.preventDefault())),this.options.showZoom&&(_e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(_e=>{this._map&&this._map.zoomIn({},{originalEvent:_e})})),n("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(_e=>{this._map&&this._map.zoomOut({},{originalEvent:_e})})),n("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(_e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(_e=>{const be=this._map;be&&(this.options.visualizePitch?be.resetNorthPitch({},{originalEvent:_e}):be.resetNorth({},{originalEvent:_e}))})),this._compassIcon=n("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const _e=this._map;if(!_e)return;const be=_e.getZoom(),Te=be===_e.getMaxZoom(),Pe=be===_e.getMinZoom();this._zoomInButton.disabled=Te,this._zoomOutButton.disabled=Pe,this._zoomInButton.setAttribute("aria-disabled",Te.toString()),this._zoomOutButton.setAttribute("aria-disabled",Pe.toString())}_rotateCompassArrow(){const _e=this._map;if(!_e)return;const be=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(_e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${_e.transform.pitch}deg) rotateZ(${_e.transform.angle*(180/Math.PI)}deg)`:`rotate(${_e.transform.angle*(180/Math.PI)}deg)`;_e._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=be)}))}onAdd(_e){return this._map=_e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),_e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&_e.on("pitch",this._rotateCompassArrow),_e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Rc(_e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const _e=this._map;_e&&(this._container.remove(),this.options.showZoom&&_e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&_e.off("pitch",this._rotateCompassArrow),_e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(_e,be){const Te=n("button",_e,this._container);return Te.type="button",Te.addEventListener("click",be),Te}_setButtonTitle(_e,be){if(!this._map)return;const Te=this._map._getUIString(`NavigationControl.${be}`);_e.setAttribute("aria-label",Te),_e.firstElementChild&&_e.firstElementChild.setAttribute("title",Te)}},GeolocateControl:class extends _e.Evented{constructor(be){super(),this.options=_e.extend({geolocation:_e.window.navigator.geolocation},kc,be),_e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=$o(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(_e){return this._map=_e,this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(be){void 0!==this._supportsGeolocation?be(this._supportsGeolocation):void 0!==_e.window.navigator.permissions?_e.window.navigator.permissions.query({name:"geolocation"}).then((_e=>{this._supportsGeolocation="denied"!==_e.state,be(this._supportsGeolocation)})):(this._supportsGeolocation=!!this.options.geolocation,be(this._supportsGeolocation))}_isOutOfMapMaxBounds(_e){const be=this._map.getMaxBounds(),Te=_e.coords;return!!be&&(Te.longitude<be.getWest()||Te.longitude>be.getEast()||Te.latitude<be.getSouth()||Te.latitude>be.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(be){if(this._map){if(this._isOutOfMapMaxBounds(be))return this._setErrorState(),this.fire(new _e.Event("outofmaxbounds",be)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=be,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(be),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(be),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new _e.Event("geolocate",be)),this._finish()}}_updateCamera(be){const Te=new _e.LngLat(be.coords.longitude,be.coords.latitude),Pe=be.coords.accuracy,pt=this._map.getBearing(),vt=_e.extend({bearing:pt},this.options.fitBoundsOptions);this._map.fitBounds(Te.toBounds(Pe),vt,{geolocateSource:!0})}_updateMarker(be){if(be){const Te=new _e.LngLat(be.coords.longitude,be.coords.latitude);this._accuracyCircleMarker.setLngLat(Te).addTo(this._map),this._userLocationDotMarker.setLngLat(Te).addTo(this._map),this._accuracy=be.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const be=this._map.transform,Te=_e.mercatorZfromAltitude(1,be._center.lat)*be.worldSize,Pe=Math.ceil(2*this._accuracy*Te);this._circleElement.style.width=`${Pe}px`,this._circleElement.style.height=`${Pe}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(be){if(this._map){if(this.options.trackUserLocation)if(1===be.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const _e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",_e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",_e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===be.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new _e.Event("error",be)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(be){if(this._container.addEventListener("contextmenu",(_e=>_e.preventDefault())),this._geolocateButton=n("button","mapboxgl-ctrl-geolocate",this._container),n("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===be){_e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const be=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",be),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",be)}else{const _e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",_e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",_e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n("div","mapboxgl-user-location"),this._dotElement.appendChild(n("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(n("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new oc({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=n("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new oc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(be=>{be.geolocateSource||"ACTIVE_LOCK"!==this._watchState||be.originalEvent&&"resize"===be.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new _e.Event("trackuserlocationend")))}))}_onDeviceOrientation(_e){this._userLocationDotMarker&&(_e.webkitCompassHeading?this._heading=_e.webkitCompassHeading:!0===_e.absolute&&(this._heading=-1*_e.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return _e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new _e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new _e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new _e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let _e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(_e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(_e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,_e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const t=()=>{_e.window.addEventListener("ondeviceorientationabsolute"in _e.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==_e.window.DeviceMotionEvent&&"function"==typeof _e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((_e=>{"granted"===_e&&t()})).catch(console.error):t()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),_e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),_e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Yu,ScaleControl:class{constructor(be){this.options=_e.extend({},Pc,be),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(_e){return!1}}()||(this._setScale=sn.bind(this)),_e.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const _e=this.options.maxWidth||100,be=this._map,Te=be._containerHeight/2,Pe=be._containerWidth/2-_e/2,pt=be.unproject([Pe,Te]),vt=be.unproject([Pe+_e,Te]),xt=pt.distanceTo(vt);if("imperial"===this.options.unit){const be=3.2808*xt;be>5280?this._setScale(_e,be/5280,"mile"):this._setScale(_e,be,"foot")}else"nautical"===this.options.unit?this._setScale(_e,xt/1852,"nautical-mile"):xt>=1e3?this._setScale(_e,xt/1e3,"kilometer"):this._setScale(_e,xt,"meter")}_setScale(_e,be,Te){const Pe=ln(be),pt=Pe/be;this._map._requestDomTask((()=>{this._container.style.width=_e*pt+"px",this._container.innerHTML="nautical-mile"!==Te?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:Te}).format(Pe):`${Pe}&nbsp;nm`}))}onAdd(_e){return this._map=_e,this._language=_e.getLanguage(),this._container=n("div","mapboxgl-ctrl mapboxgl-ctrl-scale",_e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(_e){this._language=_e,this._update()}setUnit(_e){this.options.unit=_e,this._update()}},FullscreenControl:class{constructor(be){this._fullscreen=!1,be&&be.container&&(be.container instanceof _e.window.HTMLElement?this._container=be.container:_e.warnOnce("Full screen control 'container' must be a DOM element.")),_e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in _e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in _e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(be){return this._map=be,this._container||(this._container=this._map.getContainer()),this._controlContainer=n("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",_e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,_e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!_e.window.document.fullscreenEnabled&&!_e.window.document.webkitFullscreenEnabled)}_setupUI(){const be=this._fullscreenButton=n("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n("span","mapboxgl-ctrl-icon",be).setAttribute("aria-hidden","true"),be.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),_e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const _e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",_e)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(_e.window.document.fullscreenElement||_e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?_e.window.document.exitFullscreen?_e.window.document.exitFullscreen():_e.window.document.webkitCancelFullScreen&&_e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends _e.Evented{constructor(be){super(),this.options=_e.extend(Object.create(Ic),be),_e.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(be&&be.className?be.className.trim().split(/\s+/):[])}addTo(be){return this._map&&this.remove(),this._map=be,this.options.closeOnClick&&be.on("preclick",this._onClose),this.options.closeOnMove&&be.on("move",this._onClose),be.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(be.on("mousemove",this._onMouseEvent),be.on("mouseup",this._onMouseEvent),be._canvasContainer.classList.add("mapboxgl-track-pointer")):be.on("move",this._update),this.fire(new _e.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const be=this._map;return be&&(be.off("move",this._update),be.off("move",this._onClose),be.off("preclick",this._onClose),be.off("click",this._onClose),be.off("remove",this.remove),be.off("mousemove",this._onMouseEvent),be.off("mouseup",this._onMouseEvent),be.off("drag",this._onMouseEvent),this._map=void 0),this.fire(new _e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(be){this._lngLat=_e.LngLat.convert(be),this._pos=null,this._trackPointer=!1,this._update();const Te=this._map;return Te&&(Te.on("move",this._update),Te.off("mousemove",this._onMouseEvent),Te._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const _e=this._map;return _e&&(_e.off("move",this._update),_e.on("mousemove",this._onMouseEvent),_e.on("drag",this._onMouseEvent),_e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(be){return this.setDOMContent(_e.window.document.createTextNode(be))}setHTML(be){const Te=_e.window.document.createDocumentFragment(),Pe=_e.window.document.createElement("body");let pt;for(Pe.innerHTML=be;pt=Pe.firstChild,pt;)Te.appendChild(pt);return this.setDOMContent(Te)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(_e){return this.options.maxWidth=_e,this._update(),this}setDOMContent(_e){let be=this._content;if(be)for(;be.hasChildNodes();)be.firstChild&&be.removeChild(be.firstChild);else be=this._content=n("div","mapboxgl-popup-content",this._container||void 0);if(be.appendChild(_e),this.options.closeButton){const _e=this._closeButton=n("button","mapboxgl-popup-close-button",be);_e.type="button",_e.setAttribute("aria-label","Close popup"),_e.setAttribute("aria-hidden","true"),_e.innerHTML="&#215;",_e.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(_e){return this._classList.add(_e),this._updateClassList(),this}removeClassName(_e){return this._classList.delete(_e),this._updateClassList(),this}setOffset(_e){return this.options.offset=_e,this._update(),this}toggleClassName(_e){let be;return this._classList.delete(_e)?be=!1:(this._classList.add(_e),be=!0),this._updateClassList(),be}_onMouseEvent(_e){this._update(_e.point)}_getAnchor(_e){if(this.options.anchor)return this.options.anchor;const be=this._map,Te=this._container,Pe=this._pos;if(!be||!Te||!Pe)return"bottom";const pt=Te.offsetWidth,vt=Te.offsetHeight,xt=Pe.x<pt/2,Tt=Pe.x>be.transform.width-pt/2;if(Pe.y+_e<vt)return xt?"top-left":Tt?"top-right":"top";if(Pe.y>be.transform.height-vt){if(xt)return"bottom-left";if(Tt)return"bottom-right"}return xt?"left":Tt?"right":"bottom"}_updateClassList(){const _e=this._container;if(!_e)return;const be=[...this._classList];be.push("mapboxgl-popup"),this._anchor&&be.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&be.push("mapboxgl-popup-track-pointer"),_e.className=be.join(" ")}_update(be){const Te=this._map,Pe=this._content;if(!Te||!this._lngLat&&!this._trackPointer||!Pe)return;let pt=this._container;if(pt||(pt=this._container=n("div","mapboxgl-popup",Te.getContainer()),this._tip=n("div","mapboxgl-popup-tip",pt),pt.appendChild(Pe)),this.options.maxWidth&&pt.style.maxWidth!==this.options.maxWidth&&(pt.style.maxWidth=this.options.maxWidth),Te.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Hr(this._lngLat,this._pos,Te.transform)),!this._trackPointer||be){const _e=this._pos=this._trackPointer&&be?be:Te.project(this._lngLat),Pe=un(this.options.offset),pt=this._anchor=this._getAnchor(Pe.y),vt=un(this.options.offset,pt),xt=_e.add(vt).round();Te._requestDomTask((()=>{this._container&&pt&&(this._container.style.transform=`${rc[pt]} translate(${xt.x}px,${xt.y}px)`)}))}if(!this._marker&&Te._usingGlobe()){const be=_e.isLngLatBehindGlobe(Te.transform,this._lngLat)?0:1;this._setOpacity(be)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _e=this._container.querySelector(Lc);_e&&_e.focus()}_onClose(){this.remove()}_setOpacity(_e){this._container&&(this._container.style.opacity=`${_e}`),this._content&&(this._content.style.pointerEvents=_e?"auto":"none")}},Marker:oc,Style:Uo,LngLat:_e.LngLat,LngLatBounds:_e.LngLatBounds,Point:_e.pointGeometry,MercatorCoordinate:_e.MercatorCoordinate,FreeCameraOptions:wd,Evented:_e.Evented,config:_e.config,prewarm:function(){Ge().acquire(sr)},clearPrewarmedResources:function(){const _e=cr;_e&&(_e.isPreloaded()&&1===_e.numActive()?(_e.release(sr),cr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return _e.config.ACCESS_TOKEN},set accessToken(be){_e.config.ACCESS_TOKEN=be},get baseApiUrl(){return _e.config.API_URL},set baseApiUrl(be){_e.config.API_URL=be},get workerCount(){return ur.workerCount},set workerCount(_e){ur.workerCount=_e},get maxParallelImageRequests(){return _e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(be){_e.config.MAX_PARALLEL_IMAGE_REQUESTS=be},clearStorage(be){_e.clearTileCache(be)},workerUrl:"",workerClass:null,setNow:_e.exported.setNow,restoreNow:_e.exported.restoreNow};return Fc})),Te}()},27418:function(_e){"use strict";var be=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;function toObject(_e){if(null==_e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(_e)}_e.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var _e=new String("abc");if(_e[5]="de","5"===Object.getOwnPropertyNames(_e)[0])return!1;for(var be={},Te=0;Te<10;Te++)be["_"+String.fromCharCode(Te)]=Te;if("0123456789"!==Object.getOwnPropertyNames(be).map((function(_e){return be[_e]})).join(""))return!1;var Pe={};return"abcdefghijklmnopqrst".split("").forEach((function(_e){Pe[_e]=_e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},Pe)).join("")}catch(_e){return!1}}()?Object.assign:function(_e,pt){for(var vt,xt,Tt=toObject(_e),It=1;It<arguments.length;It++){for(var Mt in vt=Object(arguments[It]))Te.call(vt,Mt)&&(Tt[Mt]=vt[Mt]);if(be){xt=be(vt);for(var Lt=0;Lt<xt.length;Lt++)Pe.call(vt,xt[Lt])&&(Tt[xt[Lt]]=vt[xt[Lt]])}}return Tt}},35433:function(){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},39980:function(){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript},62356:function(){!function(_e){var be=_e.util.clone(_e.languages.javascript),Te=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,Pe=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,pt=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function re(_e,be){return _e=_e.replace(/<S>/g,(function(){return Te})).replace(/<BRACES>/g,(function(){return Pe})).replace(/<SPREAD>/g,(function(){return pt})),RegExp(_e,be)}pt=re(pt).source,_e.languages.jsx=_e.languages.extend("markup",be),_e.languages.jsx.tag.pattern=re(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),_e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,_e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,_e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,_e.languages.jsx.tag.inside.comment=be.comment,_e.languages.insertBefore("inside","attr-name",{spread:{pattern:re(/<SPREAD>/.source),inside:_e.languages.jsx}},_e.languages.jsx.tag),_e.languages.insertBefore("inside","special-attr",{script:{pattern:re(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:_e.languages.jsx}}},_e.languages.jsx.tag);var stringifyToken=function(_e){return _e?"string"==typeof _e?_e:"string"==typeof _e.content?_e.content:_e.content.map(stringifyToken).join(""):""},walkTokens=function(be){for(var Te=[],Pe=0;Pe<be.length;Pe++){var pt=be[Pe],vt=!1;if("string"!=typeof pt&&("tag"===pt.type&&pt.content[0]&&"tag"===pt.content[0].type?"</"===pt.content[0].content[0].content?Te.length>0&&Te[Te.length-1].tagName===stringifyToken(pt.content[0].content[1])&&Te.pop():"/>"===pt.content[pt.content.length-1].content||Te.push({tagName:stringifyToken(pt.content[0].content[1]),openedBraces:0}):Te.length>0&&"punctuation"===pt.type&&"{"===pt.content?Te[Te.length-1].openedBraces++:Te.length>0&&Te[Te.length-1].openedBraces>0&&"punctuation"===pt.type&&"}"===pt.content?Te[Te.length-1].openedBraces--:vt=!0),(vt||"string"==typeof pt)&&Te.length>0&&0===Te[Te.length-1].openedBraces){var xt=stringifyToken(pt);Pe<be.length-1&&("string"==typeof be[Pe+1]||"plain-text"===be[Pe+1].type)&&(xt+=stringifyToken(be[Pe+1]),be.splice(Pe+1,1)),Pe>0&&("string"==typeof be[Pe-1]||"plain-text"===be[Pe-1].type)&&(xt=stringifyToken(be[Pe-1])+xt,be.splice(Pe-1,1),Pe--),be[Pe]=new _e.Token("plain-text",xt,null,xt)}pt.content&&"string"!=typeof pt.content&&walkTokens(pt.content)}};_e.hooks.add("after-tokenize",(function(_e){"jsx"!==_e.language&&"tsx"!==_e.language||walkTokens(_e.tokens)}))}(Prism)},24335:function(){Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(_e){"entity"===_e.type&&(_e.attributes.title=_e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function addInlined(_e,be){var Te={};Te["language-"+be]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[be]},Te.cdata=/^<!\[CDATA\[|\]\]>$/i;var Pe={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Te}};Pe["language-"+be]={pattern:/[\s\S]+/,inside:Prism.languages[be]};var pt={};pt[_e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return _e})),"i"),lookbehind:!0,greedy:!0,inside:Pe},Prism.languages.insertBefore("markup","cdata",pt)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(_e,be){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+_e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[be,"language-"+be],inside:Prism.languages[be]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},15660:function(_e,be,Te){var Pe=function(_e){var be=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,Te=0,Pe={},pt={manual:_e.Prism&&_e.Prism.manual,disableWorkerMessageHandler:_e.Prism&&_e.Prism.disableWorkerMessageHandler,util:{encode:function encode(_e){return _e instanceof Token?new Token(_e.type,encode(_e.content),_e.alias):Array.isArray(_e)?_e.map(encode):_e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(_e){return Object.prototype.toString.call(_e).slice(8,-1)},objId:function(_e){return _e.__id||Object.defineProperty(_e,"__id",{value:++Te}),_e.__id},clone:function deepClone(_e,be){var Te,Pe;switch(be=be||{},pt.util.type(_e)){case"Object":if(Pe=pt.util.objId(_e),be[Pe])return be[Pe];for(var vt in Te={},be[Pe]=Te,_e)_e.hasOwnProperty(vt)&&(Te[vt]=deepClone(_e[vt],be));return Te;case"Array":return Pe=pt.util.objId(_e),be[Pe]?be[Pe]:(Te=[],be[Pe]=Te,_e.forEach((function(_e,Pe){Te[Pe]=deepClone(_e,be)})),Te);default:return _e}},getLanguage:function(_e){for(;_e;){var Te=be.exec(_e.className);if(Te)return Te[1].toLowerCase();_e=_e.parentElement}return"none"},setLanguage:function(_e,Te){_e.className=_e.className.replace(RegExp(be,"gi"),""),_e.classList.add("language-"+Te)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(Pe){var _e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Pe.stack)||[])[1];if(_e){var be=document.getElementsByTagName("script");for(var Te in be)if(be[Te].src==_e)return be[Te]}return null}},isActive:function(_e,be,Te){for(var Pe="no-"+be;_e;){var pt=_e.classList;if(pt.contains(be))return!0;if(pt.contains(Pe))return!1;_e=_e.parentElement}return!!Te}},languages:{plain:Pe,plaintext:Pe,text:Pe,txt:Pe,extend:function(_e,be){var Te=pt.util.clone(pt.languages[_e]);for(var Pe in be)Te[Pe]=be[Pe];return Te},insertBefore:function(_e,be,Te,Pe){var vt=(Pe=Pe||pt.languages)[_e],xt={};for(var Tt in vt)if(vt.hasOwnProperty(Tt)){if(Tt==be)for(var It in Te)Te.hasOwnProperty(It)&&(xt[It]=Te[It]);Te.hasOwnProperty(Tt)||(xt[Tt]=vt[Tt])}var Mt=Pe[_e];return Pe[_e]=xt,pt.languages.DFS(pt.languages,(function(be,Te){Te===Mt&&be!=_e&&(this[be]=xt)})),xt},DFS:function DFS(_e,be,Te,Pe){Pe=Pe||{};var vt=pt.util.objId;for(var xt in _e)if(_e.hasOwnProperty(xt)){be.call(_e,xt,_e[xt],Te||xt);var Tt=_e[xt],It=pt.util.type(Tt);"Object"!==It||Pe[vt(Tt)]?"Array"!==It||Pe[vt(Tt)]||(Pe[vt(Tt)]=!0,DFS(Tt,be,xt,Pe)):(Pe[vt(Tt)]=!0,DFS(Tt,be,null,Pe))}}},plugins:{},highlightAll:function(_e,be){pt.highlightAllUnder(document,_e,be)},highlightAllUnder:function(_e,be,Te){var Pe={callback:Te,container:_e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};pt.hooks.run("before-highlightall",Pe),Pe.elements=Array.prototype.slice.apply(Pe.container.querySelectorAll(Pe.selector)),pt.hooks.run("before-all-elements-highlight",Pe);for(var vt,xt=0;vt=Pe.elements[xt++];)pt.highlightElement(vt,!0===be,Pe.callback)},highlightElement:function(be,Te,Pe){var vt=pt.util.getLanguage(be),xt=pt.languages[vt];pt.util.setLanguage(be,vt);var Tt=be.parentElement;Tt&&"pre"===Tt.nodeName.toLowerCase()&&pt.util.setLanguage(Tt,vt);var It={element:be,language:vt,grammar:xt,code:be.textContent};function insertHighlightedCode(_e){It.highlightedCode=_e,pt.hooks.run("before-insert",It),It.element.innerHTML=It.highlightedCode,pt.hooks.run("after-highlight",It),pt.hooks.run("complete",It),Pe&&Pe.call(It.element)}if(pt.hooks.run("before-sanity-check",It),(Tt=It.element.parentElement)&&"pre"===Tt.nodeName.toLowerCase()&&!Tt.hasAttribute("tabindex")&&Tt.setAttribute("tabindex","0"),!It.code)return pt.hooks.run("complete",It),void(Pe&&Pe.call(It.element));if(pt.hooks.run("before-highlight",It),It.grammar)if(Te&&_e.Worker){var Mt=new Worker(pt.filename);Mt.onmessage=function(_e){insertHighlightedCode(_e.data)},Mt.postMessage(JSON.stringify({language:It.language,code:It.code,immediateClose:!0}))}else insertHighlightedCode(pt.highlight(It.code,It.grammar,It.language));else insertHighlightedCode(pt.util.encode(It.code))},highlight:function(_e,be,Te){var Pe={code:_e,grammar:be,language:Te};if(pt.hooks.run("before-tokenize",Pe),!Pe.grammar)throw new Error('The language "'+Pe.language+'" has no grammar.');return Pe.tokens=pt.tokenize(Pe.code,Pe.grammar),pt.hooks.run("after-tokenize",Pe),Token.stringify(pt.util.encode(Pe.tokens),Pe.language)},tokenize:function(_e,be){var Te=be.rest;if(Te){for(var Pe in Te)be[Pe]=Te[Pe];delete be.rest}var pt=new LinkedList;return addAfter(pt,pt.head,_e),matchGrammar(_e,pt,be,pt.head,0),toArray(pt)},hooks:{all:{},add:function(_e,be){var Te=pt.hooks.all;Te[_e]=Te[_e]||[],Te[_e].push(be)},run:function(_e,be){var Te=pt.hooks.all[_e];if(Te&&Te.length)for(var Pe,vt=0;Pe=Te[vt++];)Pe(be)}},Token:Token};function Token(_e,be,Te,Pe){this.type=_e,this.content=be,this.alias=Te,this.length=0|(Pe||"").length}function matchPattern(_e,be,Te,Pe){_e.lastIndex=be;var pt=_e.exec(Te);if(pt&&Pe&&pt[1]){var vt=pt[1].length;pt.index+=vt,pt[0]=pt[0].slice(vt)}return pt}function matchGrammar(_e,be,Te,Pe,vt,xt){for(var Tt in Te)if(Te.hasOwnProperty(Tt)&&Te[Tt]){var It=Te[Tt];It=Array.isArray(It)?It:[It];for(var Mt=0;Mt<It.length;++Mt){if(xt&&xt.cause==Tt+","+Mt)return;var Lt=It[Mt],Ft=Lt.inside,Ot=!!Lt.lookbehind,Vt=!!Lt.greedy,qt=Lt.alias;if(Vt&&!Lt.pattern.global){var Wt=Lt.pattern.toString().match(/[imsuy]*$/)[0];Lt.pattern=RegExp(Lt.pattern.source,Wt+"g")}for(var $t=Lt.pattern||Lt,Kt=Pe.next,Jt=vt;Kt!==be.tail&&!(xt&&Jt>=xt.reach);Jt+=Kt.value.length,Kt=Kt.next){var Yt=Kt.value;if(be.length>_e.length)return;if(!(Yt instanceof Token)){var Qt,an=1;if(Vt){if(!(Qt=matchPattern($t,Jt,_e,Ot))||Qt.index>=_e.length)break;var cn=Qt.index,hn=Qt.index+Qt[0].length,pn=Jt;for(pn+=Kt.value.length;cn>=pn;)pn+=(Kt=Kt.next).value.length;if(Jt=pn-=Kt.value.length,Kt.value instanceof Token)continue;for(var xn=Kt;xn!==be.tail&&(pn<hn||"string"==typeof xn.value);xn=xn.next)an++,pn+=xn.value.length;an--,Yt=_e.slice(Jt,pn),Qt.index-=Jt}else if(!(Qt=matchPattern($t,0,Yt,Ot)))continue;cn=Qt.index;var Pn=Qt[0],Ln=Yt.slice(0,cn),Fn=Yt.slice(cn+Pn.length),jn=Jt+Yt.length;xt&&jn>xt.reach&&(xt.reach=jn);var $n=Kt.prev;if(Ln&&($n=addAfter(be,$n,Ln),Jt+=Ln.length),removeRange(be,$n,an),Kt=addAfter(be,$n,new Token(Tt,Ft?pt.tokenize(Pn,Ft):Pn,qt,Pn)),Fn&&addAfter(be,Kt,Fn),an>1){var ea={cause:Tt+","+Mt,reach:jn};matchGrammar(_e,be,Te,Kt.prev,Jt,ea),xt&&ea.reach>xt.reach&&(xt.reach=ea.reach)}}}}}}function LinkedList(){var _e={value:null,prev:null,next:null},be={value:null,prev:_e,next:null};_e.next=be,this.head=_e,this.tail=be,this.length=0}function addAfter(_e,be,Te){var Pe=be.next,pt={value:Te,prev:be,next:Pe};return be.next=pt,Pe.prev=pt,_e.length++,pt}function removeRange(_e,be,Te){for(var Pe=be.next,pt=0;pt<Te&&Pe!==_e.tail;pt++)Pe=Pe.next;be.next=Pe,Pe.prev=be,_e.length-=pt}function toArray(_e){for(var be=[],Te=_e.head.next;Te!==_e.tail;)be.push(Te.value),Te=Te.next;return be}if(_e.Prism=pt,Token.stringify=function stringify(_e,be){if("string"==typeof _e)return _e;if(Array.isArray(_e)){var Te="";return _e.forEach((function(_e){Te+=stringify(_e,be)})),Te}var Pe={type:_e.type,content:stringify(_e.content,be),tag:"span",classes:["token",_e.type],attributes:{},language:be},vt=_e.alias;vt&&(Array.isArray(vt)?Array.prototype.push.apply(Pe.classes,vt):Pe.classes.push(vt)),pt.hooks.run("wrap",Pe);var xt="";for(var Tt in Pe.attributes)xt+=" "+Tt+'="'+(Pe.attributes[Tt]||"").replace(/"/g,"&quot;")+'"';return"<"+Pe.tag+' class="'+Pe.classes.join(" ")+'"'+xt+">"+Pe.content+"</"+Pe.tag+">"},!_e.document)return _e.addEventListener?(pt.disableWorkerMessageHandler||_e.addEventListener("message",(function(be){var Te=JSON.parse(be.data),Pe=Te.language,vt=Te.code,xt=Te.immediateClose;_e.postMessage(pt.highlight(vt,pt.languages[Pe],Pe)),xt&&_e.close()}),!1),pt):pt;var vt=pt.util.currentScript();function highlightAutomaticallyCallback(){pt.manual||pt.highlightAll()}if(vt&&(pt.filename=vt.src,vt.hasAttribute("data-manual")&&(pt.manual=!0)),!pt.manual){var xt=document.readyState;"loading"===xt||"interactive"===xt&&vt&&vt.defer?document.addEventListener("DOMContentLoaded",highlightAutomaticallyCallback):window.requestAnimationFrame?window.requestAnimationFrame(highlightAutomaticallyCallback):window.setTimeout(highlightAutomaticallyCallback,16)}return pt}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});_e.exports&&(_e.exports=Pe),void 0!==Te.g&&(Te.g.Prism=Pe),Pe.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Pe.languages.markup.tag.inside["attr-value"].inside.entity=Pe.languages.markup.entity,Pe.languages.markup.doctype.inside["internal-subset"].inside=Pe.languages.markup,Pe.hooks.add("wrap",(function(_e){"entity"===_e.type&&(_e.attributes.title=_e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Pe.languages.markup.tag,"addInlined",{value:function addInlined(_e,be){var Te={};Te["language-"+be]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Pe.languages[be]},Te.cdata=/^<!\[CDATA\[|\]\]>$/i;var pt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Te}};pt["language-"+be]={pattern:/[\s\S]+/,inside:Pe.languages[be]};var vt={};vt[_e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return _e})),"i"),lookbehind:!0,greedy:!0,inside:pt},Pe.languages.insertBefore("markup","cdata",vt)}}),Object.defineProperty(Pe.languages.markup.tag,"addAttribute",{value:function(_e,be){Pe.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+_e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[be,"language-"+be],inside:Pe.languages[be]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Pe.languages.html=Pe.languages.markup,Pe.languages.mathml=Pe.languages.markup,Pe.languages.svg=Pe.languages.markup,Pe.languages.xml=Pe.languages.extend("markup",{}),Pe.languages.ssml=Pe.languages.xml,Pe.languages.atom=Pe.languages.xml,Pe.languages.rss=Pe.languages.xml,function(_e){var be=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;_e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+be.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+be.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+be.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:be,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},_e.languages.css.atrule.inside.rest=_e.languages.css;var Te=_e.languages.markup;Te&&(Te.tag.addInlined("style","css"),Te.tag.addAttribute("style","css"))}(Pe),Pe.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Pe.languages.javascript=Pe.languages.extend("clike",{"class-name":[Pe.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Pe.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Pe.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Pe.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Pe.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Pe.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Pe.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Pe.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Pe.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Pe.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Pe.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Pe.languages.markup&&(Pe.languages.markup.tag.addInlined("script","javascript"),Pe.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Pe.languages.js=Pe.languages.javascript,function(){if(void 0!==Pe&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var _e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},be="data-src-status",Te="loading",pt="loaded",vt='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])';Pe.hooks.add("before-highlightall",(function(_e){_e.selector+=", "+vt})),Pe.hooks.add("before-sanity-check",(function(xt){var Tt=xt.element;if(Tt.matches(vt)){xt.code="",Tt.setAttribute(be,Te);var It=Tt.appendChild(document.createElement("CODE"));It.textContent="Loading…";var Mt=Tt.getAttribute("data-src"),Lt=xt.language;if("none"===Lt){var Ft=(/\.(\w+)$/.exec(Mt)||[,"none"])[1];Lt=_e[Ft]||Ft}Pe.util.setLanguage(It,Lt),Pe.util.setLanguage(Tt,Lt);var Ot=Pe.plugins.autoloader;Ot&&Ot.loadLanguages(Lt),loadFile(Mt,(function(_e){Tt.setAttribute(be,pt);var Te=parseRange(Tt.getAttribute("data-range"));if(Te){var vt=_e.split(/\r\n?|\n/g),xt=Te[0],Mt=null==Te[1]?vt.length:Te[1];xt<0&&(xt+=vt.length),xt=Math.max(0,Math.min(xt-1,vt.length)),Mt<0&&(Mt+=vt.length),Mt=Math.max(0,Math.min(Mt,vt.length)),_e=vt.slice(xt,Mt).join("\n"),Tt.hasAttribute("data-start")||Tt.setAttribute("data-start",String(xt+1))}It.textContent=_e,Pe.highlightElement(It)}),(function(_e){Tt.setAttribute(be,"failed"),It.textContent=_e}))}})),Pe.plugins.fileHighlight={highlight:function highlight(_e){for(var be,Te=(_e||document).querySelectorAll(vt),pt=0;be=Te[pt++];)Pe.highlightElement(be)}};var xt=!1;Pe.fileHighlight=function(){xt||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),xt=!0),Pe.plugins.fileHighlight.highlight.apply(this,arguments)}}function loadFile(_e,be,Te){var Pe=new XMLHttpRequest;Pe.open("GET",_e,!0),Pe.onreadystatechange=function(){var _e,pt;4==Pe.readyState&&(Pe.status<400&&Pe.responseText?be(Pe.responseText):Pe.status>=400?Te((_e=Pe.status,pt=Pe.statusText,"✖ Error "+_e+" while fetching file: "+pt)):Te("✖ Error: File does not exist or is empty"))},Pe.send(null)}function parseRange(_e){var be=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(_e||"");if(be){var Te=Number(be[1]),Pe=be[2],pt=be[3];return Pe?pt?[Te,Number(pt)]:[Te,void 0]:[Te,Te]}}}()},92703:function(_e,be,Te){"use strict";var Pe=Te(50414);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,_e.exports=function(){function shim(_e,be,Te,pt,vt,xt){if(xt!==Pe){var Tt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Tt.name="Invariant Violation",Tt}}function getShim(){return shim}shim.isRequired=shim;var _e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return _e.PropTypes=_e,_e}},45697:function(_e,be,Te){_e.exports=Te(92703)()},50414:function(_e){"use strict";_e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},64448:function(_e,be,Te){"use strict";var Pe=Te(67294),pt=Te(54142);function p(_e){for(var be="https://reactjs.org/docs/error-decoder.html?invariant="+_e,Te=1;Te<arguments.length;Te++)be+="&args[]="+encodeURIComponent(arguments[Te]);return"Minified React error #"+_e+"; visit "+be+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vt=new Set,xt={};function fa(_e,be){ha(_e,be),ha(_e+"Capture",be)}function ha(_e,be){for(xt[_e]=be,_e=0;_e<be.length;_e++)vt.add(be[_e])}var Tt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),It=Object.prototype.hasOwnProperty,Mt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lt={},Ft={};function oa(_e){return!!It.call(Ft,_e)||!It.call(Lt,_e)&&(Mt.test(_e)?Ft[_e]=!0:(Lt[_e]=!0,!1))}function pa(_e,be,Te,Pe){if(null!==Te&&0===Te.type)return!1;switch(typeof be){case"function":case"symbol":return!0;case"boolean":return!Pe&&(null!==Te?!Te.acceptsBooleans:"data-"!==(_e=_e.toLowerCase().slice(0,5))&&"aria-"!==_e);default:return!1}}function qa(_e,be,Te,Pe){if(null==be||pa(_e,be,Te,Pe))return!0;if(Pe)return!1;if(null!==Te)switch(Te.type){case 3:return!be;case 4:return!1===be;case 5:return isNaN(be);case 6:return isNaN(be)||1>be}return!1}function v(_e,be,Te,Pe,pt,vt,xt){this.acceptsBooleans=2===be||3===be||4===be,this.attributeName=Pe,this.attributeNamespace=pt,this.mustUseProperty=Te,this.propertyName=_e,this.type=be,this.sanitizeURL=vt,this.removeEmptyString=xt}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(_e){Ot[_e]=new v(_e,0,!1,_e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(_e){var be=_e[0];Ot[be]=new v(be,1,!1,_e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(_e){Ot[_e]=new v(_e,2,!1,_e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(_e){Ot[_e]=new v(_e,2,!1,_e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(_e){Ot[_e]=new v(_e,3,!1,_e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(_e){Ot[_e]=new v(_e,3,!0,_e,null,!1,!1)})),["capture","download"].forEach((function(_e){Ot[_e]=new v(_e,4,!1,_e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(_e){Ot[_e]=new v(_e,6,!1,_e,null,!1,!1)})),["rowSpan","start"].forEach((function(_e){Ot[_e]=new v(_e,5,!1,_e.toLowerCase(),null,!1,!1)}));var Vt=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}function ta(_e,be,Te,Pe){var pt=Ot.hasOwnProperty(be)?Ot[be]:null;(null!==pt?0!==pt.type:Pe||!(2<be.length)||"o"!==be[0]&&"O"!==be[0]||"n"!==be[1]&&"N"!==be[1])&&(qa(be,Te,pt,Pe)&&(Te=null),Pe||null===pt?oa(be)&&(null===Te?_e.removeAttribute(be):_e.setAttribute(be,""+Te)):pt.mustUseProperty?_e[pt.propertyName]=null===Te?3!==pt.type&&"":Te:(be=pt.attributeName,Pe=pt.attributeNamespace,null===Te?_e.removeAttribute(be):(Te=3===(pt=pt.type)||4===pt&&!0===Te?"":""+Te,Pe?_e.setAttributeNS(Pe,be,Te):_e.setAttribute(be,Te))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(_e){var be=_e.replace(Vt,sa);Ot[be]=new v(be,1,!1,_e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(_e){var be=_e.replace(Vt,sa);Ot[be]=new v(be,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(_e){var be=_e.replace(Vt,sa);Ot[be]=new v(be,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(_e){Ot[_e]=new v(_e,1,!1,_e.toLowerCase(),null,!1,!1)})),Ot.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(_e){Ot[_e]=new v(_e,1,!1,_e.toLowerCase(),null,!0,!0)}));var qt=Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wt=Symbol.for("react.element"),$t=Symbol.for("react.portal"),Kt=Symbol.for("react.fragment"),Jt=Symbol.for("react.strict_mode"),Yt=Symbol.for("react.profiler"),Qt=Symbol.for("react.provider"),an=Symbol.for("react.context"),cn=Symbol.for("react.forward_ref"),hn=Symbol.for("react.suspense"),pn=Symbol.for("react.suspense_list"),xn=Symbol.for("react.memo"),Pn=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var Ln=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Fn=Symbol.iterator;function Ka(_e){return null===_e||"object"!=typeof _e?null:"function"==typeof(_e=Fn&&_e[Fn]||_e["@@iterator"])?_e:null}var jn,$n=Object.assign;function Ma(_e){if(void 0===jn)try{throw Error()}catch(_e){var be=_e.stack.trim().match(/\n( *(at )?)/);jn=be&&be[1]||""}return"\n"+jn+_e}var ea=!1;function Oa(_e,be){if(!_e||ea)return"";ea=!0;var Te=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(be)if(be=function(){throw Error()},Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(be,[])}catch(_e){var Pe=_e}Reflect.construct(_e,[],be)}else{try{be.call()}catch(_e){Pe=_e}_e.call(be.prototype)}else{try{throw Error()}catch(_e){Pe=_e}_e()}}catch(be){if(be&&Pe&&"string"==typeof be.stack){for(var pt=be.stack.split("\n"),vt=Pe.stack.split("\n"),xt=pt.length-1,Tt=vt.length-1;1<=xt&&0<=Tt&&pt[xt]!==vt[Tt];)Tt--;for(;1<=xt&&0<=Tt;xt--,Tt--)if(pt[xt]!==vt[Tt]){if(1!==xt||1!==Tt)do{if(xt--,0>--Tt||pt[xt]!==vt[Tt]){var It="\n"+pt[xt].replace(" at new "," at ");return _e.displayName&&It.includes("<anonymous>")&&(It=It.replace("<anonymous>",_e.displayName)),It}}while(1<=xt&&0<=Tt);break}}}finally{ea=!1,Error.prepareStackTrace=Te}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1);case 11:return _e=Oa(_e.type.render,!1);case 1:return _e=Oa(_e.type,!0);default:return""}}function Qa(_e){if(null==_e)return null;if("function"==typeof _e)return _e.displayName||_e.name||null;if("string"==typeof _e)return _e;switch(_e){case Kt:return"Fragment";case $t:return"Portal";case Yt:return"Profiler";case Jt:return"StrictMode";case hn:return"Suspense";case pn:return"SuspenseList"}if("object"==typeof _e)switch(_e.$$typeof){case an:return(_e.displayName||"Context")+".Consumer";case Qt:return(_e._context.displayName||"Context")+".Provider";case cn:var be=_e.render;return(_e=_e.displayName)||(_e=""!==(_e=be.displayName||be.name||"")?"ForwardRef("+_e+")":"ForwardRef"),_e;case xn:return null!==(be=_e.displayName||null)?be:Qa(_e.type)||"Memo";case Pn:be=_e._payload,_e=_e._init;try{return Qa(_e(be))}catch(_e){}}return null}function Ra(_e){var be=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(be.displayName||"Context")+".Consumer";case 10:return(be._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=(_e=be.render).displayName||_e.name||"",be.displayName||(""!==_e?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return be;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(be);case 8:return be===Jt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof be)return be.displayName||be.name||null;if("string"==typeof be)return be}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":case"object":return _e;default:return""}}function Ta(_e){var be=_e.type;return(_e=_e.nodeName)&&"input"===_e.toLowerCase()&&("checkbox"===be||"radio"===be)}function Ua(_e){var be=Ta(_e)?"checked":"value",Te=Object.getOwnPropertyDescriptor(_e.constructor.prototype,be),Pe=""+_e[be];if(!_e.hasOwnProperty(be)&&void 0!==Te&&"function"==typeof Te.get&&"function"==typeof Te.set){var pt=Te.get,vt=Te.set;return Object.defineProperty(_e,be,{configurable:!0,get:function(){return pt.call(this)},set:function(_e){Pe=""+_e,vt.call(this,_e)}}),Object.defineProperty(_e,be,{enumerable:Te.enumerable}),{getValue:function(){return Pe},setValue:function(_e){Pe=""+_e},stopTracking:function(){_e._valueTracker=null,delete _e[be]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var be=_e._valueTracker;if(!be)return!0;var Te=be.getValue(),Pe="";return _e&&(Pe=Ta(_e)?_e.checked?"true":"false":_e.value),(_e=Pe)!==Te&&(be.setValue(_e),!0)}function Xa(_e){if(void 0===(_e=_e||("undefined"!=typeof document?document:void 0)))return null;try{return _e.activeElement||_e.body}catch(be){return _e.body}}function Ya(_e,be){var Te=be.checked;return $n({},be,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=Te?Te:_e._wrapperState.initialChecked})}function Za(_e,be){var Te=null==be.defaultValue?"":be.defaultValue,Pe=null!=be.checked?be.checked:be.defaultChecked;Te=Sa(null!=be.value?be.value:Te),_e._wrapperState={initialChecked:Pe,initialValue:Te,controlled:"checkbox"===be.type||"radio"===be.type?null!=be.checked:null!=be.value}}function ab(_e,be){null!=(be=be.checked)&&ta(_e,"checked",be,!1)}function bb(_e,be){ab(_e,be);var Te=Sa(be.value),Pe=be.type;if(null!=Te)"number"===Pe?(0===Te&&""===_e.value||_e.value!=Te)&&(_e.value=""+Te):_e.value!==""+Te&&(_e.value=""+Te);else if("submit"===Pe||"reset"===Pe)return void _e.removeAttribute("value");be.hasOwnProperty("value")?cb(_e,be.type,Te):be.hasOwnProperty("defaultValue")&&cb(_e,be.type,Sa(be.defaultValue)),null==be.checked&&null!=be.defaultChecked&&(_e.defaultChecked=!!be.defaultChecked)}function db(_e,be,Te){if(be.hasOwnProperty("value")||be.hasOwnProperty("defaultValue")){var Pe=be.type;if(!("submit"!==Pe&&"reset"!==Pe||void 0!==be.value&&null!==be.value))return;be=""+_e._wrapperState.initialValue,Te||be===_e.value||(_e.value=be),_e.defaultValue=be}""!==(Te=_e.name)&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,""!==Te&&(_e.name=Te)}function cb(_e,be,Te){"number"===be&&Xa(_e.ownerDocument)===_e||(null==Te?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+Te&&(_e.defaultValue=""+Te))}var na=Array.isArray;function fb(_e,be,Te,Pe){if(_e=_e.options,be){be={};for(var pt=0;pt<Te.length;pt++)be["$"+Te[pt]]=!0;for(Te=0;Te<_e.length;Te++)pt=be.hasOwnProperty("$"+_e[Te].value),_e[Te].selected!==pt&&(_e[Te].selected=pt),pt&&Pe&&(_e[Te].defaultSelected=!0)}else{for(Te=""+Sa(Te),be=null,pt=0;pt<_e.length;pt++){if(_e[pt].value===Te)return _e[pt].selected=!0,void(Pe&&(_e[pt].defaultSelected=!0));null!==be||_e[pt].disabled||(be=_e[pt])}null!==be&&(be.selected=!0)}}function gb(_e,be){if(null!=be.dangerouslySetInnerHTML)throw Error(p(91));return $n({},be,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,be){var Te=be.value;if(null==Te){if(Te=be.children,be=be.defaultValue,null!=Te){if(null!=be)throw Error(p(92));if(na(Te)){if(1<Te.length)throw Error(p(93));Te=Te[0]}be=Te}null==be&&(be=""),Te=be}_e._wrapperState={initialValue:Sa(Te)}}function ib(_e,be){var Te=Sa(be.value),Pe=Sa(be.defaultValue);null!=Te&&((Te=""+Te)!==_e.value&&(_e.value=Te),null==be.defaultValue&&_e.defaultValue!==Te&&(_e.defaultValue=Te)),null!=Pe&&(_e.defaultValue=""+Pe)}function jb(_e){var be=_e.textContent;be===_e._wrapperState.initialValue&&""!==be&&null!==be&&(_e.value=be)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,be){return null==_e||"http://www.w3.org/1999/xhtml"===_e?kb(be):"http://www.w3.org/2000/svg"===_e&&"foreignObject"===be?"http://www.w3.org/1999/xhtml":_e}var aa,ra,ia=(ra=function(_e,be){if("http://www.w3.org/2000/svg"!==_e.namespaceURI||"innerHTML"in _e)_e.innerHTML=be;else{for((aa=aa||document.createElement("div")).innerHTML="<svg>"+be.valueOf().toString()+"</svg>",be=aa.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;be.firstChild;)_e.appendChild(be.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(_e,be,Te,Pe){MSApp.execUnsafeLocalFunction((function(){return ra(_e,be)}))}:ra);function ob(_e,be){if(be){var Te=_e.firstChild;if(Te&&Te===_e.lastChild&&3===Te.nodeType)return void(Te.nodeValue=be)}_e.textContent=be}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},la=["Webkit","ms","Moz","O"];function rb(_e,be,Te){return null==be||"boolean"==typeof be||""===be?"":Te||"number"!=typeof be||0===be||da.hasOwnProperty(_e)&&da[_e]?(""+be).trim():be+"px"}function sb(_e,be){for(var Te in _e=_e.style,be)if(be.hasOwnProperty(Te)){var Pe=0===Te.indexOf("--"),pt=rb(Te,be[Te],Pe);"float"===Te&&(Te="cssFloat"),Pe?_e.setProperty(Te,pt):_e[Te]=pt}}Object.keys(da).forEach((function(_e){la.forEach((function(be){be=be+_e.charAt(0).toUpperCase()+_e.substring(1),da[be]=da[_e]}))}));var ua=$n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,be){if(be){if(ua[_e]&&(null!=be.children||null!=be.dangerouslySetInnerHTML))throw Error(p(137,_e));if(null!=be.dangerouslySetInnerHTML){if(null!=be.children)throw Error(p(60));if("object"!=typeof be.dangerouslySetInnerHTML||!("__html"in be.dangerouslySetInnerHTML))throw Error(p(61))}if(null!=be.style&&"object"!=typeof be.style)throw Error(p(62))}}function vb(_e,be){if(-1===_e.indexOf("-"))return"string"==typeof be.is;switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=null;function xb(_e){return(_e=_e.target||_e.srcElement||window).correspondingUseElement&&(_e=_e.correspondingUseElement),3===_e.nodeType?_e.parentNode:_e}var ga=null,ma=null,ya=null;function Bb(_e){if(_e=Cb(_e)){if("function"!=typeof ga)throw Error(p(280));var be=_e.stateNode;be&&(be=Db(be),ga(_e.stateNode,_e.type,be))}}function Eb(_e){ma?ya?ya.push(_e):ya=[_e]:ma=_e}function Fb(){if(ma){var _e=ma,be=ya;if(ya=ma=null,Bb(_e),be)for(_e=0;_e<be.length;_e++)Bb(be[_e])}}function Gb(_e,be){return _e(be)}function Hb(){}var _a=!1;function Jb(_e,be,Te){if(_a)return _e(be,Te);_a=!0;try{return Gb(_e,be,Te)}finally{_a=!1,(null!==ma||null!==ya)&&(Hb(),Fb())}}function Kb(_e,be){var Te=_e.stateNode;if(null===Te)return null;var Pe=Db(Te);if(null===Pe)return null;Te=Pe[be];e:switch(be){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Pe=!Pe.disabled)||(Pe=!("button"===(_e=_e.type)||"input"===_e||"select"===_e||"textarea"===_e)),_e=!Pe;break e;default:_e=!1}if(_e)return null;if(Te&&"function"!=typeof Te)throw Error(p(231,be,typeof Te));return Te}var va=!1;if(Tt)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){va=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch(ra){va=!1}function Nb(_e,be,Te,Pe,pt,vt,xt,Tt,It){var Mt=Array.prototype.slice.call(arguments,3);try{be.apply(Te,Mt)}catch(_e){this.onError(_e)}}var ba=!1,wa=null,Ea=!1,Ca=null,Aa={onError:function(_e){ba=!0,wa=_e}};function Tb(_e,be,Te,Pe,pt,vt,xt,Tt,It){ba=!1,wa=null,Nb.apply(Aa,arguments)}function Ub(_e,be,Te,Pe,pt,vt,xt,Tt,It){if(Tb.apply(this,arguments),ba){if(!ba)throw Error(p(198));var Mt=wa;ba=!1,wa=null,Ea||(Ea=!0,Ca=Mt)}}function Vb(_e){var be=_e,Te=_e;if(_e.alternate)for(;be.return;)be=be.return;else{_e=be;do{0!=(4098&(be=_e).flags)&&(Te=be.return),_e=be.return}while(_e)}return 3===be.tag?Te:null}function Wb(_e){if(13===_e.tag){var be=_e.memoizedState;if(null===be&&(null!==(_e=_e.alternate)&&(be=_e.memoizedState)),null!==be)return be.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p(188))}function Yb(_e){var be=_e.alternate;if(!be){if(null===(be=Vb(_e)))throw Error(p(188));return be!==_e?null:_e}for(var Te=_e,Pe=be;;){var pt=Te.return;if(null===pt)break;var vt=pt.alternate;if(null===vt){if(null!==(Pe=pt.return)){Te=Pe;continue}break}if(pt.child===vt.child){for(vt=pt.child;vt;){if(vt===Te)return Xb(pt),_e;if(vt===Pe)return Xb(pt),be;vt=vt.sibling}throw Error(p(188))}if(Te.return!==Pe.return)Te=pt,Pe=vt;else{for(var xt=!1,Tt=pt.child;Tt;){if(Tt===Te){xt=!0,Te=pt,Pe=vt;break}if(Tt===Pe){xt=!0,Pe=pt,Te=vt;break}Tt=Tt.sibling}if(!xt){for(Tt=vt.child;Tt;){if(Tt===Te){xt=!0,Te=vt,Pe=pt;break}if(Tt===Pe){xt=!0,Pe=vt,Te=pt;break}Tt=Tt.sibling}if(!xt)throw Error(p(189))}}if(Te.alternate!==Pe)throw Error(p(190))}if(3!==Te.tag)throw Error(p(188));return Te.stateNode.current===Te?_e:be}function Zb(_e){return null!==(_e=Yb(_e))?$b(_e):null}function $b(_e){if(5===_e.tag||6===_e.tag)return _e;for(_e=_e.child;null!==_e;){var be=$b(_e);if(null!==be)return be;_e=_e.sibling}return null}var Da=pt.unstable_scheduleCallback,ka=pt.unstable_cancelCallback,Ia=pt.unstable_shouldYield,La=pt.unstable_requestPaint,Fa=pt.unstable_now,Ba=pt.unstable_getCurrentPriorityLevel,za=pt.unstable_ImmediatePriority,ja=pt.unstable_UserBlockingPriority,Na=pt.unstable_NormalPriority,Ga=pt.unstable_LowPriority,Ha=pt.unstable_IdlePriority,$a=null,Ja=null;function mc(_e){if(Ja&&"function"==typeof Ja.onCommitFiberRoot)try{Ja.onCommitFiberRoot($a,_e,void 0,128==(128&_e.current.flags))}catch(_e){}}var sr=Math.clz32?Math.clz32:function nc(_e){return 0===(_e>>>=0)?32:31-(ur(_e)/cr|0)|0},ur=Math.log,cr=Math.LN2;var pr=64,mr=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&_e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&_e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,be){var Te=_e.pendingLanes;if(0===Te)return 0;var Pe=0,pt=_e.suspendedLanes,vt=_e.pingedLanes,xt=268435455&Te;if(0!==xt){var Tt=xt&~pt;0!==Tt?Pe=tc(Tt):0!==(vt&=xt)&&(Pe=tc(vt))}else 0!==(xt=Te&~pt)?Pe=tc(xt):0!==vt&&(Pe=tc(vt));if(0===Pe)return 0;if(0!==be&&be!==Pe&&0==(be&pt)&&((pt=Pe&-Pe)>=(vt=be&-be)||16===pt&&0!=(4194240&vt)))return be;if(0!=(4&Pe)&&(Pe|=16&Te),0!==(be=_e.entangledLanes))for(_e=_e.entanglements,be&=Pe;0<be;)pt=1<<(Te=31-sr(be)),Pe|=_e[Te],be&=~pt;return Pe}function vc(_e,be){switch(_e){case 1:case 2:case 4:return be+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return be+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function wc(_e,be){for(var Te=_e.suspendedLanes,Pe=_e.pingedLanes,pt=_e.expirationTimes,vt=_e.pendingLanes;0<vt;){var xt=31-sr(vt),Tt=1<<xt,It=pt[xt];-1===It?0!=(Tt&Te)&&0==(Tt&Pe)||(pt[xt]=vc(Tt,be)):It<=be&&(_e.expiredLanes|=Tt),vt&=~Tt}}function xc(_e){return 0!==(_e=-1073741825&_e.pendingLanes)?_e:1073741824&_e?1073741824:0}function yc(){var _e=pr;return 0==(4194240&(pr<<=1))&&(pr=64),_e}function zc(_e){for(var be=[],Te=0;31>Te;Te++)be.push(_e);return be}function Ac(_e,be,Te){_e.pendingLanes|=be,536870912!==be&&(_e.suspendedLanes=0,_e.pingedLanes=0),(_e=_e.eventTimes)[be=31-sr(be)]=Te}function Bc(_e,be){var Te=_e.pendingLanes&~be;_e.pendingLanes=be,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=be,_e.mutableReadLanes&=be,_e.entangledLanes&=be,be=_e.entanglements;var Pe=_e.eventTimes;for(_e=_e.expirationTimes;0<Te;){var pt=31-sr(Te),vt=1<<pt;be[pt]=0,Pe[pt]=-1,_e[pt]=-1,Te&=~vt}}function Cc(_e,be){var Te=_e.entangledLanes|=be;for(_e=_e.entanglements;Te;){var Pe=31-sr(Te),pt=1<<Pe;pt&be|_e[Pe]&be&&(_e[Pe]|=be),Te&=~pt}}var yr=0;function Dc(_e){return 1<(_e&=-_e)?4<_e?0!=(268435455&_e)?16:536870912:4:1}var _r,vr,Rr,xr,Sr,Ar=!1,kr=[],Pr=null,Fr=null,Or=null,Nr=new Map,Vr=new Map,Gr=[],Zr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,be){switch(_e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Nr.delete(be.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(be.pointerId)}}function Tc(_e,be,Te,Pe,pt,vt){return null===_e||_e.nativeEvent!==vt?(_e={blockedOn:be,domEventName:Te,eventSystemFlags:Pe,nativeEvent:vt,targetContainers:[pt]},null!==be&&(null!==(be=Cb(be))&&vr(be)),_e):(_e.eventSystemFlags|=Pe,be=_e.targetContainers,null!==pt&&-1===be.indexOf(pt)&&be.push(pt),_e)}function Uc(_e,be,Te,Pe,pt){switch(be){case"focusin":return Pr=Tc(Pr,_e,be,Te,Pe,pt),!0;case"dragenter":return Fr=Tc(Fr,_e,be,Te,Pe,pt),!0;case"mouseover":return Or=Tc(Or,_e,be,Te,Pe,pt),!0;case"pointerover":var vt=pt.pointerId;return Nr.set(vt,Tc(Nr.get(vt)||null,_e,be,Te,Pe,pt)),!0;case"gotpointercapture":return vt=pt.pointerId,Vr.set(vt,Tc(Vr.get(vt)||null,_e,be,Te,Pe,pt)),!0}return!1}function Vc(_e){var be=Wc(_e.target);if(null!==be){var Te=Vb(be);if(null!==Te)if(13===(be=Te.tag)){if(null!==(be=Wb(Te)))return _e.blockedOn=be,void Sr(_e.priority,(function(){Rr(Te)}))}else if(3===be&&Te.stateNode.current.memoizedState.isDehydrated)return void(_e.blockedOn=3===Te.tag?Te.stateNode.containerInfo:null)}_e.blockedOn=null}function Xc(_e){if(null!==_e.blockedOn)return!1;for(var be=_e.targetContainers;0<be.length;){var Te=Yc(_e.domEventName,_e.eventSystemFlags,be[0],_e.nativeEvent);if(null!==Te)return null!==(be=Cb(Te))&&vr(be),_e.blockedOn=Te,!1;var Pe=new(Te=_e.nativeEvent).constructor(Te.type,Te);ca=Pe,Te.target.dispatchEvent(Pe),ca=null,be.shift()}return!0}function Zc(_e,be,Te){Xc(_e)&&Te.delete(be)}function $c(){Ar=!1,null!==Pr&&Xc(Pr)&&(Pr=null),null!==Fr&&Xc(Fr)&&(Fr=null),null!==Or&&Xc(Or)&&(Or=null),Nr.forEach(Zc),Vr.forEach(Zc)}function ad(_e,be){_e.blockedOn===be&&(_e.blockedOn=null,Ar||(Ar=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,$c)))}function bd(_e){function b(be){return ad(be,_e)}if(0<kr.length){ad(kr[0],_e);for(var be=1;be<kr.length;be++){var Te=kr[be];Te.blockedOn===_e&&(Te.blockedOn=null)}}for(null!==Pr&&ad(Pr,_e),null!==Fr&&ad(Fr,_e),null!==Or&&ad(Or,_e),Nr.forEach(b),Vr.forEach(b),be=0;be<Gr.length;be++)(Te=Gr[be]).blockedOn===_e&&(Te.blockedOn=null);for(;0<Gr.length&&null===(be=Gr[0]).blockedOn;)Vc(be),null===be.blockedOn&&Gr.shift()}var qr=qt.ReactCurrentBatchConfig,Wr=!0;function ed(_e,be,Te,Pe){var pt=yr,vt=qr.transition;qr.transition=null;try{yr=1,fd(_e,be,Te,Pe)}finally{yr=pt,qr.transition=vt}}function gd(_e,be,Te,Pe){var pt=yr,vt=qr.transition;qr.transition=null;try{yr=4,fd(_e,be,Te,Pe)}finally{yr=pt,qr.transition=vt}}function fd(_e,be,Te,Pe){if(Wr){var pt=Yc(_e,be,Te,Pe);if(null===pt)hd(_e,be,Pe,$r,Te),Sc(_e,Pe);else if(Uc(pt,_e,be,Te,Pe))Pe.stopPropagation();else if(Sc(_e,Pe),4&be&&-1<Zr.indexOf(_e)){for(;null!==pt;){var vt=Cb(pt);if(null!==vt&&_r(vt),null===(vt=Yc(_e,be,Te,Pe))&&hd(_e,be,Pe,$r,Te),vt===pt)break;pt=vt}null!==pt&&Pe.stopPropagation()}else hd(_e,be,Pe,null,Te)}}var $r=null;function Yc(_e,be,Te,Pe){if($r=null,null!==(_e=Wc(_e=xb(Pe))))if(null===(be=Vb(_e)))_e=null;else if(13===(Te=be.tag)){if(null!==(_e=Wb(be)))return _e;_e=null}else if(3===Te){if(be.stateNode.current.memoizedState.isDehydrated)return 3===be.tag?be.stateNode.containerInfo:null;_e=null}else be!==_e&&(_e=null);return $r=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ba()){case za:return 1;case ja:return 4;case Na:case Ga:return 16;case Ha:return 536870912;default:return 16}default:return 16}}var Xr=null,Kr=null,Jr=null;function nd(){if(Jr)return Jr;var _e,be,Te=Kr,Pe=Te.length,pt="value"in Xr?Xr.value:Xr.textContent,vt=pt.length;for(_e=0;_e<Pe&&Te[_e]===pt[_e];_e++);var xt=Pe-_e;for(be=1;be<=xt&&Te[Pe-be]===pt[vt-be];be++);return Jr=pt.slice(_e,1<be?1-be:void 0)}function od(_e){var be=_e.keyCode;return"charCode"in _e?0===(_e=_e.charCode)&&13===be&&(_e=13):_e=be,10===_e&&(_e=13),32<=_e||13===_e?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function b(be,Te,Pe,pt,vt){for(var xt in this._reactName=be,this._targetInst=Pe,this.type=Te,this.nativeEvent=pt,this.target=vt,this.currentTarget=null,_e)_e.hasOwnProperty(xt)&&(be=_e[xt],this[xt]=be?be(pt):pt[xt]);return this.isDefaultPrevented=(null!=pt.defaultPrevented?pt.defaultPrevented:!1===pt.returnValue)?pd:qd,this.isPropagationStopped=qd,this}return $n(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _e=this.nativeEvent;_e&&(_e.preventDefault?_e.preventDefault():"unknown"!=typeof _e.returnValue&&(_e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _e=this.nativeEvent;_e&&(_e.stopPropagation?_e.stopPropagation():"unknown"!=typeof _e.cancelBubble&&(_e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),b}var Yr,Qr,no,so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=rd(so),vo=$n({},so,{view:0,detail:0}),xo=rd(vo),bo=$n({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return void 0===_e.relatedTarget?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==no&&(no&&"mousemove"===_e.type?(Yr=_e.screenX-no.screenX,Qr=_e.screenY-no.screenY):Qr=Yr=0,no=_e),Yr)},movementY:function(_e){return"movementY"in _e?_e.movementY:Qr}}),Ao=rd(bo),Po=rd($n({},bo,{dataTransfer:0})),Uo=rd($n({},vo,{relatedTarget:0})),_s=rd($n({},so,{animationName:0,elapsedTime:0,pseudoElement:0})),vs=rd($n({},so,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}})),Rs=rd($n({},so,{data:0})),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ws={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var be=this.nativeEvent;return be.getModifierState?be.getModifierState(_e):!!(_e=ws[_e])&&!!be[_e]}function zd(){return Pd}var Es=rd($n({},vo,{key:function(_e){if(_e.key){var be=xs[_e.key]||_e.key;if("Unidentified"!==be)return be}return"keypress"===_e.type?13===(_e=od(_e))?"Enter":String.fromCharCode(_e):"keydown"===_e.type||"keyup"===_e.type?bs[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return"keypress"===_e.type?od(_e):0},keyCode:function(_e){return"keydown"===_e.type||"keyup"===_e.type?_e.keyCode:0},which:function(_e){return"keypress"===_e.type?od(_e):"keydown"===_e.type||"keyup"===_e.type?_e.keyCode:0}})),Cs=rd($n({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),As=rd($n({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd})),Ts=rd($n({},so,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ds=rd($n({},bo,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0})),Ps=[9,13,27,32],Is=Tt&&"CompositionEvent"in window,Ls=null;Tt&&"documentMode"in document&&(Ls=document.documentMode);var Fs=Tt&&"TextEvent"in window&&!Ls,Bs=Tt&&(!Is||Ls&&8<Ls&&11>=Ls),Os=String.fromCharCode(32),js=!1;function ge(_e,be){switch(_e){case"keyup":return-1!==Ps.indexOf(be.keyCode);case"keydown":return 229!==be.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return"object"==typeof(_e=_e.detail)&&"data"in _e?_e.data:null}var Ns=!1;function je(_e,be){switch(_e){case"compositionend":return he(be);case"keypress":return 32!==be.which?null:(js=!0,Os);case"textInput":return(_e=be.data)===Os&&js?null:_e;default:return null}}function ke(_e,be){if(Ns)return"compositionend"===_e||!Is&&ge(_e,be)?(_e=nd(),Jr=Kr=Xr=null,Ns=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(be.ctrlKey||be.altKey||be.metaKey)||be.ctrlKey&&be.altKey){if(be.char&&1<be.char.length)return be.char;if(be.which)return String.fromCharCode(be.which)}return null;case"compositionend":return Bs&&"ko"!==be.locale?null:be.data;default:return null}}var Vs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var be=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return"input"===be?!!Vs[_e.type]:"textarea"===be}function ne(_e,be,Te,Pe){Eb(Pe),0<(be=oe(be,"onChange")).length&&(Te=new go("onChange","change",null,Te,Pe),_e.push({event:Te,listeners:be}))}var Us=null,Zs=null;function re(_e){se(_e,0)}function te(_e){if(Wa(ue(_e)))return _e}function ve(_e,be){if("change"===_e)return be}var qs=!1;if(Tt){var Ws;if(Tt){var $s="oninput"in document;if(!$s){var Xs=document.createElement("div");Xs.setAttribute("oninput","return;"),$s="function"==typeof Xs.oninput}Ws=$s}else Ws=!1;qs=Ws&&(!document.documentMode||9<document.documentMode)}function Ae(){Us&&(Us.detachEvent("onpropertychange",Be),Zs=Us=null)}function Be(_e){if("value"===_e.propertyName&&te(Zs)){var be=[];ne(be,Zs,_e,xb(_e)),Jb(re,be)}}function Ce(_e,be,Te){"focusin"===_e?(Ae(),Zs=Te,(Us=be).attachEvent("onpropertychange",Be)):"focusout"===_e&&Ae()}function De(_e){if("selectionchange"===_e||"keyup"===_e||"keydown"===_e)return te(Zs)}function Ee(_e,be){if("click"===_e)return te(be)}function Fe(_e,be){if("input"===_e||"change"===_e)return te(be)}var Ks="function"==typeof Object.is?Object.is:function Ge(_e,be){return _e===be&&(0!==_e||1/_e==1/be)||_e!=_e&&be!=be};function Ie(_e,be){if(Ks(_e,be))return!0;if("object"!=typeof _e||null===_e||"object"!=typeof be||null===be)return!1;var Te=Object.keys(_e),Pe=Object.keys(be);if(Te.length!==Pe.length)return!1;for(Pe=0;Pe<Te.length;Pe++){var pt=Te[Pe];if(!It.call(be,pt)||!Ks(_e[pt],be[pt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,be){var Te,Pe=Je(_e);for(_e=0;Pe;){if(3===Pe.nodeType){if(Te=_e+Pe.textContent.length,_e<=be&&Te>=be)return{node:Pe,offset:be-_e};_e=Te}e:{for(;Pe;){if(Pe.nextSibling){Pe=Pe.nextSibling;break e}Pe=Pe.parentNode}Pe=void 0}Pe=Je(Pe)}}function Le(_e,be){return!(!_e||!be)&&(_e===be||(!_e||3!==_e.nodeType)&&(be&&3===be.nodeType?Le(_e,be.parentNode):"contains"in _e?_e.contains(be):!!_e.compareDocumentPosition&&!!(16&_e.compareDocumentPosition(be))))}function Me(){for(var _e=window,be=Xa();be instanceof _e.HTMLIFrameElement;){try{var Te="string"==typeof be.contentWindow.location.href}catch(_e){Te=!1}if(!Te)break;be=Xa((_e=be.contentWindow).document)}return be}function Ne(_e){var be=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return be&&("input"===be&&("text"===_e.type||"search"===_e.type||"tel"===_e.type||"url"===_e.type||"password"===_e.type)||"textarea"===be||"true"===_e.contentEditable)}function Oe(_e){var be=Me(),Te=_e.focusedElem,Pe=_e.selectionRange;if(be!==Te&&Te&&Te.ownerDocument&&Le(Te.ownerDocument.documentElement,Te)){if(null!==Pe&&Ne(Te))if(be=Pe.start,void 0===(_e=Pe.end)&&(_e=be),"selectionStart"in Te)Te.selectionStart=be,Te.selectionEnd=Math.min(_e,Te.value.length);else if((_e=(be=Te.ownerDocument||document)&&be.defaultView||window).getSelection){_e=_e.getSelection();var pt=Te.textContent.length,vt=Math.min(Pe.start,pt);Pe=void 0===Pe.end?vt:Math.min(Pe.end,pt),!_e.extend&&vt>Pe&&(pt=Pe,Pe=vt,vt=pt),pt=Ke(Te,vt);var xt=Ke(Te,Pe);pt&&xt&&(1!==_e.rangeCount||_e.anchorNode!==pt.node||_e.anchorOffset!==pt.offset||_e.focusNode!==xt.node||_e.focusOffset!==xt.offset)&&((be=be.createRange()).setStart(pt.node,pt.offset),_e.removeAllRanges(),vt>Pe?(_e.addRange(be),_e.extend(xt.node,xt.offset)):(be.setEnd(xt.node,xt.offset),_e.addRange(be)))}for(be=[],_e=Te;_e=_e.parentNode;)1===_e.nodeType&&be.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for("function"==typeof Te.focus&&Te.focus(),Te=0;Te<be.length;Te++)(_e=be[Te]).element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Js=Tt&&"documentMode"in document&&11>=document.documentMode,Qs=null,td=null,id=null,sd=!1;function Ue(_e,be,Te){var Pe=Te.window===Te?Te.document:9===Te.nodeType?Te:Te.ownerDocument;sd||null==Qs||Qs!==Xa(Pe)||("selectionStart"in(Pe=Qs)&&Ne(Pe)?Pe={start:Pe.selectionStart,end:Pe.selectionEnd}:Pe={anchorNode:(Pe=(Pe.ownerDocument&&Pe.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:Pe.anchorOffset,focusNode:Pe.focusNode,focusOffset:Pe.focusOffset},id&&Ie(id,Pe)||(id=Pe,0<(Pe=oe(td,"onSelect")).length&&(be=new go("onSelect","select",null,be,Te),_e.push({event:be,listeners:Pe}),be.target=Qs)))}function Ve(_e,be){var Te={};return Te[_e.toLowerCase()]=be.toLowerCase(),Te["Webkit"+_e]="webkit"+be,Te["Moz"+_e]="moz"+be,Te}var dd={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},ld={},cd={};function Ze(_e){if(ld[_e])return ld[_e];if(!dd[_e])return _e;var be,Te=dd[_e];for(be in Te)if(Te.hasOwnProperty(be)&&be in cd)return ld[_e]=Te[be];return _e}Tt&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete dd.animationend.animation,delete dd.animationiteration.animation,delete dd.animationstart.animation),"TransitionEvent"in window||delete dd.transitionend.transition);var vd=Ze("animationend"),wd=Ze("animationiteration"),Ed=Ze("animationstart"),Sd=Ze("transitionend"),Cd=new Map,Ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,be){Cd.set(_e,be),fa(be,[_e])}for(var Td=0;Td<Ad.length;Td++){var kd=Ad[Td];ff(kd.toLowerCase(),"on"+(kd[0].toUpperCase()+kd.slice(1)))}ff(vd,"onAnimationEnd"),ff(wd,"onAnimationIteration"),ff(Ed,"onAnimationStart"),ff("dblclick","onDoubleClick"),ff("focusin","onFocus"),ff("focusout","onBlur"),ff(Sd,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Md=new Set("cancel close invalid load scroll toggle".split(" ").concat(Id));function nf(_e,be,Te){var Pe=_e.type||"unknown-event";_e.currentTarget=Te,Ub(Pe,be,void 0,_e),_e.currentTarget=null}function se(_e,be){be=0!=(4&be);for(var Te=0;Te<_e.length;Te++){var Pe=_e[Te],pt=Pe.event;Pe=Pe.listeners;e:{var vt=void 0;if(be)for(var xt=Pe.length-1;0<=xt;xt--){var Tt=Pe[xt],It=Tt.instance,Mt=Tt.currentTarget;if(Tt=Tt.listener,It!==vt&&pt.isPropagationStopped())break e;nf(pt,Tt,Mt),vt=It}else for(xt=0;xt<Pe.length;xt++){if(It=(Tt=Pe[xt]).instance,Mt=Tt.currentTarget,Tt=Tt.listener,It!==vt&&pt.isPropagationStopped())break e;nf(pt,Tt,Mt),vt=It}}}if(Ea)throw _e=Ca,Ea=!1,Ca=null,_e}function D(_e,be){var Te=be[Qd];void 0===Te&&(Te=be[Qd]=new Set);var Pe=_e+"__bubble";Te.has(Pe)||(pf(be,_e,2,!1),Te.add(Pe))}function qf(_e,be,Te){var Pe=0;be&&(Pe|=4),pf(Te,_e,Pe,be)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[Ld]){_e[Ld]=!0,vt.forEach((function(be){"selectionchange"!==be&&(Md.has(be)||qf(be,!1,_e),qf(be,!0,_e))}));var be=9===_e.nodeType?_e:_e.ownerDocument;null===be||be[Ld]||(be[Ld]=!0,qf("selectionchange",!1,be))}}function pf(_e,be,Te,Pe){switch(jd(be)){case 1:var pt=ed;break;case 4:pt=gd;break;default:pt=fd}Te=pt.bind(null,be,Te,_e),pt=void 0,!va||"touchstart"!==be&&"touchmove"!==be&&"wheel"!==be||(pt=!0),Pe?void 0!==pt?_e.addEventListener(be,Te,{capture:!0,passive:pt}):_e.addEventListener(be,Te,!0):void 0!==pt?_e.addEventListener(be,Te,{passive:pt}):_e.addEventListener(be,Te,!1)}function hd(_e,be,Te,Pe,pt){var vt=Pe;if(0==(1&be)&&0==(2&be)&&null!==Pe)e:for(;;){if(null===Pe)return;var xt=Pe.tag;if(3===xt||4===xt){var Tt=Pe.stateNode.containerInfo;if(Tt===pt||8===Tt.nodeType&&Tt.parentNode===pt)break;if(4===xt)for(xt=Pe.return;null!==xt;){var It=xt.tag;if((3===It||4===It)&&((It=xt.stateNode.containerInfo)===pt||8===It.nodeType&&It.parentNode===pt))return;xt=xt.return}for(;null!==Tt;){if(null===(xt=Wc(Tt)))return;if(5===(It=xt.tag)||6===It){Pe=vt=xt;continue e}Tt=Tt.parentNode}}Pe=Pe.return}Jb((function(){var Pe=vt,pt=xb(Te),xt=[];e:{var Tt=Cd.get(_e);if(void 0!==Tt){var It=go,Mt=_e;switch(_e){case"keypress":if(0===od(Te))break e;case"keydown":case"keyup":It=Es;break;case"focusin":Mt="focus",It=Uo;break;case"focusout":Mt="blur",It=Uo;break;case"beforeblur":case"afterblur":It=Uo;break;case"click":if(2===Te.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=Po;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=As;break;case vd:case wd:case Ed:It=_s;break;case Sd:It=Ts;break;case"scroll":It=xo;break;case"wheel":It=Ds;break;case"copy":case"cut":case"paste":It=vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=Cs}var Lt=0!=(4&be),Ft=!Lt&&"scroll"===_e,Ot=Lt?null!==Tt?Tt+"Capture":null:Tt;Lt=[];for(var Vt,qt=Pe;null!==qt;){var Wt=(Vt=qt).stateNode;if(5===Vt.tag&&null!==Wt&&(Vt=Wt,null!==Ot&&(null!=(Wt=Kb(qt,Ot))&&Lt.push(tf(qt,Wt,Vt)))),Ft)break;qt=qt.return}0<Lt.length&&(Tt=new It(Tt,Mt,null,Te,pt),xt.push({event:Tt,listeners:Lt}))}}if(0==(7&be)){if(It="mouseout"===_e||"pointerout"===_e,(!(Tt="mouseover"===_e||"pointerover"===_e)||Te===ca||!(Mt=Te.relatedTarget||Te.fromElement)||!Wc(Mt)&&!Mt[Yd])&&(It||Tt)&&(Tt=pt.window===pt?pt:(Tt=pt.ownerDocument)?Tt.defaultView||Tt.parentWindow:window,It?(It=Pe,null!==(Mt=(Mt=Te.relatedTarget||Te.toElement)?Wc(Mt):null)&&(Mt!==(Ft=Vb(Mt))||5!==Mt.tag&&6!==Mt.tag)&&(Mt=null)):(It=null,Mt=Pe),It!==Mt)){if(Lt=Ao,Wt="onMouseLeave",Ot="onMouseEnter",qt="mouse","pointerout"!==_e&&"pointerover"!==_e||(Lt=Cs,Wt="onPointerLeave",Ot="onPointerEnter",qt="pointer"),Ft=null==It?Tt:ue(It),Vt=null==Mt?Tt:ue(Mt),(Tt=new Lt(Wt,qt+"leave",It,Te,pt)).target=Ft,Tt.relatedTarget=Vt,Wt=null,Wc(pt)===Pe&&((Lt=new Lt(Ot,qt+"enter",Mt,Te,pt)).target=Vt,Lt.relatedTarget=Ft,Wt=Lt),Ft=Wt,It&&Mt)e:{for(Ot=Mt,qt=0,Vt=Lt=It;Vt;Vt=vf(Vt))qt++;for(Vt=0,Wt=Ot;Wt;Wt=vf(Wt))Vt++;for(;0<qt-Vt;)Lt=vf(Lt),qt--;for(;0<Vt-qt;)Ot=vf(Ot),Vt--;for(;qt--;){if(Lt===Ot||null!==Ot&&Lt===Ot.alternate)break e;Lt=vf(Lt),Ot=vf(Ot)}Lt=null}else Lt=null;null!==It&&wf(xt,Tt,It,Lt,!1),null!==Mt&&null!==Ft&&wf(xt,Ft,Mt,Lt,!0)}if("select"===(It=(Tt=Pe?ue(Pe):window).nodeName&&Tt.nodeName.toLowerCase())||"input"===It&&"file"===Tt.type)var $t=ve;else if(me(Tt))if(qs)$t=Fe;else{$t=De;var Kt=Ce}else(It=Tt.nodeName)&&"input"===It.toLowerCase()&&("checkbox"===Tt.type||"radio"===Tt.type)&&($t=Ee);switch($t&&($t=$t(_e,Pe))?ne(xt,$t,Te,pt):(Kt&&Kt(_e,Tt,Pe),"focusout"===_e&&(Kt=Tt._wrapperState)&&Kt.controlled&&"number"===Tt.type&&cb(Tt,"number",Tt.value)),Kt=Pe?ue(Pe):window,_e){case"focusin":(me(Kt)||"true"===Kt.contentEditable)&&(Qs=Kt,td=Pe,id=null);break;case"focusout":id=td=Qs=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Ue(xt,Te,pt);break;case"selectionchange":if(Js)break;case"keydown":case"keyup":Ue(xt,Te,pt)}var Jt;if(Is)e:{switch(_e){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else Ns?ge(_e,Te)&&(Yt="onCompositionEnd"):"keydown"===_e&&229===Te.keyCode&&(Yt="onCompositionStart");Yt&&(Bs&&"ko"!==Te.locale&&(Ns||"onCompositionStart"!==Yt?"onCompositionEnd"===Yt&&Ns&&(Jt=nd()):(Kr="value"in(Xr=pt)?Xr.value:Xr.textContent,Ns=!0)),0<(Kt=oe(Pe,Yt)).length&&(Yt=new Rs(Yt,_e,null,Te,pt),xt.push({event:Yt,listeners:Kt}),Jt?Yt.data=Jt:null!==(Jt=he(Te))&&(Yt.data=Jt))),(Jt=Fs?je(_e,Te):ke(_e,Te))&&(0<(Pe=oe(Pe,"onBeforeInput")).length&&(pt=new Rs("onBeforeInput","beforeinput",null,Te,pt),xt.push({event:pt,listeners:Pe}),pt.data=Jt))}se(xt,be)}))}function tf(_e,be,Te){return{instance:_e,listener:be,currentTarget:Te}}function oe(_e,be){for(var Te=be+"Capture",Pe=[];null!==_e;){var pt=_e,vt=pt.stateNode;5===pt.tag&&null!==vt&&(pt=vt,null!=(vt=Kb(_e,Te))&&Pe.unshift(tf(_e,vt,pt)),null!=(vt=Kb(_e,be))&&Pe.push(tf(_e,vt,pt))),_e=_e.return}return Pe}function vf(_e){if(null===_e)return null;do{_e=_e.return}while(_e&&5!==_e.tag);return _e||null}function wf(_e,be,Te,Pe,pt){for(var vt=be._reactName,xt=[];null!==Te&&Te!==Pe;){var Tt=Te,It=Tt.alternate,Mt=Tt.stateNode;if(null!==It&&It===Pe)break;5===Tt.tag&&null!==Mt&&(Tt=Mt,pt?null!=(It=Kb(Te,vt))&&xt.unshift(tf(Te,It,Tt)):pt||null!=(It=Kb(Te,vt))&&xt.push(tf(Te,It,Tt))),Te=Te.return}0!==xt.length&&_e.push({event:be,listeners:xt})}var Fd=/\r\n?/g,Bd=/\u0000|\uFFFD/g;function zf(_e){return("string"==typeof _e?_e:""+_e).replace(Fd,"\n").replace(Bd,"")}function Af(_e,be,Te){if(be=zf(be),zf(_e)!==be&&Te)throw Error(p(425))}function Bf(){}var Ud=null,Gd=null;function Ef(_e,be){return"textarea"===_e||"noscript"===_e||"string"==typeof be.children||"number"==typeof be.children||"object"==typeof be.dangerouslySetInnerHTML&&null!==be.dangerouslySetInnerHTML&&null!=be.dangerouslySetInnerHTML.__html}var Zd="function"==typeof setTimeout?setTimeout:void 0,Wd="function"==typeof clearTimeout?clearTimeout:void 0,Hd="function"==typeof Promise?Promise:void 0,$d="function"==typeof queueMicrotask?queueMicrotask:void 0!==Hd?function(_e){return Hd.resolve(null).then(_e).catch(If)}:Zd;function If(_e){setTimeout((function(){throw _e}))}function Kf(_e,be){var Te=be,Pe=0;do{var pt=Te.nextSibling;if(_e.removeChild(Te),pt&&8===pt.nodeType)if("/$"===(Te=pt.data)){if(0===Pe)return _e.removeChild(pt),void bd(be);Pe--}else"$"!==Te&&"$?"!==Te&&"$!"!==Te||Pe++;Te=pt}while(Te);bd(be)}function Lf(_e){for(;null!=_e;_e=_e.nextSibling){var be=_e.nodeType;if(1===be||3===be)break;if(8===be){if("$"===(be=_e.data)||"$!"===be||"$?"===be)break;if("/$"===be)return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var be=0;_e;){if(8===_e.nodeType){var Te=_e.data;if("$"===Te||"$!"===Te||"$?"===Te){if(0===be)return _e;be--}else"/$"===Te&&be++}_e=_e.previousSibling}return null}var Xd=Math.random().toString(36).slice(2),Kd="__reactFiber$"+Xd,Jd="__reactProps$"+Xd,Yd="__reactContainer$"+Xd,Qd="__reactEvents$"+Xd,ul="__reactListeners$"+Xd,_l="__reactHandles$"+Xd;function Wc(_e){var be=_e[Kd];if(be)return be;for(var Te=_e.parentNode;Te;){if(be=Te[Yd]||Te[Kd]){if(Te=be.alternate,null!==be.child||null!==Te&&null!==Te.child)for(_e=Mf(_e);null!==_e;){if(Te=_e[Kd])return Te;_e=Mf(_e)}return be}Te=(_e=Te).parentNode}return null}function Cb(_e){return!(_e=_e[Kd]||_e[Yd])||5!==_e.tag&&6!==_e.tag&&13!==_e.tag&&3!==_e.tag?null:_e}function ue(_e){if(5===_e.tag||6===_e.tag)return _e.stateNode;throw Error(p(33))}function Db(_e){return _e[Jd]||null}var Rl=[],Ul=-1;function Uf(_e){return{current:_e}}function E(_e){0>Ul||(_e.current=Rl[Ul],Rl[Ul]=null,Ul--)}function G(_e,be){Ul++,Rl[Ul]=_e.current,_e.current=be}var Wl={},Hl=Uf(Wl),$l=Uf(!1),Kl=Wl;function Yf(_e,be){var Te=_e.type.contextTypes;if(!Te)return Wl;var Pe=_e.stateNode;if(Pe&&Pe.__reactInternalMemoizedUnmaskedChildContext===be)return Pe.__reactInternalMemoizedMaskedChildContext;var pt,vt={};for(pt in Te)vt[pt]=be[pt];return Pe&&((_e=_e.stateNode).__reactInternalMemoizedUnmaskedChildContext=be,_e.__reactInternalMemoizedMaskedChildContext=vt),vt}function Zf(_e){return null!=(_e=_e.childContextTypes)}function $f(){E($l),E(Hl)}function ag(_e,be,Te){if(Hl.current!==Wl)throw Error(p(168));G(Hl,be),G($l,Te)}function bg(_e,be,Te){var Pe=_e.stateNode;if(be=be.childContextTypes,"function"!=typeof Pe.getChildContext)return Te;for(var pt in Pe=Pe.getChildContext())if(!(pt in be))throw Error(p(108,Ra(_e)||"Unknown",pt));return $n({},Te,Pe)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Wl,Kl=Hl.current,G(Hl,_e),G($l,$l.current),!0}function dg(_e,be,Te){var Pe=_e.stateNode;if(!Pe)throw Error(p(169));Te?(_e=bg(_e,be,Kl),Pe.__reactInternalMemoizedMergedChildContext=_e,E($l),E(Hl),G(Hl,_e)):E($l),G($l,Te)}var Yl=null,eu=!1,tu=!1;function hg(_e){null===Yl?Yl=[_e]:Yl.push(_e)}function ig(_e){eu=!0,hg(_e)}function jg(){if(!tu&&null!==Yl){tu=!0;var _e=0,be=yr;try{var Te=Yl;for(yr=1;_e<Te.length;_e++){var Pe=Te[_e];do{Pe=Pe(!0)}while(null!==Pe)}Yl=null,eu=!1}catch(be){throw null!==Yl&&(Yl=Yl.slice(_e+1)),Da(za,jg),be}finally{yr=be,tu=!1}}return null}var nu=[],ou=0,du=null,lu=0,uu=[],hu=0,pu=null,fu=1,yu="";function tg(_e,be){nu[ou++]=lu,nu[ou++]=du,du=_e,lu=be}function ug(_e,be,Te){uu[hu++]=fu,uu[hu++]=yu,uu[hu++]=pu,pu=_e;var Pe=fu;_e=yu;var pt=32-sr(Pe)-1;Pe&=~(1<<pt),Te+=1;var vt=32-sr(be)+pt;if(30<vt){var xt=pt-pt%5;vt=(Pe&(1<<xt)-1).toString(32),Pe>>=xt,pt-=xt,fu=1<<32-sr(be)+pt|Te<<pt|Pe,yu=vt+_e}else fu=1<<vt|Te<<pt|Pe,yu=_e}function vg(_e){null!==_e.return&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===du;)du=nu[--ou],nu[ou]=null,lu=nu[--ou],nu[ou]=null;for(;_e===pu;)pu=uu[--hu],uu[hu]=null,yu=uu[--hu],uu[hu]=null,fu=uu[--hu],uu[hu]=null}var Wu=null,Ju=null,Yu=!1,Qu=null;function Ag(_e,be){var Te=Bg(5,null,null,0);Te.elementType="DELETED",Te.stateNode=be,Te.return=_e,null===(be=_e.deletions)?(_e.deletions=[Te],_e.flags|=16):be.push(Te)}function Cg(_e,be){switch(_e.tag){case 5:var Te=_e.type;return null!==(be=1!==be.nodeType||Te.toLowerCase()!==be.nodeName.toLowerCase()?null:be)&&(_e.stateNode=be,Wu=_e,Ju=Lf(be.firstChild),!0);case 6:return null!==(be=""===_e.pendingProps||3!==be.nodeType?null:be)&&(_e.stateNode=be,Wu=_e,Ju=null,!0);case 13:return null!==(be=8!==be.nodeType?null:be)&&(Te=null!==pu?{id:fu,overflow:yu}:null,_e.memoizedState={dehydrated:be,treeContext:Te,retryLane:1073741824},(Te=Bg(18,null,null,0)).stateNode=be,Te.return=_e,_e.child=Te,Wu=_e,Ju=null,!0);default:return!1}}function Dg(_e){return 0!=(1&_e.mode)&&0==(128&_e.flags)}function Eg(_e){if(Yu){var be=Ju;if(be){var Te=be;if(!Cg(_e,be)){if(Dg(_e))throw Error(p(418));be=Lf(Te.nextSibling);var Pe=Wu;be&&Cg(_e,be)?Ag(Pe,Te):(_e.flags=-4097&_e.flags|2,Yu=!1,Wu=_e)}}else{if(Dg(_e))throw Error(p(418));_e.flags=-4097&_e.flags|2,Yu=!1,Wu=_e}}}function Fg(_e){for(_e=_e.return;null!==_e&&5!==_e.tag&&3!==_e.tag&&13!==_e.tag;)_e=_e.return;Wu=_e}function Gg(_e){if(_e!==Wu)return!1;if(!Yu)return Fg(_e),Yu=!0,!1;var be;if((be=3!==_e.tag)&&!(be=5!==_e.tag)&&(be="head"!==(be=_e.type)&&"body"!==be&&!Ef(_e.type,_e.memoizedProps)),be&&(be=Ju)){if(Dg(_e))throw Hg(),Error(p(418));for(;be;)Ag(_e,be),be=Lf(be.nextSibling)}if(Fg(_e),13===_e.tag){if(!(_e=null!==(_e=_e.memoizedState)?_e.dehydrated:null))throw Error(p(317));e:{for(_e=_e.nextSibling,be=0;_e;){if(8===_e.nodeType){var Te=_e.data;if("/$"===Te){if(0===be){Ju=Lf(_e.nextSibling);break e}be--}else"$"!==Te&&"$!"!==Te&&"$?"!==Te||be++}_e=_e.nextSibling}Ju=null}}else Ju=Wu?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=Ju;_e;)_e=Lf(_e.nextSibling)}function Ig(){Ju=Wu=null,Yu=!1}function Jg(_e){null===Qu?Qu=[_e]:Qu.push(_e)}var ec=qt.ReactCurrentBatchConfig;function Lg(_e,be){if(_e&&_e.defaultProps){for(var Te in be=$n({},be),_e=_e.defaultProps)void 0===be[Te]&&(be[Te]=_e[Te]);return be}return be}var rc=Uf(null),oc=null,dc=null,hc=null;function Qg(){hc=dc=oc=null}function Rg(_e){var be=rc.current;E(rc),_e._currentValue=be}function Sg(_e,be,Te){for(;null!==_e;){var Pe=_e.alternate;if((_e.childLanes&be)!==be?(_e.childLanes|=be,null!==Pe&&(Pe.childLanes|=be)):null!==Pe&&(Pe.childLanes&be)!==be&&(Pe.childLanes|=be),_e===Te)break;_e=_e.return}}function Tg(_e,be){oc=_e,hc=dc=null,null!==(_e=_e.dependencies)&&null!==_e.firstContext&&(0!=(_e.lanes&be)&&(_p=!0),_e.firstContext=null)}function Vg(_e){var be=_e._currentValue;if(hc!==_e)if(_e={context:_e,memoizedValue:be,next:null},null===dc){if(null===oc)throw Error(p(308));dc=_e,oc.dependencies={lanes:0,firstContext:_e}}else dc=dc.next=_e;return be}var gc=null;function Xg(_e){null===gc?gc=[_e]:gc.push(_e)}function Yg(_e,be,Te,Pe){var pt=be.interleaved;return null===pt?(Te.next=Te,Xg(be)):(Te.next=pt.next,pt.next=Te),be.interleaved=Te,Zg(_e,Pe)}function Zg(_e,be){_e.lanes|=be;var Te=_e.alternate;for(null!==Te&&(Te.lanes|=be),Te=_e,_e=_e.return;null!==_e;)_e.childLanes|=be,null!==(Te=_e.alternate)&&(Te.childLanes|=be),Te=_e,_e=_e.return;return 3===Te.tag?Te.stateNode:null}var fc=!1;function ah(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_e,be){_e=_e.updateQueue,be.updateQueue===_e&&(be.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function ch(_e,be){return{eventTime:_e,lane:be,tag:0,payload:null,callback:null,next:null}}function dh(_e,be,Te){var Pe=_e.updateQueue;if(null===Pe)return null;if(Pe=Pe.shared,0!=(2&og)){var pt=Pe.pending;return null===pt?be.next=be:(be.next=pt.next,pt.next=be),Pe.pending=be,Zg(_e,Te)}return null===(pt=Pe.interleaved)?(be.next=be,Xg(Pe)):(be.next=pt.next,pt.next=be),Pe.interleaved=be,Zg(_e,Te)}function eh(_e,be,Te){if(null!==(be=be.updateQueue)&&(be=be.shared,0!=(4194240&Te))){var Pe=be.lanes;Te|=Pe&=_e.pendingLanes,be.lanes=Te,Cc(_e,Te)}}function fh(_e,be){var Te=_e.updateQueue,Pe=_e.alternate;if(null!==Pe&&Te===(Pe=Pe.updateQueue)){var pt=null,vt=null;if(null!==(Te=Te.firstBaseUpdate)){do{var xt={eventTime:Te.eventTime,lane:Te.lane,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null};null===vt?pt=vt=xt:vt=vt.next=xt,Te=Te.next}while(null!==Te);null===vt?pt=vt=be:vt=vt.next=be}else pt=vt=be;return Te={baseState:Pe.baseState,firstBaseUpdate:pt,lastBaseUpdate:vt,shared:Pe.shared,effects:Pe.effects},void(_e.updateQueue=Te)}null===(_e=Te.lastBaseUpdate)?Te.firstBaseUpdate=be:_e.next=be,Te.lastBaseUpdate=be}function gh(_e,be,Te,Pe){var pt=_e.updateQueue;fc=!1;var vt=pt.firstBaseUpdate,xt=pt.lastBaseUpdate,Tt=pt.shared.pending;if(null!==Tt){pt.shared.pending=null;var It=Tt,Mt=It.next;It.next=null,null===xt?vt=Mt:xt.next=Mt,xt=It;var Lt=_e.alternate;null!==Lt&&((Tt=(Lt=Lt.updateQueue).lastBaseUpdate)!==xt&&(null===Tt?Lt.firstBaseUpdate=Mt:Tt.next=Mt,Lt.lastBaseUpdate=It))}if(null!==vt){var Ft=pt.baseState;for(xt=0,Lt=Mt=It=null,Tt=vt;;){var Ot=Tt.lane,Vt=Tt.eventTime;if((Pe&Ot)===Ot){null!==Lt&&(Lt=Lt.next={eventTime:Vt,lane:0,tag:Tt.tag,payload:Tt.payload,callback:Tt.callback,next:null});e:{var qt=_e,Wt=Tt;switch(Ot=be,Vt=Te,Wt.tag){case 1:if("function"==typeof(qt=Wt.payload)){Ft=qt.call(Vt,Ft,Ot);break e}Ft=qt;break e;case 3:qt.flags=-65537&qt.flags|128;case 0:if(null==(Ot="function"==typeof(qt=Wt.payload)?qt.call(Vt,Ft,Ot):qt))break e;Ft=$n({},Ft,Ot);break e;case 2:fc=!0}}null!==Tt.callback&&0!==Tt.lane&&(_e.flags|=64,null===(Ot=pt.effects)?pt.effects=[Tt]:Ot.push(Tt))}else Vt={eventTime:Vt,lane:Ot,tag:Tt.tag,payload:Tt.payload,callback:Tt.callback,next:null},null===Lt?(Mt=Lt=Vt,It=Ft):Lt=Lt.next=Vt,xt|=Ot;if(null===(Tt=Tt.next)){if(null===(Tt=pt.shared.pending))break;Tt=(Ot=Tt).next,Ot.next=null,pt.lastBaseUpdate=Ot,pt.shared.pending=null}}if(null===Lt&&(It=Ft),pt.baseState=It,pt.firstBaseUpdate=Mt,pt.lastBaseUpdate=Lt,null!==(be=pt.shared.interleaved)){pt=be;do{xt|=pt.lane,pt=pt.next}while(pt!==be)}else null===vt&&(pt.shared.lanes=0);_g|=xt,_e.lanes=xt,_e.memoizedState=Ft}}function ih(_e,be,Te){if(_e=be.effects,be.effects=null,null!==_e)for(be=0;be<_e.length;be++){var Pe=_e[be],pt=Pe.callback;if(null!==pt){if(Pe.callback=null,Pe=Te,"function"!=typeof pt)throw Error(p(191,pt));pt.call(Pe)}}}var Rc=(new Pe.Component).refs;function kh(_e,be,Te,Pe){Te=null==(Te=Te(Pe,be=_e.memoizedState))?be:$n({},be,Te),_e.memoizedState=Te,0===_e.lanes&&(_e.updateQueue.baseState=Te)}var kc={isMounted:function(_e){return!!(_e=_e._reactInternals)&&Vb(_e)===_e},enqueueSetState:function(_e,be,Te){_e=_e._reactInternals;var Pe=L(),pt=lh(_e),vt=ch(Pe,pt);vt.payload=be,null!=Te&&(vt.callback=Te),null!==(be=dh(_e,vt,pt))&&(mh(be,_e,pt,Pe),eh(be,_e,pt))},enqueueReplaceState:function(_e,be,Te){_e=_e._reactInternals;var Pe=L(),pt=lh(_e),vt=ch(Pe,pt);vt.tag=1,vt.payload=be,null!=Te&&(vt.callback=Te),null!==(be=dh(_e,vt,pt))&&(mh(be,_e,pt,Pe),eh(be,_e,pt))},enqueueForceUpdate:function(_e,be){_e=_e._reactInternals;var Te=L(),Pe=lh(_e),pt=ch(Te,Pe);pt.tag=2,null!=be&&(pt.callback=be),null!==(be=dh(_e,pt,Pe))&&(mh(be,_e,Pe,Te),eh(be,_e,Pe))}};function oh(_e,be,Te,Pe,pt,vt,xt){return"function"==typeof(_e=_e.stateNode).shouldComponentUpdate?_e.shouldComponentUpdate(Pe,vt,xt):!be.prototype||!be.prototype.isPureReactComponent||(!Ie(Te,Pe)||!Ie(pt,vt))}function ph(_e,be,Te){var Pe=!1,pt=Wl,vt=be.contextType;return"object"==typeof vt&&null!==vt?vt=Vg(vt):(pt=Zf(be)?Kl:Hl.current,vt=(Pe=null!=(Pe=be.contextTypes))?Yf(_e,pt):Wl),be=new be(Te,vt),_e.memoizedState=null!==be.state&&void 0!==be.state?be.state:null,be.updater=kc,_e.stateNode=be,be._reactInternals=_e,Pe&&((_e=_e.stateNode).__reactInternalMemoizedUnmaskedChildContext=pt,_e.__reactInternalMemoizedMaskedChildContext=vt),be}function qh(_e,be,Te,Pe){_e=be.state,"function"==typeof be.componentWillReceiveProps&&be.componentWillReceiveProps(Te,Pe),"function"==typeof be.UNSAFE_componentWillReceiveProps&&be.UNSAFE_componentWillReceiveProps(Te,Pe),be.state!==_e&&kc.enqueueReplaceState(be,be.state,null)}function rh(_e,be,Te,Pe){var pt=_e.stateNode;pt.props=Te,pt.state=_e.memoizedState,pt.refs=Rc,ah(_e);var vt=be.contextType;"object"==typeof vt&&null!==vt?pt.context=Vg(vt):(vt=Zf(be)?Kl:Hl.current,pt.context=Yf(_e,vt)),pt.state=_e.memoizedState,"function"==typeof(vt=be.getDerivedStateFromProps)&&(kh(_e,be,vt,Te),pt.state=_e.memoizedState),"function"==typeof be.getDerivedStateFromProps||"function"==typeof pt.getSnapshotBeforeUpdate||"function"!=typeof pt.UNSAFE_componentWillMount&&"function"!=typeof pt.componentWillMount||(be=pt.state,"function"==typeof pt.componentWillMount&&pt.componentWillMount(),"function"==typeof pt.UNSAFE_componentWillMount&&pt.UNSAFE_componentWillMount(),be!==pt.state&&kc.enqueueReplaceState(pt,pt.state,null),gh(_e,Te,pt,Pe),pt.state=_e.memoizedState),"function"==typeof pt.componentDidMount&&(_e.flags|=4194308)}function sh(_e,be,Te){if(null!==(_e=Te.ref)&&"function"!=typeof _e&&"object"!=typeof _e){if(Te._owner){if(Te=Te._owner){if(1!==Te.tag)throw Error(p(309));var Pe=Te.stateNode}if(!Pe)throw Error(p(147,_e));var pt=Pe,vt=""+_e;return null!==be&&null!==be.ref&&"function"==typeof be.ref&&be.ref._stringRef===vt?be.ref:((be=function(_e){var be=pt.refs;be===Rc&&(be=pt.refs={}),null===_e?delete be[vt]:be[vt]=_e})._stringRef=vt,be)}if("string"!=typeof _e)throw Error(p(284));if(!Te._owner)throw Error(p(290,_e))}return _e}function th(_e,be){throw _e=Object.prototype.toString.call(be),Error(p(31,"[object Object]"===_e?"object with keys {"+Object.keys(be).join(", ")+"}":_e))}function uh(_e){return(0,_e._init)(_e._payload)}function vh(_e){function b(be,Te){if(_e){var Pe=be.deletions;null===Pe?(be.deletions=[Te],be.flags|=16):Pe.push(Te)}}function c(be,Te){if(!_e)return null;for(;null!==Te;)b(be,Te),Te=Te.sibling;return null}function d(_e,be){for(_e=new Map;null!==be;)null!==be.key?_e.set(be.key,be):_e.set(be.index,be),be=be.sibling;return _e}function e(_e,be){return(_e=wh(_e,be)).index=0,_e.sibling=null,_e}function f(be,Te,Pe){return be.index=Pe,_e?null!==(Pe=be.alternate)?(Pe=Pe.index)<Te?(be.flags|=2,Te):Pe:(be.flags|=2,Te):(be.flags|=1048576,Te)}function g(be){return _e&&null===be.alternate&&(be.flags|=2),be}function h(_e,be,Te,Pe){return null===be||6!==be.tag?((be=xh(Te,_e.mode,Pe)).return=_e,be):((be=e(be,Te)).return=_e,be)}function k(_e,be,Te,Pe){var pt=Te.type;return pt===Kt?m(_e,be,Te.props.children,Pe,Te.key):null!==be&&(be.elementType===pt||"object"==typeof pt&&null!==pt&&pt.$$typeof===Pn&&uh(pt)===be.type)?((Pe=e(be,Te.props)).ref=sh(_e,be,Te),Pe.return=_e,Pe):((Pe=yh(Te.type,Te.key,Te.props,null,_e.mode,Pe)).ref=sh(_e,be,Te),Pe.return=_e,Pe)}function l(_e,be,Te,Pe){return null===be||4!==be.tag||be.stateNode.containerInfo!==Te.containerInfo||be.stateNode.implementation!==Te.implementation?((be=zh(Te,_e.mode,Pe)).return=_e,be):((be=e(be,Te.children||[])).return=_e,be)}function m(_e,be,Te,Pe,pt){return null===be||7!==be.tag?((be=Ah(Te,_e.mode,Pe,pt)).return=_e,be):((be=e(be,Te)).return=_e,be)}function q(_e,be,Te){if("string"==typeof be&&""!==be||"number"==typeof be)return(be=xh(""+be,_e.mode,Te)).return=_e,be;if("object"==typeof be&&null!==be){switch(be.$$typeof){case Wt:return(Te=yh(be.type,be.key,be.props,null,_e.mode,Te)).ref=sh(_e,null,be),Te.return=_e,Te;case $t:return(be=zh(be,_e.mode,Te)).return=_e,be;case Pn:return q(_e,(0,be._init)(be._payload),Te)}if(na(be)||Ka(be))return(be=Ah(be,_e.mode,Te,null)).return=_e,be;th(_e,be)}return null}function r(_e,be,Te,Pe){var pt=null!==be?be.key:null;if("string"==typeof Te&&""!==Te||"number"==typeof Te)return null!==pt?null:h(_e,be,""+Te,Pe);if("object"==typeof Te&&null!==Te){switch(Te.$$typeof){case Wt:return Te.key===pt?k(_e,be,Te,Pe):null;case $t:return Te.key===pt?l(_e,be,Te,Pe):null;case Pn:return r(_e,be,(pt=Te._init)(Te._payload),Pe)}if(na(Te)||Ka(Te))return null!==pt?null:m(_e,be,Te,Pe,null);th(_e,Te)}return null}function y(_e,be,Te,Pe,pt){if("string"==typeof Pe&&""!==Pe||"number"==typeof Pe)return h(be,_e=_e.get(Te)||null,""+Pe,pt);if("object"==typeof Pe&&null!==Pe){switch(Pe.$$typeof){case Wt:return k(be,_e=_e.get(null===Pe.key?Te:Pe.key)||null,Pe,pt);case $t:return l(be,_e=_e.get(null===Pe.key?Te:Pe.key)||null,Pe,pt);case Pn:return y(_e,be,Te,(0,Pe._init)(Pe._payload),pt)}if(na(Pe)||Ka(Pe))return m(be,_e=_e.get(Te)||null,Pe,pt,null);th(be,Pe)}return null}function n(be,Te,Pe,pt){for(var vt=null,xt=null,Tt=Te,It=Te=0,Mt=null;null!==Tt&&It<Pe.length;It++){Tt.index>It?(Mt=Tt,Tt=null):Mt=Tt.sibling;var Lt=r(be,Tt,Pe[It],pt);if(null===Lt){null===Tt&&(Tt=Mt);break}_e&&Tt&&null===Lt.alternate&&b(be,Tt),Te=f(Lt,Te,It),null===xt?vt=Lt:xt.sibling=Lt,xt=Lt,Tt=Mt}if(It===Pe.length)return c(be,Tt),Yu&&tg(be,It),vt;if(null===Tt){for(;It<Pe.length;It++)null!==(Tt=q(be,Pe[It],pt))&&(Te=f(Tt,Te,It),null===xt?vt=Tt:xt.sibling=Tt,xt=Tt);return Yu&&tg(be,It),vt}for(Tt=d(be,Tt);It<Pe.length;It++)null!==(Mt=y(Tt,be,It,Pe[It],pt))&&(_e&&null!==Mt.alternate&&Tt.delete(null===Mt.key?It:Mt.key),Te=f(Mt,Te,It),null===xt?vt=Mt:xt.sibling=Mt,xt=Mt);return _e&&Tt.forEach((function(_e){return b(be,_e)})),Yu&&tg(be,It),vt}function t(be,Te,Pe,pt){var vt=Ka(Pe);if("function"!=typeof vt)throw Error(p(150));if(null==(Pe=vt.call(Pe)))throw Error(p(151));for(var xt=vt=null,Tt=Te,It=Te=0,Mt=null,Lt=Pe.next();null!==Tt&&!Lt.done;It++,Lt=Pe.next()){Tt.index>It?(Mt=Tt,Tt=null):Mt=Tt.sibling;var Ft=r(be,Tt,Lt.value,pt);if(null===Ft){null===Tt&&(Tt=Mt);break}_e&&Tt&&null===Ft.alternate&&b(be,Tt),Te=f(Ft,Te,It),null===xt?vt=Ft:xt.sibling=Ft,xt=Ft,Tt=Mt}if(Lt.done)return c(be,Tt),Yu&&tg(be,It),vt;if(null===Tt){for(;!Lt.done;It++,Lt=Pe.next())null!==(Lt=q(be,Lt.value,pt))&&(Te=f(Lt,Te,It),null===xt?vt=Lt:xt.sibling=Lt,xt=Lt);return Yu&&tg(be,It),vt}for(Tt=d(be,Tt);!Lt.done;It++,Lt=Pe.next())null!==(Lt=y(Tt,be,It,Lt.value,pt))&&(_e&&null!==Lt.alternate&&Tt.delete(null===Lt.key?It:Lt.key),Te=f(Lt,Te,It),null===xt?vt=Lt:xt.sibling=Lt,xt=Lt);return _e&&Tt.forEach((function(_e){return b(be,_e)})),Yu&&tg(be,It),vt}return function J(_e,be,Te,Pe){if("object"==typeof Te&&null!==Te&&Te.type===Kt&&null===Te.key&&(Te=Te.props.children),"object"==typeof Te&&null!==Te){switch(Te.$$typeof){case Wt:e:{for(var pt=Te.key,vt=be;null!==vt;){if(vt.key===pt){if((pt=Te.type)===Kt){if(7===vt.tag){c(_e,vt.sibling),(be=e(vt,Te.props.children)).return=_e,_e=be;break e}}else if(vt.elementType===pt||"object"==typeof pt&&null!==pt&&pt.$$typeof===Pn&&uh(pt)===vt.type){c(_e,vt.sibling),(be=e(vt,Te.props)).ref=sh(_e,vt,Te),be.return=_e,_e=be;break e}c(_e,vt);break}b(_e,vt),vt=vt.sibling}Te.type===Kt?((be=Ah(Te.props.children,_e.mode,Pe,Te.key)).return=_e,_e=be):((Pe=yh(Te.type,Te.key,Te.props,null,_e.mode,Pe)).ref=sh(_e,be,Te),Pe.return=_e,_e=Pe)}return g(_e);case $t:e:{for(vt=Te.key;null!==be;){if(be.key===vt){if(4===be.tag&&be.stateNode.containerInfo===Te.containerInfo&&be.stateNode.implementation===Te.implementation){c(_e,be.sibling),(be=e(be,Te.children||[])).return=_e,_e=be;break e}c(_e,be);break}b(_e,be),be=be.sibling}(be=zh(Te,_e.mode,Pe)).return=_e,_e=be}return g(_e);case Pn:return J(_e,be,(vt=Te._init)(Te._payload),Pe)}if(na(Te))return n(_e,be,Te,Pe);if(Ka(Te))return t(_e,be,Te,Pe);th(_e,Te)}return"string"==typeof Te&&""!==Te||"number"==typeof Te?(Te=""+Te,null!==be&&6===be.tag?(c(_e,be.sibling),(be=e(be,Te)).return=_e,_e=be):(c(_e,be),(be=xh(Te,_e.mode,Pe)).return=_e,_e=be),g(_e)):c(_e,be)}}var Pc=vh(!0),Ic=vh(!1),Lc={},Fc=Uf(Lc),jc=Uf(Lc),Nc=Uf(Lc);function Hh(_e){if(_e===Lc)throw Error(p(174));return _e}function Ih(_e,be){switch(G(Nc,be),G(jc,_e),G(Fc,Lc),_e=be.nodeType){case 9:case 11:be=(be=be.documentElement)?be.namespaceURI:lb(null,"");break;default:be=lb(be=(_e=8===_e?be.parentNode:be).namespaceURI||null,_e=_e.tagName)}E(Fc),G(Fc,be)}function Jh(){E(Fc),E(jc),E(Nc)}function Kh(_e){Hh(Nc.current);var be=Hh(Fc.current),Te=lb(be,_e.type);be!==Te&&(G(jc,_e),G(Fc,Te))}function Lh(_e){jc.current===_e&&(E(Fc),E(jc))}var Gc=Uf(0);function Mh(_e){for(var be=_e;null!==be;){if(13===be.tag){var Te=be.memoizedState;if(null!==Te&&(null===(Te=Te.dehydrated)||"$?"===Te.data||"$!"===Te.data))return be}else if(19===be.tag&&void 0!==be.memoizedProps.revealOrder){if(0!=(128&be.flags))return be}else if(null!==be.child){be.child.return=be,be=be.child;continue}if(be===_e)break;for(;null===be.sibling;){if(null===be.return||be.return===_e)return null;be=be.return}be.sibling.return=be.return,be=be.sibling}return null}var qc=[];function Oh(){for(var _e=0;_e<qc.length;_e++)qc[_e]._workInProgressVersionPrimary=null;qc.length=0}var Hc=qt.ReactCurrentDispatcher,Kc=qt.ReactCurrentBatchConfig,nh=0,hh=null,Rh=null,Ch=null,Dh=!1,Ph=!1,Fh=0,jh=0;function Q(){throw Error(p(321))}function Wh(_e,be){if(null===be)return!1;for(var Te=0;Te<be.length&&Te<_e.length;Te++)if(!Ks(_e[Te],be[Te]))return!1;return!0}function Xh(_e,be,Te,Pe,pt,vt){if(nh=vt,hh=be,be.memoizedState=null,be.updateQueue=null,be.lanes=0,Hc.current=null===_e||null===_e.memoizedState?Yh:sp,_e=Te(Pe,pt),Ph){vt=0;do{if(Ph=!1,Fh=0,25<=vt)throw Error(p(301));vt+=1,Ch=Rh=null,be.updateQueue=null,Hc.current=lp,_e=Te(Pe,pt)}while(Ph)}if(Hc.current=Vh,be=null!==Rh&&null!==Rh.next,nh=0,Ch=Rh=hh=null,Dh=!1,be)throw Error(p(300));return _e}function bi(){var _e=0!==Fh;return Fh=0,_e}function ci(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ch?hh.memoizedState=Ch=_e:Ch=Ch.next=_e,Ch}function di(){if(null===Rh){var _e=hh.alternate;_e=null!==_e?_e.memoizedState:null}else _e=Rh.next;var be=null===Ch?hh.memoizedState:Ch.next;if(null!==be)Ch=be,Rh=_e;else{if(null===_e)throw Error(p(310));_e={memoizedState:(Rh=_e).memoizedState,baseState:Rh.baseState,baseQueue:Rh.baseQueue,queue:Rh.queue,next:null},null===Ch?hh.memoizedState=Ch=_e:Ch=Ch.next=_e}return Ch}function ei(_e,be){return"function"==typeof be?be(_e):be}function fi(_e){var be=di(),Te=be.queue;if(null===Te)throw Error(p(311));Te.lastRenderedReducer=_e;var Pe=Rh,pt=Pe.baseQueue,vt=Te.pending;if(null!==vt){if(null!==pt){var xt=pt.next;pt.next=vt.next,vt.next=xt}Pe.baseQueue=pt=vt,Te.pending=null}if(null!==pt){vt=pt.next,Pe=Pe.baseState;var Tt=xt=null,It=null,Mt=vt;do{var Lt=Mt.lane;if((nh&Lt)===Lt)null!==It&&(It=It.next={lane:0,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null}),Pe=Mt.hasEagerState?Mt.eagerState:_e(Pe,Mt.action);else{var Ft={lane:Lt,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null};null===It?(Tt=It=Ft,xt=Pe):It=It.next=Ft,hh.lanes|=Lt,_g|=Lt}Mt=Mt.next}while(null!==Mt&&Mt!==vt);null===It?xt=Pe:It.next=Tt,Ks(Pe,be.memoizedState)||(_p=!0),be.memoizedState=Pe,be.baseState=xt,be.baseQueue=It,Te.lastRenderedState=Pe}if(null!==(_e=Te.interleaved)){pt=_e;do{vt=pt.lane,hh.lanes|=vt,_g|=vt,pt=pt.next}while(pt!==_e)}else null===pt&&(Te.lanes=0);return[be.memoizedState,Te.dispatch]}function gi(_e){var be=di(),Te=be.queue;if(null===Te)throw Error(p(311));Te.lastRenderedReducer=_e;var Pe=Te.dispatch,pt=Te.pending,vt=be.memoizedState;if(null!==pt){Te.pending=null;var xt=pt=pt.next;do{vt=_e(vt,xt.action),xt=xt.next}while(xt!==pt);Ks(vt,be.memoizedState)||(_p=!0),be.memoizedState=vt,null===be.baseQueue&&(be.baseState=vt),Te.lastRenderedState=vt}return[vt,Pe]}function hi(){}function ii(_e,be){var Te=hh,Pe=di(),pt=be(),vt=!Ks(Pe.memoizedState,pt);if(vt&&(Pe.memoizedState=pt,_p=!0),Pe=Pe.queue,ji(ki.bind(null,Te,Pe,_e),[_e]),Pe.getSnapshot!==be||vt||null!==Ch&&1&Ch.memoizedState.tag){if(Te.flags|=2048,li(9,mi.bind(null,Te,Pe,pt,be),void 0,null),null===sg)throw Error(p(349));0!=(30&nh)||ni(Te,be,pt)}return pt}function ni(_e,be,Te){_e.flags|=16384,_e={getSnapshot:be,value:Te},null===(be=hh.updateQueue)?(be={lastEffect:null,stores:null},hh.updateQueue=be,be.stores=[_e]):null===(Te=be.stores)?be.stores=[_e]:Te.push(_e)}function mi(_e,be,Te,Pe){be.value=Te,be.getSnapshot=Pe,oi(be)&&pi(_e)}function ki(_e,be,Te){return Te((function(){oi(be)&&pi(_e)}))}function oi(_e){var be=_e.getSnapshot;_e=_e.value;try{var Te=be();return!Ks(_e,Te)}catch(_e){return!0}}function pi(_e){var be=Zg(_e,1);null!==be&&mh(be,_e,1,-1)}function qi(_e){var be=ci();return"function"==typeof _e&&(_e=_e()),be.memoizedState=be.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_e},be.queue=_e,_e=_e.dispatch=ri.bind(null,hh,_e),[be.memoizedState,_e]}function li(_e,be,Te,Pe){return _e={tag:_e,create:be,destroy:Te,deps:Pe,next:null},null===(be=hh.updateQueue)?(be={lastEffect:null,stores:null},hh.updateQueue=be,be.lastEffect=_e.next=_e):null===(Te=be.lastEffect)?be.lastEffect=_e.next=_e:(Pe=Te.next,Te.next=_e,_e.next=Pe,be.lastEffect=_e),_e}function si(){return di().memoizedState}function ti(_e,be,Te,Pe){var pt=ci();hh.flags|=_e,pt.memoizedState=li(1|be,Te,void 0,void 0===Pe?null:Pe)}function ui(_e,be,Te,Pe){var pt=di();Pe=void 0===Pe?null:Pe;var vt=void 0;if(null!==Rh){var xt=Rh.memoizedState;if(vt=xt.destroy,null!==Pe&&Wh(Pe,xt.deps))return void(pt.memoizedState=li(be,Te,vt,Pe))}hh.flags|=_e,pt.memoizedState=li(1|be,Te,vt,Pe)}function vi(_e,be){return ti(8390656,8,_e,be)}function ji(_e,be){return ui(2048,8,_e,be)}function wi(_e,be){return ui(4,2,_e,be)}function xi(_e,be){return ui(4,4,_e,be)}function yi(_e,be){return"function"==typeof be?(_e=_e(),be(_e),function(){be(null)}):null!=be?(_e=_e(),be.current=_e,function(){be.current=null}):void 0}function zi(_e,be,Te){return Te=null!=Te?Te.concat([_e]):null,ui(4,4,yi.bind(null,be,_e),Te)}function Ai(){}function Bi(_e,be){var Te=di();be=void 0===be?null:be;var Pe=Te.memoizedState;return null!==Pe&&null!==be&&Wh(be,Pe[1])?Pe[0]:(Te.memoizedState=[_e,be],_e)}function Ci(_e,be){var Te=di();be=void 0===be?null:be;var Pe=Te.memoizedState;return null!==Pe&&null!==be&&Wh(be,Pe[1])?Pe[0]:(_e=_e(),Te.memoizedState=[_e,be],_e)}function Di(_e,be,Te){return 0==(21&nh)?(_e.baseState&&(_e.baseState=!1,_p=!0),_e.memoizedState=Te):(Ks(Te,be)||(Te=yc(),hh.lanes|=Te,_g|=Te,_e.baseState=!0),be)}function Ei(_e,be){var Te=yr;yr=0!==Te&&4>Te?Te:4,_e(!0);var Pe=Kc.transition;Kc.transition={};try{_e(!1),be()}finally{yr=Te,Kc.transition=Pe}}function Fi(){return di().memoizedState}function Gi(_e,be,Te){var Pe=lh(_e);if(Te={lane:Pe,action:Te,hasEagerState:!1,eagerState:null,next:null},Hi(_e))Ii(be,Te);else if(null!==(Te=Yg(_e,be,Te,Pe))){mh(Te,_e,Pe,L()),Ji(Te,be,Pe)}}function ri(_e,be,Te){var Pe=lh(_e),pt={lane:Pe,action:Te,hasEagerState:!1,eagerState:null,next:null};if(Hi(_e))Ii(be,pt);else{var vt=_e.alternate;if(0===_e.lanes&&(null===vt||0===vt.lanes)&&null!==(vt=be.lastRenderedReducer))try{var xt=be.lastRenderedState,Tt=vt(xt,Te);if(pt.hasEagerState=!0,pt.eagerState=Tt,Ks(Tt,xt)){var It=be.interleaved;return null===It?(pt.next=pt,Xg(be)):(pt.next=It.next,It.next=pt),void(be.interleaved=pt)}}catch(_e){}null!==(Te=Yg(_e,be,pt,Pe))&&(mh(Te,_e,Pe,pt=L()),Ji(Te,be,Pe))}}function Hi(_e){var be=_e.alternate;return _e===hh||null!==be&&be===hh}function Ii(_e,be){Ph=Dh=!0;var Te=_e.pending;null===Te?be.next=be:(be.next=Te.next,Te.next=be),_e.pending=be}function Ji(_e,be,Te){if(0!=(4194240&Te)){var Pe=be.lanes;Te|=Pe&=_e.pendingLanes,be.lanes=Te,Cc(_e,Te)}}var Vh={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_e,be){return ci().memoizedState=[_e,void 0===be?null:be],_e},useContext:Vg,useEffect:vi,useImperativeHandle:function(_e,be,Te){return Te=null!=Te?Te.concat([_e]):null,ti(4194308,4,yi.bind(null,be,_e),Te)},useLayoutEffect:function(_e,be){return ti(4194308,4,_e,be)},useInsertionEffect:function(_e,be){return ti(4,2,_e,be)},useMemo:function(_e,be){var Te=ci();return be=void 0===be?null:be,_e=_e(),Te.memoizedState=[_e,be],_e},useReducer:function(_e,be,Te){var Pe=ci();return be=void 0!==Te?Te(be):be,Pe.memoizedState=Pe.baseState=be,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:be},Pe.queue=_e,_e=_e.dispatch=Gi.bind(null,hh,_e),[Pe.memoizedState,_e]},useRef:function(_e){return _e={current:_e},ci().memoizedState=_e},useState:qi,useDebugValue:Ai,useDeferredValue:function(_e){return ci().memoizedState=_e},useTransition:function(){var _e=qi(!1),be=_e[0];return _e=Ei.bind(null,_e[1]),ci().memoizedState=_e,[be,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,be,Te){var Pe=hh,pt=ci();if(Yu){if(void 0===Te)throw Error(p(407));Te=Te()}else{if(Te=be(),null===sg)throw Error(p(349));0!=(30&nh)||ni(Pe,be,Te)}pt.memoizedState=Te;var vt={value:Te,getSnapshot:be};return pt.queue=vt,vi(ki.bind(null,Pe,vt,_e),[_e]),Pe.flags|=2048,li(9,mi.bind(null,Pe,vt,Te,be),void 0,null),Te},useId:function(){var _e=ci(),be=sg.identifierPrefix;if(Yu){var Te=yu;be=":"+be+"R"+(Te=(fu&~(1<<32-sr(fu)-1)).toString(32)+Te),0<(Te=Fh++)&&(be+="H"+Te.toString(32)),be+=":"}else be=":"+be+"r"+(Te=jh++).toString(32)+":";return _e.memoizedState=be},unstable_isNewReconciler:!1},sp={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){return Di(di(),Rh.memoizedState,_e)},useTransition:function(){return[fi(ei)[0],di().memoizedState]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},lp={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var be=di();return null===Rh?be.memoizedState=_e:Di(be,Rh.memoizedState,_e)},useTransition:function(){return[gi(ei)[0],di().memoizedState]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_e,be){try{var Te="",Pe=be;do{Te+=Pa(Pe),Pe=Pe.return}while(Pe);var pt=Te}catch(_e){pt="\nError generating stack: "+_e.message+"\n"+_e.stack}return{value:_e,source:be,stack:pt,digest:null}}function Li(_e,be,Te){return{value:_e,source:null,stack:null!=Te?Te:null,digest:null!=be?be:null}}function Mi(_e,be){try{console.error(be.value)}catch(_e){setTimeout((function(){throw _e}))}}var up="function"==typeof WeakMap?WeakMap:Map;function Oi(_e,be,Te){(Te=ch(-1,Te)).tag=3,Te.payload={element:null};var Pe=be.value;return Te.callback=function(){Ug||(Ug=!0,qg=Pe),Mi(0,be)},Te}function Ri(_e,be,Te){(Te=ch(-1,Te)).tag=3;var Pe=_e.type.getDerivedStateFromError;if("function"==typeof Pe){var pt=be.value;Te.payload=function(){return Pe(pt)},Te.callback=function(){Mi(0,be)}}var vt=_e.stateNode;return null!==vt&&"function"==typeof vt.componentDidCatch&&(Te.callback=function(){Mi(0,be),"function"!=typeof Pe&&(null===Wg?Wg=new Set([this]):Wg.add(this));var _e=be.stack;this.componentDidCatch(be.value,{componentStack:null!==_e?_e:""})}),Te}function Ti(_e,be,Te){var Pe=_e.pingCache;if(null===Pe){Pe=_e.pingCache=new up;var pt=new Set;Pe.set(be,pt)}else void 0===(pt=Pe.get(be))&&(pt=new Set,Pe.set(be,pt));pt.has(Te)||(pt.add(Te),_e=Ui.bind(null,_e,be,Te),be.then(_e,_e))}function Vi(_e){do{var be;if((be=13===_e.tag)&&(be=null===(be=_e.memoizedState)||null!==be.dehydrated),be)return _e;_e=_e.return}while(null!==_e);return null}function Wi(_e,be,Te,Pe,pt){return 0==(1&_e.mode)?(_e===be?_e.flags|=65536:(_e.flags|=128,Te.flags|=131072,Te.flags&=-52805,1===Te.tag&&(null===Te.alternate?Te.tag=17:((be=ch(-1,1)).tag=2,dh(Te,be,1))),Te.lanes|=1),_e):(_e.flags|=65536,_e.lanes=pt,_e)}var mp=qt.ReactCurrentOwner,_p=!1;function Yi(_e,be,Te,Pe){be.child=null===_e?Ic(be,null,Te,Pe):Pc(be,_e.child,Te,Pe)}function Zi(_e,be,Te,Pe,pt){Te=Te.render;var vt=be.ref;return Tg(be,pt),Pe=Xh(_e,be,Te,Pe,vt,pt),Te=bi(),null===_e||_p?(Yu&&Te&&vg(be),be.flags|=1,Yi(_e,be,Pe,pt),be.child):(be.updateQueue=_e.updateQueue,be.flags&=-2053,_e.lanes&=~pt,$i(_e,be,pt))}function aj(_e,be,Te,Pe,pt){if(null===_e){var vt=Te.type;return"function"!=typeof vt||bj(vt)||void 0!==vt.defaultProps||null!==Te.compare||void 0!==Te.defaultProps?((_e=yh(Te.type,null,Pe,be,be.mode,pt)).ref=be.ref,_e.return=be,be.child=_e):(be.tag=15,be.type=vt,cj(_e,be,vt,Pe,pt))}if(vt=_e.child,0==(_e.lanes&pt)){var xt=vt.memoizedProps;if((Te=null!==(Te=Te.compare)?Te:Ie)(xt,Pe)&&_e.ref===be.ref)return $i(_e,be,pt)}return be.flags|=1,(_e=wh(vt,Pe)).ref=be.ref,_e.return=be,be.child=_e}function cj(_e,be,Te,Pe,pt){if(null!==_e){var vt=_e.memoizedProps;if(Ie(vt,Pe)&&_e.ref===be.ref){if(_p=!1,be.pendingProps=Pe=vt,0==(_e.lanes&pt))return be.lanes=_e.lanes,$i(_e,be,pt);0!=(131072&_e.flags)&&(_p=!0)}}return dj(_e,be,Te,Pe,pt)}function ej(_e,be,Te){var Pe=be.pendingProps,pt=Pe.children,vt=null!==_e?_e.memoizedState:null;if("hidden"===Pe.mode)if(0==(1&be.mode))be.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fg,gg),gg|=Te;else{if(0==(1073741824&Te))return _e=null!==vt?vt.baseLanes|Te:Te,be.lanes=be.childLanes=1073741824,be.memoizedState={baseLanes:_e,cachePool:null,transitions:null},be.updateQueue=null,G(fg,gg),gg|=_e,null;be.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe=null!==vt?vt.baseLanes:Te,G(fg,gg),gg|=Pe}else null!==vt?(Pe=vt.baseLanes|Te,be.memoizedState=null):Pe=Te,G(fg,gg),gg|=Pe;return Yi(_e,be,pt,Te),be.child}function hj(_e,be){var Te=be.ref;(null===_e&&null!==Te||null!==_e&&_e.ref!==Te)&&(be.flags|=512,be.flags|=2097152)}function dj(_e,be,Te,Pe,pt){var vt=Zf(Te)?Kl:Hl.current;return vt=Yf(be,vt),Tg(be,pt),Te=Xh(_e,be,Te,Pe,vt,pt),Pe=bi(),null===_e||_p?(Yu&&Pe&&vg(be),be.flags|=1,Yi(_e,be,Te,pt),be.child):(be.updateQueue=_e.updateQueue,be.flags&=-2053,_e.lanes&=~pt,$i(_e,be,pt))}function ij(_e,be,Te,Pe,pt){if(Zf(Te)){var vt=!0;cg(be)}else vt=!1;if(Tg(be,pt),null===be.stateNode)jj(_e,be),ph(be,Te,Pe),rh(be,Te,Pe,pt),Pe=!0;else if(null===_e){var xt=be.stateNode,Tt=be.memoizedProps;xt.props=Tt;var It=xt.context,Mt=Te.contextType;"object"==typeof Mt&&null!==Mt?Mt=Vg(Mt):Mt=Yf(be,Mt=Zf(Te)?Kl:Hl.current);var Lt=Te.getDerivedStateFromProps,Ft="function"==typeof Lt||"function"==typeof xt.getSnapshotBeforeUpdate;Ft||"function"!=typeof xt.UNSAFE_componentWillReceiveProps&&"function"!=typeof xt.componentWillReceiveProps||(Tt!==Pe||It!==Mt)&&qh(be,xt,Pe,Mt),fc=!1;var Ot=be.memoizedState;xt.state=Ot,gh(be,Pe,xt,pt),It=be.memoizedState,Tt!==Pe||Ot!==It||$l.current||fc?("function"==typeof Lt&&(kh(be,Te,Lt,Pe),It=be.memoizedState),(Tt=fc||oh(be,Te,Tt,Pe,Ot,It,Mt))?(Ft||"function"!=typeof xt.UNSAFE_componentWillMount&&"function"!=typeof xt.componentWillMount||("function"==typeof xt.componentWillMount&&xt.componentWillMount(),"function"==typeof xt.UNSAFE_componentWillMount&&xt.UNSAFE_componentWillMount()),"function"==typeof xt.componentDidMount&&(be.flags|=4194308)):("function"==typeof xt.componentDidMount&&(be.flags|=4194308),be.memoizedProps=Pe,be.memoizedState=It),xt.props=Pe,xt.state=It,xt.context=Mt,Pe=Tt):("function"==typeof xt.componentDidMount&&(be.flags|=4194308),Pe=!1)}else{xt=be.stateNode,bh(_e,be),Tt=be.memoizedProps,Mt=be.type===be.elementType?Tt:Lg(be.type,Tt),xt.props=Mt,Ft=be.pendingProps,Ot=xt.context,"object"==typeof(It=Te.contextType)&&null!==It?It=Vg(It):It=Yf(be,It=Zf(Te)?Kl:Hl.current);var Vt=Te.getDerivedStateFromProps;(Lt="function"==typeof Vt||"function"==typeof xt.getSnapshotBeforeUpdate)||"function"!=typeof xt.UNSAFE_componentWillReceiveProps&&"function"!=typeof xt.componentWillReceiveProps||(Tt!==Ft||Ot!==It)&&qh(be,xt,Pe,It),fc=!1,Ot=be.memoizedState,xt.state=Ot,gh(be,Pe,xt,pt);var qt=be.memoizedState;Tt!==Ft||Ot!==qt||$l.current||fc?("function"==typeof Vt&&(kh(be,Te,Vt,Pe),qt=be.memoizedState),(Mt=fc||oh(be,Te,Mt,Pe,Ot,qt,It)||!1)?(Lt||"function"!=typeof xt.UNSAFE_componentWillUpdate&&"function"!=typeof xt.componentWillUpdate||("function"==typeof xt.componentWillUpdate&&xt.componentWillUpdate(Pe,qt,It),"function"==typeof xt.UNSAFE_componentWillUpdate&&xt.UNSAFE_componentWillUpdate(Pe,qt,It)),"function"==typeof xt.componentDidUpdate&&(be.flags|=4),"function"==typeof xt.getSnapshotBeforeUpdate&&(be.flags|=1024)):("function"!=typeof xt.componentDidUpdate||Tt===_e.memoizedProps&&Ot===_e.memoizedState||(be.flags|=4),"function"!=typeof xt.getSnapshotBeforeUpdate||Tt===_e.memoizedProps&&Ot===_e.memoizedState||(be.flags|=1024),be.memoizedProps=Pe,be.memoizedState=qt),xt.props=Pe,xt.state=qt,xt.context=It,Pe=Mt):("function"!=typeof xt.componentDidUpdate||Tt===_e.memoizedProps&&Ot===_e.memoizedState||(be.flags|=4),"function"!=typeof xt.getSnapshotBeforeUpdate||Tt===_e.memoizedProps&&Ot===_e.memoizedState||(be.flags|=1024),Pe=!1)}return kj(_e,be,Te,Pe,vt,pt)}function kj(_e,be,Te,Pe,pt,vt){hj(_e,be);var xt=0!=(128&be.flags);if(!Pe&&!xt)return pt&&dg(be,Te,!1),$i(_e,be,vt);Pe=be.stateNode,mp.current=be;var Tt=xt&&"function"!=typeof Te.getDerivedStateFromError?null:Pe.render();return be.flags|=1,null!==_e&&xt?(be.child=Pc(be,_e.child,null,vt),be.child=Pc(be,null,Tt,vt)):Yi(_e,be,Tt,vt),be.memoizedState=Pe.state,pt&&dg(be,Te,!0),be.child}function lj(_e){var be=_e.stateNode;be.pendingContext?ag(0,be.pendingContext,be.pendingContext!==be.context):be.context&&ag(0,be.context,!1),Ih(_e,be.containerInfo)}function mj(_e,be,Te,Pe,pt){return Ig(),Jg(pt),be.flags|=256,Yi(_e,be,Te,Pe),be.child}var Rp,wp,Dp,Pp={dehydrated:null,treeContext:null,retryLane:0};function oj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function pj(_e,be,Te){var Pe,pt=be.pendingProps,vt=Gc.current,xt=!1,Tt=0!=(128&be.flags);if((Pe=Tt)||(Pe=(null===_e||null!==_e.memoizedState)&&0!=(2&vt)),Pe?(xt=!0,be.flags&=-129):null!==_e&&null===_e.memoizedState||(vt|=1),G(Gc,1&vt),null===_e)return Eg(be),null!==(_e=be.memoizedState)&&null!==(_e=_e.dehydrated)?(0==(1&be.mode)?be.lanes=1:"$!"===_e.data?be.lanes=8:be.lanes=1073741824,null):(Tt=pt.children,_e=pt.fallback,xt?(pt=be.mode,xt=be.child,Tt={mode:"hidden",children:Tt},0==(1&pt)&&null!==xt?(xt.childLanes=0,xt.pendingProps=Tt):xt=qj(Tt,pt,0,null),_e=Ah(_e,pt,Te,null),xt.return=be,_e.return=be,xt.sibling=_e,be.child=xt,be.child.memoizedState=oj(Te),be.memoizedState=Pp,_e):rj(be,Tt));if(null!==(vt=_e.memoizedState)&&null!==(Pe=vt.dehydrated))return sj(_e,be,Tt,pt,Pe,vt,Te);if(xt){xt=pt.fallback,Tt=be.mode,Pe=(vt=_e.child).sibling;var It={mode:"hidden",children:pt.children};return 0==(1&Tt)&&be.child!==vt?((pt=be.child).childLanes=0,pt.pendingProps=It,be.deletions=null):(pt=wh(vt,It)).subtreeFlags=14680064&vt.subtreeFlags,null!==Pe?xt=wh(Pe,xt):(xt=Ah(xt,Tt,Te,null)).flags|=2,xt.return=be,pt.return=be,pt.sibling=xt,be.child=pt,pt=xt,xt=be.child,Tt=null===(Tt=_e.child.memoizedState)?oj(Te):{baseLanes:Tt.baseLanes|Te,cachePool:null,transitions:Tt.transitions},xt.memoizedState=Tt,xt.childLanes=_e.childLanes&~Te,be.memoizedState=Pp,pt}return _e=(xt=_e.child).sibling,pt=wh(xt,{mode:"visible",children:pt.children}),0==(1&be.mode)&&(pt.lanes=Te),pt.return=be,pt.sibling=null,null!==_e&&(null===(Te=be.deletions)?(be.deletions=[_e],be.flags|=16):Te.push(_e)),be.child=pt,be.memoizedState=null,pt}function rj(_e,be){return(be=qj({mode:"visible",children:be},_e.mode,0,null)).return=_e,_e.child=be}function tj(_e,be,Te,Pe){return null!==Pe&&Jg(Pe),Pc(be,_e.child,null,Te),(_e=rj(be,be.pendingProps.children)).flags|=2,be.memoizedState=null,_e}function sj(_e,be,Te,Pe,pt,vt,xt){if(Te)return 256&be.flags?(be.flags&=-257,tj(_e,be,xt,Pe=Li(Error(p(422))))):null!==be.memoizedState?(be.child=_e.child,be.flags|=128,null):(vt=Pe.fallback,pt=be.mode,Pe=qj({mode:"visible",children:Pe.children},pt,0,null),(vt=Ah(vt,pt,xt,null)).flags|=2,Pe.return=be,vt.return=be,Pe.sibling=vt,be.child=Pe,0!=(1&be.mode)&&Pc(be,_e.child,null,xt),be.child.memoizedState=oj(xt),be.memoizedState=Pp,vt);if(0==(1&be.mode))return tj(_e,be,xt,null);if("$!"===pt.data){if(Pe=pt.nextSibling&&pt.nextSibling.dataset)var Tt=Pe.dgst;return Pe=Tt,tj(_e,be,xt,Pe=Li(vt=Error(p(419)),Pe,void 0))}if(Tt=0!=(xt&_e.childLanes),_p||Tt){if(null!==(Pe=sg)){switch(xt&-xt){case 4:pt=2;break;case 16:pt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:pt=32;break;case 536870912:pt=268435456;break;default:pt=0}0!==(pt=0!=(pt&(Pe.suspendedLanes|xt))?0:pt)&&pt!==vt.retryLane&&(vt.retryLane=pt,Zg(_e,pt),mh(Pe,_e,pt,-1))}return uj(),tj(_e,be,xt,Pe=Li(Error(p(421))))}return"$?"===pt.data?(be.flags|=128,be.child=_e.child,be=vj.bind(null,_e),pt._reactRetry=be,null):(_e=vt.treeContext,Ju=Lf(pt.nextSibling),Wu=be,Yu=!0,Qu=null,null!==_e&&(uu[hu++]=fu,uu[hu++]=yu,uu[hu++]=pu,fu=_e.id,yu=_e.overflow,pu=be),(be=rj(be,Pe.children)).flags|=4096,be)}function wj(_e,be,Te){_e.lanes|=be;var Pe=_e.alternate;null!==Pe&&(Pe.lanes|=be),Sg(_e.return,be,Te)}function xj(_e,be,Te,Pe,pt){var vt=_e.memoizedState;null===vt?_e.memoizedState={isBackwards:be,rendering:null,renderingStartTime:0,last:Pe,tail:Te,tailMode:pt}:(vt.isBackwards=be,vt.rendering=null,vt.renderingStartTime=0,vt.last=Pe,vt.tail=Te,vt.tailMode=pt)}function yj(_e,be,Te){var Pe=be.pendingProps,pt=Pe.revealOrder,vt=Pe.tail;if(Yi(_e,be,Pe.children,Te),0!=(2&(Pe=Gc.current)))Pe=1&Pe|2,be.flags|=128;else{if(null!==_e&&0!=(128&_e.flags))e:for(_e=be.child;null!==_e;){if(13===_e.tag)null!==_e.memoizedState&&wj(_e,Te,be);else if(19===_e.tag)wj(_e,Te,be);else if(null!==_e.child){_e.child.return=_e,_e=_e.child;continue}if(_e===be)break e;for(;null===_e.sibling;){if(null===_e.return||_e.return===be)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}Pe&=1}if(G(Gc,Pe),0==(1&be.mode))be.memoizedState=null;else switch(pt){case"forwards":for(Te=be.child,pt=null;null!==Te;)null!==(_e=Te.alternate)&&null===Mh(_e)&&(pt=Te),Te=Te.sibling;null===(Te=pt)?(pt=be.child,be.child=null):(pt=Te.sibling,Te.sibling=null),xj(be,!1,pt,Te,vt);break;case"backwards":for(Te=null,pt=be.child,be.child=null;null!==pt;){if(null!==(_e=pt.alternate)&&null===Mh(_e)){be.child=pt;break}_e=pt.sibling,pt.sibling=Te,Te=pt,pt=_e}xj(be,!0,Te,null,vt);break;case"together":xj(be,!1,null,null,void 0);break;default:be.memoizedState=null}return be.child}function jj(_e,be){0==(1&be.mode)&&null!==_e&&(_e.alternate=null,be.alternate=null,be.flags|=2)}function $i(_e,be,Te){if(null!==_e&&(be.dependencies=_e.dependencies),_g|=be.lanes,0==(Te&be.childLanes))return null;if(null!==_e&&be.child!==_e.child)throw Error(p(153));if(null!==be.child){for(Te=wh(_e=be.child,_e.pendingProps),be.child=Te,Te.return=be;null!==_e.sibling;)_e=_e.sibling,(Te=Te.sibling=wh(_e,_e.pendingProps)).return=be;Te.sibling=null}return be.child}function zj(_e,be,Te){switch(be.tag){case 3:lj(be),Ig();break;case 5:Kh(be);break;case 1:Zf(be.type)&&cg(be);break;case 4:Ih(be,be.stateNode.containerInfo);break;case 10:var Pe=be.type._context,pt=be.memoizedProps.value;G(rc,Pe._currentValue),Pe._currentValue=pt;break;case 13:if(null!==(Pe=be.memoizedState))return null!==Pe.dehydrated?(G(Gc,1&Gc.current),be.flags|=128,null):0!=(Te&be.child.childLanes)?pj(_e,be,Te):(G(Gc,1&Gc.current),null!==(_e=$i(_e,be,Te))?_e.sibling:null);G(Gc,1&Gc.current);break;case 19:if(Pe=0!=(Te&be.childLanes),0!=(128&_e.flags)){if(Pe)return yj(_e,be,Te);be.flags|=128}if(null!==(pt=be.memoizedState)&&(pt.rendering=null,pt.tail=null,pt.lastEffect=null),G(Gc,Gc.current),Pe)break;return null;case 22:case 23:return be.lanes=0,ej(_e,be,Te)}return $i(_e,be,Te)}function Ej(_e,be){if(!Yu)switch(_e.tailMode){case"hidden":be=_e.tail;for(var Te=null;null!==be;)null!==be.alternate&&(Te=be),be=be.sibling;null===Te?_e.tail=null:Te.sibling=null;break;case"collapsed":Te=_e.tail;for(var Pe=null;null!==Te;)null!==Te.alternate&&(Pe=Te),Te=Te.sibling;null===Pe?be||null===_e.tail?_e.tail=null:_e.tail.sibling=null:Pe.sibling=null}}function S(_e){var be=null!==_e.alternate&&_e.alternate.child===_e.child,Te=0,Pe=0;if(be)for(var pt=_e.child;null!==pt;)Te|=pt.lanes|pt.childLanes,Pe|=14680064&pt.subtreeFlags,Pe|=14680064&pt.flags,pt.return=_e,pt=pt.sibling;else for(pt=_e.child;null!==pt;)Te|=pt.lanes|pt.childLanes,Pe|=pt.subtreeFlags,Pe|=pt.flags,pt.return=_e,pt=pt.sibling;return _e.subtreeFlags|=Pe,_e.childLanes=Te,be}function Fj(_e,be,Te){var Pe=be.pendingProps;switch(wg(be),be.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(be),null;case 1:return Zf(be.type)&&$f(),S(be),null;case 3:return Pe=be.stateNode,Jh(),E($l),E(Hl),Oh(),Pe.pendingContext&&(Pe.context=Pe.pendingContext,Pe.pendingContext=null),null!==_e&&null!==_e.child||(Gg(be)?be.flags|=4:null===_e||_e.memoizedState.isDehydrated&&0==(256&be.flags)||(be.flags|=1024,null!==Qu&&(Gj(Qu),Qu=null))),S(be),null;case 5:Lh(be);var pt=Hh(Nc.current);if(Te=be.type,null!==_e&&null!=be.stateNode)wp(_e,be,Te,Pe),_e.ref!==be.ref&&(be.flags|=512,be.flags|=2097152);else{if(!Pe){if(null===be.stateNode)throw Error(p(166));return S(be),null}if(_e=Hh(Fc.current),Gg(be)){Pe=be.stateNode,Te=be.type;var vt=be.memoizedProps;switch(Pe[Kd]=be,Pe[Jd]=vt,_e=0!=(1&be.mode),Te){case"dialog":D("cancel",Pe),D("close",Pe);break;case"iframe":case"object":case"embed":D("load",Pe);break;case"video":case"audio":for(pt=0;pt<Id.length;pt++)D(Id[pt],Pe);break;case"source":D("error",Pe);break;case"img":case"image":case"link":D("error",Pe),D("load",Pe);break;case"details":D("toggle",Pe);break;case"input":Za(Pe,vt),D("invalid",Pe);break;case"select":Pe._wrapperState={wasMultiple:!!vt.multiple},D("invalid",Pe);break;case"textarea":hb(Pe,vt),D("invalid",Pe)}for(var Tt in ub(Te,vt),pt=null,vt)if(vt.hasOwnProperty(Tt)){var It=vt[Tt];"children"===Tt?"string"==typeof It?Pe.textContent!==It&&(!0!==vt.suppressHydrationWarning&&Af(Pe.textContent,It,_e),pt=["children",It]):"number"==typeof It&&Pe.textContent!==""+It&&(!0!==vt.suppressHydrationWarning&&Af(Pe.textContent,It,_e),pt=["children",""+It]):xt.hasOwnProperty(Tt)&&null!=It&&"onScroll"===Tt&&D("scroll",Pe)}switch(Te){case"input":Va(Pe),db(Pe,vt,!0);break;case"textarea":Va(Pe),jb(Pe);break;case"select":case"option":break;default:"function"==typeof vt.onClick&&(Pe.onclick=Bf)}Pe=pt,be.updateQueue=Pe,null!==Pe&&(be.flags|=4)}else{Tt=9===pt.nodeType?pt:pt.ownerDocument,"http://www.w3.org/1999/xhtml"===_e&&(_e=kb(Te)),"http://www.w3.org/1999/xhtml"===_e?"script"===Te?((_e=Tt.createElement("div")).innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):"string"==typeof Pe.is?_e=Tt.createElement(Te,{is:Pe.is}):(_e=Tt.createElement(Te),"select"===Te&&(Tt=_e,Pe.multiple?Tt.multiple=!0:Pe.size&&(Tt.size=Pe.size))):_e=Tt.createElementNS(_e,Te),_e[Kd]=be,_e[Jd]=Pe,Rp(_e,be),be.stateNode=_e;e:{switch(Tt=vb(Te,Pe),Te){case"dialog":D("cancel",_e),D("close",_e),pt=Pe;break;case"iframe":case"object":case"embed":D("load",_e),pt=Pe;break;case"video":case"audio":for(pt=0;pt<Id.length;pt++)D(Id[pt],_e);pt=Pe;break;case"source":D("error",_e),pt=Pe;break;case"img":case"image":case"link":D("error",_e),D("load",_e),pt=Pe;break;case"details":D("toggle",_e),pt=Pe;break;case"input":Za(_e,Pe),pt=Ya(_e,Pe),D("invalid",_e);break;case"option":pt=Pe;break;case"select":_e._wrapperState={wasMultiple:!!Pe.multiple},pt=$n({},Pe,{value:void 0}),D("invalid",_e);break;case"textarea":hb(_e,Pe),pt=gb(_e,Pe),D("invalid",_e);break;default:pt=Pe}for(vt in ub(Te,pt),It=pt)if(It.hasOwnProperty(vt)){var Mt=It[vt];"style"===vt?sb(_e,Mt):"dangerouslySetInnerHTML"===vt?null!=(Mt=Mt?Mt.__html:void 0)&&ia(_e,Mt):"children"===vt?"string"==typeof Mt?("textarea"!==Te||""!==Mt)&&ob(_e,Mt):"number"==typeof Mt&&ob(_e,""+Mt):"suppressContentEditableWarning"!==vt&&"suppressHydrationWarning"!==vt&&"autoFocus"!==vt&&(xt.hasOwnProperty(vt)?null!=Mt&&"onScroll"===vt&&D("scroll",_e):null!=Mt&&ta(_e,vt,Mt,Tt))}switch(Te){case"input":Va(_e),db(_e,Pe,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":null!=Pe.value&&_e.setAttribute("value",""+Sa(Pe.value));break;case"select":_e.multiple=!!Pe.multiple,null!=(vt=Pe.value)?fb(_e,!!Pe.multiple,vt,!1):null!=Pe.defaultValue&&fb(_e,!!Pe.multiple,Pe.defaultValue,!0);break;default:"function"==typeof pt.onClick&&(_e.onclick=Bf)}switch(Te){case"button":case"input":case"select":case"textarea":Pe=!!Pe.autoFocus;break e;case"img":Pe=!0;break e;default:Pe=!1}}Pe&&(be.flags|=4)}null!==be.ref&&(be.flags|=512,be.flags|=2097152)}return S(be),null;case 6:if(_e&&null!=be.stateNode)Dp(0,be,_e.memoizedProps,Pe);else{if("string"!=typeof Pe&&null===be.stateNode)throw Error(p(166));if(Te=Hh(Nc.current),Hh(Fc.current),Gg(be)){if(Pe=be.stateNode,Te=be.memoizedProps,Pe[Kd]=be,(vt=Pe.nodeValue!==Te)&&null!==(_e=Wu))switch(_e.tag){case 3:Af(Pe.nodeValue,Te,0!=(1&_e.mode));break;case 5:!0!==_e.memoizedProps.suppressHydrationWarning&&Af(Pe.nodeValue,Te,0!=(1&_e.mode))}vt&&(be.flags|=4)}else(Pe=(9===Te.nodeType?Te:Te.ownerDocument).createTextNode(Pe))[Kd]=be,be.stateNode=Pe}return S(be),null;case 13:if(E(Gc),Pe=be.memoizedState,null===_e||null!==_e.memoizedState&&null!==_e.memoizedState.dehydrated){if(Yu&&null!==Ju&&0!=(1&be.mode)&&0==(128&be.flags))Hg(),Ig(),be.flags|=98560,vt=!1;else if(vt=Gg(be),null!==Pe&&null!==Pe.dehydrated){if(null===_e){if(!vt)throw Error(p(318));if(!(vt=null!==(vt=be.memoizedState)?vt.dehydrated:null))throw Error(p(317));vt[Kd]=be}else Ig(),0==(128&be.flags)&&(be.memoizedState=null),be.flags|=4;S(be),vt=!1}else null!==Qu&&(Gj(Qu),Qu=null),vt=!0;if(!vt)return 65536&be.flags?be:null}return 0!=(128&be.flags)?(be.lanes=Te,be):((Pe=null!==Pe)!==(null!==_e&&null!==_e.memoizedState)&&Pe&&(be.child.flags|=8192,0!=(1&be.mode)&&(null===_e||0!=(1&Gc.current)?0===mg&&(mg=3):uj())),null!==be.updateQueue&&(be.flags|=4),S(be),null);case 4:return Jh(),null===_e&&sf(be.stateNode.containerInfo),S(be),null;case 10:return Rg(be.type._context),S(be),null;case 17:return Zf(be.type)&&$f(),S(be),null;case 19:if(E(Gc),null===(vt=be.memoizedState))return S(be),null;if(Pe=0!=(128&be.flags),null===(Tt=vt.rendering))if(Pe)Ej(vt,!1);else{if(0!==mg||null!==_e&&0!=(128&_e.flags))for(_e=be.child;null!==_e;){if(null!==(Tt=Mh(_e))){for(be.flags|=128,Ej(vt,!1),null!==(Pe=Tt.updateQueue)&&(be.updateQueue=Pe,be.flags|=4),be.subtreeFlags=0,Pe=Te,Te=be.child;null!==Te;)_e=Pe,(vt=Te).flags&=14680066,null===(Tt=vt.alternate)?(vt.childLanes=0,vt.lanes=_e,vt.child=null,vt.subtreeFlags=0,vt.memoizedProps=null,vt.memoizedState=null,vt.updateQueue=null,vt.dependencies=null,vt.stateNode=null):(vt.childLanes=Tt.childLanes,vt.lanes=Tt.lanes,vt.child=Tt.child,vt.subtreeFlags=0,vt.deletions=null,vt.memoizedProps=Tt.memoizedProps,vt.memoizedState=Tt.memoizedState,vt.updateQueue=Tt.updateQueue,vt.type=Tt.type,_e=Tt.dependencies,vt.dependencies=null===_e?null:{lanes:_e.lanes,firstContext:_e.firstContext}),Te=Te.sibling;return G(Gc,1&Gc.current|2),be.child}_e=_e.sibling}null!==vt.tail&&Fa()>zg&&(be.flags|=128,Pe=!0,Ej(vt,!1),be.lanes=4194304)}else{if(!Pe)if(null!==(_e=Mh(Tt))){if(be.flags|=128,Pe=!0,null!==(Te=_e.updateQueue)&&(be.updateQueue=Te,be.flags|=4),Ej(vt,!0),null===vt.tail&&"hidden"===vt.tailMode&&!Tt.alternate&&!Yu)return S(be),null}else 2*Fa()-vt.renderingStartTime>zg&&1073741824!==Te&&(be.flags|=128,Pe=!0,Ej(vt,!1),be.lanes=4194304);vt.isBackwards?(Tt.sibling=be.child,be.child=Tt):(null!==(Te=vt.last)?Te.sibling=Tt:be.child=Tt,vt.last=Tt)}return null!==vt.tail?(be=vt.tail,vt.rendering=be,vt.tail=be.sibling,vt.renderingStartTime=Fa(),be.sibling=null,Te=Gc.current,G(Gc,Pe?1&Te|2:1&Te),be):(S(be),null);case 22:case 23:return Ij(),Pe=null!==be.memoizedState,null!==_e&&null!==_e.memoizedState!==Pe&&(be.flags|=8192),Pe&&0!=(1&be.mode)?0!=(1073741824&gg)&&(S(be),6&be.subtreeFlags&&(be.flags|=8192)):S(be),null;case 24:case 25:return null}throw Error(p(156,be.tag))}function Jj(_e,be){switch(wg(be),be.tag){case 1:return Zf(be.type)&&$f(),65536&(_e=be.flags)?(be.flags=-65537&_e|128,be):null;case 3:return Jh(),E($l),E(Hl),Oh(),0!=(65536&(_e=be.flags))&&0==(128&_e)?(be.flags=-65537&_e|128,be):null;case 5:return Lh(be),null;case 13:if(E(Gc),null!==(_e=be.memoizedState)&&null!==_e.dehydrated){if(null===be.alternate)throw Error(p(340));Ig()}return 65536&(_e=be.flags)?(be.flags=-65537&_e|128,be):null;case 19:return E(Gc),null;case 4:return Jh(),null;case 10:return Rg(be.type._context),null;case 22:case 23:return Ij(),null;case 24:default:return null}}Rp=function(_e,be){for(var Te=be.child;null!==Te;){if(5===Te.tag||6===Te.tag)_e.appendChild(Te.stateNode);else if(4!==Te.tag&&null!==Te.child){Te.child.return=Te,Te=Te.child;continue}if(Te===be)break;for(;null===Te.sibling;){if(null===Te.return||Te.return===be)return;Te=Te.return}Te.sibling.return=Te.return,Te=Te.sibling}},wp=function(_e,be,Te,Pe){var pt=_e.memoizedProps;if(pt!==Pe){_e=be.stateNode,Hh(Fc.current);var vt,Tt=null;switch(Te){case"input":pt=Ya(_e,pt),Pe=Ya(_e,Pe),Tt=[];break;case"select":pt=$n({},pt,{value:void 0}),Pe=$n({},Pe,{value:void 0}),Tt=[];break;case"textarea":pt=gb(_e,pt),Pe=gb(_e,Pe),Tt=[];break;default:"function"!=typeof pt.onClick&&"function"==typeof Pe.onClick&&(_e.onclick=Bf)}for(Lt in ub(Te,Pe),Te=null,pt)if(!Pe.hasOwnProperty(Lt)&&pt.hasOwnProperty(Lt)&&null!=pt[Lt])if("style"===Lt){var It=pt[Lt];for(vt in It)It.hasOwnProperty(vt)&&(Te||(Te={}),Te[vt]="")}else"dangerouslySetInnerHTML"!==Lt&&"children"!==Lt&&"suppressContentEditableWarning"!==Lt&&"suppressHydrationWarning"!==Lt&&"autoFocus"!==Lt&&(xt.hasOwnProperty(Lt)?Tt||(Tt=[]):(Tt=Tt||[]).push(Lt,null));for(Lt in Pe){var Mt=Pe[Lt];if(It=null!=pt?pt[Lt]:void 0,Pe.hasOwnProperty(Lt)&&Mt!==It&&(null!=Mt||null!=It))if("style"===Lt)if(It){for(vt in It)!It.hasOwnProperty(vt)||Mt&&Mt.hasOwnProperty(vt)||(Te||(Te={}),Te[vt]="");for(vt in Mt)Mt.hasOwnProperty(vt)&&It[vt]!==Mt[vt]&&(Te||(Te={}),Te[vt]=Mt[vt])}else Te||(Tt||(Tt=[]),Tt.push(Lt,Te)),Te=Mt;else"dangerouslySetInnerHTML"===Lt?(Mt=Mt?Mt.__html:void 0,It=It?It.__html:void 0,null!=Mt&&It!==Mt&&(Tt=Tt||[]).push(Lt,Mt)):"children"===Lt?"string"!=typeof Mt&&"number"!=typeof Mt||(Tt=Tt||[]).push(Lt,""+Mt):"suppressContentEditableWarning"!==Lt&&"suppressHydrationWarning"!==Lt&&(xt.hasOwnProperty(Lt)?(null!=Mt&&"onScroll"===Lt&&D("scroll",_e),Tt||It===Mt||(Tt=[])):(Tt=Tt||[]).push(Lt,Mt))}Te&&(Tt=Tt||[]).push("style",Te);var Lt=Tt;(be.updateQueue=Lt)&&(be.flags|=4)}},Dp=function(_e,be,Te,Pe){Te!==Pe&&(be.flags|=4)};var Mp=!1,Lp=!1,Fp="function"==typeof WeakSet?WeakSet:Set,Op=null;function Mj(_e,be){var Te=_e.ref;if(null!==Te)if("function"==typeof Te)try{Te(null)}catch(Te){W(_e,be,Te)}else Te.current=null}function Nj(_e,be,Te){try{Te()}catch(Te){W(_e,be,Te)}}var jp=!1;function Pj(_e,be){if(Ud=Wr,Ne(_e=Me())){if("selectionStart"in _e)var Te={start:_e.selectionStart,end:_e.selectionEnd};else e:{var Pe=(Te=(Te=_e.ownerDocument)&&Te.defaultView||window).getSelection&&Te.getSelection();if(Pe&&0!==Pe.rangeCount){Te=Pe.anchorNode;var pt=Pe.anchorOffset,vt=Pe.focusNode;Pe=Pe.focusOffset;try{Te.nodeType,vt.nodeType}catch(_e){Te=null;break e}var xt=0,Tt=-1,It=-1,Mt=0,Lt=0,Ft=_e,Ot=null;t:for(;;){for(var Vt;Ft!==Te||0!==pt&&3!==Ft.nodeType||(Tt=xt+pt),Ft!==vt||0!==Pe&&3!==Ft.nodeType||(It=xt+Pe),3===Ft.nodeType&&(xt+=Ft.nodeValue.length),null!==(Vt=Ft.firstChild);)Ot=Ft,Ft=Vt;for(;;){if(Ft===_e)break t;if(Ot===Te&&++Mt===pt&&(Tt=xt),Ot===vt&&++Lt===Pe&&(It=xt),null!==(Vt=Ft.nextSibling))break;Ot=(Ft=Ot).parentNode}Ft=Vt}Te=-1===Tt||-1===It?null:{start:Tt,end:It}}else Te=null}Te=Te||{start:0,end:0}}else Te=null;for(Gd={focusedElem:_e,selectionRange:Te},Wr=!1,Op=be;null!==Op;)if(_e=(be=Op).child,0!=(1028&be.subtreeFlags)&&null!==_e)_e.return=be,Op=_e;else for(;null!==Op;){be=Op;try{var qt=be.alternate;if(0!=(1024&be.flags))switch(be.tag){case 0:case 11:case 15:break;case 1:if(null!==qt){var Wt=qt.memoizedProps,$t=qt.memoizedState,Kt=be.stateNode,Jt=Kt.getSnapshotBeforeUpdate(be.elementType===be.type?Wt:Lg(be.type,Wt),$t);Kt.__reactInternalSnapshotBeforeUpdate=Jt}break;case 3:var Yt=be.stateNode.containerInfo;1===Yt.nodeType?Yt.textContent="":9===Yt.nodeType&&Yt.documentElement&&Yt.removeChild(Yt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(_e){W(be,be.return,_e)}if(null!==(_e=be.sibling)){_e.return=be.return,Op=_e;break}Op=be.return}return qt=jp,jp=!1,qt}function Qj(_e,be,Te){var Pe=be.updateQueue;if(null!==(Pe=null!==Pe?Pe.lastEffect:null)){var pt=Pe=Pe.next;do{if((pt.tag&_e)===_e){var vt=pt.destroy;pt.destroy=void 0,void 0!==vt&&Nj(be,Te,vt)}pt=pt.next}while(pt!==Pe)}}function Rj(_e,be){if(null!==(be=null!==(be=be.updateQueue)?be.lastEffect:null)){var Te=be=be.next;do{if((Te.tag&_e)===_e){var Pe=Te.create;Te.destroy=Pe()}Te=Te.next}while(Te!==be)}}function Sj(_e){var be=_e.ref;if(null!==be){var Te=_e.stateNode;switch(_e.tag){case 5:_e=Te;break;default:_e=Te}"function"==typeof be?be(_e):be.current=_e}}function Tj(_e){var be=_e.alternate;null!==be&&(_e.alternate=null,Tj(be)),_e.child=null,_e.deletions=null,_e.sibling=null,5===_e.tag&&(null!==(be=_e.stateNode)&&(delete be[Kd],delete be[Jd],delete be[Qd],delete be[ul],delete be[_l])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Uj(_e){return 5===_e.tag||3===_e.tag||4===_e.tag}function Vj(_e){e:for(;;){for(;null===_e.sibling;){if(null===_e.return||Uj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;5!==_e.tag&&6!==_e.tag&&18!==_e.tag;){if(2&_e.flags)continue e;if(null===_e.child||4===_e.tag)continue e;_e.child.return=_e,_e=_e.child}if(!(2&_e.flags))return _e.stateNode}}function Wj(_e,be,Te){var Pe=_e.tag;if(5===Pe||6===Pe)_e=_e.stateNode,be?8===Te.nodeType?Te.parentNode.insertBefore(_e,be):Te.insertBefore(_e,be):(8===Te.nodeType?(be=Te.parentNode).insertBefore(_e,Te):(be=Te).appendChild(_e),null!=(Te=Te._reactRootContainer)||null!==be.onclick||(be.onclick=Bf));else if(4!==Pe&&null!==(_e=_e.child))for(Wj(_e,be,Te),_e=_e.sibling;null!==_e;)Wj(_e,be,Te),_e=_e.sibling}function Xj(_e,be,Te){var Pe=_e.tag;if(5===Pe||6===Pe)_e=_e.stateNode,be?Te.insertBefore(_e,be):Te.appendChild(_e);else if(4!==Pe&&null!==(_e=_e.child))for(Xj(_e,be,Te),_e=_e.sibling;null!==_e;)Xj(_e,be,Te),_e=_e.sibling}var Np=null,Vp=!1;function Zj(_e,be,Te){for(Te=Te.child;null!==Te;)ak(_e,be,Te),Te=Te.sibling}function ak(_e,be,Te){if(Ja&&"function"==typeof Ja.onCommitFiberUnmount)try{Ja.onCommitFiberUnmount($a,Te)}catch(_e){}switch(Te.tag){case 5:Lp||Mj(Te,be);case 6:var Pe=Np,pt=Vp;Np=null,Zj(_e,be,Te),Vp=pt,null!==(Np=Pe)&&(Vp?(_e=Np,Te=Te.stateNode,8===_e.nodeType?_e.parentNode.removeChild(Te):_e.removeChild(Te)):Np.removeChild(Te.stateNode));break;case 18:null!==Np&&(Vp?(_e=Np,Te=Te.stateNode,8===_e.nodeType?Kf(_e.parentNode,Te):1===_e.nodeType&&Kf(_e,Te),bd(_e)):Kf(Np,Te.stateNode));break;case 4:Pe=Np,pt=Vp,Np=Te.stateNode.containerInfo,Vp=!0,Zj(_e,be,Te),Np=Pe,Vp=pt;break;case 0:case 11:case 14:case 15:if(!Lp&&(null!==(Pe=Te.updateQueue)&&null!==(Pe=Pe.lastEffect))){pt=Pe=Pe.next;do{var vt=pt,xt=vt.destroy;vt=vt.tag,void 0!==xt&&(0!=(2&vt)||0!=(4&vt))&&Nj(Te,be,xt),pt=pt.next}while(pt!==Pe)}Zj(_e,be,Te);break;case 1:if(!Lp&&(Mj(Te,be),"function"==typeof(Pe=Te.stateNode).componentWillUnmount))try{Pe.props=Te.memoizedProps,Pe.state=Te.memoizedState,Pe.componentWillUnmount()}catch(_e){W(Te,be,_e)}Zj(_e,be,Te);break;case 21:Zj(_e,be,Te);break;case 22:1&Te.mode?(Lp=(Pe=Lp)||null!==Te.memoizedState,Zj(_e,be,Te),Lp=Pe):Zj(_e,be,Te);break;default:Zj(_e,be,Te)}}function bk(_e){var be=_e.updateQueue;if(null!==be){_e.updateQueue=null;var Te=_e.stateNode;null===Te&&(Te=_e.stateNode=new Fp),be.forEach((function(be){var Pe=ck.bind(null,_e,be);Te.has(be)||(Te.add(be),be.then(Pe,Pe))}))}}function dk(_e,be){var Te=be.deletions;if(null!==Te)for(var Pe=0;Pe<Te.length;Pe++){var pt=Te[Pe];try{var vt=_e,xt=be,Tt=xt;e:for(;null!==Tt;){switch(Tt.tag){case 5:Np=Tt.stateNode,Vp=!1;break e;case 3:case 4:Np=Tt.stateNode.containerInfo,Vp=!0;break e}Tt=Tt.return}if(null===Np)throw Error(p(160));ak(vt,xt,pt),Np=null,Vp=!1;var It=pt.alternate;null!==It&&(It.return=null),pt.return=null}catch(_e){W(pt,be,_e)}}if(12854&be.subtreeFlags)for(be=be.child;null!==be;)ek(be,_e),be=be.sibling}function ek(_e,be){var Te=_e.alternate,Pe=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(dk(be,_e),fk(_e),4&Pe){try{Qj(3,_e,_e.return),Rj(3,_e)}catch(be){W(_e,_e.return,be)}try{Qj(5,_e,_e.return)}catch(be){W(_e,_e.return,be)}}break;case 1:dk(be,_e),fk(_e),512&Pe&&null!==Te&&Mj(Te,Te.return);break;case 5:if(dk(be,_e),fk(_e),512&Pe&&null!==Te&&Mj(Te,Te.return),32&_e.flags){var pt=_e.stateNode;try{ob(pt,"")}catch(be){W(_e,_e.return,be)}}if(4&Pe&&null!=(pt=_e.stateNode)){var vt=_e.memoizedProps,xt=null!==Te?Te.memoizedProps:vt,Tt=_e.type,It=_e.updateQueue;if(_e.updateQueue=null,null!==It)try{"input"===Tt&&"radio"===vt.type&&null!=vt.name&&ab(pt,vt),vb(Tt,xt);var Mt=vb(Tt,vt);for(xt=0;xt<It.length;xt+=2){var Lt=It[xt],Ft=It[xt+1];"style"===Lt?sb(pt,Ft):"dangerouslySetInnerHTML"===Lt?ia(pt,Ft):"children"===Lt?ob(pt,Ft):ta(pt,Lt,Ft,Mt)}switch(Tt){case"input":bb(pt,vt);break;case"textarea":ib(pt,vt);break;case"select":var Ot=pt._wrapperState.wasMultiple;pt._wrapperState.wasMultiple=!!vt.multiple;var Vt=vt.value;null!=Vt?fb(pt,!!vt.multiple,Vt,!1):Ot!==!!vt.multiple&&(null!=vt.defaultValue?fb(pt,!!vt.multiple,vt.defaultValue,!0):fb(pt,!!vt.multiple,vt.multiple?[]:"",!1))}pt[Jd]=vt}catch(be){W(_e,_e.return,be)}}break;case 6:if(dk(be,_e),fk(_e),4&Pe){if(null===_e.stateNode)throw Error(p(162));pt=_e.stateNode,vt=_e.memoizedProps;try{pt.nodeValue=vt}catch(be){W(_e,_e.return,be)}}break;case 3:if(dk(be,_e),fk(_e),4&Pe&&null!==Te&&Te.memoizedState.isDehydrated)try{bd(be.containerInfo)}catch(be){W(_e,_e.return,be)}break;case 4:dk(be,_e),fk(_e);break;case 13:dk(be,_e),fk(_e),8192&(pt=_e.child).flags&&(vt=null!==pt.memoizedState,pt.stateNode.isHidden=vt,!vt||null!==pt.alternate&&null!==pt.alternate.memoizedState||(Og=Fa())),4&Pe&&bk(_e);break;case 22:if(Lt=null!==Te&&null!==Te.memoizedState,1&_e.mode?(Lp=(Mt=Lp)||Lt,dk(be,_e),Lp=Mt):dk(be,_e),fk(_e),8192&Pe){if(Mt=null!==_e.memoizedState,(_e.stateNode.isHidden=Mt)&&!Lt&&0!=(1&_e.mode))for(Op=_e,Lt=_e.child;null!==Lt;){for(Ft=Op=Lt;null!==Op;){switch(Vt=(Ot=Op).child,Ot.tag){case 0:case 11:case 14:case 15:Qj(4,Ot,Ot.return);break;case 1:Mj(Ot,Ot.return);var qt=Ot.stateNode;if("function"==typeof qt.componentWillUnmount){Pe=Ot,Te=Ot.return;try{be=Pe,qt.props=be.memoizedProps,qt.state=be.memoizedState,qt.componentWillUnmount()}catch(_e){W(Pe,Te,_e)}}break;case 5:Mj(Ot,Ot.return);break;case 22:if(null!==Ot.memoizedState){hk(Ft);continue}}null!==Vt?(Vt.return=Ot,Op=Vt):hk(Ft)}Lt=Lt.sibling}e:for(Lt=null,Ft=_e;;){if(5===Ft.tag){if(null===Lt){Lt=Ft;try{pt=Ft.stateNode,Mt?"function"==typeof(vt=pt.style).setProperty?vt.setProperty("display","none","important"):vt.display="none":(Tt=Ft.stateNode,xt=null!=(It=Ft.memoizedProps.style)&&It.hasOwnProperty("display")?It.display:null,Tt.style.display=rb("display",xt))}catch(be){W(_e,_e.return,be)}}}else if(6===Ft.tag){if(null===Lt)try{Ft.stateNode.nodeValue=Mt?"":Ft.memoizedProps}catch(be){W(_e,_e.return,be)}}else if((22!==Ft.tag&&23!==Ft.tag||null===Ft.memoizedState||Ft===_e)&&null!==Ft.child){Ft.child.return=Ft,Ft=Ft.child;continue}if(Ft===_e)break e;for(;null===Ft.sibling;){if(null===Ft.return||Ft.return===_e)break e;Lt===Ft&&(Lt=null),Ft=Ft.return}Lt===Ft&&(Lt=null),Ft.sibling.return=Ft.return,Ft=Ft.sibling}}break;case 19:dk(be,_e),fk(_e),4&Pe&&bk(_e);break;case 21:break;default:dk(be,_e),fk(_e)}}function fk(_e){var be=_e.flags;if(2&be){try{e:{for(var Te=_e.return;null!==Te;){if(Uj(Te)){var Pe=Te;break e}Te=Te.return}throw Error(p(160))}switch(Pe.tag){case 5:var pt=Pe.stateNode;32&Pe.flags&&(ob(pt,""),Pe.flags&=-33),Xj(_e,Vj(_e),pt);break;case 3:case 4:var vt=Pe.stateNode.containerInfo;Wj(_e,Vj(_e),vt);break;default:throw Error(p(161))}}catch(be){W(_e,_e.return,be)}_e.flags&=-3}4096&be&&(_e.flags&=-4097)}function ik(_e,be,Te){Op=_e,jk(_e,be,Te)}function jk(_e,be,Te){for(var Pe=0!=(1&_e.mode);null!==Op;){var pt=Op,vt=pt.child;if(22===pt.tag&&Pe){var xt=null!==pt.memoizedState||Mp;if(!xt){var Tt=pt.alternate,It=null!==Tt&&null!==Tt.memoizedState||Lp;Tt=Mp;var Mt=Lp;if(Mp=xt,(Lp=It)&&!Mt)for(Op=pt;null!==Op;)It=(xt=Op).child,22===xt.tag&&null!==xt.memoizedState?kk(pt):null!==It?(It.return=xt,Op=It):kk(pt);for(;null!==vt;)Op=vt,jk(vt,be,Te),vt=vt.sibling;Op=pt,Mp=Tt,Lp=Mt}lk(_e)}else 0!=(8772&pt.subtreeFlags)&&null!==vt?(vt.return=pt,Op=vt):lk(_e)}}function lk(_e){for(;null!==Op;){var be=Op;if(0!=(8772&be.flags)){var Te=be.alternate;try{if(0!=(8772&be.flags))switch(be.tag){case 0:case 11:case 15:Lp||Rj(5,be);break;case 1:var Pe=be.stateNode;if(4&be.flags&&!Lp)if(null===Te)Pe.componentDidMount();else{var pt=be.elementType===be.type?Te.memoizedProps:Lg(be.type,Te.memoizedProps);Pe.componentDidUpdate(pt,Te.memoizedState,Pe.__reactInternalSnapshotBeforeUpdate)}var vt=be.updateQueue;null!==vt&&ih(be,vt,Pe);break;case 3:var xt=be.updateQueue;if(null!==xt){if(Te=null,null!==be.child)switch(be.child.tag){case 5:Te=be.child.stateNode;break;case 1:Te=be.child.stateNode}ih(be,xt,Te)}break;case 5:var Tt=be.stateNode;if(null===Te&&4&be.flags){Te=Tt;var It=be.memoizedProps;switch(be.type){case"button":case"input":case"select":case"textarea":It.autoFocus&&Te.focus();break;case"img":It.src&&(Te.src=It.src)}}break;case 6:case 4:case 12:break;case 13:if(null===be.memoizedState){var Mt=be.alternate;if(null!==Mt){var Lt=Mt.memoizedState;if(null!==Lt){var Ft=Lt.dehydrated;null!==Ft&&bd(Ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}Lp||512&be.flags&&Sj(be)}catch(_e){W(be,be.return,_e)}}if(be===_e){Op=null;break}if(null!==(Te=be.sibling)){Te.return=be.return,Op=Te;break}Op=be.return}}function hk(_e){for(;null!==Op;){var be=Op;if(be===_e){Op=null;break}var Te=be.sibling;if(null!==Te){Te.return=be.return,Op=Te;break}Op=be.return}}function kk(_e){for(;null!==Op;){var be=Op;try{switch(be.tag){case 0:case 11:case 15:var Te=be.return;try{Rj(4,be)}catch(_e){W(be,Te,_e)}break;case 1:var Pe=be.stateNode;if("function"==typeof Pe.componentDidMount){var pt=be.return;try{Pe.componentDidMount()}catch(_e){W(be,pt,_e)}}var vt=be.return;try{Sj(be)}catch(_e){W(be,vt,_e)}break;case 5:var xt=be.return;try{Sj(be)}catch(_e){W(be,xt,_e)}}}catch(_e){W(be,be.return,_e)}if(be===_e){Op=null;break}var Tt=be.sibling;if(null!==Tt){Tt.return=be.return,Op=Tt;break}Op=be.return}}var Up,$p=Math.ceil,eg=qt.ReactCurrentDispatcher,ng=qt.ReactCurrentOwner,rg=qt.ReactCurrentBatchConfig,og=0,sg=null,lg=null,pg=0,gg=0,fg=Uf(0),mg=0,yg=null,_g=0,xg=0,kg=0,Pg=null,Mg=null,Og=0,zg=1/0,Ng=null,Ug=!1,qg=null,Wg=null,$g=!1,Kg=null,af=0,of=0,df=null,cf=-1,hf=0;function L(){return 0!=(6&og)?Fa():-1!==cf?cf:cf=Fa()}function lh(_e){return 0==(1&_e.mode)?1:0!=(2&og)&&0!==pg?pg&-pg:null!==ec.transition?(0===hf&&(hf=yc()),hf):0!==(_e=yr)?_e:_e=void 0===(_e=window.event)?16:jd(_e.type)}function mh(_e,be,Te,Pe){if(50<of)throw of=0,df=null,Error(p(185));Ac(_e,Te,Pe),0!=(2&og)&&_e===sg||(_e===sg&&(0==(2&og)&&(xg|=Te),4===mg&&Dk(_e,pg)),Ek(_e,Pe),1===Te&&0===og&&0==(1&be.mode)&&(zg=Fa()+500,eu&&jg()))}function Ek(_e,be){var Te=_e.callbackNode;wc(_e,be);var Pe=uc(_e,_e===sg?pg:0);if(0===Pe)null!==Te&&ka(Te),_e.callbackNode=null,_e.callbackPriority=0;else if(be=Pe&-Pe,_e.callbackPriority!==be){if(null!=Te&&ka(Te),1===be)0===_e.tag?ig(Fk.bind(null,_e)):hg(Fk.bind(null,_e)),$d((function(){0==(6&og)&&jg()})),Te=null;else{switch(Dc(Pe)){case 1:Te=za;break;case 4:Te=ja;break;case 16:Te=Na;break;case 536870912:Te=Ha;break;default:Te=Na}Te=Gk(Te,Hk.bind(null,_e))}_e.callbackPriority=be,_e.callbackNode=Te}}function Hk(_e,be){if(cf=-1,hf=0,0!=(6&og))throw Error(p(327));var Te=_e.callbackNode;if(Ik()&&_e.callbackNode!==Te)return null;var Pe=uc(_e,_e===sg?pg:0);if(0===Pe)return null;if(0!=(30&Pe)||0!=(Pe&_e.expiredLanes)||be)be=Jk(_e,Pe);else{be=Pe;var pt=og;og|=2;var vt=Kk();for(sg===_e&&pg===be||(Ng=null,zg=Fa()+500,Lk(_e,be));;)try{Mk();break}catch(be){Nk(_e,be)}Qg(),eg.current=vt,og=pt,null!==lg?be=0:(sg=null,pg=0,be=mg)}if(0!==be){if(2===be&&(0!==(pt=xc(_e))&&(Pe=pt,be=Ok(_e,pt))),1===be)throw Te=yg,Lk(_e,0),Dk(_e,Pe),Ek(_e,Fa()),Te;if(6===be)Dk(_e,Pe);else{if(pt=_e.current.alternate,0==(30&Pe)&&!Pk(pt)&&(2===(be=Jk(_e,Pe))&&(0!==(vt=xc(_e))&&(Pe=vt,be=Ok(_e,vt))),1===be))throw Te=yg,Lk(_e,0),Dk(_e,Pe),Ek(_e,Fa()),Te;switch(_e.finishedWork=pt,_e.finishedLanes=Pe,be){case 0:case 1:throw Error(p(345));case 2:Qk(_e,Mg,Ng);break;case 3:if(Dk(_e,Pe),(130023424&Pe)===Pe&&10<(be=Og+500-Fa())){if(0!==uc(_e,0))break;if(((pt=_e.suspendedLanes)&Pe)!==Pe){L(),_e.pingedLanes|=_e.suspendedLanes&pt;break}_e.timeoutHandle=Zd(Qk.bind(null,_e,Mg,Ng),be);break}Qk(_e,Mg,Ng);break;case 4:if(Dk(_e,Pe),(4194240&Pe)===Pe)break;for(be=_e.eventTimes,pt=-1;0<Pe;){var xt=31-sr(Pe);vt=1<<xt,(xt=be[xt])>pt&&(pt=xt),Pe&=~vt}if(Pe=pt,10<(Pe=(120>(Pe=Fa()-Pe)?120:480>Pe?480:1080>Pe?1080:1920>Pe?1920:3e3>Pe?3e3:4320>Pe?4320:1960*$p(Pe/1960))-Pe)){_e.timeoutHandle=Zd(Qk.bind(null,_e,Mg,Ng),Pe);break}Qk(_e,Mg,Ng);break;case 5:Qk(_e,Mg,Ng);break;default:throw Error(p(329))}}}return Ek(_e,Fa()),_e.callbackNode===Te?Hk.bind(null,_e):null}function Ok(_e,be){var Te=Pg;return _e.current.memoizedState.isDehydrated&&(Lk(_e,be).flags|=256),2!==(_e=Jk(_e,be))&&(be=Mg,Mg=Te,null!==be&&Gj(be)),_e}function Gj(_e){null===Mg?Mg=_e:Mg.push.apply(Mg,_e)}function Pk(_e){for(var be=_e;;){if(16384&be.flags){var Te=be.updateQueue;if(null!==Te&&null!==(Te=Te.stores))for(var Pe=0;Pe<Te.length;Pe++){var pt=Te[Pe],vt=pt.getSnapshot;pt=pt.value;try{if(!Ks(vt(),pt))return!1}catch(_e){return!1}}}if(Te=be.child,16384&be.subtreeFlags&&null!==Te)Te.return=be,be=Te;else{if(be===_e)break;for(;null===be.sibling;){if(null===be.return||be.return===_e)return!0;be=be.return}be.sibling.return=be.return,be=be.sibling}}return!0}function Dk(_e,be){for(be&=~kg,be&=~xg,_e.suspendedLanes|=be,_e.pingedLanes&=~be,_e=_e.expirationTimes;0<be;){var Te=31-sr(be),Pe=1<<Te;_e[Te]=-1,be&=~Pe}}function Fk(_e){if(0!=(6&og))throw Error(p(327));Ik();var be=uc(_e,0);if(0==(1&be))return Ek(_e,Fa()),null;var Te=Jk(_e,be);if(0!==_e.tag&&2===Te){var Pe=xc(_e);0!==Pe&&(be=Pe,Te=Ok(_e,Pe))}if(1===Te)throw Te=yg,Lk(_e,0),Dk(_e,be),Ek(_e,Fa()),Te;if(6===Te)throw Error(p(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=be,Qk(_e,Mg,Ng),Ek(_e,Fa()),null}function Rk(_e,be){var Te=og;og|=1;try{return _e(be)}finally{0===(og=Te)&&(zg=Fa()+500,eu&&jg())}}function Sk(_e){null!==Kg&&0===Kg.tag&&0==(6&og)&&Ik();var be=og;og|=1;var Te=rg.transition,Pe=yr;try{if(rg.transition=null,yr=1,_e)return _e()}finally{yr=Pe,rg.transition=Te,0==(6&(og=be))&&jg()}}function Ij(){gg=fg.current,E(fg)}function Lk(_e,be){_e.finishedWork=null,_e.finishedLanes=0;var Te=_e.timeoutHandle;if(-1!==Te&&(_e.timeoutHandle=-1,Wd(Te)),null!==lg)for(Te=lg.return;null!==Te;){var Pe=Te;switch(wg(Pe),Pe.tag){case 1:null!=(Pe=Pe.type.childContextTypes)&&$f();break;case 3:Jh(),E($l),E(Hl),Oh();break;case 5:Lh(Pe);break;case 4:Jh();break;case 13:case 19:E(Gc);break;case 10:Rg(Pe.type._context);break;case 22:case 23:Ij()}Te=Te.return}if(sg=_e,lg=_e=wh(_e.current,null),pg=gg=be,mg=0,yg=null,kg=xg=_g=0,Mg=Pg=null,null!==gc){for(be=0;be<gc.length;be++)if(null!==(Pe=(Te=gc[be]).interleaved)){Te.interleaved=null;var pt=Pe.next,vt=Te.pending;if(null!==vt){var xt=vt.next;vt.next=pt,Pe.next=xt}Te.pending=Pe}gc=null}return _e}function Nk(_e,be){for(;;){var Te=lg;try{if(Qg(),Hc.current=Vh,Dh){for(var Pe=hh.memoizedState;null!==Pe;){var pt=Pe.queue;null!==pt&&(pt.pending=null),Pe=Pe.next}Dh=!1}if(nh=0,Ch=Rh=hh=null,Ph=!1,Fh=0,ng.current=null,null===Te||null===Te.return){mg=1,yg=be,lg=null;break}e:{var vt=_e,xt=Te.return,Tt=Te,It=be;if(be=pg,Tt.flags|=32768,null!==It&&"object"==typeof It&&"function"==typeof It.then){var Mt=It,Lt=Tt,Ft=Lt.tag;if(0==(1&Lt.mode)&&(0===Ft||11===Ft||15===Ft)){var Ot=Lt.alternate;Ot?(Lt.updateQueue=Ot.updateQueue,Lt.memoizedState=Ot.memoizedState,Lt.lanes=Ot.lanes):(Lt.updateQueue=null,Lt.memoizedState=null)}var Vt=Vi(xt);if(null!==Vt){Vt.flags&=-257,Wi(Vt,xt,Tt,0,be),1&Vt.mode&&Ti(vt,Mt,be),It=Mt;var qt=(be=Vt).updateQueue;if(null===qt){var Wt=new Set;Wt.add(It),be.updateQueue=Wt}else qt.add(It);break e}if(0==(1&be)){Ti(vt,Mt,be),uj();break e}It=Error(p(426))}else if(Yu&&1&Tt.mode){var $t=Vi(xt);if(null!==$t){0==(65536&$t.flags)&&($t.flags|=256),Wi($t,xt,Tt,0,be),Jg(Ki(It,Tt));break e}}vt=It=Ki(It,Tt),4!==mg&&(mg=2),null===Pg?Pg=[vt]:Pg.push(vt),vt=xt;do{switch(vt.tag){case 3:vt.flags|=65536,be&=-be,vt.lanes|=be,fh(vt,Oi(0,It,be));break e;case 1:Tt=It;var Kt=vt.type,Jt=vt.stateNode;if(0==(128&vt.flags)&&("function"==typeof Kt.getDerivedStateFromError||null!==Jt&&"function"==typeof Jt.componentDidCatch&&(null===Wg||!Wg.has(Jt)))){vt.flags|=65536,be&=-be,vt.lanes|=be,fh(vt,Ri(vt,Tt,be));break e}}vt=vt.return}while(null!==vt)}Tk(Te)}catch(_e){be=_e,lg===Te&&null!==Te&&(lg=Te=Te.return);continue}break}}function Kk(){var _e=eg.current;return eg.current=Vh,null===_e?Vh:_e}function uj(){0!==mg&&3!==mg&&2!==mg||(mg=4),null===sg||0==(268435455&_g)&&0==(268435455&xg)||Dk(sg,pg)}function Jk(_e,be){var Te=og;og|=2;var Pe=Kk();for(sg===_e&&pg===be||(Ng=null,Lk(_e,be));;)try{Uk();break}catch(be){Nk(_e,be)}if(Qg(),og=Te,eg.current=Pe,null!==lg)throw Error(p(261));return sg=null,pg=0,mg}function Uk(){for(;null!==lg;)Vk(lg)}function Mk(){for(;null!==lg&&!Ia();)Vk(lg)}function Vk(_e){var be=Up(_e.alternate,_e,gg);_e.memoizedProps=_e.pendingProps,null===be?Tk(_e):lg=be,ng.current=null}function Tk(_e){var be=_e;do{var Te=be.alternate;if(_e=be.return,0==(32768&be.flags)){if(null!==(Te=Fj(Te,be,gg)))return void(lg=Te)}else{if(null!==(Te=Jj(Te,be)))return Te.flags&=32767,void(lg=Te);if(null===_e)return mg=6,void(lg=null);_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null}if(null!==(be=be.sibling))return void(lg=be);lg=be=_e}while(null!==be);0===mg&&(mg=5)}function Qk(_e,be,Te){var Pe=yr,pt=rg.transition;try{rg.transition=null,yr=1,Xk(_e,be,Te,Pe)}finally{rg.transition=pt,yr=Pe}return null}function Xk(_e,be,Te,Pe){do{Ik()}while(null!==Kg);if(0!=(6&og))throw Error(p(327));Te=_e.finishedWork;var pt=_e.finishedLanes;if(null===Te)return null;if(_e.finishedWork=null,_e.finishedLanes=0,Te===_e.current)throw Error(p(177));_e.callbackNode=null,_e.callbackPriority=0;var vt=Te.lanes|Te.childLanes;if(Bc(_e,vt),_e===sg&&(lg=sg=null,pg=0),0==(2064&Te.subtreeFlags)&&0==(2064&Te.flags)||$g||($g=!0,Gk(Na,(function(){return Ik(),null}))),vt=0!=(15990&Te.flags),0!=(15990&Te.subtreeFlags)||vt){vt=rg.transition,rg.transition=null;var xt=yr;yr=1;var Tt=og;og|=4,ng.current=null,Pj(_e,Te),ek(Te,_e),Oe(Gd),Wr=!!Ud,Gd=Ud=null,_e.current=Te,ik(Te,_e,pt),La(),og=Tt,yr=xt,rg.transition=vt}else _e.current=Te;if($g&&($g=!1,Kg=_e,af=pt),0===(vt=_e.pendingLanes)&&(Wg=null),mc(Te.stateNode),Ek(_e,Fa()),null!==be)for(Pe=_e.onRecoverableError,Te=0;Te<be.length;Te++)Pe((pt=be[Te]).value,{componentStack:pt.stack,digest:pt.digest});if(Ug)throw Ug=!1,_e=qg,qg=null,_e;return 0!=(1&af)&&0!==_e.tag&&Ik(),0!=(1&(vt=_e.pendingLanes))?_e===df?of++:(of=0,df=_e):of=0,jg(),null}function Ik(){if(null!==Kg){var _e=Dc(af),be=rg.transition,Te=yr;try{if(rg.transition=null,yr=16>_e?16:_e,null===Kg)var Pe=!1;else{if(_e=Kg,Kg=null,af=0,0!=(6&og))throw Error(p(331));var pt=og;for(og|=4,Op=_e.current;null!==Op;){var vt=Op,xt=vt.child;if(0!=(16&Op.flags)){var Tt=vt.deletions;if(null!==Tt){for(var It=0;It<Tt.length;It++){var Mt=Tt[It];for(Op=Mt;null!==Op;){var Lt=Op;switch(Lt.tag){case 0:case 11:case 15:Qj(8,Lt,vt)}var Ft=Lt.child;if(null!==Ft)Ft.return=Lt,Op=Ft;else for(;null!==Op;){var Ot=(Lt=Op).sibling,Vt=Lt.return;if(Tj(Lt),Lt===Mt){Op=null;break}if(null!==Ot){Ot.return=Vt,Op=Ot;break}Op=Vt}}}var qt=vt.alternate;if(null!==qt){var Wt=qt.child;if(null!==Wt){qt.child=null;do{var $t=Wt.sibling;Wt.sibling=null,Wt=$t}while(null!==Wt)}}Op=vt}}if(0!=(2064&vt.subtreeFlags)&&null!==xt)xt.return=vt,Op=xt;else e:for(;null!==Op;){if(0!=(2048&(vt=Op).flags))switch(vt.tag){case 0:case 11:case 15:Qj(9,vt,vt.return)}var Kt=vt.sibling;if(null!==Kt){Kt.return=vt.return,Op=Kt;break e}Op=vt.return}}var Jt=_e.current;for(Op=Jt;null!==Op;){var Yt=(xt=Op).child;if(0!=(2064&xt.subtreeFlags)&&null!==Yt)Yt.return=xt,Op=Yt;else e:for(xt=Jt;null!==Op;){if(0!=(2048&(Tt=Op).flags))try{switch(Tt.tag){case 0:case 11:case 15:Rj(9,Tt)}}catch(_e){W(Tt,Tt.return,_e)}if(Tt===xt){Op=null;break e}var Qt=Tt.sibling;if(null!==Qt){Qt.return=Tt.return,Op=Qt;break e}Op=Tt.return}}if(og=pt,jg(),Ja&&"function"==typeof Ja.onPostCommitFiberRoot)try{Ja.onPostCommitFiberRoot($a,_e)}catch(_e){}Pe=!0}return Pe}finally{yr=Te,rg.transition=be}}return!1}function Yk(_e,be,Te){_e=dh(_e,be=Oi(0,be=Ki(Te,be),1),1),be=L(),null!==_e&&(Ac(_e,1,be),Ek(_e,be))}function W(_e,be,Te){if(3===_e.tag)Yk(_e,_e,Te);else for(;null!==be;){if(3===be.tag){Yk(be,_e,Te);break}if(1===be.tag){var Pe=be.stateNode;if("function"==typeof be.type.getDerivedStateFromError||"function"==typeof Pe.componentDidCatch&&(null===Wg||!Wg.has(Pe))){be=dh(be,_e=Ri(be,_e=Ki(Te,_e),1),1),_e=L(),null!==be&&(Ac(be,1,_e),Ek(be,_e));break}}be=be.return}}function Ui(_e,be,Te){var Pe=_e.pingCache;null!==Pe&&Pe.delete(be),be=L(),_e.pingedLanes|=_e.suspendedLanes&Te,sg===_e&&(pg&Te)===Te&&(4===mg||3===mg&&(130023424&pg)===pg&&500>Fa()-Og?Lk(_e,0):kg|=Te),Ek(_e,be)}function Zk(_e,be){0===be&&(0==(1&_e.mode)?be=1:(be=mr,0==(130023424&(mr<<=1))&&(mr=4194304)));var Te=L();null!==(_e=Zg(_e,be))&&(Ac(_e,be,Te),Ek(_e,Te))}function vj(_e){var be=_e.memoizedState,Te=0;null!==be&&(Te=be.retryLane),Zk(_e,Te)}function ck(_e,be){var Te=0;switch(_e.tag){case 13:var Pe=_e.stateNode,pt=_e.memoizedState;null!==pt&&(Te=pt.retryLane);break;case 19:Pe=_e.stateNode;break;default:throw Error(p(314))}null!==Pe&&Pe.delete(be),Zk(_e,Te)}function Gk(_e,be){return Da(_e,be)}function al(_e,be,Te,Pe){this.tag=_e,this.key=Te,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=be,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Pe,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,be,Te,Pe){return new al(_e,be,Te,Pe)}function bj(_e){return!(!(_e=_e.prototype)||!_e.isReactComponent)}function $k(_e){if("function"==typeof _e)return bj(_e)?1:0;if(null!=_e){if((_e=_e.$$typeof)===cn)return 11;if(_e===xn)return 14}return 2}function wh(_e,be){var Te=_e.alternate;return null===Te?((Te=Bg(_e.tag,be,_e.key,_e.mode)).elementType=_e.elementType,Te.type=_e.type,Te.stateNode=_e.stateNode,Te.alternate=_e,_e.alternate=Te):(Te.pendingProps=be,Te.type=_e.type,Te.flags=0,Te.subtreeFlags=0,Te.deletions=null),Te.flags=14680064&_e.flags,Te.childLanes=_e.childLanes,Te.lanes=_e.lanes,Te.child=_e.child,Te.memoizedProps=_e.memoizedProps,Te.memoizedState=_e.memoizedState,Te.updateQueue=_e.updateQueue,be=_e.dependencies,Te.dependencies=null===be?null:{lanes:be.lanes,firstContext:be.firstContext},Te.sibling=_e.sibling,Te.index=_e.index,Te.ref=_e.ref,Te}function yh(_e,be,Te,Pe,pt,vt){var xt=2;if(Pe=_e,"function"==typeof _e)bj(_e)&&(xt=1);else if("string"==typeof _e)xt=5;else e:switch(_e){case Kt:return Ah(Te.children,pt,vt,be);case Jt:xt=8,pt|=8;break;case Yt:return(_e=Bg(12,Te,be,2|pt)).elementType=Yt,_e.lanes=vt,_e;case hn:return(_e=Bg(13,Te,be,pt)).elementType=hn,_e.lanes=vt,_e;case pn:return(_e=Bg(19,Te,be,pt)).elementType=pn,_e.lanes=vt,_e;case Ln:return qj(Te,pt,vt,be);default:if("object"==typeof _e&&null!==_e)switch(_e.$$typeof){case Qt:xt=10;break e;case an:xt=9;break e;case cn:xt=11;break e;case xn:xt=14;break e;case Pn:xt=16,Pe=null;break e}throw Error(p(130,null==_e?_e:typeof _e,""))}return(be=Bg(xt,Te,be,pt)).elementType=_e,be.type=Pe,be.lanes=vt,be}function Ah(_e,be,Te,Pe){return(_e=Bg(7,_e,Pe,be)).lanes=Te,_e}function qj(_e,be,Te,Pe){return(_e=Bg(22,_e,Pe,be)).elementType=Ln,_e.lanes=Te,_e.stateNode={isHidden:!1},_e}function xh(_e,be,Te){return(_e=Bg(6,_e,null,be)).lanes=Te,_e}function zh(_e,be,Te){return(be=Bg(4,null!==_e.children?_e.children:[],_e.key,be)).lanes=Te,be.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},be}function bl(_e,be,Te,Pe,pt){this.tag=be,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=Pe,this.onRecoverableError=pt,this.mutableSourceEagerHydrationData=null}function cl(_e,be,Te,Pe,pt,vt,xt,Tt,It){return _e=new bl(_e,be,Te,Tt,It),1===be?(be=1,!0===vt&&(be|=8)):be=0,vt=Bg(3,null,null,be),_e.current=vt,vt.stateNode=_e,vt.memoizedState={element:Pe,isDehydrated:Te,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(vt),_e}function dl(_e,be,Te){var Pe=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$t,key:null==Pe?null:""+Pe,children:_e,containerInfo:be,implementation:Te}}function el(_e){if(!_e)return Wl;e:{if(Vb(_e=_e._reactInternals)!==_e||1!==_e.tag)throw Error(p(170));var be=_e;do{switch(be.tag){case 3:be=be.stateNode.context;break e;case 1:if(Zf(be.type)){be=be.stateNode.__reactInternalMemoizedMergedChildContext;break e}}be=be.return}while(null!==be);throw Error(p(171))}if(1===_e.tag){var Te=_e.type;if(Zf(Te))return bg(_e,Te,be)}return be}function fl(_e,be,Te,Pe,pt,vt,xt,Tt,It){return(_e=cl(Te,Pe,!0,_e,0,vt,0,Tt,It)).context=el(null),Te=_e.current,(vt=ch(Pe=L(),pt=lh(Te))).callback=null!=be?be:null,dh(Te,vt,pt),_e.current.lanes=pt,Ac(_e,pt,Pe),Ek(_e,Pe),_e}function gl(_e,be,Te,Pe){var pt=be.current,vt=L(),xt=lh(pt);return Te=el(Te),null===be.context?be.context=Te:be.pendingContext=Te,(be=ch(vt,xt)).payload={element:_e},null!==(Pe=void 0===Pe?null:Pe)&&(be.callback=Pe),null!==(_e=dh(pt,be,xt))&&(mh(_e,pt,xt,vt),eh(_e,pt,xt)),xt}function hl(_e){if(!(_e=_e.current).child)return null;switch(_e.child.tag){case 5:default:return _e.child.stateNode}}function il(_e,be){if(null!==(_e=_e.memoizedState)&&null!==_e.dehydrated){var Te=_e.retryLane;_e.retryLane=0!==Te&&Te<be?Te:be}}function jl(_e,be){il(_e,be),(_e=_e.alternate)&&il(_e,be)}Up=function(_e,be,Te){if(null!==_e)if(_e.memoizedProps!==be.pendingProps||$l.current)_p=!0;else{if(0==(_e.lanes&Te)&&0==(128&be.flags))return _p=!1,zj(_e,be,Te);_p=0!=(131072&_e.flags)}else _p=!1,Yu&&0!=(1048576&be.flags)&&ug(be,lu,be.index);switch(be.lanes=0,be.tag){case 2:var Pe=be.type;jj(_e,be),_e=be.pendingProps;var pt=Yf(be,Hl.current);Tg(be,Te),pt=Xh(null,be,Pe,_e,pt,Te);var vt=bi();return be.flags|=1,"object"==typeof pt&&null!==pt&&"function"==typeof pt.render&&void 0===pt.$$typeof?(be.tag=1,be.memoizedState=null,be.updateQueue=null,Zf(Pe)?(vt=!0,cg(be)):vt=!1,be.memoizedState=null!==pt.state&&void 0!==pt.state?pt.state:null,ah(be),pt.updater=kc,be.stateNode=pt,pt._reactInternals=be,rh(be,Pe,_e,Te),be=kj(null,be,Pe,!0,vt,Te)):(be.tag=0,Yu&&vt&&vg(be),Yi(null,be,pt,Te),be=be.child),be;case 16:Pe=be.elementType;e:{switch(jj(_e,be),_e=be.pendingProps,Pe=(pt=Pe._init)(Pe._payload),be.type=Pe,pt=be.tag=$k(Pe),_e=Lg(Pe,_e),pt){case 0:be=dj(null,be,Pe,_e,Te);break e;case 1:be=ij(null,be,Pe,_e,Te);break e;case 11:be=Zi(null,be,Pe,_e,Te);break e;case 14:be=aj(null,be,Pe,Lg(Pe.type,_e),Te);break e}throw Error(p(306,Pe,""))}return be;case 0:return Pe=be.type,pt=be.pendingProps,dj(_e,be,Pe,pt=be.elementType===Pe?pt:Lg(Pe,pt),Te);case 1:return Pe=be.type,pt=be.pendingProps,ij(_e,be,Pe,pt=be.elementType===Pe?pt:Lg(Pe,pt),Te);case 3:e:{if(lj(be),null===_e)throw Error(p(387));Pe=be.pendingProps,pt=(vt=be.memoizedState).element,bh(_e,be),gh(be,Pe,null,Te);var xt=be.memoizedState;if(Pe=xt.element,vt.isDehydrated){if(vt={element:Pe,isDehydrated:!1,cache:xt.cache,pendingSuspenseBoundaries:xt.pendingSuspenseBoundaries,transitions:xt.transitions},be.updateQueue.baseState=vt,be.memoizedState=vt,256&be.flags){be=mj(_e,be,Pe,Te,pt=Ki(Error(p(423)),be));break e}if(Pe!==pt){be=mj(_e,be,Pe,Te,pt=Ki(Error(p(424)),be));break e}for(Ju=Lf(be.stateNode.containerInfo.firstChild),Wu=be,Yu=!0,Qu=null,Te=Ic(be,null,Pe,Te),be.child=Te;Te;)Te.flags=-3&Te.flags|4096,Te=Te.sibling}else{if(Ig(),Pe===pt){be=$i(_e,be,Te);break e}Yi(_e,be,Pe,Te)}be=be.child}return be;case 5:return Kh(be),null===_e&&Eg(be),Pe=be.type,pt=be.pendingProps,vt=null!==_e?_e.memoizedProps:null,xt=pt.children,Ef(Pe,pt)?xt=null:null!==vt&&Ef(Pe,vt)&&(be.flags|=32),hj(_e,be),Yi(_e,be,xt,Te),be.child;case 6:return null===_e&&Eg(be),null;case 13:return pj(_e,be,Te);case 4:return Ih(be,be.stateNode.containerInfo),Pe=be.pendingProps,null===_e?be.child=Pc(be,null,Pe,Te):Yi(_e,be,Pe,Te),be.child;case 11:return Pe=be.type,pt=be.pendingProps,Zi(_e,be,Pe,pt=be.elementType===Pe?pt:Lg(Pe,pt),Te);case 7:return Yi(_e,be,be.pendingProps,Te),be.child;case 8:case 12:return Yi(_e,be,be.pendingProps.children,Te),be.child;case 10:e:{if(Pe=be.type._context,pt=be.pendingProps,vt=be.memoizedProps,xt=pt.value,G(rc,Pe._currentValue),Pe._currentValue=xt,null!==vt)if(Ks(vt.value,xt)){if(vt.children===pt.children&&!$l.current){be=$i(_e,be,Te);break e}}else for(null!==(vt=be.child)&&(vt.return=be);null!==vt;){var Tt=vt.dependencies;if(null!==Tt){xt=vt.child;for(var It=Tt.firstContext;null!==It;){if(It.context===Pe){if(1===vt.tag){(It=ch(-1,Te&-Te)).tag=2;var Mt=vt.updateQueue;if(null!==Mt){var Lt=(Mt=Mt.shared).pending;null===Lt?It.next=It:(It.next=Lt.next,Lt.next=It),Mt.pending=It}}vt.lanes|=Te,null!==(It=vt.alternate)&&(It.lanes|=Te),Sg(vt.return,Te,be),Tt.lanes|=Te;break}It=It.next}}else if(10===vt.tag)xt=vt.type===be.type?null:vt.child;else if(18===vt.tag){if(null===(xt=vt.return))throw Error(p(341));xt.lanes|=Te,null!==(Tt=xt.alternate)&&(Tt.lanes|=Te),Sg(xt,Te,be),xt=vt.sibling}else xt=vt.child;if(null!==xt)xt.return=vt;else for(xt=vt;null!==xt;){if(xt===be){xt=null;break}if(null!==(vt=xt.sibling)){vt.return=xt.return,xt=vt;break}xt=xt.return}vt=xt}Yi(_e,be,pt.children,Te),be=be.child}return be;case 9:return pt=be.type,Pe=be.pendingProps.children,Tg(be,Te),Pe=Pe(pt=Vg(pt)),be.flags|=1,Yi(_e,be,Pe,Te),be.child;case 14:return pt=Lg(Pe=be.type,be.pendingProps),aj(_e,be,Pe,pt=Lg(Pe.type,pt),Te);case 15:return cj(_e,be,be.type,be.pendingProps,Te);case 17:return Pe=be.type,pt=be.pendingProps,pt=be.elementType===Pe?pt:Lg(Pe,pt),jj(_e,be),be.tag=1,Zf(Pe)?(_e=!0,cg(be)):_e=!1,Tg(be,Te),ph(be,Pe,pt),rh(be,Pe,pt,Te),kj(null,be,Pe,!0,_e,Te);case 19:return yj(_e,be,Te);case 22:return ej(_e,be,Te)}throw Error(p(156,be.tag))};var gf="function"==typeof reportError?reportError:function(_e){console.error(_e)};function ml(_e){this._internalRoot=_e}function nl(_e){this._internalRoot=_e}function ol(_e){return!(!_e||1!==_e.nodeType&&9!==_e.nodeType&&11!==_e.nodeType)}function pl(_e){return!(!_e||1!==_e.nodeType&&9!==_e.nodeType&&11!==_e.nodeType&&(8!==_e.nodeType||" react-mount-point-unstable "!==_e.nodeValue))}function ql(){}function rl(_e,be,Te,Pe,pt){if(pt){if("function"==typeof Pe){var vt=Pe;Pe=function(){var _e=hl(xt);vt.call(_e)}}var xt=fl(be,Pe,_e,0,null,!1,0,"",ql);return _e._reactRootContainer=xt,_e[Yd]=xt.current,sf(8===_e.nodeType?_e.parentNode:_e),Sk(),xt}for(;pt=_e.lastChild;)_e.removeChild(pt);if("function"==typeof Pe){var Tt=Pe;Pe=function(){var _e=hl(It);Tt.call(_e)}}var It=cl(_e,0,!1,null,0,!1,0,"",ql);return _e._reactRootContainer=It,_e[Yd]=It.current,sf(8===_e.nodeType?_e.parentNode:_e),Sk((function(){gl(be,It,Te,Pe)})),It}function sl(_e,be,Te,Pe,pt){var vt=Te._reactRootContainer;if(vt){var xt=vt;if("function"==typeof pt){var Tt=pt;pt=function(){var _e=hl(xt);Tt.call(_e)}}gl(be,xt,_e,pt)}else xt=rl(Te,be,_e,pt,Pe);return hl(xt)}nl.prototype.render=ml.prototype.render=function(_e){var be=this._internalRoot;if(null===be)throw Error(p(409));gl(_e,be,null,null)},nl.prototype.unmount=ml.prototype.unmount=function(){var _e=this._internalRoot;if(null!==_e){this._internalRoot=null;var be=_e.containerInfo;Sk((function(){gl(null,_e,null,null)})),be[Yd]=null}},nl.prototype.unstable_scheduleHydration=function(_e){if(_e){var be=xr();_e={blockedOn:null,target:_e,priority:be};for(var Te=0;Te<Gr.length&&0!==be&&be<Gr[Te].priority;Te++);Gr.splice(Te,0,_e),0===Te&&Vc(_e)}},_r=function(_e){switch(_e.tag){case 3:var be=_e.stateNode;if(be.current.memoizedState.isDehydrated){var Te=tc(be.pendingLanes);0!==Te&&(Cc(be,1|Te),Ek(be,Fa()),0==(6&og)&&(zg=Fa()+500,jg()))}break;case 13:Sk((function(){var be=Zg(_e,1);if(null!==be){var Te=L();mh(be,_e,1,Te)}})),jl(_e,1)}},vr=function(_e){if(13===_e.tag){var be=Zg(_e,134217728);if(null!==be)mh(be,_e,134217728,L());jl(_e,134217728)}},Rr=function(_e){if(13===_e.tag){var be=lh(_e),Te=Zg(_e,be);if(null!==Te)mh(Te,_e,be,L());jl(_e,be)}},xr=function(){return yr},Sr=function(_e,be){var Te=yr;try{return yr=_e,be()}finally{yr=Te}},ga=function(_e,be,Te){switch(be){case"input":if(bb(_e,Te),be=Te.name,"radio"===Te.type&&null!=be){for(Te=_e;Te.parentNode;)Te=Te.parentNode;for(Te=Te.querySelectorAll("input[name="+JSON.stringify(""+be)+'][type="radio"]'),be=0;be<Te.length;be++){var Pe=Te[be];if(Pe!==_e&&Pe.form===_e.form){var pt=Db(Pe);if(!pt)throw Error(p(90));Wa(Pe),bb(Pe,pt)}}}break;case"textarea":ib(_e,Te);break;case"select":null!=(be=Te.value)&&fb(_e,!!Te.multiple,be,!1)}},Gb=Rk,Hb=Sk;var mf={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},yf={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Rf={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return null===(_e=Zb(_e))?null:_e.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||function kl(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{$a=xf.inject(Rf),Ja=xf}catch(ra){}}be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mf,be.createPortal=function(_e,be){var Te=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(be))throw Error(p(200));return dl(_e,be,null,Te)},be.createRoot=function(_e,be){if(!ol(_e))throw Error(p(299));var Te=!1,Pe="",pt=gf;return null!=be&&(!0===be.unstable_strictMode&&(Te=!0),void 0!==be.identifierPrefix&&(Pe=be.identifierPrefix),void 0!==be.onRecoverableError&&(pt=be.onRecoverableError)),be=cl(_e,1,!1,null,0,Te,0,Pe,pt),_e[Yd]=be.current,sf(8===_e.nodeType?_e.parentNode:_e),new ml(be)},be.findDOMNode=function(_e){if(null==_e)return null;if(1===_e.nodeType)return _e;var be=_e._reactInternals;if(void 0===be){if("function"==typeof _e.render)throw Error(p(188));throw _e=Object.keys(_e).join(","),Error(p(268,_e))}return _e=null===(_e=Zb(be))?null:_e.stateNode},be.flushSync=function(_e){return Sk(_e)},be.hydrate=function(_e,be,Te){if(!pl(be))throw Error(p(200));return sl(null,_e,be,!0,Te)},be.hydrateRoot=function(_e,be,Te){if(!ol(_e))throw Error(p(405));var Pe=null!=Te&&Te.hydratedSources||null,pt=!1,vt="",xt=gf;if(null!=Te&&(!0===Te.unstable_strictMode&&(pt=!0),void 0!==Te.identifierPrefix&&(vt=Te.identifierPrefix),void 0!==Te.onRecoverableError&&(xt=Te.onRecoverableError)),be=fl(be,null,_e,1,null!=Te?Te:null,pt,0,vt,xt),_e[Yd]=be.current,sf(_e),Pe)for(_e=0;_e<Pe.length;_e++)pt=(pt=(Te=Pe[_e])._getVersion)(Te._source),null==be.mutableSourceEagerHydrationData?be.mutableSourceEagerHydrationData=[Te,pt]:be.mutableSourceEagerHydrationData.push(Te,pt);return new nl(be)},be.render=function(_e,be,Te){if(!pl(be))throw Error(p(200));return sl(null,_e,be,!1,Te)},be.unmountComponentAtNode=function(_e){if(!pl(_e))throw Error(p(40));return!!_e._reactRootContainer&&(Sk((function(){sl(null,null,_e,!1,(function(){_e._reactRootContainer=null,_e[Yd]=null}))})),!0)},be.unstable_batchedUpdates=Rk,be.unstable_renderSubtreeIntoContainer=function(_e,be,Te,Pe){if(!pl(Te))throw Error(p(200));if(null==_e||void 0===_e._reactInternals)throw Error(p(38));return sl(_e,be,Te,!1,Pe)},be.version="18.2.0-next-9e3b772b8-20220608"},73935:function(_e,be,Te){"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}(),_e.exports=Te(64448)},54203:function(_e,be){"use strict";function f(_e,be){var Te=_e.length;_e.push(be);e:for(;0<Te;){var Pe=Te-1>>>1,pt=_e[Pe];if(!(0<g(pt,be)))break e;_e[Pe]=be,_e[Te]=pt,Te=Pe}}function h(_e){return 0===_e.length?null:_e[0]}function k(_e){if(0===_e.length)return null;var be=_e[0],Te=_e.pop();if(Te!==be){_e[0]=Te;e:for(var Pe=0,pt=_e.length,vt=pt>>>1;Pe<vt;){var xt=2*(Pe+1)-1,Tt=_e[xt],It=xt+1,Mt=_e[It];if(0>g(Tt,Te))It<pt&&0>g(Mt,Tt)?(_e[Pe]=Mt,_e[It]=Te,Pe=It):(_e[Pe]=Tt,_e[xt]=Te,Pe=xt);else{if(!(It<pt&&0>g(Mt,Te)))break e;_e[Pe]=Mt,_e[It]=Te,Pe=It}}}return be}function g(_e,be){var Te=_e.sortIndex-be.sortIndex;return 0!==Te?Te:_e.id-be.id}if("object"==typeof performance&&"function"==typeof performance.now){var Te=performance;be.unstable_now=function(){return Te.now()}}else{var Pe=Date,pt=Pe.now();be.unstable_now=function(){return Pe.now()-pt}}var vt=[],xt=[],Tt=1,It=null,Mt=3,Lt=!1,Ft=!1,Ot=!1,Vt="function"==typeof setTimeout?setTimeout:null,qt="function"==typeof clearTimeout?clearTimeout:null,Wt="undefined"!=typeof setImmediate?setImmediate:null;function G(_e){for(var be=h(xt);null!==be;){if(null===be.callback)k(xt);else{if(!(be.startTime<=_e))break;k(xt),be.sortIndex=be.expirationTime,f(vt,be)}be=h(xt)}}function H(_e){if(Ot=!1,G(_e),!Ft)if(null!==h(vt))Ft=!0,I(J);else{var be=h(xt);null!==be&&K(H,be.startTime-_e)}}function J(_e,Te){Ft=!1,Ot&&(Ot=!1,qt(Yt),Yt=-1),Lt=!0;var Pe=Mt;try{for(G(Te),It=h(vt);null!==It&&(!(It.expirationTime>Te)||_e&&!M());){var pt=It.callback;if("function"==typeof pt){It.callback=null,Mt=It.priorityLevel;var Tt=pt(It.expirationTime<=Te);Te=be.unstable_now(),"function"==typeof Tt?It.callback=Tt:It===h(vt)&&k(vt),G(Te)}else k(vt);It=h(vt)}if(null!==It)var Vt=!0;else{var Wt=h(xt);null!==Wt&&K(H,Wt.startTime-Te),Vt=!1}return Vt}finally{It=null,Mt=Pe,Lt=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var $t,Kt=!1,Jt=null,Yt=-1,Qt=5,an=-1;function M(){return!(be.unstable_now()-an<Qt)}function R(){if(null!==Jt){var _e=be.unstable_now();an=_e;var Te=!0;try{Te=Jt(!0,_e)}finally{Te?$t():(Kt=!1,Jt=null)}}else Kt=!1}if("function"==typeof Wt)$t=function(){Wt(R)};else if("undefined"!=typeof MessageChannel){var cn=new MessageChannel,hn=cn.port2;cn.port1.onmessage=R,$t=function(){hn.postMessage(null)}}else $t=function(){Vt(R,0)};function I(_e){Jt=_e,Kt||(Kt=!0,$t())}function K(_e,Te){Yt=Vt((function(){_e(be.unstable_now())}),Te)}be.unstable_IdlePriority=5,be.unstable_ImmediatePriority=1,be.unstable_LowPriority=4,be.unstable_NormalPriority=3,be.unstable_Profiling=null,be.unstable_UserBlockingPriority=2,be.unstable_cancelCallback=function(_e){_e.callback=null},be.unstable_continueExecution=function(){Ft||Lt||(Ft=!0,I(J))},be.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Qt=0<_e?Math.floor(1e3/_e):5},be.unstable_getCurrentPriorityLevel=function(){return Mt},be.unstable_getFirstCallbackNode=function(){return h(vt)},be.unstable_next=function(_e){switch(Mt){case 1:case 2:case 3:var be=3;break;default:be=Mt}var Te=Mt;Mt=be;try{return _e()}finally{Mt=Te}},be.unstable_pauseExecution=function(){},be.unstable_requestPaint=function(){},be.unstable_runWithPriority=function(_e,be){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var Te=Mt;Mt=_e;try{return be()}finally{Mt=Te}},be.unstable_scheduleCallback=function(_e,Te,Pe){var pt=be.unstable_now();switch("object"==typeof Pe&&null!==Pe?Pe="number"==typeof(Pe=Pe.delay)&&0<Pe?pt+Pe:pt:Pe=pt,_e){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return _e={id:Tt++,callback:Te,priorityLevel:_e,startTime:Pe,expirationTime:It=Pe+It,sortIndex:-1},Pe>pt?(_e.sortIndex=Pe,f(xt,_e),null===h(vt)&&_e===h(xt)&&(Ot?(qt(Yt),Yt=-1):Ot=!0,K(H,Pe-pt))):(_e.sortIndex=It,f(vt,_e),Ft||Lt||(Ft=!0,I(J))),_e},be.unstable_shouldYield=M,be.unstable_wrapCallback=function(_e){var be=Mt;return function(){var Te=Mt;Mt=be;try{return _e.apply(this,arguments)}finally{Mt=Te}}}},54142:function(_e,be,Te){"use strict";_e.exports=Te(54203)},65522:function(_e,be,Te){var Pe=Te(67294),pt=Te(45697);function Group(_e){var be=Pe.Children.toArray(_e.children).filter(Boolean);if(1===be.length)return be;var Te=_e.separator,pt=Pe.isValidElement(Te),vt=[be.shift()];return be.forEach((function(_e,be){if(pt){var xt="separator-"+(_e.key||be);Te=Pe.cloneElement(Te,{key:xt})}vt.push(Te,_e)})),vt}Group.propTypes={children:pt.node,separator:pt.node},Group.defaultProps={separator:" "},_e.exports=Group},40460:function(_e,be,Te){"use strict";var Pe=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e},pt=function(){function defineProperties(_e,be){for(var Te=0;Te<be.length;Te++){var Pe=be[Te];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(_e,Pe.key,Pe)}}return function(_e,be,Te){return be&&defineProperties(_e.prototype,be),Te&&defineProperties(_e,Te),_e}}(),vt=function _interopRequireWildcard(_e){if(_e&&_e.__esModule)return _e;var be={};if(null!=_e)for(var Te in _e)Object.prototype.hasOwnProperty.call(_e,Te)&&(be[Te]=_e[Te]);return be.default=_e,be}(Te(67294));function _objectWithoutProperties(_e,be){var Te={};for(var Pe in _e)be.indexOf(Pe)>=0||Object.prototype.hasOwnProperty.call(_e,Pe)&&(Te[Pe]=_e[Pe]);return Te}function _classCallCheck(_e,be){if(!(_e instanceof be))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(_e,be){if(!_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!be||"object"!=typeof be&&"function"!=typeof be?_e:be}function _inherits(_e,be){if("function"!=typeof be&&null!==be)throw new TypeError("Super expression must either be null or a function, not "+typeof be);_e.prototype=Object.create(be&&be.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}}),be&&(Object.setPrototypeOf?Object.setPrototypeOf(_e,be):_e.__proto__=be)}var xt=90,Tt=219,It=222,Mt=192,Lt=100,Ft=3e3,Ot="navigator"in Te.g&&/Win/i.test(navigator.platform),Vt="navigator"in Te.g&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),qt="npm__react-simple-code-editor__textarea",Wt=function(_e){function Editor(){var _e,be,Te;_classCallCheck(this,Editor);for(var pt=arguments.length,vt=Array(pt),qt=0;qt<pt;qt++)vt[qt]=arguments[qt];return be=Te=_possibleConstructorReturn(this,(_e=Editor.__proto__||Object.getPrototypeOf(Editor)).call.apply(_e,[this].concat(vt))),Te.state={capture:!0},Te._recordCurrentState=function(){var _e=Te._input;if(_e){var be=_e.value,Pe=_e.selectionStart,pt=_e.selectionEnd;Te._recordChange({value:be,selectionStart:Pe,selectionEnd:pt})}},Te._getLines=function(_e,be){return _e.substring(0,be).split("\n")},Te._recordChange=function(_e){var be=arguments.length>1&&void 0!==arguments[1]&&arguments[1],pt=Te._history,vt=pt.stack,xt=pt.offset;if(vt.length&&xt>-1){Te._history.stack=vt.slice(0,xt+1);var Tt=Te._history.stack.length;if(Tt>Lt){var It=Tt-Lt;Te._history.stack=vt.slice(It,Tt),Te._history.offset=Math.max(Te._history.offset-It,0)}}var Mt=Date.now();if(be){var Ot=Te._history.stack[Te._history.offset];if(Ot&&Mt-Ot.timestamp<Ft){var Vt=/[^a-z0-9]([a-z0-9]+)$/i,qt=Te._getLines(Ot.value,Ot.selectionStart).pop().match(Vt),Wt=Te._getLines(_e.value,_e.selectionStart).pop().match(Vt);if(qt&&Wt&&Wt[1].startsWith(qt[1]))return void(Te._history.stack[Te._history.offset]=Pe({},_e,{timestamp:Mt}))}}Te._history.stack.push(Pe({},_e,{timestamp:Mt})),Te._history.offset++},Te._updateInput=function(_e){var be=Te._input;be&&(be.value=_e.value,be.selectionStart=_e.selectionStart,be.selectionEnd=_e.selectionEnd,Te.props.onValueChange(_e.value))},Te._applyEdits=function(_e){var be=Te._input,pt=Te._history.stack[Te._history.offset];pt&&be&&(Te._history.stack[Te._history.offset]=Pe({},pt,{selectionStart:be.selectionStart,selectionEnd:be.selectionEnd})),Te._recordChange(_e),Te._updateInput(_e)},Te._undoEdit=function(){var _e=Te._history,be=_e.stack,Pe=_e.offset,pt=be[Pe-1];pt&&(Te._updateInput(pt),Te._history.offset=Math.max(Pe-1,0))},Te._redoEdit=function(){var _e=Te._history,be=_e.stack,Pe=_e.offset,pt=be[Pe+1];pt&&(Te._updateInput(pt),Te._history.offset=Math.min(Pe+1,be.length-1))},Te._handleKeyDown=function(_e){var be=Te.props,Pe=be.tabSize,pt=be.insertSpaces,vt=be.ignoreTabKey,Lt=be.onKeyDown;if(!Lt||(Lt(_e),!_e.defaultPrevented)){27===_e.keyCode&&_e.target.blur();var Ft=_e.target,qt=Ft.value,Wt=Ft.selectionStart,$t=Ft.selectionEnd,Kt=(pt?" ":"\t").repeat(Pe);if(9===_e.keyCode&&!vt&&Te.state.capture)if(_e.preventDefault(),_e.shiftKey){var Jt=Te._getLines(qt,Wt),Yt=Jt.length-1,Qt=Te._getLines(qt,$t).length-1,an=qt.split("\n").map((function(_e,be){return be>=Yt&&be<=Qt&&_e.startsWith(Kt)?_e.substring(Kt.length):_e})).join("\n");if(qt!==an){var cn=Jt[Yt];Te._applyEdits({value:an,selectionStart:cn.startsWith(Kt)?Wt-Kt.length:Wt,selectionEnd:$t-(qt.length-an.length)})}}else if(Wt!==$t){var hn=Te._getLines(qt,Wt),pn=hn.length-1,xn=Te._getLines(qt,$t).length-1,Pn=hn[pn];Te._applyEdits({value:qt.split("\n").map((function(_e,be){return be>=pn&&be<=xn?Kt+_e:_e})).join("\n"),selectionStart:/\S/.test(Pn)?Wt+Kt.length:Wt,selectionEnd:$t+Kt.length*(xn-pn+1)})}else{var Ln=Wt+Kt.length;Te._applyEdits({value:qt.substring(0,Wt)+Kt+qt.substring($t),selectionStart:Ln,selectionEnd:Ln})}else if(8===_e.keyCode){var Fn=Wt!==$t;if(qt.substring(0,Wt).endsWith(Kt)&&!Fn){_e.preventDefault();var jn=Wt-Kt.length;Te._applyEdits({value:qt.substring(0,Wt-Kt.length)+qt.substring($t),selectionStart:jn,selectionEnd:jn})}}else if(13===_e.keyCode){if(Wt===$t){var $n=Te._getLines(qt,Wt).pop().match(/^\s+/);if($n&&$n[0]){_e.preventDefault();var ea="\n"+$n[0],na=Wt+ea.length;Te._applyEdits({value:qt.substring(0,Wt)+ea+qt.substring($t),selectionStart:na,selectionEnd:na})}}}else if(57===_e.keyCode||_e.keyCode===Tt||_e.keyCode===It||_e.keyCode===Mt){var aa=void 0;57===_e.keyCode&&_e.shiftKey?aa=["(",")"]:_e.keyCode===Tt?aa=_e.shiftKey?["{","}"]:["[","]"]:_e.keyCode===It?aa=_e.shiftKey?['"','"']:["'","'"]:_e.keyCode!==Mt||_e.shiftKey||(aa=["`","`"]),Wt!==$t&&aa&&(_e.preventDefault(),Te._applyEdits({value:qt.substring(0,Wt)+aa[0]+qt.substring(Wt,$t)+aa[1]+qt.substring($t),selectionStart:Wt,selectionEnd:$t+2}))}else!(Vt?_e.metaKey&&_e.keyCode===xt:_e.ctrlKey&&_e.keyCode===xt)||_e.shiftKey||_e.altKey?(Vt?_e.metaKey&&_e.keyCode===xt&&_e.shiftKey:Ot?_e.ctrlKey&&89===_e.keyCode:_e.ctrlKey&&_e.keyCode===xt&&_e.shiftKey)&&!_e.altKey?(_e.preventDefault(),Te._redoEdit()):77!==_e.keyCode||!_e.ctrlKey||Vt&&!_e.shiftKey||(_e.preventDefault(),Te.setState((function(_e){return{capture:!_e.capture}}))):(_e.preventDefault(),Te._undoEdit())}},Te._handleChange=function(_e){var be=_e.target,Pe=be.value,pt=be.selectionStart,vt=be.selectionEnd;Te._recordChange({value:Pe,selectionStart:pt,selectionEnd:vt},!0),Te.props.onValueChange(Pe)},Te._history={stack:[],offset:-1},_possibleConstructorReturn(Te,be)}return _inherits(Editor,_e),pt(Editor,[{key:"componentDidMount",value:function componentDidMount(){this._recordCurrentState()}},{key:"render",value:function render(){var _e=this,be=this.props,Te=be.value,pt=be.style,xt=be.padding,Tt=be.highlight,It=be.textareaId,Mt=be.autoFocus,Lt=be.disabled,Ft=be.form,Ot=be.maxLength,Vt=be.minLength,Wt=be.name,Kt=be.placeholder,Jt=be.readOnly,Yt=be.required,Qt=be.onClick,an=be.onFocus,cn=be.onBlur,hn=be.onKeyUp,pn=(be.onKeyDown,be.onValueChange,be.tabSize,be.insertSpaces,be.ignoreTabKey,_objectWithoutProperties(be,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"])),xn={paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt},Pn=Tt(Te);return vt.createElement("div",Pe({},pn,{style:Pe({},$t.container,pt)}),vt.createElement("textarea",{ref:function ref(be){return _e._input=be},style:Pe({},$t.editor,$t.textarea,xn),className:qt,id:It,value:Te,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:Qt,onKeyUp:hn,onFocus:an,onBlur:cn,disabled:Lt,form:Ft,maxLength:Ot,minLength:Vt,name:Wt,placeholder:Kt,readOnly:Jt,required:Yt,autoFocus:Mt,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),vt.createElement("pre",Pe({"aria-hidden":"true",style:Pe({},$t.editor,$t.highlight,xn)},"string"==typeof Pn?{dangerouslySetInnerHTML:{__html:Pn+"<br />"}}:{children:Pn})),vt.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.npm__react-simple-code-editor__textarea:empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .npm__react-simple-code-editor__textarea {\n    color: transparent !important;\n  }\n\n  .npm__react-simple-code-editor__textarea::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"}}))}},{key:"session",get:function get(){return{history:this._history}},set:function set(_e){this._history=_e.history}}]),Editor}(vt.Component);Wt.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},be.Z=Wt;var $t={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}},94324:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return It}});var Pe=Te(67294),pt=Te(45697),vt=Te.n(pt),xt=Te(64799),Tt=function CodeRenderer(_e){var be=_e.classes,Te=_e.children;return Pe.createElement("code",{className:be.code},Te)};Tt.propTypes={classes:vt().objectOf(vt().string.isRequired).isRequired,children:vt().node.isRequired};var It=(0,xt.Z)((function styles(_e){return{code:{fontFamily:_e.fontFamily.monospace,fontSize:"inherit",color:"inherit",background:"transparent",whiteSpace:"inherit"}}}))(Tt)},61456:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return vt},E:function(){return useStyleGuideContext}});var Pe=Te(67294),pt=Pe.createContext({codeRevision:0,cssRevision:"0",config:{},slots:{},displayMode:"collapse"}),vt=pt;function useStyleGuideContext(){return Pe.useContext(pt)}},17749:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return renderDefault}});var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(82772),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(68309),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(67294),rsg_components_Text__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(47014),rsg_components_Code__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(94324),_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11193),defaultValueBlacklist=["null","undefined"];function renderDefault(prop){if(prop.defaultValue){var defaultValueString=(0,_util__WEBPACK_IMPORTED_MODULE_5__.xC)((0,_util__WEBPACK_IMPORTED_MODULE_5__.I8)(String(prop.defaultValue.value)));if(prop.type||prop.flowType||prop.tsType){var propName=prop.type?prop.type.name:prop.flowType?prop.flowType.type:prop.tsType&&prop.tsType.type;if(defaultValueBlacklist.indexOf(prop.defaultValue.value)>-1)return react__WEBPACK_IMPORTED_MODULE_2__.createElement(rsg_components_Code__WEBPACK_IMPORTED_MODULE_4__.Z,null,defaultValueString);if("func"===propName||"function"===propName)return react__WEBPACK_IMPORTED_MODULE_2__.createElement(rsg_components_Text__WEBPACK_IMPORTED_MODULE_3__.Z,{size:"small",color:"light",underlined:!0,title:defaultValueString},"Function");if("shape"===propName||"object"===propName)try{var object=eval("("+prop.defaultValue.value+")");return react__WEBPACK_IMPORTED_MODULE_2__.createElement(rsg_components_Text__WEBPACK_IMPORTED_MODULE_3__.Z,{size:"small",color:"light",underlined:!0,title:JSON.stringify(object,null,2)},"Shape")}catch(_e){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(rsg_components_Text__WEBPACK_IMPORTED_MODULE_3__.Z,{size:"small",color:"light",underlined:!0,title:prop.defaultValue.value},"Shape")}}return react__WEBPACK_IMPORTED_MODULE_2__.createElement(rsg_components_Code__WEBPACK_IMPORTED_MODULE_4__.Z,null,defaultValueString)}return prop.required?react__WEBPACK_IMPORTED_MODULE_2__.createElement(rsg_components_Text__WEBPACK_IMPORTED_MODULE_3__.Z,{size:"small",color:"light"},"Required"):""}},11193:function(_e,be,Te){"use strict";Te.d(be,{I8:function(){return unquote},oL:function(){return getType},xC:function(){return showSpaces}});Te(26541),Te(68309),Te(19601),Te(74916),Te(15306);function unquote(_e){return _e&&_e.replace(/^['"]|['"]$/g,"")}function getType(_e){return _e.flowType?"union"===_e.flowType.name&&_e.flowType.elements.every((function(_e){return"literal"===_e.name}))?Object.assign({},_e.flowType,{name:"enum",value:_e.flowType.elements}):_e.flowType:_e.tsType?_e.tsType:_e.type}function showSpaces(_e){return _e&&_e.replace(/^\s|\s$/g,"␣")}},64799:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return StyleHOC}});Te(68309),Te(19601),Te(30489),Te(41539),Te(12419),Te(74916),Te(39714),Te(15306);var Pe=Te(67294),pt=Te(61456),vt=Te(82492),xt=Te.n(vt),Tt=Te(88306),It=Te.n(Tt),Mt=Te(18788),Lt=Te(16185),Ft=It()((function(_e,be,Te,Pe){var pt=xt()({},Lt,be.theme),vt="function"==typeof be.styles?be.styles(pt):be.styles,Tt=xt()({},_e(pt),vt&&vt[Te]);return Mt.Z.createStyleSheet(Tt,{meta:Te,link:!0})}),(function(_e,be,Te,Pe){return Te+"_"+Pe}));function _assertThisInitialized(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}function StyleHOC(_e){return function(be){var Te,vt,xt=be.name.replace(/Renderer$/,"");return vt=Te=function(Te){var pt,vt;vt=Te,(pt=_class).prototype=Object.create(vt.prototype),pt.prototype.constructor=pt,pt.__proto__=vt;var Tt;Tt=_class;function _class(be,Pe){var pt;return _defineProperty(_assertThisInitialized(pt=Te.call(this,be,Pe)||this),"sheet",void 0),pt.sheet=Ft(_e,Pe.config||{},xt,Pe.cssRevision),pt.sheet.update(be).attach(),pt}var It=_class.prototype;return It.componentDidUpdate=function componentDidUpdate(_e){this.sheet.update(_e)},It.render=function render(){return Pe.createElement(be,Object.assign({},this.props,{classes:this.sheet.classes}))},_class}(Pe.Component),_defineProperty(Te,"displayName","Styled("+xt+")"),_defineProperty(Te,"contextType",pt.Z),vt}}},47014:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Mt}});Te(82772),Te(19601),Te(47941),Te(37268);var Pe=Te(67294),pt=Te(45697),vt=Te.n(pt),xt=Te(86010),Tt=Te(64799);function _extends(){return(_extends=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(_e,be){if(null==_e)return{};var Te,Pe,pt={},vt=Object.keys(_e);for(Pe=0;Pe<vt.length;Pe++)Te=vt[Pe],be.indexOf(Te)>=0||(pt[Te]=_e[Te]);return pt}var It=function TextRenderer(_e){var be,Te=_e.classes,pt=_e.semantic,vt=_e.size,Tt=_e.color,It=_e.underlined,Mt=_e.children,Lt=_objectWithoutPropertiesLoose(_e,["classes","semantic","size","color","underlined","children"]),Ft=pt||"span",Ot=(0,xt.Z)(Te.text,Te[vt+"Size"],Te[Tt+"Color"],((be={})[Te[Ft]]=!!pt,be[Te.isUnderlined]=It,be));return Pe.createElement(Ft,_extends({},Lt,{className:Ot}),Mt)};It.propTypes={classes:vt().objectOf(vt().string.isRequired).isRequired,semantic:vt().oneOf(["em","strong"]),size:vt().oneOf(["inherit","small","base","text"]),color:vt().oneOf(["base","light"]),underlined:vt().bool,children:vt().node.isRequired},It.defaultProps={size:"inherit",color:"base",underlined:!1};var Mt=(0,Tt.Z)((function styles(_e){var be=_e.fontFamily,Te=_e.fontSize,Pe=_e.color;return{text:{fontFamily:be.base},inheritSize:{fontSize:"inherit"},smallSize:{fontSize:Te.small},baseSize:{fontSize:Te.base},textSize:{fontSize:Te.text},baseColor:{color:Pe.base},lightColor:{color:Pe.light},em:{fontStyle:"italic"},strong:{fontWeight:"bold"},isUnderlined:{borderBottom:[[1,"dotted",Pe.lightest]]}}}))(It)},18788:function(_e,be,Te){"use strict";Te.d(be,{Z:function(){return Jr}});Te(19601);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}var Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},pt="object"===("undefined"==typeof window?"undefined":Pe(window))&&"object"===("undefined"==typeof document?"undefined":Pe(document))&&9===document.nodeType;function _defineProperties(_e,be){for(var Te=0;Te<be.length;Te++){var Pe=be[Te];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(_e,Pe.key,Pe)}}function createClass_createClass(_e,be,Te){return be&&_defineProperties(_e.prototype,be),Te&&_defineProperties(_e,Te),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _setPrototypeOf(_e,be){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(_e,be){return _e.__proto__=be,_e})(_e,be)}function _inheritsLoose(_e,be){_e.prototype=Object.create(be.prototype),_e.prototype.constructor=_e,_setPrototypeOf(_e,be)}function _assertThisInitialized(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _objectWithoutPropertiesLoose(_e,be){if(null==_e)return{};var Te,Pe,pt={},vt=Object.keys(_e);for(Pe=0;Pe<vt.length;Pe++)Te=vt[Pe],be.indexOf(Te)>=0||(pt[Te]=_e[Te]);return pt}var vt={}.constructor;function cloneStyle(_e){if(null==_e||"object"!=typeof _e)return _e;if(Array.isArray(_e))return _e.map(cloneStyle);if(_e.constructor!==vt)return _e;var be={};for(var Te in _e)be[Te]=cloneStyle(_e[Te]);return be}function createRule(_e,be,Te){void 0===_e&&(_e="unnamed");var Pe=Te.jss,pt=cloneStyle(be),vt=Pe.plugins.onCreateRule(_e,pt,Te);return vt||(_e[0],null)}var xt=function join(_e,be){for(var Te="",Pe=0;Pe<_e.length&&"!important"!==_e[Pe];Pe++)Te&&(Te+=be),Te+=_e[Pe];return Te},Tt=function toCssValue(_e,be){if(void 0===be&&(be=!1),!Array.isArray(_e))return _e;var Te="";if(Array.isArray(_e[0]))for(var Pe=0;Pe<_e.length&&"!important"!==_e[Pe];Pe++)Te&&(Te+=", "),Te+=xt(_e[Pe]," ");else Te=xt(_e,", ");return be||"!important"!==_e[_e.length-1]||(Te+=" !important"),Te};function indentStr(_e,be){for(var Te="",Pe=0;Pe<be;Pe++)Te+="  ";return Te+_e}function toCss(_e,be,Te){void 0===Te&&(Te={});var Pe="";if(!be)return Pe;var pt=Te.indent,vt=void 0===pt?0:pt,xt=be.fallbacks;if(_e&&vt++,xt)if(Array.isArray(xt))for(var It=0;It<xt.length;It++){var Mt=xt[It];for(var Lt in Mt){var Ft=Mt[Lt];null!=Ft&&(Pe&&(Pe+="\n"),Pe+=""+indentStr(Lt+": "+Tt(Ft)+";",vt))}}else for(var Ot in xt){var Vt=xt[Ot];null!=Vt&&(Pe&&(Pe+="\n"),Pe+=""+indentStr(Ot+": "+Tt(Vt)+";",vt))}for(var qt in be){var Wt=be[qt];null!=Wt&&"fallbacks"!==qt&&(Pe&&(Pe+="\n"),Pe+=""+indentStr(qt+": "+Tt(Wt)+";",vt))}return(Pe||Te.allowEmpty)&&_e?(Pe&&(Pe="\n"+Pe+"\n"),indentStr(_e+" {"+Pe,--vt)+indentStr("}",vt)):Pe}var It=/([[\].#*$><+~=|^:(),"'`\s])/g,Mt="undefined"!=typeof CSS&&CSS.escape,jss_esm_escape=function(_e){return Mt?Mt(_e):_e.replace(It,"\\$1")},Lt=function(){function BaseStyleRule(_e,be,Te){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var Pe=Te.sheet,pt=Te.Renderer;this.key=_e,this.options=Te,this.style=be,Pe?this.renderer=Pe.renderer:pt&&(this.renderer=new pt)}return BaseStyleRule.prototype.prop=function prop(_e,be,Te){if(void 0===be)return this.style[_e];var Pe=!!Te&&Te.force;if(!Pe&&this.style[_e]===be)return this;var pt=be;Te&&!1===Te.process||(pt=this.options.jss.plugins.onChangeValue(be,_e,this));var vt=null==pt||!1===pt,xt=_e in this.style;if(vt&&!xt&&!Pe)return this;var Tt=vt&&xt;if(Tt?delete this.style[_e]:this.style[_e]=pt,this.renderable&&this.renderer)return Tt?this.renderer.removeProperty(this.renderable,_e):this.renderer.setProperty(this.renderable,_e,pt),this;var It=this.options.sheet;return It&&It.attached,this},BaseStyleRule}(),Ft=function(_e){function StyleRule(be,Te,Pe){var pt;(pt=_e.call(this,be,Te,Pe)||this).selectorText=void 0,pt.id=void 0,pt.renderable=void 0;var vt=Pe.selector,xt=Pe.scoped,Tt=Pe.sheet,It=Pe.generateId;return vt?pt.selectorText=vt:!1!==xt&&(pt.id=It(_assertThisInitialized(_assertThisInitialized(pt)),Tt),pt.selectorText="."+jss_esm_escape(pt.id)),pt}_inheritsLoose(StyleRule,_e);var be=StyleRule.prototype;return be.applyTo=function applyTo(_e){var be=this.renderer;if(be){var Te=this.toJSON();for(var Pe in Te)be.setProperty(_e,Pe,Te[Pe])}return this},be.toJSON=function toJSON(){var _e={};for(var be in this.style){var Te=this.style[be];"object"!=typeof Te?_e[be]=Te:Array.isArray(Te)&&(_e[be]=Tt(Te))}return _e},be.toString=function toString(_e){var be=this.options.sheet,Te=!!be&&be.options.link?_extends({},_e,{allowEmpty:!0}):_e;return toCss(this.selectorText,this.style,Te)},createClass_createClass(StyleRule,[{key:"selector",set:function set(_e){if(_e!==this.selectorText){this.selectorText=_e;var be=this.renderer,Te=this.renderable;if(Te&&be)be.setSelector(Te,_e)||be.replaceRule(Te,this)}},get:function get(){return this.selectorText}}]),StyleRule}(Lt),Ot={onCreateRule:function onCreateRule(_e,be,Te){return"@"===_e[0]||Te.parent&&"keyframes"===Te.parent.type?null:new Ft(_e,be,Te)}},Vt={indent:1,children:!0},qt=/@([\w-]+)/,Wt=function(){function ConditionalRule(_e,be,Te){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=_e;var Pe=_e.match(qt);for(var pt in this.at=Pe?Pe[1]:"unknown",this.query=Te.name||"@"+this.at,this.options=Te,this.rules=new ua(_extends({},Te,{parent:this})),be)this.rules.add(pt,be[pt]);this.rules.process()}var _e=ConditionalRule.prototype;return _e.getRule=function getRule(_e){return this.rules.get(_e)},_e.indexOf=function indexOf(_e){return this.rules.indexOf(_e)},_e.addRule=function addRule(_e,be,Te){var Pe=this.rules.add(_e,be,Te);return Pe?(this.options.jss.plugins.onProcessRule(Pe),Pe):null},_e.toString=function toString(_e){if(void 0===_e&&(_e=Vt),null==_e.indent&&(_e.indent=Vt.indent),null==_e.children&&(_e.children=Vt.children),!1===_e.children)return this.query+" {}";var be=this.rules.toString(_e);return be?this.query+" {\n"+be+"\n}":""},ConditionalRule}(),$t=/@media|@supports\s+/,Kt={onCreateRule:function onCreateRule(_e,be,Te){return $t.test(_e)?new Wt(_e,be,Te):null}},Jt={indent:1,children:!0},Yt=/@keyframes\s+([\w-]+)/,Qt=function(){function KeyframesRule(_e,be,Te){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var Pe=_e.match(Yt);Pe&&Pe[1]?this.name=Pe[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=Te;var pt=Te.scoped,vt=Te.sheet,xt=Te.generateId;for(var Tt in this.id=!1===pt?this.name:jss_esm_escape(xt(this,vt)),this.rules=new ua(_extends({},Te,{parent:this})),be)this.rules.add(Tt,be[Tt],_extends({},Te,{parent:this}));this.rules.process()}return KeyframesRule.prototype.toString=function toString(_e){if(void 0===_e&&(_e=Jt),null==_e.indent&&(_e.indent=Jt.indent),null==_e.children&&(_e.children=Jt.children),!1===_e.children)return this.at+" "+this.id+" {}";var be=this.rules.toString(_e);return be&&(be="\n"+be+"\n"),this.at+" "+this.id+" {"+be+"}"},KeyframesRule}(),an=/@keyframes\s+/,cn=/\$([\w-]+)/g,hn=function findReferencedKeyframe(_e,be){return"string"==typeof _e?_e.replace(cn,(function(_e,Te){return Te in be?be[Te]:_e})):_e},pn=function replaceRef(_e,be,Te){var Pe=_e[be],pt=hn(Pe,Te);pt!==Pe&&(_e[be]=pt)},xn={onCreateRule:function onCreateRule(_e,be,Te){return"string"==typeof _e&&an.test(_e)?new Qt(_e,be,Te):null},onProcessStyle:function onProcessStyle(_e,be,Te){return"style"===be.type&&Te?("animation-name"in _e&&pn(_e,"animation-name",Te.keyframes),"animation"in _e&&pn(_e,"animation",Te.keyframes),_e):_e},onChangeValue:function onChangeValue(_e,be,Te){var Pe=Te.options.sheet;if(!Pe)return _e;switch(be){case"animation":case"animation-name":return hn(_e,Pe.keyframes);default:return _e}}},Pn=function(_e){function KeyframeRule(){for(var be,Te=arguments.length,Pe=new Array(Te),pt=0;pt<Te;pt++)Pe[pt]=arguments[pt];return(be=_e.call.apply(_e,[this].concat(Pe))||this).renderable=void 0,be}return _inheritsLoose(KeyframeRule,_e),KeyframeRule.prototype.toString=function toString(_e){var be=this.options.sheet,Te=!!be&&be.options.link?_extends({},_e,{allowEmpty:!0}):_e;return toCss(this.key,this.style,Te)},KeyframeRule}(Lt),Ln={onCreateRule:function onCreateRule(_e,be,Te){return Te.parent&&"keyframes"===Te.parent.type?new Pn(_e,be,Te):null}},Fn=function(){function FontFaceRule(_e,be,Te){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=_e,this.style=be,this.options=Te}return FontFaceRule.prototype.toString=function toString(_e){if(Array.isArray(this.style)){for(var be="",Te=0;Te<this.style.length;Te++)be+=toCss(this.at,this.style[Te]),this.style[Te+1]&&(be+="\n");return be}return toCss(this.at,this.style,_e)},FontFaceRule}(),jn=/@font-face/,$n={onCreateRule:function onCreateRule(_e,be,Te){return jn.test(_e)?new Fn(_e,be,Te):null}},ea=function(){function ViewportRule(_e,be,Te){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=_e,this.style=be,this.options=Te}return ViewportRule.prototype.toString=function toString(_e){return toCss(this.key,this.style,_e)},ViewportRule}(),na={onCreateRule:function onCreateRule(_e,be,Te){return"@viewport"===_e||"@-ms-viewport"===_e?new ea(_e,be,Te):null}},aa=function(){function SimpleRule(_e,be,Te){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=_e,this.value=be,this.options=Te}return SimpleRule.prototype.toString=function toString(_e){if(Array.isArray(this.value)){for(var be="",Te=0;Te<this.value.length;Te++)be+=this.key+" "+this.value[Te]+";",this.value[Te+1]&&(be+="\n");return be}return this.key+" "+this.value+";"},SimpleRule}(),ra={"@charset":!0,"@import":!0,"@namespace":!0},ia=[Ot,Kt,xn,Ln,$n,na,{onCreateRule:function onCreateRule(_e,be,Te){return _e in ra?new aa(_e,be,Te):null}}],da={process:!0},la={force:!0,process:!0},ua=function(){function RuleList(_e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=_e,this.classes=_e.classes,this.keyframes=_e.keyframes}var _e=RuleList.prototype;return _e.add=function add(_e,be,Te){var Pe=this.options,pt=Pe.parent,vt=Pe.sheet,xt=Pe.jss,Tt=Pe.Renderer,It=Pe.generateId,Mt=Pe.scoped,Lt=_extends({classes:this.classes,parent:pt,sheet:vt,jss:xt,Renderer:Tt,generateId:It,scoped:Mt,name:_e,keyframes:this.keyframes,selector:void 0},Te),Ft=_e;_e in this.raw&&(Ft=_e+"-d"+this.counter++),this.raw[Ft]=be,Ft in this.classes&&(Lt.selector="."+jss_esm_escape(this.classes[Ft]));var Ot=createRule(Ft,be,Lt);if(!Ot)return null;this.register(Ot);var Vt=void 0===Lt.index?this.index.length:Lt.index;return this.index.splice(Vt,0,Ot),Ot},_e.get=function get(_e){return this.map[_e]},_e.remove=function remove(_e){this.unregister(_e),delete this.raw[_e.key],this.index.splice(this.index.indexOf(_e),1)},_e.indexOf=function indexOf(_e){return this.index.indexOf(_e)},_e.process=function process(){var _e=this.options.jss.plugins;this.index.slice(0).forEach(_e.onProcessRule,_e)},_e.register=function register(_e){this.map[_e.key]=_e,_e instanceof Ft?(this.map[_e.selector]=_e,_e.id&&(this.classes[_e.key]=_e.id)):_e instanceof Qt&&this.keyframes&&(this.keyframes[_e.name]=_e.id)},_e.unregister=function unregister(_e){delete this.map[_e.key],_e instanceof Ft?(delete this.map[_e.selector],delete this.classes[_e.key]):_e instanceof Qt&&delete this.keyframes[_e.name]},_e.update=function update(){var _e,be,Te;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(_e=arguments.length<=0?void 0:arguments[0],be=arguments.length<=1?void 0:arguments[1],Te=arguments.length<=2?void 0:arguments[2]):(be=arguments.length<=0?void 0:arguments[0],Te=arguments.length<=1?void 0:arguments[1],_e=null),_e)this.updateOne(this.map[_e],be,Te);else for(var Pe=0;Pe<this.index.length;Pe++)this.updateOne(this.index[Pe],be,Te)},_e.updateOne=function updateOne(_e,be,Te){void 0===Te&&(Te=da);var Pe=this.options,pt=Pe.jss.plugins,vt=Pe.sheet;if(_e.rules instanceof RuleList)_e.rules.update(be,Te);else{var xt=_e,Tt=xt.style;if(pt.onUpdate(be,_e,vt,Te),Te.process&&Tt&&Tt!==xt.style){for(var It in pt.onProcessStyle(xt.style,xt,vt),xt.style){var Mt=xt.style[It];Mt!==Tt[It]&&xt.prop(It,Mt,la)}for(var Lt in Tt){var Ft=xt.style[Lt],Ot=Tt[Lt];null==Ft&&Ft!==Ot&&xt.prop(Lt,null,la)}}}},_e.toString=function toString(_e){for(var be="",Te=this.options.sheet,Pe=!!Te&&Te.options.link,pt=0;pt<this.index.length;pt++){var vt=this.index[pt].toString(_e);(vt||Pe)&&(be&&(be+="\n"),be+=vt)}return be},RuleList}(),ca=function(){function StyleSheet(_e,be){for(var Te in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=_extends({},be,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),be.Renderer&&(this.renderer=new be.Renderer(this)),this.rules=new ua(this.options),_e)this.rules.add(Te,_e[Te]);this.rules.process()}var _e=StyleSheet.prototype;return _e.attach=function attach(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},_e.detach=function detach(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},_e.addRule=function addRule(_e,be,Te){var Pe=this.queue;this.attached&&!Pe&&(this.queue=[]);var pt=this.rules.add(_e,be,Te);return pt?(this.options.jss.plugins.onProcessRule(pt),this.attached?this.deployed?(Pe?Pe.push(pt):(this.insertRule(pt),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),pt):pt:(this.deployed=!1,pt)):null},_e.insertRule=function insertRule(_e){this.renderer&&this.renderer.insertRule(_e)},_e.addRules=function addRules(_e,be){var Te=[];for(var Pe in _e){var pt=this.addRule(Pe,_e[Pe],be);pt&&Te.push(pt)}return Te},_e.getRule=function getRule(_e){return this.rules.get(_e)},_e.deleteRule=function deleteRule(_e){var be="object"==typeof _e?_e:this.rules.get(_e);return!(!be||this.attached&&!be.renderable)&&(this.rules.remove(be),!(this.attached&&be.renderable&&this.renderer)||this.renderer.deleteRule(be.renderable))},_e.indexOf=function indexOf(_e){return this.rules.indexOf(_e)},_e.deploy=function deploy(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},_e.update=function update(){var _e;return(_e=this.rules).update.apply(_e,arguments),this},_e.updateOne=function updateOne(_e,be,Te){return this.rules.updateOne(_e,be,Te),this},_e.toString=function toString(_e){return this.rules.toString(_e)},StyleSheet}(),ga=function(){function PluginsRegistry(){this.plugins={internal:[],external:[]},this.registry=void 0}var _e=PluginsRegistry.prototype;return _e.onCreateRule=function onCreateRule(_e,be,Te){for(var Pe=0;Pe<this.registry.onCreateRule.length;Pe++){var pt=this.registry.onCreateRule[Pe](_e,be,Te);if(pt)return pt}return null},_e.onProcessRule=function onProcessRule(_e){if(!_e.isProcessed){for(var be=_e.options.sheet,Te=0;Te<this.registry.onProcessRule.length;Te++)this.registry.onProcessRule[Te](_e,be);_e.style&&this.onProcessStyle(_e.style,_e,be),_e.isProcessed=!0}},_e.onProcessStyle=function onProcessStyle(_e,be,Te){for(var Pe=0;Pe<this.registry.onProcessStyle.length;Pe++)be.style=this.registry.onProcessStyle[Pe](be.style,be,Te)},_e.onProcessSheet=function onProcessSheet(_e){for(var be=0;be<this.registry.onProcessSheet.length;be++)this.registry.onProcessSheet[be](_e)},_e.onUpdate=function onUpdate(_e,be,Te,Pe){for(var pt=0;pt<this.registry.onUpdate.length;pt++)this.registry.onUpdate[pt](_e,be,Te,Pe)},_e.onChangeValue=function onChangeValue(_e,be,Te){for(var Pe=_e,pt=0;pt<this.registry.onChangeValue.length;pt++)Pe=this.registry.onChangeValue[pt](Pe,be,Te);return Pe},_e.use=function use(_e,be){void 0===be&&(be={queue:"external"});var Te=this.plugins[be.queue];-1===Te.indexOf(_e)&&(Te.push(_e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(_e,be){for(var Te in be)Te in _e&&_e[Te].push(be[Te]);return _e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},PluginsRegistry}(),ma=new(function(){function SheetsRegistry(){this.registry=[]}var _e=SheetsRegistry.prototype;return _e.add=function add(_e){var be=this.registry,Te=_e.options.index;if(-1===be.indexOf(_e))if(0===be.length||Te>=this.index)be.push(_e);else for(var Pe=0;Pe<be.length;Pe++)if(be[Pe].options.index>Te)return void be.splice(Pe,0,_e)},_e.reset=function reset(){this.registry=[]},_e.remove=function remove(_e){var be=this.registry.indexOf(_e);this.registry.splice(be,1)},_e.toString=function toString(_e){for(var be=void 0===_e?{}:_e,Te=be.attached,Pe=_objectWithoutPropertiesLoose(be,["attached"]),pt="",vt=0;vt<this.registry.length;vt++){var xt=this.registry[vt];null!=Te&&xt.attached!==Te||(pt&&(pt+="\n"),pt+=xt.toString(Pe))}return pt},createClass_createClass(SheetsRegistry,[{key:"index",get:function get(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),SheetsRegistry}()),ya="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),_a="2f1acc6c3a606b082e5eef5e54414ffb";null==ya[_a]&&(ya[_a]=0);var va=ya[_a]++,xa=function createGenerateId(_e){void 0===_e&&(_e={});var be=0;return function(Te,Pe){be+=1;var pt="",vt="";return Pe&&(Pe.options.classNamePrefix&&(vt=Pe.options.classNamePrefix),null!=Pe.options.jss.id&&(pt=String(Pe.options.jss.id))),_e.minify?""+(vt||"c")+va+pt+be:vt+Te.key+"-"+va+(pt?"-"+pt:"")+"-"+be}},ba=function memoize(_e){var be;return function(){return be||(be=_e()),be}},wa=function getPropertyValue(_e,be){try{return _e.attributeStyleMap?_e.attributeStyleMap.get(be):_e.style.getPropertyValue(be)}catch(_e){return""}},Ea=function setProperty(_e,be,Te){try{var Pe=Te;if(Array.isArray(Te)&&(Pe=Tt(Te,!0),"!important"===Te[Te.length-1]))return _e.style.setProperty(be,Pe,"important"),!0;_e.attributeStyleMap?_e.attributeStyleMap.set(be,Pe):_e.style.setProperty(be,Pe)}catch(_e){return!1}return!0},Ca=function removeProperty(_e,be){try{_e.attributeStyleMap?_e.attributeStyleMap.delete(be):_e.style.removeProperty(be)}catch(_e){}},Aa=function setSelector(_e,be){return _e.selectorText=be,_e.selectorText===be},Da=ba((function(){return document.querySelector("head")}));function findHigherSheet(_e,be){for(var Te=0;Te<_e.length;Te++){var Pe=_e[Te];if(Pe.attached&&Pe.options.index>be.index&&Pe.options.insertionPoint===be.insertionPoint)return Pe}return null}function findHighestSheet(_e,be){for(var Te=_e.length-1;Te>=0;Te--){var Pe=_e[Te];if(Pe.attached&&Pe.options.insertionPoint===be.insertionPoint)return Pe}return null}function findCommentNode(_e){for(var be=Da(),Te=0;Te<be.childNodes.length;Te++){var Pe=be.childNodes[Te];if(8===Pe.nodeType&&Pe.nodeValue.trim()===_e)return Pe}return null}function findPrevNode(_e){var be=ma.registry;if(be.length>0){var Te=findHigherSheet(be,_e);if(Te&&Te.renderer)return{parent:Te.renderer.element.parentNode,node:Te.renderer.element};if((Te=findHighestSheet(be,_e))&&Te.renderer)return{parent:Te.renderer.element.parentNode,node:Te.renderer.element.nextSibling}}var Pe=_e.insertionPoint;if(Pe&&"string"==typeof Pe){var pt=findCommentNode(Pe);if(pt)return{parent:pt.parentNode,node:pt.nextSibling}}return!1}function insertStyle(_e,be){var Te=be.insertionPoint,Pe=findPrevNode(be);if(!1!==Pe&&Pe.parent)Pe.parent.insertBefore(_e,Pe.node);else if(Te&&"number"==typeof Te.nodeType){var pt=Te,vt=pt.parentNode;vt&&vt.insertBefore(_e,pt.nextSibling)}else Da().appendChild(_e)}var ka=ba((function(){var _e=document.querySelector('meta[property="csp-nonce"]');return _e?_e.getAttribute("content"):null})),Ia=function insertRule(_e,be,Te){try{if("insertRule"in _e)_e.insertRule(be,Te);else if("appendRule"in _e){_e.appendRule(be)}}catch(_e){return!1}return _e.cssRules[Te]},La=function getValidRuleInsertionIndex(_e,be){var Te=_e.cssRules.length;return void 0===be||be>Te?Te:be},Fa=function createStyle(){var _e=document.createElement("style");return _e.textContent="\n",_e},Ba=function(){function DomRenderer(_e){this.getPropertyValue=wa,this.setProperty=Ea,this.removeProperty=Ca,this.setSelector=Aa,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],_e&&ma.add(_e),this.sheet=_e;var be=this.sheet?this.sheet.options:{},Te=be.media,Pe=be.meta,pt=be.element;this.element=pt||Fa(),this.element.setAttribute("data-jss",""),Te&&this.element.setAttribute("media",Te),Pe&&this.element.setAttribute("data-meta",Pe);var vt=ka();vt&&this.element.setAttribute("nonce",vt)}var _e=DomRenderer.prototype;return _e.attach=function attach(){if(!this.element.parentNode&&this.sheet){insertStyle(this.element,this.sheet.options);var _e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&_e&&(this.hasInsertedRules=!1,this.deploy())}},_e.detach=function detach(){if(this.sheet){var _e=this.element.parentNode;_e&&_e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},_e.deploy=function deploy(){var _e=this.sheet;_e&&(_e.options.link?this.insertRules(_e.rules):this.element.textContent="\n"+_e.toString()+"\n")},_e.insertRules=function insertRules(_e,be){for(var Te=0;Te<_e.index.length;Te++)this.insertRule(_e.index[Te],Te,be)},_e.insertRule=function insertRule(_e,be,Te){if(void 0===Te&&(Te=this.element.sheet),_e.rules){var Pe=_e,pt=Te;if("conditional"===_e.type||"keyframes"===_e.type){var vt=La(Te,be);if(!1===(pt=Ia(Te,Pe.toString({children:!1}),vt)))return!1;this.refCssRule(_e,vt,pt)}return this.insertRules(Pe.rules,pt),pt}var xt=_e.toString();if(!xt)return!1;var Tt=La(Te,be),It=Ia(Te,xt,Tt);return!1!==It&&(this.hasInsertedRules=!0,this.refCssRule(_e,Tt,It),It)},_e.refCssRule=function refCssRule(_e,be,Te){_e.renderable=Te,_e.options.parent instanceof ca&&(this.cssRules[be]=Te)},_e.deleteRule=function deleteRule(_e){var be=this.element.sheet,Te=this.indexOf(_e);return-1!==Te&&(be.deleteRule(Te),this.cssRules.splice(Te,1),!0)},_e.indexOf=function indexOf(_e){return this.cssRules.indexOf(_e)},_e.replaceRule=function replaceRule(_e,be){var Te=this.indexOf(_e);return-1!==Te&&(this.element.sheet.deleteRule(Te),this.cssRules.splice(Te,1),this.insertRule(be,Te))},_e.getRules=function getRules(){return this.element.sheet.cssRules},DomRenderer}(),za=0,ja=function(){function Jss(_e){this.id=za++,this.version="10.6.0",this.plugins=new ga,this.options={id:{minify:!1},createGenerateId:xa,Renderer:pt?Ba:null,plugins:[]},this.generateId=xa({minify:!1});for(var be=0;be<ia.length;be++)this.plugins.use(ia[be],{queue:"internal"});this.setup(_e)}var _e=Jss.prototype;return _e.setup=function setup(_e){return void 0===_e&&(_e={}),_e.createGenerateId&&(this.options.createGenerateId=_e.createGenerateId),_e.id&&(this.options.id=_extends({},this.options.id,_e.id)),(_e.createGenerateId||_e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=_e.insertionPoint&&(this.options.insertionPoint=_e.insertionPoint),"Renderer"in _e&&(this.options.Renderer=_e.Renderer),_e.plugins&&this.use.apply(this,_e.plugins),this},_e.createStyleSheet=function createStyleSheet(_e,be){void 0===be&&(be={});var Te=be.index;"number"!=typeof Te&&(Te=0===ma.index?0:ma.index+1);var Pe=new ca(_e,_extends({},be,{jss:this,generateId:be.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:Te}));return this.plugins.onProcessSheet(Pe),Pe},_e.removeStyleSheet=function removeStyleSheet(_e){return _e.detach(),ma.remove(_e),this},_e.createRule=function createRule$1(_e,be,Te){if(void 0===be&&(be={}),void 0===Te&&(Te={}),"object"==typeof _e)return this.createRule(void 0,_e,be);var Pe=_extends({},Te,{name:_e,jss:this,Renderer:this.options.Renderer});Pe.generateId||(Pe.generateId=this.generateId),Pe.classes||(Pe.classes={}),Pe.keyframes||(Pe.keyframes={});var pt=createRule(_e,be,Pe);return pt&&this.plugins.onProcessRule(pt),pt},_e.use=function use(){for(var _e=this,be=arguments.length,Te=new Array(be),Pe=0;Pe<be;Pe++)Te[Pe]=arguments[Pe];return Te.forEach((function(be){_e.plugins.use(be)})),this},Jss}();var Na="object"==typeof CSS&&null!=CSS&&"number"in CSS,Ga=function create(_e){return new ja(_e)},Ha=(Ga(),"@global"),$a="@global ",Ja=function(){function GlobalContainerRule(_e,be,Te){for(var Pe in this.type="global",this.at=Ha,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=_e,this.options=Te,this.rules=new ua(_extends({},Te,{parent:this})),be)this.rules.add(Pe,be[Pe]);this.rules.process()}var _e=GlobalContainerRule.prototype;return _e.getRule=function getRule(_e){return this.rules.get(_e)},_e.addRule=function addRule(_e,be,Te){var Pe=this.rules.add(_e,be,Te);return Pe&&this.options.jss.plugins.onProcessRule(Pe),Pe},_e.indexOf=function indexOf(_e){return this.rules.indexOf(_e)},_e.toString=function toString(){return this.rules.toString()},GlobalContainerRule}(),sr=function(){function GlobalPrefixedRule(_e,be,Te){this.type="global",this.at=Ha,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=_e,this.options=Te;var Pe=_e.substr($a.length);this.rule=Te.jss.createRule(Pe,be,_extends({},Te,{parent:this}))}return GlobalPrefixedRule.prototype.toString=function toString(_e){return this.rule?this.rule.toString(_e):""},GlobalPrefixedRule}(),ur=/\s*,\s*/g;function addScope(_e,be){for(var Te=_e.split(ur),Pe="",pt=0;pt<Te.length;pt++)Pe+=be+" "+Te[pt].trim(),Te[pt+1]&&(Pe+=", ");return Pe}function handleNestedGlobalContainerRule(_e,be){var Te=_e.options,Pe=_e.style,pt=Pe?Pe[Ha]:null;if(pt){for(var vt in pt)be.addRule(vt,pt[vt],_extends({},Te,{selector:addScope(vt,_e.selector)}));delete Pe[Ha]}}function handlePrefixedGlobalRule(_e,be){var Te=_e.options,Pe=_e.style;for(var pt in Pe)if("@"===pt[0]&&pt.substr(0,Ha.length)===Ha){var vt=addScope(pt.substr(Ha.length),_e.selector);be.addRule(vt,Pe[pt],_extends({},Te,{selector:vt})),delete Pe[pt]}}var cr=function jssGlobal(){return{onCreateRule:function onCreateRule(_e,be,Te){if(!_e)return null;if(_e===Ha)return new Ja(_e,be,Te);if("@"===_e[0]&&_e.substr(0,$a.length)===$a)return new sr(_e,be,Te);var Pe=Te.parent;return Pe&&("global"===Pe.type||Pe.options.parent&&"global"===Pe.options.parent.type)&&(Te.scoped=!1),!1===Te.scoped&&(Te.selector=_e),null},onProcessRule:function onProcessRule(_e,be){"style"===_e.type&&be&&(handleNestedGlobalContainerRule(_e,be),handlePrefixedGlobalRule(_e,be))}}},pr={azimuth:"center","border-collapse":"separate","border-spacing":"0","caption-side":"top","caret-color":"auto",color:"initial",cursor:"auto","empty-cells":"show","font-family":"initial","font-feature-settings":"normal","font-kerning":"auto","font-language-override":"normal","font-size":"medium","font-size-adjust":"none","font-stretch":"normal","font-style":"normal","font-synthesis":"weight style","font-variant":"normal","font-variant-alternates":"normal","font-variant-caps":"normal","font-variant-east-asian":"normal","font-variant-ligatures":"normal","font-variant-numeric":"normal","font-variant-position":"normal","font-weight":"normal",hyphens:"manual","image-orientation":"0deg","image-rendering":"auto","image-resolution":"1dppx","letter-spacing":"normal","line-height":"normal","list-style-image":"none","list-style-position":"outside","list-style-type":"disc","object-position":"50% 50%",orphans:"2","overflow-wrap":"normal","pointer-events":"auto",quotes:"initial","ruby-align":"space-around","ruby-merge":"separate","ruby-position":"over","tab-size":"8","text-align":"initial","text-align-last":"auto","text-combine-upright":"none","text-indent":"0","text-justify":"auto","text-orientation":"mixed","text-rendering":"auto","text-shadow":"none","text-transform":"none","text-underline-position":"auto",visibility:"visible","white-space":"normal",widows:"2","word-break":"normal","word-spacing":"normal","word-wrap":"normal","writing-mode":"horizontal-tb","-webkit-appearance":"none","-moz-appearance":"none","-ms-appearance":"none",appearance:"none"},mr={meta:"jss-plugin-isolate",index:-1/0,link:!0},yr={inherited:pr,all:{"align-content":"stretch","align-items":"stretch","align-self":"auto","animation-delay":"0s","animation-direction":"normal","animation-duration":"0s","animation-fill-mode":"none","animation-iteration-count":"1","animation-name":"none","animation-play-state":"running","animation-timing-function":"ease",azimuth:"center","backface-visibility":"visible","background-attachment":"scroll","background-blend-mode":"normal","background-clip":"border-box","background-color":"transparent","background-image":"none","background-origin":"padding-box","background-position":"0% 0%","background-repeat":"repeat","background-size":"auto auto","block-size":"auto","border-block-end-color":"currentcolor","border-block-end-style":"none","border-block-end-width":"medium","border-block-start-color":"currentcolor","border-block-start-style":"none","border-block-start-width":"medium","border-bottom-color":"currentcolor","border-bottom-left-radius":"0","border-bottom-right-radius":"0","border-bottom-style":"none","border-bottom-width":"medium","border-collapse":"separate","border-image-outset":"0s","border-image-repeat":"stretch","border-image-slice":"100%","border-image-source":"none","border-image-width":"1","border-inline-end-color":"currentcolor","border-inline-end-style":"none","border-inline-end-width":"medium","border-inline-start-color":"currentcolor","border-inline-start-style":"none","border-inline-start-width":"medium","border-left-color":"currentcolor","border-left-style":"none","border-left-width":"medium","border-right-color":"currentcolor","border-right-style":"none","border-right-width":"medium","border-spacing":"0","border-top-color":"currentcolor","border-top-left-radius":"0","border-top-right-radius":"0","border-top-style":"none","border-top-width":"medium",bottom:"auto","box-decoration-break":"slice","box-shadow":"none","box-sizing":"content-box","break-after":"auto","break-before":"auto","break-inside":"auto","caption-side":"top","caret-color":"auto",clear:"none",clip:"auto","clip-path":"none",color:"initial","column-count":"auto","column-fill":"balance","column-gap":"normal","column-rule-color":"currentcolor","column-rule-style":"none","column-rule-width":"medium","column-span":"none","column-width":"auto",content:"normal","counter-increment":"none","counter-reset":"none",cursor:"auto",display:"inline","empty-cells":"show",filter:"none","flex-basis":"auto","flex-direction":"row","flex-grow":"0","flex-shrink":"1","flex-wrap":"nowrap",float:"none","font-family":"initial","font-feature-settings":"normal","font-kerning":"auto","font-language-override":"normal","font-size":"medium","font-size-adjust":"none","font-stretch":"normal","font-style":"normal","font-synthesis":"weight style","font-variant":"normal","font-variant-alternates":"normal","font-variant-caps":"normal","font-variant-east-asian":"normal","font-variant-ligatures":"normal","font-variant-numeric":"normal","font-variant-position":"normal","font-weight":"normal","grid-auto-columns":"auto","grid-auto-flow":"row","grid-auto-rows":"auto","grid-column-end":"auto","grid-column-gap":"0","grid-column-start":"auto","grid-row-end":"auto","grid-row-gap":"0","grid-row-start":"auto","grid-template-areas":"none","grid-template-columns":"none","grid-template-rows":"none",height:"auto",hyphens:"manual","image-orientation":"0deg","image-rendering":"auto","image-resolution":"1dppx","ime-mode":"auto","inline-size":"auto",isolation:"auto","justify-content":"flex-start",left:"auto","letter-spacing":"normal","line-break":"auto","line-height":"normal","list-style-image":"none","list-style-position":"outside","list-style-type":"disc","margin-block-end":"0","margin-block-start":"0","margin-bottom":"0","margin-inline-end":"0","margin-inline-start":"0","margin-left":"0","margin-right":"0","margin-top":"0","mask-clip":"border-box","mask-composite":"add","mask-image":"none","mask-mode":"match-source","mask-origin":"border-box","mask-position":"0% 0%","mask-repeat":"repeat","mask-size":"auto","mask-type":"luminance","max-height":"none","max-width":"none","min-block-size":"0","min-height":"0","min-inline-size":"0","min-width":"0","mix-blend-mode":"normal","object-fit":"fill","object-position":"50% 50%","offset-block-end":"auto","offset-block-start":"auto","offset-inline-end":"auto","offset-inline-start":"auto",opacity:"1.0",order:"0",orphans:"2","outline-color":"initial","outline-offset":"0","outline-style":"none","outline-width":"medium",overflow:"visible","overflow-wrap":"normal","overflow-x":"visible","overflow-y":"visible","padding-block-end":"0","padding-block-start":"0","padding-bottom":"0","padding-inline-end":"0","padding-inline-start":"0","padding-left":"0","padding-right":"0","padding-top":"0","page-break-after":"auto","page-break-before":"auto","page-break-inside":"auto",perspective:"none","perspective-origin":"50% 50%","pointer-events":"auto",position:"static",quotes:"initial",resize:"none",right:"auto","ruby-align":"space-around","ruby-merge":"separate","ruby-position":"over","scroll-behavior":"auto","scroll-snap-coordinate":"none","scroll-snap-destination":"0px 0px","scroll-snap-points-x":"none","scroll-snap-points-y":"none","scroll-snap-type":"none","shape-image-threshold":"0.0","shape-margin":"0","shape-outside":"none","tab-size":"8","table-layout":"auto","text-align":"initial","text-align-last":"auto","text-combine-upright":"none","text-decoration-color":"currentcolor","text-decoration-line":"none","text-decoration-style":"solid","text-emphasis-color":"currentcolor","text-emphasis-position":"over right","text-emphasis-style":"none","text-indent":"0","text-justify":"auto","text-orientation":"mixed","text-overflow":"clip","text-rendering":"auto","text-shadow":"none","text-transform":"none","text-underline-position":"auto",top:"auto","touch-action":"auto",transform:"none","transform-box":"border-box ","transform-origin":"50% 50% 0","transform-style":"flat","transition-delay":"0s","transition-duration":"0s","transition-property":"all","transition-timing-function":"ease","vertical-align":"baseline",visibility:"visible","white-space":"normal",widows:"2",width:"auto","will-change":"auto","word-break":"normal","word-spacing":"normal","word-wrap":"normal","writing-mode":"horizontal-tb","z-index":"auto","-webkit-appearance":"none","-moz-appearance":"none","-ms-appearance":"none",appearance:"none"}},_r=function getStyle(_e){if(void 0===_e&&(_e="inherited"),"string"==typeof _e)return yr[_e];if("object"==typeof _e){if(Array.isArray(_e)){var be=_e[0],Te=_e[1];return _extends({},yr[be],Te)}return _extends({},pr,_e)}return pr},vr=function shouldIsolate(_e,be,Te){var Pe=_e.options.parent;if(Pe&&("keyframes"===Pe.type||"conditional"===Pe.type))return!1;var pt=null==Te.isolate||Te.isolate;return null!=be.options.isolate&&(pt=be.options.isolate),null!=_e.style.isolate&&(pt=_e.style.isolate,delete _e.style.isolate),"string"==typeof pt?pt===_e.key:pt},Rr=function createDebounced(_e,be){void 0===be&&(be=3);var Te=Date.now();return function(){var Pe=Date.now();return!(Pe-Te<be)&&(Te=Pe,_e(),!0)}};var xr=function jssIsolate(_e){void 0===_e&&(_e={});var be,Te,Pe=!1,pt=[],vt=function setSelector(){Te.selector=pt.join(",\n")},xt=Rr(vt);return{onProcessRule:function onProcessRule(vt,Tt){if(Tt&&Tt!==be&&"style"===vt.type){var It=vt;if(vr(It,Tt,_e)){Te||(be=vt.options.jss.createStyleSheet({},mr),Te=be.addRule("reset",_r(_e.reset)),be.attach());var Mt=It.selector;-1===pt.indexOf(Mt)&&(pt.push(Mt),Pe=xt())}}},onProcessSheet:function onProcessSheet(){!Pe&&pt.length&&vt()}}},Sr=/\s*,\s*/g,Ar=/&/g,kr=/\$([\w-]+)/g;var Pr=function jssNested(){function getReplaceRef(_e,be){return function(Te,Pe){var pt=_e.getRule(Pe)||be&&be.getRule(Pe);return pt?(pt=pt).selector:Pe}}function replaceParentRefs(_e,be){for(var Te=be.split(Sr),Pe=_e.split(Sr),pt="",vt=0;vt<Te.length;vt++)for(var xt=Te[vt],Tt=0;Tt<Pe.length;Tt++){var It=Pe[Tt];pt&&(pt+=", "),pt+=-1!==It.indexOf("&")?It.replace(Ar,xt):xt+" "+It}return pt}function getOptions(_e,be,Te){if(Te)return _extends({},Te,{index:Te.index+1});var Pe=_e.options.nestingLevel;Pe=void 0===Pe?1:Pe+1;var pt=_extends({},_e.options,{nestingLevel:Pe,index:be.indexOf(_e)+1});return delete pt.name,pt}return{onProcessStyle:function onProcessStyle(_e,be,Te){if("style"!==be.type)return _e;var Pe,pt,vt=be,xt=vt.options.parent;for(var Tt in _e){var It=-1!==Tt.indexOf("&"),Mt="@"===Tt[0];if(It||Mt){if(Pe=getOptions(vt,xt,Pe),It){var Lt=replaceParentRefs(Tt,vt.selector);pt||(pt=getReplaceRef(xt,Te)),Lt=Lt.replace(kr,pt),xt.addRule(Lt,_e[Tt],_extends({},Pe,{selector:Lt}))}else Mt&&xt.addRule(Tt,{},Pe).addRule(vt.key,_e[Tt],{selector:vt.selector});delete _e[Tt]}}return _e}}},Fr=/[A-Z]/g,Or=/^ms-/,Nr={};function toHyphenLower(_e){return"-"+_e.toLowerCase()}var Vr=function hyphenateStyleName(_e){if(Nr.hasOwnProperty(_e))return Nr[_e];var be=_e.replace(Fr,toHyphenLower);return Nr[_e]=Or.test(be)?"-"+be:be};function convertCase(_e){var be={};for(var Te in _e){be[0===Te.indexOf("--")?Te:Vr(Te)]=_e[Te]}return _e.fallbacks&&(Array.isArray(_e.fallbacks)?be.fallbacks=_e.fallbacks.map(convertCase):be.fallbacks=convertCase(_e.fallbacks)),be}var Gr=function camelCase(){return{onProcessStyle:function onProcessStyle(_e){if(Array.isArray(_e)){for(var be=0;be<_e.length;be++)_e[be]=convertCase(_e[be]);return _e}return convertCase(_e)},onChangeValue:function onChangeValue(_e,be,Te){if(0===be.indexOf("--"))return _e;var Pe=Vr(be);return be===Pe?_e:(Te.prop(Pe,_e),null)}}},Zr=Na&&CSS?CSS.px:"px",qr=Na&&CSS?CSS.ms:"ms",Wr=Na&&CSS?CSS.percent:"%";function addCamelCasedVersion(_e){var be=/(-[a-z])/g,Te=function replace(_e){return _e[1].toUpperCase()},Pe={};for(var pt in _e)Pe[pt]=_e[pt],Pe[pt.replace(be,Te)]=_e[pt];return Pe}var $r=addCamelCasedVersion({"animation-delay":qr,"animation-duration":qr,"background-position":Zr,"background-position-x":Zr,"background-position-y":Zr,"background-size":Zr,border:Zr,"border-bottom":Zr,"border-bottom-left-radius":Zr,"border-bottom-right-radius":Zr,"border-bottom-width":Zr,"border-left":Zr,"border-left-width":Zr,"border-radius":Zr,"border-right":Zr,"border-right-width":Zr,"border-top":Zr,"border-top-left-radius":Zr,"border-top-right-radius":Zr,"border-top-width":Zr,"border-width":Zr,"border-block":Zr,"border-block-end":Zr,"border-block-end-width":Zr,"border-block-start":Zr,"border-block-start-width":Zr,"border-block-width":Zr,"border-inline":Zr,"border-inline-end":Zr,"border-inline-end-width":Zr,"border-inline-start":Zr,"border-inline-start-width":Zr,"border-inline-width":Zr,"border-start-start-radius":Zr,"border-start-end-radius":Zr,"border-end-start-radius":Zr,"border-end-end-radius":Zr,margin:Zr,"margin-bottom":Zr,"margin-left":Zr,"margin-right":Zr,"margin-top":Zr,"margin-block":Zr,"margin-block-end":Zr,"margin-block-start":Zr,"margin-inline":Zr,"margin-inline-end":Zr,"margin-inline-start":Zr,padding:Zr,"padding-bottom":Zr,"padding-left":Zr,"padding-right":Zr,"padding-top":Zr,"padding-block":Zr,"padding-block-end":Zr,"padding-block-start":Zr,"padding-inline":Zr,"padding-inline-end":Zr,"padding-inline-start":Zr,"mask-position-x":Zr,"mask-position-y":Zr,"mask-size":Zr,height:Zr,width:Zr,"min-height":Zr,"max-height":Zr,"min-width":Zr,"max-width":Zr,bottom:Zr,left:Zr,top:Zr,right:Zr,inset:Zr,"inset-block":Zr,"inset-block-end":Zr,"inset-block-start":Zr,"inset-inline":Zr,"inset-inline-end":Zr,"inset-inline-start":Zr,"box-shadow":Zr,"text-shadow":Zr,"column-gap":Zr,"column-rule":Zr,"column-rule-width":Zr,"column-width":Zr,"font-size":Zr,"font-size-delta":Zr,"letter-spacing":Zr,"text-decoration-thickness":Zr,"text-indent":Zr,"text-stroke":Zr,"text-stroke-width":Zr,"word-spacing":Zr,motion:Zr,"motion-offset":Zr,outline:Zr,"outline-offset":Zr,"outline-width":Zr,perspective:Zr,"perspective-origin-x":Wr,"perspective-origin-y":Wr,"transform-origin":Wr,"transform-origin-x":Wr,"transform-origin-y":Wr,"transform-origin-z":Wr,"transition-delay":qr,"transition-duration":qr,"vertical-align":Zr,"flex-basis":Zr,"shape-margin":Zr,size:Zr,gap:Zr,grid:Zr,"grid-gap":Zr,"row-gap":Zr,"grid-row-gap":Zr,"grid-column-gap":Zr,"grid-template-rows":Zr,"grid-template-columns":Zr,"grid-auto-rows":Zr,"grid-auto-columns":Zr,"box-shadow-x":Zr,"box-shadow-y":Zr,"box-shadow-blur":Zr,"box-shadow-spread":Zr,"font-line-height":Zr,"text-shadow-x":Zr,"text-shadow-y":Zr,"text-shadow-blur":Zr});function iterate(_e,be,Te){if(null==be)return be;if(Array.isArray(be))for(var Pe=0;Pe<be.length;Pe++)be[Pe]=iterate(_e,be[Pe],Te);else if("object"==typeof be)if("fallbacks"===_e)for(var pt in be)be[pt]=iterate(pt,be[pt],Te);else for(var vt in be)be[vt]=iterate(_e+"-"+vt,be[vt],Te);else if("number"==typeof be&&!1===isNaN(be)){var xt=Te[_e]||$r[_e];return!xt||0===be&&xt===Zr?be.toString():"function"==typeof xt?xt(be).toString():""+be+xt}return be}var Xr=function defaultUnit(_e){void 0===_e&&(_e={});var be=addCamelCasedVersion(_e);return{onProcessStyle:function onProcessStyle(_e,Te){if("style"!==Te.type)return _e;for(var Pe in _e)_e[Pe]=iterate(Pe,_e[Pe],be);return _e},onChangeValue:function onChangeValue(_e,Te){return iterate(Te,_e,be)}}};function registerClass(_e,be){if(!be)return!0;if(Array.isArray(be)){for(var Te=0;Te<be.length;Te++){if(!registerClass(_e,be[Te]))return!1}return!0}if(be.indexOf(" ")>-1)return registerClass(_e,be.split(" "));var Pe=_e.options.parent;if("$"===be[0]){var pt=Pe.getRule(be.substr(1));return!!pt&&(pt!==_e&&(Pe.classes[_e.key]+=" "+Pe.classes[pt.key],!0))}return Pe.classes[_e.key]+=" "+be,!0}var Kr=function jssCompose(){return{onProcessStyle:function onProcessStyle(_e,be){return"composes"in _e?(registerClass(be,_e.composes),delete _e.composes,_e):_e}}},Jr=Ga({createGenerateId:function createGenerateId(){var _e=0;return function(be){return"rsg--"+be.key+"-"+_e++}},plugins:[cr(),xr({reset:Object.assign({},{animation:"none 0s ease 0s 1 normal none running","backface-visibility":"visible",background:"transparent none repeat 0 0 / auto auto padding-box border-box scroll",border:"medium none currentColor","border-image":"none","border-radius":"0",bottom:"auto","box-shadow":"none",clear:"none",clip:"auto",columns:"auto","column-count":"auto","column-fill":"balance","column-gap":"normal","column-rule":"medium none currentColor","column-span":"1","column-width":"auto",content:"normal","counter-increment":"none","counter-reset":"none",float:"none",height:"auto",hyphens:"none",left:"auto",margin:"0","max-height":"none","max-width":"none","min-height":"0","min-width":"0",opacity:"1",outline:"medium none invert",overflow:"visible","overflow-x":"visible","overflow-y":"visible",padding:"0","page-break-after":"auto","page-break-before":"auto","page-break-inside":"auto",perspective:"none","perspective-origin":"50% 50%",position:"static",right:"auto","table-layout":"auto","text-decoration":"none",top:"auto",transform:"none","transform-origin":"50% 50% 0","transform-style":"flat",transition:"none 0s ease 0s","unicode-bidi":"normal","vertical-align":"baseline",width:"auto","z-index":"auto"},{boxSizing:"border-box",color:"inherit",font:"inherit",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit"})}),Pr(),Gr(),Xr(),Kr()]})},16185:function(_e,be,Te){"use strict";Te.r(be),Te.d(be,{borderRadius:function(){return Mt},buttonTextTransform:function(){return Ot},color:function(){return vt},fontFamily:function(){return xt},fontSize:function(){return Tt},maxWidth:function(){return Lt},mq:function(){return It},sidebarWidth:function(){return Ft},space:function(){return pt},spaceFactor:function(){return Pe}});var Pe=8,pt=[Pe/2,Pe,2*Pe,3*Pe,4*Pe,5*Pe,6*Pe],vt={base:"#333",light:"#767676",lightest:"#ccc",link:"#1673b1",linkHover:"#e90",focus:"rgba(22, 115, 177, 0.25)",border:"#e8e8e8",name:"#690",type:"#905",error:"#c00",baseBackground:"#fff",codeBackground:"#f5f5f5",sidebarBackground:"#f5f5f5",ribbonBackground:"#e90",ribbonText:"#fff",codeBase:"#333",codeComment:"#6d6d6d",codePunctuation:"#999",codeProperty:"#905",codeDeleted:"#905",codeString:"#690",codeInserted:"#690",codeOperator:"#9a6e3a",codeKeyword:"#1673b1",codeFunction:"#DD4A68",codeVariable:"#e90"},xt={base:["-apple-system","BlinkMacSystemFont",'"Segoe UI"','"Roboto"','"Oxygen"','"Ubuntu"','"Cantarell"','"Fira Sans"','"Droid Sans"','"Helvetica Neue"',"sans-serif"],monospace:["Consolas",'"Liberation Mono"',"Menlo","monospace"]},Tt={base:15,text:16,small:13,h1:48,h2:36,h3:24,h4:18,h5:16,h6:16},It={small:"@media (max-width: 600px)"},Mt=3,Lt=1e3,Ft=200,Ot="uppercase"},11640:function(_e,be,Te){var Pe={react:Te(67294)},pt=Te(44252).Z.bind(null,Pe);Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);",pt);_e.exports=[{type:"markdown",content:'`@urbica/react-map-gl` requires `mapbox-gl` as peer dependency:\n\n```shell\n<span class="token function">npm</span> <span class="token function">install</span> --save mapbox-gl @urbica/react-map-gl\n```\n\n...or if you are using yarn:\n\n```shell\n<span class="token function">yarn</span> <span class="token function">add</span> mapbox-gl @urbica/react-map-gl\n```'}]},33547:function(_e,be,Te){var Pe={react:Te(67294)},pt=Te(44252).Z.bind(null,Pe);Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);",pt);_e.exports=[{type:"markdown",content:'React Component Library for [Mapbox GL JS](https://github.com/mapbox/mapbox-gl-js). Mapbox GL JS is a JavaScript library that renders interactive maps from vector tiles and Mapbox styles using WebGL. This project is intended to be as close as possible to the [Mapbox GL JS API](https://docs.mapbox.com/mapbox-gl-js/api/).\n\nTo use any of Mapbox’s tools, APIs, or SDKs, you’ll need a Mapbox [access token](https://www.mapbox.com/help/define-access-token/). Mapbox uses access tokens to associate requests to API resources with your account. You can find all your access tokens, create new ones, or delete existing ones on your [API access tokens page](https://www.mapbox.com/studio/account/tokens/).\n\nThis package is heavily inspired by [uber/react-map-gl](https://github.com/uber/react-map-gl).\n\n<img src="https://raw.githubusercontent.com/urbica/react-map-gl/main/docs/gallery.jpg" width="800" />'}]},45841:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(29937)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst AttributionControl$0 = require('./index.js');\nconst AttributionControl = AttributionControl$0.default || (AttributionControl$0['AttributionControl'] || AttributionControl$0);",pt);_e.exports=[{type:"markdown",content:"An `AttributionControl` control presents the map's attribution information."},{type:"code",content:"import React from 'react';\nimport MapGL, { AttributionControl } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={37.78}\n  longitude={-122.41}\n  zoom={11}\n  attributionControl={false}\n>\n  <AttributionControl\n    compact={false}\n    position='bottom-right'\n    customAttribution='Custom attribution'\n  />\n</MapGL>;",settings:{},evalInContext:vt}]},1484:function(_e,be,Te){var Pe={"@deck.gl/mapbox":Te(15593),"@deck.gl/layers":Te(48881),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),react:Te(67294),"./index.js":Te(54177)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst CustomLayer$0 = require('./index.js');\nconst CustomLayer = CustomLayer$0.default || (CustomLayer$0['CustomLayer'] || CustomLayer$0);",pt);_e.exports=[{type:"markdown",content:"[Custom layers](https://docs.mapbox.com/mapbox-gl-js/api/#customlayerinterface) allow a user to render directly into the map's GL context using the map's camera.\n\nHere is an Uber [deck.gl](https://github.com/uber/deck.gl) usage example."},{type:"code",content:"import { MapboxLayer } from '@deck.gl/mapbox';\nimport { ArcLayer } from '@deck.gl/layers';\nimport MapGL, { CustomLayer } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst myDeckLayer = new MapboxLayer({\n  id: 'deckgl-arc',\n  type: ArcLayer,\n  data: [\n    { source: [-122.3998664, 37.7883697], target: [-122.400068, 37.7900503] }\n  ],\n  getSourcePosition: (d) => d.source,\n  getTargetPosition: (d) => d.target,\n  getSourceColor: [255, 208, 0],\n  getTargetColor: [0, 128, 255],\n  getWidth: 8\n});\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle=\"mapbox://styles/mapbox/light-v9\"\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={37.79}\n  longitude={-122.4}\n  zoom={15}\n  pitch={60}\n  bearing={20}\n>\n  <CustomLayer layer={myDeckLayer} />\n</MapGL>;",settings:{},evalInContext:vt}]},33659:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(49060)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst FeatureState$0 = require('./index.js');\nconst FeatureState = FeatureState$0.default || (FeatureState$0['FeatureState'] || FeatureState$0);",pt);_e.exports=[{type:"markdown",content:"A `FeatureState` component sets the state of a feature. For example, you can use events and feature states to create a per feature hover effect."},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Source, Layer, FeatureState } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [hoveredStateId, setHoveredStateId] = useState(null);\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.830348,\n  longitude: -100.486052,\n  zoom: 2\n});\n\nconst onHover = (event) => {\n  if (event.features.length > 0) {\n    const nextHoveredStateId = event.features[0].id;\n    if (hoveredStateId !== nextHoveredStateId) {\n      setHoveredStateId(nextHoveredStateId);\n    }\n  }\n};\n\nconst onLeave = () => {\n  if (hoveredStateId) {\n    setHoveredStateId(null);\n  }\n};\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  onViewportChange={setViewport}\n  {...viewport}\n>\n  <Source\n    id='states'\n    type='geojson'\n    data='https://docs.mapbox.com/mapbox-gl-js/assets/us_states.geojson'\n  />\n  <Layer\n    id='state-fills'\n    type='fill'\n    source='states'\n    paint={{\n      'fill-color': '#627BC1',\n      'fill-opacity': ['case', ['boolean', ['feature-state', 'hover'], false], 1, 0.5]\n    }}\n    onHover={onHover}\n    onLeave={onLeave}\n  />\n  {hoveredStateId && <FeatureState id={hoveredStateId} source='states' state={{ hover: true }} />}\n</MapGL>;",settings:{},evalInContext:vt}]},62684:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(73985)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst Filter$0 = require('./index.js');\nconst Filter = Filter$0.default || (Filter$0['Filter'] || Filter$0);",pt);_e.exports=[{type:"markdown",content:"Set filter to target layer. Layer id can be an id of any layer defined in style or defined by `<Layer />` component."},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Source, Layer, Filter } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst data = {\n  type: 'FeatureCollection',\n  features: [\n    {\n      type: 'Feature',\n      properties: {\n        foo: 1\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: [-122.44400024414062, 37.82280243352756]\n      }\n    },\n    {\n      type: 'Feature',\n      properties: {\n        foo: 2\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: [-122.37258911132812, 37.76610103745479]\n      }\n    },\n    {\n      type: 'Feature',\n      properties: {\n        foo: 3\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: [-122.48451232910155, 37.75470124792827]\n      }\n    }\n  ]\n};\n\nconst [filterValue, setFilterValue] = useState(1);\n\n<div>\n  <button onClick={() => setFilterValue(1)}>1</button>\n  <button onClick={() => setFilterValue(2)}>2</button>\n  <button onClick={() => setFilterValue(3)}>3</button>\n  <MapGL\n    style={{ width: '100%', height: '400px' }}\n    mapStyle='mapbox://styles/mapbox/light-v9'\n    accessToken={MAPBOX_ACCESS_TOKEN}\n    latitude={37.78}\n    longitude={-122.41}\n    zoom={11}\n  >\n    <Source id='points' type='geojson' data={data} />\n    <Layer\n      id='points'\n      type='circle'\n      source='points'\n      paint={{\n        'circle-radius': 6,\n        'circle-color': '#1978c8'\n      }}\n    />\n    <Filter layerId='points' filter={['==', 'foo', filterValue]} />\n  </MapGL>\n</div>;",settings:{},evalInContext:vt}]},75042:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(54173)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst FullscreenControl$0 = require('./index.js');\nconst FullscreenControl = FullscreenControl$0.default || (FullscreenControl$0['FullscreenControl'] || FullscreenControl$0);",pt);_e.exports=[{type:"markdown",content:"A `FullscreenControl` control contains a button for toggling the map in and out of fullscreen mode."},{type:"code",content:"import React from 'react';\nimport MapGL, { FullscreenControl } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={37.78}\n  longitude={-122.41}\n  zoom={11}\n>\n  <FullscreenControl position='top-right' />\n</MapGL>;",settings:{},evalInContext:vt}]},82681:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(51043)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst GeolocateControl$0 = require('./index.js');\nconst GeolocateControl = GeolocateControl$0.default || (GeolocateControl$0['GeolocateControl'] || GeolocateControl$0);",pt);_e.exports=[{type:"markdown",content:"Geolocate the user and then track their current location on the map using the `GeolocateControl`."},{type:"code",content:"import React from 'react';\nimport MapGL, { GeolocateControl } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={37.78}\n  longitude={-122.41}\n  zoom={11}\n>\n  <GeolocateControl position='top-right' />\n</MapGL>;",settings:{},evalInContext:vt}]},68732:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(19877)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst Image$0 = require('./index.js');\nconst Image = Image$0.default || (Image$0['Image'] || Image$0);",pt);_e.exports=[{type:"markdown",content:"Add an image to the style. This image can be used in `icon-image`,\n`background-pattern`, `fill-pattern`, and `line-pattern`.\n\nMapbox examples:\n\n*   [Add an icon to the map](https://www.mapbox.com/mapbox-gl-js/example/add-image/)\n*   [Add a generated icon to the map](https://www.mapbox.com/mapbox-gl-js/example/add-image-generated/)"},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Source, Layer, Image } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.753574,\n  longitude: -122.447303,\n  zoom: 13\n});\n\nconst data = {\n  type: 'FeatureCollection',\n  features: [\n    {\n      type: 'Feature',\n      properties: {},\n      geometry: {\n        type: 'Point',\n        coordinates: [-122.45, 37.75]\n      }\n    }\n  ]\n};\n\nconst imageURL =\n  'https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Cat_silhouette.svg/400px-Cat_silhouette.svg.png';\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  onViewportChange={setViewport}\n  {...viewport}\n>\n  <Source id='point' type='geojson' data={data} />\n  <Image id='my-image' image={imageURL} />\n  <Layer\n    id='image-layer'\n    type='symbol'\n    source='point'\n    layout={{\n      'icon-image': 'my-image',\n      'icon-size': 0.25\n    }}\n  />\n</MapGL>;",settings:{},evalInContext:vt}]},19810:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(82302)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst LanguageControl$0 = require('./index.js');\nconst LanguageControl = LanguageControl$0.default || (LanguageControl$0['LanguageControl'] || LanguageControl$0);",pt);_e.exports=[{type:"markdown",content:'A `LanguageControl` adds support for switching the language of your map style.\n\n⚠️ Requires the `@mapbox/mapbox-gl-language` package to be installed:\n\n```shell\n<span class="token function">npm</span> <span class="token function">install</span> --save @mapbox/mapbox-gl-language\n```\n\n...or\n\n```shell\n<span class="token function">yarn</span> <span class="token function">add</span> @mapbox/mapbox-gl-language\n```'},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { LanguageControl } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [language, setLanguage] = useState('fr');\n\n<>\n  <button onClick={() => setLanguage('ru')}>set ru</button>\n  <button onClick={() => setLanguage('fr')}>set fr</button>\n  <MapGL\n    style={{ width: '100%', height: '400px' }}\n    mapStyle='mapbox://styles/mapbox/light-v9'\n    accessToken={MAPBOX_ACCESS_TOKEN}\n    latitude={37.78}\n    longitude={-122.41}\n    zoom={11}\n  >\n    <LanguageControl language={language} defaultLanguage='fr' />\n  </MapGL>\n</>;",settings:{},evalInContext:vt}]},94235:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(37363)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst Layer$0 = require('./index.js');\nconst Layer = Layer$0.default || (Layer$0['Layer'] || Layer$0);",pt);_e.exports=[{type:"markdown",content:"[Layers](https://docs.mapbox.com/mapbox-gl-js/style-spec/#layers) specify the Sources styles. The type of layer is specified by the `'type'` property, and must be one of `background`, `fill`, `line`, `symbol`, `raster`, `circle`, `fill-extrusion`, `heatmap`, `hillshade`.\n\nExcept for layers of the `background` type, each layer needs to refer to a source. Layers take the data that they get from a source, optionally filter features, and then define how those features are styled."},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Source, Layer } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.78,\n  longitude: -122.41,\n  zoom: 11\n});\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  onViewportChange={setViewport}\n  {...viewport}\n>\n  <Source id='contours' type='vector' url='mapbox://mapbox.mapbox-terrain-v2' />\n  <Layer\n    id='contours'\n    type='line'\n    source='contours'\n    source-layer='contour'\n    paint={{\n      'line-color': '#877b59',\n      'line-width': 1\n    }}\n  />\n</MapGL>;",settings:{},evalInContext:vt},{type:"markdown",content:'## Layer ordering\n\nYou can add the `before` prop with the id of an existing layer to insert the new layer before. If this prop is omitted, the layer will be appended to the end of the layers array:\n\n```xml\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layer</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">\'</span>below<span class="token punctuation">\'</span></span> <span class="token attr-name">before</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">\'</span>above<span class="token punctuation">\'</span></span> <span class="token punctuation">/></span></span>\n```'},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Source, Layer } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst data = {\n  red: {\n    type: 'Feature',\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [-122.4393653869629, 37.771664582389825],\n          [-122.41936683654784, 37.771664582389825],\n          [-122.41936683654784, 37.78679259356557],\n          [-122.4393653869629, 37.78679259356557],\n          [-122.4393653869629, 37.771664582389825]\n        ]\n      ]\n    }\n  },\n  green: {\n    type: 'Feature',\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [-122.43687629699707, 37.772750103327695],\n          [-122.41722106933594, 37.772750103327695],\n          [-122.41722106933594, 37.789031004883654],\n          [-122.43687629699707, 37.789031004883654],\n          [-122.43687629699707, 37.772750103327695]\n        ]\n      ]\n    }\n  },\n  blue: {\n    type: 'Feature',\n    geometry: {\n      type: 'Polygon',\n      coordinates: [\n        [\n          [-122.43498802185059, 37.7697648824009],\n          [-122.4151611328125, 37.7697648824009],\n          [-122.4151611328125, 37.78557161335955],\n          [-122.43498802185059, 37.78557161335955],\n          [-122.43498802185059, 37.7697648824009]\n        ]\n      ]\n    }\n  }\n};\n\nconst [beforeOrder, setBeforeOrder] = useState({\n  red: 'green',\n  green: 'blue',\n  blue: undefined\n});\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.78,\n  longitude: -122.41,\n  zoom: 13\n});\n\nconst onChange = (layerId, event) => {\n  const before = event.target.value || undefined;\n  setBeforeOrder({ ...beforeOrder, [layerId]: before });\n};\n\n<React.Fragment>\n  {Object.entries(beforeOrder).map(([layerId, before]) => (\n    <label key={layerId}>\n      {layerId} before\n      <select value={before} onChange={onChange.bind(this, layerId)}>\n        <option value={undefined} />\n        {Object.keys(beforeOrder)\n          .filter((_layerId) => layerId !== _layerId)\n          .map((layerId) => (\n            <option key={layerId} value={layerId}>\n              {layerId}\n            </option>\n          ))}\n      </select>\n      <br />\n    </label>\n  ))}\n  <MapGL\n    style={{ width: '100%', height: '400px' }}\n    mapStyle='mapbox://styles/mapbox/light-v9'\n    accessToken={MAPBOX_ACCESS_TOKEN}\n    onViewportChange={setViewport}\n    {...viewport}\n  >\n    {Object.entries(beforeOrder).map(([layerId, before]) => (\n      <React.Fragment key={layerId}>\n        <Source id={layerId} type='geojson' data={data[layerId]} />\n        <Layer\n          id={layerId}\n          before={before}\n          type='fill'\n          source={layerId}\n          paint={{\n            'fill-color': layerId,\n            'fill-opacity': 0.8\n          }}\n        />\n      </React.Fragment>\n    ))}\n  </MapGL>\n</React.Fragment>;",settings:{},evalInContext:vt}]},83998:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(66586)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst MapGL$0 = require('./index.js');\nconst MapGL = MapGL$0.default || (MapGL$0['MapGL'] || MapGL$0);",pt);_e.exports=[{type:"markdown",content:"The `MapGL` component represents map on the page.\n\n### Static map\n\nBy default, `MapGL` component renders in a static mode. That means that the user cannot interact with the map."},{type:"code",content:"import React from 'react';\nimport MapGL from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={37.78}\n  longitude={-122.41}\n  zoom={11}\n/>;",settings:{},evalInContext:vt},{type:"markdown",content:"### Interactive map\n\nIn most cases, you will want the user to interact with the map. To do this, you need to provide `onViewportChange` handler, that will update map viewport state."},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.78,\n  longitude: -122.41,\n  zoom: 11\n});\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={viewport.latitude}\n  longitude={viewport.longitude}\n  zoom={viewport.zoom}\n  onViewportChange={setViewport}\n/>;",settings:{},evalInContext:vt},{type:"markdown",content:"### Changing Map Style"},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Source, Layer } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst styles = {\n  light: 'mapbox://styles/mapbox/light-v9',\n  dark: 'mapbox://styles/mapbox/dark-v9'\n};\n\nconst [styleId, setStyleId] = useState('light');\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.78,\n  longitude: -122.41,\n  zoom: 11\n});\n\n<React.Fragment>\n  <button onClick={() => setStyleId('light')}>light</button>\n  <button onClick={() => setStyleId('dark')}>dark</button>\n  <MapGL\n    style={{ width: '100%', height: '400px' }}\n    mapStyle={styles[styleId]}\n    accessToken={MAPBOX_ACCESS_TOKEN}\n    latitude={viewport.latitude}\n    longitude={viewport.longitude}\n    zoom={viewport.zoom}\n    onViewportChange={setViewport}\n  />\n</React.Fragment>;",settings:{},evalInContext:vt},{type:"markdown",content:"### Using JSON Map Style"},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [mapStyle, setMapStyle] = useState(null);\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.78,\n  longitude: -122.41,\n  zoom: 11\n});\n\nconst mapStyleURL = `https://api.mapbox.com/styles/v1/mapbox/light-v9?access_token=${MAPBOX_ACCESS_TOKEN}`;\n\nif (!mapStyle) {\n  fetch(mapStyleURL)\n    .then((response) => response.json())\n    .then((style) => setMapStyle(style));\n}\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle={mapStyle}\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  onViewportChange={setViewport}\n  {...viewport}\n/>;",settings:{},evalInContext:vt},{type:"markdown",content:"### Viewport Change Methods\n\nThere are two props `viewportChangeMethod` and `viewportChangeOptions` that controls how `MapGL` component reacts to the new viewport props.\n\nYou can find list of available `viewportChangeOptions` [here](https://docs.mapbox.com/mapbox-gl-js/api/#animationoptions)."},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [viewportChangeMethod, setViewportChangeMethod] = useState('flyTo');\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.78,\n  longitude: -122.41,\n  zoom: 11\n});\n\nchangeOptions = {\n  duration: 1000\n};\n\nconst onChange = (event) => {\n  setViewportChangeMethod(event.target.value);\n};\n\nconst onClick = (event) => {\n  const { lngLat } = event;\n\n  const newVewport = {\n    ...viewport,\n    latitude: lngLat.lat,\n    longitude: lngLat.lng\n  };\n\n  setViewport(newVewport);\n};\n\n<React.Fragment>\n  Select viewportChangeMethod and click on the map\n  <select value={viewportChangeMethod} onChange={onChange}>\n    <option value='flyTo'>flyTo</option>\n    <option value='jumpTo'>jumpTo</option>\n    <option value='easeTo'>easeTo</option>\n  </select>\n  <MapGL\n    style={{ width: '100%', height: '400px' }}\n    mapStyle='mapbox://styles/mapbox/light-v9'\n    accessToken={MAPBOX_ACCESS_TOKEN}\n    onClick={onClick}\n    onViewportChange={setViewport}\n    viewportChangeMethod={viewportChangeMethod}\n    viewportChangeOptions={changeOptions}\n    {...viewport}\n  />\n</React.Fragment>;",settings:{},evalInContext:vt},{type:"markdown",content:"### Events\n\n`mapbox-gl` emit [events](https://www.mapbox.com/mapbox-gl-js/api/#events) in response to user interactions or changes in state.\n\nYou can find full list of supported props in [eventProps](https://github.com/urbica/react-map-gl/blob/main/src/components/MapGL/eventProps.js).\n\nHere is an example for `onClick` prop."},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.78,\n  longitude: -122.41,\n  zoom: 11\n});\n\nconst onClick = (event) => {\n  const { lngLat } = event;\n\n  const newVewport = {\n    ...viewport,\n    latitude: lngLat.lat,\n    longitude: lngLat.lng\n  };\n\n  setViewport(newVewport);\n};\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  onClick={onClick}\n  onViewportChange={setViewport}\n  {...viewport}\n/>;",settings:{},evalInContext:vt},{type:"markdown",content:"#### Layer-specific events\n\nYou can also set layer-specific event-handlers passing prop in the form of the array where the first element is a layer id and the second element is an event handler:\n\n```markup\nonClick={['national_park', onClick]}\n```\n\n### Getting Mapbox GL JS Map Instance\n\n#### Using `MapContext`\n\nTo access Mapbox GL JS Map instance you can use `MapContext.Consumer` component."},{type:"code",content:"import React from 'react';\nimport MapGL, { MapContext } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={37.78}\n  longitude={-122.41}\n  zoom={11}\n>\n  <MapContext.Consumer>\n    {(map) => {\n      map.setPaintProperty('water', 'fill-color', '#fdbdba');\n      return;\n    }}\n  </MapContext.Consumer>\n</MapGL>;",settings:{},evalInContext:vt},{type:"markdown",content:"#### Using Ref\n\nYou can also call `getMap()` method on the `MapGL` [ref](https://reactjs.org/docs/refs-and-the-dom.html)."},{type:"code",content:"import React from 'react';\nimport MapGL from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nclass MyMapGL extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this._map = React.createRef();\n  }\n\n  componentDidMount() {\n    const map = this._map.current.getMap();\n    map.once('load', () => {\n      map.setPaintProperty('water', 'fill-color', '#db7093');\n    });\n  }\n\n  render() {\n    return <MapGL {...this.props} ref={this._map} />;\n  }\n}\n\n<MyMapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={37.78}\n  longitude={-122.41}\n  zoom={11}\n/>;",settings:{},evalInContext:vt}]},21884:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(16353)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst Marker$0 = require('./index.js');\nconst Marker = Marker$0.default || (Marker$0['Marker'] || Marker$0);",pt);_e.exports=[{type:"markdown",content:"React Component for [Mapbox GL JS Marker](https://docs.mapbox.com/mapbox-gl-js/api/#marker)."},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Marker } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [position, setPosition] = useState({\n  longitude: 0,\n  latitude: 0\n});\n\nconst style = {\n  padding: '10px',\n  color: '#fff',\n  cursor: 'pointer',\n  background: '#1978c8',\n  borderRadius: '6px'\n};\n\nconst onDragEnd = (lngLat) => {\n  setPosition({ longitude: lngLat.lng, latitude: lngLat.lat });\n};\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={0}\n  longitude={0}\n  zoom={0}\n>\n  <Marker\n    longitude={position.longitude}\n    latitude={position.latitude}\n    onDragEnd={onDragEnd}\n    draggable\n  >\n    <div style={style}>Hi there! 👋</div>\n  </Marker>\n</MapGL>;",settings:{},evalInContext:vt},{type:"markdown",content:"## Marker onClick handler"},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Marker } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [position, setPosition] = useState({\n  longitude: 0,\n  latitude: 0\n});\n\nconst style = {\n  padding: '10px',\n  color: '#fff',\n  cursor: 'pointer',\n  background: '#1978c8',\n  borderRadius: '6px'\n};\n\nconst onMapClick = (event) => {\n  setPosition({ longitude: event.lngLat.lng, latitude: event.lngLat.lat });\n};\n\nconst onMarkerClick = (event) => {\n  alert('You clicked on marker');\n  event.stopPropagation();\n};\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={0}\n  longitude={0}\n  zoom={0}\n  onClick={onMapClick}\n>\n  <Marker\n    longitude={position.longitude}\n    latitude={position.latitude}\n    onClick={onMarkerClick}\n  >\n    <div style={style}>Click me! ✨</div>\n  </Marker>\n</MapGL>;",settings:{},evalInContext:vt}]},55001:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(96402)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst NavigationControl$0 = require('./index.js');\nconst NavigationControl = NavigationControl$0.default || (NavigationControl$0['NavigationControl'] || NavigationControl$0);",pt);_e.exports=[{type:"markdown",content:"A `NavigationControl` control contains zoom buttons and a compass."},{type:"code",content:"import React from 'react';\nimport MapGL, { NavigationControl } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={37.78}\n  longitude={-122.41}\n  zoom={11}\n>\n  <NavigationControl showCompass showZoom position='top-right' />\n</MapGL>;",settings:{},evalInContext:vt}]},52370:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(14962)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst Popup$0 = require('./index.js');\nconst Popup = Popup$0.default || (Popup$0['Popup'] || Popup$0);",pt);_e.exports=[{type:"markdown",content:"React Component for [Mapbox GL JS Popup](https://docs.mapbox.com/mapbox-gl-js/api/#popup)."},{type:"code",content:"import React from 'react';\nimport MapGL, { Popup } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={0}\n  longitude={0}\n  zoom={0}\n>\n  <Popup longitude={0} latitude={0} closeButton={false} closeOnClick={false}>\n    Hi there! 👋\n  </Popup>\n</MapGL>;",settings:{},evalInContext:vt}]},83011:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"./index.js":Te(15993)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst ScaleControl$0 = require('./index.js');\nconst ScaleControl = ScaleControl$0.default || (ScaleControl$0['ScaleControl'] || ScaleControl$0);",pt);_e.exports=[{type:"markdown",content:"A `ScaleControl` control displays the ratio of a distance on the map to the corresponding distance on the ground."},{type:"code",content:"import React from 'react';\nimport MapGL, { ScaleControl } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  latitude={37.78}\n  longitude={-122.41}\n  zoom={11}\n>\n  <ScaleControl unit='metric' position='bottom-right' />\n</MapGL>;",settings:{},evalInContext:vt}]},5694:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"@turf/random":Te(16295),"./index.js":Te(91943)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst Source$0 = require('./index.js');\nconst Source = Source$0.default || (Source$0['Source'] || Source$0);",pt);_e.exports=[{type:"markdown",content:"[Sources](https://docs.mapbox.com/mapbox-gl-js/api/#sources) specify the geographic features to be rendered on the map.\n\n## GeoJSON Source\n\nA [GeoJSON source](https://docs.mapbox.com/mapbox-gl-js/style-spec/#sources-geojson). Data must be provided via a `data` property, whose value can be a URL or inline GeoJSON."},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Source, Layer } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [viewport, setViewport] = useState({\n  latitude: 45.137451890638886,\n  longitude: -68.13734351262877,\n  zoom: 5\n});\n\nconst data = {\n  type: 'Feature',\n  geometry: {\n    type: 'Polygon',\n    coordinates: [\n      [\n        [-67.13734351262877, 45.137451890638886],\n        [-66.96466, 44.8097],\n        [-68.03252, 44.3252],\n        [-69.06, 43.98],\n        [-70.11617, 43.68405],\n        [-70.64573401557249, 43.090083319667144],\n        [-70.75102474636725, 43.08003225358635],\n        [-70.79761105007827, 43.21973948828747],\n        [-70.98176001655037, 43.36789581966826],\n        [-70.94416541205806, 43.46633942318431],\n        [-71.08482, 45.3052400000002],\n        [-70.6600225491012, 45.46022288673396],\n        [-70.30495378282376, 45.914794623389355],\n        [-70.00014034695016, 46.69317088478567],\n        [-69.23708614772835, 47.44777598732787],\n        [-68.90478084987546, 47.184794623394396],\n        [-68.23430497910454, 47.35462921812177],\n        [-67.79035274928509, 47.066248887716995],\n        [-67.79141211614706, 45.702585354182816],\n        [-67.13734351262877, 45.137451890638886]\n      ]\n    ]\n  }\n};\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  onViewportChange={setViewport}\n  {...viewport}\n>\n  <Source id='maine' type='geojson' data={data} />\n  <Layer\n    id='maine'\n    type='fill'\n    source='maine'\n    paint={{\n      'fill-color': '#088',\n      'fill-opacity': 0.8\n    }}\n  />\n</MapGL>;",settings:{},evalInContext:vt},{type:"markdown",content:"Drawing a GeoJSON line on a map."},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Source, Layer } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.830348,\n  longitude: -122.486052,\n  zoom: 15\n});\n\nconst data = {\n  type: 'Feature',\n  geometry: {\n    type: 'LineString',\n    coordinates: [\n      [-122.48369693756104, 37.83381888486939],\n      [-122.48348236083984, 37.83317489144141],\n      [-122.48339653015138, 37.83270036637107],\n      [-122.48356819152832, 37.832056363179625],\n      [-122.48404026031496, 37.83114119107971],\n      [-122.48404026031496, 37.83049717427869],\n      [-122.48348236083984, 37.829920943955045],\n      [-122.48356819152832, 37.82954808664175],\n      [-122.48507022857666, 37.82944639795659],\n      [-122.48610019683838, 37.82880236636284],\n      [-122.48695850372314, 37.82931081282506],\n      [-122.48700141906738, 37.83080223556934],\n      [-122.48751640319824, 37.83168351665737],\n      [-122.48803138732912, 37.832158048267786],\n      [-122.48888969421387, 37.83297152392784],\n      [-122.48987674713133, 37.83263257682617],\n      [-122.49043464660643, 37.832937629287755],\n      [-122.49125003814696, 37.832429207817725],\n      [-122.49163627624512, 37.832564787218985],\n      [-122.49223709106445, 37.83337825839438],\n      [-122.49378204345702, 37.83368330777276]\n    ]\n  }\n};\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  onViewportChange={setViewport}\n  {...viewport}\n>\n  <Source id='route' type='geojson' data={data} />\n  <Layer\n    id='route'\n    type='line'\n    source='route'\n    layout={{\n      'line-join': 'round',\n      'line-cap': 'round'\n    }}\n    paint={{\n      'line-color': '#888',\n      'line-width': 8\n    }}\n  />\n</MapGL>;",settings:{},evalInContext:vt},{type:"markdown",content:"### Updating GeoJSON Source Data"},{type:"code",content:"import React, { useState } from 'react';\nimport { randomPoint } from '@turf/random';\nimport MapGL, { Source, Layer } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [points, setPoints] = useState(randomPoint(100));\n\nconst [viewport, setViewport] = useState({\n  latitude: 0,\n  longitude: 0,\n  zoom: 0\n});\n\nconst addPoints = () => {\n  const randomPoints = randomPoint(100);\n  const newFeatures = points.features.concat(randomPoints.features);\n  const newPoints = { ...points, features: newFeatures };\n  setPoints(newPoints);\n};\n\n<React.Fragment>\n  <button onClick={addPoints}>+100 points</button>\n  <MapGL\n    style={{ width: '100%', height: '400px' }}\n    mapStyle='mapbox://styles/mapbox/light-v9'\n    accessToken={MAPBOX_ACCESS_TOKEN}\n    onViewportChange={setViewport}\n    {...viewport}\n  >\n    <Source id='points' type='geojson' data={points} />\n    <Layer\n      id='points'\n      type='circle'\n      source='points'\n      paint={{\n        'circle-radius': 6,\n        'circle-color': '#1978c8'\n      }}\n    />\n  </MapGL>\n</React.Fragment>;",settings:{},evalInContext:vt},{type:"markdown",content:"## Vector Source\n\nAdd a [vector source](https://docs.mapbox.com/mapbox-gl-js/style-spec/#sources-vector) to a map."},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Source, Layer } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.753574,\n  longitude: -122.447303,\n  zoom: 13\n});\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  mapStyle='mapbox://styles/mapbox/light-v9'\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  onViewportChange={setViewport}\n  {...viewport}\n>\n  <Source id='contour' type='vector' url='mapbox://mapbox.mapbox-terrain-v2' />\n  <Layer\n    id='contour'\n    type='line'\n    source='contour'\n    source-layer='contour'\n    paint={{\n      'line-color': '#877b59',\n      'line-width': 1\n    }}\n  />\n</MapGL>;",settings:{},evalInContext:vt},{type:"markdown",content:"## Raster Source"},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { Source, Layer } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst [viewport, setViewport] = useState({\n  latitude: 40.6892,\n  longitude: -74.5447,\n  zoom: 8\n});\n\n<MapGL\n  style={{ width: '100%', height: '400px' }}\n  accessToken={MAPBOX_ACCESS_TOKEN}\n  onViewportChange={setViewport}\n  {...viewport}\n>\n  <Source\n    id='raster'\n    type='raster'\n    tileSize={256}\n    tiles={['https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png']}\n  />\n  <Layer id='raster' type='raster' source='raster' />\n</MapGL>;",settings:{},evalInContext:vt},{type:"markdown",content:"## Dynamic Source URLs"},{type:"code",content:"import React, { useState } from 'react';\nimport { randomPoint } from '@turf/random';\nimport MapGL, { Source, Layer } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst sourceURLs = {\n  first: 'mapbox://stepankuzmin.ck0glwxo402ld2omagmzc2gma-7pqww',\n  second: 'mapbox://stepankuzmin.ck0glym6u02ls2omawvm9vi4y-9xid1'\n};\n\nconst [sourceURL, setSourceURL] = useState(sourceURLs.first);\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.78,\n  longitude: -122.41,\n  zoom: 9\n});\n\nconst toggleSourceURL = () => {\n  const nextSourceURL = sourceURL === sourceURLs.first ? sourceURLs.second : sourceURLs.first;\n  setSourceURL(nextSourceURL);\n};\n\n<React.Fragment>\n  <button onClick={toggleSourceURL}>Toggle Source URL</button>\n  <MapGL\n    style={{ width: '100%', height: '400px' }}\n    mapStyle='mapbox://styles/mapbox/light-v9'\n    accessToken={MAPBOX_ACCESS_TOKEN}\n    onViewportChange={setViewport}\n    {...viewport}\n  >\n    <Source id='sf-points' type='vector' url={sourceURL} />\n    <Layer\n      id='sf-points'\n      type='circle'\n      source='sf-points'\n      source-layer='sf-points'\n      paint={{\n        'circle-radius': 6,\n        'circle-color': '#1978c8'\n      }}\n    />\n  </MapGL>\n</React.Fragment>;",settings:{},evalInContext:vt},{type:"markdown",content:"## Dynamic Source Tiles"},{type:"code",content:"import React, { useState } from 'react';\nimport { randomPoint } from '@turf/random';\nimport MapGL, { Source, Layer } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst sourceTilesURLs = {\n  toner: 'https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png',\n  watercolor: 'https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png'\n};\n\nconst [sourceTiles, setSourceTiles] = useState(sourceTilesURLs.toner);\n\nconst [viewport, setViewport] = useState({\n  latitude: 37.78,\n  longitude: -122.41,\n  zoom: 9\n});\n\nconst toggleSourceTiles = () => {\n  const nextSourceTiles =\n    sourceTiles === sourceTilesURLs.toner ? sourceTilesURLs.watercolor : sourceTilesURLs.toner;\n  setSourceTiles(nextSourceTiles);\n};\n\n<React.Fragment>\n  <button onClick={toggleSourceTiles}>Toggle Source Tiles</button>\n  <MapGL\n    style={{ width: '100%', height: '400px' }}\n    mapStyle='mapbox://styles/mapbox/light-v9'\n    accessToken={MAPBOX_ACCESS_TOKEN}\n    onViewportChange={setViewport}\n    {...viewport}\n  >\n    <Source id='raster' type='raster' tiles={[sourceTiles]} />\n    <Layer id='raster' type='raster' source='raster' />\n  </MapGL>\n</React.Fragment>;",settings:{},evalInContext:vt}]},78642:function(_e,be,Te){var Pe={react:Te(67294),"@urbica/react-map-gl":Te(55579),"mapbox-gl/dist/mapbox-gl.css":Te(72679),"@mapbox/mapbox-gl-traffic/mapbox-gl-traffic.css":Te(92959),"./index.js":Te(83644)},pt=Te(44252).Z.bind(null,Pe),vt=Te(70259).Z.bind(null,"const React$0 = require('react');\nconst React = React$0.default || (React$0['React'] || React$0);\nconst TrafficControl$0 = require('./index.js');\nconst TrafficControl = TrafficControl$0.default || (TrafficControl$0['TrafficControl'] || TrafficControl$0);",pt);_e.exports=[{type:"markdown",content:'A `TrafficControl` add control to toggle traffic on map. See [Mapbox-gl-traffic\n](https://github.com/mapbox/mapbox-gl-traffic) examples.\n\n⚠️ Requires the `@mapbox/mapbox-gl-traffic` package to be installed:\n\n```shell\n<span class="token function">npm</span> <span class="token function">install</span> --save @mapbox/mapbox-gl-traffic\n```\n\n...or\n\n```shell\n<span class="token function">yarn</span> <span class="token function">add</span> @mapbox/mapbox-gl-traffic\n```'},{type:"code",content:"import React, { useState } from 'react';\nimport MapGL, { TrafficControl } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport '@mapbox/mapbox-gl-traffic/mapbox-gl-traffic.css';\n\nconst [showTraffic, setShowTraffic] = useState(false);\nconst [showTrafficButton, setShowTrafficButton] = useState(false);\n\nconst toggleTraffic = () => setShowTraffic(!showTraffic);\nconst toggleButton = () => setShowTrafficButton(!showTrafficButton);\n\n<div>\n  <button onClick={toggleTraffic}>toggle traffic</button>\n  <button onClick={toggleButton}>toggle button</button>\n  <MapGL\n    style={{ width: '100%', height: '400px' }}\n    mapStyle='mapbox://styles/mapbox/light-v9'\n    accessToken={MAPBOX_ACCESS_TOKEN}\n    latitude={37.78}\n    longitude={-122.41}\n    zoom={11}\n  >\n    <TrafficControl showTraffic={showTraffic} showTrafficButton={showTrafficButton} />\n  </MapGL>\n</div>;",settings:{},evalInContext:vt}]},57610:function(_e,be,Te){_e.exports={doclets:{},displayName:"AttributionControl",description:"An `AttributionControl` control presents the map's attribution information.\n",methods:[],props:[{required:!0,flowType:{name:"boolean"},description:"If `true` force a compact attribution that shows the full\nattribution on mouse hover, or if  false force the full attribution\ncontrol. The default is a responsive attribution that collapses when\nthe map is less than 640 pixels wide.",tags:{},name:"compact"},{required:!0,flowType:{name:"union",raw:"string | Array<string>",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"Array<string>"}]},description:"",tags:{},name:"customAttribution"},{required:!1,flowType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"",defaultValue:{value:"'bottom-right'",computed:!1},tags:{},name:"position"}],tags:{},examples:Te(45841)}},80042:function(_e,be,Te){_e.exports={doclets:{},displayName:"CustomLayer",description:"Custom layers allow a user to render directly into the map's GL context\nusing the map's camera.\n",methods:[],props:[{required:!0,flowType:{name:"CustomLayerInterface"},description:"Mapbox GL Custom Layer instance",tags:{},name:"layer"},{required:!1,flowType:{name:"string"},description:"The id of an existing layer to insert the new layer before.",tags:{},name:"before"}],tags:{},examples:Te(1484)}},44101:function(_e,be,Te){_e.exports={doclets:{},displayName:"FeatureState",description:"A `FeatureState` component sets the state of a feature.\n",methods:[],props:[{required:!0,flowType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"Unique id of the feature.",tags:{},name:"id"},{required:!0,flowType:{name:"string"},description:"The Id of the vector source or GeoJSON source for the feature.",tags:{},name:"source"},{required:!0,flowType:{name:"string"},description:"For vector tile sources, the sourceLayer is required.",tags:{},name:"sourceLayer"},{required:!0,flowType:{name:"Object"},description:"A set of key-value pairs. The values should be valid JSON types.",tags:{},name:"state"}],tags:{},examples:Te(33659)}},77455:function(_e,be,Te){_e.exports={doclets:{},displayName:"Filter",description:"",methods:[],props:[{required:!0,flowType:{name:"FilterSpecification"},description:"The filter, conforming to the Mapbox Style Specification's\nfilter definition. (see https://docs.mapbox.com/mapbox-gl-js/style-spec/#other-filter)\nIf null or undefined is provided, the function removes any existing filter\nfrom the layer.",tags:{},name:"filter"},{required:!0,flowType:{name:"string"},description:"Mapbox GL Layer id",tags:{},name:"layerId"},{required:!1,flowType:{name:"boolean"},description:"Whether to check if the filter conforms to the Mapbox GL\nStyle Specification. Disabling validation is a performance optimization\nthat should only be used if you have previously validated the values you\nwill be passing to this function.",defaultValue:{value:"true",computed:!1},tags:{},name:"validate"}],examples:Te(62684)}},95219:function(_e,be,Te){_e.exports={doclets:{},displayName:"FullscreenControl",description:"A `FullscreenControl` control contains a button for toggling the map in\nand out of fullscreen mode.\n",methods:[],props:[{required:!0,flowType:{name:"string"},description:"container is the compatible DOM element which should be\nmade full screen. By default, the map container element\nwill be made full screen.",tags:{},name:"container"},{required:!1,flowType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"",defaultValue:{value:"'top-right'",computed:!1},tags:{},name:"position"}],tags:{},examples:Te(75042)}},31235:function(_e,be,Te){_e.exports={doclets:{},displayName:"GeolocateControl",description:"A `GeolocateControl` control provides a button that uses the browser's\ngeolocation API to locate the user on the map.\n",methods:[],props:[{required:!1,flowType:{name:"Object"},description:"A `fitBounds` options object to use when the map is\npanned and zoomed to the user's location.",defaultValue:{value:"{ maxZoom: 15 }",computed:!1},tags:{},name:"fitBoundsOptions"},{required:!1,flowType:{name:"Function"},description:"Fired on each Geolocation API position update which returned as an error.",tags:{},name:"onError"},{required:!1,flowType:{name:"Function"},description:"Fired on each Geolocation API position update which returned as success.",tags:{},name:"onGeolocate"},{required:!1,flowType:{name:"Function"},description:"Fired when the Geolocate Control changes to the background state.",tags:{},name:"onTrackUserLocationEnd"},{required:!1,flowType:{name:"Function"},description:"Fired when the Geolocate Control changes to the active lock state,",tags:{},name:"onTrackUserLocationStart"},{required:!1,flowType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"",tags:{},name:"position"},{required:!1,flowType:{name:"PositionOptions"},description:"",defaultValue:{value:"{ enableHighAccuracy: false, timeout: 6000 }",computed:!1},tags:{},name:"positionOptions"},{required:!1,flowType:{name:"boolean"},description:"By default a dot will be shown on the map at the user's location.\nSet to `false` to disable.",defaultValue:{value:"true",computed:!1},tags:{},name:"showUserLocation"},{required:!1,flowType:{name:"boolean"},description:"If `true` the Geolocate Control becomes a toggle button and when active\nthe map will receive updates to the user's location as it changes.",defaultValue:{value:"false",computed:!1},tags:{},name:"trackUserLocation"}],tags:{},examples:Te(82681)}},58345:function(_e,be,Te){_e.exports={doclets:{},displayName:"Image",description:"",methods:[],props:[{required:!0,flowType:{name:"string"},description:"The ID of the image.",tags:{},name:"id"},{required:!0,flowType:{name:"union",raw:"MapboxImage | string",elements:[{name:"union",raw:"| HTMLImageElement\n| ImageData\n| { width: number, height: number, data: Uint8Array | Uint8ClampedArray }\n| StyleImageInterface",elements:[{name:"HTMLImageElement"},{name:"ImageData"},{name:"signature",type:"object",raw:"{ width: number, height: number, data: Uint8Array | Uint8ClampedArray }",signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"data",value:{name:"union",raw:"Uint8Array | Uint8ClampedArray",elements:[{name:"Uint8Array"},{name:"Uint8ClampedArray"}],required:!0}}]}},{name:"StyleImageInterface"}]},{name:"string"}]},description:"The image as an `HTMLImageElement`, `ImageData`, object with `width`,\n`height`, and `data` properties with the same format as `ImageData`\nor image url string",tags:{},name:"image"},{required:!1,flowType:{name:"number"},description:"The ratio of pixels in the image to physical pixels on the screen",defaultValue:{value:"1",computed:!1},tags:{},name:"pixelRatio"},{required:!1,flowType:{name:"boolean"},description:"Whether the image should be interpreted as an SDF image",defaultValue:{value:"false",computed:!1},tags:{},name:"sdf"}],examples:Te(68732)}},3700:function(_e,be,Te){_e.exports={doclets:{},displayName:"LanguageControl",description:"Adds support for switching the language of your map style.\n",methods:[],props:[{required:!1,flowType:{name:"string"},description:"Name of the default language to initialize style after loading.",tags:{},name:"defaultLanguage"},{required:!1,flowType:{name:"Function"},description:"Given a language choose the field in the vector tiles",tags:{},name:"getLanguageField"},{required:!1,flowType:{name:"string"},description:"Name of the language to set",tags:{},name:"language"},{required:!1,flowType:{name:"RegExp"},description:"RegExp to match if a text-field is a language field\n(optional, default /^\\{name/)",tags:{},name:"languageField"},{required:!1,flowType:{name:"string"},description:"Name of the source that contains the different languages.",tags:{},name:"languageSource"},{required:!1,flowType:{name:"Function"},description:"Custom style transformation to apply",tags:{},name:"languageTransform"},{required:!1,flowType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"List of supported languages",tags:{},name:"supportedLanguages"}],tags:{},examples:Te(19810)}},13710:function(_e,be,Te){_e.exports={doclets:{},displayName:"Layer",description:"",methods:[],props:[{required:!0,flowType:{name:"string"},description:"Mapbox GL Layer id",tags:{},name:"id"},{required:!1,flowType:{name:"string"},description:"The id of an existing layer to insert the new layer before.",tags:{},name:"before"},{required:!1,flowType:{name:"signature",type:"function",raw:"(event: InteractionEvent) => any",signature:{arguments:[{name:"event",type:{name:"signature",type:"object",raw:"{ ...MapMouseEvent, features?: GeoJSONFeature[] }",signature:{properties:[{key:"features",value:{name:"Array",elements:[{name:"GeoJSONFeature"}],raw:"GeoJSONFeature[]",required:!1}}]}}}],return:{name:"any"}}},description:"Called when the layer is clicked.",tags:{callback:[{title:"callback",description:null}],param:[{title:"param",description:"The mouse event.",type:{type:"NameExpression",name:"Object"},name:"event"},{title:"param",description:"The coordinates of the pointer",type:{type:"ArrayType",elements:[{type:"NameExpression",name:"Number"},{type:"NameExpression",name:"Number"}]},name:"event.lngLat"},{title:"param",description:"The features under the pointer,\nusing Mapbox's queryRenderedFeatures API:\nhttps://www.mapbox.com/mapbox-gl-js/api/#Map#queryRenderedFeatures",type:{type:"NameExpression",name:"Array"},name:"event.features"}]},name:"onClick"},{required:!1,flowType:{name:"signature",type:"function",raw:"(event: InteractionEvent) => any",signature:{arguments:[{name:"event",type:{name:"signature",type:"object",raw:"{ ...MapMouseEvent, features?: GeoJSONFeature[] }",signature:{properties:[{key:"features",value:{name:"Array",elements:[{name:"GeoJSONFeature"}],raw:"GeoJSONFeature[]",required:!1}}]}}}],return:{name:"any"}}},description:"Called when the layer is right-clicked.",tags:{callback:[{title:"callback",description:null}],param:[{title:"param",description:"The mouse event.",type:{type:"NameExpression",name:"Object"},name:"event"},{title:"param",description:"The coordinates of the pointer",type:{type:"ArrayType",elements:[{type:"NameExpression",name:"Number"},{type:"NameExpression",name:"Number"}]},name:"event.lngLat"},{title:"param",description:"The features under the pointer,\nusing Mapbox's queryRenderedFeatures API:\nhttps://www.mapbox.com/mapbox-gl-js/api/#Map#queryRenderedFeatures",type:{type:"NameExpression",name:"Array"},name:"event.features"}]},name:"onContextMenu"},{required:!1,flowType:{name:"signature",type:"function",raw:"(event: InteractionEvent) => any",signature:{arguments:[{name:"event",type:{name:"signature",type:"object",raw:"{ ...MapMouseEvent, features?: GeoJSONFeature[] }",signature:{properties:[{key:"features",value:{name:"Array",elements:[{name:"GeoJSONFeature"}],raw:"GeoJSONFeature[]",required:!1}}]}}}],return:{name:"any"}}},description:"Called when the layer feature is entered.",tags:{callback:[{title:"callback",description:null}],param:[{title:"param",description:"The mouse event.",type:{type:"NameExpression",name:"Object"},name:"event"},{title:"param",description:"The coordinates of the pointer",type:{type:"ArrayType",elements:[{type:"NameExpression",name:"Number"},{type:"NameExpression",name:"Number"}]},name:"event.lngLat"},{title:"param",description:"The features under the pointer,\nusing Mapbox's queryRenderedFeatures API:\nhttps://www.mapbox.com/mapbox-gl-js/api/#Map#queryRenderedFeatures",type:{type:"NameExpression",name:"Array"},name:"event.features"}]},name:"onEnter"},{required:!1,flowType:{name:"signature",type:"function",raw:"(event: InteractionEvent) => any",signature:{arguments:[{name:"event",type:{name:"signature",type:"object",raw:"{ ...MapMouseEvent, features?: GeoJSONFeature[] }",signature:{properties:[{key:"features",value:{name:"Array",elements:[{name:"GeoJSONFeature"}],raw:"GeoJSONFeature[]",required:!1}}]}}}],return:{name:"any"}}},description:"Called when the layer is hovered over.",tags:{callback:[{title:"callback",description:null}],param:[{title:"param",description:"The mouse event.",type:{type:"NameExpression",name:"Object"},name:"event"},{title:"param",description:"The coordinates of the pointer",type:{type:"ArrayType",elements:[{type:"NameExpression",name:"Number"},{type:"NameExpression",name:"Number"}]},name:"event.lngLat"},{title:"param",description:"The features under the pointer,\nusing Mapbox's queryRenderedFeatures API:\nhttps://www.mapbox.com/mapbox-gl-js/api/#Map#queryRenderedFeatures",type:{type:"NameExpression",name:"Array"},name:"event.features"}]},name:"onHover"},{required:!1,flowType:{name:"signature",type:"function",raw:"(event: InteractionEvent) => any",signature:{arguments:[{name:"event",type:{name:"signature",type:"object",raw:"{ ...MapMouseEvent, features?: GeoJSONFeature[] }",signature:{properties:[{key:"features",value:{name:"Array",elements:[{name:"GeoJSONFeature"}],raw:"GeoJSONFeature[]",required:!1}}]}}}],return:{name:"any"}}},description:"Called when the layer feature is leaved.",tags:{callback:[{title:"callback",description:null}],param:[{title:"param",description:"The mouse event.",type:{type:"NameExpression",name:"Object"},name:"event"},{title:"param",description:"The coordinates of the pointer",type:{type:"ArrayType",elements:[{type:"NameExpression",name:"Number"},{type:"NameExpression",name:"Number"}]},name:"event.lngLat"},{title:"param",description:"The features under the pointer,\nusing Mapbox's queryRenderedFeatures API:\nhttps://www.mapbox.com/mapbox-gl-js/api/#Map#queryRenderedFeatures",type:{type:"NameExpression",name:"Array"},name:"event.features"}]},name:"onLeave"},{required:!1,flowType:{name:"number"},description:"Radius to detect features around a clicked/hovered point",defaultValue:{value:"0",computed:!1},tags:{},name:"radius"}],composes:["LayerSpecification"],examples:Te(94235)}},57825:function(_e,be,Te){_e.exports={doclets:{},displayName:"MapGL",description:"",methods:[],props:[{required:!0,flowType:{name:"number"},description:"The latitude of the center of the map.",tags:{},name:"latitude"},{required:!0,flowType:{name:"number"},description:"The longitude of the center of the map.",tags:{},name:"longitude"},{required:!0,flowType:{name:"number"},description:"The tile zoom level of the map.",tags:{},name:"zoom"},{required:!1,flowType:{name:"string"},description:"Mapbox API access token for mapbox-gl-js.\nRequired when using Mapbox vector tiles/styles.",defaultValue:{value:"null",computed:!1},tags:{},name:"accessToken"},{required:!1,flowType:{name:"boolean"},description:"If `true`, the gl context will be created with MSAA antialiasing,\nwhich can be useful for antialiasing custom layers. this is `false`\nby default as a performance optimization.",defaultValue:{value:"false",computed:!1},tags:{},name:"antialias"},{required:!1,flowType:{name:"boolean"},description:"If `true`, an AttributionControl will be added to the map.",defaultValue:{value:"true",computed:!1},tags:{},name:"attributionControl"},{required:!1,flowType:{name:"number"},description:"Specify the bearing of the viewport",defaultValue:{value:"0",computed:!1},tags:{},name:"bearing"},{required:!1,flowType:{name:"number"},description:"The threshold, measured in degrees, that determines when\nthe map's bearing (rotation) will snap to north. For\nexample, with a  bearingSnap of 7, if the user rotates the\nmap within 7 degrees of north, the map will automatically\nsnap to exact north.",defaultValue:{value:"7",computed:!1},tags:{},name:"bearingSnap"},{required:!1,flowType:{name:"MapboxLngLatBoundsLike"},description:"The initial bounds of the map. If bounds is specified,\nit overrides center and zoom constructor options.",defaultValue:{value:"null",computed:!1},tags:{},name:"bounds"},{required:!1,flowType:{name:"boolean"},description:'If `true`, the "box zoom" interaction is enabled',defaultValue:{value:"true",computed:!1},tags:{},name:"boxZoom"},{required:!1,flowType:{name:"ChildrenArray",elements:[{name:"Element",elements:[{name:"any"}],raw:"Element<any>"}],raw:"ChildrenArray<Element<any>>"},description:"MapGL children as Sources, Layers, Controls, and custom Components",defaultValue:{value:"null",computed:!1},tags:{},name:"children"},{required:!1,flowType:{name:"string"},description:"container className",defaultValue:{value:"null",computed:!1},tags:{},name:"className"},{required:!1,flowType:{name:"boolean"},description:"If true, Resource Timing API information will be collected for\nrequests made by GeoJSON and Vector Tile web workers (this information\nis normally inaccessible from the main Javascript thread). Information\nwill be returned in a resourceTiming property of relevant data events.",defaultValue:{value:"false",computed:!1},tags:{},name:"collectResourceTiming"},{required:!1,flowType:{name:"boolean"},description:"If `true`, symbols from multiple sources can collide with each\nother during collision detection. If `false`, collision detection\nis run separately for the symbols in each source.",defaultValue:{value:"true",computed:!1},tags:{},name:"crossSourceCollisions"},{required:!1,flowType:{name:"string"},description:"Map cursor style as CSS value",defaultValue:{value:"null",computed:!1},tags:{},name:"cursorStyle"},{required:!1,flowType:{name:"boolean"},description:'If `true`, the "double click to zoom" interaction is enabled',defaultValue:{value:"true",computed:!1},tags:{},name:"doubleClickZoom"},{required:!1,flowType:{name:"boolean"},description:'If `true`, the "drag to pan" interaction is enabled',defaultValue:{value:"true",computed:!1},tags:{},name:"dragPan"},{required:!1,flowType:{name:"boolean"},description:'If `true`, the "drag to rotate" interaction is enabled',defaultValue:{value:"true",computed:!1},tags:{},name:"dragRotate"},{required:!1,flowType:{name:"number"},description:"Controls the duration of the fade-in/fade-out animation for label\ncollisions, in milliseconds. This setting affects all symbol layers.\nThis setting does not affect the duration of runtime styling transitions\nor raster tile cross-fading.",defaultValue:{value:"300",computed:!1},tags:{},name:"fadeDuration"},{required:!1,flowType:{name:"boolean"},description:"If `true`, map creation will fail if the performance of Mapbox\nGL JS would be dramatically worse than expected (i.e. a software\nrenderer would be used).",defaultValue:{value:"false",computed:!1},tags:{},name:"failIfMajorPerformanceCaveat"},{required:!1,flowType:{name:"boolean"},description:"If `true`, the map's position (zoom, center latitude,\ncenter longitude, bearing, and pitch) will be synced\nwith the hash fragment of the page's URL. For example,\nhttp://path/to/my/page.html#2.59/39.26/53.07/-24.1/60.",defaultValue:{value:"false",computed:!1},tags:{},name:"hash"},{required:!1,flowType:{name:"boolean"},description:"If `true`, keyboard shortcuts are enabled",defaultValue:{value:"true",computed:!1},tags:{},name:"keyboard"},{required:!1,flowType:{name:"boolean"},description:"If specified, defines a CSS font-family for locally overriding\ngeneration of glyphs in the 'CJK Unified Ideographs' and\n'Hangul Syllables' ranges. In these ranges, font settings from the\nmap's style will be ignored, except for font-weight keywords\n(light/regular/medium/bold). The purpose of this option is to avoid\nbandwidth-intensive glyph server requests.\n(see https://www.mapbox.com/mapbox-gl-js/example/local-ideographs )",defaultValue:{value:"null",computed:!1},tags:{},name:"localIdeographFontFamily"},{required:!1,flowType:{name:"string"},description:"A patch to apply to the default localization table for UI strings,\ne.g. control tooltips. The `locale` object maps namespaced UI string IDs\nto translated strings in the target language;\nsee `src/ui/default_locale.js` for an example with all supported\nstring IDs. The object may specify all UI strings (thereby adding support\nfor a new translation) or only a subset of strings (thereby patching\nthe default translation table).",defaultValue:{value:"null",computed:!1},tags:{},name:"locale"},{required:!1,flowType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"",defaultValue:{value:"'bottom-left'",computed:!1},tags:{},name:"logoPosition"},{required:!1,flowType:{name:"union",raw:"string | StyleSpecification",elements:[{name:"string"},{name:"StyleSpecification"}]},description:"The Mapbox style. A string url or a Mapbox GL style object.",defaultValue:{value:"'mapbox://styles/mapbox/light-v8'",computed:!1},tags:{},name:"mapStyle"},{required:!1,flowType:{name:"MapboxLngLatBoundsLike"},description:"If set, the map will be constrained to the given bounds.",defaultValue:{value:"null",computed:!1},tags:{},name:"maxBounds"},{required:!1,flowType:{name:"number"},description:"The maximum number of tiles stored in the tile cache for a given\nsource. If omitted, the cache will be dynamically sized based on\nthe current viewport.",defaultValue:{value:"null",computed:!1},tags:{},name:"maxTileCacheSize"},{required:!1,flowType:{name:"number"},description:"The maximum zoom level of the map (0-22).",defaultValue:{value:"22",computed:!1},tags:{},name:"maxZoom"},{required:!1,flowType:{name:"number"},description:"The minimum zoom level of the map (0-22).",defaultValue:{value:"0",computed:!1},tags:{},name:"minZoom"},{required:!1,flowType:{name:"Function"},description:"The onLoad callback for the map",defaultValue:{value:"null",computed:!1},tags:{},name:"onLoad"},{required:!1,flowType:{name:"signature",type:"function",raw:"(viewport: Viewport) => void",signature:{arguments:[{name:"viewport",type:{name:"signature",type:"object",raw:"{|\n  latitude: number,\n  longitude: number,\n  zoom: number,\n  pitch?: number,\n  bearing?: number\n|}",signature:{properties:[{key:"latitude",value:{name:"number",required:!0}},{key:"longitude",value:{name:"number",required:!0}},{key:"zoom",value:{name:"number",required:!0}},{key:"pitch",value:{name:"number",required:!1}},{key:"bearing",value:{name:"number",required:!1}}]}}}],return:{name:"void"}}},description:"`onViewportChange` callback is fired when the user interacted with the\nmap. The object passed to the callback contains viewport properties\nsuch as `longitude`, `latitude`, `zoom` etc.",defaultValue:{value:"null",computed:!1},tags:{},name:"onViewportChange"},{required:!1,flowType:{name:"number"},description:"Specify the pitch of the viewport",defaultValue:{value:"0",computed:!1},tags:{},name:"pitch"},{required:!1,flowType:{name:"boolean"},description:'If `false`, the map\'s pitch (tilt) control with "drag to\nrotate" interaction will be disabled.',defaultValue:{value:"true",computed:!1},tags:{},name:"pitchWithRotate"},{required:!1,flowType:{name:"boolean"},description:"Mapbox WebGL context creation option.\nUseful when you want to export the canvas as a PNG.",defaultValue:{value:"false",computed:!1},tags:{},name:"preserveDrawingBuffer"},{required:!1,flowType:{name:"boolean"},description:"If `false`, the map won't attempt to re-request tiles once they\nexpire per their HTTP `cacheControl`/`expires` headers.",defaultValue:{value:"true",computed:!1},tags:{},name:"refreshExpiredTiles"},{required:!1,flowType:{name:"boolean"},description:"If `true`, multiple copies of the world\nwill be rendered, when zoomed out",defaultValue:{value:"true",computed:!1},tags:{},name:"renderWorldCopies"},{required:!1,flowType:{name:"union",raw:"boolean | Object",elements:[{name:"boolean"},{name:"Object"}]},description:'If `true`, the "scroll to zoom" interaction is enabled.',defaultValue:{value:"true",computed:!1},tags:{},name:"scrollZoom"},{required:!1,flowType:{name:"boolean"},description:"Sets a Boolean indicating whether the map will render an outline around\neach tile and the tile ID. These tile boundaries are useful for debugging.",tags:{},name:"showTileBoundaries"},{required:!1,flowType:{name:"signature",type:"object",raw:"{\n  [CSSProperty: string]: any\n}",signature:{properties:[{key:{name:"string"},value:{name:"any",required:!0}}]}},description:"container style",defaultValue:{value:"null",computed:!1},tags:{},name:"style"},{required:!1,flowType:{name:"boolean"},description:"If `true`, the map will automatically resize\nwhen the browser window resizes.",defaultValue:{value:"true",computed:!1},tags:{},name:"trackResize"},{required:!1,flowType:{name:"signature",type:"function",raw:"(\n  url: string,\n  resourceType: string\n) => { url: string, headers?: Object, credentials?: string }",signature:{arguments:[{name:"url",type:{name:"string"}},{name:"resourceType",type:{name:"string"}}],return:{name:"signature",type:"object",raw:"{ url: string, headers?: Object, credentials?: string }",signature:{properties:[{key:"url",value:{name:"string",required:!0}},{key:"headers",value:{name:"Object",required:!1}},{key:"credentials",value:{name:"string",required:!1}}]}}}},description:"A callback run before the Map makes a request for an external URL.\nThe callback can be used to modify the url, set headers, or set the\ncredentials property for cross-origin requests. Expected to return\nan object with a  url property and optionally  headers and\ncredentials properties.",defaultValue:{value:"null",computed:!1},tags:{},name:"transformRequest"},{required:!1,flowType:{name:"union",raw:"'jumpTo' | 'easeTo' | 'flyTo'",elements:[{name:"literal",value:"'jumpTo'"},{name:"literal",value:"'easeTo'"},{name:"literal",value:"'flyTo'"}]},description:"Map method that will be called after new viewport props are received.",defaultValue:{value:"'jumpTo'",computed:!1},tags:{},name:"viewportChangeMethod"},{required:!1,flowType:{name:"AnimationOptions"},description:"Options common to map movement methods that involve animation,\ncontrolling the duration and easing function of the animation.\nThis options will be passed to the `viewportChangeMethod` call.\n(see https://docs.mapbox.com/mapbox-gl-js/api/#animationoptions)",defaultValue:{value:"null",computed:!1},tags:{},name:"viewportChangeOptions"}],examples:Te(83998)}},85669:function(_e,be,Te){_e.exports={doclets:{},displayName:"Marker",description:"",methods:[],props:[{required:!0,flowType:{name:"React$Node"},description:"Marker content",tags:{},name:"children"},{required:!0,flowType:{name:"number"},description:"The latitude of the center of the marker.",tags:{},name:"latitude"},{required:!0,flowType:{name:"number"},description:"The longitude of the center of the marker.",tags:{},name:"longitude"},{required:!1,flowType:{name:"union",raw:"| 'center'\n| 'top'\n| 'bottom'\n| 'left'\n| 'right'\n| 'top-left'\n| 'top-right'\n| 'bottom-left'\n| 'bottom-right'",elements:[{name:"literal",value:"'center'"},{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"A string indicating the part of the Marker\nthat should be positioned closest to the coordinate",defaultValue:{value:"'center'",computed:!1},tags:{},name:"anchor"},{required:!1,flowType:{name:"boolean"},description:"Boolean indicating whether or not a marker is able to be dragged\nto a new position on the map.",defaultValue:{value:"false",computed:!1},tags:{},name:"draggable"},{required:!1,flowType:{name:"PointLike"},description:"The offset in pixels as a `PointLike` object to apply\nrelative to the element's center. Negatives indicate left and up.",defaultValue:{value:"null",computed:!1},tags:{},name:"offset"},{required:!1,flowType:{name:"signature",type:"function",raw:"() => any",signature:{arguments:[],return:{name:"any"}}},description:"Fired when the marker is clicked",tags:{},name:"onClick"},{required:!1,flowType:{name:"signature",type:"function",raw:"(lngLat: LngLat) => any",signature:{arguments:[{name:"lngLat",type:{name:"LngLat"}}],return:{name:"any"}}},description:"Fired when the marker is dragged",tags:{},name:"onDrag"},{required:!1,flowType:{name:"signature",type:"function",raw:"(lngLat: LngLat) => any",signature:{arguments:[{name:"lngLat",type:{name:"LngLat"}}],return:{name:"any"}}},description:"Fired when the marker is finished being dragged",tags:{},name:"onDragEnd"},{required:!1,flowType:{name:"signature",type:"function",raw:"(lngLat: LngLat) => any",signature:{arguments:[{name:"lngLat",type:{name:"LngLat"}}],return:{name:"any"}}},description:"Fired when the marker is finished being dragged",tags:{},name:"onDragStart"},{required:!1,flowType:{name:"string"},description:"map aligns the `Marker` to the plane of the map. `viewport`\naligns the  Marker to the plane of the viewport. `auto` automatically\nmatches the value of `rotationAlignment`.",defaultValue:{value:"'auto'",computed:!1},tags:{},name:"pitchAlignment"},{required:!1,flowType:{name:"number"},description:"The rotation angle of the marker in degrees, relative to its\nrespective `rotationAlignment` setting. A positive value will\nrotate the marker clockwise.",defaultValue:{value:"0",computed:!1},tags:{},name:"rotation"},{required:!1,flowType:{name:"string"},description:"map aligns the `Marker`'s rotation relative to the map, maintaining\na bearing as the map rotates. `viewport` aligns the `Marker`'s rotation\nrelative to the viewport, agnostic to map rotations.\n`auto` is equivalent to `viewport`.",defaultValue:{value:"'auto'",computed:!1},tags:{},name:"rotationAlignment"}],examples:Te(21884)}},48245:function(_e,be,Te){_e.exports={doclets:{},displayName:"NavigationControl",description:"A `NavigationControl` control contains zoom buttons and a compass.\n",methods:[],props:[{required:!1,flowType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"A string representing the position of the control on the map.",defaultValue:{value:"'top-right'",computed:!1},tags:{},name:"position"},{required:!1,flowType:{name:"boolean"},description:"If true the compass button is included.",defaultValue:{value:"true",computed:!1},tags:{},name:"showCompass"},{required:!1,flowType:{name:"boolean"},description:"If true the zoom-in and zoom-out buttons are included.",defaultValue:{value:"true",computed:!1},tags:{},name:"showZoom"},{required:!1,flowType:{name:"boolean"},description:"If true the pitch is visualized by rotating X-axis of compass\nand pitch will reset by clicking on the compass.",defaultValue:{value:"false",computed:!1},tags:{},name:"visualizePitch"}],tags:{},examples:Te(55001)}},25024:function(_e,be,Te){_e.exports={doclets:{},displayName:"Popup",description:"",methods:[],props:[{required:!0,flowType:{name:"React$Node"},description:"Popup content.",tags:{},name:"children"},{required:!0,flowType:{name:"number"},description:"The latitude of the center of the popup.",tags:{},name:"latitude"},{required:!0,flowType:{name:"number"},description:"The longitude of the center of the popup.",tags:{},name:"longitude"},{required:!1,flowType:{name:"union",raw:"| 'top'\n| 'bottom'\n| 'left'\n| 'right'\n| 'top-left'\n| 'top-right'\n| 'bottom-left'\n| 'bottom-right'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"",defaultValue:{value:"undefined",computed:!0},tags:{},name:"anchor"},{required:!1,flowType:{name:"string"},description:"The className of the popup",defaultValue:{value:"undefined",computed:!0},tags:{},name:"className"},{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1},tags:{},name:"closeButton"},{required:!1,flowType:{name:"boolean"},description:"If true, the popup will closed when the map is clicked.",defaultValue:{value:"true",computed:!1},tags:{},name:"closeOnClick"},{required:!1,flowType:{name:"string"},description:"A string that sets the CSS property of the popup's maximum width.",defaultValue:{value:"'240px'",computed:!1},tags:{},name:"maxWidth"},{required:!1,flowType:{name:"MapboxLngLatBoundsLike"},description:"The offset in pixels as a `PointLike` object to apply\nrelative to the element's center. Negatives indicate left and up.",defaultValue:{value:"undefined",computed:!0},tags:{},name:"offset"},{required:!1,flowType:{name:"Function"},description:"The onClose callback is fired when the popup closed.",defaultValue:{value:"undefined",computed:!0},tags:{},name:"onClose"}],examples:Te(52370)}},96996:function(_e,be,Te){_e.exports={doclets:{},displayName:"ScaleControl",description:"A `ScaleControl` control displays the ratio of a distance on the map\nto the corresponding distance on the ground.\n",methods:[],props:[{required:!0,flowType:{name:"number"},description:"",tags:{},name:"maxWidth"},{required:!1,flowType:{name:"union",raw:"'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'",elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-right'"}]},description:"",defaultValue:{value:"'bottom-right'",computed:!1},tags:{},name:"position"},{required:!1,flowType:{name:"union",raw:"'imperial' | 'metric' | 'nautical'",elements:[{name:"literal",value:"'imperial'"},{name:"literal",value:"'metric'"},{name:"literal",value:"'nautical'"}]},description:"",defaultValue:{value:"'metric'",computed:!1},tags:{},name:"unit"}],tags:{},examples:Te(83011)}},14366:function(_e,be,Te){_e.exports={doclets:{},displayName:"Source",description:"",methods:[],props:[{required:!0,flowType:{name:"string"},description:"Mapbox GL Source id",tags:{},name:"id"},{required:!1,flowType:{name:"ChildrenArray",elements:[{name:"Element",elements:[{name:"Layer"}],raw:"Element<typeof Layer>"}],raw:"ChildrenArray<Element<typeof Layer>>"},description:"Layers",tags:{},name:"children"}],composes:["SourceSpecification"],examples:Te(5694)}},50862:function(_e,be,Te){_e.exports={doclets:{},displayName:"TrafficControl",description:"Add a traffic toggle control.\n",methods:[],props:[{required:!1,flowType:{name:"Boolean"},description:"Show or hide traffic overlay by default.",defaultValue:{value:"false",computed:!1},tags:{},name:"showTraffic"},{required:!1,flowType:{name:"Boolean"},description:"Show a toggle button to turn traffic on and off.",defaultValue:{value:"true",computed:!1},tags:{},name:"showTrafficButton"},{required:!1,flowType:{name:"RegExp"},description:"The traffic source regex used to determine whether a layer displays\ntraffic or not",defaultValue:{value:"/mapbox-traffic-v\\d/",computed:!1},tags:{},name:"trafficSource"}],tags:{},examples:Te(78642)}},72801:function(_e,be,Te){_e.exports={config:{compilerConfig:{objectAssign:"Object.assign",target:{ie:11},transforms:{modules:!1,dangerousTaggedTemplateString:!0,asyncAwait:!1}},tocMode:"expand",mountPointId:"rsg-root",pagePerSection:!0,previewDelay:500,ribbon:void 0,showSidebar:!0,styles:{},theme:{},title:"Urbica React Map GL",version:void 0},welcomeScreen:!1,patterns:void 0,sections:[{name:"Introduction",content:Te(33547),exampleMode:"expand",usageMode:"expand",sectionDepth:0,slug:"section-introduction",sections:[],href:void 0,components:[]},{name:"Installation",content:Te(11640),exampleMode:"expand",usageMode:"expand",sectionDepth:0,slug:"section-installation",sections:[],href:void 0,components:[]},{name:"Components",sectionDepth:1,components:[{filepath:"src/components/MapGL/index.js",slug:"mapgl",pathLine:"src/components/MapGL/index.js",module:Te(66586),props:Te(57825),hasExamples:!0,metadata:{}},{filepath:"src/components/Source/index.js",slug:"source",pathLine:"src/components/Source/index.js",module:Te(91943),props:Te(14366),hasExamples:!0,metadata:{}},{filepath:"src/components/Layer/index.js",slug:"layer",pathLine:"src/components/Layer/index.js",module:Te(37363),props:Te(13710),hasExamples:!0,metadata:{}},{filepath:"src/components/CustomLayer/index.js",slug:"customlayer",pathLine:"src/components/CustomLayer/index.js",module:Te(54177),props:Te(80042),hasExamples:!0,metadata:{}},{filepath:"src/components/Image/index.js",slug:"image",pathLine:"src/components/Image/index.js",module:Te(19877),props:Te(58345),hasExamples:!0,metadata:{}},{filepath:"src/components/Popup/index.js",slug:"popup",pathLine:"src/components/Popup/index.js",module:Te(14962),props:Te(25024),hasExamples:!0,metadata:{}},{filepath:"src/components/Marker/index.js",slug:"marker",pathLine:"src/components/Marker/index.js",module:Te(16353),props:Te(85669),hasExamples:!0,metadata:{}},{filepath:"src/components/FeatureState/index.js",slug:"featurestate",pathLine:"src/components/FeatureState/index.js",module:Te(49060),props:Te(44101),hasExamples:!0,metadata:{}},{filepath:"src/components/Filter/index.js",slug:"filter",pathLine:"src/components/Filter/index.js",module:Te(73985),props:Te(77455),hasExamples:!0,metadata:{}}],exampleMode:"expand",usageMode:"expand",slug:"section-components",sections:[],href:void 0,content:void 0},{name:"Controls",sectionDepth:1,components:[{filepath:"src/components/AttributionControl/index.js",slug:"attributioncontrol",pathLine:"src/components/AttributionControl/index.js",module:Te(29937),props:Te(57610),hasExamples:!0,metadata:{}},{filepath:"src/components/FullscreenControl/index.js",slug:"fullscreencontrol",pathLine:"src/components/FullscreenControl/index.js",module:Te(54173),props:Te(95219),hasExamples:!0,metadata:{}},{filepath:"src/components/GeolocateControl/index.js",slug:"geolocatecontrol",pathLine:"src/components/GeolocateControl/index.js",module:Te(51043),props:Te(31235),hasExamples:!0,metadata:{}},{filepath:"src/components/NavigationControl/index.js",slug:"navigationcontrol",pathLine:"src/components/NavigationControl/index.js",module:Te(96402),props:Te(48245),hasExamples:!0,metadata:{}},{filepath:"src/components/ScaleControl/index.js",slug:"scalecontrol",pathLine:"src/components/ScaleControl/index.js",module:Te(15993),props:Te(96996),hasExamples:!0,metadata:{}},{filepath:"src/components/LanguageControl/index.js",slug:"languagecontrol",pathLine:"src/components/LanguageControl/index.js",module:Te(82302),props:Te(3700),hasExamples:!0,metadata:{}},{filepath:"src/components/TrafficControl/index.js",slug:"trafficcontrol",pathLine:"src/components/TrafficControl/index.js",module:Te(83644),props:Te(50862),hasExamples:!0,metadata:{}}],exampleMode:"expand",usageMode:"expand",slug:"section-controls",sections:[],href:void 0,content:void 0}]}},70259:function(_e,be,Te){"use strict";function evalInContext(_e,be,Te){return new Function("require","state","setState",_e+"\n{"+Te+"}").bind(null,be)}Te.d(be,{Z:function(){return evalInContext}})},44252:function(_e,be,Te){"use strict";function requireInRuntime(_e,be){if(!(be in _e))throw new Error("import or require() statements can be added only by editing a Markdown example file: "+be);return _e[be]}Te.d(be,{Z:function(){return requireInRuntime}})},3386:function(_e,be){"use strict";be.tI=be.aJ=be.ve=void 0;be.ve="https://react-styleguidist.js.org/";be.aJ="https://react-styleguidist.js.org/docs/components";be.tI="https://react-styleguidist.js.org/docs/documenting"},72408:function(_e,be){"use strict";var Te=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),pt=Symbol.for("react.fragment"),vt=Symbol.for("react.strict_mode"),xt=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),It=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),Ft=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Vt=Symbol.iterator;function A(_e){return null===_e||"object"!=typeof _e?null:"function"==typeof(_e=Vt&&_e[Vt]||_e["@@iterator"])?_e:null}var qt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wt=Object.assign,$t={};function E(_e,be,Te){this.props=_e,this.context=be,this.refs=$t,this.updater=Te||qt}function F(){}function G(_e,be,Te){this.props=_e,this.context=be,this.refs=$t,this.updater=Te||qt}E.prototype.isReactComponent={},E.prototype.setState=function(_e,be){if("object"!=typeof _e&&"function"!=typeof _e&&null!=_e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,be,"setState")},E.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")},F.prototype=E.prototype;var Kt=G.prototype=new F;Kt.constructor=G,Wt(Kt,E.prototype),Kt.isPureReactComponent=!0;var Jt=Array.isArray,Yt=Object.prototype.hasOwnProperty,Qt={current:null},an={key:!0,ref:!0,__self:!0,__source:!0};function M(_e,be,Pe){var pt,vt={},xt=null,Tt=null;if(null!=be)for(pt in void 0!==be.ref&&(Tt=be.ref),void 0!==be.key&&(xt=""+be.key),be)Yt.call(be,pt)&&!an.hasOwnProperty(pt)&&(vt[pt]=be[pt]);var It=arguments.length-2;if(1===It)vt.children=Pe;else if(1<It){for(var Mt=Array(It),Lt=0;Lt<It;Lt++)Mt[Lt]=arguments[Lt+2];vt.children=Mt}if(_e&&_e.defaultProps)for(pt in It=_e.defaultProps)void 0===vt[pt]&&(vt[pt]=It[pt]);return{$$typeof:Te,type:_e,key:xt,ref:Tt,props:vt,_owner:Qt.current}}function N(_e,be){return{$$typeof:Te,type:_e.type,key:be,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O(_e){return"object"==typeof _e&&null!==_e&&_e.$$typeof===Te}function escape(_e){var be={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,(function(_e){return be[_e]}))}var cn=/\/+/g;function Q(_e,be){return"object"==typeof _e&&null!==_e&&null!=_e.key?escape(""+_e.key):be.toString(36)}function R(_e,be,pt,vt,xt){var Tt=typeof _e;"undefined"!==Tt&&"boolean"!==Tt||(_e=null);var It=!1;if(null===_e)It=!0;else switch(Tt){case"string":case"number":It=!0;break;case"object":switch(_e.$$typeof){case Te:case Pe:It=!0}}if(It)return xt=xt(It=_e),_e=""===vt?"."+Q(It,0):vt,Jt(xt)?(pt="",null!=_e&&(pt=_e.replace(cn,"$&/")+"/"),R(xt,be,pt,"",(function(_e){return _e}))):null!=xt&&(O(xt)&&(xt=N(xt,pt+(!xt.key||It&&It.key===xt.key?"":(""+xt.key).replace(cn,"$&/")+"/")+_e)),be.push(xt)),1;if(It=0,vt=""===vt?".":vt+":",Jt(_e))for(var Mt=0;Mt<_e.length;Mt++){var Lt=vt+Q(Tt=_e[Mt],Mt);It+=R(Tt,be,pt,Lt,xt)}else if("function"==typeof(Lt=A(_e)))for(_e=Lt.call(_e),Mt=0;!(Tt=_e.next()).done;)It+=R(Tt=Tt.value,be,pt,Lt=vt+Q(Tt,Mt++),xt);else if("object"===Tt)throw be=String(_e),Error("Objects are not valid as a React child (found: "+("[object Object]"===be?"object with keys {"+Object.keys(_e).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.");return It}function S(_e,be,Te){if(null==_e)return _e;var Pe=[],pt=0;return R(_e,Pe,"","",(function(_e){return be.call(Te,_e,pt++)})),Pe}function T(_e){if(-1===_e._status){var be=_e._result;(be=be()).then((function(be){0!==_e._status&&-1!==_e._status||(_e._status=1,_e._result=be)}),(function(be){0!==_e._status&&-1!==_e._status||(_e._status=2,_e._result=be)})),-1===_e._status&&(_e._status=0,_e._result=be)}if(1===_e._status)return _e._result.default;throw _e._result}var hn={current:null},pn={transition:null},xn={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:pn,ReactCurrentOwner:Qt};be.Children={map:S,forEach:function(_e,be,Te){S(_e,(function(){be.apply(this,arguments)}),Te)},count:function(_e){var be=0;return S(_e,(function(){be++})),be},toArray:function(_e){return S(_e,(function(_e){return _e}))||[]},only:function(_e){if(!O(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}},be.Component=E,be.Fragment=pt,be.Profiler=xt,be.PureComponent=G,be.StrictMode=vt,be.Suspense=Lt,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xn,be.cloneElement=function(_e,be,Pe){if(null==_e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var pt=Wt({},_e.props),vt=_e.key,xt=_e.ref,Tt=_e._owner;if(null!=be){if(void 0!==be.ref&&(xt=be.ref,Tt=Qt.current),void 0!==be.key&&(vt=""+be.key),_e.type&&_e.type.defaultProps)var It=_e.type.defaultProps;for(Mt in be)Yt.call(be,Mt)&&!an.hasOwnProperty(Mt)&&(pt[Mt]=void 0===be[Mt]&&void 0!==It?It[Mt]:be[Mt])}var Mt=arguments.length-2;if(1===Mt)pt.children=Pe;else if(1<Mt){It=Array(Mt);for(var Lt=0;Lt<Mt;Lt++)It[Lt]=arguments[Lt+2];pt.children=It}return{$$typeof:Te,type:_e.type,key:vt,ref:xt,props:pt,_owner:Tt}},be.createContext=function(_e){return(_e={$$typeof:It,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:Tt,_context:_e},_e.Consumer=_e},be.createElement=M,be.createFactory=function(_e){var be=M.bind(null,_e);return be.type=_e,be},be.createRef=function(){return{current:null}},be.forwardRef=function(_e){return{$$typeof:Mt,render:_e}},be.isValidElement=O,be.lazy=function(_e){return{$$typeof:Ot,_payload:{_status:-1,_result:_e},_init:T}},be.memo=function(_e,be){return{$$typeof:Ft,type:_e,compare:void 0===be?null:be}},be.startTransition=function(_e){var be=pn.transition;pn.transition={};try{_e()}finally{pn.transition=be}},be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},be.useCallback=function(_e,be){return hn.current.useCallback(_e,be)},be.useContext=function(_e){return hn.current.useContext(_e)},be.useDebugValue=function(){},be.useDeferredValue=function(_e){return hn.current.useDeferredValue(_e)},be.useEffect=function(_e,be){return hn.current.useEffect(_e,be)},be.useId=function(){return hn.current.useId()},be.useImperativeHandle=function(_e,be,Te){return hn.current.useImperativeHandle(_e,be,Te)},be.useInsertionEffect=function(_e,be){return hn.current.useInsertionEffect(_e,be)},be.useLayoutEffect=function(_e,be){return hn.current.useLayoutEffect(_e,be)},be.useMemo=function(_e,be){return hn.current.useMemo(_e,be)},be.useReducer=function(_e,be,Te){return hn.current.useReducer(_e,be,Te)},be.useRef=function(_e){return hn.current.useRef(_e)},be.useState=function(_e){return hn.current.useState(_e)},be.useSyncExternalStore=function(_e,be,Te){return hn.current.useSyncExternalStore(_e,be,Te)},be.useTransition=function(){return hn.current.useTransition()},be.version="18.2.0"},67294:function(_e,be,Te){"use strict";_e.exports=Te(72408)},46962:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(0,127),_e.exports=Pe},60270:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(48,57).addRange(65,70).addRange(97,102),_e.exports=Pe},26969:function(_e,be,Te){const Pe=Te(78776)(170,181,186,748,750,837,895,902,908,1369,1471,1479,1791,2042,2482,2510,2519,2556,2641,2654,2768,2929,2972,3024,3031,3294,3406,3517,3542,3661,3716,3749,3782,3789,3840,4152,4295,4301,4696,4800,6103,6108,6823,7418,8025,8027,8029,8126,8305,8319,8450,8455,8469,8484,8486,8488,8526,11559,11565,11631,11823,43205,43259,43471,43712,43714,64318,67592,67644,69415,70006,70106,70108,70199,70206,70280,70480,70487,70855,71232,71236,71352,71945,72161,72349,72768,73018,73027,73112,73648,94179,113822,119970,119995,120134,123214,125255,125259,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590);Pe.addRange(65,90).addRange(97,122).addRange(192,214).addRange(216,246).addRange(248,705).addRange(710,721).addRange(736,740).addRange(880,884).addRange(886,887).addRange(890,893).addRange(904,906).addRange(910,929).addRange(931,1013).addRange(1015,1153).addRange(1162,1327).addRange(1329,1366).addRange(1376,1416).addRange(1456,1469).addRange(1473,1474).addRange(1476,1477).addRange(1488,1514).addRange(1519,1522).addRange(1552,1562).addRange(1568,1623).addRange(1625,1631).addRange(1646,1747).addRange(1749,1756).addRange(1761,1768).addRange(1773,1775).addRange(1786,1788).addRange(1808,1855).addRange(1869,1969).addRange(1994,2026).addRange(2036,2037).addRange(2048,2071).addRange(2074,2092).addRange(2112,2136).addRange(2144,2154).addRange(2208,2228).addRange(2230,2247).addRange(2260,2271).addRange(2275,2281).addRange(2288,2363).addRange(2365,2380).addRange(2382,2384).addRange(2389,2403).addRange(2417,2435).addRange(2437,2444).addRange(2447,2448).addRange(2451,2472).addRange(2474,2480),Pe.addRange(2486,2489).addRange(2493,2500).addRange(2503,2504).addRange(2507,2508).addRange(2524,2525).addRange(2527,2531).addRange(2544,2545).addRange(2561,2563).addRange(2565,2570).addRange(2575,2576).addRange(2579,2600).addRange(2602,2608).addRange(2610,2611).addRange(2613,2614).addRange(2616,2617).addRange(2622,2626).addRange(2631,2632).addRange(2635,2636).addRange(2649,2652).addRange(2672,2677).addRange(2689,2691).addRange(2693,2701).addRange(2703,2705).addRange(2707,2728).addRange(2730,2736).addRange(2738,2739).addRange(2741,2745).addRange(2749,2757).addRange(2759,2761).addRange(2763,2764).addRange(2784,2787).addRange(2809,2812).addRange(2817,2819).addRange(2821,2828).addRange(2831,2832).addRange(2835,2856).addRange(2858,2864).addRange(2866,2867).addRange(2869,2873).addRange(2877,2884).addRange(2887,2888).addRange(2891,2892).addRange(2902,2903).addRange(2908,2909).addRange(2911,2915).addRange(2946,2947).addRange(2949,2954).addRange(2958,2960).addRange(2962,2965).addRange(2969,2970).addRange(2974,2975),Pe.addRange(2979,2980).addRange(2984,2986).addRange(2990,3001).addRange(3006,3010).addRange(3014,3016).addRange(3018,3020).addRange(3072,3075).addRange(3077,3084).addRange(3086,3088).addRange(3090,3112).addRange(3114,3129).addRange(3133,3140).addRange(3142,3144).addRange(3146,3148).addRange(3157,3158).addRange(3160,3162).addRange(3168,3171).addRange(3200,3203).addRange(3205,3212).addRange(3214,3216).addRange(3218,3240).addRange(3242,3251).addRange(3253,3257).addRange(3261,3268).addRange(3270,3272).addRange(3274,3276).addRange(3285,3286).addRange(3296,3299).addRange(3313,3314).addRange(3328,3340).addRange(3342,3344).addRange(3346,3386).addRange(3389,3396).addRange(3398,3400).addRange(3402,3404).addRange(3412,3415).addRange(3423,3427).addRange(3450,3455).addRange(3457,3459).addRange(3461,3478).addRange(3482,3505).addRange(3507,3515).addRange(3520,3526).addRange(3535,3540).addRange(3544,3551).addRange(3570,3571).addRange(3585,3642).addRange(3648,3654).addRange(3713,3714).addRange(3718,3722).addRange(3724,3747),Pe.addRange(3751,3769).addRange(3771,3773).addRange(3776,3780).addRange(3804,3807).addRange(3904,3911).addRange(3913,3948).addRange(3953,3969).addRange(3976,3991).addRange(3993,4028).addRange(4096,4150).addRange(4155,4159).addRange(4176,4239).addRange(4250,4253).addRange(4256,4293).addRange(4304,4346).addRange(4348,4680).addRange(4682,4685).addRange(4688,4694).addRange(4698,4701).addRange(4704,4744).addRange(4746,4749).addRange(4752,4784).addRange(4786,4789).addRange(4792,4798).addRange(4802,4805).addRange(4808,4822).addRange(4824,4880).addRange(4882,4885).addRange(4888,4954).addRange(4992,5007).addRange(5024,5109).addRange(5112,5117).addRange(5121,5740).addRange(5743,5759).addRange(5761,5786).addRange(5792,5866).addRange(5870,5880).addRange(5888,5900).addRange(5902,5907).addRange(5920,5939).addRange(5952,5971).addRange(5984,5996).addRange(5998,6e3).addRange(6002,6003).addRange(6016,6067).addRange(6070,6088).addRange(6176,6264).addRange(6272,6314).addRange(6320,6389).addRange(6400,6430).addRange(6432,6443),Pe.addRange(6448,6456).addRange(6480,6509).addRange(6512,6516).addRange(6528,6571).addRange(6576,6601).addRange(6656,6683).addRange(6688,6750).addRange(6753,6772).addRange(6847,6848).addRange(6912,6963).addRange(6965,6979).addRange(6981,6987).addRange(7040,7081).addRange(7084,7087).addRange(7098,7141).addRange(7143,7153).addRange(7168,7222).addRange(7245,7247).addRange(7258,7293).addRange(7296,7304).addRange(7312,7354).addRange(7357,7359).addRange(7401,7404).addRange(7406,7411).addRange(7413,7414).addRange(7424,7615).addRange(7655,7668).addRange(7680,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8124).addRange(8130,8132).addRange(8134,8140).addRange(8144,8147).addRange(8150,8155).addRange(8160,8172).addRange(8178,8180).addRange(8182,8188).addRange(8336,8348).addRange(8458,8467).addRange(8473,8477).addRange(8490,8493).addRange(8495,8505).addRange(8508,8511).addRange(8517,8521).addRange(8544,8584).addRange(9398,9449),Pe.addRange(11264,11310).addRange(11312,11358).addRange(11360,11492).addRange(11499,11502).addRange(11506,11507).addRange(11520,11557).addRange(11568,11623).addRange(11648,11670).addRange(11680,11686).addRange(11688,11694).addRange(11696,11702).addRange(11704,11710).addRange(11712,11718).addRange(11720,11726).addRange(11728,11734).addRange(11736,11742).addRange(11744,11775).addRange(12293,12295).addRange(12321,12329).addRange(12337,12341).addRange(12344,12348).addRange(12353,12438).addRange(12445,12447).addRange(12449,12538).addRange(12540,12543).addRange(12549,12591).addRange(12593,12686).addRange(12704,12735).addRange(12784,12799).addRange(13312,19903).addRange(19968,40956).addRange(40960,42124).addRange(42192,42237).addRange(42240,42508).addRange(42512,42527).addRange(42538,42539).addRange(42560,42606).addRange(42612,42619).addRange(42623,42735).addRange(42775,42783).addRange(42786,42888).addRange(42891,42943).addRange(42946,42954).addRange(42997,43013).addRange(43015,43047).addRange(43072,43123).addRange(43136,43203).addRange(43250,43255).addRange(43261,43263).addRange(43274,43306).addRange(43312,43346),Pe.addRange(43360,43388).addRange(43392,43442).addRange(43444,43455).addRange(43488,43503).addRange(43514,43518).addRange(43520,43574).addRange(43584,43597).addRange(43616,43638).addRange(43642,43710).addRange(43739,43741).addRange(43744,43759).addRange(43762,43765).addRange(43777,43782).addRange(43785,43790).addRange(43793,43798).addRange(43808,43814).addRange(43816,43822).addRange(43824,43866).addRange(43868,43881).addRange(43888,44010).addRange(44032,55203).addRange(55216,55238).addRange(55243,55291).addRange(63744,64109).addRange(64112,64217).addRange(64256,64262).addRange(64275,64279).addRange(64285,64296).addRange(64298,64310).addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64433).addRange(64467,64829).addRange(64848,64911).addRange(64914,64967).addRange(65008,65019).addRange(65136,65140).addRange(65142,65276).addRange(65313,65338).addRange(65345,65370).addRange(65382,65470).addRange(65474,65479).addRange(65482,65487).addRange(65490,65495).addRange(65498,65500).addRange(65536,65547).addRange(65549,65574).addRange(65576,65594).addRange(65596,65597).addRange(65599,65613),Pe.addRange(65616,65629).addRange(65664,65786).addRange(65856,65908).addRange(66176,66204).addRange(66208,66256).addRange(66304,66335).addRange(66349,66378).addRange(66384,66426).addRange(66432,66461).addRange(66464,66499).addRange(66504,66511).addRange(66513,66517).addRange(66560,66717).addRange(66736,66771).addRange(66776,66811).addRange(66816,66855).addRange(66864,66915).addRange(67072,67382).addRange(67392,67413).addRange(67424,67431).addRange(67584,67589).addRange(67594,67637).addRange(67639,67640).addRange(67647,67669).addRange(67680,67702).addRange(67712,67742).addRange(67808,67826).addRange(67828,67829).addRange(67840,67861).addRange(67872,67897).addRange(67968,68023).addRange(68030,68031).addRange(68096,68099).addRange(68101,68102).addRange(68108,68115).addRange(68117,68119).addRange(68121,68149).addRange(68192,68220).addRange(68224,68252).addRange(68288,68295).addRange(68297,68324).addRange(68352,68405).addRange(68416,68437).addRange(68448,68466).addRange(68480,68497).addRange(68608,68680).addRange(68736,68786).addRange(68800,68850).addRange(68864,68903).addRange(69248,69289).addRange(69291,69292),Pe.addRange(69296,69297).addRange(69376,69404).addRange(69424,69445).addRange(69552,69572).addRange(69600,69622).addRange(69632,69701).addRange(69762,69816).addRange(69840,69864).addRange(69888,69938).addRange(69956,69959).addRange(69968,70002).addRange(70016,70079).addRange(70081,70084).addRange(70094,70095).addRange(70144,70161).addRange(70163,70196).addRange(70272,70278).addRange(70282,70285).addRange(70287,70301).addRange(70303,70312).addRange(70320,70376).addRange(70400,70403).addRange(70405,70412).addRange(70415,70416).addRange(70419,70440).addRange(70442,70448).addRange(70450,70451).addRange(70453,70457).addRange(70461,70468).addRange(70471,70472).addRange(70475,70476).addRange(70493,70499).addRange(70656,70721).addRange(70723,70725).addRange(70727,70730).addRange(70751,70753).addRange(70784,70849).addRange(70852,70853).addRange(71040,71093).addRange(71096,71102).addRange(71128,71133).addRange(71168,71230).addRange(71296,71349).addRange(71424,71450).addRange(71453,71466).addRange(71680,71736).addRange(71840,71903).addRange(71935,71942).addRange(71948,71955).addRange(71957,71958).addRange(71960,71989),Pe.addRange(71991,71992).addRange(71995,71996).addRange(71999,72002).addRange(72096,72103).addRange(72106,72151).addRange(72154,72159).addRange(72163,72164).addRange(72192,72242).addRange(72245,72254).addRange(72272,72343).addRange(72384,72440).addRange(72704,72712).addRange(72714,72758).addRange(72760,72766).addRange(72818,72847).addRange(72850,72871).addRange(72873,72886).addRange(72960,72966).addRange(72968,72969).addRange(72971,73014).addRange(73020,73021).addRange(73023,73025).addRange(73030,73031).addRange(73056,73061).addRange(73063,73064).addRange(73066,73102).addRange(73104,73105).addRange(73107,73110).addRange(73440,73462).addRange(73728,74649).addRange(74752,74862).addRange(74880,75075).addRange(77824,78894).addRange(82944,83526).addRange(92160,92728).addRange(92736,92766).addRange(92880,92909).addRange(92928,92975).addRange(92992,92995).addRange(93027,93047).addRange(93053,93071).addRange(93760,93823).addRange(93952,94026).addRange(94031,94087).addRange(94095,94111).addRange(94176,94177).addRange(94192,94193).addRange(94208,100343).addRange(100352,101589).addRange(101632,101640).addRange(110592,110878),Pe.addRange(110928,110930).addRange(110948,110951).addRange(110960,111355).addRange(113664,113770).addRange(113776,113788).addRange(113792,113800).addRange(113808,113817).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120512).addRange(120514,120538).addRange(120540,120570).addRange(120572,120596).addRange(120598,120628).addRange(120630,120654).addRange(120656,120686).addRange(120688,120712).addRange(120714,120744).addRange(120746,120770).addRange(120772,120779).addRange(122880,122886).addRange(122888,122904).addRange(122907,122913).addRange(122915,122916).addRange(122918,122922).addRange(123136,123180).addRange(123191,123197).addRange(123584,123627).addRange(124928,125124).addRange(125184,125251).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546),Pe.addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627).addRange(126629,126633).addRange(126635,126651).addRange(127280,127305).addRange(127312,127337).addRange(127344,127369).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546),_e.exports=Pe},22499:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(0,1114111),_e.exports=Pe},9213:function(_e,be,Te){const Pe=Te(78776)(908,2142,2482,2519,2620,2641,2654,2768,2972,3024,3031,3294,3517,3530,3542,3716,3749,3782,4295,4301,4696,4800,6464,8025,8027,8029,11559,11565,64318,65279,65952,66927,67592,67644,67903,69837,70280,70480,70487,71945,73018,73648,119970,119995,120134,123647,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590,917505);Pe.addRange(0,887).addRange(890,895).addRange(900,906).addRange(910,929).addRange(931,1327).addRange(1329,1366).addRange(1369,1418).addRange(1421,1423).addRange(1425,1479).addRange(1488,1514).addRange(1519,1524).addRange(1536,1564).addRange(1566,1805).addRange(1807,1866).addRange(1869,1969).addRange(1984,2042).addRange(2045,2093).addRange(2096,2110).addRange(2112,2139).addRange(2144,2154).addRange(2208,2228).addRange(2230,2247).addRange(2259,2435).addRange(2437,2444).addRange(2447,2448).addRange(2451,2472).addRange(2474,2480).addRange(2486,2489).addRange(2492,2500).addRange(2503,2504).addRange(2507,2510).addRange(2524,2525).addRange(2527,2531).addRange(2534,2558).addRange(2561,2563).addRange(2565,2570).addRange(2575,2576).addRange(2579,2600).addRange(2602,2608).addRange(2610,2611).addRange(2613,2614).addRange(2616,2617).addRange(2622,2626).addRange(2631,2632).addRange(2635,2637).addRange(2649,2652).addRange(2662,2678).addRange(2689,2691).addRange(2693,2701).addRange(2703,2705).addRange(2707,2728),Pe.addRange(2730,2736).addRange(2738,2739).addRange(2741,2745).addRange(2748,2757).addRange(2759,2761).addRange(2763,2765).addRange(2784,2787).addRange(2790,2801).addRange(2809,2815).addRange(2817,2819).addRange(2821,2828).addRange(2831,2832).addRange(2835,2856).addRange(2858,2864).addRange(2866,2867).addRange(2869,2873).addRange(2876,2884).addRange(2887,2888).addRange(2891,2893).addRange(2901,2903).addRange(2908,2909).addRange(2911,2915).addRange(2918,2935).addRange(2946,2947).addRange(2949,2954).addRange(2958,2960).addRange(2962,2965).addRange(2969,2970).addRange(2974,2975).addRange(2979,2980).addRange(2984,2986).addRange(2990,3001).addRange(3006,3010).addRange(3014,3016).addRange(3018,3021).addRange(3046,3066).addRange(3072,3084).addRange(3086,3088).addRange(3090,3112).addRange(3114,3129).addRange(3133,3140).addRange(3142,3144).addRange(3146,3149).addRange(3157,3158).addRange(3160,3162).addRange(3168,3171).addRange(3174,3183).addRange(3191,3212).addRange(3214,3216).addRange(3218,3240).addRange(3242,3251),Pe.addRange(3253,3257).addRange(3260,3268).addRange(3270,3272).addRange(3274,3277).addRange(3285,3286).addRange(3296,3299).addRange(3302,3311).addRange(3313,3314).addRange(3328,3340).addRange(3342,3344).addRange(3346,3396).addRange(3398,3400).addRange(3402,3407).addRange(3412,3427).addRange(3430,3455).addRange(3457,3459).addRange(3461,3478).addRange(3482,3505).addRange(3507,3515).addRange(3520,3526).addRange(3535,3540).addRange(3544,3551).addRange(3558,3567).addRange(3570,3572).addRange(3585,3642).addRange(3647,3675).addRange(3713,3714).addRange(3718,3722).addRange(3724,3747).addRange(3751,3773).addRange(3776,3780).addRange(3784,3789).addRange(3792,3801).addRange(3804,3807).addRange(3840,3911).addRange(3913,3948).addRange(3953,3991).addRange(3993,4028).addRange(4030,4044).addRange(4046,4058).addRange(4096,4293).addRange(4304,4680).addRange(4682,4685).addRange(4688,4694).addRange(4698,4701).addRange(4704,4744).addRange(4746,4749).addRange(4752,4784).addRange(4786,4789).addRange(4792,4798).addRange(4802,4805),Pe.addRange(4808,4822).addRange(4824,4880).addRange(4882,4885).addRange(4888,4954).addRange(4957,4988).addRange(4992,5017).addRange(5024,5109).addRange(5112,5117).addRange(5120,5788).addRange(5792,5880).addRange(5888,5900).addRange(5902,5908).addRange(5920,5942).addRange(5952,5971).addRange(5984,5996).addRange(5998,6e3).addRange(6002,6003).addRange(6016,6109).addRange(6112,6121).addRange(6128,6137).addRange(6144,6158).addRange(6160,6169).addRange(6176,6264).addRange(6272,6314).addRange(6320,6389).addRange(6400,6430).addRange(6432,6443).addRange(6448,6459).addRange(6468,6509).addRange(6512,6516).addRange(6528,6571).addRange(6576,6601).addRange(6608,6618).addRange(6622,6683).addRange(6686,6750).addRange(6752,6780).addRange(6783,6793).addRange(6800,6809).addRange(6816,6829).addRange(6832,6848).addRange(6912,6987).addRange(6992,7036).addRange(7040,7155).addRange(7164,7223).addRange(7227,7241).addRange(7245,7304).addRange(7312,7354).addRange(7357,7367).addRange(7376,7418).addRange(7424,7673).addRange(7675,7957),Pe.addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8132).addRange(8134,8147).addRange(8150,8155).addRange(8157,8175).addRange(8178,8180).addRange(8182,8190).addRange(8192,8292).addRange(8294,8305).addRange(8308,8334).addRange(8336,8348).addRange(8352,8383).addRange(8400,8432).addRange(8448,8587).addRange(8592,9254).addRange(9280,9290).addRange(9312,11123).addRange(11126,11157).addRange(11159,11310).addRange(11312,11358).addRange(11360,11507).addRange(11513,11557).addRange(11568,11623).addRange(11631,11632).addRange(11647,11670).addRange(11680,11686).addRange(11688,11694).addRange(11696,11702).addRange(11704,11710).addRange(11712,11718).addRange(11720,11726).addRange(11728,11734).addRange(11736,11742).addRange(11744,11858).addRange(11904,11929).addRange(11931,12019).addRange(12032,12245).addRange(12272,12283).addRange(12288,12351).addRange(12353,12438).addRange(12441,12543).addRange(12549,12591).addRange(12593,12686).addRange(12688,12771).addRange(12784,12830).addRange(12832,40956),Pe.addRange(40960,42124).addRange(42128,42182).addRange(42192,42539).addRange(42560,42743).addRange(42752,42943).addRange(42946,42954).addRange(42997,43052).addRange(43056,43065).addRange(43072,43127).addRange(43136,43205).addRange(43214,43225).addRange(43232,43347).addRange(43359,43388).addRange(43392,43469).addRange(43471,43481).addRange(43486,43518).addRange(43520,43574).addRange(43584,43597).addRange(43600,43609).addRange(43612,43714).addRange(43739,43766).addRange(43777,43782).addRange(43785,43790).addRange(43793,43798).addRange(43808,43814).addRange(43816,43822).addRange(43824,43883).addRange(43888,44013).addRange(44016,44025).addRange(44032,55203).addRange(55216,55238).addRange(55243,55291).addRange(55296,64109).addRange(64112,64217).addRange(64256,64262).addRange(64275,64279).addRange(64285,64310).addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64449).addRange(64467,64831).addRange(64848,64911).addRange(64914,64967).addRange(65008,65021).addRange(65024,65049).addRange(65056,65106).addRange(65108,65126).addRange(65128,65131).addRange(65136,65140).addRange(65142,65276),Pe.addRange(65281,65470).addRange(65474,65479).addRange(65482,65487).addRange(65490,65495).addRange(65498,65500).addRange(65504,65510).addRange(65512,65518).addRange(65529,65533).addRange(65536,65547).addRange(65549,65574).addRange(65576,65594).addRange(65596,65597).addRange(65599,65613).addRange(65616,65629).addRange(65664,65786).addRange(65792,65794).addRange(65799,65843).addRange(65847,65934).addRange(65936,65948).addRange(66e3,66045).addRange(66176,66204).addRange(66208,66256).addRange(66272,66299).addRange(66304,66339).addRange(66349,66378).addRange(66384,66426).addRange(66432,66461).addRange(66463,66499).addRange(66504,66517).addRange(66560,66717).addRange(66720,66729).addRange(66736,66771).addRange(66776,66811).addRange(66816,66855).addRange(66864,66915).addRange(67072,67382).addRange(67392,67413).addRange(67424,67431).addRange(67584,67589).addRange(67594,67637).addRange(67639,67640).addRange(67647,67669).addRange(67671,67742).addRange(67751,67759).addRange(67808,67826).addRange(67828,67829).addRange(67835,67867).addRange(67871,67897).addRange(67968,68023).addRange(68028,68047).addRange(68050,68099),Pe.addRange(68101,68102).addRange(68108,68115).addRange(68117,68119).addRange(68121,68149).addRange(68152,68154).addRange(68159,68168).addRange(68176,68184).addRange(68192,68255).addRange(68288,68326).addRange(68331,68342).addRange(68352,68405).addRange(68409,68437).addRange(68440,68466).addRange(68472,68497).addRange(68505,68508).addRange(68521,68527).addRange(68608,68680).addRange(68736,68786).addRange(68800,68850).addRange(68858,68903).addRange(68912,68921).addRange(69216,69246).addRange(69248,69289).addRange(69291,69293).addRange(69296,69297).addRange(69376,69415).addRange(69424,69465).addRange(69552,69579).addRange(69600,69622).addRange(69632,69709).addRange(69714,69743).addRange(69759,69825).addRange(69840,69864).addRange(69872,69881).addRange(69888,69940).addRange(69942,69959).addRange(69968,70006).addRange(70016,70111).addRange(70113,70132).addRange(70144,70161).addRange(70163,70206).addRange(70272,70278).addRange(70282,70285).addRange(70287,70301).addRange(70303,70313).addRange(70320,70378).addRange(70384,70393).addRange(70400,70403).addRange(70405,70412).addRange(70415,70416).addRange(70419,70440),Pe.addRange(70442,70448).addRange(70450,70451).addRange(70453,70457).addRange(70459,70468).addRange(70471,70472).addRange(70475,70477).addRange(70493,70499).addRange(70502,70508).addRange(70512,70516).addRange(70656,70747).addRange(70749,70753).addRange(70784,70855).addRange(70864,70873).addRange(71040,71093).addRange(71096,71133).addRange(71168,71236).addRange(71248,71257).addRange(71264,71276).addRange(71296,71352).addRange(71360,71369).addRange(71424,71450).addRange(71453,71467).addRange(71472,71487).addRange(71680,71739).addRange(71840,71922).addRange(71935,71942).addRange(71948,71955).addRange(71957,71958).addRange(71960,71989).addRange(71991,71992).addRange(71995,72006).addRange(72016,72025).addRange(72096,72103).addRange(72106,72151).addRange(72154,72164).addRange(72192,72263).addRange(72272,72354).addRange(72384,72440).addRange(72704,72712).addRange(72714,72758).addRange(72760,72773).addRange(72784,72812).addRange(72816,72847).addRange(72850,72871).addRange(72873,72886).addRange(72960,72966).addRange(72968,72969).addRange(72971,73014).addRange(73020,73021).addRange(73023,73031).addRange(73040,73049),Pe.addRange(73056,73061).addRange(73063,73064).addRange(73066,73102).addRange(73104,73105).addRange(73107,73112).addRange(73120,73129).addRange(73440,73464).addRange(73664,73713).addRange(73727,74649).addRange(74752,74862).addRange(74864,74868).addRange(74880,75075).addRange(77824,78894).addRange(78896,78904).addRange(82944,83526).addRange(92160,92728).addRange(92736,92766).addRange(92768,92777).addRange(92782,92783).addRange(92880,92909).addRange(92912,92917).addRange(92928,92997).addRange(93008,93017).addRange(93019,93025).addRange(93027,93047).addRange(93053,93071).addRange(93760,93850).addRange(93952,94026).addRange(94031,94087).addRange(94095,94111).addRange(94176,94180).addRange(94192,94193).addRange(94208,100343).addRange(100352,101589).addRange(101632,101640).addRange(110592,110878).addRange(110928,110930).addRange(110948,110951).addRange(110960,111355).addRange(113664,113770).addRange(113776,113788).addRange(113792,113800).addRange(113808,113817).addRange(113820,113827).addRange(118784,119029).addRange(119040,119078).addRange(119081,119272).addRange(119296,119365).addRange(119520,119539).addRange(119552,119638).addRange(119648,119672),Pe.addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120779).addRange(120782,121483).addRange(121499,121503).addRange(121505,121519).addRange(122880,122886).addRange(122888,122904).addRange(122907,122913).addRange(122915,122916).addRange(122918,122922).addRange(123136,123180).addRange(123184,123197).addRange(123200,123209).addRange(123214,123215).addRange(123584,123641).addRange(124928,125124).addRange(125127,125142).addRange(125184,125259).addRange(125264,125273).addRange(125278,125279).addRange(126065,126132).addRange(126209,126269).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619),Pe.addRange(126625,126627).addRange(126629,126633).addRange(126635,126651).addRange(126704,126705).addRange(126976,127019).addRange(127024,127123).addRange(127136,127150).addRange(127153,127167).addRange(127169,127183).addRange(127185,127221).addRange(127232,127405).addRange(127462,127490).addRange(127504,127547).addRange(127552,127560).addRange(127568,127569).addRange(127584,127589).addRange(127744,128727).addRange(128736,128748).addRange(128752,128764).addRange(128768,128883).addRange(128896,128984).addRange(128992,129003).addRange(129024,129035).addRange(129040,129095).addRange(129104,129113).addRange(129120,129159).addRange(129168,129197).addRange(129200,129201).addRange(129280,129400).addRange(129402,129483).addRange(129485,129619).addRange(129632,129645).addRange(129648,129652).addRange(129656,129658).addRange(129664,129670).addRange(129680,129704).addRange(129712,129718).addRange(129728,129730).addRange(129744,129750).addRange(129792,129938).addRange(129940,129994).addRange(130032,130041).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546).addRange(917536,917631).addRange(917760,917999),Pe.addRange(983040,1048573).addRange(1048576,1114109),_e.exports=Pe},38838:function(_e,be,Te){const Pe=Te(78776)(1564);Pe.addRange(8206,8207).addRange(8234,8238).addRange(8294,8297),_e.exports=Pe},5720:function(_e,be,Te){const Pe=Te(78776)(60,62,91,93,123,125,171,187,8512,8721,8740,8742,8761,8802,8856,10176,10680,10697,10721,10788,10790,10793,10972,10974,10995,11005,11262,65308,65310,65339,65341,65371,65373,120539,120597,120655,120713,120771);Pe.addRange(40,41).addRange(3898,3901).addRange(5787,5788).addRange(8249,8250).addRange(8261,8262).addRange(8317,8318).addRange(8333,8334).addRange(8705,8708).addRange(8712,8717).addRange(8725,8726).addRange(8730,8733).addRange(8735,8738).addRange(8747,8755).addRange(8763,8780).addRange(8786,8789).addRange(8799,8800).addRange(8804,8811).addRange(8814,8844).addRange(8847,8850).addRange(8866,8867).addRange(8870,8888).addRange(8894,8895).addRange(8905,8909).addRange(8912,8913).addRange(8918,8941).addRange(8944,8959).addRange(8968,8971).addRange(8992,8993).addRange(9001,9002).addRange(10088,10101).addRange(10179,10182).addRange(10184,10185).addRange(10187,10189).addRange(10195,10198).addRange(10204,10206).addRange(10210,10223).addRange(10627,10648).addRange(10651,10656).addRange(10658,10671).addRange(10688,10693).addRange(10702,10706).addRange(10708,10709).addRange(10712,10716).addRange(10723,10725).addRange(10728,10729).addRange(10740,10745).addRange(10748,10749).addRange(10762,10780).addRange(10782,10785).addRange(10795,10798).addRange(10804,10805),Pe.addRange(10812,10814).addRange(10839,10840).addRange(10852,10853).addRange(10858,10861).addRange(10863,10864).addRange(10867,10868).addRange(10873,10915).addRange(10918,10925).addRange(10927,10966).addRange(10978,10982).addRange(10988,10990).addRange(10999,11003).addRange(11778,11781).addRange(11785,11786).addRange(11788,11789).addRange(11804,11805).addRange(11808,11817).addRange(12296,12305).addRange(12308,12315).addRange(65113,65118).addRange(65124,65125).addRange(65288,65289).addRange(65375,65376).addRange(65378,65379),_e.exports=Pe},49965:function(_e,be,Te){const Pe=Te(78776)(39,46,58,94,96,168,173,175,180,890,903,1369,1375,1471,1479,1524,1564,1600,1648,1807,1809,2042,2045,2362,2364,2381,2417,2433,2492,2509,2558,2620,2641,2677,2748,2765,2817,2876,2879,2893,2946,3008,3021,3072,3076,3201,3260,3263,3270,3405,3457,3530,3542,3633,3761,3782,3893,3895,3897,4038,4226,4237,4253,4348,6086,6103,6109,6211,6313,6450,6683,6742,6752,6754,6783,6823,6964,6972,6978,7142,7149,7405,7412,7544,8125,8228,8231,8305,8319,11631,11647,11823,12293,12347,40981,42508,42623,42864,43010,43014,43019,43052,43263,43443,43471,43587,43596,43632,43644,43696,43713,43741,43766,44005,44008,44013,64286,65043,65106,65109,65279,65287,65294,65306,65342,65344,65392,65507,66045,66272,68159,69633,69821,69837,70003,70095,70196,70206,70367,70464,70726,70750,70842,71229,71339,71341,71351,71998,72003,72160,72263,72767,73018,73031,73109,73111,94031,121461,121476,917505);Pe.addRange(183,184).addRange(688,879).addRange(884,885).addRange(900,901).addRange(1155,1161).addRange(1425,1469).addRange(1473,1474).addRange(1476,1477).addRange(1536,1541).addRange(1552,1562).addRange(1611,1631).addRange(1750,1757).addRange(1759,1768).addRange(1770,1773).addRange(1840,1866).addRange(1958,1968).addRange(2027,2037).addRange(2070,2093).addRange(2137,2139).addRange(2259,2306).addRange(2369,2376).addRange(2385,2391).addRange(2402,2403).addRange(2497,2500).addRange(2530,2531).addRange(2561,2562).addRange(2625,2626).addRange(2631,2632).addRange(2635,2637).addRange(2672,2673).addRange(2689,2690).addRange(2753,2757).addRange(2759,2760).addRange(2786,2787).addRange(2810,2815).addRange(2881,2884).addRange(2901,2902).addRange(2914,2915).addRange(3134,3136).addRange(3142,3144).addRange(3146,3149).addRange(3157,3158).addRange(3170,3171).addRange(3276,3277).addRange(3298,3299).addRange(3328,3329).addRange(3387,3388).addRange(3393,3396).addRange(3426,3427).addRange(3538,3540).addRange(3636,3642),Pe.addRange(3654,3662).addRange(3764,3772).addRange(3784,3789).addRange(3864,3865).addRange(3953,3966).addRange(3968,3972).addRange(3974,3975).addRange(3981,3991).addRange(3993,4028).addRange(4141,4144).addRange(4146,4151).addRange(4153,4154).addRange(4157,4158).addRange(4184,4185).addRange(4190,4192).addRange(4209,4212).addRange(4229,4230).addRange(4957,4959).addRange(5906,5908).addRange(5938,5940).addRange(5970,5971).addRange(6002,6003).addRange(6068,6069).addRange(6071,6077).addRange(6089,6099).addRange(6155,6158).addRange(6277,6278).addRange(6432,6434).addRange(6439,6440).addRange(6457,6459).addRange(6679,6680).addRange(6744,6750).addRange(6757,6764).addRange(6771,6780).addRange(6832,6848).addRange(6912,6915).addRange(6966,6970).addRange(7019,7027).addRange(7040,7041).addRange(7074,7077).addRange(7080,7081).addRange(7083,7085).addRange(7144,7145).addRange(7151,7153).addRange(7212,7219).addRange(7222,7223).addRange(7288,7293).addRange(7376,7378).addRange(7380,7392).addRange(7394,7400).addRange(7416,7417),Pe.addRange(7468,7530).addRange(7579,7673).addRange(7675,7679).addRange(8127,8129).addRange(8141,8143).addRange(8157,8159).addRange(8173,8175).addRange(8189,8190).addRange(8203,8207).addRange(8216,8217).addRange(8234,8238).addRange(8288,8292).addRange(8294,8303).addRange(8336,8348).addRange(8400,8432).addRange(11388,11389).addRange(11503,11505).addRange(11744,11775).addRange(12330,12333).addRange(12337,12341).addRange(12441,12446).addRange(12540,12542).addRange(42232,42237).addRange(42607,42610).addRange(42612,42621).addRange(42652,42655).addRange(42736,42737).addRange(42752,42785).addRange(42888,42890).addRange(43e3,43001).addRange(43045,43046).addRange(43204,43205).addRange(43232,43249).addRange(43302,43309).addRange(43335,43345).addRange(43392,43394).addRange(43446,43449).addRange(43452,43453).addRange(43493,43494).addRange(43561,43566).addRange(43569,43570).addRange(43573,43574).addRange(43698,43700).addRange(43703,43704).addRange(43710,43711).addRange(43756,43757).addRange(43763,43764).addRange(43867,43871).addRange(43881,43883).addRange(64434,64449).addRange(65024,65039),Pe.addRange(65056,65071).addRange(65438,65439).addRange(65529,65531).addRange(66422,66426).addRange(68097,68099).addRange(68101,68102).addRange(68108,68111).addRange(68152,68154).addRange(68325,68326).addRange(68900,68903).addRange(69291,69292).addRange(69446,69456).addRange(69688,69702).addRange(69759,69761).addRange(69811,69814).addRange(69817,69818).addRange(69888,69890).addRange(69927,69931).addRange(69933,69940).addRange(70016,70017).addRange(70070,70078).addRange(70089,70092).addRange(70191,70193).addRange(70198,70199).addRange(70371,70378).addRange(70400,70401).addRange(70459,70460).addRange(70502,70508).addRange(70512,70516).addRange(70712,70719).addRange(70722,70724).addRange(70835,70840).addRange(70847,70848).addRange(70850,70851).addRange(71090,71093).addRange(71100,71101).addRange(71103,71104).addRange(71132,71133).addRange(71219,71226).addRange(71231,71232).addRange(71344,71349).addRange(71453,71455).addRange(71458,71461).addRange(71463,71467).addRange(71727,71735).addRange(71737,71738).addRange(71995,71996).addRange(72148,72151).addRange(72154,72155).addRange(72193,72202).addRange(72243,72248),Pe.addRange(72251,72254).addRange(72273,72278).addRange(72281,72283).addRange(72330,72342).addRange(72344,72345).addRange(72752,72758).addRange(72760,72765).addRange(72850,72871).addRange(72874,72880).addRange(72882,72883).addRange(72885,72886).addRange(73009,73014).addRange(73020,73021).addRange(73023,73029).addRange(73104,73105).addRange(73459,73460).addRange(78896,78904).addRange(92912,92916).addRange(92976,92982).addRange(92992,92995).addRange(94095,94111).addRange(94176,94177).addRange(94179,94180).addRange(113821,113822).addRange(113824,113827).addRange(119143,119145).addRange(119155,119170).addRange(119173,119179).addRange(119210,119213).addRange(119362,119364).addRange(121344,121398).addRange(121403,121452).addRange(121499,121503).addRange(121505,121519).addRange(122880,122886).addRange(122888,122904).addRange(122907,122913).addRange(122915,122916).addRange(122918,122922).addRange(123184,123197).addRange(123628,123631).addRange(125136,125142).addRange(125252,125259).addRange(127995,127999).addRange(917536,917631).addRange(917760,917999),_e.exports=Pe},32948:function(_e,be,Te){const Pe=Te(78776)(170,181,186,837,895,902,908,4295,4301,8025,8027,8029,8126,8305,8319,8450,8455,8469,8484,8486,8488,8505,8526,11559,11565,119970,119995,120134);Pe.addRange(65,90).addRange(97,122).addRange(192,214).addRange(216,246).addRange(248,442).addRange(444,447).addRange(452,659).addRange(661,696).addRange(704,705).addRange(736,740).addRange(880,883).addRange(886,887).addRange(890,893).addRange(904,906).addRange(910,929).addRange(931,1013).addRange(1015,1153).addRange(1162,1327).addRange(1329,1366).addRange(1376,1416).addRange(4256,4293).addRange(4304,4346).addRange(4349,4351).addRange(5024,5109).addRange(5112,5117).addRange(7296,7304).addRange(7312,7354).addRange(7357,7359).addRange(7424,7615).addRange(7680,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8124).addRange(8130,8132).addRange(8134,8140).addRange(8144,8147).addRange(8150,8155).addRange(8160,8172).addRange(8178,8180).addRange(8182,8188).addRange(8336,8348).addRange(8458,8467).addRange(8473,8477).addRange(8490,8493).addRange(8495,8500).addRange(8508,8511).addRange(8517,8521),Pe.addRange(8544,8575).addRange(8579,8580).addRange(9398,9449).addRange(11264,11310).addRange(11312,11358).addRange(11360,11492).addRange(11499,11502).addRange(11506,11507).addRange(11520,11557).addRange(42560,42605).addRange(42624,42653).addRange(42786,42887).addRange(42891,42894).addRange(42896,42943).addRange(42946,42954).addRange(42997,42998).addRange(43e3,43002).addRange(43824,43866).addRange(43868,43880).addRange(43888,43967).addRange(64256,64262).addRange(64275,64279).addRange(65313,65338).addRange(65345,65370).addRange(66560,66639).addRange(66736,66771).addRange(66776,66811).addRange(68736,68786).addRange(68800,68850).addRange(71840,71903).addRange(93760,93823).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120512).addRange(120514,120538).addRange(120540,120570).addRange(120572,120596),Pe.addRange(120598,120628).addRange(120630,120654).addRange(120656,120686).addRange(120688,120712).addRange(120714,120744).addRange(120746,120770).addRange(120772,120779).addRange(125184,125251).addRange(127280,127305).addRange(127312,127337).addRange(127344,127369),_e.exports=Pe},65314:function(_e,be,Te){const Pe=Te(78776)(181,256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288,290,292,294,296,298,300,302,304,306,308,310,313,315,317,319,321,323,325,327,332,334,336,338,340,342,344,346,348,350,352,354,356,358,360,362,364,366,368,370,372,374,379,381,383,388,418,420,425,428,437,444,461,463,465,467,469,471,473,475,478,480,482,484,486,488,490,492,494,500,506,508,510,512,514,516,518,520,522,524,526,528,530,532,534,536,538,540,542,544,546,548,550,552,554,556,558,560,562,577,584,586,588,590,837,880,882,886,895,902,908,962,984,986,988,990,992,994,996,998,1e3,1002,1004,1006,1015,1120,1122,1124,1126,1128,1130,1132,1134,1136,1138,1140,1142,1144,1146,1148,1150,1152,1162,1164,1166,1168,1170,1172,1174,1176,1178,1180,1182,1184,1186,1188,1190,1192,1194,1196,1198,1200,1202,1204,1206,1208,1210,1212,1214,1219,1221,1223,1225,1227,1229,1232,1234,1236,1238,1240,1242,1244,1246,1248,1250,1252,1254,1256,1258,1260,1262,1264,1266,1268,1270,1272,1274,1276,1278,1280,1282,1284,1286,1288,1290,1292,1294,1296,1298,1300,1302,1304,1306,1308,1310,1312,1314,1316,1318,1320,1322,1324,1326,1415,4295,4301,7680,7682,7684,7686,7688,7690,7692,7694,7696,7698,7700,7702,7704,7706,7708,7710,7712,7714,7716,7718,7720,7722,7724,7726,7728,7730,7732,7734,7736,7738,7740,7742,7744,7746,7748,7750,7752,7754,7756,7758,7760,7762,7764,7766,7768,7770,7772,7774,7776,7778,7780,7782,7784,7786,7788,7790,7792,7794,7796,7798,7800,7802,7804,7806,7808,7810,7812,7814,7816,7818,7820,7822,7824,7826,7828,7838,7840,7842,7844,7846,7848,7850,7852,7854,7856,7858,7860,7862,7864,7866,7868,7870,7872,7874,7876,7878,7880,7882,7884,7886,7888,7890,7892,7894,7896,7898,7900,7902,7904,7906,7908,7910,7912,7914,7916,7918,7920,7922,7924,7926,7928,7930,7932,7934,8025,8027,8029,8031,8486,8498,8579,11360,11367,11369,11371,11378,11381,11394,11396,11398,11400,11402,11404,11406,11408,11410,11412,11414,11416,11418,11420,11422,11424,11426,11428,11430,11432,11434,11436,11438,11440,11442,11444,11446,11448,11450,11452,11454,11456,11458,11460,11462,11464,11466,11468,11470,11472,11474,11476,11478,11480,11482,11484,11486,11488,11490,11499,11501,11506,42560,42562,42564,42566,42568,42570,42572,42574,42576,42578,42580,42582,42584,42586,42588,42590,42592,42594,42596,42598,42600,42602,42604,42624,42626,42628,42630,42632,42634,42636,42638,42640,42642,42644,42646,42648,42650,42786,42788,42790,42792,42794,42796,42798,42802,42804,42806,42808,42810,42812,42814,42816,42818,42820,42822,42824,42826,42828,42830,42832,42834,42836,42838,42840,42842,42844,42846,42848,42850,42852,42854,42856,42858,42860,42862,42873,42875,42880,42882,42884,42886,42891,42893,42896,42898,42902,42904,42906,42908,42910,42912,42914,42916,42918,42920,42934,42936,42938,42940,42942,42946,42953,42997);Pe.addRange(65,90).addRange(192,214).addRange(216,223).addRange(329,330).addRange(376,377).addRange(385,386).addRange(390,391).addRange(393,395).addRange(398,401).addRange(403,404).addRange(406,408).addRange(412,413).addRange(415,416).addRange(422,423).addRange(430,431).addRange(433,435).addRange(439,440).addRange(452,453).addRange(455,456).addRange(458,459).addRange(497,498).addRange(502,504).addRange(570,571).addRange(573,574).addRange(579,582).addRange(904,906).addRange(910,911).addRange(913,929).addRange(931,939).addRange(975,977).addRange(981,982).addRange(1008,1009).addRange(1012,1013).addRange(1017,1018).addRange(1021,1071).addRange(1216,1217).addRange(1329,1366).addRange(4256,4293).addRange(5112,5117).addRange(7296,7304).addRange(7312,7354).addRange(7357,7359).addRange(7834,7835).addRange(7944,7951).addRange(7960,7965).addRange(7976,7983).addRange(7992,7999).addRange(8008,8013).addRange(8040,8047).addRange(8064,8111).addRange(8114,8116),Pe.addRange(8119,8124).addRange(8130,8132).addRange(8135,8140).addRange(8152,8155).addRange(8168,8172).addRange(8178,8180).addRange(8183,8188).addRange(8490,8491).addRange(8544,8559).addRange(9398,9423).addRange(11264,11310).addRange(11362,11364).addRange(11373,11376).addRange(11390,11392).addRange(42877,42878).addRange(42922,42926).addRange(42928,42932).addRange(42948,42951).addRange(43888,43967).addRange(64256,64262).addRange(64275,64279).addRange(65313,65338).addRange(66560,66599).addRange(66736,66771).addRange(68736,68786).addRange(71840,71871).addRange(93760,93791).addRange(125184,125217),_e.exports=Pe},78562:function(_e,be,Te){const Pe=Te(78776)(181,447,601,611,623,629,637,640,658,837,895,902,908,4295,4301,7545,7549,7566,7838,8025,8027,8029,8126,8486,8498,8526,11559,11565,43859);Pe.addRange(65,90).addRange(97,122).addRange(192,214).addRange(216,246).addRange(248,311).addRange(313,396).addRange(398,410).addRange(412,425).addRange(428,441).addRange(444,445).addRange(452,544).addRange(546,563).addRange(570,596).addRange(598,599).addRange(603,604).addRange(608,609).addRange(613,614).addRange(616,620).addRange(625,626).addRange(642,643).addRange(647,652).addRange(669,670).addRange(880,883).addRange(886,887).addRange(891,893).addRange(904,906).addRange(910,929).addRange(931,977).addRange(981,1013).addRange(1015,1019).addRange(1021,1153).addRange(1162,1327).addRange(1329,1366).addRange(1377,1415).addRange(4256,4293).addRange(4304,4346).addRange(4349,4351).addRange(5024,5109).addRange(5112,5117).addRange(7296,7304).addRange(7312,7354).addRange(7357,7359).addRange(7680,7835).addRange(7840,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8124),Pe.addRange(8130,8132).addRange(8134,8140).addRange(8144,8147).addRange(8150,8155).addRange(8160,8172).addRange(8178,8180).addRange(8182,8188).addRange(8490,8491).addRange(8544,8575).addRange(8579,8580).addRange(9398,9449).addRange(11264,11310).addRange(11312,11358).addRange(11360,11376).addRange(11378,11379).addRange(11381,11382).addRange(11390,11491).addRange(11499,11502).addRange(11506,11507).addRange(11520,11557).addRange(42560,42605).addRange(42624,42651).addRange(42786,42799).addRange(42802,42863).addRange(42873,42887).addRange(42891,42893).addRange(42896,42900).addRange(42902,42926).addRange(42928,42943).addRange(42946,42954).addRange(42997,42998).addRange(43888,43967).addRange(64256,64262).addRange(64275,64279).addRange(65313,65338).addRange(65345,65370).addRange(66560,66639).addRange(66736,66771).addRange(66776,66811).addRange(68736,68786).addRange(68800,68850).addRange(71840,71903).addRange(93760,93823).addRange(125184,125251),_e.exports=Pe},12104:function(_e,be,Te){const Pe=Te(78776)(256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288,290,292,294,296,298,300,302,304,306,308,310,313,315,317,319,321,323,325,327,330,332,334,336,338,340,342,344,346,348,350,352,354,356,358,360,362,364,366,368,370,372,374,379,381,388,418,420,425,428,437,444,461,463,465,467,469,471,473,475,478,480,482,484,486,488,490,492,494,500,506,508,510,512,514,516,518,520,522,524,526,528,530,532,534,536,538,540,542,544,546,548,550,552,554,556,558,560,562,577,584,586,588,590,880,882,886,895,902,908,975,984,986,988,990,992,994,996,998,1e3,1002,1004,1006,1012,1015,1120,1122,1124,1126,1128,1130,1132,1134,1136,1138,1140,1142,1144,1146,1148,1150,1152,1162,1164,1166,1168,1170,1172,1174,1176,1178,1180,1182,1184,1186,1188,1190,1192,1194,1196,1198,1200,1202,1204,1206,1208,1210,1212,1214,1219,1221,1223,1225,1227,1229,1232,1234,1236,1238,1240,1242,1244,1246,1248,1250,1252,1254,1256,1258,1260,1262,1264,1266,1268,1270,1272,1274,1276,1278,1280,1282,1284,1286,1288,1290,1292,1294,1296,1298,1300,1302,1304,1306,1308,1310,1312,1314,1316,1318,1320,1322,1324,1326,4295,4301,7680,7682,7684,7686,7688,7690,7692,7694,7696,7698,7700,7702,7704,7706,7708,7710,7712,7714,7716,7718,7720,7722,7724,7726,7728,7730,7732,7734,7736,7738,7740,7742,7744,7746,7748,7750,7752,7754,7756,7758,7760,7762,7764,7766,7768,7770,7772,7774,7776,7778,7780,7782,7784,7786,7788,7790,7792,7794,7796,7798,7800,7802,7804,7806,7808,7810,7812,7814,7816,7818,7820,7822,7824,7826,7828,7838,7840,7842,7844,7846,7848,7850,7852,7854,7856,7858,7860,7862,7864,7866,7868,7870,7872,7874,7876,7878,7880,7882,7884,7886,7888,7890,7892,7894,7896,7898,7900,7902,7904,7906,7908,7910,7912,7914,7916,7918,7920,7922,7924,7926,7928,7930,7932,7934,8025,8027,8029,8031,8486,8498,8579,11360,11367,11369,11371,11378,11381,11394,11396,11398,11400,11402,11404,11406,11408,11410,11412,11414,11416,11418,11420,11422,11424,11426,11428,11430,11432,11434,11436,11438,11440,11442,11444,11446,11448,11450,11452,11454,11456,11458,11460,11462,11464,11466,11468,11470,11472,11474,11476,11478,11480,11482,11484,11486,11488,11490,11499,11501,11506,42560,42562,42564,42566,42568,42570,42572,42574,42576,42578,42580,42582,42584,42586,42588,42590,42592,42594,42596,42598,42600,42602,42604,42624,42626,42628,42630,42632,42634,42636,42638,42640,42642,42644,42646,42648,42650,42786,42788,42790,42792,42794,42796,42798,42802,42804,42806,42808,42810,42812,42814,42816,42818,42820,42822,42824,42826,42828,42830,42832,42834,42836,42838,42840,42842,42844,42846,42848,42850,42852,42854,42856,42858,42860,42862,42873,42875,42880,42882,42884,42886,42891,42893,42896,42898,42902,42904,42906,42908,42910,42912,42914,42916,42918,42920,42934,42936,42938,42940,42942,42946,42953,42997);Pe.addRange(65,90).addRange(192,214).addRange(216,222).addRange(376,377).addRange(385,386).addRange(390,391).addRange(393,395).addRange(398,401).addRange(403,404).addRange(406,408).addRange(412,413).addRange(415,416).addRange(422,423).addRange(430,431).addRange(433,435).addRange(439,440).addRange(452,453).addRange(455,456).addRange(458,459).addRange(497,498).addRange(502,504).addRange(570,571).addRange(573,574).addRange(579,582).addRange(904,906).addRange(910,911).addRange(913,929).addRange(931,939).addRange(1017,1018).addRange(1021,1071).addRange(1216,1217).addRange(1329,1366).addRange(4256,4293).addRange(5024,5109).addRange(7312,7354).addRange(7357,7359).addRange(7944,7951).addRange(7960,7965).addRange(7976,7983).addRange(7992,7999).addRange(8008,8013).addRange(8040,8047).addRange(8072,8079).addRange(8088,8095).addRange(8104,8111).addRange(8120,8124).addRange(8136,8140).addRange(8152,8155).addRange(8168,8172).addRange(8184,8188).addRange(8490,8491),Pe.addRange(8544,8559).addRange(9398,9423).addRange(11264,11310).addRange(11362,11364).addRange(11373,11376).addRange(11390,11392).addRange(42877,42878).addRange(42922,42926).addRange(42928,42932).addRange(42948,42951).addRange(65313,65338).addRange(66560,66599).addRange(66736,66771).addRange(68736,68786).addRange(71840,71871).addRange(93760,93791).addRange(125184,125217),_e.exports=Pe},41347:function(_e,be,Te){const Pe=Te(78776)(160,168,170,173,175,256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288,290,292,294,296,298,300,302,304,310,313,315,317,323,325,327,332,334,336,338,340,342,344,346,348,350,352,354,356,358,360,362,364,366,368,370,372,374,379,381,383,388,418,420,425,428,437,444,463,465,467,469,471,473,475,478,480,482,484,486,488,490,492,494,506,508,510,512,514,516,518,520,522,524,526,528,530,532,534,536,538,540,542,544,546,548,550,552,554,556,558,560,562,577,584,586,588,590,847,880,882,884,886,890,908,962,984,986,988,990,992,994,996,998,1e3,1002,1004,1006,1015,1120,1122,1124,1126,1128,1130,1132,1134,1136,1138,1140,1142,1144,1146,1148,1150,1152,1162,1164,1166,1168,1170,1172,1174,1176,1178,1180,1182,1184,1186,1188,1190,1192,1194,1196,1198,1200,1202,1204,1206,1208,1210,1212,1214,1219,1221,1223,1225,1227,1229,1232,1234,1236,1238,1240,1242,1244,1246,1248,1250,1252,1254,1256,1258,1260,1262,1264,1266,1268,1270,1272,1274,1276,1278,1280,1282,1284,1286,1288,1290,1292,1294,1296,1298,1300,1302,1304,1306,1308,1310,1312,1314,1316,1318,1320,1322,1324,1326,1415,1564,2527,2611,2614,2654,3635,3763,3852,3907,3917,3922,3927,3932,3945,3955,3969,3987,3997,4002,4007,4012,4025,4295,4301,4348,7544,7680,7682,7684,7686,7688,7690,7692,7694,7696,7698,7700,7702,7704,7706,7708,7710,7712,7714,7716,7718,7720,7722,7724,7726,7728,7730,7732,7734,7736,7738,7740,7742,7744,7746,7748,7750,7752,7754,7756,7758,7760,7762,7764,7766,7768,7770,7772,7774,7776,7778,7780,7782,7784,7786,7788,7790,7792,7794,7796,7798,7800,7802,7804,7806,7808,7810,7812,7814,7816,7818,7820,7822,7824,7826,7828,7838,7840,7842,7844,7846,7848,7850,7852,7854,7856,7858,7860,7862,7864,7866,7868,7870,7872,7874,7876,7878,7880,7882,7884,7886,7888,7890,7892,7894,7896,7898,7900,7902,7904,7906,7908,7910,7912,7914,7916,7918,7920,7922,7924,7926,7928,7930,7932,7934,8025,8027,8029,8031,8049,8051,8053,8055,8057,8059,8061,8147,8163,8209,8215,8252,8254,8279,8360,8484,8486,8488,8579,8585,10764,10972,11360,11367,11369,11371,11378,11381,11394,11396,11398,11400,11402,11404,11406,11408,11410,11412,11414,11416,11418,11420,11422,11424,11426,11428,11430,11432,11434,11436,11438,11440,11442,11444,11446,11448,11450,11452,11454,11456,11458,11460,11462,11464,11466,11468,11470,11472,11474,11476,11478,11480,11482,11484,11486,11488,11490,11499,11501,11506,11631,11935,12019,12288,12342,12447,12543,42560,42562,42564,42566,42568,42570,42572,42574,42576,42578,42580,42582,42584,42586,42588,42590,42592,42594,42596,42598,42600,42602,42604,42624,42626,42628,42630,42632,42634,42636,42638,42640,42642,42644,42646,42648,42650,42786,42788,42790,42792,42794,42796,42798,42802,42804,42806,42808,42810,42812,42814,42816,42818,42820,42822,42824,42826,42828,42830,42832,42834,42836,42838,42840,42842,42844,42846,42848,42850,42852,42854,42856,42858,42860,42862,42864,42873,42875,42880,42882,42884,42886,42891,42893,42896,42898,42902,42904,42906,42908,42910,42912,42914,42916,42918,42920,42934,42936,42938,42940,42942,42946,42953,42997,43881,64016,64018,64032,64034,64285,64318,65140,65279,119970,119995,120134,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590,127376);Pe.addRange(65,90).addRange(178,181).addRange(184,186).addRange(188,190).addRange(192,214).addRange(216,223).addRange(306,308).addRange(319,321).addRange(329,330).addRange(376,377).addRange(385,386).addRange(390,391).addRange(393,395).addRange(398,401).addRange(403,404).addRange(406,408).addRange(412,413).addRange(415,416).addRange(422,423).addRange(430,431).addRange(433,435).addRange(439,440).addRange(452,461).addRange(497,500).addRange(502,504).addRange(570,571).addRange(573,574).addRange(579,582).addRange(688,696).addRange(728,733).addRange(736,740).addRange(832,833).addRange(835,837).addRange(894,895).addRange(900,906).addRange(910,911).addRange(913,929).addRange(931,939).addRange(975,982).addRange(1008,1010).addRange(1012,1013).addRange(1017,1018).addRange(1021,1071).addRange(1216,1217).addRange(1329,1366).addRange(1653,1656).addRange(2392,2399).addRange(2524,2525).addRange(2649,2651).addRange(2908,2909).addRange(3804,3805),Pe.addRange(3957,3961).addRange(4256,4293).addRange(4447,4448).addRange(5112,5117).addRange(6068,6069).addRange(6155,6158).addRange(7296,7304).addRange(7312,7354).addRange(7357,7359).addRange(7468,7470).addRange(7472,7482).addRange(7484,7501).addRange(7503,7530).addRange(7579,7615).addRange(7834,7835).addRange(7944,7951).addRange(7960,7965).addRange(7976,7983).addRange(7992,7999).addRange(8008,8013).addRange(8040,8047).addRange(8064,8111).addRange(8114,8116).addRange(8119,8132).addRange(8135,8143).addRange(8152,8155).addRange(8157,8159).addRange(8168,8175).addRange(8178,8180).addRange(8183,8190).addRange(8192,8207).addRange(8228,8230).addRange(8234,8239).addRange(8243,8244).addRange(8246,8247).addRange(8263,8265).addRange(8287,8305).addRange(8308,8334).addRange(8336,8348).addRange(8448,8451).addRange(8453,8455).addRange(8457,8467).addRange(8469,8470).addRange(8473,8477).addRange(8480,8482).addRange(8490,8493).addRange(8495,8505).addRange(8507,8512).addRange(8517,8521).addRange(8528,8575).addRange(8748,8749),Pe.addRange(8751,8752).addRange(9001,9002).addRange(9312,9450).addRange(10868,10870).addRange(11264,11310).addRange(11362,11364).addRange(11373,11376).addRange(11388,11392).addRange(12032,12245).addRange(12344,12346).addRange(12443,12444).addRange(12593,12686).addRange(12690,12703).addRange(12800,12830).addRange(12832,12871).addRange(12880,12926).addRange(12928,13311).addRange(42652,42653).addRange(42877,42878).addRange(42922,42926).addRange(42928,42932).addRange(42948,42951).addRange(43e3,43001).addRange(43868,43871).addRange(43888,43967).addRange(63744,64013).addRange(64021,64030).addRange(64037,64038).addRange(64042,64109).addRange(64112,64217).addRange(64256,64262).addRange(64275,64279).addRange(64287,64310).addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64433).addRange(64467,64829).addRange(64848,64911).addRange(64914,64967).addRange(65008,65020).addRange(65024,65049).addRange(65072,65092).addRange(65095,65106).addRange(65108,65126).addRange(65128,65131).addRange(65136,65138).addRange(65142,65276).addRange(65281,65470).addRange(65474,65479).addRange(65482,65487),Pe.addRange(65490,65495).addRange(65498,65500).addRange(65504,65510).addRange(65512,65518).addRange(65520,65528).addRange(66560,66599).addRange(66736,66771).addRange(68736,68786).addRange(71840,71871).addRange(93760,93791).addRange(113824,113827).addRange(119134,119140).addRange(119155,119162).addRange(119227,119232).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120779).addRange(120782,120831).addRange(125184,125217).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627).addRange(126629,126633).addRange(126635,126651).addRange(127232,127242),Pe.addRange(127248,127278).addRange(127280,127311).addRange(127338,127340).addRange(127488,127490).addRange(127504,127547).addRange(127552,127560).addRange(127568,127569).addRange(130032,130041).addRange(194560,195101).addRange(917504,921599),_e.exports=Pe},50589:function(_e,be,Te){const Pe=Te(78776)(181,257,259,261,263,265,267,269,271,273,275,277,279,281,283,285,287,289,291,293,295,297,299,301,303,305,307,309,311,314,316,318,320,322,324,326,331,333,335,337,339,341,343,345,347,349,351,353,355,357,359,361,363,365,367,369,371,373,375,378,380,387,389,392,396,402,405,414,417,419,421,424,429,432,436,438,441,445,447,452,460,462,464,466,468,470,472,474,479,481,483,485,487,489,491,493,499,501,505,507,509,511,513,515,517,519,521,523,525,527,529,531,533,535,537,539,541,543,547,549,551,553,555,557,559,561,563,572,578,583,585,587,589,601,611,623,629,637,640,658,837,881,883,887,912,985,987,989,991,993,995,997,999,1001,1003,1005,1013,1016,1019,1121,1123,1125,1127,1129,1131,1133,1135,1137,1139,1141,1143,1145,1147,1149,1151,1153,1163,1165,1167,1169,1171,1173,1175,1177,1179,1181,1183,1185,1187,1189,1191,1193,1195,1197,1199,1201,1203,1205,1207,1209,1211,1213,1215,1218,1220,1222,1224,1226,1228,1233,1235,1237,1239,1241,1243,1245,1247,1249,1251,1253,1255,1257,1259,1261,1263,1265,1267,1269,1271,1273,1275,1277,1279,1281,1283,1285,1287,1289,1291,1293,1295,1297,1299,1301,1303,1305,1307,1309,1311,1313,1315,1317,1319,1321,1323,1325,1327,7545,7549,7566,7681,7683,7685,7687,7689,7691,7693,7695,7697,7699,7701,7703,7705,7707,7709,7711,7713,7715,7717,7719,7721,7723,7725,7727,7729,7731,7733,7735,7737,7739,7741,7743,7745,7747,7749,7751,7753,7755,7757,7759,7761,7763,7765,7767,7769,7771,7773,7775,7777,7779,7781,7783,7785,7787,7789,7791,7793,7795,7797,7799,7801,7803,7805,7807,7809,7811,7813,7815,7817,7819,7821,7823,7825,7827,7841,7843,7845,7847,7849,7851,7853,7855,7857,7859,7861,7863,7865,7867,7869,7871,7873,7875,7877,7879,7881,7883,7885,7887,7889,7891,7893,7895,7897,7899,7901,7903,7905,7907,7909,7911,7913,7915,7917,7919,7921,7923,7925,7927,7929,7931,7933,8126,8526,8580,11361,11368,11370,11372,11379,11382,11393,11395,11397,11399,11401,11403,11405,11407,11409,11411,11413,11415,11417,11419,11421,11423,11425,11427,11429,11431,11433,11435,11437,11439,11441,11443,11445,11447,11449,11451,11453,11455,11457,11459,11461,11463,11465,11467,11469,11471,11473,11475,11477,11479,11481,11483,11485,11487,11489,11491,11500,11502,11507,11559,11565,42561,42563,42565,42567,42569,42571,42573,42575,42577,42579,42581,42583,42585,42587,42589,42591,42593,42595,42597,42599,42601,42603,42605,42625,42627,42629,42631,42633,42635,42637,42639,42641,42643,42645,42647,42649,42651,42787,42789,42791,42793,42795,42797,42799,42803,42805,42807,42809,42811,42813,42815,42817,42819,42821,42823,42825,42827,42829,42831,42833,42835,42837,42839,42841,42843,42845,42847,42849,42851,42853,42855,42857,42859,42861,42863,42874,42876,42879,42881,42883,42885,42887,42892,42897,42903,42905,42907,42909,42911,42913,42915,42917,42919,42921,42933,42935,42937,42939,42941,42943,42947,42952,42954,42998,43859);Pe.addRange(97,122).addRange(223,246).addRange(248,255).addRange(328,329).addRange(382,384).addRange(409,410).addRange(454,455).addRange(457,458).addRange(476,477).addRange(495,497).addRange(575,576).addRange(591,596).addRange(598,599).addRange(603,604).addRange(608,609).addRange(613,614).addRange(616,620).addRange(625,626).addRange(642,643).addRange(647,652).addRange(669,670).addRange(891,893).addRange(940,974).addRange(976,977).addRange(981,983).addRange(1007,1011).addRange(1072,1119).addRange(1230,1231).addRange(1377,1415).addRange(5112,5117).addRange(7296,7304).addRange(7829,7835).addRange(7935,7943).addRange(7952,7957).addRange(7968,7975).addRange(7984,7991).addRange(8e3,8005).addRange(8016,8023).addRange(8032,8039).addRange(8048,8061).addRange(8064,8071).addRange(8080,8087).addRange(8096,8103).addRange(8112,8116).addRange(8118,8119).addRange(8130,8132).addRange(8134,8135).addRange(8144,8147).addRange(8150,8151).addRange(8160,8167).addRange(8178,8180),Pe.addRange(8182,8183).addRange(8560,8575).addRange(9424,9449).addRange(11312,11358).addRange(11365,11366).addRange(11520,11557).addRange(42899,42900).addRange(43888,43967).addRange(64256,64262).addRange(64275,64279).addRange(65345,65370).addRange(66600,66639).addRange(66776,66811).addRange(68800,68850).addRange(71872,71903).addRange(93792,93823).addRange(125218,125251),_e.exports=Pe},50046:function(_e,be,Te){const Pe=Te(78776)(181,257,259,261,263,265,267,269,271,273,275,277,279,281,283,285,287,289,291,293,295,297,299,301,303,305,307,309,311,314,316,318,320,322,324,326,331,333,335,337,339,341,343,345,347,349,351,353,355,357,359,361,363,365,367,369,371,373,375,378,380,387,389,392,396,402,405,414,417,419,421,424,429,432,436,438,441,445,447,462,464,466,468,470,472,474,479,481,483,485,487,489,491,493,501,505,507,509,511,513,515,517,519,521,523,525,527,529,531,533,535,537,539,541,543,547,549,551,553,555,557,559,561,563,572,578,583,585,587,589,601,611,623,629,637,640,658,837,881,883,887,912,985,987,989,991,993,995,997,999,1001,1003,1005,1013,1016,1019,1121,1123,1125,1127,1129,1131,1133,1135,1137,1139,1141,1143,1145,1147,1149,1151,1153,1163,1165,1167,1169,1171,1173,1175,1177,1179,1181,1183,1185,1187,1189,1191,1193,1195,1197,1199,1201,1203,1205,1207,1209,1211,1213,1215,1218,1220,1222,1224,1226,1228,1233,1235,1237,1239,1241,1243,1245,1247,1249,1251,1253,1255,1257,1259,1261,1263,1265,1267,1269,1271,1273,1275,1277,1279,1281,1283,1285,1287,1289,1291,1293,1295,1297,1299,1301,1303,1305,1307,1309,1311,1313,1315,1317,1319,1321,1323,1325,1327,7545,7549,7566,7681,7683,7685,7687,7689,7691,7693,7695,7697,7699,7701,7703,7705,7707,7709,7711,7713,7715,7717,7719,7721,7723,7725,7727,7729,7731,7733,7735,7737,7739,7741,7743,7745,7747,7749,7751,7753,7755,7757,7759,7761,7763,7765,7767,7769,7771,7773,7775,7777,7779,7781,7783,7785,7787,7789,7791,7793,7795,7797,7799,7801,7803,7805,7807,7809,7811,7813,7815,7817,7819,7821,7823,7825,7827,7841,7843,7845,7847,7849,7851,7853,7855,7857,7859,7861,7863,7865,7867,7869,7871,7873,7875,7877,7879,7881,7883,7885,7887,7889,7891,7893,7895,7897,7899,7901,7903,7905,7907,7909,7911,7913,7915,7917,7919,7921,7923,7925,7927,7929,7931,7933,8124,8126,8140,8188,8526,8580,11361,11368,11370,11372,11379,11382,11393,11395,11397,11399,11401,11403,11405,11407,11409,11411,11413,11415,11417,11419,11421,11423,11425,11427,11429,11431,11433,11435,11437,11439,11441,11443,11445,11447,11449,11451,11453,11455,11457,11459,11461,11463,11465,11467,11469,11471,11473,11475,11477,11479,11481,11483,11485,11487,11489,11491,11500,11502,11507,11559,11565,42561,42563,42565,42567,42569,42571,42573,42575,42577,42579,42581,42583,42585,42587,42589,42591,42593,42595,42597,42599,42601,42603,42605,42625,42627,42629,42631,42633,42635,42637,42639,42641,42643,42645,42647,42649,42651,42787,42789,42791,42793,42795,42797,42799,42803,42805,42807,42809,42811,42813,42815,42817,42819,42821,42823,42825,42827,42829,42831,42833,42835,42837,42839,42841,42843,42845,42847,42849,42851,42853,42855,42857,42859,42861,42863,42874,42876,42879,42881,42883,42885,42887,42892,42897,42903,42905,42907,42909,42911,42913,42915,42917,42919,42921,42933,42935,42937,42939,42941,42943,42947,42952,42954,42998,43859);Pe.addRange(97,122).addRange(223,246).addRange(248,255).addRange(328,329).addRange(382,384).addRange(409,410).addRange(453,454).addRange(456,457).addRange(459,460).addRange(476,477).addRange(495,496).addRange(498,499).addRange(575,576).addRange(591,596).addRange(598,599).addRange(603,604).addRange(608,609).addRange(613,614).addRange(616,620).addRange(625,626).addRange(642,643).addRange(647,652).addRange(669,670).addRange(891,893).addRange(940,974).addRange(976,977).addRange(981,983).addRange(1007,1011).addRange(1072,1119).addRange(1230,1231).addRange(1377,1415).addRange(4304,4346).addRange(4349,4351).addRange(5112,5117).addRange(7296,7304).addRange(7829,7835).addRange(7935,7943).addRange(7952,7957).addRange(7968,7975).addRange(7984,7991).addRange(8e3,8005).addRange(8016,8023).addRange(8032,8039).addRange(8048,8061).addRange(8064,8116).addRange(8118,8119).addRange(8130,8132).addRange(8134,8135).addRange(8144,8147).addRange(8150,8151).addRange(8160,8167),Pe.addRange(8178,8180).addRange(8182,8183).addRange(8560,8575).addRange(9424,9449).addRange(11312,11358).addRange(11365,11366).addRange(11520,11557).addRange(42899,42900).addRange(43888,43967).addRange(64256,64262).addRange(64275,64279).addRange(65345,65370).addRange(66600,66639).addRange(66776,66811).addRange(68800,68850).addRange(71872,71903).addRange(93792,93823).addRange(125218,125251),_e.exports=Pe},77336:function(_e,be,Te){const Pe=Te(78776)(45,1418,1470,5120,6150,8275,8315,8331,8722,11799,11802,11840,12316,12336,12448,65112,65123,65293,69293);Pe.addRange(8208,8213).addRange(11834,11835).addRange(65073,65074),_e.exports=Pe},32016:function(_e,be,Te){const Pe=Te(78776)(173,847,1564,12644,65279,65440);Pe.addRange(4447,4448).addRange(6068,6069).addRange(6155,6158).addRange(8203,8207).addRange(8234,8238).addRange(8288,8303).addRange(65024,65039).addRange(65520,65528).addRange(113824,113827).addRange(119155,119162).addRange(917504,921599),_e.exports=Pe},42339:function(_e,be,Te){const Pe=Te(78776)(329,1651,3959,3961,917505);Pe.addRange(6051,6052).addRange(8298,8303).addRange(9001,9002),_e.exports=Pe},97707:function(_e,be,Te){const Pe=Te(78776)(94,96,168,175,180,890,1369,1471,1476,2364,2381,2417,2492,2509,2620,2637,2748,2765,2876,2893,2901,3021,3149,3260,3277,3405,3530,3662,3770,3893,3895,3897,4038,4151,4239,6109,6783,6964,6980,7405,7412,8125,11823,12540,42607,42623,43204,43347,43443,43456,43493,43766,64286,65342,65344,65392,65507,66272,70003,70080,70460,70477,70722,70726,71231,71467,72003,72160,72244,72263,72345,72767,73026,73111);Pe.addRange(183,184).addRange(688,846).addRange(848,855).addRange(861,866).addRange(884,885).addRange(900,901).addRange(1155,1159).addRange(1425,1441).addRange(1443,1469).addRange(1473,1474).addRange(1611,1618).addRange(1623,1624).addRange(1759,1760).addRange(1765,1766).addRange(1770,1772).addRange(1840,1866).addRange(1958,1968).addRange(2027,2037).addRange(2072,2073).addRange(2275,2302).addRange(2385,2388).addRange(2813,2815).addRange(3387,3388).addRange(3655,3660).addRange(3784,3788).addRange(3864,3865).addRange(3902,3903).addRange(3970,3972).addRange(3974,3975).addRange(4153,4154).addRange(4195,4196).addRange(4201,4205).addRange(4231,4237).addRange(4250,4251).addRange(4957,4959).addRange(6089,6099).addRange(6457,6459).addRange(6773,6780).addRange(6832,6845).addRange(7019,7027).addRange(7082,7083).addRange(7222,7223).addRange(7288,7293).addRange(7376,7400).addRange(7415,7417).addRange(7468,7530).addRange(7620,7631).addRange(7669,7673).addRange(7677,7679).addRange(8127,8129).addRange(8141,8143),Pe.addRange(8157,8159).addRange(8173,8175).addRange(8189,8190).addRange(11503,11505).addRange(12330,12335).addRange(12441,12444).addRange(42620,42621).addRange(42652,42653).addRange(42736,42737).addRange(42752,42785).addRange(42888,42890).addRange(43e3,43001).addRange(43232,43249).addRange(43307,43310).addRange(43643,43645).addRange(43711,43714).addRange(43867,43871).addRange(43881,43883).addRange(44012,44013).addRange(65056,65071).addRange(65438,65439).addRange(68325,68326).addRange(68898,68903).addRange(69446,69456).addRange(69817,69818).addRange(69939,69940).addRange(70090,70092).addRange(70197,70198).addRange(70377,70378).addRange(70502,70508).addRange(70512,70516).addRange(70850,70851).addRange(71103,71104).addRange(71350,71351).addRange(71737,71738).addRange(71997,71998).addRange(73028,73029).addRange(92912,92916).addRange(92976,92982).addRange(94095,94111).addRange(94192,94193).addRange(119143,119145).addRange(119149,119154).addRange(119163,119170).addRange(119173,119179).addRange(119210,119213).addRange(123184,123190).addRange(123628,123631).addRange(125136,125142).addRange(125252,125254).addRange(125256,125258),_e.exports=Pe},23694:function(_e,be,Te){const Pe=Te(78776)(35,42,169,174,8252,8265,8482,8505,9e3,9167,9410,9654,9664,9742,9745,9752,9757,9760,9766,9770,9792,9794,9827,9832,9851,9881,9895,9928,9937,9981,9986,9989,9999,10002,10004,10006,10013,10017,10024,10052,10055,10060,10062,10071,10145,10160,10175,11088,11093,12336,12349,12951,12953,126980,127183,127374,127514,127535,128391,128400,128424,128444,128481,128483,128488,128495,128499,128745,128752);Pe.addRange(48,57).addRange(8596,8601).addRange(8617,8618).addRange(8986,8987).addRange(9193,9203).addRange(9208,9210).addRange(9642,9643).addRange(9723,9726).addRange(9728,9732).addRange(9748,9749).addRange(9762,9763).addRange(9774,9775).addRange(9784,9786).addRange(9800,9811).addRange(9823,9824).addRange(9829,9830).addRange(9854,9855).addRange(9874,9879).addRange(9883,9884).addRange(9888,9889).addRange(9898,9899).addRange(9904,9905).addRange(9917,9918).addRange(9924,9925).addRange(9934,9935).addRange(9939,9940).addRange(9961,9962).addRange(9968,9973).addRange(9975,9978).addRange(9992,9997).addRange(10035,10036).addRange(10067,10069).addRange(10083,10084).addRange(10133,10135).addRange(10548,10549).addRange(11013,11015).addRange(11035,11036).addRange(127344,127345).addRange(127358,127359).addRange(127377,127386).addRange(127462,127487).addRange(127489,127490).addRange(127538,127546).addRange(127568,127569).addRange(127744,127777).addRange(127780,127891).addRange(127894,127895).addRange(127897,127899).addRange(127902,127984).addRange(127987,127989).addRange(127991,128253),Pe.addRange(128255,128317).addRange(128329,128334).addRange(128336,128359).addRange(128367,128368).addRange(128371,128378).addRange(128394,128397).addRange(128405,128406).addRange(128420,128421).addRange(128433,128434).addRange(128450,128452).addRange(128465,128467).addRange(128476,128478).addRange(128506,128591).addRange(128640,128709).addRange(128715,128722).addRange(128725,128727).addRange(128736,128741).addRange(128747,128748).addRange(128755,128764).addRange(128992,129003).addRange(129292,129338).addRange(129340,129349).addRange(129351,129400).addRange(129402,129483).addRange(129485,129535).addRange(129648,129652).addRange(129656,129658).addRange(129664,129670).addRange(129680,129704).addRange(129712,129718).addRange(129728,129730).addRange(129744,129750),_e.exports=Pe},94007:function(_e,be,Te){const Pe=Te(78776)(35,42,8205,8419,65039);Pe.addRange(48,57).addRange(127462,127487).addRange(127995,127999).addRange(129456,129459).addRange(917536,917631),_e.exports=Pe},13916:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(127995,127999),_e.exports=Pe},98053:function(_e,be,Te){const Pe=Te(78776)(9757,9977,127877,127943,128124,128143,128145,128170,128378,128400,128675,128704,128716,129292,129295,129318,129399,129467);Pe.addRange(9994,9997).addRange(127938,127940).addRange(127946,127948).addRange(128066,128067).addRange(128070,128080).addRange(128102,128120).addRange(128129,128131).addRange(128133,128135).addRange(128372,128373).addRange(128405,128406).addRange(128581,128583).addRange(128587,128591).addRange(128692,128694).addRange(129304,129311).addRange(129328,129337).addRange(129340,129342).addRange(129461,129462).addRange(129464,129465).addRange(129485,129487).addRange(129489,129501),_e.exports=Pe},10906:function(_e,be,Te){const Pe=Te(78776)(9200,9203,9855,9875,9889,9934,9940,9962,9973,9978,9981,9989,10024,10060,10062,10071,10160,10175,11088,11093,126980,127183,127374,127489,127514,127535,127988,128064,128378,128420,128716);Pe.addRange(8986,8987).addRange(9193,9196).addRange(9725,9726).addRange(9748,9749).addRange(9800,9811).addRange(9898,9899).addRange(9917,9918).addRange(9924,9925).addRange(9970,9971).addRange(9994,9995).addRange(10067,10069).addRange(10133,10135).addRange(11035,11036).addRange(127377,127386).addRange(127462,127487).addRange(127538,127542).addRange(127544,127546).addRange(127568,127569).addRange(127744,127776).addRange(127789,127797).addRange(127799,127868).addRange(127870,127891).addRange(127904,127946).addRange(127951,127955).addRange(127968,127984).addRange(127992,128062).addRange(128066,128252).addRange(128255,128317).addRange(128331,128334).addRange(128336,128359).addRange(128405,128406).addRange(128507,128591).addRange(128640,128709).addRange(128720,128722).addRange(128725,128727).addRange(128747,128748).addRange(128756,128764).addRange(128992,129003).addRange(129292,129338).addRange(129340,129349).addRange(129351,129400).addRange(129402,129483).addRange(129485,129535).addRange(129648,129652).addRange(129656,129658).addRange(129664,129670).addRange(129680,129704).addRange(129712,129718).addRange(129728,129730).addRange(129744,129750),_e.exports=Pe},66359:function(_e,be,Te){const Pe=Te(78776)(169,174,8252,8265,8482,8505,9e3,9096,9167,9410,9654,9664,10004,10006,10013,10017,10024,10052,10055,10060,10062,10071,10145,10160,10175,11088,11093,12336,12349,12951,12953,127279,127374,127514,127535);Pe.addRange(8596,8601).addRange(8617,8618).addRange(8986,8987).addRange(9193,9203).addRange(9208,9210).addRange(9642,9643).addRange(9723,9726).addRange(9728,9733).addRange(9735,9746).addRange(9748,9861).addRange(9872,9989).addRange(9992,10002).addRange(10035,10036).addRange(10067,10069).addRange(10083,10087).addRange(10133,10135).addRange(10548,10549).addRange(11013,11015).addRange(11035,11036).addRange(126976,127231).addRange(127245,127247).addRange(127340,127345).addRange(127358,127359).addRange(127377,127386).addRange(127405,127461).addRange(127489,127503).addRange(127538,127546).addRange(127548,127551).addRange(127561,127994).addRange(128e3,128317).addRange(128326,128591).addRange(128640,128767).addRange(128884,128895).addRange(128981,129023).addRange(129036,129039).addRange(129096,129103).addRange(129114,129119).addRange(129160,129167).addRange(129198,129279).addRange(129292,129338).addRange(129340,129349).addRange(129351,129791).addRange(130048,131069),_e.exports=Pe},17743:function(_e,be,Te){const Pe=Te(78776)(183,1600,2042,2901,3654,3782,6154,6211,6823,7222,7291,12293,40981,42508,43471,43494,43632,43741,65392,70493,72344,94179);Pe.addRange(720,721).addRange(12337,12341).addRange(12445,12446).addRange(12540,12542).addRange(43763,43764).addRange(71110,71112).addRange(92994,92995).addRange(94176,94177).addRange(123196,123197).addRange(125252,125254),_e.exports=Pe},75530:function(_e,be,Te){const Pe=Te(78776)(908,1470,1472,1475,1478,1563,1758,1769,1808,1969,2074,2084,2088,2142,2363,2482,2493,2510,2563,2654,2678,2691,2761,2768,2809,2877,2880,2947,2972,3007,3024,3133,3294,3389,3517,3716,3749,3773,3782,3894,3896,3967,3973,4145,4152,4295,4301,4696,4800,6070,6314,6464,6743,6753,6971,7082,7143,7150,7379,7393,7418,8025,8027,8029,11559,11565,42611,43597,43697,43712,43714,64285,64318,65952,66927,67592,67644,67903,69293,69632,69932,70197,70280,70461,70463,70480,70725,70749,70841,70846,70849,71102,71230,71340,71350,71352,71462,71736,71739,71945,71997,72192,72272,72343,72766,72873,72881,72884,73030,73110,73112,73648,92917,113820,113823,119142,119365,119970,119995,120134,123647,125259,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590);Pe.addRange(32,126).addRange(160,172).addRange(174,767).addRange(880,887).addRange(890,895).addRange(900,906).addRange(910,929).addRange(931,1154).addRange(1162,1327).addRange(1329,1366).addRange(1369,1418).addRange(1421,1423).addRange(1488,1514).addRange(1519,1524).addRange(1542,1551).addRange(1566,1610).addRange(1632,1647).addRange(1649,1749).addRange(1765,1766).addRange(1774,1805).addRange(1810,1839).addRange(1869,1957).addRange(1984,2026).addRange(2036,2042).addRange(2046,2069).addRange(2096,2110).addRange(2112,2136).addRange(2144,2154).addRange(2208,2228).addRange(2230,2247).addRange(2307,2361).addRange(2365,2368).addRange(2377,2380).addRange(2382,2384).addRange(2392,2401).addRange(2404,2432).addRange(2434,2435).addRange(2437,2444).addRange(2447,2448).addRange(2451,2472).addRange(2474,2480).addRange(2486,2489).addRange(2495,2496).addRange(2503,2504).addRange(2507,2508).addRange(2524,2525).addRange(2527,2529).addRange(2534,2557).addRange(2565,2570).addRange(2575,2576).addRange(2579,2600),Pe.addRange(2602,2608).addRange(2610,2611).addRange(2613,2614).addRange(2616,2617).addRange(2622,2624).addRange(2649,2652).addRange(2662,2671).addRange(2674,2676).addRange(2693,2701).addRange(2703,2705).addRange(2707,2728).addRange(2730,2736).addRange(2738,2739).addRange(2741,2745).addRange(2749,2752).addRange(2763,2764).addRange(2784,2785).addRange(2790,2801).addRange(2818,2819).addRange(2821,2828).addRange(2831,2832).addRange(2835,2856).addRange(2858,2864).addRange(2866,2867).addRange(2869,2873).addRange(2887,2888).addRange(2891,2892).addRange(2908,2909).addRange(2911,2913).addRange(2918,2935).addRange(2949,2954).addRange(2958,2960).addRange(2962,2965).addRange(2969,2970).addRange(2974,2975).addRange(2979,2980).addRange(2984,2986).addRange(2990,3001).addRange(3009,3010).addRange(3014,3016).addRange(3018,3020).addRange(3046,3066).addRange(3073,3075).addRange(3077,3084).addRange(3086,3088).addRange(3090,3112).addRange(3114,3129).addRange(3137,3140).addRange(3160,3162).addRange(3168,3169).addRange(3174,3183),Pe.addRange(3191,3200).addRange(3202,3212).addRange(3214,3216).addRange(3218,3240).addRange(3242,3251).addRange(3253,3257).addRange(3261,3262).addRange(3264,3265).addRange(3267,3268).addRange(3271,3272).addRange(3274,3275).addRange(3296,3297).addRange(3302,3311).addRange(3313,3314).addRange(3330,3340).addRange(3342,3344).addRange(3346,3386).addRange(3391,3392).addRange(3398,3400).addRange(3402,3404).addRange(3406,3407).addRange(3412,3414).addRange(3416,3425).addRange(3430,3455).addRange(3458,3459).addRange(3461,3478).addRange(3482,3505).addRange(3507,3515).addRange(3520,3526).addRange(3536,3537).addRange(3544,3550).addRange(3558,3567).addRange(3570,3572).addRange(3585,3632).addRange(3634,3635).addRange(3647,3654).addRange(3663,3675).addRange(3713,3714).addRange(3718,3722).addRange(3724,3747).addRange(3751,3760).addRange(3762,3763).addRange(3776,3780).addRange(3792,3801).addRange(3804,3807).addRange(3840,3863).addRange(3866,3892).addRange(3898,3911).addRange(3913,3948).addRange(3976,3980).addRange(4030,4037),Pe.addRange(4039,4044).addRange(4046,4058).addRange(4096,4140).addRange(4155,4156).addRange(4159,4183).addRange(4186,4189).addRange(4193,4208).addRange(4213,4225).addRange(4227,4228).addRange(4231,4236).addRange(4238,4252).addRange(4254,4293).addRange(4304,4680).addRange(4682,4685).addRange(4688,4694).addRange(4698,4701).addRange(4704,4744).addRange(4746,4749).addRange(4752,4784).addRange(4786,4789).addRange(4792,4798).addRange(4802,4805).addRange(4808,4822).addRange(4824,4880).addRange(4882,4885).addRange(4888,4954).addRange(4960,4988).addRange(4992,5017).addRange(5024,5109).addRange(5112,5117).addRange(5120,5788).addRange(5792,5880).addRange(5888,5900).addRange(5902,5905).addRange(5920,5937).addRange(5941,5942).addRange(5952,5969).addRange(5984,5996).addRange(5998,6e3).addRange(6016,6067).addRange(6078,6085).addRange(6087,6088).addRange(6100,6108).addRange(6112,6121).addRange(6128,6137).addRange(6144,6154).addRange(6160,6169).addRange(6176,6264).addRange(6272,6276).addRange(6279,6312).addRange(6320,6389),Pe.addRange(6400,6430).addRange(6435,6438).addRange(6441,6443).addRange(6448,6449).addRange(6451,6456).addRange(6468,6509).addRange(6512,6516).addRange(6528,6571).addRange(6576,6601).addRange(6608,6618).addRange(6622,6678).addRange(6681,6682).addRange(6686,6741).addRange(6755,6756).addRange(6765,6770).addRange(6784,6793).addRange(6800,6809).addRange(6816,6829).addRange(6916,6963).addRange(6973,6977).addRange(6979,6987).addRange(6992,7018).addRange(7028,7036).addRange(7042,7073).addRange(7078,7079).addRange(7086,7141).addRange(7146,7148).addRange(7154,7155).addRange(7164,7211).addRange(7220,7221).addRange(7227,7241).addRange(7245,7304).addRange(7312,7354).addRange(7357,7367).addRange(7401,7404).addRange(7406,7411).addRange(7413,7415).addRange(7424,7615).addRange(7680,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8132).addRange(8134,8147).addRange(8150,8155).addRange(8157,8175).addRange(8178,8180).addRange(8182,8190),Pe.addRange(8192,8202).addRange(8208,8231).addRange(8239,8287).addRange(8304,8305).addRange(8308,8334).addRange(8336,8348).addRange(8352,8383).addRange(8448,8587).addRange(8592,9254).addRange(9280,9290).addRange(9312,11123).addRange(11126,11157).addRange(11159,11310).addRange(11312,11358).addRange(11360,11502).addRange(11506,11507).addRange(11513,11557).addRange(11568,11623).addRange(11631,11632).addRange(11648,11670).addRange(11680,11686).addRange(11688,11694).addRange(11696,11702).addRange(11704,11710).addRange(11712,11718).addRange(11720,11726).addRange(11728,11734).addRange(11736,11742).addRange(11776,11858).addRange(11904,11929).addRange(11931,12019).addRange(12032,12245).addRange(12272,12283).addRange(12288,12329).addRange(12336,12351).addRange(12353,12438).addRange(12443,12543).addRange(12549,12591).addRange(12593,12686).addRange(12688,12771).addRange(12784,12830).addRange(12832,40956).addRange(40960,42124).addRange(42128,42182).addRange(42192,42539).addRange(42560,42606).addRange(42622,42653).addRange(42656,42735).addRange(42738,42743).addRange(42752,42943).addRange(42946,42954),Pe.addRange(42997,43009).addRange(43011,43013).addRange(43015,43018).addRange(43020,43044).addRange(43047,43051).addRange(43056,43065).addRange(43072,43127).addRange(43136,43203).addRange(43214,43225).addRange(43250,43262).addRange(43264,43301).addRange(43310,43334).addRange(43346,43347).addRange(43359,43388).addRange(43395,43442).addRange(43444,43445).addRange(43450,43451).addRange(43454,43469).addRange(43471,43481).addRange(43486,43492).addRange(43494,43518).addRange(43520,43560).addRange(43567,43568).addRange(43571,43572).addRange(43584,43586).addRange(43588,43595).addRange(43600,43609).addRange(43612,43643).addRange(43645,43695).addRange(43701,43702).addRange(43705,43709).addRange(43739,43755).addRange(43758,43765).addRange(43777,43782).addRange(43785,43790).addRange(43793,43798).addRange(43808,43814).addRange(43816,43822).addRange(43824,43883).addRange(43888,44004).addRange(44006,44007).addRange(44009,44012).addRange(44016,44025).addRange(44032,55203).addRange(55216,55238).addRange(55243,55291).addRange(63744,64109).addRange(64112,64217).addRange(64256,64262).addRange(64275,64279).addRange(64287,64310),Pe.addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64449).addRange(64467,64831).addRange(64848,64911).addRange(64914,64967).addRange(65008,65021).addRange(65040,65049).addRange(65072,65106).addRange(65108,65126).addRange(65128,65131).addRange(65136,65140).addRange(65142,65276).addRange(65281,65437).addRange(65440,65470).addRange(65474,65479).addRange(65482,65487).addRange(65490,65495).addRange(65498,65500).addRange(65504,65510).addRange(65512,65518).addRange(65532,65533).addRange(65536,65547).addRange(65549,65574).addRange(65576,65594).addRange(65596,65597).addRange(65599,65613).addRange(65616,65629).addRange(65664,65786).addRange(65792,65794).addRange(65799,65843).addRange(65847,65934).addRange(65936,65948).addRange(66e3,66044).addRange(66176,66204).addRange(66208,66256).addRange(66273,66299).addRange(66304,66339).addRange(66349,66378).addRange(66384,66421).addRange(66432,66461).addRange(66463,66499).addRange(66504,66517).addRange(66560,66717).addRange(66720,66729).addRange(66736,66771).addRange(66776,66811).addRange(66816,66855).addRange(66864,66915).addRange(67072,67382),Pe.addRange(67392,67413).addRange(67424,67431).addRange(67584,67589).addRange(67594,67637).addRange(67639,67640).addRange(67647,67669).addRange(67671,67742).addRange(67751,67759).addRange(67808,67826).addRange(67828,67829).addRange(67835,67867).addRange(67871,67897).addRange(67968,68023).addRange(68028,68047).addRange(68050,68096).addRange(68112,68115).addRange(68117,68119).addRange(68121,68149).addRange(68160,68168).addRange(68176,68184).addRange(68192,68255).addRange(68288,68324).addRange(68331,68342).addRange(68352,68405).addRange(68409,68437).addRange(68440,68466).addRange(68472,68497).addRange(68505,68508).addRange(68521,68527).addRange(68608,68680).addRange(68736,68786).addRange(68800,68850).addRange(68858,68899).addRange(68912,68921).addRange(69216,69246).addRange(69248,69289).addRange(69296,69297).addRange(69376,69415).addRange(69424,69445).addRange(69457,69465).addRange(69552,69579).addRange(69600,69622).addRange(69634,69687).addRange(69703,69709).addRange(69714,69743).addRange(69762,69810).addRange(69815,69816).addRange(69819,69820).addRange(69822,69825).addRange(69840,69864).addRange(69872,69881),Pe.addRange(69891,69926).addRange(69942,69959).addRange(69968,70002).addRange(70004,70006).addRange(70018,70069).addRange(70079,70088).addRange(70093,70094).addRange(70096,70111).addRange(70113,70132).addRange(70144,70161).addRange(70163,70190).addRange(70194,70195).addRange(70200,70205).addRange(70272,70278).addRange(70282,70285).addRange(70287,70301).addRange(70303,70313).addRange(70320,70366).addRange(70368,70370).addRange(70384,70393).addRange(70402,70403).addRange(70405,70412).addRange(70415,70416).addRange(70419,70440).addRange(70442,70448).addRange(70450,70451).addRange(70453,70457).addRange(70465,70468).addRange(70471,70472).addRange(70475,70477).addRange(70493,70499).addRange(70656,70711).addRange(70720,70721).addRange(70727,70747).addRange(70751,70753).addRange(70784,70831).addRange(70833,70834).addRange(70843,70844).addRange(70852,70855).addRange(70864,70873).addRange(71040,71086).addRange(71088,71089).addRange(71096,71099).addRange(71105,71131).addRange(71168,71218).addRange(71227,71228).addRange(71233,71236).addRange(71248,71257).addRange(71264,71276).addRange(71296,71338).addRange(71342,71343),Pe.addRange(71360,71369).addRange(71424,71450).addRange(71456,71457).addRange(71472,71487).addRange(71680,71726).addRange(71840,71922).addRange(71935,71942).addRange(71948,71955).addRange(71957,71958).addRange(71960,71983).addRange(71985,71989).addRange(71991,71992).addRange(71999,72002).addRange(72004,72006).addRange(72016,72025).addRange(72096,72103).addRange(72106,72147).addRange(72156,72159).addRange(72161,72164).addRange(72203,72242).addRange(72249,72250).addRange(72255,72262).addRange(72279,72280).addRange(72284,72329).addRange(72346,72354).addRange(72384,72440).addRange(72704,72712).addRange(72714,72751).addRange(72768,72773).addRange(72784,72812).addRange(72816,72847).addRange(72960,72966).addRange(72968,72969).addRange(72971,73008).addRange(73040,73049).addRange(73056,73061).addRange(73063,73064).addRange(73066,73102).addRange(73107,73108).addRange(73120,73129).addRange(73440,73458).addRange(73461,73464).addRange(73664,73713).addRange(73727,74649).addRange(74752,74862).addRange(74864,74868).addRange(74880,75075).addRange(77824,78894).addRange(82944,83526).addRange(92160,92728).addRange(92736,92766),Pe.addRange(92768,92777).addRange(92782,92783).addRange(92880,92909).addRange(92928,92975).addRange(92983,92997).addRange(93008,93017).addRange(93019,93025).addRange(93027,93047).addRange(93053,93071).addRange(93760,93850).addRange(93952,94026).addRange(94032,94087).addRange(94099,94111).addRange(94176,94179).addRange(94192,94193).addRange(94208,100343).addRange(100352,101589).addRange(101632,101640).addRange(110592,110878).addRange(110928,110930).addRange(110948,110951).addRange(110960,111355).addRange(113664,113770).addRange(113776,113788).addRange(113792,113800).addRange(113808,113817).addRange(118784,119029).addRange(119040,119078).addRange(119081,119140).addRange(119146,119149).addRange(119171,119172).addRange(119180,119209).addRange(119214,119272).addRange(119296,119361).addRange(119520,119539).addRange(119552,119638).addRange(119648,119672).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132),Pe.addRange(120138,120144).addRange(120146,120485).addRange(120488,120779).addRange(120782,121343).addRange(121399,121402).addRange(121453,121460).addRange(121462,121475).addRange(121477,121483).addRange(123136,123180).addRange(123191,123197).addRange(123200,123209).addRange(123214,123215).addRange(123584,123627).addRange(123632,123641).addRange(124928,125124).addRange(125127,125135).addRange(125184,125251).addRange(125264,125273).addRange(125278,125279).addRange(126065,126132).addRange(126209,126269).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627).addRange(126629,126633).addRange(126635,126651).addRange(126704,126705).addRange(126976,127019).addRange(127024,127123).addRange(127136,127150).addRange(127153,127167).addRange(127169,127183).addRange(127185,127221).addRange(127232,127405).addRange(127462,127490).addRange(127504,127547).addRange(127552,127560).addRange(127568,127569).addRange(127584,127589),Pe.addRange(127744,128727).addRange(128736,128748).addRange(128752,128764).addRange(128768,128883).addRange(128896,128984).addRange(128992,129003).addRange(129024,129035).addRange(129040,129095).addRange(129104,129113).addRange(129120,129159).addRange(129168,129197).addRange(129200,129201).addRange(129280,129400).addRange(129402,129483).addRange(129485,129619).addRange(129632,129645).addRange(129648,129652).addRange(129656,129658).addRange(129664,129670).addRange(129680,129704).addRange(129712,129718).addRange(129728,129730).addRange(129744,129750).addRange(129792,129938).addRange(129940,129994).addRange(130032,130041).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546),_e.exports=Pe},38693:function(_e,be,Te){const Pe=Te(78776)(1471,1479,1648,1809,2045,2362,2364,2381,2433,2492,2494,2509,2519,2558,2620,2641,2677,2748,2765,2817,2876,2893,2946,3006,3008,3021,3031,3072,3076,3201,3260,3263,3266,3270,3390,3405,3415,3457,3530,3535,3542,3551,3633,3761,3893,3895,3897,4038,4226,4237,4253,6086,6109,6313,6450,6683,6742,6752,6754,6783,6972,6978,7142,7149,7405,7412,8204,11647,43010,43014,43019,43052,43263,43443,43493,43587,43596,43644,43696,43713,43766,44005,44008,44013,64286,66045,66272,68159,69633,70003,70095,70196,70206,70367,70462,70464,70487,70726,70750,70832,70842,70845,71087,71229,71339,71341,71351,71984,71998,72003,72160,72263,72767,73018,73031,73109,73111,94031,94180,119141,121461,121476);Pe.addRange(768,879).addRange(1155,1161).addRange(1425,1469).addRange(1473,1474).addRange(1476,1477).addRange(1552,1562).addRange(1611,1631).addRange(1750,1756).addRange(1759,1764).addRange(1767,1768).addRange(1770,1773).addRange(1840,1866).addRange(1958,1968).addRange(2027,2035).addRange(2070,2073).addRange(2075,2083).addRange(2085,2087).addRange(2089,2093).addRange(2137,2139).addRange(2259,2273).addRange(2275,2306).addRange(2369,2376).addRange(2385,2391).addRange(2402,2403).addRange(2497,2500).addRange(2530,2531).addRange(2561,2562).addRange(2625,2626).addRange(2631,2632).addRange(2635,2637).addRange(2672,2673).addRange(2689,2690).addRange(2753,2757).addRange(2759,2760).addRange(2786,2787).addRange(2810,2815).addRange(2878,2879).addRange(2881,2884).addRange(2901,2903).addRange(2914,2915).addRange(3134,3136).addRange(3142,3144).addRange(3146,3149).addRange(3157,3158).addRange(3170,3171).addRange(3276,3277).addRange(3285,3286).addRange(3298,3299).addRange(3328,3329).addRange(3387,3388).addRange(3393,3396),Pe.addRange(3426,3427).addRange(3538,3540).addRange(3636,3642).addRange(3655,3662).addRange(3764,3772).addRange(3784,3789).addRange(3864,3865).addRange(3953,3966).addRange(3968,3972).addRange(3974,3975).addRange(3981,3991).addRange(3993,4028).addRange(4141,4144).addRange(4146,4151).addRange(4153,4154).addRange(4157,4158).addRange(4184,4185).addRange(4190,4192).addRange(4209,4212).addRange(4229,4230).addRange(4957,4959).addRange(5906,5908).addRange(5938,5940).addRange(5970,5971).addRange(6002,6003).addRange(6068,6069).addRange(6071,6077).addRange(6089,6099).addRange(6155,6157).addRange(6277,6278).addRange(6432,6434).addRange(6439,6440).addRange(6457,6459).addRange(6679,6680).addRange(6744,6750).addRange(6757,6764).addRange(6771,6780).addRange(6832,6848).addRange(6912,6915).addRange(6964,6970).addRange(7019,7027).addRange(7040,7041).addRange(7074,7077).addRange(7080,7081).addRange(7083,7085).addRange(7144,7145).addRange(7151,7153).addRange(7212,7219).addRange(7222,7223).addRange(7376,7378).addRange(7380,7392),Pe.addRange(7394,7400).addRange(7416,7417).addRange(7616,7673).addRange(7675,7679).addRange(8400,8432).addRange(11503,11505).addRange(11744,11775).addRange(12330,12335).addRange(12441,12442).addRange(42607,42610).addRange(42612,42621).addRange(42654,42655).addRange(42736,42737).addRange(43045,43046).addRange(43204,43205).addRange(43232,43249).addRange(43302,43309).addRange(43335,43345).addRange(43392,43394).addRange(43446,43449).addRange(43452,43453).addRange(43561,43566).addRange(43569,43570).addRange(43573,43574).addRange(43698,43700).addRange(43703,43704).addRange(43710,43711).addRange(43756,43757).addRange(65024,65039).addRange(65056,65071).addRange(65438,65439).addRange(66422,66426).addRange(68097,68099).addRange(68101,68102).addRange(68108,68111).addRange(68152,68154).addRange(68325,68326).addRange(68900,68903).addRange(69291,69292).addRange(69446,69456).addRange(69688,69702).addRange(69759,69761).addRange(69811,69814).addRange(69817,69818).addRange(69888,69890).addRange(69927,69931).addRange(69933,69940).addRange(70016,70017).addRange(70070,70078).addRange(70089,70092).addRange(70191,70193),Pe.addRange(70198,70199).addRange(70371,70378).addRange(70400,70401).addRange(70459,70460).addRange(70502,70508).addRange(70512,70516).addRange(70712,70719).addRange(70722,70724).addRange(70835,70840).addRange(70847,70848).addRange(70850,70851).addRange(71090,71093).addRange(71100,71101).addRange(71103,71104).addRange(71132,71133).addRange(71219,71226).addRange(71231,71232).addRange(71344,71349).addRange(71453,71455).addRange(71458,71461).addRange(71463,71467).addRange(71727,71735).addRange(71737,71738).addRange(71995,71996).addRange(72148,72151).addRange(72154,72155).addRange(72193,72202).addRange(72243,72248).addRange(72251,72254).addRange(72273,72278).addRange(72281,72283).addRange(72330,72342).addRange(72344,72345).addRange(72752,72758).addRange(72760,72765).addRange(72850,72871).addRange(72874,72880).addRange(72882,72883).addRange(72885,72886).addRange(73009,73014).addRange(73020,73021).addRange(73023,73029).addRange(73104,73105).addRange(73459,73460).addRange(92912,92916).addRange(92976,92982).addRange(94095,94098).addRange(113821,113822).addRange(119143,119145).addRange(119150,119154).addRange(119163,119170),Pe.addRange(119173,119179).addRange(119210,119213).addRange(119362,119364).addRange(121344,121398).addRange(121403,121452).addRange(121499,121503).addRange(121505,121519).addRange(122880,122886).addRange(122888,122904).addRange(122907,122913).addRange(122915,122916).addRange(122918,122922).addRange(123184,123190).addRange(123628,123631).addRange(125136,125142).addRange(125252,125258).addRange(917536,917631).addRange(917760,917999),_e.exports=Pe},91556:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(48,57).addRange(65,70).addRange(97,102).addRange(65296,65305).addRange(65313,65318).addRange(65345,65350),_e.exports=Pe},2103:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(12272,12273).addRange(12276,12283),_e.exports=Pe},18502:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(12274,12275),_e.exports=Pe},19494:function(_e,be,Te){const Pe=Te(78776)(95,170,181,183,186,748,750,895,908,1369,1471,1479,1791,2042,2045,2482,2519,2556,2558,2620,2641,2654,2768,2929,2972,3024,3031,3294,3517,3530,3542,3716,3749,3782,3840,3893,3895,3897,4038,4295,4301,4696,4800,6103,6823,8025,8027,8029,8126,8276,8305,8319,8417,8450,8455,8469,8484,8486,8488,8526,11559,11565,11631,43052,43259,64318,65343,66045,66272,67592,67644,68159,69415,70006,70108,70206,70280,70480,70487,70855,71236,71945,72263,72349,73018,73648,119970,119995,120134,121461,121476,123214,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590);Pe.addRange(48,57).addRange(65,90).addRange(97,122).addRange(192,214).addRange(216,246).addRange(248,705).addRange(710,721).addRange(736,740).addRange(768,884).addRange(886,887).addRange(890,893).addRange(902,906).addRange(910,929).addRange(931,1013).addRange(1015,1153).addRange(1155,1159).addRange(1162,1327).addRange(1329,1366).addRange(1376,1416).addRange(1425,1469).addRange(1473,1474).addRange(1476,1477).addRange(1488,1514).addRange(1519,1522).addRange(1552,1562).addRange(1568,1641).addRange(1646,1747).addRange(1749,1756).addRange(1759,1768).addRange(1770,1788).addRange(1808,1866).addRange(1869,1969).addRange(1984,2037).addRange(2048,2093).addRange(2112,2139).addRange(2144,2154).addRange(2208,2228).addRange(2230,2247).addRange(2259,2273).addRange(2275,2403).addRange(2406,2415).addRange(2417,2435).addRange(2437,2444).addRange(2447,2448).addRange(2451,2472).addRange(2474,2480).addRange(2486,2489).addRange(2492,2500).addRange(2503,2504).addRange(2507,2510).addRange(2524,2525),Pe.addRange(2527,2531).addRange(2534,2545).addRange(2561,2563).addRange(2565,2570).addRange(2575,2576).addRange(2579,2600).addRange(2602,2608).addRange(2610,2611).addRange(2613,2614).addRange(2616,2617).addRange(2622,2626).addRange(2631,2632).addRange(2635,2637).addRange(2649,2652).addRange(2662,2677).addRange(2689,2691).addRange(2693,2701).addRange(2703,2705).addRange(2707,2728).addRange(2730,2736).addRange(2738,2739).addRange(2741,2745).addRange(2748,2757).addRange(2759,2761).addRange(2763,2765).addRange(2784,2787).addRange(2790,2799).addRange(2809,2815).addRange(2817,2819).addRange(2821,2828).addRange(2831,2832).addRange(2835,2856).addRange(2858,2864).addRange(2866,2867).addRange(2869,2873).addRange(2876,2884).addRange(2887,2888).addRange(2891,2893).addRange(2901,2903).addRange(2908,2909).addRange(2911,2915).addRange(2918,2927).addRange(2946,2947).addRange(2949,2954).addRange(2958,2960).addRange(2962,2965).addRange(2969,2970).addRange(2974,2975).addRange(2979,2980).addRange(2984,2986).addRange(2990,3001),Pe.addRange(3006,3010).addRange(3014,3016).addRange(3018,3021).addRange(3046,3055).addRange(3072,3084).addRange(3086,3088).addRange(3090,3112).addRange(3114,3129).addRange(3133,3140).addRange(3142,3144).addRange(3146,3149).addRange(3157,3158).addRange(3160,3162).addRange(3168,3171).addRange(3174,3183).addRange(3200,3203).addRange(3205,3212).addRange(3214,3216).addRange(3218,3240).addRange(3242,3251).addRange(3253,3257).addRange(3260,3268).addRange(3270,3272).addRange(3274,3277).addRange(3285,3286).addRange(3296,3299).addRange(3302,3311).addRange(3313,3314).addRange(3328,3340).addRange(3342,3344).addRange(3346,3396).addRange(3398,3400).addRange(3402,3406).addRange(3412,3415).addRange(3423,3427).addRange(3430,3439).addRange(3450,3455).addRange(3457,3459).addRange(3461,3478).addRange(3482,3505).addRange(3507,3515).addRange(3520,3526).addRange(3535,3540).addRange(3544,3551).addRange(3558,3567).addRange(3570,3571).addRange(3585,3642).addRange(3648,3662).addRange(3664,3673).addRange(3713,3714).addRange(3718,3722),Pe.addRange(3724,3747).addRange(3751,3773).addRange(3776,3780).addRange(3784,3789).addRange(3792,3801).addRange(3804,3807).addRange(3864,3865).addRange(3872,3881).addRange(3902,3911).addRange(3913,3948).addRange(3953,3972).addRange(3974,3991).addRange(3993,4028).addRange(4096,4169).addRange(4176,4253).addRange(4256,4293).addRange(4304,4346).addRange(4348,4680).addRange(4682,4685).addRange(4688,4694).addRange(4698,4701).addRange(4704,4744).addRange(4746,4749).addRange(4752,4784).addRange(4786,4789).addRange(4792,4798).addRange(4802,4805).addRange(4808,4822).addRange(4824,4880).addRange(4882,4885).addRange(4888,4954).addRange(4957,4959).addRange(4969,4977).addRange(4992,5007).addRange(5024,5109).addRange(5112,5117).addRange(5121,5740).addRange(5743,5759).addRange(5761,5786).addRange(5792,5866).addRange(5870,5880).addRange(5888,5900).addRange(5902,5908).addRange(5920,5940).addRange(5952,5971).addRange(5984,5996).addRange(5998,6e3).addRange(6002,6003).addRange(6016,6099).addRange(6108,6109).addRange(6112,6121),Pe.addRange(6155,6157).addRange(6160,6169).addRange(6176,6264).addRange(6272,6314).addRange(6320,6389).addRange(6400,6430).addRange(6432,6443).addRange(6448,6459).addRange(6470,6509).addRange(6512,6516).addRange(6528,6571).addRange(6576,6601).addRange(6608,6618).addRange(6656,6683).addRange(6688,6750).addRange(6752,6780).addRange(6783,6793).addRange(6800,6809).addRange(6832,6845).addRange(6847,6848).addRange(6912,6987).addRange(6992,7001).addRange(7019,7027).addRange(7040,7155).addRange(7168,7223).addRange(7232,7241).addRange(7245,7293).addRange(7296,7304).addRange(7312,7354).addRange(7357,7359).addRange(7376,7378).addRange(7380,7418).addRange(7424,7673).addRange(7675,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8124).addRange(8130,8132).addRange(8134,8140).addRange(8144,8147).addRange(8150,8155).addRange(8160,8172).addRange(8178,8180).addRange(8182,8188).addRange(8255,8256).addRange(8336,8348).addRange(8400,8412),Pe.addRange(8421,8432).addRange(8458,8467).addRange(8472,8477).addRange(8490,8505).addRange(8508,8511).addRange(8517,8521).addRange(8544,8584).addRange(11264,11310).addRange(11312,11358).addRange(11360,11492).addRange(11499,11507).addRange(11520,11557).addRange(11568,11623).addRange(11647,11670).addRange(11680,11686).addRange(11688,11694).addRange(11696,11702).addRange(11704,11710).addRange(11712,11718).addRange(11720,11726).addRange(11728,11734).addRange(11736,11742).addRange(11744,11775).addRange(12293,12295).addRange(12321,12335).addRange(12337,12341).addRange(12344,12348).addRange(12353,12438).addRange(12441,12447).addRange(12449,12538).addRange(12540,12543).addRange(12549,12591).addRange(12593,12686).addRange(12704,12735).addRange(12784,12799).addRange(13312,19903).addRange(19968,40956).addRange(40960,42124).addRange(42192,42237).addRange(42240,42508).addRange(42512,42539).addRange(42560,42607).addRange(42612,42621).addRange(42623,42737).addRange(42775,42783).addRange(42786,42888).addRange(42891,42943).addRange(42946,42954).addRange(42997,43047).addRange(43072,43123).addRange(43136,43205),Pe.addRange(43216,43225).addRange(43232,43255).addRange(43261,43309).addRange(43312,43347).addRange(43360,43388).addRange(43392,43456).addRange(43471,43481).addRange(43488,43518).addRange(43520,43574).addRange(43584,43597).addRange(43600,43609).addRange(43616,43638).addRange(43642,43714).addRange(43739,43741).addRange(43744,43759).addRange(43762,43766).addRange(43777,43782).addRange(43785,43790).addRange(43793,43798).addRange(43808,43814).addRange(43816,43822).addRange(43824,43866).addRange(43868,43881).addRange(43888,44010).addRange(44012,44013).addRange(44016,44025).addRange(44032,55203).addRange(55216,55238).addRange(55243,55291).addRange(63744,64109).addRange(64112,64217).addRange(64256,64262).addRange(64275,64279).addRange(64285,64296).addRange(64298,64310).addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64433).addRange(64467,64829).addRange(64848,64911).addRange(64914,64967).addRange(65008,65019).addRange(65024,65039).addRange(65056,65071).addRange(65075,65076).addRange(65101,65103).addRange(65136,65140).addRange(65142,65276).addRange(65296,65305).addRange(65313,65338),Pe.addRange(65345,65370).addRange(65382,65470).addRange(65474,65479).addRange(65482,65487).addRange(65490,65495).addRange(65498,65500).addRange(65536,65547).addRange(65549,65574).addRange(65576,65594).addRange(65596,65597).addRange(65599,65613).addRange(65616,65629).addRange(65664,65786).addRange(65856,65908).addRange(66176,66204).addRange(66208,66256).addRange(66304,66335).addRange(66349,66378).addRange(66384,66426).addRange(66432,66461).addRange(66464,66499).addRange(66504,66511).addRange(66513,66517).addRange(66560,66717).addRange(66720,66729).addRange(66736,66771).addRange(66776,66811).addRange(66816,66855).addRange(66864,66915).addRange(67072,67382).addRange(67392,67413).addRange(67424,67431).addRange(67584,67589).addRange(67594,67637).addRange(67639,67640).addRange(67647,67669).addRange(67680,67702).addRange(67712,67742).addRange(67808,67826).addRange(67828,67829).addRange(67840,67861).addRange(67872,67897).addRange(67968,68023).addRange(68030,68031).addRange(68096,68099).addRange(68101,68102).addRange(68108,68115).addRange(68117,68119).addRange(68121,68149).addRange(68152,68154).addRange(68192,68220),Pe.addRange(68224,68252).addRange(68288,68295).addRange(68297,68326).addRange(68352,68405).addRange(68416,68437).addRange(68448,68466).addRange(68480,68497).addRange(68608,68680).addRange(68736,68786).addRange(68800,68850).addRange(68864,68903).addRange(68912,68921).addRange(69248,69289).addRange(69291,69292).addRange(69296,69297).addRange(69376,69404).addRange(69424,69456).addRange(69552,69572).addRange(69600,69622).addRange(69632,69702).addRange(69734,69743).addRange(69759,69818).addRange(69840,69864).addRange(69872,69881).addRange(69888,69940).addRange(69942,69951).addRange(69956,69959).addRange(69968,70003).addRange(70016,70084).addRange(70089,70092).addRange(70094,70106).addRange(70144,70161).addRange(70163,70199).addRange(70272,70278).addRange(70282,70285).addRange(70287,70301).addRange(70303,70312).addRange(70320,70378).addRange(70384,70393).addRange(70400,70403).addRange(70405,70412).addRange(70415,70416).addRange(70419,70440).addRange(70442,70448).addRange(70450,70451).addRange(70453,70457).addRange(70459,70468).addRange(70471,70472).addRange(70475,70477).addRange(70493,70499).addRange(70502,70508),Pe.addRange(70512,70516).addRange(70656,70730).addRange(70736,70745).addRange(70750,70753).addRange(70784,70853).addRange(70864,70873).addRange(71040,71093).addRange(71096,71104).addRange(71128,71133).addRange(71168,71232).addRange(71248,71257).addRange(71296,71352).addRange(71360,71369).addRange(71424,71450).addRange(71453,71467).addRange(71472,71481).addRange(71680,71738).addRange(71840,71913).addRange(71935,71942).addRange(71948,71955).addRange(71957,71958).addRange(71960,71989).addRange(71991,71992).addRange(71995,72003).addRange(72016,72025).addRange(72096,72103).addRange(72106,72151).addRange(72154,72161).addRange(72163,72164).addRange(72192,72254).addRange(72272,72345).addRange(72384,72440).addRange(72704,72712).addRange(72714,72758).addRange(72760,72768).addRange(72784,72793).addRange(72818,72847).addRange(72850,72871).addRange(72873,72886).addRange(72960,72966).addRange(72968,72969).addRange(72971,73014).addRange(73020,73021).addRange(73023,73031).addRange(73040,73049).addRange(73056,73061).addRange(73063,73064).addRange(73066,73102).addRange(73104,73105).addRange(73107,73112).addRange(73120,73129),Pe.addRange(73440,73462).addRange(73728,74649).addRange(74752,74862).addRange(74880,75075).addRange(77824,78894).addRange(82944,83526).addRange(92160,92728).addRange(92736,92766).addRange(92768,92777).addRange(92880,92909).addRange(92912,92916).addRange(92928,92982).addRange(92992,92995).addRange(93008,93017).addRange(93027,93047).addRange(93053,93071).addRange(93760,93823).addRange(93952,94026).addRange(94031,94087).addRange(94095,94111).addRange(94176,94177).addRange(94179,94180).addRange(94192,94193).addRange(94208,100343).addRange(100352,101589).addRange(101632,101640).addRange(110592,110878).addRange(110928,110930).addRange(110948,110951).addRange(110960,111355).addRange(113664,113770).addRange(113776,113788).addRange(113792,113800).addRange(113808,113817).addRange(113821,113822).addRange(119141,119145).addRange(119149,119154).addRange(119163,119170).addRange(119173,119179).addRange(119210,119213).addRange(119362,119364).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084),Pe.addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120512).addRange(120514,120538).addRange(120540,120570).addRange(120572,120596).addRange(120598,120628).addRange(120630,120654).addRange(120656,120686).addRange(120688,120712).addRange(120714,120744).addRange(120746,120770).addRange(120772,120779).addRange(120782,120831).addRange(121344,121398).addRange(121403,121452).addRange(121499,121503).addRange(121505,121519).addRange(122880,122886).addRange(122888,122904).addRange(122907,122913).addRange(122915,122916).addRange(122918,122922).addRange(123136,123180).addRange(123184,123197).addRange(123200,123209).addRange(123584,123641).addRange(124928,125124).addRange(125136,125142).addRange(125184,125259).addRange(125264,125273).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627).addRange(126629,126633),Pe.addRange(126635,126651).addRange(130032,130041).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546).addRange(917760,917999),_e.exports=Pe},20567:function(_e,be,Te){const Pe=Te(78776)(170,181,186,748,750,895,902,908,1369,1749,1791,1808,1969,2042,2074,2084,2088,2365,2384,2482,2493,2510,2556,2654,2749,2768,2809,2877,2929,2947,2972,3024,3133,3200,3261,3294,3389,3406,3517,3716,3749,3773,3782,3840,4159,4193,4238,4295,4301,4696,4800,6103,6108,6314,6823,7418,8025,8027,8029,8126,8305,8319,8450,8455,8469,8484,8486,8488,8526,11559,11565,11631,43259,43471,43642,43697,43712,43714,64285,64318,67592,67644,68096,69415,69956,69959,70006,70106,70108,70280,70461,70480,70855,71236,71352,71945,71999,72001,72161,72163,72192,72250,72272,72349,72768,73030,73112,73648,94032,94179,119970,119995,120134,123214,125259,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590);Pe.addRange(65,90).addRange(97,122).addRange(192,214).addRange(216,246).addRange(248,705).addRange(710,721).addRange(736,740).addRange(880,884).addRange(886,887).addRange(890,893).addRange(904,906).addRange(910,929).addRange(931,1013).addRange(1015,1153).addRange(1162,1327).addRange(1329,1366).addRange(1376,1416).addRange(1488,1514).addRange(1519,1522).addRange(1568,1610).addRange(1646,1647).addRange(1649,1747).addRange(1765,1766).addRange(1774,1775).addRange(1786,1788).addRange(1810,1839).addRange(1869,1957).addRange(1994,2026).addRange(2036,2037).addRange(2048,2069).addRange(2112,2136).addRange(2144,2154).addRange(2208,2228).addRange(2230,2247).addRange(2308,2361).addRange(2392,2401).addRange(2417,2432).addRange(2437,2444).addRange(2447,2448).addRange(2451,2472).addRange(2474,2480).addRange(2486,2489).addRange(2524,2525).addRange(2527,2529).addRange(2544,2545).addRange(2565,2570).addRange(2575,2576).addRange(2579,2600).addRange(2602,2608).addRange(2610,2611).addRange(2613,2614),Pe.addRange(2616,2617).addRange(2649,2652).addRange(2674,2676).addRange(2693,2701).addRange(2703,2705).addRange(2707,2728).addRange(2730,2736).addRange(2738,2739).addRange(2741,2745).addRange(2784,2785).addRange(2821,2828).addRange(2831,2832).addRange(2835,2856).addRange(2858,2864).addRange(2866,2867).addRange(2869,2873).addRange(2908,2909).addRange(2911,2913).addRange(2949,2954).addRange(2958,2960).addRange(2962,2965).addRange(2969,2970).addRange(2974,2975).addRange(2979,2980).addRange(2984,2986).addRange(2990,3001).addRange(3077,3084).addRange(3086,3088).addRange(3090,3112).addRange(3114,3129).addRange(3160,3162).addRange(3168,3169).addRange(3205,3212).addRange(3214,3216).addRange(3218,3240).addRange(3242,3251).addRange(3253,3257).addRange(3296,3297).addRange(3313,3314).addRange(3332,3340).addRange(3342,3344).addRange(3346,3386).addRange(3412,3414).addRange(3423,3425).addRange(3450,3455).addRange(3461,3478).addRange(3482,3505).addRange(3507,3515).addRange(3520,3526).addRange(3585,3632).addRange(3634,3635),Pe.addRange(3648,3654).addRange(3713,3714).addRange(3718,3722).addRange(3724,3747).addRange(3751,3760).addRange(3762,3763).addRange(3776,3780).addRange(3804,3807).addRange(3904,3911).addRange(3913,3948).addRange(3976,3980).addRange(4096,4138).addRange(4176,4181).addRange(4186,4189).addRange(4197,4198).addRange(4206,4208).addRange(4213,4225).addRange(4256,4293).addRange(4304,4346).addRange(4348,4680).addRange(4682,4685).addRange(4688,4694).addRange(4698,4701).addRange(4704,4744).addRange(4746,4749).addRange(4752,4784).addRange(4786,4789).addRange(4792,4798).addRange(4802,4805).addRange(4808,4822).addRange(4824,4880).addRange(4882,4885).addRange(4888,4954).addRange(4992,5007).addRange(5024,5109).addRange(5112,5117).addRange(5121,5740).addRange(5743,5759).addRange(5761,5786).addRange(5792,5866).addRange(5870,5880).addRange(5888,5900).addRange(5902,5905).addRange(5920,5937).addRange(5952,5969).addRange(5984,5996).addRange(5998,6e3).addRange(6016,6067).addRange(6176,6264).addRange(6272,6312).addRange(6320,6389),Pe.addRange(6400,6430).addRange(6480,6509).addRange(6512,6516).addRange(6528,6571).addRange(6576,6601).addRange(6656,6678).addRange(6688,6740).addRange(6917,6963).addRange(6981,6987).addRange(7043,7072).addRange(7086,7087).addRange(7098,7141).addRange(7168,7203).addRange(7245,7247).addRange(7258,7293).addRange(7296,7304).addRange(7312,7354).addRange(7357,7359).addRange(7401,7404).addRange(7406,7411).addRange(7413,7414).addRange(7424,7615).addRange(7680,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8124).addRange(8130,8132).addRange(8134,8140).addRange(8144,8147).addRange(8150,8155).addRange(8160,8172).addRange(8178,8180).addRange(8182,8188).addRange(8336,8348).addRange(8458,8467).addRange(8472,8477).addRange(8490,8505).addRange(8508,8511).addRange(8517,8521).addRange(8544,8584).addRange(11264,11310).addRange(11312,11358).addRange(11360,11492).addRange(11499,11502).addRange(11506,11507).addRange(11520,11557).addRange(11568,11623),Pe.addRange(11648,11670).addRange(11680,11686).addRange(11688,11694).addRange(11696,11702).addRange(11704,11710).addRange(11712,11718).addRange(11720,11726).addRange(11728,11734).addRange(11736,11742).addRange(12293,12295).addRange(12321,12329).addRange(12337,12341).addRange(12344,12348).addRange(12353,12438).addRange(12443,12447).addRange(12449,12538).addRange(12540,12543).addRange(12549,12591).addRange(12593,12686).addRange(12704,12735).addRange(12784,12799).addRange(13312,19903).addRange(19968,40956).addRange(40960,42124).addRange(42192,42237).addRange(42240,42508).addRange(42512,42527).addRange(42538,42539).addRange(42560,42606).addRange(42623,42653).addRange(42656,42735).addRange(42775,42783).addRange(42786,42888).addRange(42891,42943).addRange(42946,42954).addRange(42997,43009).addRange(43011,43013).addRange(43015,43018).addRange(43020,43042).addRange(43072,43123).addRange(43138,43187).addRange(43250,43255).addRange(43261,43262).addRange(43274,43301).addRange(43312,43334).addRange(43360,43388).addRange(43396,43442).addRange(43488,43492).addRange(43494,43503).addRange(43514,43518).addRange(43520,43560),Pe.addRange(43584,43586).addRange(43588,43595).addRange(43616,43638).addRange(43646,43695).addRange(43701,43702).addRange(43705,43709).addRange(43739,43741).addRange(43744,43754).addRange(43762,43764).addRange(43777,43782).addRange(43785,43790).addRange(43793,43798).addRange(43808,43814).addRange(43816,43822).addRange(43824,43866).addRange(43868,43881).addRange(43888,44002).addRange(44032,55203).addRange(55216,55238).addRange(55243,55291).addRange(63744,64109).addRange(64112,64217).addRange(64256,64262).addRange(64275,64279).addRange(64287,64296).addRange(64298,64310).addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64433).addRange(64467,64829).addRange(64848,64911).addRange(64914,64967).addRange(65008,65019).addRange(65136,65140).addRange(65142,65276).addRange(65313,65338).addRange(65345,65370).addRange(65382,65470).addRange(65474,65479).addRange(65482,65487).addRange(65490,65495).addRange(65498,65500).addRange(65536,65547).addRange(65549,65574).addRange(65576,65594).addRange(65596,65597).addRange(65599,65613).addRange(65616,65629).addRange(65664,65786).addRange(65856,65908),Pe.addRange(66176,66204).addRange(66208,66256).addRange(66304,66335).addRange(66349,66378).addRange(66384,66421).addRange(66432,66461).addRange(66464,66499).addRange(66504,66511).addRange(66513,66517).addRange(66560,66717).addRange(66736,66771).addRange(66776,66811).addRange(66816,66855).addRange(66864,66915).addRange(67072,67382).addRange(67392,67413).addRange(67424,67431).addRange(67584,67589).addRange(67594,67637).addRange(67639,67640).addRange(67647,67669).addRange(67680,67702).addRange(67712,67742).addRange(67808,67826).addRange(67828,67829).addRange(67840,67861).addRange(67872,67897).addRange(67968,68023).addRange(68030,68031).addRange(68112,68115).addRange(68117,68119).addRange(68121,68149).addRange(68192,68220).addRange(68224,68252).addRange(68288,68295).addRange(68297,68324).addRange(68352,68405).addRange(68416,68437).addRange(68448,68466).addRange(68480,68497).addRange(68608,68680).addRange(68736,68786).addRange(68800,68850).addRange(68864,68899).addRange(69248,69289).addRange(69296,69297).addRange(69376,69404).addRange(69424,69445).addRange(69552,69572).addRange(69600,69622).addRange(69635,69687),Pe.addRange(69763,69807).addRange(69840,69864).addRange(69891,69926).addRange(69968,70002).addRange(70019,70066).addRange(70081,70084).addRange(70144,70161).addRange(70163,70187).addRange(70272,70278).addRange(70282,70285).addRange(70287,70301).addRange(70303,70312).addRange(70320,70366).addRange(70405,70412).addRange(70415,70416).addRange(70419,70440).addRange(70442,70448).addRange(70450,70451).addRange(70453,70457).addRange(70493,70497).addRange(70656,70708).addRange(70727,70730).addRange(70751,70753).addRange(70784,70831).addRange(70852,70853).addRange(71040,71086).addRange(71128,71131).addRange(71168,71215).addRange(71296,71338).addRange(71424,71450).addRange(71680,71723).addRange(71840,71903).addRange(71935,71942).addRange(71948,71955).addRange(71957,71958).addRange(71960,71983).addRange(72096,72103).addRange(72106,72144).addRange(72203,72242).addRange(72284,72329).addRange(72384,72440).addRange(72704,72712).addRange(72714,72750).addRange(72818,72847).addRange(72960,72966).addRange(72968,72969).addRange(72971,73008).addRange(73056,73061).addRange(73063,73064).addRange(73066,73097).addRange(73440,73458),Pe.addRange(73728,74649).addRange(74752,74862).addRange(74880,75075).addRange(77824,78894).addRange(82944,83526).addRange(92160,92728).addRange(92736,92766).addRange(92880,92909).addRange(92928,92975).addRange(92992,92995).addRange(93027,93047).addRange(93053,93071).addRange(93760,93823).addRange(93952,94026).addRange(94099,94111).addRange(94176,94177).addRange(94208,100343).addRange(100352,101589).addRange(101632,101640).addRange(110592,110878).addRange(110928,110930).addRange(110948,110951).addRange(110960,111355).addRange(113664,113770).addRange(113776,113788).addRange(113792,113800).addRange(113808,113817).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120512).addRange(120514,120538).addRange(120540,120570).addRange(120572,120596).addRange(120598,120628).addRange(120630,120654).addRange(120656,120686).addRange(120688,120712),Pe.addRange(120714,120744).addRange(120746,120770).addRange(120772,120779).addRange(123136,123180).addRange(123191,123197).addRange(123584,123627).addRange(124928,125124).addRange(125184,125251).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627).addRange(126629,126633).addRange(126635,126651).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546),_e.exports=Pe},19586:function(_e,be,Te){const Pe=Te(78776)(94180);Pe.addRange(12294,12295).addRange(12321,12329).addRange(12344,12346).addRange(13312,19903).addRange(19968,40956).addRange(63744,64109).addRange(64112,64217).addRange(94208,100343).addRange(100352,101589).addRange(101632,101640).addRange(110960,111355).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546),_e.exports=Pe},36983:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(8204,8205),_e.exports=Pe},72947:function(_e,be,Te){const Pe=Te(78776)(6586,43705);Pe.addRange(3648,3652).addRange(3776,3780).addRange(6581,6583).addRange(43701,43702).addRange(43707,43708),_e.exports=Pe},49111:function(_e,be,Te){const Pe=Te(78776)(170,181,186,257,259,261,263,265,267,269,271,273,275,277,279,281,283,285,287,289,291,293,295,297,299,301,303,305,307,309,314,316,318,320,322,324,326,331,333,335,337,339,341,343,345,347,349,351,353,355,357,359,361,363,365,367,369,371,373,375,378,380,387,389,392,402,405,414,417,419,421,424,429,432,436,438,454,457,460,462,464,466,468,470,472,474,479,481,483,485,487,489,491,493,499,501,505,507,509,511,513,515,517,519,521,523,525,527,529,531,533,535,537,539,541,543,545,547,549,551,553,555,557,559,561,572,578,583,585,587,589,837,881,883,887,912,985,987,989,991,993,995,997,999,1001,1003,1005,1013,1016,1121,1123,1125,1127,1129,1131,1133,1135,1137,1139,1141,1143,1145,1147,1149,1151,1153,1163,1165,1167,1169,1171,1173,1175,1177,1179,1181,1183,1185,1187,1189,1191,1193,1195,1197,1199,1201,1203,1205,1207,1209,1211,1213,1215,1218,1220,1222,1224,1226,1228,1233,1235,1237,1239,1241,1243,1245,1247,1249,1251,1253,1255,1257,1259,1261,1263,1265,1267,1269,1271,1273,1275,1277,1279,1281,1283,1285,1287,1289,1291,1293,1295,1297,1299,1301,1303,1305,1307,1309,1311,1313,1315,1317,1319,1321,1323,1325,1327,7681,7683,7685,7687,7689,7691,7693,7695,7697,7699,7701,7703,7705,7707,7709,7711,7713,7715,7717,7719,7721,7723,7725,7727,7729,7731,7733,7735,7737,7739,7741,7743,7745,7747,7749,7751,7753,7755,7757,7759,7761,7763,7765,7767,7769,7771,7773,7775,7777,7779,7781,7783,7785,7787,7789,7791,7793,7795,7797,7799,7801,7803,7805,7807,7809,7811,7813,7815,7817,7819,7821,7823,7825,7827,7839,7841,7843,7845,7847,7849,7851,7853,7855,7857,7859,7861,7863,7865,7867,7869,7871,7873,7875,7877,7879,7881,7883,7885,7887,7889,7891,7893,7895,7897,7899,7901,7903,7905,7907,7909,7911,7913,7915,7917,7919,7921,7923,7925,7927,7929,7931,7933,8126,8305,8319,8458,8467,8495,8500,8505,8526,8580,11361,11368,11370,11372,11377,11393,11395,11397,11399,11401,11403,11405,11407,11409,11411,11413,11415,11417,11419,11421,11423,11425,11427,11429,11431,11433,11435,11437,11439,11441,11443,11445,11447,11449,11451,11453,11455,11457,11459,11461,11463,11465,11467,11469,11471,11473,11475,11477,11479,11481,11483,11485,11487,11489,11500,11502,11507,11559,11565,42561,42563,42565,42567,42569,42571,42573,42575,42577,42579,42581,42583,42585,42587,42589,42591,42593,42595,42597,42599,42601,42603,42605,42625,42627,42629,42631,42633,42635,42637,42639,42641,42643,42645,42647,42649,42787,42789,42791,42793,42795,42797,42803,42805,42807,42809,42811,42813,42815,42817,42819,42821,42823,42825,42827,42829,42831,42833,42835,42837,42839,42841,42843,42845,42847,42849,42851,42853,42855,42857,42859,42861,42874,42876,42879,42881,42883,42885,42887,42892,42894,42897,42903,42905,42907,42909,42911,42913,42915,42917,42919,42921,42927,42933,42935,42937,42939,42941,42943,42947,42952,42954,42998,119995,120779);Pe.addRange(97,122).addRange(223,246).addRange(248,255).addRange(311,312).addRange(328,329).addRange(382,384).addRange(396,397).addRange(409,411).addRange(426,427).addRange(441,442).addRange(445,447).addRange(476,477).addRange(495,496).addRange(563,569).addRange(575,576).addRange(591,659).addRange(661,696).addRange(704,705).addRange(736,740).addRange(890,893).addRange(940,974).addRange(976,977).addRange(981,983).addRange(1007,1011).addRange(1019,1020).addRange(1072,1119).addRange(1230,1231).addRange(1376,1416).addRange(4304,4346).addRange(4349,4351).addRange(5112,5117).addRange(7296,7304).addRange(7424,7615).addRange(7829,7837).addRange(7935,7943).addRange(7952,7957).addRange(7968,7975).addRange(7984,7991).addRange(8e3,8005).addRange(8016,8023).addRange(8032,8039).addRange(8048,8061).addRange(8064,8071).addRange(8080,8087).addRange(8096,8103).addRange(8112,8116).addRange(8118,8119).addRange(8130,8132).addRange(8134,8135).addRange(8144,8147).addRange(8150,8151),Pe.addRange(8160,8167).addRange(8178,8180).addRange(8182,8183).addRange(8336,8348).addRange(8462,8463).addRange(8508,8509).addRange(8518,8521).addRange(8560,8575).addRange(9424,9449).addRange(11312,11358).addRange(11365,11366).addRange(11379,11380).addRange(11382,11389).addRange(11491,11492).addRange(11520,11557).addRange(42651,42653).addRange(42799,42801).addRange(42863,42872).addRange(42899,42901).addRange(43e3,43002).addRange(43824,43866).addRange(43868,43880).addRange(43888,43967).addRange(64256,64262).addRange(64275,64279).addRange(65345,65370).addRange(66600,66639).addRange(66776,66811).addRange(68800,68850).addRange(71872,71903).addRange(93792,93823).addRange(119834,119859).addRange(119886,119892).addRange(119894,119911).addRange(119938,119963).addRange(119990,119993).addRange(119997,120003).addRange(120005,120015).addRange(120042,120067).addRange(120094,120119).addRange(120146,120171).addRange(120198,120223).addRange(120250,120275).addRange(120302,120327).addRange(120354,120379).addRange(120406,120431).addRange(120458,120485).addRange(120514,120538).addRange(120540,120545).addRange(120572,120596).addRange(120598,120603),Pe.addRange(120630,120654).addRange(120656,120661).addRange(120688,120712).addRange(120714,120719).addRange(120746,120770).addRange(120772,120777).addRange(125218,125251),_e.exports=Pe},65667:function(_e,be,Te){const Pe=Te(78776)(43,94,124,126,172,177,215,247,981,8214,8256,8260,8274,8417,8450,8455,8469,8484,8523,8669,9084,9143,9168,9698,9700,9792,9794,64297,65128,65291,65340,65342,65372,65374,65506,119970,119995,120134,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590);Pe.addRange(60,62).addRange(976,978).addRange(1008,1009).addRange(1012,1014).addRange(1542,1544).addRange(8242,8244).addRange(8289,8292).addRange(8314,8318).addRange(8330,8334).addRange(8400,8412).addRange(8421,8422).addRange(8427,8431).addRange(8458,8467).addRange(8472,8477).addRange(8488,8489).addRange(8492,8493).addRange(8495,8497).addRange(8499,8504).addRange(8508,8521).addRange(8592,8615).addRange(8617,8622).addRange(8624,8625).addRange(8630,8631).addRange(8636,8667).addRange(8676,8677).addRange(8692,8959).addRange(8968,8971).addRange(8992,8993).addRange(9115,9141).addRange(9180,9186).addRange(9632,9633).addRange(9646,9655).addRange(9660,9665).addRange(9670,9671).addRange(9674,9675).addRange(9679,9683).addRange(9703,9708).addRange(9720,9727).addRange(9733,9734).addRange(9824,9827).addRange(9837,9839).addRange(10176,10239).addRange(10496,11007).addRange(11056,11076).addRange(11079,11084).addRange(65121,65126).addRange(65308,65310).addRange(65513,65516).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967),Pe.addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120779).addRange(120782,120831).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627).addRange(126629,126633).addRange(126635,126651).addRange(126704,126705),_e.exports=Pe},20052:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(64976,65007).addRange(65534,65535).addRange(131070,131071).addRange(196606,196607).addRange(262142,262143).addRange(327678,327679).addRange(393214,393215).addRange(458750,458751).addRange(524286,524287).addRange(589822,589823).addRange(655358,655359).addRange(720894,720895).addRange(786430,786431).addRange(851966,851967).addRange(917502,917503).addRange(983038,983039).addRange(1048574,1048575).addRange(1114110,1114111),_e.exports=Pe},60514:function(_e,be,Te){const Pe=Te(78776)(96,169,174,182,187,191,215,247,12336);Pe.addRange(33,47).addRange(58,64).addRange(91,94).addRange(123,126).addRange(161,167).addRange(171,172).addRange(176,177).addRange(8208,8231).addRange(8240,8254).addRange(8257,8275).addRange(8277,8286).addRange(8592,9311).addRange(9472,10101).addRange(10132,11263).addRange(11776,11903).addRange(12289,12291).addRange(12296,12320).addRange(64830,64831).addRange(65093,65094),_e.exports=Pe},78588:function(_e,be,Te){const Pe=Te(78776)(32,133);Pe.addRange(9,13).addRange(8206,8207).addRange(8232,8233),_e.exports=Pe},1053:function(_e,be,Te){const Pe=Te(78776)(34,39,171,187,11842,65282,65287);Pe.addRange(8216,8223).addRange(8249,8250).addRange(12300,12303).addRange(12317,12319).addRange(65089,65092).addRange(65378,65379),_e.exports=Pe},25361:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(11904,11929).addRange(11931,12019).addRange(12032,12245),_e.exports=Pe},94375:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(127462,127487),_e.exports=Pe},89697:function(_e,be,Te){const Pe=Te(78776)(33,46,63,1417,1748,2041,2103,2105,4962,5742,6147,6153,11822,11836,12290,42239,42739,42743,43311,44011,65106,65281,65294,65311,65377,70093,70313,72004,72006,92917,92996,93848,113823,121480);Pe.addRange(1566,1567).addRange(1792,1794).addRange(2109,2110).addRange(2404,2405).addRange(4170,4171).addRange(4967,4968).addRange(5941,5942).addRange(6468,6469).addRange(6824,6827).addRange(7002,7003).addRange(7006,7007).addRange(7227,7228).addRange(7294,7295).addRange(8252,8253).addRange(8263,8265).addRange(42510,42511).addRange(43126,43127).addRange(43214,43215).addRange(43464,43465).addRange(43613,43615).addRange(43760,43761).addRange(65110,65111).addRange(68182,68183).addRange(69461,69465).addRange(69703,69704).addRange(69822,69825).addRange(69953,69955).addRange(70085,70086).addRange(70110,70111).addRange(70200,70201).addRange(70203,70204).addRange(70731,70732).addRange(71106,71107).addRange(71113,71127).addRange(71233,71234).addRange(71484,71486).addRange(72258,72259).addRange(72347,72348).addRange(72769,72770).addRange(73463,73464).addRange(92782,92783).addRange(92983,92984),_e.exports=Pe},35514:function(_e,be,Te){const Pe=Te(78776)(303,585,616,669,690,1011,1110,1112,7522,7574,7588,7592,7725,7883,8305,11388);Pe.addRange(105,106).addRange(8520,8521).addRange(119842,119843).addRange(119894,119895).addRange(119946,119947).addRange(119998,119999).addRange(120050,120051).addRange(120102,120103).addRange(120154,120155).addRange(120206,120207).addRange(120258,120259).addRange(120310,120311).addRange(120362,120363).addRange(120414,120415).addRange(120466,120467),_e.exports=Pe},21043:function(_e,be,Te){const Pe=Te(78776)(33,44,46,63,894,903,1417,1475,1548,1563,1748,1804,2142,3848,5742,6106,11822,11836,11841,11852,43311,43743,44011,65281,65292,65294,65311,65377,65380,66463,66512,67671,67871,70093,70313,72004,72006,72817,92917,92996,113823);Pe.addRange(58,59).addRange(1566,1567).addRange(1792,1802).addRange(2040,2041).addRange(2096,2110).addRange(2404,2405).addRange(3674,3675).addRange(3853,3858).addRange(4170,4171).addRange(4961,4968).addRange(5867,5869).addRange(5941,5942).addRange(6100,6102).addRange(6146,6149).addRange(6152,6153).addRange(6468,6469).addRange(6824,6827).addRange(7002,7003).addRange(7005,7007).addRange(7227,7231).addRange(7294,7295).addRange(8252,8253).addRange(8263,8265).addRange(11854,11855).addRange(12289,12290).addRange(42238,42239).addRange(42509,42511).addRange(42739,42743).addRange(43126,43127).addRange(43214,43215).addRange(43463,43465).addRange(43613,43615).addRange(43760,43761).addRange(65104,65106).addRange(65108,65111).addRange(65306,65307).addRange(68182,68183).addRange(68336,68341).addRange(68410,68415).addRange(68505,68508).addRange(69461,69465).addRange(69703,69709).addRange(69822,69825).addRange(69953,69955).addRange(70085,70086).addRange(70110,70111).addRange(70200,70204).addRange(70731,70733).addRange(70746,70747).addRange(71106,71109).addRange(71113,71127),Pe.addRange(71233,71234).addRange(71484,71486).addRange(72258,72259).addRange(72347,72348).addRange(72353,72354).addRange(72769,72771).addRange(73463,73464).addRange(74864,74868).addRange(92782,92783).addRange(92983,92985).addRange(93847,93848).addRange(121479,121482),_e.exports=Pe},75771:function(_e,be,Te){const Pe=Te(78776)(64017,64031,64033);Pe.addRange(13312,19903).addRange(19968,40956).addRange(64014,64015).addRange(64019,64020).addRange(64035,64036).addRange(64039,64041).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(196608,201546),_e.exports=Pe},28368:function(_e,be,Te){const Pe=Te(78776)(256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288,290,292,294,296,298,300,302,304,306,308,310,313,315,317,319,321,323,325,327,330,332,334,336,338,340,342,344,346,348,350,352,354,356,358,360,362,364,366,368,370,372,374,379,381,388,418,420,425,428,437,444,452,455,458,461,463,465,467,469,471,473,475,478,480,482,484,486,488,490,492,494,497,500,506,508,510,512,514,516,518,520,522,524,526,528,530,532,534,536,538,540,542,544,546,548,550,552,554,556,558,560,562,577,584,586,588,590,880,882,886,895,902,908,975,984,986,988,990,992,994,996,998,1e3,1002,1004,1006,1012,1015,1120,1122,1124,1126,1128,1130,1132,1134,1136,1138,1140,1142,1144,1146,1148,1150,1152,1162,1164,1166,1168,1170,1172,1174,1176,1178,1180,1182,1184,1186,1188,1190,1192,1194,1196,1198,1200,1202,1204,1206,1208,1210,1212,1214,1219,1221,1223,1225,1227,1229,1232,1234,1236,1238,1240,1242,1244,1246,1248,1250,1252,1254,1256,1258,1260,1262,1264,1266,1268,1270,1272,1274,1276,1278,1280,1282,1284,1286,1288,1290,1292,1294,1296,1298,1300,1302,1304,1306,1308,1310,1312,1314,1316,1318,1320,1322,1324,1326,4295,4301,7680,7682,7684,7686,7688,7690,7692,7694,7696,7698,7700,7702,7704,7706,7708,7710,7712,7714,7716,7718,7720,7722,7724,7726,7728,7730,7732,7734,7736,7738,7740,7742,7744,7746,7748,7750,7752,7754,7756,7758,7760,7762,7764,7766,7768,7770,7772,7774,7776,7778,7780,7782,7784,7786,7788,7790,7792,7794,7796,7798,7800,7802,7804,7806,7808,7810,7812,7814,7816,7818,7820,7822,7824,7826,7828,7838,7840,7842,7844,7846,7848,7850,7852,7854,7856,7858,7860,7862,7864,7866,7868,7870,7872,7874,7876,7878,7880,7882,7884,7886,7888,7890,7892,7894,7896,7898,7900,7902,7904,7906,7908,7910,7912,7914,7916,7918,7920,7922,7924,7926,7928,7930,7932,7934,8025,8027,8029,8031,8450,8455,8469,8484,8486,8488,8517,8579,11360,11367,11369,11371,11378,11381,11394,11396,11398,11400,11402,11404,11406,11408,11410,11412,11414,11416,11418,11420,11422,11424,11426,11428,11430,11432,11434,11436,11438,11440,11442,11444,11446,11448,11450,11452,11454,11456,11458,11460,11462,11464,11466,11468,11470,11472,11474,11476,11478,11480,11482,11484,11486,11488,11490,11499,11501,11506,42560,42562,42564,42566,42568,42570,42572,42574,42576,42578,42580,42582,42584,42586,42588,42590,42592,42594,42596,42598,42600,42602,42604,42624,42626,42628,42630,42632,42634,42636,42638,42640,42642,42644,42646,42648,42650,42786,42788,42790,42792,42794,42796,42798,42802,42804,42806,42808,42810,42812,42814,42816,42818,42820,42822,42824,42826,42828,42830,42832,42834,42836,42838,42840,42842,42844,42846,42848,42850,42852,42854,42856,42858,42860,42862,42873,42875,42880,42882,42884,42886,42891,42893,42896,42898,42902,42904,42906,42908,42910,42912,42914,42916,42918,42920,42934,42936,42938,42940,42942,42946,42953,42997,119964,119970,120134,120778);Pe.addRange(65,90).addRange(192,214).addRange(216,222).addRange(376,377).addRange(385,386).addRange(390,391).addRange(393,395).addRange(398,401).addRange(403,404).addRange(406,408).addRange(412,413).addRange(415,416).addRange(422,423).addRange(430,431).addRange(433,435).addRange(439,440).addRange(502,504).addRange(570,571).addRange(573,574).addRange(579,582).addRange(904,906).addRange(910,911).addRange(913,929).addRange(931,939).addRange(978,980).addRange(1017,1018).addRange(1021,1071).addRange(1216,1217).addRange(1329,1366).addRange(4256,4293).addRange(5024,5109).addRange(7312,7354).addRange(7357,7359).addRange(7944,7951).addRange(7960,7965).addRange(7976,7983).addRange(7992,7999).addRange(8008,8013).addRange(8040,8047).addRange(8120,8123).addRange(8136,8139).addRange(8152,8155).addRange(8168,8172).addRange(8184,8187).addRange(8459,8461).addRange(8464,8466).addRange(8473,8477).addRange(8490,8493).addRange(8496,8499).addRange(8510,8511).addRange(8544,8559),Pe.addRange(9398,9423).addRange(11264,11310).addRange(11362,11364).addRange(11373,11376).addRange(11390,11392).addRange(42877,42878).addRange(42922,42926).addRange(42928,42932).addRange(42948,42951).addRange(65313,65338).addRange(66560,66599).addRange(66736,66771).addRange(68736,68786).addRange(71840,71871).addRange(93760,93791).addRange(119808,119833).addRange(119860,119885).addRange(119912,119937).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119989).addRange(120016,120041).addRange(120068,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120120,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120172,120197).addRange(120224,120249).addRange(120276,120301).addRange(120328,120353).addRange(120380,120405).addRange(120432,120457).addRange(120488,120512).addRange(120546,120570).addRange(120604,120628).addRange(120662,120686).addRange(120720,120744).addRange(125184,125217).addRange(127280,127305).addRange(127312,127337).addRange(127344,127369),_e.exports=Pe},27186:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(6155,6157).addRange(65024,65039).addRange(917760,917999),_e.exports=Pe},61846:function(_e,be,Te){const Pe=Te(78776)(32,133,160,5760,8239,8287,12288);Pe.addRange(9,13).addRange(8192,8202).addRange(8232,8233),_e.exports=Pe},74003:function(_e,be,Te){const Pe=Te(78776)(95,170,181,183,186,748,750,895,908,1369,1471,1479,1791,2042,2045,2482,2519,2556,2558,2620,2641,2654,2768,2929,2972,3024,3031,3294,3517,3530,3542,3716,3749,3782,3840,3893,3895,3897,4038,4295,4301,4696,4800,6103,6823,8025,8027,8029,8126,8276,8305,8319,8417,8450,8455,8469,8484,8486,8488,8526,11559,11565,11631,43052,43259,64318,65137,65139,65143,65145,65147,65149,65343,66045,66272,67592,67644,68159,69415,70006,70108,70206,70280,70480,70487,70855,71236,71945,72263,72349,73018,73648,119970,119995,120134,121461,121476,123214,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590);Pe.addRange(48,57).addRange(65,90).addRange(97,122).addRange(192,214).addRange(216,246).addRange(248,705).addRange(710,721).addRange(736,740).addRange(768,884).addRange(886,887).addRange(891,893).addRange(902,906).addRange(910,929).addRange(931,1013).addRange(1015,1153).addRange(1155,1159).addRange(1162,1327).addRange(1329,1366).addRange(1376,1416).addRange(1425,1469).addRange(1473,1474).addRange(1476,1477).addRange(1488,1514).addRange(1519,1522).addRange(1552,1562).addRange(1568,1641).addRange(1646,1747).addRange(1749,1756).addRange(1759,1768).addRange(1770,1788).addRange(1808,1866).addRange(1869,1969).addRange(1984,2037).addRange(2048,2093).addRange(2112,2139).addRange(2144,2154).addRange(2208,2228).addRange(2230,2247).addRange(2259,2273).addRange(2275,2403).addRange(2406,2415).addRange(2417,2435).addRange(2437,2444).addRange(2447,2448).addRange(2451,2472).addRange(2474,2480).addRange(2486,2489).addRange(2492,2500).addRange(2503,2504).addRange(2507,2510).addRange(2524,2525),Pe.addRange(2527,2531).addRange(2534,2545).addRange(2561,2563).addRange(2565,2570).addRange(2575,2576).addRange(2579,2600).addRange(2602,2608).addRange(2610,2611).addRange(2613,2614).addRange(2616,2617).addRange(2622,2626).addRange(2631,2632).addRange(2635,2637).addRange(2649,2652).addRange(2662,2677).addRange(2689,2691).addRange(2693,2701).addRange(2703,2705).addRange(2707,2728).addRange(2730,2736).addRange(2738,2739).addRange(2741,2745).addRange(2748,2757).addRange(2759,2761).addRange(2763,2765).addRange(2784,2787).addRange(2790,2799).addRange(2809,2815).addRange(2817,2819).addRange(2821,2828).addRange(2831,2832).addRange(2835,2856).addRange(2858,2864).addRange(2866,2867).addRange(2869,2873).addRange(2876,2884).addRange(2887,2888).addRange(2891,2893).addRange(2901,2903).addRange(2908,2909).addRange(2911,2915).addRange(2918,2927).addRange(2946,2947).addRange(2949,2954).addRange(2958,2960).addRange(2962,2965).addRange(2969,2970).addRange(2974,2975).addRange(2979,2980).addRange(2984,2986).addRange(2990,3001),Pe.addRange(3006,3010).addRange(3014,3016).addRange(3018,3021).addRange(3046,3055).addRange(3072,3084).addRange(3086,3088).addRange(3090,3112).addRange(3114,3129).addRange(3133,3140).addRange(3142,3144).addRange(3146,3149).addRange(3157,3158).addRange(3160,3162).addRange(3168,3171).addRange(3174,3183).addRange(3200,3203).addRange(3205,3212).addRange(3214,3216).addRange(3218,3240).addRange(3242,3251).addRange(3253,3257).addRange(3260,3268).addRange(3270,3272).addRange(3274,3277).addRange(3285,3286).addRange(3296,3299).addRange(3302,3311).addRange(3313,3314).addRange(3328,3340).addRange(3342,3344).addRange(3346,3396).addRange(3398,3400).addRange(3402,3406).addRange(3412,3415).addRange(3423,3427).addRange(3430,3439).addRange(3450,3455).addRange(3457,3459).addRange(3461,3478).addRange(3482,3505).addRange(3507,3515).addRange(3520,3526).addRange(3535,3540).addRange(3544,3551).addRange(3558,3567).addRange(3570,3571).addRange(3585,3642).addRange(3648,3662).addRange(3664,3673).addRange(3713,3714).addRange(3718,3722),Pe.addRange(3724,3747).addRange(3751,3773).addRange(3776,3780).addRange(3784,3789).addRange(3792,3801).addRange(3804,3807).addRange(3864,3865).addRange(3872,3881).addRange(3902,3911).addRange(3913,3948).addRange(3953,3972).addRange(3974,3991).addRange(3993,4028).addRange(4096,4169).addRange(4176,4253).addRange(4256,4293).addRange(4304,4346).addRange(4348,4680).addRange(4682,4685).addRange(4688,4694).addRange(4698,4701).addRange(4704,4744).addRange(4746,4749).addRange(4752,4784).addRange(4786,4789).addRange(4792,4798).addRange(4802,4805).addRange(4808,4822).addRange(4824,4880).addRange(4882,4885).addRange(4888,4954).addRange(4957,4959).addRange(4969,4977).addRange(4992,5007).addRange(5024,5109).addRange(5112,5117).addRange(5121,5740).addRange(5743,5759).addRange(5761,5786).addRange(5792,5866).addRange(5870,5880).addRange(5888,5900).addRange(5902,5908).addRange(5920,5940).addRange(5952,5971).addRange(5984,5996).addRange(5998,6e3).addRange(6002,6003).addRange(6016,6099).addRange(6108,6109).addRange(6112,6121),Pe.addRange(6155,6157).addRange(6160,6169).addRange(6176,6264).addRange(6272,6314).addRange(6320,6389).addRange(6400,6430).addRange(6432,6443).addRange(6448,6459).addRange(6470,6509).addRange(6512,6516).addRange(6528,6571).addRange(6576,6601).addRange(6608,6618).addRange(6656,6683).addRange(6688,6750).addRange(6752,6780).addRange(6783,6793).addRange(6800,6809).addRange(6832,6845).addRange(6847,6848).addRange(6912,6987).addRange(6992,7001).addRange(7019,7027).addRange(7040,7155).addRange(7168,7223).addRange(7232,7241).addRange(7245,7293).addRange(7296,7304).addRange(7312,7354).addRange(7357,7359).addRange(7376,7378).addRange(7380,7418).addRange(7424,7673).addRange(7675,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8124).addRange(8130,8132).addRange(8134,8140).addRange(8144,8147).addRange(8150,8155).addRange(8160,8172).addRange(8178,8180).addRange(8182,8188).addRange(8255,8256).addRange(8336,8348).addRange(8400,8412),Pe.addRange(8421,8432).addRange(8458,8467).addRange(8472,8477).addRange(8490,8505).addRange(8508,8511).addRange(8517,8521).addRange(8544,8584).addRange(11264,11310).addRange(11312,11358).addRange(11360,11492).addRange(11499,11507).addRange(11520,11557).addRange(11568,11623).addRange(11647,11670).addRange(11680,11686).addRange(11688,11694).addRange(11696,11702).addRange(11704,11710).addRange(11712,11718).addRange(11720,11726).addRange(11728,11734).addRange(11736,11742).addRange(11744,11775).addRange(12293,12295).addRange(12321,12335).addRange(12337,12341).addRange(12344,12348).addRange(12353,12438).addRange(12441,12442).addRange(12445,12447).addRange(12449,12538).addRange(12540,12543).addRange(12549,12591).addRange(12593,12686).addRange(12704,12735).addRange(12784,12799).addRange(13312,19903).addRange(19968,40956).addRange(40960,42124).addRange(42192,42237).addRange(42240,42508).addRange(42512,42539).addRange(42560,42607).addRange(42612,42621).addRange(42623,42737).addRange(42775,42783).addRange(42786,42888).addRange(42891,42943).addRange(42946,42954).addRange(42997,43047).addRange(43072,43123),Pe.addRange(43136,43205).addRange(43216,43225).addRange(43232,43255).addRange(43261,43309).addRange(43312,43347).addRange(43360,43388).addRange(43392,43456).addRange(43471,43481).addRange(43488,43518).addRange(43520,43574).addRange(43584,43597).addRange(43600,43609).addRange(43616,43638).addRange(43642,43714).addRange(43739,43741).addRange(43744,43759).addRange(43762,43766).addRange(43777,43782).addRange(43785,43790).addRange(43793,43798).addRange(43808,43814).addRange(43816,43822).addRange(43824,43866).addRange(43868,43881).addRange(43888,44010).addRange(44012,44013).addRange(44016,44025).addRange(44032,55203).addRange(55216,55238).addRange(55243,55291).addRange(63744,64109).addRange(64112,64217).addRange(64256,64262).addRange(64275,64279).addRange(64285,64296).addRange(64298,64310).addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64433).addRange(64467,64605).addRange(64612,64829).addRange(64848,64911).addRange(64914,64967).addRange(65008,65017).addRange(65024,65039).addRange(65056,65071).addRange(65075,65076).addRange(65101,65103).addRange(65151,65276).addRange(65296,65305),Pe.addRange(65313,65338).addRange(65345,65370).addRange(65382,65470).addRange(65474,65479).addRange(65482,65487).addRange(65490,65495).addRange(65498,65500).addRange(65536,65547).addRange(65549,65574).addRange(65576,65594).addRange(65596,65597).addRange(65599,65613).addRange(65616,65629).addRange(65664,65786).addRange(65856,65908).addRange(66176,66204).addRange(66208,66256).addRange(66304,66335).addRange(66349,66378).addRange(66384,66426).addRange(66432,66461).addRange(66464,66499).addRange(66504,66511).addRange(66513,66517).addRange(66560,66717).addRange(66720,66729).addRange(66736,66771).addRange(66776,66811).addRange(66816,66855).addRange(66864,66915).addRange(67072,67382).addRange(67392,67413).addRange(67424,67431).addRange(67584,67589).addRange(67594,67637).addRange(67639,67640).addRange(67647,67669).addRange(67680,67702).addRange(67712,67742).addRange(67808,67826).addRange(67828,67829).addRange(67840,67861).addRange(67872,67897).addRange(67968,68023).addRange(68030,68031).addRange(68096,68099).addRange(68101,68102).addRange(68108,68115).addRange(68117,68119).addRange(68121,68149).addRange(68152,68154),Pe.addRange(68192,68220).addRange(68224,68252).addRange(68288,68295).addRange(68297,68326).addRange(68352,68405).addRange(68416,68437).addRange(68448,68466).addRange(68480,68497).addRange(68608,68680).addRange(68736,68786).addRange(68800,68850).addRange(68864,68903).addRange(68912,68921).addRange(69248,69289).addRange(69291,69292).addRange(69296,69297).addRange(69376,69404).addRange(69424,69456).addRange(69552,69572).addRange(69600,69622).addRange(69632,69702).addRange(69734,69743).addRange(69759,69818).addRange(69840,69864).addRange(69872,69881).addRange(69888,69940).addRange(69942,69951).addRange(69956,69959).addRange(69968,70003).addRange(70016,70084).addRange(70089,70092).addRange(70094,70106).addRange(70144,70161).addRange(70163,70199).addRange(70272,70278).addRange(70282,70285).addRange(70287,70301).addRange(70303,70312).addRange(70320,70378).addRange(70384,70393).addRange(70400,70403).addRange(70405,70412).addRange(70415,70416).addRange(70419,70440).addRange(70442,70448).addRange(70450,70451).addRange(70453,70457).addRange(70459,70468).addRange(70471,70472).addRange(70475,70477).addRange(70493,70499),Pe.addRange(70502,70508).addRange(70512,70516).addRange(70656,70730).addRange(70736,70745).addRange(70750,70753).addRange(70784,70853).addRange(70864,70873).addRange(71040,71093).addRange(71096,71104).addRange(71128,71133).addRange(71168,71232).addRange(71248,71257).addRange(71296,71352).addRange(71360,71369).addRange(71424,71450).addRange(71453,71467).addRange(71472,71481).addRange(71680,71738).addRange(71840,71913).addRange(71935,71942).addRange(71948,71955).addRange(71957,71958).addRange(71960,71989).addRange(71991,71992).addRange(71995,72003).addRange(72016,72025).addRange(72096,72103).addRange(72106,72151).addRange(72154,72161).addRange(72163,72164).addRange(72192,72254).addRange(72272,72345).addRange(72384,72440).addRange(72704,72712).addRange(72714,72758).addRange(72760,72768).addRange(72784,72793).addRange(72818,72847).addRange(72850,72871).addRange(72873,72886).addRange(72960,72966).addRange(72968,72969).addRange(72971,73014).addRange(73020,73021).addRange(73023,73031).addRange(73040,73049).addRange(73056,73061).addRange(73063,73064).addRange(73066,73102).addRange(73104,73105).addRange(73107,73112),Pe.addRange(73120,73129).addRange(73440,73462).addRange(73728,74649).addRange(74752,74862).addRange(74880,75075).addRange(77824,78894).addRange(82944,83526).addRange(92160,92728).addRange(92736,92766).addRange(92768,92777).addRange(92880,92909).addRange(92912,92916).addRange(92928,92982).addRange(92992,92995).addRange(93008,93017).addRange(93027,93047).addRange(93053,93071).addRange(93760,93823).addRange(93952,94026).addRange(94031,94087).addRange(94095,94111).addRange(94176,94177).addRange(94179,94180).addRange(94192,94193).addRange(94208,100343).addRange(100352,101589).addRange(101632,101640).addRange(110592,110878).addRange(110928,110930).addRange(110948,110951).addRange(110960,111355).addRange(113664,113770).addRange(113776,113788).addRange(113792,113800).addRange(113808,113817).addRange(113821,113822).addRange(119141,119145).addRange(119149,119154).addRange(119163,119170).addRange(119173,119179).addRange(119210,119213).addRange(119362,119364).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074),Pe.addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120512).addRange(120514,120538).addRange(120540,120570).addRange(120572,120596).addRange(120598,120628).addRange(120630,120654).addRange(120656,120686).addRange(120688,120712).addRange(120714,120744).addRange(120746,120770).addRange(120772,120779).addRange(120782,120831).addRange(121344,121398).addRange(121403,121452).addRange(121499,121503).addRange(121505,121519).addRange(122880,122886).addRange(122888,122904).addRange(122907,122913).addRange(122915,122916).addRange(122918,122922).addRange(123136,123180).addRange(123184,123197).addRange(123200,123209).addRange(123584,123641).addRange(124928,125124).addRange(125136,125142).addRange(125184,125259).addRange(125264,125273).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627),Pe.addRange(126629,126633).addRange(126635,126651).addRange(130032,130041).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546).addRange(917760,917999),_e.exports=Pe},3468:function(_e,be,Te){const Pe=Te(78776)(170,181,186,748,750,895,902,908,1369,1749,1791,1808,1969,2042,2074,2084,2088,2365,2384,2482,2493,2510,2556,2654,2749,2768,2809,2877,2929,2947,2972,3024,3133,3200,3261,3294,3389,3406,3517,3634,3716,3749,3762,3773,3782,3840,4159,4193,4238,4295,4301,4696,4800,6103,6108,6314,6823,7418,8025,8027,8029,8126,8305,8319,8450,8455,8469,8484,8486,8488,8526,11559,11565,11631,43259,43471,43642,43697,43712,43714,64285,64318,65137,65139,65143,65145,65147,65149,67592,67644,68096,69415,69956,69959,70006,70106,70108,70280,70461,70480,70855,71236,71352,71945,71999,72001,72161,72163,72192,72250,72272,72349,72768,73030,73112,73648,94032,94179,119970,119995,120134,123214,125259,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590);Pe.addRange(65,90).addRange(97,122).addRange(192,214).addRange(216,246).addRange(248,705).addRange(710,721).addRange(736,740).addRange(880,884).addRange(886,887).addRange(891,893).addRange(904,906).addRange(910,929).addRange(931,1013).addRange(1015,1153).addRange(1162,1327).addRange(1329,1366).addRange(1376,1416).addRange(1488,1514).addRange(1519,1522).addRange(1568,1610).addRange(1646,1647).addRange(1649,1747).addRange(1765,1766).addRange(1774,1775).addRange(1786,1788).addRange(1810,1839).addRange(1869,1957).addRange(1994,2026).addRange(2036,2037).addRange(2048,2069).addRange(2112,2136).addRange(2144,2154).addRange(2208,2228).addRange(2230,2247).addRange(2308,2361).addRange(2392,2401).addRange(2417,2432).addRange(2437,2444).addRange(2447,2448).addRange(2451,2472).addRange(2474,2480).addRange(2486,2489).addRange(2524,2525).addRange(2527,2529).addRange(2544,2545).addRange(2565,2570).addRange(2575,2576).addRange(2579,2600).addRange(2602,2608).addRange(2610,2611).addRange(2613,2614),Pe.addRange(2616,2617).addRange(2649,2652).addRange(2674,2676).addRange(2693,2701).addRange(2703,2705).addRange(2707,2728).addRange(2730,2736).addRange(2738,2739).addRange(2741,2745).addRange(2784,2785).addRange(2821,2828).addRange(2831,2832).addRange(2835,2856).addRange(2858,2864).addRange(2866,2867).addRange(2869,2873).addRange(2908,2909).addRange(2911,2913).addRange(2949,2954).addRange(2958,2960).addRange(2962,2965).addRange(2969,2970).addRange(2974,2975).addRange(2979,2980).addRange(2984,2986).addRange(2990,3001).addRange(3077,3084).addRange(3086,3088).addRange(3090,3112).addRange(3114,3129).addRange(3160,3162).addRange(3168,3169).addRange(3205,3212).addRange(3214,3216).addRange(3218,3240).addRange(3242,3251).addRange(3253,3257).addRange(3296,3297).addRange(3313,3314).addRange(3332,3340).addRange(3342,3344).addRange(3346,3386).addRange(3412,3414).addRange(3423,3425).addRange(3450,3455).addRange(3461,3478).addRange(3482,3505).addRange(3507,3515).addRange(3520,3526).addRange(3585,3632).addRange(3648,3654),Pe.addRange(3713,3714).addRange(3718,3722).addRange(3724,3747).addRange(3751,3760).addRange(3776,3780).addRange(3804,3807).addRange(3904,3911).addRange(3913,3948).addRange(3976,3980).addRange(4096,4138).addRange(4176,4181).addRange(4186,4189).addRange(4197,4198).addRange(4206,4208).addRange(4213,4225).addRange(4256,4293).addRange(4304,4346).addRange(4348,4680).addRange(4682,4685).addRange(4688,4694).addRange(4698,4701).addRange(4704,4744).addRange(4746,4749).addRange(4752,4784).addRange(4786,4789).addRange(4792,4798).addRange(4802,4805).addRange(4808,4822).addRange(4824,4880).addRange(4882,4885).addRange(4888,4954).addRange(4992,5007).addRange(5024,5109).addRange(5112,5117).addRange(5121,5740).addRange(5743,5759).addRange(5761,5786).addRange(5792,5866).addRange(5870,5880).addRange(5888,5900).addRange(5902,5905).addRange(5920,5937).addRange(5952,5969).addRange(5984,5996).addRange(5998,6e3).addRange(6016,6067).addRange(6176,6264).addRange(6272,6312).addRange(6320,6389).addRange(6400,6430).addRange(6480,6509),Pe.addRange(6512,6516).addRange(6528,6571).addRange(6576,6601).addRange(6656,6678).addRange(6688,6740).addRange(6917,6963).addRange(6981,6987).addRange(7043,7072).addRange(7086,7087).addRange(7098,7141).addRange(7168,7203).addRange(7245,7247).addRange(7258,7293).addRange(7296,7304).addRange(7312,7354).addRange(7357,7359).addRange(7401,7404).addRange(7406,7411).addRange(7413,7414).addRange(7424,7615).addRange(7680,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8124).addRange(8130,8132).addRange(8134,8140).addRange(8144,8147).addRange(8150,8155).addRange(8160,8172).addRange(8178,8180).addRange(8182,8188).addRange(8336,8348).addRange(8458,8467).addRange(8472,8477).addRange(8490,8505).addRange(8508,8511).addRange(8517,8521).addRange(8544,8584).addRange(11264,11310).addRange(11312,11358).addRange(11360,11492).addRange(11499,11502).addRange(11506,11507).addRange(11520,11557).addRange(11568,11623).addRange(11648,11670).addRange(11680,11686),Pe.addRange(11688,11694).addRange(11696,11702).addRange(11704,11710).addRange(11712,11718).addRange(11720,11726).addRange(11728,11734).addRange(11736,11742).addRange(12293,12295).addRange(12321,12329).addRange(12337,12341).addRange(12344,12348).addRange(12353,12438).addRange(12445,12447).addRange(12449,12538).addRange(12540,12543).addRange(12549,12591).addRange(12593,12686).addRange(12704,12735).addRange(12784,12799).addRange(13312,19903).addRange(19968,40956).addRange(40960,42124).addRange(42192,42237).addRange(42240,42508).addRange(42512,42527).addRange(42538,42539).addRange(42560,42606).addRange(42623,42653).addRange(42656,42735).addRange(42775,42783).addRange(42786,42888).addRange(42891,42943).addRange(42946,42954).addRange(42997,43009).addRange(43011,43013).addRange(43015,43018).addRange(43020,43042).addRange(43072,43123).addRange(43138,43187).addRange(43250,43255).addRange(43261,43262).addRange(43274,43301).addRange(43312,43334).addRange(43360,43388).addRange(43396,43442).addRange(43488,43492).addRange(43494,43503).addRange(43514,43518).addRange(43520,43560).addRange(43584,43586).addRange(43588,43595),Pe.addRange(43616,43638).addRange(43646,43695).addRange(43701,43702).addRange(43705,43709).addRange(43739,43741).addRange(43744,43754).addRange(43762,43764).addRange(43777,43782).addRange(43785,43790).addRange(43793,43798).addRange(43808,43814).addRange(43816,43822).addRange(43824,43866).addRange(43868,43881).addRange(43888,44002).addRange(44032,55203).addRange(55216,55238).addRange(55243,55291).addRange(63744,64109).addRange(64112,64217).addRange(64256,64262).addRange(64275,64279).addRange(64287,64296).addRange(64298,64310).addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64433).addRange(64467,64605).addRange(64612,64829).addRange(64848,64911).addRange(64914,64967).addRange(65008,65017).addRange(65151,65276).addRange(65313,65338).addRange(65345,65370).addRange(65382,65437).addRange(65440,65470).addRange(65474,65479).addRange(65482,65487).addRange(65490,65495).addRange(65498,65500).addRange(65536,65547).addRange(65549,65574).addRange(65576,65594).addRange(65596,65597).addRange(65599,65613).addRange(65616,65629).addRange(65664,65786).addRange(65856,65908).addRange(66176,66204),Pe.addRange(66208,66256).addRange(66304,66335).addRange(66349,66378).addRange(66384,66421).addRange(66432,66461).addRange(66464,66499).addRange(66504,66511).addRange(66513,66517).addRange(66560,66717).addRange(66736,66771).addRange(66776,66811).addRange(66816,66855).addRange(66864,66915).addRange(67072,67382).addRange(67392,67413).addRange(67424,67431).addRange(67584,67589).addRange(67594,67637).addRange(67639,67640).addRange(67647,67669).addRange(67680,67702).addRange(67712,67742).addRange(67808,67826).addRange(67828,67829).addRange(67840,67861).addRange(67872,67897).addRange(67968,68023).addRange(68030,68031).addRange(68112,68115).addRange(68117,68119).addRange(68121,68149).addRange(68192,68220).addRange(68224,68252).addRange(68288,68295).addRange(68297,68324).addRange(68352,68405).addRange(68416,68437).addRange(68448,68466).addRange(68480,68497).addRange(68608,68680).addRange(68736,68786).addRange(68800,68850).addRange(68864,68899).addRange(69248,69289).addRange(69296,69297).addRange(69376,69404).addRange(69424,69445).addRange(69552,69572).addRange(69600,69622).addRange(69635,69687).addRange(69763,69807),Pe.addRange(69840,69864).addRange(69891,69926).addRange(69968,70002).addRange(70019,70066).addRange(70081,70084).addRange(70144,70161).addRange(70163,70187).addRange(70272,70278).addRange(70282,70285).addRange(70287,70301).addRange(70303,70312).addRange(70320,70366).addRange(70405,70412).addRange(70415,70416).addRange(70419,70440).addRange(70442,70448).addRange(70450,70451).addRange(70453,70457).addRange(70493,70497).addRange(70656,70708).addRange(70727,70730).addRange(70751,70753).addRange(70784,70831).addRange(70852,70853).addRange(71040,71086).addRange(71128,71131).addRange(71168,71215).addRange(71296,71338).addRange(71424,71450).addRange(71680,71723).addRange(71840,71903).addRange(71935,71942).addRange(71948,71955).addRange(71957,71958).addRange(71960,71983).addRange(72096,72103).addRange(72106,72144).addRange(72203,72242).addRange(72284,72329).addRange(72384,72440).addRange(72704,72712).addRange(72714,72750).addRange(72818,72847).addRange(72960,72966).addRange(72968,72969).addRange(72971,73008).addRange(73056,73061).addRange(73063,73064).addRange(73066,73097).addRange(73440,73458).addRange(73728,74649),Pe.addRange(74752,74862).addRange(74880,75075).addRange(77824,78894).addRange(82944,83526).addRange(92160,92728).addRange(92736,92766).addRange(92880,92909).addRange(92928,92975).addRange(92992,92995).addRange(93027,93047).addRange(93053,93071).addRange(93760,93823).addRange(93952,94026).addRange(94099,94111).addRange(94176,94177).addRange(94208,100343).addRange(100352,101589).addRange(101632,101640).addRange(110592,110878).addRange(110928,110930).addRange(110948,110951).addRange(110960,111355).addRange(113664,113770).addRange(113776,113788).addRange(113792,113800).addRange(113808,113817).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120512).addRange(120514,120538).addRange(120540,120570).addRange(120572,120596).addRange(120598,120628).addRange(120630,120654).addRange(120656,120686).addRange(120688,120712).addRange(120714,120744),Pe.addRange(120746,120770).addRange(120772,120779).addRange(123136,123180).addRange(123191,123197).addRange(123584,123627).addRange(124928,125124).addRange(125184,125251).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627).addRange(126629,126633).addRange(126635,126651).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546),_e.exports=Pe},13090:function(_e,be,Te){const Pe=Te(78776)(181,895,902,908,4295,4301,8025,8027,8029,8126,8450,8455,8469,8484,8486,8488,8505,8526,11559,11565,43002,119970,119995,120134);Pe.addRange(65,90).addRange(97,122).addRange(192,214).addRange(216,246).addRange(248,442).addRange(444,447).addRange(452,659).addRange(661,687).addRange(880,883).addRange(886,887).addRange(891,893).addRange(904,906).addRange(910,929).addRange(931,1013).addRange(1015,1153).addRange(1162,1327).addRange(1329,1366).addRange(1376,1416).addRange(4256,4293).addRange(4304,4346).addRange(4349,4351).addRange(5024,5109).addRange(5112,5117).addRange(7296,7304).addRange(7312,7354).addRange(7357,7359).addRange(7424,7467).addRange(7531,7543).addRange(7545,7578).addRange(7680,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8124).addRange(8130,8132).addRange(8134,8140).addRange(8144,8147).addRange(8150,8155).addRange(8160,8172).addRange(8178,8180).addRange(8182,8188).addRange(8458,8467).addRange(8473,8477).addRange(8490,8493).addRange(8495,8500).addRange(8508,8511).addRange(8517,8521).addRange(8579,8580),Pe.addRange(11264,11310).addRange(11312,11358).addRange(11360,11387).addRange(11390,11492).addRange(11499,11502).addRange(11506,11507).addRange(11520,11557).addRange(42560,42605).addRange(42624,42651).addRange(42786,42863).addRange(42865,42887).addRange(42891,42894).addRange(42896,42943).addRange(42946,42954).addRange(42997,42998).addRange(43824,43866).addRange(43872,43880).addRange(43888,43967).addRange(64256,64262).addRange(64275,64279).addRange(65313,65338).addRange(65345,65370).addRange(66560,66639).addRange(66736,66771).addRange(66776,66811).addRange(68736,68786).addRange(68800,68850).addRange(71840,71903).addRange(93760,93823).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120512).addRange(120514,120538).addRange(120540,120570).addRange(120572,120596).addRange(120598,120628).addRange(120630,120654),Pe.addRange(120656,120686).addRange(120688,120712).addRange(120714,120744).addRange(120746,120770).addRange(120772,120779).addRange(125184,125251),_e.exports=Pe},8526:function(_e,be,Te){const Pe=Te(78776)(41,93,125,3899,3901,5788,8262,8318,8334,8969,8971,9002,10089,10091,10093,10095,10097,10099,10101,10182,10215,10217,10219,10221,10223,10628,10630,10632,10634,10636,10638,10640,10642,10644,10646,10648,10713,10715,10749,11811,11813,11815,11817,12297,12299,12301,12303,12305,12309,12311,12313,12315,64830,65048,65078,65080,65082,65084,65086,65088,65090,65092,65096,65114,65116,65118,65289,65341,65373,65376,65379);Pe.addRange(12318,12319),_e.exports=Pe},26100:function(_e,be,Te){const Pe=Te(78776)(95,8276,65343);Pe.addRange(8255,8256).addRange(65075,65076).addRange(65101,65103),_e.exports=Pe},80282:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(0,31).addRange(127,159),_e.exports=Pe},15352:function(_e,be,Te){const Pe=Te(78776)(36,1423,1547,2555,2801,3065,3647,6107,43064,65020,65129,65284,123647,126128);Pe.addRange(162,165).addRange(2046,2047).addRange(2546,2547).addRange(8352,8383).addRange(65504,65505).addRange(65509,65510).addRange(73693,73696),_e.exports=Pe},45647:function(_e,be,Te){const Pe=Te(78776)(45,1418,1470,5120,6150,11799,11802,11840,12316,12336,12448,65112,65123,65293,69293);Pe.addRange(8208,8213).addRange(11834,11835).addRange(65073,65074),_e.exports=Pe},98349:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(48,57).addRange(1632,1641).addRange(1776,1785).addRange(1984,1993).addRange(2406,2415).addRange(2534,2543).addRange(2662,2671).addRange(2790,2799).addRange(2918,2927).addRange(3046,3055).addRange(3174,3183).addRange(3302,3311).addRange(3430,3439).addRange(3558,3567).addRange(3664,3673).addRange(3792,3801).addRange(3872,3881).addRange(4160,4169).addRange(4240,4249).addRange(6112,6121).addRange(6160,6169).addRange(6470,6479).addRange(6608,6617).addRange(6784,6793).addRange(6800,6809).addRange(6992,7001).addRange(7088,7097).addRange(7232,7241).addRange(7248,7257).addRange(42528,42537).addRange(43216,43225).addRange(43264,43273).addRange(43472,43481).addRange(43504,43513).addRange(43600,43609).addRange(44016,44025).addRange(65296,65305).addRange(66720,66729).addRange(68912,68921).addRange(69734,69743).addRange(69872,69881).addRange(69942,69951).addRange(70096,70105).addRange(70384,70393).addRange(70736,70745).addRange(70864,70873).addRange(71248,71257).addRange(71360,71369).addRange(71472,71481).addRange(71904,71913).addRange(72016,72025),Pe.addRange(72784,72793).addRange(73040,73049).addRange(73120,73129).addRange(92768,92777).addRange(93008,93017).addRange(120782,120831).addRange(123200,123209).addRange(123632,123641).addRange(125264,125273).addRange(130032,130041),_e.exports=Pe},18220:function(_e,be,Te){const Pe=Te(78776)(6846);Pe.addRange(1160,1161).addRange(8413,8416).addRange(8418,8420).addRange(42608,42610),_e.exports=Pe},88482:function(_e,be,Te){const Pe=Te(78776)(187,8217,8221,8250,11779,11781,11786,11789,11805,11809);_e.exports=Pe},87586:function(_e,be,Te){const Pe=Te(78776)(173,1564,1757,1807,2274,6158,65279,69821,69837,917505);Pe.addRange(1536,1541).addRange(8203,8207).addRange(8234,8238).addRange(8288,8292).addRange(8294,8303).addRange(65529,65531).addRange(78896,78904).addRange(113824,113827).addRange(119155,119162).addRange(917536,917631),_e.exports=Pe},88147:function(_e,be,Te){const Pe=Te(78776)(171,8216,8223,8249,11778,11780,11785,11788,11804,11808);Pe.addRange(8219,8220),_e.exports=Pe},65964:function(_e,be,Te){const Pe=Te(78776)(170,181,186,748,750,895,902,908,1369,1749,1791,1808,1969,2042,2074,2084,2088,2365,2384,2482,2493,2510,2556,2654,2749,2768,2809,2877,2929,2947,2972,3024,3133,3200,3261,3294,3389,3406,3517,3716,3749,3773,3782,3840,4159,4193,4238,4295,4301,4696,4800,6103,6108,6314,6823,7418,8025,8027,8029,8126,8305,8319,8450,8455,8469,8484,8486,8488,8526,11559,11565,11631,11823,43259,43471,43642,43697,43712,43714,64285,64318,67592,67644,68096,69415,69956,69959,70006,70106,70108,70280,70461,70480,70855,71236,71352,71945,71999,72001,72161,72163,72192,72250,72272,72349,72768,73030,73112,73648,94032,94179,119970,119995,120134,123214,125259,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590);Pe.addRange(65,90).addRange(97,122).addRange(192,214).addRange(216,246).addRange(248,705).addRange(710,721).addRange(736,740).addRange(880,884).addRange(886,887).addRange(890,893).addRange(904,906).addRange(910,929).addRange(931,1013).addRange(1015,1153).addRange(1162,1327).addRange(1329,1366).addRange(1376,1416).addRange(1488,1514).addRange(1519,1522).addRange(1568,1610).addRange(1646,1647).addRange(1649,1747).addRange(1765,1766).addRange(1774,1775).addRange(1786,1788).addRange(1810,1839).addRange(1869,1957).addRange(1994,2026).addRange(2036,2037).addRange(2048,2069).addRange(2112,2136).addRange(2144,2154).addRange(2208,2228).addRange(2230,2247).addRange(2308,2361).addRange(2392,2401).addRange(2417,2432).addRange(2437,2444).addRange(2447,2448).addRange(2451,2472).addRange(2474,2480).addRange(2486,2489).addRange(2524,2525).addRange(2527,2529).addRange(2544,2545).addRange(2565,2570).addRange(2575,2576).addRange(2579,2600).addRange(2602,2608).addRange(2610,2611).addRange(2613,2614),Pe.addRange(2616,2617).addRange(2649,2652).addRange(2674,2676).addRange(2693,2701).addRange(2703,2705).addRange(2707,2728).addRange(2730,2736).addRange(2738,2739).addRange(2741,2745).addRange(2784,2785).addRange(2821,2828).addRange(2831,2832).addRange(2835,2856).addRange(2858,2864).addRange(2866,2867).addRange(2869,2873).addRange(2908,2909).addRange(2911,2913).addRange(2949,2954).addRange(2958,2960).addRange(2962,2965).addRange(2969,2970).addRange(2974,2975).addRange(2979,2980).addRange(2984,2986).addRange(2990,3001).addRange(3077,3084).addRange(3086,3088).addRange(3090,3112).addRange(3114,3129).addRange(3160,3162).addRange(3168,3169).addRange(3205,3212).addRange(3214,3216).addRange(3218,3240).addRange(3242,3251).addRange(3253,3257).addRange(3296,3297).addRange(3313,3314).addRange(3332,3340).addRange(3342,3344).addRange(3346,3386).addRange(3412,3414).addRange(3423,3425).addRange(3450,3455).addRange(3461,3478).addRange(3482,3505).addRange(3507,3515).addRange(3520,3526).addRange(3585,3632).addRange(3634,3635),Pe.addRange(3648,3654).addRange(3713,3714).addRange(3718,3722).addRange(3724,3747).addRange(3751,3760).addRange(3762,3763).addRange(3776,3780).addRange(3804,3807).addRange(3904,3911).addRange(3913,3948).addRange(3976,3980).addRange(4096,4138).addRange(4176,4181).addRange(4186,4189).addRange(4197,4198).addRange(4206,4208).addRange(4213,4225).addRange(4256,4293).addRange(4304,4346).addRange(4348,4680).addRange(4682,4685).addRange(4688,4694).addRange(4698,4701).addRange(4704,4744).addRange(4746,4749).addRange(4752,4784).addRange(4786,4789).addRange(4792,4798).addRange(4802,4805).addRange(4808,4822).addRange(4824,4880).addRange(4882,4885).addRange(4888,4954).addRange(4992,5007).addRange(5024,5109).addRange(5112,5117).addRange(5121,5740).addRange(5743,5759).addRange(5761,5786).addRange(5792,5866).addRange(5873,5880).addRange(5888,5900).addRange(5902,5905).addRange(5920,5937).addRange(5952,5969).addRange(5984,5996).addRange(5998,6e3).addRange(6016,6067).addRange(6176,6264).addRange(6272,6276).addRange(6279,6312),Pe.addRange(6320,6389).addRange(6400,6430).addRange(6480,6509).addRange(6512,6516).addRange(6528,6571).addRange(6576,6601).addRange(6656,6678).addRange(6688,6740).addRange(6917,6963).addRange(6981,6987).addRange(7043,7072).addRange(7086,7087).addRange(7098,7141).addRange(7168,7203).addRange(7245,7247).addRange(7258,7293).addRange(7296,7304).addRange(7312,7354).addRange(7357,7359).addRange(7401,7404).addRange(7406,7411).addRange(7413,7414).addRange(7424,7615).addRange(7680,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8124).addRange(8130,8132).addRange(8134,8140).addRange(8144,8147).addRange(8150,8155).addRange(8160,8172).addRange(8178,8180).addRange(8182,8188).addRange(8336,8348).addRange(8458,8467).addRange(8473,8477).addRange(8490,8493).addRange(8495,8505).addRange(8508,8511).addRange(8517,8521).addRange(8579,8580).addRange(11264,11310).addRange(11312,11358).addRange(11360,11492).addRange(11499,11502).addRange(11506,11507),Pe.addRange(11520,11557).addRange(11568,11623).addRange(11648,11670).addRange(11680,11686).addRange(11688,11694).addRange(11696,11702).addRange(11704,11710).addRange(11712,11718).addRange(11720,11726).addRange(11728,11734).addRange(11736,11742).addRange(12293,12294).addRange(12337,12341).addRange(12347,12348).addRange(12353,12438).addRange(12445,12447).addRange(12449,12538).addRange(12540,12543).addRange(12549,12591).addRange(12593,12686).addRange(12704,12735).addRange(12784,12799).addRange(13312,19903).addRange(19968,40956).addRange(40960,42124).addRange(42192,42237).addRange(42240,42508).addRange(42512,42527).addRange(42538,42539).addRange(42560,42606).addRange(42623,42653).addRange(42656,42725).addRange(42775,42783).addRange(42786,42888).addRange(42891,42943).addRange(42946,42954).addRange(42997,43009).addRange(43011,43013).addRange(43015,43018).addRange(43020,43042).addRange(43072,43123).addRange(43138,43187).addRange(43250,43255).addRange(43261,43262).addRange(43274,43301).addRange(43312,43334).addRange(43360,43388).addRange(43396,43442).addRange(43488,43492).addRange(43494,43503).addRange(43514,43518),Pe.addRange(43520,43560).addRange(43584,43586).addRange(43588,43595).addRange(43616,43638).addRange(43646,43695).addRange(43701,43702).addRange(43705,43709).addRange(43739,43741).addRange(43744,43754).addRange(43762,43764).addRange(43777,43782).addRange(43785,43790).addRange(43793,43798).addRange(43808,43814).addRange(43816,43822).addRange(43824,43866).addRange(43868,43881).addRange(43888,44002).addRange(44032,55203).addRange(55216,55238).addRange(55243,55291).addRange(63744,64109).addRange(64112,64217).addRange(64256,64262).addRange(64275,64279).addRange(64287,64296).addRange(64298,64310).addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64433).addRange(64467,64829).addRange(64848,64911).addRange(64914,64967).addRange(65008,65019).addRange(65136,65140).addRange(65142,65276).addRange(65313,65338).addRange(65345,65370).addRange(65382,65470).addRange(65474,65479).addRange(65482,65487).addRange(65490,65495).addRange(65498,65500).addRange(65536,65547).addRange(65549,65574).addRange(65576,65594).addRange(65596,65597).addRange(65599,65613).addRange(65616,65629).addRange(65664,65786),Pe.addRange(66176,66204).addRange(66208,66256).addRange(66304,66335).addRange(66349,66368).addRange(66370,66377).addRange(66384,66421).addRange(66432,66461).addRange(66464,66499).addRange(66504,66511).addRange(66560,66717).addRange(66736,66771).addRange(66776,66811).addRange(66816,66855).addRange(66864,66915).addRange(67072,67382).addRange(67392,67413).addRange(67424,67431).addRange(67584,67589).addRange(67594,67637).addRange(67639,67640).addRange(67647,67669).addRange(67680,67702).addRange(67712,67742).addRange(67808,67826).addRange(67828,67829).addRange(67840,67861).addRange(67872,67897).addRange(67968,68023).addRange(68030,68031).addRange(68112,68115).addRange(68117,68119).addRange(68121,68149).addRange(68192,68220).addRange(68224,68252).addRange(68288,68295).addRange(68297,68324).addRange(68352,68405).addRange(68416,68437).addRange(68448,68466).addRange(68480,68497).addRange(68608,68680).addRange(68736,68786).addRange(68800,68850).addRange(68864,68899).addRange(69248,69289).addRange(69296,69297).addRange(69376,69404).addRange(69424,69445).addRange(69552,69572).addRange(69600,69622).addRange(69635,69687),Pe.addRange(69763,69807).addRange(69840,69864).addRange(69891,69926).addRange(69968,70002).addRange(70019,70066).addRange(70081,70084).addRange(70144,70161).addRange(70163,70187).addRange(70272,70278).addRange(70282,70285).addRange(70287,70301).addRange(70303,70312).addRange(70320,70366).addRange(70405,70412).addRange(70415,70416).addRange(70419,70440).addRange(70442,70448).addRange(70450,70451).addRange(70453,70457).addRange(70493,70497).addRange(70656,70708).addRange(70727,70730).addRange(70751,70753).addRange(70784,70831).addRange(70852,70853).addRange(71040,71086).addRange(71128,71131).addRange(71168,71215).addRange(71296,71338).addRange(71424,71450).addRange(71680,71723).addRange(71840,71903).addRange(71935,71942).addRange(71948,71955).addRange(71957,71958).addRange(71960,71983).addRange(72096,72103).addRange(72106,72144).addRange(72203,72242).addRange(72284,72329).addRange(72384,72440).addRange(72704,72712).addRange(72714,72750).addRange(72818,72847).addRange(72960,72966).addRange(72968,72969).addRange(72971,73008).addRange(73056,73061).addRange(73063,73064).addRange(73066,73097).addRange(73440,73458),Pe.addRange(73728,74649).addRange(74880,75075).addRange(77824,78894).addRange(82944,83526).addRange(92160,92728).addRange(92736,92766).addRange(92880,92909).addRange(92928,92975).addRange(92992,92995).addRange(93027,93047).addRange(93053,93071).addRange(93760,93823).addRange(93952,94026).addRange(94099,94111).addRange(94176,94177).addRange(94208,100343).addRange(100352,101589).addRange(101632,101640).addRange(110592,110878).addRange(110928,110930).addRange(110948,110951).addRange(110960,111355).addRange(113664,113770).addRange(113776,113788).addRange(113792,113800).addRange(113808,113817).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120512).addRange(120514,120538).addRange(120540,120570).addRange(120572,120596).addRange(120598,120628).addRange(120630,120654).addRange(120656,120686).addRange(120688,120712).addRange(120714,120744),Pe.addRange(120746,120770).addRange(120772,120779).addRange(123136,123180).addRange(123191,123197).addRange(123584,123627).addRange(124928,125124).addRange(125184,125251).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627).addRange(126629,126633).addRange(126635,126651).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546),_e.exports=Pe},66793:function(_e,be,Te){const Pe=Te(78776)(12295,66369,66378);Pe.addRange(5870,5872).addRange(8544,8578).addRange(8581,8584).addRange(12321,12329).addRange(12344,12346).addRange(42726,42735).addRange(65856,65908).addRange(66513,66517).addRange(74752,74862),_e.exports=Pe},63061:function(_e,be,Te){const Pe=Te(78776)(8232);_e.exports=Pe},19340:function(_e,be,Te){const Pe=Te(78776)(181,257,259,261,263,265,267,269,271,273,275,277,279,281,283,285,287,289,291,293,295,297,299,301,303,305,307,309,314,316,318,320,322,324,326,331,333,335,337,339,341,343,345,347,349,351,353,355,357,359,361,363,365,367,369,371,373,375,378,380,387,389,392,402,405,414,417,419,421,424,429,432,436,438,454,457,460,462,464,466,468,470,472,474,479,481,483,485,487,489,491,493,499,501,505,507,509,511,513,515,517,519,521,523,525,527,529,531,533,535,537,539,541,543,545,547,549,551,553,555,557,559,561,572,578,583,585,587,589,881,883,887,912,985,987,989,991,993,995,997,999,1001,1003,1005,1013,1016,1121,1123,1125,1127,1129,1131,1133,1135,1137,1139,1141,1143,1145,1147,1149,1151,1153,1163,1165,1167,1169,1171,1173,1175,1177,1179,1181,1183,1185,1187,1189,1191,1193,1195,1197,1199,1201,1203,1205,1207,1209,1211,1213,1215,1218,1220,1222,1224,1226,1228,1233,1235,1237,1239,1241,1243,1245,1247,1249,1251,1253,1255,1257,1259,1261,1263,1265,1267,1269,1271,1273,1275,1277,1279,1281,1283,1285,1287,1289,1291,1293,1295,1297,1299,1301,1303,1305,1307,1309,1311,1313,1315,1317,1319,1321,1323,1325,1327,7681,7683,7685,7687,7689,7691,7693,7695,7697,7699,7701,7703,7705,7707,7709,7711,7713,7715,7717,7719,7721,7723,7725,7727,7729,7731,7733,7735,7737,7739,7741,7743,7745,7747,7749,7751,7753,7755,7757,7759,7761,7763,7765,7767,7769,7771,7773,7775,7777,7779,7781,7783,7785,7787,7789,7791,7793,7795,7797,7799,7801,7803,7805,7807,7809,7811,7813,7815,7817,7819,7821,7823,7825,7827,7839,7841,7843,7845,7847,7849,7851,7853,7855,7857,7859,7861,7863,7865,7867,7869,7871,7873,7875,7877,7879,7881,7883,7885,7887,7889,7891,7893,7895,7897,7899,7901,7903,7905,7907,7909,7911,7913,7915,7917,7919,7921,7923,7925,7927,7929,7931,7933,8126,8458,8467,8495,8500,8505,8526,8580,11361,11368,11370,11372,11377,11393,11395,11397,11399,11401,11403,11405,11407,11409,11411,11413,11415,11417,11419,11421,11423,11425,11427,11429,11431,11433,11435,11437,11439,11441,11443,11445,11447,11449,11451,11453,11455,11457,11459,11461,11463,11465,11467,11469,11471,11473,11475,11477,11479,11481,11483,11485,11487,11489,11500,11502,11507,11559,11565,42561,42563,42565,42567,42569,42571,42573,42575,42577,42579,42581,42583,42585,42587,42589,42591,42593,42595,42597,42599,42601,42603,42605,42625,42627,42629,42631,42633,42635,42637,42639,42641,42643,42645,42647,42649,42651,42787,42789,42791,42793,42795,42797,42803,42805,42807,42809,42811,42813,42815,42817,42819,42821,42823,42825,42827,42829,42831,42833,42835,42837,42839,42841,42843,42845,42847,42849,42851,42853,42855,42857,42859,42861,42863,42874,42876,42879,42881,42883,42885,42887,42892,42894,42897,42903,42905,42907,42909,42911,42913,42915,42917,42919,42921,42927,42933,42935,42937,42939,42941,42943,42947,42952,42954,42998,43002,119995,120779);Pe.addRange(97,122).addRange(223,246).addRange(248,255).addRange(311,312).addRange(328,329).addRange(382,384).addRange(396,397).addRange(409,411).addRange(426,427).addRange(441,442).addRange(445,447).addRange(476,477).addRange(495,496).addRange(563,569).addRange(575,576).addRange(591,659).addRange(661,687).addRange(891,893).addRange(940,974).addRange(976,977).addRange(981,983).addRange(1007,1011).addRange(1019,1020).addRange(1072,1119).addRange(1230,1231).addRange(1376,1416).addRange(4304,4346).addRange(4349,4351).addRange(5112,5117).addRange(7296,7304).addRange(7424,7467).addRange(7531,7543).addRange(7545,7578).addRange(7829,7837).addRange(7935,7943).addRange(7952,7957).addRange(7968,7975).addRange(7984,7991).addRange(8e3,8005).addRange(8016,8023).addRange(8032,8039).addRange(8048,8061).addRange(8064,8071).addRange(8080,8087).addRange(8096,8103).addRange(8112,8116).addRange(8118,8119).addRange(8130,8132).addRange(8134,8135).addRange(8144,8147).addRange(8150,8151),Pe.addRange(8160,8167).addRange(8178,8180).addRange(8182,8183).addRange(8462,8463).addRange(8508,8509).addRange(8518,8521).addRange(11312,11358).addRange(11365,11366).addRange(11379,11380).addRange(11382,11387).addRange(11491,11492).addRange(11520,11557).addRange(42799,42801).addRange(42865,42872).addRange(42899,42901).addRange(43824,43866).addRange(43872,43880).addRange(43888,43967).addRange(64256,64262).addRange(64275,64279).addRange(65345,65370).addRange(66600,66639).addRange(66776,66811).addRange(68800,68850).addRange(71872,71903).addRange(93792,93823).addRange(119834,119859).addRange(119886,119892).addRange(119894,119911).addRange(119938,119963).addRange(119990,119993).addRange(119997,120003).addRange(120005,120015).addRange(120042,120067).addRange(120094,120119).addRange(120146,120171).addRange(120198,120223).addRange(120250,120275).addRange(120302,120327).addRange(120354,120379).addRange(120406,120431).addRange(120458,120485).addRange(120514,120538).addRange(120540,120545).addRange(120572,120596).addRange(120598,120603).addRange(120630,120654).addRange(120656,120661).addRange(120688,120712).addRange(120714,120719).addRange(120746,120770),Pe.addRange(120772,120777).addRange(125218,125251),_e.exports=Pe},93748:function(_e,be,Te){const Pe=Te(78776)(1471,1479,1648,1809,2045,2492,2519,2558,2620,2641,2677,2748,2876,2946,3031,3260,3415,3530,3542,3633,3761,3893,3895,3897,4038,4239,6109,6313,6783,7405,7412,11647,43010,43014,43019,43052,43263,43493,43587,43696,43713,64286,66045,66272,68159,70003,70206,70487,70750,72e3,72164,72263,73018,73031,94031,94180,121461,121476);Pe.addRange(768,879).addRange(1155,1161).addRange(1425,1469).addRange(1473,1474).addRange(1476,1477).addRange(1552,1562).addRange(1611,1631).addRange(1750,1756).addRange(1759,1764).addRange(1767,1768).addRange(1770,1773).addRange(1840,1866).addRange(1958,1968).addRange(2027,2035).addRange(2070,2073).addRange(2075,2083).addRange(2085,2087).addRange(2089,2093).addRange(2137,2139).addRange(2259,2273).addRange(2275,2307).addRange(2362,2364).addRange(2366,2383).addRange(2385,2391).addRange(2402,2403).addRange(2433,2435).addRange(2494,2500).addRange(2503,2504).addRange(2507,2509).addRange(2530,2531).addRange(2561,2563).addRange(2622,2626).addRange(2631,2632).addRange(2635,2637).addRange(2672,2673).addRange(2689,2691).addRange(2750,2757).addRange(2759,2761).addRange(2763,2765).addRange(2786,2787).addRange(2810,2815).addRange(2817,2819).addRange(2878,2884).addRange(2887,2888).addRange(2891,2893).addRange(2901,2903).addRange(2914,2915).addRange(3006,3010).addRange(3014,3016).addRange(3018,3021).addRange(3072,3076),Pe.addRange(3134,3140).addRange(3142,3144).addRange(3146,3149).addRange(3157,3158).addRange(3170,3171).addRange(3201,3203).addRange(3262,3268).addRange(3270,3272).addRange(3274,3277).addRange(3285,3286).addRange(3298,3299).addRange(3328,3331).addRange(3387,3388).addRange(3390,3396).addRange(3398,3400).addRange(3402,3405).addRange(3426,3427).addRange(3457,3459).addRange(3535,3540).addRange(3544,3551).addRange(3570,3571).addRange(3636,3642).addRange(3655,3662).addRange(3764,3772).addRange(3784,3789).addRange(3864,3865).addRange(3902,3903).addRange(3953,3972).addRange(3974,3975).addRange(3981,3991).addRange(3993,4028).addRange(4139,4158).addRange(4182,4185).addRange(4190,4192).addRange(4194,4196).addRange(4199,4205).addRange(4209,4212).addRange(4226,4237).addRange(4250,4253).addRange(4957,4959).addRange(5906,5908).addRange(5938,5940).addRange(5970,5971).addRange(6002,6003).addRange(6068,6099).addRange(6155,6157).addRange(6277,6278).addRange(6432,6443).addRange(6448,6459).addRange(6679,6683).addRange(6741,6750),Pe.addRange(6752,6780).addRange(6832,6848).addRange(6912,6916).addRange(6964,6980).addRange(7019,7027).addRange(7040,7042).addRange(7073,7085).addRange(7142,7155).addRange(7204,7223).addRange(7376,7378).addRange(7380,7400).addRange(7415,7417).addRange(7616,7673).addRange(7675,7679).addRange(8400,8432).addRange(11503,11505).addRange(11744,11775).addRange(12330,12335).addRange(12441,12442).addRange(42607,42610).addRange(42612,42621).addRange(42654,42655).addRange(42736,42737).addRange(43043,43047).addRange(43136,43137).addRange(43188,43205).addRange(43232,43249).addRange(43302,43309).addRange(43335,43347).addRange(43392,43395).addRange(43443,43456).addRange(43561,43574).addRange(43596,43597).addRange(43643,43645).addRange(43698,43700).addRange(43703,43704).addRange(43710,43711).addRange(43755,43759).addRange(43765,43766).addRange(44003,44010).addRange(44012,44013).addRange(65024,65039).addRange(65056,65071).addRange(66422,66426).addRange(68097,68099).addRange(68101,68102).addRange(68108,68111).addRange(68152,68154).addRange(68325,68326).addRange(68900,68903).addRange(69291,69292),Pe.addRange(69446,69456).addRange(69632,69634).addRange(69688,69702).addRange(69759,69762).addRange(69808,69818).addRange(69888,69890).addRange(69927,69940).addRange(69957,69958).addRange(70016,70018).addRange(70067,70080).addRange(70089,70092).addRange(70094,70095).addRange(70188,70199).addRange(70367,70378).addRange(70400,70403).addRange(70459,70460).addRange(70462,70468).addRange(70471,70472).addRange(70475,70477).addRange(70498,70499).addRange(70502,70508).addRange(70512,70516).addRange(70709,70726).addRange(70832,70851).addRange(71087,71093).addRange(71096,71104).addRange(71132,71133).addRange(71216,71232).addRange(71339,71351).addRange(71453,71467).addRange(71724,71738).addRange(71984,71989).addRange(71991,71992).addRange(71995,71998).addRange(72002,72003).addRange(72145,72151).addRange(72154,72160).addRange(72193,72202).addRange(72243,72249).addRange(72251,72254).addRange(72273,72283).addRange(72330,72345).addRange(72751,72758).addRange(72760,72767).addRange(72850,72871).addRange(72873,72886).addRange(73009,73014).addRange(73020,73021).addRange(73023,73029).addRange(73098,73102).addRange(73104,73105),Pe.addRange(73107,73111).addRange(73459,73462).addRange(92912,92916).addRange(92976,92982).addRange(94033,94087).addRange(94095,94098).addRange(94192,94193).addRange(113821,113822).addRange(119141,119145).addRange(119149,119154).addRange(119163,119170).addRange(119173,119179).addRange(119210,119213).addRange(119362,119364).addRange(121344,121398).addRange(121403,121452).addRange(121499,121503).addRange(121505,121519).addRange(122880,122886).addRange(122888,122904).addRange(122907,122913).addRange(122915,122916).addRange(122918,122922).addRange(123184,123190).addRange(123628,123631).addRange(125136,125142).addRange(125252,125258).addRange(917760,917999),_e.exports=Pe},32895:function(_e,be,Te){const Pe=Te(78776)(43,124,126,172,177,215,247,1014,8260,8274,8472,8523,8608,8611,8614,8622,8658,8660,9084,9655,9665,9839,64297,65122,65291,65372,65374,65506,120513,120539,120571,120597,120629,120655,120687,120713,120745,120771);Pe.addRange(60,62).addRange(1542,1544).addRange(8314,8316).addRange(8330,8332).addRange(8512,8516).addRange(8592,8596).addRange(8602,8603).addRange(8654,8655).addRange(8692,8959).addRange(8992,8993).addRange(9115,9139).addRange(9180,9185).addRange(9720,9727).addRange(10176,10180).addRange(10183,10213).addRange(10224,10239).addRange(10496,10626).addRange(10649,10711).addRange(10716,10747).addRange(10750,11007).addRange(11056,11076).addRange(11079,11084).addRange(65124,65126).addRange(65308,65310).addRange(65513,65516).addRange(126704,126705),_e.exports=Pe},66710:function(_e,be,Te){const Pe=Te(78776)(748,750,884,890,1369,1600,2042,2074,2084,2088,2417,3654,3782,4348,6103,6211,6823,7544,8305,8319,11631,11823,12293,12347,40981,42508,42623,42864,42888,43471,43494,43632,43741,43881,65392,94179,125259);Pe.addRange(688,705).addRange(710,721).addRange(736,740).addRange(1765,1766).addRange(2036,2037).addRange(7288,7293).addRange(7468,7530).addRange(7579,7615).addRange(8336,8348).addRange(11388,11389).addRange(12337,12341).addRange(12445,12446).addRange(12540,12542).addRange(42232,42237).addRange(42652,42653).addRange(42775,42783).addRange(43e3,43001).addRange(43763,43764).addRange(43868,43871).addRange(65438,65439).addRange(92992,92995).addRange(94099,94111).addRange(94176,94177).addRange(123191,123197),_e.exports=Pe},43026:function(_e,be,Te){const Pe=Te(78776)(94,96,168,175,180,184,749,885,8125,43867,65342,65344,65507);Pe.addRange(706,709).addRange(722,735).addRange(741,747).addRange(751,767).addRange(900,901).addRange(8127,8129).addRange(8141,8143).addRange(8157,8159).addRange(8173,8175).addRange(8189,8190).addRange(12443,12444).addRange(42752,42774).addRange(42784,42785).addRange(42889,42890).addRange(43882,43883).addRange(64434,64449).addRange(127995,127999),_e.exports=Pe},95580:function(_e,be,Te){const Pe=Te(78776)(1471,1479,1648,1809,2045,2362,2364,2381,2433,2492,2509,2558,2620,2641,2677,2748,2765,2817,2876,2879,2893,2946,3008,3021,3072,3076,3201,3260,3263,3270,3405,3457,3530,3542,3633,3761,3893,3895,3897,4038,4226,4237,4253,6086,6109,6313,6450,6683,6742,6752,6754,6783,6964,6972,6978,7142,7149,7405,7412,8417,11647,42607,43010,43014,43019,43052,43263,43443,43493,43587,43596,43644,43696,43713,43766,44005,44008,44013,64286,66045,66272,68159,69633,70003,70095,70196,70206,70367,70464,70726,70750,70842,71229,71339,71341,71351,71998,72003,72160,72263,72767,73018,73031,73109,73111,94031,94180,121461,121476);Pe.addRange(768,879).addRange(1155,1159).addRange(1425,1469).addRange(1473,1474).addRange(1476,1477).addRange(1552,1562).addRange(1611,1631).addRange(1750,1756).addRange(1759,1764).addRange(1767,1768).addRange(1770,1773).addRange(1840,1866).addRange(1958,1968).addRange(2027,2035).addRange(2070,2073).addRange(2075,2083).addRange(2085,2087).addRange(2089,2093).addRange(2137,2139).addRange(2259,2273).addRange(2275,2306).addRange(2369,2376).addRange(2385,2391).addRange(2402,2403).addRange(2497,2500).addRange(2530,2531).addRange(2561,2562).addRange(2625,2626).addRange(2631,2632).addRange(2635,2637).addRange(2672,2673).addRange(2689,2690).addRange(2753,2757).addRange(2759,2760).addRange(2786,2787).addRange(2810,2815).addRange(2881,2884).addRange(2901,2902).addRange(2914,2915).addRange(3134,3136).addRange(3142,3144).addRange(3146,3149).addRange(3157,3158).addRange(3170,3171).addRange(3276,3277).addRange(3298,3299).addRange(3328,3329).addRange(3387,3388).addRange(3393,3396).addRange(3426,3427).addRange(3538,3540),Pe.addRange(3636,3642).addRange(3655,3662).addRange(3764,3772).addRange(3784,3789).addRange(3864,3865).addRange(3953,3966).addRange(3968,3972).addRange(3974,3975).addRange(3981,3991).addRange(3993,4028).addRange(4141,4144).addRange(4146,4151).addRange(4153,4154).addRange(4157,4158).addRange(4184,4185).addRange(4190,4192).addRange(4209,4212).addRange(4229,4230).addRange(4957,4959).addRange(5906,5908).addRange(5938,5940).addRange(5970,5971).addRange(6002,6003).addRange(6068,6069).addRange(6071,6077).addRange(6089,6099).addRange(6155,6157).addRange(6277,6278).addRange(6432,6434).addRange(6439,6440).addRange(6457,6459).addRange(6679,6680).addRange(6744,6750).addRange(6757,6764).addRange(6771,6780).addRange(6832,6845).addRange(6847,6848).addRange(6912,6915).addRange(6966,6970).addRange(7019,7027).addRange(7040,7041).addRange(7074,7077).addRange(7080,7081).addRange(7083,7085).addRange(7144,7145).addRange(7151,7153).addRange(7212,7219).addRange(7222,7223).addRange(7376,7378).addRange(7380,7392).addRange(7394,7400),Pe.addRange(7416,7417).addRange(7616,7673).addRange(7675,7679).addRange(8400,8412).addRange(8421,8432).addRange(11503,11505).addRange(11744,11775).addRange(12330,12333).addRange(12441,12442).addRange(42612,42621).addRange(42654,42655).addRange(42736,42737).addRange(43045,43046).addRange(43204,43205).addRange(43232,43249).addRange(43302,43309).addRange(43335,43345).addRange(43392,43394).addRange(43446,43449).addRange(43452,43453).addRange(43561,43566).addRange(43569,43570).addRange(43573,43574).addRange(43698,43700).addRange(43703,43704).addRange(43710,43711).addRange(43756,43757).addRange(65024,65039).addRange(65056,65071).addRange(66422,66426).addRange(68097,68099).addRange(68101,68102).addRange(68108,68111).addRange(68152,68154).addRange(68325,68326).addRange(68900,68903).addRange(69291,69292).addRange(69446,69456).addRange(69688,69702).addRange(69759,69761).addRange(69811,69814).addRange(69817,69818).addRange(69888,69890).addRange(69927,69931).addRange(69933,69940).addRange(70016,70017).addRange(70070,70078).addRange(70089,70092).addRange(70191,70193).addRange(70198,70199).addRange(70371,70378),Pe.addRange(70400,70401).addRange(70459,70460).addRange(70502,70508).addRange(70512,70516).addRange(70712,70719).addRange(70722,70724).addRange(70835,70840).addRange(70847,70848).addRange(70850,70851).addRange(71090,71093).addRange(71100,71101).addRange(71103,71104).addRange(71132,71133).addRange(71219,71226).addRange(71231,71232).addRange(71344,71349).addRange(71453,71455).addRange(71458,71461).addRange(71463,71467).addRange(71727,71735).addRange(71737,71738).addRange(71995,71996).addRange(72148,72151).addRange(72154,72155).addRange(72193,72202).addRange(72243,72248).addRange(72251,72254).addRange(72273,72278).addRange(72281,72283).addRange(72330,72342).addRange(72344,72345).addRange(72752,72758).addRange(72760,72765).addRange(72850,72871).addRange(72874,72880).addRange(72882,72883).addRange(72885,72886).addRange(73009,73014).addRange(73020,73021).addRange(73023,73029).addRange(73104,73105).addRange(73459,73460).addRange(92912,92916).addRange(92976,92982).addRange(94095,94098).addRange(113821,113822).addRange(119143,119145).addRange(119163,119170).addRange(119173,119179).addRange(119210,119213).addRange(119362,119364),Pe.addRange(121344,121398).addRange(121403,121452).addRange(121499,121503).addRange(121505,121519).addRange(122880,122886).addRange(122888,122904).addRange(122907,122913).addRange(122915,122916).addRange(122918,122922).addRange(123184,123190).addRange(123628,123631).addRange(125136,125142).addRange(125252,125258).addRange(917760,917999),_e.exports=Pe},90055:function(_e,be,Te){const Pe=Te(78776)(185,8304,11517,12295,66369,66378);Pe.addRange(48,57).addRange(178,179).addRange(188,190).addRange(1632,1641).addRange(1776,1785).addRange(1984,1993).addRange(2406,2415).addRange(2534,2543).addRange(2548,2553).addRange(2662,2671).addRange(2790,2799).addRange(2918,2927).addRange(2930,2935).addRange(3046,3058).addRange(3174,3183).addRange(3192,3198).addRange(3302,3311).addRange(3416,3422).addRange(3430,3448).addRange(3558,3567).addRange(3664,3673).addRange(3792,3801).addRange(3872,3891).addRange(4160,4169).addRange(4240,4249).addRange(4969,4988).addRange(5870,5872).addRange(6112,6121).addRange(6128,6137).addRange(6160,6169).addRange(6470,6479).addRange(6608,6618).addRange(6784,6793).addRange(6800,6809).addRange(6992,7001).addRange(7088,7097).addRange(7232,7241).addRange(7248,7257).addRange(8308,8313).addRange(8320,8329).addRange(8528,8578).addRange(8581,8585).addRange(9312,9371).addRange(9450,9471).addRange(10102,10131).addRange(12321,12329).addRange(12344,12346).addRange(12690,12693).addRange(12832,12841).addRange(12872,12879).addRange(12881,12895),Pe.addRange(12928,12937).addRange(12977,12991).addRange(42528,42537).addRange(42726,42735).addRange(43056,43061).addRange(43216,43225).addRange(43264,43273).addRange(43472,43481).addRange(43504,43513).addRange(43600,43609).addRange(44016,44025).addRange(65296,65305).addRange(65799,65843).addRange(65856,65912).addRange(65930,65931).addRange(66273,66299).addRange(66336,66339).addRange(66513,66517).addRange(66720,66729).addRange(67672,67679).addRange(67705,67711).addRange(67751,67759).addRange(67835,67839).addRange(67862,67867).addRange(68028,68029).addRange(68032,68047).addRange(68050,68095).addRange(68160,68168).addRange(68221,68222).addRange(68253,68255).addRange(68331,68335).addRange(68440,68447).addRange(68472,68479).addRange(68521,68527).addRange(68858,68863).addRange(68912,68921).addRange(69216,69246).addRange(69405,69414).addRange(69457,69460).addRange(69573,69579).addRange(69714,69743).addRange(69872,69881).addRange(69942,69951).addRange(70096,70105).addRange(70113,70132).addRange(70384,70393).addRange(70736,70745).addRange(70864,70873).addRange(71248,71257).addRange(71360,71369).addRange(71472,71483),Pe.addRange(71904,71922).addRange(72016,72025).addRange(72784,72812).addRange(73040,73049).addRange(73120,73129).addRange(73664,73684).addRange(74752,74862).addRange(92768,92777).addRange(93008,93017).addRange(93019,93025).addRange(93824,93846).addRange(119520,119539).addRange(119648,119672).addRange(120782,120831).addRange(123200,123209).addRange(123632,123641).addRange(125127,125135).addRange(125264,125273).addRange(126065,126123).addRange(126125,126127).addRange(126129,126132).addRange(126209,126253).addRange(126255,126269).addRange(127232,127244).addRange(130032,130041),_e.exports=Pe},25622:function(_e,be,Te){const Pe=Te(78776)(40,91,123,3898,3900,5787,8218,8222,8261,8317,8333,8968,8970,9001,10088,10090,10092,10094,10096,10098,10100,10181,10214,10216,10218,10220,10222,10627,10629,10631,10633,10635,10637,10639,10641,10643,10645,10647,10712,10714,10748,11810,11812,11814,11816,11842,12296,12298,12300,12302,12304,12308,12310,12312,12314,12317,64831,65047,65077,65079,65081,65083,65085,65087,65089,65091,65095,65113,65115,65117,65288,65339,65371,65375,65378);_e.exports=Pe},76288:function(_e,be,Te){const Pe=Te(78776)(173,907,909,930,1328,1424,1757,2111,2143,2229,2274,2436,2473,2481,2526,2564,2601,2609,2612,2615,2621,2653,2692,2702,2706,2729,2737,2740,2758,2762,2816,2820,2857,2865,2868,2910,2948,2961,2971,2973,3017,3085,3089,3113,3141,3145,3159,3213,3217,3241,3252,3269,3273,3295,3312,3341,3345,3397,3401,3456,3460,3506,3516,3541,3543,3715,3717,3723,3748,3750,3781,3783,3912,3992,4029,4045,4294,4681,4695,4697,4745,4785,4799,4801,4823,4881,5901,5997,6001,6431,6751,7674,8024,8026,8028,8030,8117,8133,8156,8181,8191,8335,11158,11311,11359,11558,11687,11695,11703,11711,11719,11727,11735,11743,11930,12352,12592,12687,12831,43470,43519,43815,43823,64311,64317,64319,64322,64325,65107,65127,65141,65511,65548,65575,65595,65598,65935,66462,67593,67638,67670,67827,68100,68116,68120,69247,69290,69821,69941,70112,70162,70279,70281,70286,70302,70404,70441,70449,70452,70458,70748,71956,71959,71990,72713,72759,72872,72967,72970,73019,73022,73062,73065,73103,73106,74863,92767,93018,93026,119893,119965,119981,119994,119996,120004,120070,120085,120093,120122,120127,120133,120145,121504,122887,122914,122917,126468,126496,126499,126504,126515,126520,126522,126536,126538,126540,126544,126547,126552,126554,126556,126558,126560,126563,126571,126579,126584,126589,126591,126602,126628,126634,127168,127184,129401,129484,129939);Pe.addRange(0,31).addRange(127,159).addRange(888,889).addRange(896,899).addRange(1367,1368).addRange(1419,1420).addRange(1480,1487).addRange(1515,1518).addRange(1525,1541).addRange(1564,1565).addRange(1806,1807).addRange(1867,1868).addRange(1970,1983).addRange(2043,2044).addRange(2094,2095).addRange(2140,2141).addRange(2155,2207).addRange(2248,2258).addRange(2445,2446).addRange(2449,2450).addRange(2483,2485).addRange(2490,2491).addRange(2501,2502).addRange(2505,2506).addRange(2511,2518).addRange(2520,2523).addRange(2532,2533).addRange(2559,2560).addRange(2571,2574).addRange(2577,2578).addRange(2618,2619).addRange(2627,2630).addRange(2633,2634).addRange(2638,2640).addRange(2642,2648).addRange(2655,2661).addRange(2679,2688).addRange(2746,2747).addRange(2766,2767).addRange(2769,2783).addRange(2788,2789).addRange(2802,2808).addRange(2829,2830).addRange(2833,2834).addRange(2874,2875).addRange(2885,2886).addRange(2889,2890).addRange(2894,2900).addRange(2904,2907).addRange(2916,2917).addRange(2936,2945),Pe.addRange(2955,2957).addRange(2966,2968).addRange(2976,2978).addRange(2981,2983).addRange(2987,2989).addRange(3002,3005).addRange(3011,3013).addRange(3022,3023).addRange(3025,3030).addRange(3032,3045).addRange(3067,3071).addRange(3130,3132).addRange(3150,3156).addRange(3163,3167).addRange(3172,3173).addRange(3184,3190).addRange(3258,3259).addRange(3278,3284).addRange(3287,3293).addRange(3300,3301).addRange(3315,3327).addRange(3408,3411).addRange(3428,3429).addRange(3479,3481).addRange(3518,3519).addRange(3527,3529).addRange(3531,3534).addRange(3552,3557).addRange(3568,3569).addRange(3573,3584).addRange(3643,3646).addRange(3676,3712).addRange(3774,3775).addRange(3790,3791).addRange(3802,3803).addRange(3808,3839).addRange(3949,3952).addRange(4059,4095).addRange(4296,4300).addRange(4302,4303).addRange(4686,4687).addRange(4702,4703).addRange(4750,4751).addRange(4790,4791).addRange(4806,4807).addRange(4886,4887).addRange(4955,4956).addRange(4989,4991).addRange(5018,5023).addRange(5110,5111).addRange(5118,5119),Pe.addRange(5789,5791).addRange(5881,5887).addRange(5909,5919).addRange(5943,5951).addRange(5972,5983).addRange(6004,6015).addRange(6110,6111).addRange(6122,6127).addRange(6138,6143).addRange(6158,6159).addRange(6170,6175).addRange(6265,6271).addRange(6315,6319).addRange(6390,6399).addRange(6444,6447).addRange(6460,6463).addRange(6465,6467).addRange(6510,6511).addRange(6517,6527).addRange(6572,6575).addRange(6602,6607).addRange(6619,6621).addRange(6684,6685).addRange(6781,6782).addRange(6794,6799).addRange(6810,6815).addRange(6830,6831).addRange(6849,6911).addRange(6988,6991).addRange(7037,7039).addRange(7156,7163).addRange(7224,7226).addRange(7242,7244).addRange(7305,7311).addRange(7355,7356).addRange(7368,7375).addRange(7419,7423).addRange(7958,7959).addRange(7966,7967).addRange(8006,8007).addRange(8014,8015).addRange(8062,8063).addRange(8148,8149).addRange(8176,8177).addRange(8203,8207).addRange(8234,8238).addRange(8288,8303).addRange(8306,8307).addRange(8349,8351).addRange(8384,8399).addRange(8433,8447),Pe.addRange(8588,8591).addRange(9255,9279).addRange(9291,9311).addRange(11124,11125).addRange(11508,11512).addRange(11560,11564).addRange(11566,11567).addRange(11624,11630).addRange(11633,11646).addRange(11671,11679).addRange(11859,11903).addRange(12020,12031).addRange(12246,12271).addRange(12284,12287).addRange(12439,12440).addRange(12544,12548).addRange(12772,12783).addRange(40957,40959).addRange(42125,42127).addRange(42183,42191).addRange(42540,42559).addRange(42744,42751).addRange(42944,42945).addRange(42955,42996).addRange(43053,43055).addRange(43066,43071).addRange(43128,43135).addRange(43206,43213).addRange(43226,43231).addRange(43348,43358).addRange(43389,43391).addRange(43482,43485).addRange(43575,43583).addRange(43598,43599).addRange(43610,43611).addRange(43715,43738).addRange(43767,43776).addRange(43783,43784).addRange(43791,43792).addRange(43799,43807).addRange(43884,43887).addRange(44014,44015).addRange(44026,44031).addRange(55204,55215).addRange(55239,55242).addRange(55292,63743).addRange(64110,64111).addRange(64218,64255).addRange(64263,64274).addRange(64280,64284).addRange(64450,64466),Pe.addRange(64832,64847).addRange(64912,64913).addRange(64968,65007).addRange(65022,65023).addRange(65050,65055).addRange(65132,65135).addRange(65277,65280).addRange(65471,65473).addRange(65480,65481).addRange(65488,65489).addRange(65496,65497).addRange(65501,65503).addRange(65519,65531).addRange(65534,65535).addRange(65614,65615).addRange(65630,65663).addRange(65787,65791).addRange(65795,65798).addRange(65844,65846).addRange(65949,65951).addRange(65953,65999).addRange(66046,66175).addRange(66205,66207).addRange(66257,66271).addRange(66300,66303).addRange(66340,66348).addRange(66379,66383).addRange(66427,66431).addRange(66500,66503).addRange(66518,66559).addRange(66718,66719).addRange(66730,66735).addRange(66772,66775).addRange(66812,66815).addRange(66856,66863).addRange(66916,66926).addRange(66928,67071).addRange(67383,67391).addRange(67414,67423).addRange(67432,67583).addRange(67590,67591).addRange(67641,67643).addRange(67645,67646).addRange(67743,67750).addRange(67760,67807).addRange(67830,67834).addRange(67868,67870).addRange(67898,67902).addRange(67904,67967).addRange(68024,68027).addRange(68048,68049),Pe.addRange(68103,68107).addRange(68150,68151).addRange(68155,68158).addRange(68169,68175).addRange(68185,68191).addRange(68256,68287).addRange(68327,68330).addRange(68343,68351).addRange(68406,68408).addRange(68438,68439).addRange(68467,68471).addRange(68498,68504).addRange(68509,68520).addRange(68528,68607).addRange(68681,68735).addRange(68787,68799).addRange(68851,68857).addRange(68904,68911).addRange(68922,69215).addRange(69294,69295).addRange(69298,69375).addRange(69416,69423).addRange(69466,69551).addRange(69580,69599).addRange(69623,69631).addRange(69710,69713).addRange(69744,69758).addRange(69826,69839).addRange(69865,69871).addRange(69882,69887).addRange(69960,69967).addRange(70007,70015).addRange(70133,70143).addRange(70207,70271).addRange(70314,70319).addRange(70379,70383).addRange(70394,70399).addRange(70413,70414).addRange(70417,70418).addRange(70469,70470).addRange(70473,70474).addRange(70478,70479).addRange(70481,70486).addRange(70488,70492).addRange(70500,70501).addRange(70509,70511).addRange(70517,70655).addRange(70754,70783).addRange(70856,70863).addRange(70874,71039).addRange(71094,71095),Pe.addRange(71134,71167).addRange(71237,71247).addRange(71258,71263).addRange(71277,71295).addRange(71353,71359).addRange(71370,71423).addRange(71451,71452).addRange(71468,71471).addRange(71488,71679).addRange(71740,71839).addRange(71923,71934).addRange(71943,71944).addRange(71946,71947).addRange(71993,71994).addRange(72007,72015).addRange(72026,72095).addRange(72104,72105).addRange(72152,72153).addRange(72165,72191).addRange(72264,72271).addRange(72355,72383).addRange(72441,72703).addRange(72774,72783).addRange(72813,72815).addRange(72848,72849).addRange(72887,72959).addRange(73015,73017).addRange(73032,73039).addRange(73050,73055).addRange(73113,73119).addRange(73130,73439).addRange(73465,73647).addRange(73649,73663).addRange(73714,73726).addRange(74650,74751).addRange(74869,74879).addRange(75076,77823).addRange(78895,82943).addRange(83527,92159).addRange(92729,92735).addRange(92778,92781).addRange(92784,92879).addRange(92910,92911).addRange(92918,92927).addRange(92998,93007).addRange(93048,93052).addRange(93072,93759).addRange(93851,93951).addRange(94027,94030).addRange(94088,94094).addRange(94112,94175),Pe.addRange(94181,94191).addRange(94194,94207).addRange(100344,100351).addRange(101590,101631).addRange(101641,110591).addRange(110879,110927).addRange(110931,110947).addRange(110952,110959).addRange(111356,113663).addRange(113771,113775).addRange(113789,113791).addRange(113801,113807).addRange(113818,113819).addRange(113824,118783).addRange(119030,119039).addRange(119079,119080).addRange(119155,119162).addRange(119273,119295).addRange(119366,119519).addRange(119540,119551).addRange(119639,119647).addRange(119673,119807).addRange(119968,119969).addRange(119971,119972).addRange(119975,119976).addRange(120075,120076).addRange(120135,120137).addRange(120486,120487).addRange(120780,120781).addRange(121484,121498).addRange(121520,122879).addRange(122905,122906).addRange(122923,123135).addRange(123181,123183).addRange(123198,123199).addRange(123210,123213).addRange(123216,123583).addRange(123642,123646).addRange(123648,124927).addRange(125125,125126).addRange(125143,125183).addRange(125260,125263).addRange(125274,125277).addRange(125280,126064).addRange(126133,126208).addRange(126270,126463).addRange(126501,126502).addRange(126524,126529).addRange(126531,126534).addRange(126549,126550).addRange(126565,126566),Pe.addRange(126620,126624).addRange(126652,126703).addRange(126706,126975).addRange(127020,127023).addRange(127124,127135).addRange(127151,127152).addRange(127222,127231).addRange(127406,127461).addRange(127491,127503).addRange(127548,127551).addRange(127561,127567).addRange(127570,127583).addRange(127590,127743).addRange(128728,128735).addRange(128749,128751).addRange(128765,128767).addRange(128884,128895).addRange(128985,128991).addRange(129004,129023).addRange(129036,129039).addRange(129096,129103).addRange(129114,129119).addRange(129160,129167).addRange(129198,129199).addRange(129202,129279).addRange(129620,129631).addRange(129646,129647).addRange(129653,129655).addRange(129659,129663).addRange(129671,129679).addRange(129705,129711).addRange(129719,129727).addRange(129731,129743).addRange(129751,129791).addRange(129995,130031).addRange(130042,131071).addRange(173790,173823).addRange(177973,177983).addRange(178206,178207).addRange(183970,183983).addRange(191457,194559).addRange(195102,196607).addRange(201547,917759).addRange(918e3,1114111),_e.exports=Pe},61453:function(_e,be,Te){const Pe=Te(78776)(170,186,443,660,1749,1791,1808,1969,2365,2384,2482,2493,2510,2556,2654,2749,2768,2809,2877,2929,2947,2972,3024,3133,3200,3261,3294,3389,3406,3517,3716,3749,3773,3840,4159,4193,4238,4696,4800,6108,6314,7418,12294,12348,12447,12543,42606,42895,42999,43259,43642,43697,43712,43714,43762,64285,64318,67592,67644,68096,69415,69956,69959,70006,70106,70108,70280,70461,70480,70855,71236,71352,71945,71999,72001,72161,72163,72192,72250,72272,72349,72768,73030,73112,73648,94032,123214,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590);Pe.addRange(448,451).addRange(1488,1514).addRange(1519,1522).addRange(1568,1599).addRange(1601,1610).addRange(1646,1647).addRange(1649,1747).addRange(1774,1775).addRange(1786,1788).addRange(1810,1839).addRange(1869,1957).addRange(1994,2026).addRange(2048,2069).addRange(2112,2136).addRange(2144,2154).addRange(2208,2228).addRange(2230,2247).addRange(2308,2361).addRange(2392,2401).addRange(2418,2432).addRange(2437,2444).addRange(2447,2448).addRange(2451,2472).addRange(2474,2480).addRange(2486,2489).addRange(2524,2525).addRange(2527,2529).addRange(2544,2545).addRange(2565,2570).addRange(2575,2576).addRange(2579,2600).addRange(2602,2608).addRange(2610,2611).addRange(2613,2614).addRange(2616,2617).addRange(2649,2652).addRange(2674,2676).addRange(2693,2701).addRange(2703,2705).addRange(2707,2728).addRange(2730,2736).addRange(2738,2739).addRange(2741,2745).addRange(2784,2785).addRange(2821,2828).addRange(2831,2832).addRange(2835,2856).addRange(2858,2864).addRange(2866,2867).addRange(2869,2873).addRange(2908,2909),Pe.addRange(2911,2913).addRange(2949,2954).addRange(2958,2960).addRange(2962,2965).addRange(2969,2970).addRange(2974,2975).addRange(2979,2980).addRange(2984,2986).addRange(2990,3001).addRange(3077,3084).addRange(3086,3088).addRange(3090,3112).addRange(3114,3129).addRange(3160,3162).addRange(3168,3169).addRange(3205,3212).addRange(3214,3216).addRange(3218,3240).addRange(3242,3251).addRange(3253,3257).addRange(3296,3297).addRange(3313,3314).addRange(3332,3340).addRange(3342,3344).addRange(3346,3386).addRange(3412,3414).addRange(3423,3425).addRange(3450,3455).addRange(3461,3478).addRange(3482,3505).addRange(3507,3515).addRange(3520,3526).addRange(3585,3632).addRange(3634,3635).addRange(3648,3653).addRange(3713,3714).addRange(3718,3722).addRange(3724,3747).addRange(3751,3760).addRange(3762,3763).addRange(3776,3780).addRange(3804,3807).addRange(3904,3911).addRange(3913,3948).addRange(3976,3980).addRange(4096,4138).addRange(4176,4181).addRange(4186,4189).addRange(4197,4198).addRange(4206,4208).addRange(4213,4225),Pe.addRange(4352,4680).addRange(4682,4685).addRange(4688,4694).addRange(4698,4701).addRange(4704,4744).addRange(4746,4749).addRange(4752,4784).addRange(4786,4789).addRange(4792,4798).addRange(4802,4805).addRange(4808,4822).addRange(4824,4880).addRange(4882,4885).addRange(4888,4954).addRange(4992,5007).addRange(5121,5740).addRange(5743,5759).addRange(5761,5786).addRange(5792,5866).addRange(5873,5880).addRange(5888,5900).addRange(5902,5905).addRange(5920,5937).addRange(5952,5969).addRange(5984,5996).addRange(5998,6e3).addRange(6016,6067).addRange(6176,6210).addRange(6212,6264).addRange(6272,6276).addRange(6279,6312).addRange(6320,6389).addRange(6400,6430).addRange(6480,6509).addRange(6512,6516).addRange(6528,6571).addRange(6576,6601).addRange(6656,6678).addRange(6688,6740).addRange(6917,6963).addRange(6981,6987).addRange(7043,7072).addRange(7086,7087).addRange(7098,7141).addRange(7168,7203).addRange(7245,7247).addRange(7258,7287).addRange(7401,7404).addRange(7406,7411).addRange(7413,7414).addRange(8501,8504),Pe.addRange(11568,11623).addRange(11648,11670).addRange(11680,11686).addRange(11688,11694).addRange(11696,11702).addRange(11704,11710).addRange(11712,11718).addRange(11720,11726).addRange(11728,11734).addRange(11736,11742).addRange(12353,12438).addRange(12449,12538).addRange(12549,12591).addRange(12593,12686).addRange(12704,12735).addRange(12784,12799).addRange(13312,19903).addRange(19968,40956).addRange(40960,40980).addRange(40982,42124).addRange(42192,42231).addRange(42240,42507).addRange(42512,42527).addRange(42538,42539).addRange(42656,42725).addRange(43003,43009).addRange(43011,43013).addRange(43015,43018).addRange(43020,43042).addRange(43072,43123).addRange(43138,43187).addRange(43250,43255).addRange(43261,43262).addRange(43274,43301).addRange(43312,43334).addRange(43360,43388).addRange(43396,43442).addRange(43488,43492).addRange(43495,43503).addRange(43514,43518).addRange(43520,43560).addRange(43584,43586).addRange(43588,43595).addRange(43616,43631).addRange(43633,43638).addRange(43646,43695).addRange(43701,43702).addRange(43705,43709).addRange(43739,43740).addRange(43744,43754).addRange(43777,43782),Pe.addRange(43785,43790).addRange(43793,43798).addRange(43808,43814).addRange(43816,43822).addRange(43968,44002).addRange(44032,55203).addRange(55216,55238).addRange(55243,55291).addRange(63744,64109).addRange(64112,64217).addRange(64287,64296).addRange(64298,64310).addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64433).addRange(64467,64829).addRange(64848,64911).addRange(64914,64967).addRange(65008,65019).addRange(65136,65140).addRange(65142,65276).addRange(65382,65391).addRange(65393,65437).addRange(65440,65470).addRange(65474,65479).addRange(65482,65487).addRange(65490,65495).addRange(65498,65500).addRange(65536,65547).addRange(65549,65574).addRange(65576,65594).addRange(65596,65597).addRange(65599,65613).addRange(65616,65629).addRange(65664,65786).addRange(66176,66204).addRange(66208,66256).addRange(66304,66335).addRange(66349,66368).addRange(66370,66377).addRange(66384,66421).addRange(66432,66461).addRange(66464,66499).addRange(66504,66511).addRange(66640,66717).addRange(66816,66855).addRange(66864,66915).addRange(67072,67382).addRange(67392,67413).addRange(67424,67431),Pe.addRange(67584,67589).addRange(67594,67637).addRange(67639,67640).addRange(67647,67669).addRange(67680,67702).addRange(67712,67742).addRange(67808,67826).addRange(67828,67829).addRange(67840,67861).addRange(67872,67897).addRange(67968,68023).addRange(68030,68031).addRange(68112,68115).addRange(68117,68119).addRange(68121,68149).addRange(68192,68220).addRange(68224,68252).addRange(68288,68295).addRange(68297,68324).addRange(68352,68405).addRange(68416,68437).addRange(68448,68466).addRange(68480,68497).addRange(68608,68680).addRange(68864,68899).addRange(69248,69289).addRange(69296,69297).addRange(69376,69404).addRange(69424,69445).addRange(69552,69572).addRange(69600,69622).addRange(69635,69687).addRange(69763,69807).addRange(69840,69864).addRange(69891,69926).addRange(69968,70002).addRange(70019,70066).addRange(70081,70084).addRange(70144,70161).addRange(70163,70187).addRange(70272,70278).addRange(70282,70285).addRange(70287,70301).addRange(70303,70312).addRange(70320,70366).addRange(70405,70412).addRange(70415,70416).addRange(70419,70440).addRange(70442,70448).addRange(70450,70451).addRange(70453,70457),Pe.addRange(70493,70497).addRange(70656,70708).addRange(70727,70730).addRange(70751,70753).addRange(70784,70831).addRange(70852,70853).addRange(71040,71086).addRange(71128,71131).addRange(71168,71215).addRange(71296,71338).addRange(71424,71450).addRange(71680,71723).addRange(71935,71942).addRange(71948,71955).addRange(71957,71958).addRange(71960,71983).addRange(72096,72103).addRange(72106,72144).addRange(72203,72242).addRange(72284,72329).addRange(72384,72440).addRange(72704,72712).addRange(72714,72750).addRange(72818,72847).addRange(72960,72966).addRange(72968,72969).addRange(72971,73008).addRange(73056,73061).addRange(73063,73064).addRange(73066,73097).addRange(73440,73458).addRange(73728,74649).addRange(74880,75075).addRange(77824,78894).addRange(82944,83526).addRange(92160,92728).addRange(92736,92766).addRange(92880,92909).addRange(92928,92975).addRange(93027,93047).addRange(93053,93071).addRange(93952,94026).addRange(94208,100343).addRange(100352,101589).addRange(101632,101640).addRange(110592,110878).addRange(110928,110930).addRange(110948,110951).addRange(110960,111355).addRange(113664,113770).addRange(113776,113788),Pe.addRange(113792,113800).addRange(113808,113817).addRange(123136,123180).addRange(123584,123627).addRange(124928,125124).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627).addRange(126629,126633).addRange(126635,126651).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546),_e.exports=Pe},88795:function(_e,be,Te){const Pe=Te(78776)(185,6618,8304,8585,11517);Pe.addRange(178,179).addRange(188,190).addRange(2548,2553).addRange(2930,2935).addRange(3056,3058).addRange(3192,3198).addRange(3416,3422).addRange(3440,3448).addRange(3882,3891).addRange(4969,4988).addRange(6128,6137).addRange(8308,8313).addRange(8320,8329).addRange(8528,8543).addRange(9312,9371).addRange(9450,9471).addRange(10102,10131).addRange(12690,12693).addRange(12832,12841).addRange(12872,12879).addRange(12881,12895).addRange(12928,12937).addRange(12977,12991).addRange(43056,43061).addRange(65799,65843).addRange(65909,65912).addRange(65930,65931).addRange(66273,66299).addRange(66336,66339).addRange(67672,67679).addRange(67705,67711).addRange(67751,67759).addRange(67835,67839).addRange(67862,67867).addRange(68028,68029).addRange(68032,68047).addRange(68050,68095).addRange(68160,68168).addRange(68221,68222).addRange(68253,68255).addRange(68331,68335).addRange(68440,68447).addRange(68472,68479).addRange(68521,68527).addRange(68858,68863).addRange(69216,69246).addRange(69405,69414).addRange(69457,69460).addRange(69573,69579).addRange(69714,69733).addRange(70113,70132),Pe.addRange(71482,71483).addRange(71914,71922).addRange(72794,72812).addRange(73664,73684).addRange(93019,93025).addRange(93824,93846).addRange(119520,119539).addRange(119648,119672).addRange(125127,125135).addRange(126065,126123).addRange(126125,126127).addRange(126129,126132).addRange(126209,126253).addRange(126255,126269).addRange(127232,127244),_e.exports=Pe},47221:function(_e,be,Te){const Pe=Te(78776)(42,44,92,161,167,191,894,903,1417,1472,1475,1478,1563,1748,2142,2416,2557,2678,2800,3191,3204,3572,3663,3860,3973,4347,5742,7379,8275,11632,11787,11803,11841,11858,12349,12539,42611,42622,43260,43359,44011,65049,65072,65128,65290,65292,65340,65377,66463,66512,66927,67671,67871,67903,68223,70093,70107,70313,70749,70854,71739,72162,73727,92917,92996,94178,113823);Pe.addRange(33,35).addRange(37,39).addRange(46,47).addRange(58,59).addRange(63,64).addRange(182,183).addRange(1370,1375).addRange(1523,1524).addRange(1545,1546).addRange(1548,1549).addRange(1566,1567).addRange(1642,1645).addRange(1792,1805).addRange(2039,2041).addRange(2096,2110).addRange(2404,2405).addRange(3674,3675).addRange(3844,3858).addRange(4048,4052).addRange(4057,4058).addRange(4170,4175).addRange(4960,4968).addRange(5867,5869).addRange(5941,5942).addRange(6100,6102).addRange(6104,6106).addRange(6144,6149).addRange(6151,6154).addRange(6468,6469).addRange(6686,6687).addRange(6816,6822).addRange(6824,6829).addRange(7002,7008).addRange(7164,7167).addRange(7227,7231).addRange(7294,7295).addRange(7360,7367).addRange(8214,8215).addRange(8224,8231).addRange(8240,8248).addRange(8251,8254).addRange(8257,8259).addRange(8263,8273).addRange(8277,8286).addRange(11513,11516).addRange(11518,11519).addRange(11776,11777).addRange(11782,11784).addRange(11790,11798).addRange(11800,11801).addRange(11806,11807),Pe.addRange(11818,11822).addRange(11824,11833).addRange(11836,11839).addRange(11843,11855).addRange(12289,12291).addRange(42238,42239).addRange(42509,42511).addRange(42738,42743).addRange(43124,43127).addRange(43214,43215).addRange(43256,43258).addRange(43310,43311).addRange(43457,43469).addRange(43486,43487).addRange(43612,43615).addRange(43742,43743).addRange(43760,43761).addRange(65040,65046).addRange(65093,65094).addRange(65097,65100).addRange(65104,65106).addRange(65108,65111).addRange(65119,65121).addRange(65130,65131).addRange(65281,65283).addRange(65285,65287).addRange(65294,65295).addRange(65306,65307).addRange(65311,65312).addRange(65380,65381).addRange(65792,65794).addRange(68176,68184).addRange(68336,68342).addRange(68409,68415).addRange(68505,68508).addRange(69461,69465).addRange(69703,69709).addRange(69819,69820).addRange(69822,69825).addRange(69952,69955).addRange(70004,70005).addRange(70085,70088).addRange(70109,70111).addRange(70200,70205).addRange(70731,70735).addRange(70746,70747).addRange(71105,71127).addRange(71233,71235).addRange(71264,71276).addRange(71484,71486).addRange(72004,72006),Pe.addRange(72255,72262).addRange(72346,72348).addRange(72350,72354).addRange(72769,72773).addRange(72816,72817).addRange(73463,73464).addRange(74864,74868).addRange(92782,92783).addRange(92983,92987).addRange(93847,93850).addRange(121479,121483).addRange(125278,125279),_e.exports=Pe},66733:function(_e,be,Te){const Pe=Te(78776)(166,169,174,176,1154,1758,1769,2038,2554,2928,3066,3199,3407,3449,3859,3892,3894,3896,5741,6464,8468,8485,8487,8489,8494,8522,8527,8659,12292,12320,12880,43065,65021,65508,65512,65952,68296,71487,92997,113820,119365,123215,126124,126254);Pe.addRange(1421,1422).addRange(1550,1551).addRange(1789,1790).addRange(3059,3064).addRange(3841,3843).addRange(3861,3863).addRange(3866,3871).addRange(4030,4037).addRange(4039,4044).addRange(4046,4047).addRange(4053,4056).addRange(4254,4255).addRange(5008,5017).addRange(6622,6655).addRange(7009,7018).addRange(7028,7036).addRange(8448,8449).addRange(8451,8454).addRange(8456,8457).addRange(8470,8471).addRange(8478,8483).addRange(8506,8507).addRange(8524,8525).addRange(8586,8587).addRange(8597,8601).addRange(8604,8607).addRange(8609,8610).addRange(8612,8613).addRange(8615,8621).addRange(8623,8653).addRange(8656,8657).addRange(8661,8691).addRange(8960,8967).addRange(8972,8991).addRange(8994,9e3).addRange(9003,9083).addRange(9085,9114).addRange(9140,9179).addRange(9186,9254).addRange(9280,9290).addRange(9372,9449).addRange(9472,9654).addRange(9656,9664).addRange(9666,9719).addRange(9728,9838).addRange(9840,10087).addRange(10132,10175).addRange(10240,10495).addRange(11008,11055).addRange(11077,11078).addRange(11085,11123),Pe.addRange(11126,11157).addRange(11159,11263).addRange(11493,11498).addRange(11856,11857).addRange(11904,11929).addRange(11931,12019).addRange(12032,12245).addRange(12272,12283).addRange(12306,12307).addRange(12342,12343).addRange(12350,12351).addRange(12688,12689).addRange(12694,12703).addRange(12736,12771).addRange(12800,12830).addRange(12842,12871).addRange(12896,12927).addRange(12938,12976).addRange(12992,13311).addRange(19904,19967).addRange(42128,42182).addRange(43048,43051).addRange(43062,43063).addRange(43639,43641).addRange(65517,65518).addRange(65532,65533).addRange(65847,65855).addRange(65913,65929).addRange(65932,65934).addRange(65936,65948).addRange(66e3,66044).addRange(67703,67704).addRange(73685,73692).addRange(73697,73713).addRange(92988,92991).addRange(118784,119029).addRange(119040,119078).addRange(119081,119140).addRange(119146,119148).addRange(119171,119172).addRange(119180,119209).addRange(119214,119272).addRange(119296,119361).addRange(119552,119638).addRange(120832,121343).addRange(121399,121402).addRange(121453,121460).addRange(121462,121475).addRange(121477,121478).addRange(126976,127019).addRange(127024,127123),Pe.addRange(127136,127150).addRange(127153,127167).addRange(127169,127183).addRange(127185,127221).addRange(127245,127405).addRange(127462,127490).addRange(127504,127547).addRange(127552,127560).addRange(127568,127569).addRange(127584,127589).addRange(127744,127994).addRange(128e3,128727).addRange(128736,128748).addRange(128752,128764).addRange(128768,128883).addRange(128896,128984).addRange(128992,129003).addRange(129024,129035).addRange(129040,129095).addRange(129104,129113).addRange(129120,129159).addRange(129168,129197).addRange(129200,129201).addRange(129280,129400).addRange(129402,129483).addRange(129485,129619).addRange(129632,129645).addRange(129648,129652).addRange(129656,129658).addRange(129664,129670).addRange(129680,129704).addRange(129712,129718).addRange(129728,129730).addRange(129744,129750).addRange(129792,129938).addRange(129940,129994),_e.exports=Pe},12600:function(_e,be,Te){const Pe=Te(78776)(8233);_e.exports=Pe},61704:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(57344,63743).addRange(983040,1048573).addRange(1048576,1114109),_e.exports=Pe},36290:function(_e,be,Te){const Pe=Te(78776)(95,123,125,161,167,171,187,191,894,903,1470,1472,1475,1478,1563,1748,2142,2416,2557,2678,2800,3191,3204,3572,3663,3860,3973,4347,5120,5742,7379,11632,11858,12336,12349,12448,12539,42611,42622,43260,43359,44011,65123,65128,65343,65371,65373,66463,66512,66927,67671,67871,67903,68223,69293,70093,70107,70313,70749,70854,71739,72162,73727,92917,92996,94178,113823);Pe.addRange(33,35).addRange(37,42).addRange(44,47).addRange(58,59).addRange(63,64).addRange(91,93).addRange(182,183).addRange(1370,1375).addRange(1417,1418).addRange(1523,1524).addRange(1545,1546).addRange(1548,1549).addRange(1566,1567).addRange(1642,1645).addRange(1792,1805).addRange(2039,2041).addRange(2096,2110).addRange(2404,2405).addRange(3674,3675).addRange(3844,3858).addRange(3898,3901).addRange(4048,4052).addRange(4057,4058).addRange(4170,4175).addRange(4960,4968).addRange(5787,5788).addRange(5867,5869).addRange(5941,5942).addRange(6100,6102).addRange(6104,6106).addRange(6144,6154).addRange(6468,6469).addRange(6686,6687).addRange(6816,6822).addRange(6824,6829).addRange(7002,7008).addRange(7164,7167).addRange(7227,7231).addRange(7294,7295).addRange(7360,7367).addRange(8208,8231).addRange(8240,8259).addRange(8261,8273).addRange(8275,8286).addRange(8317,8318).addRange(8333,8334).addRange(8968,8971).addRange(9001,9002).addRange(10088,10101).addRange(10181,10182).addRange(10214,10223),Pe.addRange(10627,10648).addRange(10712,10715).addRange(10748,10749).addRange(11513,11516).addRange(11518,11519).addRange(11776,11822).addRange(11824,11855).addRange(12289,12291).addRange(12296,12305).addRange(12308,12319).addRange(42238,42239).addRange(42509,42511).addRange(42738,42743).addRange(43124,43127).addRange(43214,43215).addRange(43256,43258).addRange(43310,43311).addRange(43457,43469).addRange(43486,43487).addRange(43612,43615).addRange(43742,43743).addRange(43760,43761).addRange(64830,64831).addRange(65040,65049).addRange(65072,65106).addRange(65108,65121).addRange(65130,65131).addRange(65281,65283).addRange(65285,65290).addRange(65292,65295).addRange(65306,65307).addRange(65311,65312).addRange(65339,65341).addRange(65375,65381).addRange(65792,65794).addRange(68176,68184).addRange(68336,68342).addRange(68409,68415).addRange(68505,68508).addRange(69461,69465).addRange(69703,69709).addRange(69819,69820).addRange(69822,69825).addRange(69952,69955).addRange(70004,70005).addRange(70085,70088).addRange(70109,70111).addRange(70200,70205).addRange(70731,70735).addRange(70746,70747).addRange(71105,71127),Pe.addRange(71233,71235).addRange(71264,71276).addRange(71484,71486).addRange(72004,72006).addRange(72255,72262).addRange(72346,72348).addRange(72350,72354).addRange(72769,72773).addRange(72816,72817).addRange(73463,73464).addRange(74864,74868).addRange(92782,92783).addRange(92983,92987).addRange(93847,93850).addRange(121479,121483).addRange(125278,125279),_e.exports=Pe},64661:function(_e,be,Te){const Pe=Te(78776)(32,160,5760,8239,8287,12288);Pe.addRange(8192,8202).addRange(8232,8233),_e.exports=Pe},54343:function(_e,be,Te){const Pe=Te(78776)(32,160,5760,8239,8287,12288);Pe.addRange(8192,8202),_e.exports=Pe},11276:function(_e,be,Te){const Pe=Te(78776)(2307,2363,2519,2563,2691,2761,2878,2880,2903,3031,3262,3415,3967,4145,4152,4239,6070,6741,6743,6753,6916,6965,6971,7042,7073,7082,7143,7150,7393,7415,43047,43395,43597,43643,43645,43755,43765,44012,69632,69634,69762,69932,70018,70094,70197,70487,70725,70841,70849,71102,71230,71340,71350,71462,71736,71997,72e3,72002,72164,72249,72343,72751,72766,72873,72881,72884,73110);Pe.addRange(2366,2368).addRange(2377,2380).addRange(2382,2383).addRange(2434,2435).addRange(2494,2496).addRange(2503,2504).addRange(2507,2508).addRange(2622,2624).addRange(2750,2752).addRange(2763,2764).addRange(2818,2819).addRange(2887,2888).addRange(2891,2892).addRange(3006,3007).addRange(3009,3010).addRange(3014,3016).addRange(3018,3020).addRange(3073,3075).addRange(3137,3140).addRange(3202,3203).addRange(3264,3268).addRange(3271,3272).addRange(3274,3275).addRange(3285,3286).addRange(3330,3331).addRange(3390,3392).addRange(3398,3400).addRange(3402,3404).addRange(3458,3459).addRange(3535,3537).addRange(3544,3551).addRange(3570,3571).addRange(3902,3903).addRange(4139,4140).addRange(4155,4156).addRange(4182,4183).addRange(4194,4196).addRange(4199,4205).addRange(4227,4228).addRange(4231,4236).addRange(4250,4252).addRange(6078,6085).addRange(6087,6088).addRange(6435,6438).addRange(6441,6443).addRange(6448,6449).addRange(6451,6456).addRange(6681,6682).addRange(6755,6756).addRange(6765,6770).addRange(6973,6977),Pe.addRange(6979,6980).addRange(7078,7079).addRange(7146,7148).addRange(7154,7155).addRange(7204,7211).addRange(7220,7221).addRange(12334,12335).addRange(43043,43044).addRange(43136,43137).addRange(43188,43203).addRange(43346,43347).addRange(43444,43445).addRange(43450,43451).addRange(43454,43456).addRange(43567,43568).addRange(43571,43572).addRange(43758,43759).addRange(44003,44004).addRange(44006,44007).addRange(44009,44010).addRange(69808,69810).addRange(69815,69816).addRange(69957,69958).addRange(70067,70069).addRange(70079,70080).addRange(70188,70190).addRange(70194,70195).addRange(70368,70370).addRange(70402,70403).addRange(70462,70463).addRange(70465,70468).addRange(70471,70472).addRange(70475,70477).addRange(70498,70499).addRange(70709,70711).addRange(70720,70721).addRange(70832,70834).addRange(70843,70846).addRange(71087,71089).addRange(71096,71099).addRange(71216,71218).addRange(71227,71228).addRange(71342,71343).addRange(71456,71457).addRange(71724,71726).addRange(71984,71989).addRange(71991,71992).addRange(72145,72147).addRange(72156,72159).addRange(72279,72280).addRange(73098,73102),Pe.addRange(73107,73108).addRange(73461,73462).addRange(94033,94087).addRange(94192,94193).addRange(119141,119142).addRange(119149,119154),_e.exports=Pe},93474:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(55296,57343),_e.exports=Pe},54581:function(_e,be,Te){const Pe=Te(78776)(36,43,94,96,124,126,172,180,184,215,247,749,885,1014,1154,1547,1758,1769,2038,2801,2928,3199,3407,3449,3647,3859,3892,3894,3896,5741,6107,6464,8125,8260,8274,8468,8485,8487,8489,8494,8527,12292,12320,12880,43867,64297,65122,65129,65284,65291,65342,65344,65372,65374,65952,68296,71487,92997,113820,119365,120513,120539,120571,120597,120629,120655,120687,120713,120745,120771,123215,123647,126124,126128,126254);Pe.addRange(60,62).addRange(162,166).addRange(168,169).addRange(174,177).addRange(706,709).addRange(722,735).addRange(741,747).addRange(751,767).addRange(900,901).addRange(1421,1423).addRange(1542,1544).addRange(1550,1551).addRange(1789,1790).addRange(2046,2047).addRange(2546,2547).addRange(2554,2555).addRange(3059,3066).addRange(3841,3843).addRange(3861,3863).addRange(3866,3871).addRange(4030,4037).addRange(4039,4044).addRange(4046,4047).addRange(4053,4056).addRange(4254,4255).addRange(5008,5017).addRange(6622,6655).addRange(7009,7018).addRange(7028,7036).addRange(8127,8129).addRange(8141,8143).addRange(8157,8159).addRange(8173,8175).addRange(8189,8190).addRange(8314,8316).addRange(8330,8332).addRange(8352,8383).addRange(8448,8449).addRange(8451,8454).addRange(8456,8457).addRange(8470,8472).addRange(8478,8483).addRange(8506,8507).addRange(8512,8516).addRange(8522,8525).addRange(8586,8587).addRange(8592,8967).addRange(8972,9e3).addRange(9003,9254).addRange(9280,9290).addRange(9372,9449),Pe.addRange(9472,10087).addRange(10132,10180).addRange(10183,10213).addRange(10224,10626).addRange(10649,10711).addRange(10716,10747).addRange(10750,11123).addRange(11126,11157).addRange(11159,11263).addRange(11493,11498).addRange(11856,11857).addRange(11904,11929).addRange(11931,12019).addRange(12032,12245).addRange(12272,12283).addRange(12306,12307).addRange(12342,12343).addRange(12350,12351).addRange(12443,12444).addRange(12688,12689).addRange(12694,12703).addRange(12736,12771).addRange(12800,12830).addRange(12842,12871).addRange(12896,12927).addRange(12938,12976).addRange(12992,13311).addRange(19904,19967).addRange(42128,42182).addRange(42752,42774).addRange(42784,42785).addRange(42889,42890).addRange(43048,43051).addRange(43062,43065).addRange(43639,43641).addRange(43882,43883).addRange(64434,64449).addRange(65020,65021).addRange(65124,65126).addRange(65308,65310).addRange(65504,65510).addRange(65512,65518).addRange(65532,65533).addRange(65847,65855).addRange(65913,65929).addRange(65932,65934).addRange(65936,65948).addRange(66e3,66044).addRange(67703,67704).addRange(73685,73713).addRange(92988,92991),Pe.addRange(118784,119029).addRange(119040,119078).addRange(119081,119140).addRange(119146,119148).addRange(119171,119172).addRange(119180,119209).addRange(119214,119272).addRange(119296,119361).addRange(119552,119638).addRange(120832,121343).addRange(121399,121402).addRange(121453,121460).addRange(121462,121475).addRange(121477,121478).addRange(126704,126705).addRange(126976,127019).addRange(127024,127123).addRange(127136,127150).addRange(127153,127167).addRange(127169,127183).addRange(127185,127221).addRange(127245,127405).addRange(127462,127490).addRange(127504,127547).addRange(127552,127560).addRange(127568,127569).addRange(127584,127589).addRange(127744,128727).addRange(128736,128748).addRange(128752,128764).addRange(128768,128883).addRange(128896,128984).addRange(128992,129003).addRange(129024,129035).addRange(129040,129095).addRange(129104,129113).addRange(129120,129159).addRange(129168,129197).addRange(129200,129201).addRange(129280,129400).addRange(129402,129483).addRange(129485,129619).addRange(129632,129645).addRange(129648,129652).addRange(129656,129658).addRange(129664,129670).addRange(129680,129704).addRange(129712,129718).addRange(129728,129730).addRange(129744,129750).addRange(129792,129938),Pe.addRange(129940,129994),_e.exports=Pe},8550:function(_e,be,Te){const Pe=Te(78776)(453,456,459,498,8124,8140,8188);Pe.addRange(8072,8079).addRange(8088,8095).addRange(8104,8111),_e.exports=Pe},22525:function(_e,be,Te){const Pe=Te(78776)(907,909,930,1328,1424,1565,1806,2111,2143,2229,2436,2473,2481,2526,2564,2601,2609,2612,2615,2621,2653,2692,2702,2706,2729,2737,2740,2758,2762,2816,2820,2857,2865,2868,2910,2948,2961,2971,2973,3017,3085,3089,3113,3141,3145,3159,3213,3217,3241,3252,3269,3273,3295,3312,3341,3345,3397,3401,3456,3460,3506,3516,3541,3543,3715,3717,3723,3748,3750,3781,3783,3912,3992,4029,4045,4294,4681,4695,4697,4745,4785,4799,4801,4823,4881,5901,5997,6001,6159,6431,6751,7674,8024,8026,8028,8030,8117,8133,8156,8181,8191,8293,8335,11158,11311,11359,11558,11687,11695,11703,11711,11719,11727,11735,11743,11930,12352,12592,12687,12831,43470,43519,43815,43823,64311,64317,64319,64322,64325,65107,65127,65141,65280,65511,65548,65575,65595,65598,65935,66462,67593,67638,67670,67827,68100,68116,68120,69247,69290,69941,70112,70162,70279,70281,70286,70302,70404,70441,70449,70452,70458,70748,71956,71959,71990,72713,72759,72872,72967,72970,73019,73022,73062,73065,73103,73106,74863,78895,92767,93018,93026,119893,119965,119981,119994,119996,120004,120070,120085,120093,120122,120127,120133,120145,121504,122887,122914,122917,126468,126496,126499,126504,126515,126520,126522,126536,126538,126540,126544,126547,126552,126554,126556,126558,126560,126563,126571,126579,126584,126589,126591,126602,126628,126634,127168,127184,129401,129484,129939);Pe.addRange(888,889).addRange(896,899).addRange(1367,1368).addRange(1419,1420).addRange(1480,1487).addRange(1515,1518).addRange(1525,1535).addRange(1867,1868).addRange(1970,1983).addRange(2043,2044).addRange(2094,2095).addRange(2140,2141).addRange(2155,2207).addRange(2248,2258).addRange(2445,2446).addRange(2449,2450).addRange(2483,2485).addRange(2490,2491).addRange(2501,2502).addRange(2505,2506).addRange(2511,2518).addRange(2520,2523).addRange(2532,2533).addRange(2559,2560).addRange(2571,2574).addRange(2577,2578).addRange(2618,2619).addRange(2627,2630).addRange(2633,2634).addRange(2638,2640).addRange(2642,2648).addRange(2655,2661).addRange(2679,2688).addRange(2746,2747).addRange(2766,2767).addRange(2769,2783).addRange(2788,2789).addRange(2802,2808).addRange(2829,2830).addRange(2833,2834).addRange(2874,2875).addRange(2885,2886).addRange(2889,2890).addRange(2894,2900).addRange(2904,2907).addRange(2916,2917).addRange(2936,2945).addRange(2955,2957).addRange(2966,2968).addRange(2976,2978).addRange(2981,2983),Pe.addRange(2987,2989).addRange(3002,3005).addRange(3011,3013).addRange(3022,3023).addRange(3025,3030).addRange(3032,3045).addRange(3067,3071).addRange(3130,3132).addRange(3150,3156).addRange(3163,3167).addRange(3172,3173).addRange(3184,3190).addRange(3258,3259).addRange(3278,3284).addRange(3287,3293).addRange(3300,3301).addRange(3315,3327).addRange(3408,3411).addRange(3428,3429).addRange(3479,3481).addRange(3518,3519).addRange(3527,3529).addRange(3531,3534).addRange(3552,3557).addRange(3568,3569).addRange(3573,3584).addRange(3643,3646).addRange(3676,3712).addRange(3774,3775).addRange(3790,3791).addRange(3802,3803).addRange(3808,3839).addRange(3949,3952).addRange(4059,4095).addRange(4296,4300).addRange(4302,4303).addRange(4686,4687).addRange(4702,4703).addRange(4750,4751).addRange(4790,4791).addRange(4806,4807).addRange(4886,4887).addRange(4955,4956).addRange(4989,4991).addRange(5018,5023).addRange(5110,5111).addRange(5118,5119).addRange(5789,5791).addRange(5881,5887).addRange(5909,5919).addRange(5943,5951),Pe.addRange(5972,5983).addRange(6004,6015).addRange(6110,6111).addRange(6122,6127).addRange(6138,6143).addRange(6170,6175).addRange(6265,6271).addRange(6315,6319).addRange(6390,6399).addRange(6444,6447).addRange(6460,6463).addRange(6465,6467).addRange(6510,6511).addRange(6517,6527).addRange(6572,6575).addRange(6602,6607).addRange(6619,6621).addRange(6684,6685).addRange(6781,6782).addRange(6794,6799).addRange(6810,6815).addRange(6830,6831).addRange(6849,6911).addRange(6988,6991).addRange(7037,7039).addRange(7156,7163).addRange(7224,7226).addRange(7242,7244).addRange(7305,7311).addRange(7355,7356).addRange(7368,7375).addRange(7419,7423).addRange(7958,7959).addRange(7966,7967).addRange(8006,8007).addRange(8014,8015).addRange(8062,8063).addRange(8148,8149).addRange(8176,8177).addRange(8306,8307).addRange(8349,8351).addRange(8384,8399).addRange(8433,8447).addRange(8588,8591).addRange(9255,9279).addRange(9291,9311).addRange(11124,11125).addRange(11508,11512).addRange(11560,11564).addRange(11566,11567).addRange(11624,11630),Pe.addRange(11633,11646).addRange(11671,11679).addRange(11859,11903).addRange(12020,12031).addRange(12246,12271).addRange(12284,12287).addRange(12439,12440).addRange(12544,12548).addRange(12772,12783).addRange(40957,40959).addRange(42125,42127).addRange(42183,42191).addRange(42540,42559).addRange(42744,42751).addRange(42944,42945).addRange(42955,42996).addRange(43053,43055).addRange(43066,43071).addRange(43128,43135).addRange(43206,43213).addRange(43226,43231).addRange(43348,43358).addRange(43389,43391).addRange(43482,43485).addRange(43575,43583).addRange(43598,43599).addRange(43610,43611).addRange(43715,43738).addRange(43767,43776).addRange(43783,43784).addRange(43791,43792).addRange(43799,43807).addRange(43884,43887).addRange(44014,44015).addRange(44026,44031).addRange(55204,55215).addRange(55239,55242).addRange(55292,55295).addRange(64110,64111).addRange(64218,64255).addRange(64263,64274).addRange(64280,64284).addRange(64450,64466).addRange(64832,64847).addRange(64912,64913).addRange(64968,65007).addRange(65022,65023).addRange(65050,65055).addRange(65132,65135).addRange(65277,65278).addRange(65471,65473),Pe.addRange(65480,65481).addRange(65488,65489).addRange(65496,65497).addRange(65501,65503).addRange(65519,65528).addRange(65534,65535).addRange(65614,65615).addRange(65630,65663).addRange(65787,65791).addRange(65795,65798).addRange(65844,65846).addRange(65949,65951).addRange(65953,65999).addRange(66046,66175).addRange(66205,66207).addRange(66257,66271).addRange(66300,66303).addRange(66340,66348).addRange(66379,66383).addRange(66427,66431).addRange(66500,66503).addRange(66518,66559).addRange(66718,66719).addRange(66730,66735).addRange(66772,66775).addRange(66812,66815).addRange(66856,66863).addRange(66916,66926).addRange(66928,67071).addRange(67383,67391).addRange(67414,67423).addRange(67432,67583).addRange(67590,67591).addRange(67641,67643).addRange(67645,67646).addRange(67743,67750).addRange(67760,67807).addRange(67830,67834).addRange(67868,67870).addRange(67898,67902).addRange(67904,67967).addRange(68024,68027).addRange(68048,68049).addRange(68103,68107).addRange(68150,68151).addRange(68155,68158).addRange(68169,68175).addRange(68185,68191).addRange(68256,68287).addRange(68327,68330).addRange(68343,68351),Pe.addRange(68406,68408).addRange(68438,68439).addRange(68467,68471).addRange(68498,68504).addRange(68509,68520).addRange(68528,68607).addRange(68681,68735).addRange(68787,68799).addRange(68851,68857).addRange(68904,68911).addRange(68922,69215).addRange(69294,69295).addRange(69298,69375).addRange(69416,69423).addRange(69466,69551).addRange(69580,69599).addRange(69623,69631).addRange(69710,69713).addRange(69744,69758).addRange(69826,69836).addRange(69838,69839).addRange(69865,69871).addRange(69882,69887).addRange(69960,69967).addRange(70007,70015).addRange(70133,70143).addRange(70207,70271).addRange(70314,70319).addRange(70379,70383).addRange(70394,70399).addRange(70413,70414).addRange(70417,70418).addRange(70469,70470).addRange(70473,70474).addRange(70478,70479).addRange(70481,70486).addRange(70488,70492).addRange(70500,70501).addRange(70509,70511).addRange(70517,70655).addRange(70754,70783).addRange(70856,70863).addRange(70874,71039).addRange(71094,71095).addRange(71134,71167).addRange(71237,71247).addRange(71258,71263).addRange(71277,71295).addRange(71353,71359).addRange(71370,71423).addRange(71451,71452),Pe.addRange(71468,71471).addRange(71488,71679).addRange(71740,71839).addRange(71923,71934).addRange(71943,71944).addRange(71946,71947).addRange(71993,71994).addRange(72007,72015).addRange(72026,72095).addRange(72104,72105).addRange(72152,72153).addRange(72165,72191).addRange(72264,72271).addRange(72355,72383).addRange(72441,72703).addRange(72774,72783).addRange(72813,72815).addRange(72848,72849).addRange(72887,72959).addRange(73015,73017).addRange(73032,73039).addRange(73050,73055).addRange(73113,73119).addRange(73130,73439).addRange(73465,73647).addRange(73649,73663).addRange(73714,73726).addRange(74650,74751).addRange(74869,74879).addRange(75076,77823).addRange(78905,82943).addRange(83527,92159).addRange(92729,92735).addRange(92778,92781).addRange(92784,92879).addRange(92910,92911).addRange(92918,92927).addRange(92998,93007).addRange(93048,93052).addRange(93072,93759).addRange(93851,93951).addRange(94027,94030).addRange(94088,94094).addRange(94112,94175).addRange(94181,94191).addRange(94194,94207).addRange(100344,100351).addRange(101590,101631).addRange(101641,110591).addRange(110879,110927).addRange(110931,110947),Pe.addRange(110952,110959).addRange(111356,113663).addRange(113771,113775).addRange(113789,113791).addRange(113801,113807).addRange(113818,113819).addRange(113828,118783).addRange(119030,119039).addRange(119079,119080).addRange(119273,119295).addRange(119366,119519).addRange(119540,119551).addRange(119639,119647).addRange(119673,119807).addRange(119968,119969).addRange(119971,119972).addRange(119975,119976).addRange(120075,120076).addRange(120135,120137).addRange(120486,120487).addRange(120780,120781).addRange(121484,121498).addRange(121520,122879).addRange(122905,122906).addRange(122923,123135).addRange(123181,123183).addRange(123198,123199).addRange(123210,123213).addRange(123216,123583).addRange(123642,123646).addRange(123648,124927).addRange(125125,125126).addRange(125143,125183).addRange(125260,125263).addRange(125274,125277).addRange(125280,126064).addRange(126133,126208).addRange(126270,126463).addRange(126501,126502).addRange(126524,126529).addRange(126531,126534).addRange(126549,126550).addRange(126565,126566).addRange(126620,126624).addRange(126652,126703).addRange(126706,126975).addRange(127020,127023).addRange(127124,127135).addRange(127151,127152).addRange(127222,127231).addRange(127406,127461),Pe.addRange(127491,127503).addRange(127548,127551).addRange(127561,127567).addRange(127570,127583).addRange(127590,127743).addRange(128728,128735).addRange(128749,128751).addRange(128765,128767).addRange(128884,128895).addRange(128985,128991).addRange(129004,129023).addRange(129036,129039).addRange(129096,129103).addRange(129114,129119).addRange(129160,129167).addRange(129198,129199).addRange(129202,129279).addRange(129620,129631).addRange(129646,129647).addRange(129653,129655).addRange(129659,129663).addRange(129671,129679).addRange(129705,129711).addRange(129719,129727).addRange(129731,129743).addRange(129751,129791).addRange(129995,130031).addRange(130042,131071).addRange(173790,173823).addRange(177973,177983).addRange(178206,178207).addRange(183970,183983).addRange(191457,194559).addRange(195102,196607).addRange(201547,917504).addRange(917506,917535).addRange(917632,917759).addRange(918e3,983039).addRange(1048574,1048575).addRange(1114110,1114111),_e.exports=Pe},28829:function(_e,be,Te){const Pe=Te(78776)(256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288,290,292,294,296,298,300,302,304,306,308,310,313,315,317,319,321,323,325,327,330,332,334,336,338,340,342,344,346,348,350,352,354,356,358,360,362,364,366,368,370,372,374,379,381,388,418,420,425,428,437,444,452,455,458,461,463,465,467,469,471,473,475,478,480,482,484,486,488,490,492,494,497,500,506,508,510,512,514,516,518,520,522,524,526,528,530,532,534,536,538,540,542,544,546,548,550,552,554,556,558,560,562,577,584,586,588,590,880,882,886,895,902,908,975,984,986,988,990,992,994,996,998,1e3,1002,1004,1006,1012,1015,1120,1122,1124,1126,1128,1130,1132,1134,1136,1138,1140,1142,1144,1146,1148,1150,1152,1162,1164,1166,1168,1170,1172,1174,1176,1178,1180,1182,1184,1186,1188,1190,1192,1194,1196,1198,1200,1202,1204,1206,1208,1210,1212,1214,1219,1221,1223,1225,1227,1229,1232,1234,1236,1238,1240,1242,1244,1246,1248,1250,1252,1254,1256,1258,1260,1262,1264,1266,1268,1270,1272,1274,1276,1278,1280,1282,1284,1286,1288,1290,1292,1294,1296,1298,1300,1302,1304,1306,1308,1310,1312,1314,1316,1318,1320,1322,1324,1326,4295,4301,7680,7682,7684,7686,7688,7690,7692,7694,7696,7698,7700,7702,7704,7706,7708,7710,7712,7714,7716,7718,7720,7722,7724,7726,7728,7730,7732,7734,7736,7738,7740,7742,7744,7746,7748,7750,7752,7754,7756,7758,7760,7762,7764,7766,7768,7770,7772,7774,7776,7778,7780,7782,7784,7786,7788,7790,7792,7794,7796,7798,7800,7802,7804,7806,7808,7810,7812,7814,7816,7818,7820,7822,7824,7826,7828,7838,7840,7842,7844,7846,7848,7850,7852,7854,7856,7858,7860,7862,7864,7866,7868,7870,7872,7874,7876,7878,7880,7882,7884,7886,7888,7890,7892,7894,7896,7898,7900,7902,7904,7906,7908,7910,7912,7914,7916,7918,7920,7922,7924,7926,7928,7930,7932,7934,8025,8027,8029,8031,8450,8455,8469,8484,8486,8488,8517,8579,11360,11367,11369,11371,11378,11381,11394,11396,11398,11400,11402,11404,11406,11408,11410,11412,11414,11416,11418,11420,11422,11424,11426,11428,11430,11432,11434,11436,11438,11440,11442,11444,11446,11448,11450,11452,11454,11456,11458,11460,11462,11464,11466,11468,11470,11472,11474,11476,11478,11480,11482,11484,11486,11488,11490,11499,11501,11506,42560,42562,42564,42566,42568,42570,42572,42574,42576,42578,42580,42582,42584,42586,42588,42590,42592,42594,42596,42598,42600,42602,42604,42624,42626,42628,42630,42632,42634,42636,42638,42640,42642,42644,42646,42648,42650,42786,42788,42790,42792,42794,42796,42798,42802,42804,42806,42808,42810,42812,42814,42816,42818,42820,42822,42824,42826,42828,42830,42832,42834,42836,42838,42840,42842,42844,42846,42848,42850,42852,42854,42856,42858,42860,42862,42873,42875,42880,42882,42884,42886,42891,42893,42896,42898,42902,42904,42906,42908,42910,42912,42914,42916,42918,42920,42934,42936,42938,42940,42942,42946,42953,42997,119964,119970,120134,120778);Pe.addRange(65,90).addRange(192,214).addRange(216,222).addRange(376,377).addRange(385,386).addRange(390,391).addRange(393,395).addRange(398,401).addRange(403,404).addRange(406,408).addRange(412,413).addRange(415,416).addRange(422,423).addRange(430,431).addRange(433,435).addRange(439,440).addRange(502,504).addRange(570,571).addRange(573,574).addRange(579,582).addRange(904,906).addRange(910,911).addRange(913,929).addRange(931,939).addRange(978,980).addRange(1017,1018).addRange(1021,1071).addRange(1216,1217).addRange(1329,1366).addRange(4256,4293).addRange(5024,5109).addRange(7312,7354).addRange(7357,7359).addRange(7944,7951).addRange(7960,7965).addRange(7976,7983).addRange(7992,7999).addRange(8008,8013).addRange(8040,8047).addRange(8120,8123).addRange(8136,8139).addRange(8152,8155).addRange(8168,8172).addRange(8184,8187).addRange(8459,8461).addRange(8464,8466).addRange(8473,8477).addRange(8490,8493).addRange(8496,8499).addRange(8510,8511).addRange(11264,11310),Pe.addRange(11362,11364).addRange(11373,11376).addRange(11390,11392).addRange(42877,42878).addRange(42922,42926).addRange(42928,42932).addRange(42948,42951).addRange(65313,65338).addRange(66560,66599).addRange(66736,66771).addRange(68736,68786).addRange(71840,71871).addRange(93760,93791).addRange(119808,119833).addRange(119860,119885).addRange(119912,119937).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119989).addRange(120016,120041).addRange(120068,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120120,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120172,120197).addRange(120224,120249).addRange(120276,120301).addRange(120328,120353).addRange(120380,120405).addRange(120432,120457).addRange(120488,120512).addRange(120546,120570).addRange(120604,120628).addRange(120662,120686).addRange(120720,120744).addRange(125184,125217),_e.exports=Pe},56129:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(125184,125259).addRange(125264,125273).addRange(125278,125279),_e.exports=Pe},50147:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(71424,71450).addRange(71453,71467).addRange(71472,71487),_e.exports=Pe},50926:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(82944,83526),_e.exports=Pe},56820:function(_e,be,Te){const Pe=Te(78776)(1564,1566,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590);Pe.addRange(1536,1540).addRange(1542,1547).addRange(1549,1562).addRange(1568,1599).addRange(1601,1610).addRange(1622,1647).addRange(1649,1756).addRange(1758,1791).addRange(1872,1919).addRange(2208,2228).addRange(2230,2247).addRange(2259,2273).addRange(2275,2303).addRange(64336,64449).addRange(64467,64829).addRange(64848,64911).addRange(64914,64967).addRange(65008,65021).addRange(65136,65140).addRange(65142,65276).addRange(69216,69246).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627).addRange(126629,126633).addRange(126635,126651).addRange(126704,126705),_e.exports=Pe},14899:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(1329,1366).addRange(1369,1418).addRange(1421,1423).addRange(64275,64279),_e.exports=Pe},69929:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68352,68405).addRange(68409,68415),_e.exports=Pe},30706:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(6912,6987).addRange(6992,7036),_e.exports=Pe},15533:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(42656,42743).addRange(92160,92728),_e.exports=Pe},89979:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(92880,92909).addRange(92912,92917),_e.exports=Pe},83765:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(7104,7155).addRange(7164,7167),_e.exports=Pe},72693:function(_e,be,Te){const Pe=Te(78776)(2482,2519);Pe.addRange(2432,2435).addRange(2437,2444).addRange(2447,2448).addRange(2451,2472).addRange(2474,2480).addRange(2486,2489).addRange(2492,2500).addRange(2503,2504).addRange(2507,2510).addRange(2524,2525).addRange(2527,2531).addRange(2534,2558),_e.exports=Pe},10236:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(72704,72712).addRange(72714,72758).addRange(72760,72773).addRange(72784,72812),_e.exports=Pe},30468:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(746,747).addRange(12549,12591).addRange(12704,12735),_e.exports=Pe},45770:function(_e,be,Te){const Pe=Te(78776)(69759);Pe.addRange(69632,69709).addRange(69714,69743),_e.exports=Pe},65529:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(10240,10495),_e.exports=Pe},74206:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(6656,6683).addRange(6686,6687),_e.exports=Pe},96208:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5952,5971),_e.exports=Pe},66700:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5120,5759).addRange(6320,6389),_e.exports=Pe},93961:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66208,66256),_e.exports=Pe},74121:function(_e,be,Te){const Pe=Te(78776)(66927);Pe.addRange(66864,66915),_e.exports=Pe},12128:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69888,69940).addRange(69942,69959),_e.exports=Pe},52189:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43520,43574).addRange(43584,43597).addRange(43600,43609).addRange(43612,43615),_e.exports=Pe},75033:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5024,5109).addRange(5112,5117).addRange(43888,43967),_e.exports=Pe},73507:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69552,69579),_e.exports=Pe},85998:function(_e,be,Te){const Pe=Te(78776)(215,247,884,894,901,903,1541,1548,1563,1567,1600,1757,2274,3647,4347,6149,7379,7393,7418,12294,12448,13055,43310,43471,43867,65279,65392,119970,119995,120134,917505);Pe.addRange(0,64).addRange(91,96).addRange(123,169).addRange(171,185).addRange(187,191).addRange(697,735).addRange(741,745).addRange(748,767).addRange(2404,2405).addRange(4053,4056).addRange(5867,5869).addRange(5941,5942).addRange(6146,6147).addRange(7401,7404).addRange(7406,7411).addRange(7413,7415).addRange(8192,8203).addRange(8206,8292).addRange(8294,8304).addRange(8308,8318).addRange(8320,8334).addRange(8352,8383).addRange(8448,8485).addRange(8487,8489).addRange(8492,8497).addRange(8499,8525).addRange(8527,8543).addRange(8585,8587).addRange(8592,9254).addRange(9280,9290).addRange(9312,10239).addRange(10496,11123).addRange(11126,11157).addRange(11159,11263).addRange(11776,11858).addRange(12272,12283).addRange(12288,12292).addRange(12296,12320).addRange(12336,12343).addRange(12348,12351).addRange(12443,12444).addRange(12539,12540).addRange(12688,12703).addRange(12736,12771).addRange(12832,12895).addRange(12927,13007).addRange(13144,13311).addRange(19904,19967).addRange(42752,42785).addRange(42888,42890).addRange(43056,43065),Pe.addRange(43882,43883).addRange(64830,64831).addRange(65040,65049).addRange(65072,65106).addRange(65108,65126).addRange(65128,65131).addRange(65281,65312).addRange(65339,65344).addRange(65371,65381).addRange(65438,65439).addRange(65504,65510).addRange(65512,65518).addRange(65529,65533).addRange(65792,65794).addRange(65799,65843).addRange(65847,65855).addRange(65936,65948).addRange(66e3,66044).addRange(66273,66299).addRange(94178,94179).addRange(113824,113827).addRange(118784,119029).addRange(119040,119078).addRange(119081,119142).addRange(119146,119162).addRange(119171,119172).addRange(119180,119209).addRange(119214,119272).addRange(119520,119539).addRange(119552,119638).addRange(119648,119672).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120779).addRange(120782,120831).addRange(126065,126132).addRange(126209,126269),Pe.addRange(126976,127019).addRange(127024,127123).addRange(127136,127150).addRange(127153,127167).addRange(127169,127183).addRange(127185,127221).addRange(127232,127405).addRange(127462,127487).addRange(127489,127490).addRange(127504,127547).addRange(127552,127560).addRange(127568,127569).addRange(127584,127589).addRange(127744,128727).addRange(128736,128748).addRange(128752,128764).addRange(128768,128883).addRange(128896,128984).addRange(128992,129003).addRange(129024,129035).addRange(129040,129095).addRange(129104,129113).addRange(129120,129159).addRange(129168,129197).addRange(129200,129201).addRange(129280,129400).addRange(129402,129483).addRange(129485,129619).addRange(129632,129645).addRange(129648,129652).addRange(129656,129658).addRange(129664,129670).addRange(129680,129704).addRange(129712,129718).addRange(129728,129730).addRange(129744,129750).addRange(129792,129938).addRange(129940,129994).addRange(130032,130041).addRange(917536,917631),_e.exports=Pe},56036:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(994,1007).addRange(11392,11507).addRange(11513,11519),_e.exports=Pe},13563:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(73728,74649).addRange(74752,74862).addRange(74864,74868).addRange(74880,75075),_e.exports=Pe},49182:function(_e,be,Te){const Pe=Te(78776)(67592,67644,67647);Pe.addRange(67584,67589).addRange(67594,67637).addRange(67639,67640),_e.exports=Pe},84087:function(_e,be,Te){const Pe=Te(78776)(7467,7544);Pe.addRange(1024,1156).addRange(1159,1327).addRange(7296,7304).addRange(11744,11775).addRange(42560,42655).addRange(65070,65071),_e.exports=Pe},48844:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66560,66639),_e.exports=Pe},35690:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2304,2384).addRange(2389,2403).addRange(2406,2431).addRange(43232,43263),_e.exports=Pe},57201:function(_e,be,Te){const Pe=Te(78776)(71945);Pe.addRange(71936,71942).addRange(71948,71955).addRange(71957,71958).addRange(71960,71989).addRange(71991,71992).addRange(71995,72006).addRange(72016,72025),_e.exports=Pe},71932:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(71680,71739),_e.exports=Pe},95187:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(113664,113770).addRange(113776,113788).addRange(113792,113800).addRange(113808,113817).addRange(113820,113823),_e.exports=Pe},49778:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(77824,78894).addRange(78896,78904),_e.exports=Pe},42781:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66816,66855),_e.exports=Pe},83103:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69600,69622),_e.exports=Pe},26672:function(_e,be,Te){const Pe=Te(78776)(4696,4800);Pe.addRange(4608,4680).addRange(4682,4685).addRange(4688,4694).addRange(4698,4701).addRange(4704,4744).addRange(4746,4749).addRange(4752,4784).addRange(4786,4789).addRange(4792,4798).addRange(4802,4805).addRange(4808,4822).addRange(4824,4880).addRange(4882,4885).addRange(4888,4954).addRange(4957,4988).addRange(4992,5017).addRange(11648,11670).addRange(11680,11686).addRange(11688,11694).addRange(11696,11702).addRange(11704,11710).addRange(11712,11718).addRange(11720,11726).addRange(11728,11734).addRange(11736,11742).addRange(43777,43782).addRange(43785,43790).addRange(43793,43798).addRange(43808,43814).addRange(43816,43822),_e.exports=Pe},73661:function(_e,be,Te){const Pe=Te(78776)(4295,4301,11559,11565);Pe.addRange(4256,4293).addRange(4304,4346).addRange(4348,4351).addRange(7312,7354).addRange(7357,7359).addRange(11520,11557),_e.exports=Pe},85857:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(11264,11310).addRange(11312,11358).addRange(122880,122886).addRange(122888,122904).addRange(122907,122913).addRange(122915,122916).addRange(122918,122922),_e.exports=Pe},32096:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66352,66378),_e.exports=Pe},71742:function(_e,be,Te){const Pe=Te(78776)(70480,70487);Pe.addRange(70400,70403).addRange(70405,70412).addRange(70415,70416).addRange(70419,70440).addRange(70442,70448).addRange(70450,70451).addRange(70453,70457).addRange(70460,70468).addRange(70471,70472).addRange(70475,70477).addRange(70493,70499).addRange(70502,70508).addRange(70512,70516),_e.exports=Pe},62199:function(_e,be,Te){const Pe=Te(78776)(895,900,902,908,7615,8025,8027,8029,8486,43877,65952);Pe.addRange(880,883).addRange(885,887).addRange(890,893).addRange(904,906).addRange(910,929).addRange(931,993).addRange(1008,1023).addRange(7462,7466).addRange(7517,7521).addRange(7526,7530).addRange(7936,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8132).addRange(8134,8147).addRange(8150,8155).addRange(8157,8175).addRange(8178,8180).addRange(8182,8190).addRange(65856,65934).addRange(119296,119365),_e.exports=Pe},11931:function(_e,be,Te){const Pe=Te(78776)(2768);Pe.addRange(2689,2691).addRange(2693,2701).addRange(2703,2705).addRange(2707,2728).addRange(2730,2736).addRange(2738,2739).addRange(2741,2745).addRange(2748,2757).addRange(2759,2761).addRange(2763,2765).addRange(2784,2787).addRange(2790,2801).addRange(2809,2815),_e.exports=Pe},27600:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(73056,73061).addRange(73063,73064).addRange(73066,73102).addRange(73104,73105).addRange(73107,73112).addRange(73120,73129),_e.exports=Pe},76482:function(_e,be,Te){const Pe=Te(78776)(2620,2641,2654);Pe.addRange(2561,2563).addRange(2565,2570).addRange(2575,2576).addRange(2579,2600).addRange(2602,2608).addRange(2610,2611).addRange(2613,2614).addRange(2616,2617).addRange(2622,2626).addRange(2631,2632).addRange(2635,2637).addRange(2649,2652).addRange(2662,2678),_e.exports=Pe},26294:function(_e,be,Te){const Pe=Te(78776)(12293,12295);Pe.addRange(11904,11929).addRange(11931,12019).addRange(12032,12245).addRange(12321,12329).addRange(12344,12347).addRange(13312,19903).addRange(19968,40956).addRange(63744,64109).addRange(64112,64217).addRange(94192,94193).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546),_e.exports=Pe},38858:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(4352,4607).addRange(12334,12335).addRange(12593,12686).addRange(12800,12830).addRange(12896,12926).addRange(43360,43388).addRange(44032,55203).addRange(55216,55238).addRange(55243,55291).addRange(65440,65470).addRange(65474,65479).addRange(65482,65487).addRange(65490,65495).addRange(65498,65500),_e.exports=Pe},50043:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68864,68903).addRange(68912,68921),_e.exports=Pe},95307:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5920,5940),_e.exports=Pe},20280:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(67808,67826).addRange(67828,67829).addRange(67835,67839),_e.exports=Pe},12674:function(_e,be,Te){const Pe=Te(78776)(64318);Pe.addRange(1425,1479).addRange(1488,1514).addRange(1519,1524).addRange(64285,64310).addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64335),_e.exports=Pe},54058:function(_e,be,Te){const Pe=Te(78776)(127488);Pe.addRange(12353,12438).addRange(12445,12447).addRange(110593,110878).addRange(110928,110930),_e.exports=Pe},70521:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(67648,67669).addRange(67671,67679),_e.exports=Pe},21448:function(_e,be,Te){const Pe=Te(78776)(1648,7405,7412,66045,66272,70459);Pe.addRange(768,879).addRange(1157,1158).addRange(1611,1621).addRange(2385,2388).addRange(6832,6848).addRange(7376,7378).addRange(7380,7392).addRange(7394,7400).addRange(7416,7417).addRange(7616,7673).addRange(7675,7679).addRange(8204,8205).addRange(8400,8432).addRange(12330,12333).addRange(12441,12442).addRange(65024,65039).addRange(65056,65069).addRange(119143,119145).addRange(119163,119170).addRange(119173,119179).addRange(119210,119213).addRange(917760,917999),_e.exports=Pe},35281:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68448,68466).addRange(68472,68479),_e.exports=Pe},35772:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68416,68437).addRange(68440,68447),_e.exports=Pe},98272:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43392,43469).addRange(43472,43481).addRange(43486,43487),_e.exports=Pe},52764:function(_e,be,Te){const Pe=Te(78776)(69837);Pe.addRange(69760,69825),_e.exports=Pe},98276:function(_e,be,Te){const Pe=Te(78776)(3294);Pe.addRange(3200,3212).addRange(3214,3216).addRange(3218,3240).addRange(3242,3251).addRange(3253,3257).addRange(3260,3268).addRange(3270,3272).addRange(3274,3277).addRange(3285,3286).addRange(3296,3299).addRange(3302,3311).addRange(3313,3314),_e.exports=Pe},98285:function(_e,be,Te){const Pe=Te(78776)(110592);Pe.addRange(12449,12538).addRange(12541,12543).addRange(12784,12799).addRange(13008,13054).addRange(13056,13143).addRange(65382,65391).addRange(65393,65437).addRange(110948,110951),_e.exports=Pe},10821:function(_e,be,Te){const Pe=Te(78776)(43311);Pe.addRange(43264,43309),_e.exports=Pe},67559:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68096,68099).addRange(68101,68102).addRange(68108,68115).addRange(68117,68119).addRange(68121,68149).addRange(68152,68154).addRange(68159,68168).addRange(68176,68184),_e.exports=Pe},48304:function(_e,be,Te){const Pe=Te(78776)(94180);Pe.addRange(101120,101589),_e.exports=Pe},39834:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(6016,6109).addRange(6112,6121).addRange(6128,6137).addRange(6624,6655),_e.exports=Pe},42593:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(70144,70161).addRange(70163,70206),_e.exports=Pe},64415:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(70320,70378).addRange(70384,70393),_e.exports=Pe},37740:function(_e,be,Te){const Pe=Te(78776)(3716,3749,3782);Pe.addRange(3713,3714).addRange(3718,3722).addRange(3724,3747).addRange(3751,3773).addRange(3776,3780).addRange(3784,3789).addRange(3792,3801).addRange(3804,3807),_e.exports=Pe},46818:function(_e,be,Te){const Pe=Te(78776)(170,186,8305,8319,8498,8526);Pe.addRange(65,90).addRange(97,122).addRange(192,214).addRange(216,246).addRange(248,696).addRange(736,740).addRange(7424,7461).addRange(7468,7516).addRange(7522,7525).addRange(7531,7543).addRange(7545,7614).addRange(7680,7935).addRange(8336,8348).addRange(8490,8491).addRange(8544,8584).addRange(11360,11391).addRange(42786,42887).addRange(42891,42943).addRange(42946,42954).addRange(42997,43007).addRange(43824,43866).addRange(43868,43876).addRange(43878,43881).addRange(64256,64262).addRange(65313,65338).addRange(65345,65370),_e.exports=Pe},7647:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(7168,7223).addRange(7227,7241).addRange(7245,7247),_e.exports=Pe},92627:function(_e,be,Te){const Pe=Te(78776)(6464);Pe.addRange(6400,6430).addRange(6432,6443).addRange(6448,6459).addRange(6468,6479),_e.exports=Pe},16193:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(67072,67382).addRange(67392,67413).addRange(67424,67431),_e.exports=Pe},71901:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(65536,65547).addRange(65549,65574).addRange(65576,65594).addRange(65596,65597).addRange(65599,65613).addRange(65616,65629).addRange(65664,65786),_e.exports=Pe},25734:function(_e,be,Te){const Pe=Te(78776)(73648);Pe.addRange(42192,42239),_e.exports=Pe},6450:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66176,66204),_e.exports=Pe},28293:function(_e,be,Te){const Pe=Te(78776)(67903);Pe.addRange(67872,67897),_e.exports=Pe},48193:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69968,70006),_e.exports=Pe},50865:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(73440,73464),_e.exports=Pe},24789:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(3328,3340).addRange(3342,3344).addRange(3346,3396).addRange(3398,3400).addRange(3402,3407).addRange(3412,3427).addRange(3430,3455),_e.exports=Pe},9535:function(_e,be,Te){const Pe=Te(78776)(2142);Pe.addRange(2112,2139),_e.exports=Pe},83061:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68288,68326).addRange(68331,68342),_e.exports=Pe},76528:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(72816,72847).addRange(72850,72871).addRange(72873,72886),_e.exports=Pe},9921:function(_e,be,Te){const Pe=Te(78776)(73018);Pe.addRange(72960,72966).addRange(72968,72969).addRange(72971,73014).addRange(73020,73021).addRange(73023,73031).addRange(73040,73049),_e.exports=Pe},93378:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(93760,93850),_e.exports=Pe},6940:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43744,43766).addRange(43968,44013).addRange(44016,44025),_e.exports=Pe},3897:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(124928,125124).addRange(125127,125142),_e.exports=Pe},65999:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68e3,68023).addRange(68028,68047).addRange(68050,68095),_e.exports=Pe},59758:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(67968,67999),_e.exports=Pe},65484:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(93952,94026).addRange(94031,94087).addRange(94095,94111),_e.exports=Pe},34575:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(71168,71236).addRange(71248,71257),_e.exports=Pe},75392:function(_e,be,Te){const Pe=Te(78776)(6148);Pe.addRange(6144,6145).addRange(6150,6158).addRange(6160,6169).addRange(6176,6264).addRange(6272,6314).addRange(71264,71276),_e.exports=Pe},36388:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(92736,92766).addRange(92768,92777).addRange(92782,92783),_e.exports=Pe},60556:function(_e,be,Te){const Pe=Te(78776)(70280);Pe.addRange(70272,70278).addRange(70282,70285).addRange(70287,70301).addRange(70303,70313),_e.exports=Pe},15837:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(4096,4255).addRange(43488,43518).addRange(43616,43647),_e.exports=Pe},6820:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(67712,67742).addRange(67751,67759),_e.exports=Pe},51892:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(72096,72103).addRange(72106,72151).addRange(72154,72164),_e.exports=Pe},32003:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(6528,6571).addRange(6576,6601).addRange(6608,6618).addRange(6622,6623),_e.exports=Pe},15297:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(70656,70747).addRange(70749,70753),_e.exports=Pe},17594:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(1984,2042).addRange(2045,2047),_e.exports=Pe},7493:function(_e,be,Te){const Pe=Te(78776)(94177);Pe.addRange(110960,111355),_e.exports=Pe},14406:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(123136,123180).addRange(123184,123197).addRange(123200,123209).addRange(123214,123215),_e.exports=Pe},75847:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5760,5788),_e.exports=Pe},88416:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(7248,7295),_e.exports=Pe},40115:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68736,68786).addRange(68800,68850).addRange(68858,68863),_e.exports=Pe},29109:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66304,66339).addRange(66349,66351),_e.exports=Pe},96840:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68224,68255),_e.exports=Pe},39291:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66384,66426),_e.exports=Pe},24678:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66464,66499).addRange(66504,66517),_e.exports=Pe},78647:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69376,69415),_e.exports=Pe},70744:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68192,68223),_e.exports=Pe},59527:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68608,68680),_e.exports=Pe},23761:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2817,2819).addRange(2821,2828).addRange(2831,2832).addRange(2835,2856).addRange(2858,2864).addRange(2866,2867).addRange(2869,2873).addRange(2876,2884).addRange(2887,2888).addRange(2891,2893).addRange(2901,2903).addRange(2908,2909).addRange(2911,2915).addRange(2918,2935),_e.exports=Pe},39384:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66736,66771).addRange(66776,66811),_e.exports=Pe},90237:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66688,66717).addRange(66720,66729),_e.exports=Pe},62976:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(92928,92997).addRange(93008,93017).addRange(93019,93025).addRange(93027,93047).addRange(93053,93071),_e.exports=Pe},60351:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(67680,67711),_e.exports=Pe},19767:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(72384,72440),_e.exports=Pe},25712:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43072,43127),_e.exports=Pe},86458:function(_e,be,Te){const Pe=Te(78776)(67871);Pe.addRange(67840,67867),_e.exports=Pe},74874:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68480,68497).addRange(68505,68508).addRange(68521,68527),_e.exports=Pe},27603:function(_e,be,Te){const Pe=Te(78776)(43359);Pe.addRange(43312,43347),_e.exports=Pe},84788:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5792,5866).addRange(5870,5880),_e.exports=Pe},45810:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2048,2093).addRange(2096,2110),_e.exports=Pe},37632:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43136,43205).addRange(43214,43225),_e.exports=Pe},15058:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(70016,70111),_e.exports=Pe},76250:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66640,66687),_e.exports=Pe},39573:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(71040,71093).addRange(71096,71133),_e.exports=Pe},54039:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(120832,121483).addRange(121499,121503).addRange(121505,121519),_e.exports=Pe},1611:function(_e,be,Te){const Pe=Te(78776)(3517,3530,3542);Pe.addRange(3457,3459).addRange(3461,3478).addRange(3482,3505).addRange(3507,3515).addRange(3520,3526).addRange(3535,3540).addRange(3544,3551).addRange(3558,3567).addRange(3570,3572).addRange(70113,70132),_e.exports=Pe},34250:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69424,69465),_e.exports=Pe},43065:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69840,69864).addRange(69872,69881),_e.exports=Pe},18135:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(72272,72354),_e.exports=Pe},95849:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(7040,7103).addRange(7360,7367),_e.exports=Pe},46566:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43008,43052),_e.exports=Pe},7810:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(1792,1805).addRange(1807,1866).addRange(1869,1871).addRange(2144,2154),_e.exports=Pe},67833:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5888,5900).addRange(5902,5908),_e.exports=Pe},58009:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5984,5996).addRange(5998,6e3).addRange(6002,6003),_e.exports=Pe},1187:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(6480,6509).addRange(6512,6516),_e.exports=Pe},40377:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(6688,6750).addRange(6752,6780).addRange(6783,6793).addRange(6800,6809).addRange(6816,6829),_e.exports=Pe},99e3:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43648,43714).addRange(43739,43743),_e.exports=Pe},72294:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(71296,71352).addRange(71360,71369),_e.exports=Pe},98682:function(_e,be,Te){const Pe=Te(78776)(2972,3024,3031,73727);Pe.addRange(2946,2947).addRange(2949,2954).addRange(2958,2960).addRange(2962,2965).addRange(2969,2970).addRange(2974,2975).addRange(2979,2980).addRange(2984,2986).addRange(2990,3001).addRange(3006,3010).addRange(3014,3016).addRange(3018,3021).addRange(3046,3066).addRange(73664,73713),_e.exports=Pe},75540:function(_e,be,Te){const Pe=Te(78776)(94176);Pe.addRange(94208,100343).addRange(100352,101119).addRange(101632,101640),_e.exports=Pe},65084:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(3072,3084).addRange(3086,3088).addRange(3090,3112).addRange(3114,3129).addRange(3133,3140).addRange(3142,3144).addRange(3146,3149).addRange(3157,3158).addRange(3160,3162).addRange(3168,3171).addRange(3174,3183).addRange(3191,3199),_e.exports=Pe},6867:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(1920,1969),_e.exports=Pe},49907:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(3585,3642).addRange(3648,3675),_e.exports=Pe},29341:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(3840,3911).addRange(3913,3948).addRange(3953,3991).addRange(3993,4028).addRange(4030,4044).addRange(4046,4052).addRange(4057,4058),_e.exports=Pe},81261:function(_e,be,Te){const Pe=Te(78776)(11647);Pe.addRange(11568,11623).addRange(11631,11632),_e.exports=Pe},57954:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(70784,70855).addRange(70864,70873),_e.exports=Pe},29097:function(_e,be,Te){const Pe=Te(78776)(66463);Pe.addRange(66432,66461),_e.exports=Pe},5767:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(42240,42539),_e.exports=Pe},27172:function(_e,be,Te){const Pe=Te(78776)(123647);Pe.addRange(123584,123641),_e.exports=Pe},17315:function(_e,be,Te){const Pe=Te(78776)(71935);Pe.addRange(71840,71922),_e.exports=Pe},34961:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69248,69289).addRange(69291,69293).addRange(69296,69297),_e.exports=Pe},90923:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(40960,42124).addRange(42128,42182),_e.exports=Pe},92108:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(72192,72263),_e.exports=Pe},99614:function(_e,be,Te){const Pe=Te(78776)(1600);Pe.addRange(125184,125259).addRange(125264,125273).addRange(125278,125279),_e.exports=Pe},24915:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(71424,71450).addRange(71453,71467).addRange(71472,71487),_e.exports=Pe},8983:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(82944,83526),_e.exports=Pe},75627:function(_e,be,Te){const Pe=Te(78776)(126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590);Pe.addRange(1536,1540).addRange(1542,1564).addRange(1566,1756).addRange(1758,1791).addRange(1872,1919).addRange(2208,2228).addRange(2230,2247).addRange(2259,2273).addRange(2275,2303).addRange(64336,64449).addRange(64467,64829).addRange(64848,64911).addRange(64914,64967).addRange(65008,65021).addRange(65136,65140).addRange(65142,65276).addRange(66272,66299).addRange(69216,69246).addRange(126464,126467).addRange(126469,126495).addRange(126497,126498).addRange(126505,126514).addRange(126516,126519).addRange(126541,126543).addRange(126545,126546).addRange(126561,126562).addRange(126567,126570).addRange(126572,126578).addRange(126580,126583).addRange(126585,126588).addRange(126592,126601).addRange(126603,126619).addRange(126625,126627).addRange(126629,126633).addRange(126635,126651).addRange(126704,126705),_e.exports=Pe},13585:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(1329,1366).addRange(1369,1418).addRange(1421,1423).addRange(64275,64279),_e.exports=Pe},79384:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68352,68405).addRange(68409,68415),_e.exports=Pe},47072:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(6912,6987).addRange(6992,7036),_e.exports=Pe},31856:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(42656,42743).addRange(92160,92728),_e.exports=Pe},24945:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(92880,92909).addRange(92912,92917),_e.exports=Pe},92147:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(7104,7155).addRange(7164,7167),_e.exports=Pe},61530:function(_e,be,Te){const Pe=Te(78776)(2482,2519,7376,7378,7384,7393,7402,7405,7410,43249);Pe.addRange(2385,2386).addRange(2404,2405).addRange(2432,2435).addRange(2437,2444).addRange(2447,2448).addRange(2451,2472).addRange(2474,2480).addRange(2486,2489).addRange(2492,2500).addRange(2503,2504).addRange(2507,2510).addRange(2524,2525).addRange(2527,2531).addRange(2534,2558).addRange(7381,7382).addRange(7413,7415),_e.exports=Pe},64063:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(72704,72712).addRange(72714,72758).addRange(72760,72773).addRange(72784,72812),_e.exports=Pe},29962:function(_e,be,Te){const Pe=Te(78776)(12336,12343,12539);Pe.addRange(746,747).addRange(12289,12291).addRange(12296,12305).addRange(12307,12319).addRange(12330,12333).addRange(12549,12591).addRange(12704,12735).addRange(65093,65094).addRange(65377,65381),_e.exports=Pe},61752:function(_e,be,Te){const Pe=Te(78776)(69759);Pe.addRange(69632,69709).addRange(69714,69743),_e.exports=Pe},28434:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(10240,10495),_e.exports=Pe},15148:function(_e,be,Te){const Pe=Te(78776)(43471);Pe.addRange(6656,6683).addRange(6686,6687),_e.exports=Pe},78881:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5941,5942).addRange(5952,5971),_e.exports=Pe},55254:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5120,5759).addRange(6320,6389),_e.exports=Pe},79110:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66208,66256),_e.exports=Pe},76550:function(_e,be,Te){const Pe=Te(78776)(66927);Pe.addRange(66864,66915),_e.exports=Pe},88753:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2534,2543).addRange(4160,4169).addRange(69888,69940).addRange(69942,69959),_e.exports=Pe},98451:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43520,43574).addRange(43584,43597).addRange(43600,43609).addRange(43612,43615),_e.exports=Pe},80196:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5024,5109).addRange(5112,5117).addRange(43888,43967),_e.exports=Pe},23352:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69552,69579),_e.exports=Pe},46921:function(_e,be,Te){const Pe=Te(78776)(215,247,884,894,901,903,1541,1757,2274,3647,12288,12292,12306,12320,12342,12927,13311,43867,65279,119970,119995,120134,917505);Pe.addRange(0,64).addRange(91,96).addRange(123,169).addRange(171,185).addRange(187,191).addRange(697,735).addRange(741,745).addRange(748,767).addRange(4053,4056).addRange(5867,5869).addRange(8192,8203).addRange(8206,8238).addRange(8240,8292).addRange(8294,8304).addRange(8308,8318).addRange(8320,8334).addRange(8352,8383).addRange(8448,8485).addRange(8487,8489).addRange(8492,8497).addRange(8499,8525).addRange(8527,8543).addRange(8585,8587).addRange(8592,9254).addRange(9280,9290).addRange(9312,10239).addRange(10496,11123).addRange(11126,11157).addRange(11159,11263).addRange(11776,11842).addRange(11844,11858).addRange(12272,12283).addRange(12872,12895).addRange(12977,12991).addRange(13004,13007).addRange(13169,13178).addRange(13184,13279).addRange(19904,19967).addRange(42760,42785).addRange(42888,42890).addRange(43882,43883).addRange(64830,64831).addRange(65040,65049).addRange(65072,65092).addRange(65095,65106).addRange(65108,65126).addRange(65128,65131).addRange(65281,65312).addRange(65339,65344).addRange(65371,65376).addRange(65504,65510),Pe.addRange(65512,65518).addRange(65529,65533).addRange(65936,65948).addRange(66e3,66044).addRange(94178,94179).addRange(118784,119029).addRange(119040,119078).addRange(119081,119142).addRange(119146,119162).addRange(119171,119172).addRange(119180,119209).addRange(119214,119272).addRange(119520,119539).addRange(119552,119638).addRange(119666,119672).addRange(119808,119892).addRange(119894,119964).addRange(119966,119967).addRange(119973,119974).addRange(119977,119980).addRange(119982,119993).addRange(119997,120003).addRange(120005,120069).addRange(120071,120074).addRange(120077,120084).addRange(120086,120092).addRange(120094,120121).addRange(120123,120126).addRange(120128,120132).addRange(120138,120144).addRange(120146,120485).addRange(120488,120779).addRange(120782,120831).addRange(126065,126132).addRange(126209,126269).addRange(126976,127019).addRange(127024,127123).addRange(127136,127150).addRange(127153,127167).addRange(127169,127183).addRange(127185,127221).addRange(127232,127405).addRange(127462,127487).addRange(127489,127490).addRange(127504,127547).addRange(127552,127560).addRange(127584,127589).addRange(127744,128727).addRange(128736,128748).addRange(128752,128764).addRange(128768,128883),Pe.addRange(128896,128984).addRange(128992,129003).addRange(129024,129035).addRange(129040,129095).addRange(129104,129113).addRange(129120,129159).addRange(129168,129197).addRange(129200,129201).addRange(129280,129400).addRange(129402,129483).addRange(129485,129619).addRange(129632,129645).addRange(129648,129652).addRange(129656,129658).addRange(129664,129670).addRange(129680,129704).addRange(129712,129718).addRange(129728,129730).addRange(129744,129750).addRange(129792,129938).addRange(129940,129994).addRange(130032,130041).addRange(917536,917631),_e.exports=Pe},44141:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(994,1007).addRange(11392,11507).addRange(11513,11519).addRange(66272,66299),_e.exports=Pe},30286:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(73728,74649).addRange(74752,74862).addRange(74864,74868).addRange(74880,75075),_e.exports=Pe},73326:function(_e,be,Te){const Pe=Te(78776)(67592,67644,67647);Pe.addRange(65792,65794).addRange(65799,65843).addRange(65847,65855).addRange(67584,67589).addRange(67594,67637).addRange(67639,67640),_e.exports=Pe},77115:function(_e,be,Te){const Pe=Te(78776)(7467,7544,7672,11843);Pe.addRange(1024,1327).addRange(7296,7304).addRange(11744,11775).addRange(42560,42655).addRange(65070,65071),_e.exports=Pe},59108:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66560,66639),_e.exports=Pe},59426:function(_e,be,Te){const Pe=Te(78776)(8432);Pe.addRange(2304,2386).addRange(2389,2431).addRange(7376,7414).addRange(7416,7417).addRange(43056,43065).addRange(43232,43263),_e.exports=Pe},44660:function(_e,be,Te){const Pe=Te(78776)(71945);Pe.addRange(71936,71942).addRange(71948,71955).addRange(71957,71958).addRange(71960,71989).addRange(71991,71992).addRange(71995,72006).addRange(72016,72025),_e.exports=Pe},41422:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2404,2415).addRange(43056,43065).addRange(71680,71739),_e.exports=Pe},66667:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(113664,113770).addRange(113776,113788).addRange(113792,113800).addRange(113808,113817).addRange(113820,113827),_e.exports=Pe},20449:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(77824,78894).addRange(78896,78904),_e.exports=Pe},25810:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66816,66855),_e.exports=Pe},83509:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69600,69622),_e.exports=Pe},37837:function(_e,be,Te){const Pe=Te(78776)(4696,4800);Pe.addRange(4608,4680).addRange(4682,4685).addRange(4688,4694).addRange(4698,4701).addRange(4704,4744).addRange(4746,4749).addRange(4752,4784).addRange(4786,4789).addRange(4792,4798).addRange(4802,4805).addRange(4808,4822).addRange(4824,4880).addRange(4882,4885).addRange(4888,4954).addRange(4957,4988).addRange(4992,5017).addRange(11648,11670).addRange(11680,11686).addRange(11688,11694).addRange(11696,11702).addRange(11704,11710).addRange(11712,11718).addRange(11720,11726).addRange(11728,11734).addRange(11736,11742).addRange(43777,43782).addRange(43785,43790).addRange(43793,43798).addRange(43808,43814).addRange(43816,43822),_e.exports=Pe},77680:function(_e,be,Te){const Pe=Te(78776)(4295,4301,11559,11565);Pe.addRange(4256,4293).addRange(4304,4351).addRange(7312,7354).addRange(7357,7359).addRange(11520,11557),_e.exports=Pe},97772:function(_e,be,Te){const Pe=Te(78776)(1156,1159,11843,42607);Pe.addRange(11264,11310).addRange(11312,11358).addRange(122880,122886).addRange(122888,122904).addRange(122907,122913).addRange(122915,122916).addRange(122918,122922),_e.exports=Pe},60674:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66352,66378),_e.exports=Pe},52336:function(_e,be,Te){const Pe=Te(78776)(7376,8432,70480,70487,73683);Pe.addRange(2385,2386).addRange(2404,2405).addRange(3046,3059).addRange(7378,7379).addRange(7410,7412).addRange(7416,7417).addRange(70400,70403).addRange(70405,70412).addRange(70415,70416).addRange(70419,70440).addRange(70442,70448).addRange(70450,70451).addRange(70453,70457).addRange(70459,70468).addRange(70471,70472).addRange(70475,70477).addRange(70493,70499).addRange(70502,70508).addRange(70512,70516).addRange(73680,73681),_e.exports=Pe},86310:function(_e,be,Te){const Pe=Te(78776)(834,837,895,900,902,908,8025,8027,8029,8486,43877,65952);Pe.addRange(880,883).addRange(885,887).addRange(890,893).addRange(904,906).addRange(910,929).addRange(931,993).addRange(1008,1023).addRange(7462,7466).addRange(7517,7521).addRange(7526,7530).addRange(7615,7617).addRange(7936,7957).addRange(7960,7965).addRange(7968,8005).addRange(8008,8013).addRange(8016,8023).addRange(8031,8061).addRange(8064,8116).addRange(8118,8132).addRange(8134,8147).addRange(8150,8155).addRange(8157,8175).addRange(8178,8180).addRange(8182,8190).addRange(65856,65934).addRange(119296,119365),_e.exports=Pe},92436:function(_e,be,Te){const Pe=Te(78776)(2768);Pe.addRange(2385,2386).addRange(2404,2405).addRange(2689,2691).addRange(2693,2701).addRange(2703,2705).addRange(2707,2728).addRange(2730,2736).addRange(2738,2739).addRange(2741,2745).addRange(2748,2757).addRange(2759,2761).addRange(2763,2765).addRange(2784,2787).addRange(2790,2801).addRange(2809,2815).addRange(43056,43065),_e.exports=Pe},20642:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2404,2405).addRange(73056,73061).addRange(73063,73064).addRange(73066,73102).addRange(73104,73105).addRange(73107,73112).addRange(73120,73129),_e.exports=Pe},33831:function(_e,be,Te){const Pe=Te(78776)(2620,2641,2654);Pe.addRange(2385,2386).addRange(2404,2405).addRange(2561,2563).addRange(2565,2570).addRange(2575,2576).addRange(2579,2600).addRange(2602,2608).addRange(2610,2611).addRange(2613,2614).addRange(2616,2617).addRange(2622,2626).addRange(2631,2632).addRange(2635,2637).addRange(2649,2652).addRange(2662,2678).addRange(43056,43065),_e.exports=Pe},16613:function(_e,be,Te){const Pe=Te(78776)(12336,12539,13055);Pe.addRange(11904,11929).addRange(11931,12019).addRange(12032,12245).addRange(12289,12291).addRange(12293,12305).addRange(12307,12319).addRange(12321,12333).addRange(12343,12351).addRange(12688,12703).addRange(12736,12771).addRange(12832,12871).addRange(12928,12976).addRange(12992,13003).addRange(13144,13168).addRange(13179,13183).addRange(13280,13310).addRange(13312,19903).addRange(19968,40956).addRange(42752,42759).addRange(63744,64109).addRange(64112,64217).addRange(65093,65094).addRange(65377,65381).addRange(94192,94193).addRange(119648,119665).addRange(127568,127569).addRange(131072,173789).addRange(173824,177972).addRange(177984,178205).addRange(178208,183969).addRange(183984,191456).addRange(194560,195101).addRange(196608,201546),_e.exports=Pe},87001:function(_e,be,Te){const Pe=Te(78776)(12343,12539);Pe.addRange(4352,4607).addRange(12289,12291).addRange(12296,12305).addRange(12307,12319).addRange(12334,12336).addRange(12593,12686).addRange(12800,12830).addRange(12896,12926).addRange(43360,43388).addRange(44032,55203).addRange(55216,55238).addRange(55243,55291).addRange(65093,65094).addRange(65377,65381).addRange(65440,65470).addRange(65474,65479).addRange(65482,65487).addRange(65490,65495).addRange(65498,65500),_e.exports=Pe},88583:function(_e,be,Te){const Pe=Te(78776)(1548,1563,1567,1600,1748);Pe.addRange(68864,68903).addRange(68912,68921),_e.exports=Pe},82758:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5920,5942),_e.exports=Pe},66416:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(67808,67826).addRange(67828,67829).addRange(67835,67839),_e.exports=Pe},85222:function(_e,be,Te){const Pe=Te(78776)(64318);Pe.addRange(1425,1479).addRange(1488,1514).addRange(1519,1524).addRange(64285,64310).addRange(64312,64316).addRange(64320,64321).addRange(64323,64324).addRange(64326,64335),_e.exports=Pe},60191:function(_e,be,Te){const Pe=Te(78776)(12343,65392,127488);Pe.addRange(12289,12291).addRange(12296,12305).addRange(12307,12319).addRange(12336,12341).addRange(12348,12349).addRange(12353,12438).addRange(12441,12448).addRange(12539,12540).addRange(65093,65094).addRange(65377,65381).addRange(65438,65439).addRange(110593,110878).addRange(110928,110930),_e.exports=Pe},57632:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(67648,67669).addRange(67671,67679),_e.exports=Pe},96988:function(_e,be,Te){const Pe=Te(78776)(7673,66045);Pe.addRange(768,833).addRange(835,836).addRange(838,866).addRange(2387,2388).addRange(6832,6848).addRange(7618,7671).addRange(7675,7679).addRange(8204,8205).addRange(8400,8431).addRange(65024,65039).addRange(65056,65069).addRange(119143,119145).addRange(119163,119170).addRange(119173,119179).addRange(119210,119213).addRange(917760,917999),_e.exports=Pe},52121:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68448,68466).addRange(68472,68479),_e.exports=Pe},82809:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68416,68437).addRange(68440,68447),_e.exports=Pe},31899:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43392,43469).addRange(43471,43481).addRange(43486,43487),_e.exports=Pe},57574:function(_e,be,Te){const Pe=Te(78776)(69837);Pe.addRange(2406,2415).addRange(43056,43065).addRange(69760,69825),_e.exports=Pe},81868:function(_e,be,Te){const Pe=Te(78776)(3294,7376,7378,7386,7410,7412);Pe.addRange(2385,2386).addRange(2404,2405).addRange(3200,3212).addRange(3214,3216).addRange(3218,3240).addRange(3242,3251).addRange(3253,3257).addRange(3260,3268).addRange(3270,3272).addRange(3274,3277).addRange(3285,3286).addRange(3296,3299).addRange(3302,3311).addRange(3313,3314).addRange(43056,43061),_e.exports=Pe},10774:function(_e,be,Te){const Pe=Te(78776)(12343,110592);Pe.addRange(12289,12291).addRange(12296,12305).addRange(12307,12319).addRange(12336,12341).addRange(12348,12349).addRange(12441,12444).addRange(12448,12543).addRange(12784,12799).addRange(13008,13054).addRange(13056,13143).addRange(65093,65094).addRange(65377,65439).addRange(110948,110951),_e.exports=Pe},76701:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43264,43311),_e.exports=Pe},81466:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68096,68099).addRange(68101,68102).addRange(68108,68115).addRange(68117,68119).addRange(68121,68149).addRange(68152,68154).addRange(68159,68168).addRange(68176,68184),_e.exports=Pe},21325:function(_e,be,Te){const Pe=Te(78776)(94180);Pe.addRange(101120,101589),_e.exports=Pe},6068:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(6016,6109).addRange(6112,6121).addRange(6128,6137).addRange(6624,6655),_e.exports=Pe},77706:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2790,2799).addRange(43056,43065).addRange(70144,70161).addRange(70163,70206),_e.exports=Pe},54258:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2404,2405).addRange(43056,43065).addRange(70320,70378).addRange(70384,70393),_e.exports=Pe},77149:function(_e,be,Te){const Pe=Te(78776)(3716,3749,3782);Pe.addRange(3713,3714).addRange(3718,3722).addRange(3724,3747).addRange(3751,3773).addRange(3776,3780).addRange(3784,3789).addRange(3792,3801).addRange(3804,3807),_e.exports=Pe},38334:function(_e,be,Te){const Pe=Te(78776)(170,186,4347,8239,8305,8319,8432,8498,8526,43310);Pe.addRange(65,90).addRange(97,122).addRange(192,214).addRange(216,246).addRange(248,696).addRange(736,740).addRange(867,879).addRange(1157,1158).addRange(2385,2386).addRange(7424,7461).addRange(7468,7516).addRange(7522,7525).addRange(7531,7543).addRange(7545,7614).addRange(7680,7935).addRange(8336,8348).addRange(8490,8491).addRange(8544,8584).addRange(11360,11391).addRange(42752,42759).addRange(42786,42887).addRange(42891,42943).addRange(42946,42954).addRange(42997,43007).addRange(43824,43866).addRange(43868,43876).addRange(43878,43881).addRange(64256,64262).addRange(65313,65338).addRange(65345,65370),_e.exports=Pe},12299:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(7168,7223).addRange(7227,7241).addRange(7245,7247),_e.exports=Pe},25476:function(_e,be,Te){const Pe=Te(78776)(2405,6464);Pe.addRange(6400,6430).addRange(6432,6443).addRange(6448,6459).addRange(6468,6479),_e.exports=Pe},54625:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(65799,65843).addRange(67072,67382).addRange(67392,67413).addRange(67424,67431),_e.exports=Pe},38810:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(65536,65547).addRange(65549,65574).addRange(65576,65594).addRange(65596,65597).addRange(65599,65613).addRange(65616,65629).addRange(65664,65786).addRange(65792,65794).addRange(65799,65843).addRange(65847,65855),_e.exports=Pe},90845:function(_e,be,Te){const Pe=Te(78776)(73648);Pe.addRange(42192,42239),_e.exports=Pe},68978:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66176,66204),_e.exports=Pe},67905:function(_e,be,Te){const Pe=Te(78776)(67903);Pe.addRange(67872,67897),_e.exports=Pe},89576:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2404,2415).addRange(43056,43065).addRange(69968,70006),_e.exports=Pe},3405:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(73440,73464),_e.exports=Pe},974:function(_e,be,Te){const Pe=Te(78776)(7386);Pe.addRange(2385,2386).addRange(2404,2405).addRange(3328,3340).addRange(3342,3344).addRange(3346,3396).addRange(3398,3400).addRange(3402,3407).addRange(3412,3427).addRange(3430,3455).addRange(43056,43058),_e.exports=Pe},28940:function(_e,be,Te){const Pe=Te(78776)(1600,2142);Pe.addRange(2112,2139),_e.exports=Pe},6677:function(_e,be,Te){const Pe=Te(78776)(1600);Pe.addRange(68288,68326).addRange(68331,68342),_e.exports=Pe},14740:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(72816,72847).addRange(72850,72871).addRange(72873,72886),_e.exports=Pe},82278:function(_e,be,Te){const Pe=Te(78776)(73018);Pe.addRange(2404,2405).addRange(72960,72966).addRange(72968,72969).addRange(72971,73014).addRange(73020,73021).addRange(73023,73031).addRange(73040,73049),_e.exports=Pe},55949:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(93760,93850),_e.exports=Pe},13329:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43744,43766).addRange(43968,44013).addRange(44016,44025),_e.exports=Pe},97146:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(124928,125124).addRange(125127,125142),_e.exports=Pe},23715:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68e3,68023).addRange(68028,68047).addRange(68050,68095),_e.exports=Pe},43199:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(67968,67999),_e.exports=Pe},26499:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(93952,94026).addRange(94031,94087).addRange(94095,94111),_e.exports=Pe},36995:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43056,43065).addRange(71168,71236).addRange(71248,71257),_e.exports=Pe},98606:function(_e,be,Te){const Pe=Te(78776)(8239);Pe.addRange(6144,6158).addRange(6160,6169).addRange(6176,6264).addRange(6272,6314).addRange(71264,71276),_e.exports=Pe},11462:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(92736,92766).addRange(92768,92777).addRange(92782,92783),_e.exports=Pe},45402:function(_e,be,Te){const Pe=Te(78776)(70280);Pe.addRange(2662,2671).addRange(70272,70278).addRange(70282,70285).addRange(70287,70301).addRange(70303,70313),_e.exports=Pe},76318:function(_e,be,Te){const Pe=Te(78776)(43310);Pe.addRange(4096,4255).addRange(43488,43518).addRange(43616,43647),_e.exports=Pe},34924:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(67712,67742).addRange(67751,67759),_e.exports=Pe},8236:function(_e,be,Te){const Pe=Te(78776)(7401,7410,7418);Pe.addRange(2404,2405).addRange(3302,3311).addRange(43056,43061).addRange(72096,72103).addRange(72106,72151).addRange(72154,72164),_e.exports=Pe},14575:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(6528,6571).addRange(6576,6601).addRange(6608,6618).addRange(6622,6623),_e.exports=Pe},71314:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(70656,70747).addRange(70749,70753),_e.exports=Pe},40577:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(1984,2042).addRange(2045,2047),_e.exports=Pe},44432:function(_e,be,Te){const Pe=Te(78776)(94177);Pe.addRange(110960,111355),_e.exports=Pe},53612:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(123136,123180).addRange(123184,123197).addRange(123200,123209).addRange(123214,123215),_e.exports=Pe},19298:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5760,5788),_e.exports=Pe},55285:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(7248,7295),_e.exports=Pe},16737:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68736,68786).addRange(68800,68850).addRange(68858,68863),_e.exports=Pe},73023:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66304,66339).addRange(66349,66351),_e.exports=Pe},35723:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68224,68255),_e.exports=Pe},56370:function(_e,be,Te){const Pe=Te(78776)(1155);Pe.addRange(66384,66426),_e.exports=Pe},1402:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66464,66499).addRange(66504,66517),_e.exports=Pe},14718:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69376,69415),_e.exports=Pe},40316:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68192,68223),_e.exports=Pe},5462:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(68608,68680),_e.exports=Pe},29434:function(_e,be,Te){const Pe=Te(78776)(7386,7410);Pe.addRange(2385,2386).addRange(2404,2405).addRange(2817,2819).addRange(2821,2828).addRange(2831,2832).addRange(2835,2856).addRange(2858,2864).addRange(2866,2867).addRange(2869,2873).addRange(2876,2884).addRange(2887,2888).addRange(2891,2893).addRange(2901,2903).addRange(2908,2909).addRange(2911,2915).addRange(2918,2935),_e.exports=Pe},77045:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66736,66771).addRange(66776,66811),_e.exports=Pe},82301:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66688,66717).addRange(66720,66729),_e.exports=Pe},84766:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(92928,92997).addRange(93008,93017).addRange(93019,93025).addRange(93027,93047).addRange(93053,93071),_e.exports=Pe},72685:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(67680,67711),_e.exports=Pe},34107:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(72384,72440),_e.exports=Pe},66506:function(_e,be,Te){const Pe=Te(78776)(6149);Pe.addRange(6146,6147).addRange(43072,43127),_e.exports=Pe},42186:function(_e,be,Te){const Pe=Te(78776)(67871);Pe.addRange(67840,67867),_e.exports=Pe},55507:function(_e,be,Te){const Pe=Te(78776)(1600);Pe.addRange(68480,68497).addRange(68505,68508).addRange(68521,68527),_e.exports=Pe},35435:function(_e,be,Te){const Pe=Te(78776)(43359);Pe.addRange(43312,43347),_e.exports=Pe},76355:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5792,5866).addRange(5870,5880),_e.exports=Pe},1509:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2048,2093).addRange(2096,2110),_e.exports=Pe},23386:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43136,43205).addRange(43214,43225),_e.exports=Pe},86116:function(_e,be,Te){const Pe=Te(78776)(2385,7383,7385,7392);Pe.addRange(7388,7389).addRange(70016,70111),_e.exports=Pe},51826:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(66640,66687),_e.exports=Pe},22026:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(71040,71093).addRange(71096,71133),_e.exports=Pe},96007:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(120832,121483).addRange(121499,121503).addRange(121505,121519),_e.exports=Pe},51104:function(_e,be,Te){const Pe=Te(78776)(3517,3530,3542);Pe.addRange(2404,2405).addRange(3457,3459).addRange(3461,3478).addRange(3482,3505).addRange(3507,3515).addRange(3520,3526).addRange(3535,3540).addRange(3544,3551).addRange(3558,3567).addRange(3570,3572).addRange(70113,70132),_e.exports=Pe},82401:function(_e,be,Te){const Pe=Te(78776)(1600);Pe.addRange(69424,69465),_e.exports=Pe},44399:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(69840,69864).addRange(69872,69881),_e.exports=Pe},37415:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(72272,72354),_e.exports=Pe},3894:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(7040,7103).addRange(7360,7367),_e.exports=Pe},5419:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2404,2405).addRange(2534,2543).addRange(43008,43052),_e.exports=Pe},21038:function(_e,be,Te){const Pe=Te(78776)(1548,1567,1600,1648,7672);Pe.addRange(1563,1564).addRange(1611,1621).addRange(1792,1805).addRange(1807,1866).addRange(1869,1871).addRange(2144,2154),_e.exports=Pe},1744:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5888,5900).addRange(5902,5908).addRange(5941,5942),_e.exports=Pe},54217:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(5941,5942).addRange(5984,5996).addRange(5998,6e3).addRange(6002,6003),_e.exports=Pe},63153:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(4160,4169).addRange(6480,6509).addRange(6512,6516),_e.exports=Pe},4926:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(6688,6750).addRange(6752,6780).addRange(6783,6793).addRange(6800,6809).addRange(6816,6829),_e.exports=Pe},39311:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(43648,43714).addRange(43739,43743),_e.exports=Pe},55970:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(2404,2405).addRange(43056,43065).addRange(71296,71352).addRange(71360,71369),_e.exports=Pe},80882:function(_e,be,Te){const Pe=Te(78776)(2972,3024,3031,7386,43251,70401,70403,73727);Pe.addRange(2385,2386).addRange(2404,2405).addRange(2946,2947).addRange(2949,2954).addRange(2958,2960).addRange(2962,2965).addRange(2969,2970).addRange(2974,2975).addRange(2979,2980).addRange(2984,2986).addRange(2990,3001).addRange(3006,3010).addRange(3014,3016).addRange(3018,3021).addRange(3046,3066).addRange(70459,70460).addRange(73664,73713),_e.exports=Pe},46776:function(_e,be,Te){const Pe=Te(78776)(94176);Pe.addRange(94208,100343).addRange(100352,101119).addRange(101632,101640),_e.exports=Pe},40444:function(_e,be,Te){const Pe=Te(78776)(7386,7410);Pe.addRange(2385,2386).addRange(2404,2405).addRange(3072,3084).addRange(3086,3088).addRange(3090,3112).addRange(3114,3129).addRange(3133,3140).addRange(3142,3144).addRange(3146,3149).addRange(3157,3158).addRange(3160,3162).addRange(3168,3171).addRange(3174,3183).addRange(3191,3199),_e.exports=Pe},23431:function(_e,be,Te){const Pe=Te(78776)(1548,1567,65010,65021);Pe.addRange(1563,1564).addRange(1632,1641).addRange(1920,1969),_e.exports=Pe},94846:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(3585,3642).addRange(3648,3675),_e.exports=Pe},137:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(3840,3911).addRange(3913,3948).addRange(3953,3991).addRange(3993,4028).addRange(4030,4044).addRange(4046,4052).addRange(4057,4058),_e.exports=Pe},67065:function(_e,be,Te){const Pe=Te(78776)(11647);Pe.addRange(11568,11623).addRange(11631,11632),_e.exports=Pe},98082:function(_e,be,Te){const Pe=Te(78776)(7410);Pe.addRange(2385,2386).addRange(2404,2405).addRange(43056,43065).addRange(70784,70855).addRange(70864,70873),_e.exports=Pe},29213:function(_e,be,Te){const Pe=Te(78776)(66463);Pe.addRange(66432,66461),_e.exports=Pe},85388:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(42240,42539),_e.exports=Pe},68659:function(_e,be,Te){const Pe=Te(78776)(123647);Pe.addRange(123584,123641),_e.exports=Pe},27900:function(_e,be,Te){const Pe=Te(78776)(71935);Pe.addRange(71840,71922),_e.exports=Pe},8051:function(_e,be,Te){const Pe=Te(78776)(1548,1563,1567);Pe.addRange(1632,1641).addRange(69248,69289).addRange(69291,69293).addRange(69296,69297),_e.exports=Pe},99799:function(_e,be,Te){const Pe=Te(78776)(12539);Pe.addRange(12289,12290).addRange(12296,12305).addRange(12308,12315).addRange(40960,42124).addRange(42128,42182).addRange(65377,65381),_e.exports=Pe},25904:function(_e,be,Te){const Pe=Te(78776)();Pe.addRange(72192,72263),_e.exports=Pe},94274:function(_e){_e.exports=new Map([["General_Category",["Cased_Letter","Close_Punctuation","Connector_Punctuation","Control","Currency_Symbol","Dash_Punctuation","Decimal_Number","Enclosing_Mark","Final_Punctuation","Format","Initial_Punctuation","Letter","Letter_Number","Line_Separator","Lowercase_Letter","Mark","Math_Symbol","Modifier_Letter","Modifier_Symbol","Nonspacing_Mark","Number","Open_Punctuation","Other","Other_Letter","Other_Number","Other_Punctuation","Other_Symbol","Paragraph_Separator","Private_Use","Punctuation","Separator","Space_Separator","Spacing_Mark","Surrogate","Symbol","Titlecase_Letter","Unassigned","Uppercase_Letter"]],["Script",["Adlam","Ahom","Anatolian_Hieroglyphs","Arabic","Armenian","Avestan","Balinese","Bamum","Bassa_Vah","Batak","Bengali","Bhaiksuki","Bopomofo","Brahmi","Braille","Buginese","Buhid","Canadian_Aboriginal","Carian","Caucasian_Albanian","Chakma","Cham","Cherokee","Chorasmian","Common","Coptic","Cuneiform","Cypriot","Cyrillic","Deseret","Devanagari","Dives_Akuru","Dogra","Duployan","Egyptian_Hieroglyphs","Elbasan","Elymaic","Ethiopic","Georgian","Glagolitic","Gothic","Grantha","Greek","Gujarati","Gunjala_Gondi","Gurmukhi","Han","Hangul","Hanifi_Rohingya","Hanunoo","Hatran","Hebrew","Hiragana","Imperial_Aramaic","Inherited","Inscriptional_Pahlavi","Inscriptional_Parthian","Javanese","Kaithi","Kannada","Katakana","Kayah_Li","Kharoshthi","Khitan_Small_Script","Khmer","Khojki","Khudawadi","Lao","Latin","Lepcha","Limbu","Linear_A","Linear_B","Lisu","Lycian","Lydian","Mahajani","Makasar","Malayalam","Mandaic","Manichaean","Marchen","Masaram_Gondi","Medefaidrin","Meetei_Mayek","Mende_Kikakui","Meroitic_Cursive","Meroitic_Hieroglyphs","Miao","Modi","Mongolian","Mro","Multani","Myanmar","Nabataean","Nandinagari","New_Tai_Lue","Newa","Nko","Nushu","Nyiakeng_Puachue_Hmong","Ogham","Ol_Chiki","Old_Hungarian","Old_Italic","Old_North_Arabian","Old_Permic","Old_Persian","Old_Sogdian","Old_South_Arabian","Old_Turkic","Oriya","Osage","Osmanya","Pahawh_Hmong","Palmyrene","Pau_Cin_Hau","Phags_Pa","Phoenician","Psalter_Pahlavi","Rejang","Runic","Samaritan","Saurashtra","Sharada","Shavian","Siddham","SignWriting","Sinhala","Sogdian","Sora_Sompeng","Soyombo","Sundanese","Syloti_Nagri","Syriac","Tagalog","Tagbanwa","Tai_Le","Tai_Tham","Tai_Viet","Takri","Tamil","Tangut","Telugu","Thaana","Thai","Tibetan","Tifinagh","Tirhuta","Ugaritic","Vai","Wancho","Warang_Citi","Yezidi","Yi","Zanabazar_Square"]],["Script_Extensions",["Adlam","Ahom","Anatolian_Hieroglyphs","Arabic","Armenian","Avestan","Balinese","Bamum","Bassa_Vah","Batak","Bengali","Bhaiksuki","Bopomofo","Brahmi","Braille","Buginese","Buhid","Canadian_Aboriginal","Carian","Caucasian_Albanian","Chakma","Cham","Cherokee","Chorasmian","Common","Coptic","Cuneiform","Cypriot","Cyrillic","Deseret","Devanagari","Dives_Akuru","Dogra","Duployan","Egyptian_Hieroglyphs","Elbasan","Elymaic","Ethiopic","Georgian","Glagolitic","Gothic","Grantha","Greek","Gujarati","Gunjala_Gondi","Gurmukhi","Han","Hangul","Hanifi_Rohingya","Hanunoo","Hatran","Hebrew","Hiragana","Imperial_Aramaic","Inherited","Inscriptional_Pahlavi","Inscriptional_Parthian","Javanese","Kaithi","Kannada","Katakana","Kayah_Li","Kharoshthi","Khitan_Small_Script","Khmer","Khojki","Khudawadi","Lao","Latin","Lepcha","Limbu","Linear_A","Linear_B","Lisu","Lycian","Lydian","Mahajani","Makasar","Malayalam","Mandaic","Manichaean","Marchen","Masaram_Gondi","Medefaidrin","Meetei_Mayek","Mende_Kikakui","Meroitic_Cursive","Meroitic_Hieroglyphs","Miao","Modi","Mongolian","Mro","Multani","Myanmar","Nabataean","Nandinagari","New_Tai_Lue","Newa","Nko","Nushu","Nyiakeng_Puachue_Hmong","Ogham","Ol_Chiki","Old_Hungarian","Old_Italic","Old_North_Arabian","Old_Permic","Old_Persian","Old_Sogdian","Old_South_Arabian","Old_Turkic","Oriya","Osage","Osmanya","Pahawh_Hmong","Palmyrene","Pau_Cin_Hau","Phags_Pa","Phoenician","Psalter_Pahlavi","Rejang","Runic","Samaritan","Saurashtra","Sharada","Shavian","Siddham","SignWriting","Sinhala","Sogdian","Sora_Sompeng","Soyombo","Sundanese","Syloti_Nagri","Syriac","Tagalog","Tagbanwa","Tai_Le","Tai_Tham","Tai_Viet","Takri","Tamil","Tangut","Telugu","Thaana","Thai","Tibetan","Tifinagh","Tirhuta","Ugaritic","Vai","Wancho","Warang_Citi","Yezidi","Yi","Zanabazar_Square"]],["Binary_Property",["ASCII","ASCII_Hex_Digit","Alphabetic","Any","Assigned","Bidi_Control","Bidi_Mirrored","Case_Ignorable","Cased","Changes_When_Casefolded","Changes_When_Casemapped","Changes_When_Lowercased","Changes_When_NFKC_Casefolded","Changes_When_Titlecased","Changes_When_Uppercased","Dash","Default_Ignorable_Code_Point","Deprecated","Diacritic","Emoji","Emoji_Component","Emoji_Modifier","Emoji_Modifier_Base","Emoji_Presentation","Extended_Pictographic","Extender","Grapheme_Base","Grapheme_Extend","Hex_Digit","IDS_Binary_Operator","IDS_Trinary_Operator","ID_Continue","ID_Start","Ideographic","Join_Control","Logical_Order_Exception","Lowercase","Math","Noncharacter_Code_Point","Pattern_Syntax","Pattern_White_Space","Quotation_Mark","Radical","Regional_Indicator","Sentence_Terminal","Soft_Dotted","Terminal_Punctuation","Unified_Ideograph","Uppercase","Variation_Selector","White_Space","XID_Continue","XID_Start"]]])},47993:function(_e){_e.exports="13.0.0"},14640:function(_e,be,Te){var Pe={"./Binary_Property/ASCII.js":46962,"./Binary_Property/ASCII_Hex_Digit.js":60270,"./Binary_Property/Alphabetic.js":26969,"./Binary_Property/Any.js":22499,"./Binary_Property/Assigned.js":9213,"./Binary_Property/Bidi_Control.js":38838,"./Binary_Property/Bidi_Mirrored.js":5720,"./Binary_Property/Case_Ignorable.js":49965,"./Binary_Property/Cased.js":32948,"./Binary_Property/Changes_When_Casefolded.js":65314,"./Binary_Property/Changes_When_Casemapped.js":78562,"./Binary_Property/Changes_When_Lowercased.js":12104,"./Binary_Property/Changes_When_NFKC_Casefolded.js":41347,"./Binary_Property/Changes_When_Titlecased.js":50589,"./Binary_Property/Changes_When_Uppercased.js":50046,"./Binary_Property/Dash.js":77336,"./Binary_Property/Default_Ignorable_Code_Point.js":32016,"./Binary_Property/Deprecated.js":42339,"./Binary_Property/Diacritic.js":97707,"./Binary_Property/Emoji.js":23694,"./Binary_Property/Emoji_Component.js":94007,"./Binary_Property/Emoji_Modifier.js":13916,"./Binary_Property/Emoji_Modifier_Base.js":98053,"./Binary_Property/Emoji_Presentation.js":10906,"./Binary_Property/Extended_Pictographic.js":66359,"./Binary_Property/Extender.js":17743,"./Binary_Property/Grapheme_Base.js":75530,"./Binary_Property/Grapheme_Extend.js":38693,"./Binary_Property/Hex_Digit.js":91556,"./Binary_Property/IDS_Binary_Operator.js":2103,"./Binary_Property/IDS_Trinary_Operator.js":18502,"./Binary_Property/ID_Continue.js":19494,"./Binary_Property/ID_Start.js":20567,"./Binary_Property/Ideographic.js":19586,"./Binary_Property/Join_Control.js":36983,"./Binary_Property/Logical_Order_Exception.js":72947,"./Binary_Property/Lowercase.js":49111,"./Binary_Property/Math.js":65667,"./Binary_Property/Noncharacter_Code_Point.js":20052,"./Binary_Property/Pattern_Syntax.js":60514,"./Binary_Property/Pattern_White_Space.js":78588,"./Binary_Property/Quotation_Mark.js":1053,"./Binary_Property/Radical.js":25361,"./Binary_Property/Regional_Indicator.js":94375,"./Binary_Property/Sentence_Terminal.js":89697,"./Binary_Property/Soft_Dotted.js":35514,"./Binary_Property/Terminal_Punctuation.js":21043,"./Binary_Property/Unified_Ideograph.js":75771,"./Binary_Property/Uppercase.js":28368,"./Binary_Property/Variation_Selector.js":27186,"./Binary_Property/White_Space.js":61846,"./Binary_Property/XID_Continue.js":74003,"./Binary_Property/XID_Start.js":3468,"./General_Category/Cased_Letter.js":13090,"./General_Category/Close_Punctuation.js":8526,"./General_Category/Connector_Punctuation.js":26100,"./General_Category/Control.js":80282,"./General_Category/Currency_Symbol.js":15352,"./General_Category/Dash_Punctuation.js":45647,"./General_Category/Decimal_Number.js":98349,"./General_Category/Enclosing_Mark.js":18220,"./General_Category/Final_Punctuation.js":88482,"./General_Category/Format.js":87586,"./General_Category/Initial_Punctuation.js":88147,"./General_Category/Letter.js":65964,"./General_Category/Letter_Number.js":66793,"./General_Category/Line_Separator.js":63061,"./General_Category/Lowercase_Letter.js":19340,"./General_Category/Mark.js":93748,"./General_Category/Math_Symbol.js":32895,"./General_Category/Modifier_Letter.js":66710,"./General_Category/Modifier_Symbol.js":43026,"./General_Category/Nonspacing_Mark.js":95580,"./General_Category/Number.js":90055,"./General_Category/Open_Punctuation.js":25622,"./General_Category/Other.js":76288,"./General_Category/Other_Letter.js":61453,"./General_Category/Other_Number.js":88795,"./General_Category/Other_Punctuation.js":47221,"./General_Category/Other_Symbol.js":66733,"./General_Category/Paragraph_Separator.js":12600,"./General_Category/Private_Use.js":61704,"./General_Category/Punctuation.js":36290,"./General_Category/Separator.js":64661,"./General_Category/Space_Separator.js":54343,"./General_Category/Spacing_Mark.js":11276,"./General_Category/Surrogate.js":93474,"./General_Category/Symbol.js":54581,"./General_Category/Titlecase_Letter.js":8550,"./General_Category/Unassigned.js":22525,"./General_Category/Uppercase_Letter.js":28829,"./Script/Adlam.js":56129,"./Script/Ahom.js":50147,"./Script/Anatolian_Hieroglyphs.js":50926,"./Script/Arabic.js":56820,"./Script/Armenian.js":14899,"./Script/Avestan.js":69929,"./Script/Balinese.js":30706,"./Script/Bamum.js":15533,"./Script/Bassa_Vah.js":89979,"./Script/Batak.js":83765,"./Script/Bengali.js":72693,"./Script/Bhaiksuki.js":10236,"./Script/Bopomofo.js":30468,"./Script/Brahmi.js":45770,"./Script/Braille.js":65529,"./Script/Buginese.js":74206,"./Script/Buhid.js":96208,"./Script/Canadian_Aboriginal.js":66700,"./Script/Carian.js":93961,"./Script/Caucasian_Albanian.js":74121,"./Script/Chakma.js":12128,"./Script/Cham.js":52189,"./Script/Cherokee.js":75033,"./Script/Chorasmian.js":73507,"./Script/Common.js":85998,"./Script/Coptic.js":56036,"./Script/Cuneiform.js":13563,"./Script/Cypriot.js":49182,"./Script/Cyrillic.js":84087,"./Script/Deseret.js":48844,"./Script/Devanagari.js":35690,"./Script/Dives_Akuru.js":57201,"./Script/Dogra.js":71932,"./Script/Duployan.js":95187,"./Script/Egyptian_Hieroglyphs.js":49778,"./Script/Elbasan.js":42781,"./Script/Elymaic.js":83103,"./Script/Ethiopic.js":26672,"./Script/Georgian.js":73661,"./Script/Glagolitic.js":85857,"./Script/Gothic.js":32096,"./Script/Grantha.js":71742,"./Script/Greek.js":62199,"./Script/Gujarati.js":11931,"./Script/Gunjala_Gondi.js":27600,"./Script/Gurmukhi.js":76482,"./Script/Han.js":26294,"./Script/Hangul.js":38858,"./Script/Hanifi_Rohingya.js":50043,"./Script/Hanunoo.js":95307,"./Script/Hatran.js":20280,"./Script/Hebrew.js":12674,"./Script/Hiragana.js":54058,"./Script/Imperial_Aramaic.js":70521,"./Script/Inherited.js":21448,"./Script/Inscriptional_Pahlavi.js":35281,"./Script/Inscriptional_Parthian.js":35772,"./Script/Javanese.js":98272,"./Script/Kaithi.js":52764,"./Script/Kannada.js":98276,"./Script/Katakana.js":98285,"./Script/Kayah_Li.js":10821,"./Script/Kharoshthi.js":67559,"./Script/Khitan_Small_Script.js":48304,"./Script/Khmer.js":39834,"./Script/Khojki.js":42593,"./Script/Khudawadi.js":64415,"./Script/Lao.js":37740,"./Script/Latin.js":46818,"./Script/Lepcha.js":7647,"./Script/Limbu.js":92627,"./Script/Linear_A.js":16193,"./Script/Linear_B.js":71901,"./Script/Lisu.js":25734,"./Script/Lycian.js":6450,"./Script/Lydian.js":28293,"./Script/Mahajani.js":48193,"./Script/Makasar.js":50865,"./Script/Malayalam.js":24789,"./Script/Mandaic.js":9535,"./Script/Manichaean.js":83061,"./Script/Marchen.js":76528,"./Script/Masaram_Gondi.js":9921,"./Script/Medefaidrin.js":93378,"./Script/Meetei_Mayek.js":6940,"./Script/Mende_Kikakui.js":3897,"./Script/Meroitic_Cursive.js":65999,"./Script/Meroitic_Hieroglyphs.js":59758,"./Script/Miao.js":65484,"./Script/Modi.js":34575,"./Script/Mongolian.js":75392,"./Script/Mro.js":36388,"./Script/Multani.js":60556,"./Script/Myanmar.js":15837,"./Script/Nabataean.js":6820,"./Script/Nandinagari.js":51892,"./Script/New_Tai_Lue.js":32003,"./Script/Newa.js":15297,"./Script/Nko.js":17594,"./Script/Nushu.js":7493,"./Script/Nyiakeng_Puachue_Hmong.js":14406,"./Script/Ogham.js":75847,"./Script/Ol_Chiki.js":88416,"./Script/Old_Hungarian.js":40115,"./Script/Old_Italic.js":29109,"./Script/Old_North_Arabian.js":96840,"./Script/Old_Permic.js":39291,"./Script/Old_Persian.js":24678,"./Script/Old_Sogdian.js":78647,"./Script/Old_South_Arabian.js":70744,"./Script/Old_Turkic.js":59527,"./Script/Oriya.js":23761,"./Script/Osage.js":39384,"./Script/Osmanya.js":90237,"./Script/Pahawh_Hmong.js":62976,"./Script/Palmyrene.js":60351,"./Script/Pau_Cin_Hau.js":19767,"./Script/Phags_Pa.js":25712,"./Script/Phoenician.js":86458,"./Script/Psalter_Pahlavi.js":74874,"./Script/Rejang.js":27603,"./Script/Runic.js":84788,"./Script/Samaritan.js":45810,"./Script/Saurashtra.js":37632,"./Script/Sharada.js":15058,"./Script/Shavian.js":76250,"./Script/Siddham.js":39573,"./Script/SignWriting.js":54039,"./Script/Sinhala.js":1611,"./Script/Sogdian.js":34250,"./Script/Sora_Sompeng.js":43065,"./Script/Soyombo.js":18135,"./Script/Sundanese.js":95849,"./Script/Syloti_Nagri.js":46566,"./Script/Syriac.js":7810,"./Script/Tagalog.js":67833,"./Script/Tagbanwa.js":58009,"./Script/Tai_Le.js":1187,"./Script/Tai_Tham.js":40377,"./Script/Tai_Viet.js":99e3,"./Script/Takri.js":72294,"./Script/Tamil.js":98682,"./Script/Tangut.js":75540,"./Script/Telugu.js":65084,"./Script/Thaana.js":6867,"./Script/Thai.js":49907,"./Script/Tibetan.js":29341,"./Script/Tifinagh.js":81261,"./Script/Tirhuta.js":57954,"./Script/Ugaritic.js":29097,"./Script/Vai.js":5767,"./Script/Wancho.js":27172,"./Script/Warang_Citi.js":17315,"./Script/Yezidi.js":34961,"./Script/Yi.js":90923,"./Script/Zanabazar_Square.js":92108,"./Script_Extensions/Adlam.js":99614,"./Script_Extensions/Ahom.js":24915,"./Script_Extensions/Anatolian_Hieroglyphs.js":8983,"./Script_Extensions/Arabic.js":75627,"./Script_Extensions/Armenian.js":13585,"./Script_Extensions/Avestan.js":79384,"./Script_Extensions/Balinese.js":47072,"./Script_Extensions/Bamum.js":31856,"./Script_Extensions/Bassa_Vah.js":24945,"./Script_Extensions/Batak.js":92147,"./Script_Extensions/Bengali.js":61530,"./Script_Extensions/Bhaiksuki.js":64063,"./Script_Extensions/Bopomofo.js":29962,"./Script_Extensions/Brahmi.js":61752,"./Script_Extensions/Braille.js":28434,"./Script_Extensions/Buginese.js":15148,"./Script_Extensions/Buhid.js":78881,"./Script_Extensions/Canadian_Aboriginal.js":55254,"./Script_Extensions/Carian.js":79110,"./Script_Extensions/Caucasian_Albanian.js":76550,"./Script_Extensions/Chakma.js":88753,"./Script_Extensions/Cham.js":98451,"./Script_Extensions/Cherokee.js":80196,"./Script_Extensions/Chorasmian.js":23352,"./Script_Extensions/Common.js":46921,"./Script_Extensions/Coptic.js":44141,"./Script_Extensions/Cuneiform.js":30286,"./Script_Extensions/Cypriot.js":73326,"./Script_Extensions/Cyrillic.js":77115,"./Script_Extensions/Deseret.js":59108,"./Script_Extensions/Devanagari.js":59426,"./Script_Extensions/Dives_Akuru.js":44660,"./Script_Extensions/Dogra.js":41422,"./Script_Extensions/Duployan.js":66667,"./Script_Extensions/Egyptian_Hieroglyphs.js":20449,"./Script_Extensions/Elbasan.js":25810,"./Script_Extensions/Elymaic.js":83509,"./Script_Extensions/Ethiopic.js":37837,"./Script_Extensions/Georgian.js":77680,"./Script_Extensions/Glagolitic.js":97772,"./Script_Extensions/Gothic.js":60674,"./Script_Extensions/Grantha.js":52336,"./Script_Extensions/Greek.js":86310,"./Script_Extensions/Gujarati.js":92436,"./Script_Extensions/Gunjala_Gondi.js":20642,"./Script_Extensions/Gurmukhi.js":33831,"./Script_Extensions/Han.js":16613,"./Script_Extensions/Hangul.js":87001,"./Script_Extensions/Hanifi_Rohingya.js":88583,"./Script_Extensions/Hanunoo.js":82758,"./Script_Extensions/Hatran.js":66416,"./Script_Extensions/Hebrew.js":85222,"./Script_Extensions/Hiragana.js":60191,"./Script_Extensions/Imperial_Aramaic.js":57632,"./Script_Extensions/Inherited.js":96988,"./Script_Extensions/Inscriptional_Pahlavi.js":52121,"./Script_Extensions/Inscriptional_Parthian.js":82809,"./Script_Extensions/Javanese.js":31899,"./Script_Extensions/Kaithi.js":57574,"./Script_Extensions/Kannada.js":81868,"./Script_Extensions/Katakana.js":10774,"./Script_Extensions/Kayah_Li.js":76701,"./Script_Extensions/Kharoshthi.js":81466,"./Script_Extensions/Khitan_Small_Script.js":21325,"./Script_Extensions/Khmer.js":6068,"./Script_Extensions/Khojki.js":77706,"./Script_Extensions/Khudawadi.js":54258,"./Script_Extensions/Lao.js":77149,"./Script_Extensions/Latin.js":38334,"./Script_Extensions/Lepcha.js":12299,"./Script_Extensions/Limbu.js":25476,"./Script_Extensions/Linear_A.js":54625,"./Script_Extensions/Linear_B.js":38810,"./Script_Extensions/Lisu.js":90845,"./Script_Extensions/Lycian.js":68978,"./Script_Extensions/Lydian.js":67905,"./Script_Extensions/Mahajani.js":89576,"./Script_Extensions/Makasar.js":3405,"./Script_Extensions/Malayalam.js":974,"./Script_Extensions/Mandaic.js":28940,"./Script_Extensions/Manichaean.js":6677,"./Script_Extensions/Marchen.js":14740,"./Script_Extensions/Masaram_Gondi.js":82278,"./Script_Extensions/Medefaidrin.js":55949,"./Script_Extensions/Meetei_Mayek.js":13329,"./Script_Extensions/Mende_Kikakui.js":97146,"./Script_Extensions/Meroitic_Cursive.js":23715,"./Script_Extensions/Meroitic_Hieroglyphs.js":43199,"./Script_Extensions/Miao.js":26499,"./Script_Extensions/Modi.js":36995,"./Script_Extensions/Mongolian.js":98606,"./Script_Extensions/Mro.js":11462,"./Script_Extensions/Multani.js":45402,"./Script_Extensions/Myanmar.js":76318,"./Script_Extensions/Nabataean.js":34924,"./Script_Extensions/Nandinagari.js":8236,"./Script_Extensions/New_Tai_Lue.js":14575,"./Script_Extensions/Newa.js":71314,"./Script_Extensions/Nko.js":40577,"./Script_Extensions/Nushu.js":44432,"./Script_Extensions/Nyiakeng_Puachue_Hmong.js":53612,"./Script_Extensions/Ogham.js":19298,"./Script_Extensions/Ol_Chiki.js":55285,"./Script_Extensions/Old_Hungarian.js":16737,"./Script_Extensions/Old_Italic.js":73023,"./Script_Extensions/Old_North_Arabian.js":35723,"./Script_Extensions/Old_Permic.js":56370,"./Script_Extensions/Old_Persian.js":1402,"./Script_Extensions/Old_Sogdian.js":14718,"./Script_Extensions/Old_South_Arabian.js":40316,"./Script_Extensions/Old_Turkic.js":5462,"./Script_Extensions/Oriya.js":29434,"./Script_Extensions/Osage.js":77045,"./Script_Extensions/Osmanya.js":82301,"./Script_Extensions/Pahawh_Hmong.js":84766,"./Script_Extensions/Palmyrene.js":72685,"./Script_Extensions/Pau_Cin_Hau.js":34107,"./Script_Extensions/Phags_Pa.js":66506,"./Script_Extensions/Phoenician.js":42186,"./Script_Extensions/Psalter_Pahlavi.js":55507,"./Script_Extensions/Rejang.js":35435,"./Script_Extensions/Runic.js":76355,"./Script_Extensions/Samaritan.js":1509,"./Script_Extensions/Saurashtra.js":23386,"./Script_Extensions/Sharada.js":86116,"./Script_Extensions/Shavian.js":51826,"./Script_Extensions/Siddham.js":22026,"./Script_Extensions/SignWriting.js":96007,"./Script_Extensions/Sinhala.js":51104,"./Script_Extensions/Sogdian.js":82401,"./Script_Extensions/Sora_Sompeng.js":44399,"./Script_Extensions/Soyombo.js":37415,"./Script_Extensions/Sundanese.js":3894,"./Script_Extensions/Syloti_Nagri.js":5419,"./Script_Extensions/Syriac.js":21038,"./Script_Extensions/Tagalog.js":1744,"./Script_Extensions/Tagbanwa.js":54217,"./Script_Extensions/Tai_Le.js":63153,"./Script_Extensions/Tai_Tham.js":4926,"./Script_Extensions/Tai_Viet.js":39311,"./Script_Extensions/Takri.js":55970,"./Script_Extensions/Tamil.js":80882,"./Script_Extensions/Tangut.js":46776,"./Script_Extensions/Telugu.js":40444,"./Script_Extensions/Thaana.js":23431,"./Script_Extensions/Thai.js":94846,"./Script_Extensions/Tibetan.js":137,"./Script_Extensions/Tifinagh.js":67065,"./Script_Extensions/Tirhuta.js":98082,"./Script_Extensions/Ugaritic.js":29213,"./Script_Extensions/Vai.js":85388,"./Script_Extensions/Wancho.js":68659,"./Script_Extensions/Warang_Citi.js":27900,"./Script_Extensions/Yezidi.js":8051,"./Script_Extensions/Yi.js":99799,"./Script_Extensions/Zanabazar_Square.js":25904,"./index.js":94274,"./unicode-version.js":47993};function webpackContext(_e){var be=webpackContextResolve(_e);return Te(be)}function webpackContextResolve(_e){if(!Te.o(Pe,_e)){var be=new Error("Cannot find module '"+_e+"'");throw be.code="MODULE_NOT_FOUND",be}return Pe[_e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(Pe)},webpackContext.resolve=webpackContextResolve,_e.exports=webpackContext,webpackContext.id=14640},78776:function(_e,be,Te){var Pe;_e=Te.nmd(_e),function(pt){var vt=be,xt=(_e&&_e.exports,"object"==typeof Te.g&&Te.g);xt.global!==xt&&xt.window;var Tt="A range’s `stop` value must be greater than or equal to the `start` value.",It="Invalid code point value. Code points range from U+000000 to U+10FFFF.",Mt=55296,Lt=56319,Ft=56320,Ot=57343,Vt=/\\x00([^0123456789]|$)/g,qt={},Wt=qt.hasOwnProperty,forEach=function(_e,be){for(var Te=-1,Pe=_e.length;++Te<Pe;)be(_e[Te],Te)},$t=qt.toString,isArray=function(_e){return"[object Array]"==$t.call(_e)},isNumber=function(_e){return"number"==typeof _e||"[object Number]"==$t.call(_e)},pad=function(_e,be){var Te=String(_e);return Te.length<be?("0000"+Te).slice(-be):Te},hex=function(_e){return Number(_e).toString(16).toUpperCase()},Kt=[].slice,dataFromCodePoints=function(_e){for(var be,Te=-1,Pe=_e.length,pt=Pe-1,vt=[],xt=!0,Tt=0;++Te<Pe;)if(be=_e[Te],xt)vt.push(be),Tt=be,xt=!1;else if(be==Tt+1){if(Te!=pt){Tt=be;continue}xt=!0,vt.push(be+1)}else vt.push(Tt+1,be),Tt=be;return xt||vt.push(be+1),vt},dataRemove=function(_e,be){for(var Te,Pe,pt=0,vt=_e.length;pt<vt;){if(Te=_e[pt],Pe=_e[pt+1],be>=Te&&be<Pe)return be==Te?Pe==Te+1?(_e.splice(pt,2),_e):(_e[pt]=be+1,_e):be==Pe-1?(_e[pt+1]=be,_e):(_e.splice(pt,2,Te,be,be+1,Pe),_e);pt+=2}return _e},dataRemoveRange=function(_e,be,Te){if(Te<be)throw Error(Tt);for(var Pe,pt,vt=0;vt<_e.length;){if(Pe=_e[vt],pt=_e[vt+1]-1,Pe>Te)return _e;if(be<=Pe&&Te>=pt)_e.splice(vt,2);else{if(be>=Pe&&Te<pt)return be==Pe?(_e[vt]=Te+1,_e[vt+1]=pt+1,_e):(_e.splice(vt,2,Pe,be,Te+1,pt+1),_e);if(be>=Pe&&be<=pt)_e[vt+1]=be;else if(Te>=Pe&&Te<=pt)return _e[vt]=Te+1,_e;vt+=2}}return _e},dataAdd=function(_e,be){var Te,Pe,pt=0,vt=null,xt=_e.length;if(be<0||be>1114111)throw RangeError(It);for(;pt<xt;){if(Te=_e[pt],Pe=_e[pt+1],be>=Te&&be<Pe)return _e;if(be==Te-1)return _e[pt]=be,_e;if(Te>be)return _e.splice(null!=vt?vt+2:0,0,be,be+1),_e;if(be==Pe)return be+1==_e[pt+2]?(_e.splice(pt,4,Te,_e[pt+3]),_e):(_e[pt+1]=be+1,_e);vt=pt,pt+=2}return _e.push(be,be+1),_e},dataAddData=function(_e,be){for(var Te,Pe,pt=0,vt=_e.slice(),xt=be.length;pt<xt;)vt=(Te=be[pt])==(Pe=be[pt+1]-1)?dataAdd(vt,Te):dataAddRange(vt,Te,Pe),pt+=2;return vt},dataRemoveData=function(_e,be){for(var Te,Pe,pt=0,vt=_e.slice(),xt=be.length;pt<xt;)vt=(Te=be[pt])==(Pe=be[pt+1]-1)?dataRemove(vt,Te):dataRemoveRange(vt,Te,Pe),pt+=2;return vt},dataAddRange=function(_e,be,Te){if(Te<be)throw Error(Tt);if(be<0||be>1114111||Te<0||Te>1114111)throw RangeError(It);for(var Pe,pt,vt=0,xt=!1,Mt=_e.length;vt<Mt;){if(Pe=_e[vt],pt=_e[vt+1],xt){if(Pe==Te+1)return _e.splice(vt-1,2),_e;if(Pe>Te)return _e;Pe>=be&&Pe<=Te&&(pt>be&&pt-1<=Te?(_e.splice(vt,2),vt-=2):(_e.splice(vt-1,2),vt-=2))}else{if(Pe==Te+1||Pe==Te)return _e[vt]=be,_e;if(Pe>Te)return _e.splice(vt,0,be,Te+1),_e;if(be>=Pe&&be<pt&&Te+1<=pt)return _e;be>=Pe&&be<pt||pt==be?(_e[vt+1]=Te+1,xt=!0):be<=Pe&&Te+1>=pt&&(_e[vt]=be,_e[vt+1]=Te+1,xt=!0)}vt+=2}return xt||_e.push(be,Te+1),_e},dataContains=function(_e,be){var Te=0,Pe=_e.length,pt=_e[Te],vt=_e[Pe-1];if(Pe>=2&&(be<pt||be>vt))return!1;for(;Te<Pe;){if(pt=_e[Te],vt=_e[Te+1],be>=pt&&be<vt)return!0;Te+=2}return!1},dataIntersection=function(_e,be){for(var Te,Pe=0,pt=be.length,vt=[];Pe<pt;)Te=be[Pe],dataContains(_e,Te)&&vt.push(Te),++Pe;return dataFromCodePoints(vt)},dataIsEmpty=function(_e){return!_e.length},dataIsSingleton=function(_e){return 2==_e.length&&_e[0]+1==_e[1]},dataToArray=function(_e){for(var be,Te,Pe=0,pt=[],vt=_e.length;Pe<vt;){for(be=_e[Pe],Te=_e[Pe+1];be<Te;)pt.push(be),++be;Pe+=2}return pt},Jt=Math.floor,highSurrogate=function(_e){return parseInt(Jt((_e-65536)/1024)+Mt,10)},lowSurrogate=function(_e){return parseInt((_e-65536)%1024+Ft,10)},Yt=String.fromCharCode,codePointToString=function(_e){return 9==_e?"\\t":10==_e?"\\n":12==_e?"\\f":13==_e?"\\r":45==_e?"\\x2D":92==_e?"\\\\":36==_e||_e>=40&&_e<=43||46==_e||47==_e||63==_e||_e>=91&&_e<=94||_e>=123&&_e<=125?"\\"+Yt(_e):_e>=32&&_e<=126?Yt(_e):_e<=255?"\\x"+pad(hex(_e),2):"\\u"+pad(hex(_e),4)},codePointToStringUnicode=function(_e){return _e<=65535?codePointToString(_e):"\\u{"+_e.toString(16).toUpperCase()+"}"},symbolToCodePoint=function(_e){var be,Te=_e.length,Pe=_e.charCodeAt(0);return Pe>=Mt&&Pe<=Lt&&Te>1?(be=_e.charCodeAt(1),1024*(Pe-Mt)+be-Ft+65536):Pe},createBMPCharacterClasses=function(_e){var be,Te,Pe="",pt=0,vt=_e.length;if(dataIsSingleton(_e))return codePointToString(_e[0]);for(;pt<vt;)Pe+=(be=_e[pt])==(Te=_e[pt+1]-1)?codePointToString(be):be+1==Te?codePointToString(be)+codePointToString(Te):codePointToString(be)+"-"+codePointToString(Te),pt+=2;return"["+Pe+"]"},createUnicodeCharacterClasses=function(_e){var be,Te,Pe="",pt=0,vt=_e.length;if(dataIsSingleton(_e))return codePointToStringUnicode(_e[0]);for(;pt<vt;)Pe+=(be=_e[pt])==(Te=_e[pt+1]-1)?codePointToStringUnicode(be):be+1==Te?codePointToStringUnicode(be)+codePointToStringUnicode(Te):codePointToStringUnicode(be)+"-"+codePointToStringUnicode(Te),pt+=2;return"["+Pe+"]"},splitAtBMP=function(_e){for(var be,Te,Pe=[],pt=[],vt=[],xt=[],Tt=0,It=_e.length;Tt<It;)be=_e[Tt],Te=_e[Tt+1]-1,be<Mt?(Te<Mt&&vt.push(be,Te+1),Te>=Mt&&Te<=Lt&&(vt.push(be,Mt),Pe.push(Mt,Te+1)),Te>=Ft&&Te<=Ot&&(vt.push(be,Mt),Pe.push(Mt,56320),pt.push(Ft,Te+1)),Te>Ot&&(vt.push(be,Mt),Pe.push(Mt,56320),pt.push(Ft,57344),Te<=65535?vt.push(57344,Te+1):(vt.push(57344,65536),xt.push(65536,Te+1)))):be>=Mt&&be<=Lt?(Te>=Mt&&Te<=Lt&&Pe.push(be,Te+1),Te>=Ft&&Te<=Ot&&(Pe.push(be,56320),pt.push(Ft,Te+1)),Te>Ot&&(Pe.push(be,56320),pt.push(Ft,57344),Te<=65535?vt.push(57344,Te+1):(vt.push(57344,65536),xt.push(65536,Te+1)))):be>=Ft&&be<=Ot?(Te>=Ft&&Te<=Ot&&pt.push(be,Te+1),Te>Ot&&(pt.push(be,57344),Te<=65535?vt.push(57344,Te+1):(vt.push(57344,65536),xt.push(65536,Te+1)))):be>Ot&&be<=65535?Te<=65535?vt.push(be,Te+1):(vt.push(be,65536),xt.push(65536,Te+1)):xt.push(be,Te+1),Tt+=2;return{loneHighSurrogates:Pe,loneLowSurrogates:pt,bmp:vt,astral:xt}},optimizeSurrogateMappings=function(_e){for(var be,Te,Pe,pt,vt,xt,Tt=[],It=[],Mt=!1,Lt=-1,Ft=_e.length;++Lt<Ft;)if(be=_e[Lt],Te=_e[Lt+1]){for(Pe=be[0],pt=be[1],vt=Te[0],xt=Te[1],It=pt;vt&&Pe[0]==vt[0]&&Pe[1]==vt[1];)It=dataIsSingleton(xt)?dataAdd(It,xt[0]):dataAddRange(It,xt[0],xt[1]-1),Pe=(be=_e[++Lt])[0],pt=be[1],vt=(Te=_e[Lt+1])&&Te[0],xt=Te&&Te[1],Mt=!0;Tt.push([Pe,Mt?It:pt]),Mt=!1}else Tt.push(be);return optimizeByLowSurrogates(Tt)},optimizeByLowSurrogates=function(_e){if(1==_e.length)return _e;for(var be=-1,Te=-1;++be<_e.length;){var Pe=_e[be],pt=Pe[1],vt=pt[0],xt=pt[1];for(Te=be;++Te<_e.length;){var Tt=_e[Te],It=Tt[1],Mt=It[0],Lt=It[1];vt==Mt&&xt==Lt&&2===It.length&&(dataIsSingleton(Tt[0])?Pe[0]=dataAdd(Pe[0],Tt[0][0]):Pe[0]=dataAddRange(Pe[0],Tt[0][0],Tt[0][1]-1),_e.splice(Te,1),--Te)}}return _e},surrogateSet=function(_e){if(!_e.length)return[];for(var be,Te,Pe,pt,vt,xt,Tt=0,It=[],Mt=_e.length;Tt<Mt;){be=_e[Tt],Te=_e[Tt+1]-1,Pe=highSurrogate(be),pt=lowSurrogate(be),vt=highSurrogate(Te);var Lt=(xt=lowSurrogate(Te))==Ot,Vt=!1;Pe==vt||pt==Ft&&Lt?(It.push([[Pe,vt+1],[pt,xt+1]]),Vt=!0):It.push([[Pe,Pe+1],[pt,57344]]),!Vt&&Pe+1<vt&&(Lt?(It.push([[Pe+1,vt+1],[Ft,xt+1]]),Vt=!0):It.push([[Pe+1,vt],[Ft,57344]])),Vt||It.push([[vt,vt+1],[Ft,xt+1]]),Tt+=2}return optimizeSurrogateMappings(It)},createSurrogateCharacterClasses=function(_e){var be=[];return forEach(_e,(function(_e){var Te=_e[0],Pe=_e[1];be.push(createBMPCharacterClasses(Te)+createBMPCharacterClasses(Pe))})),be.join("|")},createCharacterClassesFromData=function(_e,be,Te){if(Te)return createUnicodeCharacterClasses(_e);var Pe=[],pt=splitAtBMP(_e),vt=pt.loneHighSurrogates,xt=pt.loneLowSurrogates,Tt=pt.bmp,It=pt.astral,Mt=!dataIsEmpty(vt),Lt=!dataIsEmpty(xt),Ft=surrogateSet(It);return be&&(Tt=dataAddData(Tt,vt),Mt=!1,Tt=dataAddData(Tt,xt),Lt=!1),dataIsEmpty(Tt)||Pe.push(createBMPCharacterClasses(Tt)),Ft.length&&Pe.push(createSurrogateCharacterClasses(Ft)),Mt&&Pe.push(createBMPCharacterClasses(vt)+"(?![\\uDC00-\\uDFFF])"),Lt&&Pe.push("(?:[^\\uD800-\\uDBFF]|^)"+createBMPCharacterClasses(xt)),Pe.join("|")},regenerate=function(_e){return arguments.length>1&&(_e=Kt.call(arguments)),this instanceof regenerate?(this.data=[],_e?this.add(_e):this):(new regenerate).add(_e)};regenerate.version="1.4.2";var Qt=regenerate.prototype;!function(_e,be){var Te;for(Te in be)Wt.call(be,Te)&&(_e[Te]=be[Te])}(Qt,{add:function(_e){var be=this;return null==_e?be:_e instanceof regenerate?(be.data=dataAddData(be.data,_e.data),be):(arguments.length>1&&(_e=Kt.call(arguments)),isArray(_e)?(forEach(_e,(function(_e){be.add(_e)})),be):(be.data=dataAdd(be.data,isNumber(_e)?_e:symbolToCodePoint(_e)),be))},remove:function(_e){var be=this;return null==_e?be:_e instanceof regenerate?(be.data=dataRemoveData(be.data,_e.data),be):(arguments.length>1&&(_e=Kt.call(arguments)),isArray(_e)?(forEach(_e,(function(_e){be.remove(_e)})),be):(be.data=dataRemove(be.data,isNumber(_e)?_e:symbolToCodePoint(_e)),be))},addRange:function(_e,be){var Te=this;return Te.data=dataAddRange(Te.data,isNumber(_e)?_e:symbolToCodePoint(_e),isNumber(be)?be:symbolToCodePoint(be)),Te},removeRange:function(_e,be){var Te=this,Pe=isNumber(_e)?_e:symbolToCodePoint(_e),pt=isNumber(be)?be:symbolToCodePoint(be);return Te.data=dataRemoveRange(Te.data,Pe,pt),Te},intersection:function(_e){var be=this,Te=_e instanceof regenerate?dataToArray(_e.data):_e;return be.data=dataIntersection(be.data,Te),be},contains:function(_e){return dataContains(this.data,isNumber(_e)?_e:symbolToCodePoint(_e))},clone:function(){var _e=new regenerate;return _e.data=this.data.slice(0),_e},toString:function(_e){var be=createCharacterClassesFromData(this.data,!!_e&&_e.bmpOnly,!!_e&&_e.hasUnicodeFlag);return be?be.replace(Vt,"\\0$1"):"[]"},toRegExp:function(_e){var be=this.toString(_e&&-1!=_e.indexOf("u")?{hasUnicodeFlag:!0}:null);return RegExp(be,_e||"")},valueOf:function(){return dataToArray(this.data)}}),Qt.toArray=Qt.valueOf,void 0===(Pe=function(){return regenerate}.call(be,Te,be,_e))||(_e.exports=Pe)}()},98957:function(_e,be,Te){"use strict";const Pe=Te(78776);be.REGULAR=new Map([["d",Pe().addRange(48,57)],["D",Pe().addRange(0,47).addRange(58,65535)],["s",Pe(32,160,5760,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233)],["S",Pe().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,65535)],["w",Pe(95).addRange(48,57).addRange(65,90).addRange(97,122)],["W",Pe(96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,65535)]]),be.UNICODE=new Map([["d",Pe().addRange(48,57)],["D",Pe().addRange(0,47).addRange(58,1114111)],["s",Pe(32,160,5760,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233)],["S",Pe().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,1114111)],["w",Pe(95).addRange(48,57).addRange(65,90).addRange(97,122)],["W",Pe(96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,1114111)]]),be.UNICODE_IGNORE_CASE=new Map([["d",Pe().addRange(48,57)],["D",Pe().addRange(0,47).addRange(58,1114111)],["s",Pe(32,160,5760,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233)],["S",Pe().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,1114111)],["w",Pe(95,383,8490).addRange(48,57).addRange(65,90).addRange(97,122)],["W",Pe(96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,382).addRange(384,8489).addRange(8491,1114111)]])},61818:function(_e){_e.exports=new Map([[75,8490],[83,383],[107,8490],[115,383],[181,924],[197,8491],[223,7838],[229,8491],[383,83],[452,453],[453,452],[455,456],[456,455],[458,459],[459,458],[497,498],[498,497],[618,42926],[642,42949],[669,42930],[837,8126],[914,976],[917,1013],[920,1012],[921,8126],[922,1008],[924,181],[928,982],[929,1009],[931,962],[934,981],[937,8486],[952,1012],[962,931],[969,8486],[976,914],[977,1012],[981,934],[982,928],[1008,922],[1009,929],[1012,[920,977,952]],[1013,917],[1042,7296],[1044,7297],[1054,7298],[1057,7299],[1058,7301],[1066,7302],[1074,7296],[1076,7297],[1086,7298],[1089,7299],[1090,[7300,7301]],[1098,7302],[1122,7303],[1123,7303],[4304,7312],[4305,7313],[4306,7314],[4307,7315],[4308,7316],[4309,7317],[4310,7318],[4311,7319],[4312,7320],[4313,7321],[4314,7322],[4315,7323],[4316,7324],[4317,7325],[4318,7326],[4319,7327],[4320,7328],[4321,7329],[4322,7330],[4323,7331],[4324,7332],[4325,7333],[4326,7334],[4327,7335],[4328,7336],[4329,7337],[4330,7338],[4331,7339],[4332,7340],[4333,7341],[4334,7342],[4335,7343],[4336,7344],[4337,7345],[4338,7346],[4339,7347],[4340,7348],[4341,7349],[4342,7350],[4343,7351],[4344,7352],[4345,7353],[4346,7354],[4349,7357],[4350,7358],[4351,7359],[5024,43888],[5025,43889],[5026,43890],[5027,43891],[5028,43892],[5029,43893],[5030,43894],[5031,43895],[5032,43896],[5033,43897],[5034,43898],[5035,43899],[5036,43900],[5037,43901],[5038,43902],[5039,43903],[5040,43904],[5041,43905],[5042,43906],[5043,43907],[5044,43908],[5045,43909],[5046,43910],[5047,43911],[5048,43912],[5049,43913],[5050,43914],[5051,43915],[5052,43916],[5053,43917],[5054,43918],[5055,43919],[5056,43920],[5057,43921],[5058,43922],[5059,43923],[5060,43924],[5061,43925],[5062,43926],[5063,43927],[5064,43928],[5065,43929],[5066,43930],[5067,43931],[5068,43932],[5069,43933],[5070,43934],[5071,43935],[5072,43936],[5073,43937],[5074,43938],[5075,43939],[5076,43940],[5077,43941],[5078,43942],[5079,43943],[5080,43944],[5081,43945],[5082,43946],[5083,43947],[5084,43948],[5085,43949],[5086,43950],[5087,43951],[5088,43952],[5089,43953],[5090,43954],[5091,43955],[5092,43956],[5093,43957],[5094,43958],[5095,43959],[5096,43960],[5097,43961],[5098,43962],[5099,43963],[5100,43964],[5101,43965],[5102,43966],[5103,43967],[5104,5112],[5105,5113],[5106,5114],[5107,5115],[5108,5116],[5109,5117],[5112,5104],[5113,5105],[5114,5106],[5115,5107],[5116,5108],[5117,5109],[7296,[1042,1074]],[7297,[1044,1076]],[7298,[1054,1086]],[7299,[1057,1089]],[7300,[7301,1090]],[7301,[1058,7300,1090]],[7302,[1066,1098]],[7303,[1122,1123]],[7304,[42570,42571]],[7312,4304],[7313,4305],[7314,4306],[7315,4307],[7316,4308],[7317,4309],[7318,4310],[7319,4311],[7320,4312],[7321,4313],[7322,4314],[7323,4315],[7324,4316],[7325,4317],[7326,4318],[7327,4319],[7328,4320],[7329,4321],[7330,4322],[7331,4323],[7332,4324],[7333,4325],[7334,4326],[7335,4327],[7336,4328],[7337,4329],[7338,4330],[7339,4331],[7340,4332],[7341,4333],[7342,4334],[7343,4335],[7344,4336],[7345,4337],[7346,4338],[7347,4339],[7348,4340],[7349,4341],[7350,4342],[7351,4343],[7352,4344],[7353,4345],[7354,4346],[7357,4349],[7358,4350],[7359,4351],[7566,42950],[7776,7835],[7835,7776],[7838,223],[8064,8072],[8065,8073],[8066,8074],[8067,8075],[8068,8076],[8069,8077],[8070,8078],[8071,8079],[8072,8064],[8073,8065],[8074,8066],[8075,8067],[8076,8068],[8077,8069],[8078,8070],[8079,8071],[8080,8088],[8081,8089],[8082,8090],[8083,8091],[8084,8092],[8085,8093],[8086,8094],[8087,8095],[8088,8080],[8089,8081],[8090,8082],[8091,8083],[8092,8084],[8093,8085],[8094,8086],[8095,8087],[8096,8104],[8097,8105],[8098,8106],[8099,8107],[8100,8108],[8101,8109],[8102,8110],[8103,8111],[8104,8096],[8105,8097],[8106,8098],[8107,8099],[8108,8100],[8109,8101],[8110,8102],[8111,8103],[8115,8124],[8124,8115],[8126,[837,921]],[8131,8140],[8140,8131],[8179,8188],[8188,8179],[8486,[937,969]],[8490,75],[8491,[197,229]],[42570,7304],[42571,7304],[42900,42948],[42926,618],[42930,669],[42931,43859],[42932,42933],[42933,42932],[42934,42935],[42935,42934],[42936,42937],[42937,42936],[42938,42939],[42939,42938],[42940,42941],[42941,42940],[42942,42943],[42943,42942],[42946,42947],[42947,42946],[42948,42900],[42949,642],[42950,7566],[43859,42931],[43888,5024],[43889,5025],[43890,5026],[43891,5027],[43892,5028],[43893,5029],[43894,5030],[43895,5031],[43896,5032],[43897,5033],[43898,5034],[43899,5035],[43900,5036],[43901,5037],[43902,5038],[43903,5039],[43904,5040],[43905,5041],[43906,5042],[43907,5043],[43908,5044],[43909,5045],[43910,5046],[43911,5047],[43912,5048],[43913,5049],[43914,5050],[43915,5051],[43916,5052],[43917,5053],[43918,5054],[43919,5055],[43920,5056],[43921,5057],[43922,5058],[43923,5059],[43924,5060],[43925,5061],[43926,5062],[43927,5063],[43928,5064],[43929,5065],[43930,5066],[43931,5067],[43932,5068],[43933,5069],[43934,5070],[43935,5071],[43936,5072],[43937,5073],[43938,5074],[43939,5075],[43940,5076],[43941,5077],[43942,5078],[43943,5079],[43944,5080],[43945,5081],[43946,5082],[43947,5083],[43948,5084],[43949,5085],[43950,5086],[43951,5087],[43952,5088],[43953,5089],[43954,5090],[43955,5091],[43956,5092],[43957,5093],[43958,5094],[43959,5095],[43960,5096],[43961,5097],[43962,5098],[43963,5099],[43964,5100],[43965,5101],[43966,5102],[43967,5103],[66560,66600],[66561,66601],[66562,66602],[66563,66603],[66564,66604],[66565,66605],[66566,66606],[66567,66607],[66568,66608],[66569,66609],[66570,66610],[66571,66611],[66572,66612],[66573,66613],[66574,66614],[66575,66615],[66576,66616],[66577,66617],[66578,66618],[66579,66619],[66580,66620],[66581,66621],[66582,66622],[66583,66623],[66584,66624],[66585,66625],[66586,66626],[66587,66627],[66588,66628],[66589,66629],[66590,66630],[66591,66631],[66592,66632],[66593,66633],[66594,66634],[66595,66635],[66596,66636],[66597,66637],[66598,66638],[66599,66639],[66600,66560],[66601,66561],[66602,66562],[66603,66563],[66604,66564],[66605,66565],[66606,66566],[66607,66567],[66608,66568],[66609,66569],[66610,66570],[66611,66571],[66612,66572],[66613,66573],[66614,66574],[66615,66575],[66616,66576],[66617,66577],[66618,66578],[66619,66579],[66620,66580],[66621,66581],[66622,66582],[66623,66583],[66624,66584],[66625,66585],[66626,66586],[66627,66587],[66628,66588],[66629,66589],[66630,66590],[66631,66591],[66632,66592],[66633,66593],[66634,66594],[66635,66595],[66636,66596],[66637,66597],[66638,66598],[66639,66599],[66736,66776],[66737,66777],[66738,66778],[66739,66779],[66740,66780],[66741,66781],[66742,66782],[66743,66783],[66744,66784],[66745,66785],[66746,66786],[66747,66787],[66748,66788],[66749,66789],[66750,66790],[66751,66791],[66752,66792],[66753,66793],[66754,66794],[66755,66795],[66756,66796],[66757,66797],[66758,66798],[66759,66799],[66760,66800],[66761,66801],[66762,66802],[66763,66803],[66764,66804],[66765,66805],[66766,66806],[66767,66807],[66768,66808],[66769,66809],[66770,66810],[66771,66811],[66776,66736],[66777,66737],[66778,66738],[66779,66739],[66780,66740],[66781,66741],[66782,66742],[66783,66743],[66784,66744],[66785,66745],[66786,66746],[66787,66747],[66788,66748],[66789,66749],[66790,66750],[66791,66751],[66792,66752],[66793,66753],[66794,66754],[66795,66755],[66796,66756],[66797,66757],[66798,66758],[66799,66759],[66800,66760],[66801,66761],[66802,66762],[66803,66763],[66804,66764],[66805,66765],[66806,66766],[66807,66767],[66808,66768],[66809,66769],[66810,66770],[66811,66771],[68736,68800],[68737,68801],[68738,68802],[68739,68803],[68740,68804],[68741,68805],[68742,68806],[68743,68807],[68744,68808],[68745,68809],[68746,68810],[68747,68811],[68748,68812],[68749,68813],[68750,68814],[68751,68815],[68752,68816],[68753,68817],[68754,68818],[68755,68819],[68756,68820],[68757,68821],[68758,68822],[68759,68823],[68760,68824],[68761,68825],[68762,68826],[68763,68827],[68764,68828],[68765,68829],[68766,68830],[68767,68831],[68768,68832],[68769,68833],[68770,68834],[68771,68835],[68772,68836],[68773,68837],[68774,68838],[68775,68839],[68776,68840],[68777,68841],[68778,68842],[68779,68843],[68780,68844],[68781,68845],[68782,68846],[68783,68847],[68784,68848],[68785,68849],[68786,68850],[68800,68736],[68801,68737],[68802,68738],[68803,68739],[68804,68740],[68805,68741],[68806,68742],[68807,68743],[68808,68744],[68809,68745],[68810,68746],[68811,68747],[68812,68748],[68813,68749],[68814,68750],[68815,68751],[68816,68752],[68817,68753],[68818,68754],[68819,68755],[68820,68756],[68821,68757],[68822,68758],[68823,68759],[68824,68760],[68825,68761],[68826,68762],[68827,68763],[68828,68764],[68829,68765],[68830,68766],[68831,68767],[68832,68768],[68833,68769],[68834,68770],[68835,68771],[68836,68772],[68837,68773],[68838,68774],[68839,68775],[68840,68776],[68841,68777],[68842,68778],[68843,68779],[68844,68780],[68845,68781],[68846,68782],[68847,68783],[68848,68784],[68849,68785],[68850,68786],[71840,71872],[71841,71873],[71842,71874],[71843,71875],[71844,71876],[71845,71877],[71846,71878],[71847,71879],[71848,71880],[71849,71881],[71850,71882],[71851,71883],[71852,71884],[71853,71885],[71854,71886],[71855,71887],[71856,71888],[71857,71889],[71858,71890],[71859,71891],[71860,71892],[71861,71893],[71862,71894],[71863,71895],[71864,71896],[71865,71897],[71866,71898],[71867,71899],[71868,71900],[71869,71901],[71870,71902],[71871,71903],[71872,71840],[71873,71841],[71874,71842],[71875,71843],[71876,71844],[71877,71845],[71878,71846],[71879,71847],[71880,71848],[71881,71849],[71882,71850],[71883,71851],[71884,71852],[71885,71853],[71886,71854],[71887,71855],[71888,71856],[71889,71857],[71890,71858],[71891,71859],[71892,71860],[71893,71861],[71894,71862],[71895,71863],[71896,71864],[71897,71865],[71898,71866],[71899,71867],[71900,71868],[71901,71869],[71902,71870],[71903,71871],[93760,93792],[93761,93793],[93762,93794],[93763,93795],[93764,93796],[93765,93797],[93766,93798],[93767,93799],[93768,93800],[93769,93801],[93770,93802],[93771,93803],[93772,93804],[93773,93805],[93774,93806],[93775,93807],[93776,93808],[93777,93809],[93778,93810],[93779,93811],[93780,93812],[93781,93813],[93782,93814],[93783,93815],[93784,93816],[93785,93817],[93786,93818],[93787,93819],[93788,93820],[93789,93821],[93790,93822],[93791,93823],[93792,93760],[93793,93761],[93794,93762],[93795,93763],[93796,93764],[93797,93765],[93798,93766],[93799,93767],[93800,93768],[93801,93769],[93802,93770],[93803,93771],[93804,93772],[93805,93773],[93806,93774],[93807,93775],[93808,93776],[93809,93777],[93810,93778],[93811,93779],[93812,93780],[93813,93781],[93814,93782],[93815,93783],[93816,93784],[93817,93785],[93818,93786],[93819,93787],[93820,93788],[93821,93789],[93822,93790],[93823,93791],[125184,125218],[125185,125219],[125186,125220],[125187,125221],[125188,125222],[125189,125223],[125190,125224],[125191,125225],[125192,125226],[125193,125227],[125194,125228],[125195,125229],[125196,125230],[125197,125231],[125198,125232],[125199,125233],[125200,125234],[125201,125235],[125202,125236],[125203,125237],[125204,125238],[125205,125239],[125206,125240],[125207,125241],[125208,125242],[125209,125243],[125210,125244],[125211,125245],[125212,125246],[125213,125247],[125214,125248],[125215,125249],[125216,125250],[125217,125251],[125218,125184],[125219,125185],[125220,125186],[125221,125187],[125222,125188],[125223,125189],[125224,125190],[125225,125191],[125226,125192],[125227,125193],[125228,125194],[125229,125195],[125230,125196],[125231,125197],[125232,125198],[125233,125199],[125234,125200],[125235,125201],[125236,125202],[125237,125203],[125238,125204],[125239,125205],[125240,125206],[125241,125207],[125242,125208],[125243,125209],[125244,125210],[125245,125211],[125246,125212],[125247,125213],[125248,125214],[125249,125215],[125250,125216],[125251,125217]])},11890:function(_e,be,Te){"use strict";const Pe=Te(23161).generate,pt=Te(89077).parse,vt=Te(78776),xt=Te(48710),Tt=Te(73276),It=Te(61818),Mt=Te(98957),Lt=vt().addRange(0,1114111),Ft=vt().addRange(0,65535),Ot=Lt.clone().remove(10,13,8232,8233),Vt=Ot.clone().intersection(Ft),getCharacterClassEscapeSet=(_e,be,Te)=>be?Te?Mt.UNICODE_IGNORE_CASE.get(_e):Mt.UNICODE.get(_e):Mt.REGULAR.get(_e),getUnicodePropertyValueSet=(_e,be)=>{const Pe=be?`${_e}/${be}`:`Binary_Property/${_e}`;try{return Te(14640)(`./${Pe}.js`)}catch(Te){throw new Error(`Failed to recognize value \`${be}\` for property \`${_e}\`.`)}},handleLoneUnicodePropertyNameOrValue=_e=>{try{const be="General_Category",Te=Tt(be,_e);return getUnicodePropertyValueSet(be,Te)}catch(_e){}const be=xt(_e);return getUnicodePropertyValueSet(be)},getUnicodePropertyEscapeSet=(_e,be)=>{const Te=_e.split("="),Pe=Te[0];let pt;if(1==Te.length)pt=handleLoneUnicodePropertyNameOrValue(Pe);else{const _e=xt(Pe),be=Tt(_e,Te[1]);pt=getUnicodePropertyValueSet(_e,be)}return be?Lt.clone().remove(pt):pt.clone()};vt.prototype.iuAddRange=function(_e,be){const Te=this;do{const be=caseFold(_e);be&&Te.add(be)}while(++_e<=be);return Te};const update=(_e,be)=>{let Te=pt(be,qt.useUnicodeFlag?"u":"");switch(Te.type){case"characterClass":case"group":case"value":break;default:Te=wrap(Te,be)}Object.assign(_e,Te)},wrap=(_e,be)=>({type:"group",behavior:"ignore",body:[_e],raw:`(?:${be})`}),caseFold=_e=>It.get(_e)||!1,processCharacterClass=(_e,be)=>{let Te=vt();for(const be of _e.body)switch(be.type){case"value":if(Te.add(be.codePoint),qt.ignoreCase&&qt.unicode&&!qt.useUnicodeFlag){const _e=caseFold(be.codePoint);_e&&Te.add(_e)}break;case"characterClassRange":const _e=be.min.codePoint,Pe=be.max.codePoint;Te.addRange(_e,Pe),qt.ignoreCase&&qt.unicode&&!qt.useUnicodeFlag&&Te.iuAddRange(_e,Pe);break;case"characterClassEscape":Te.add(getCharacterClassEscapeSet(be.value,qt.unicode,qt.ignoreCase));break;case"unicodePropertyEscape":Te.add(getUnicodePropertyEscapeSet(be.value,be.negative));break;default:throw new Error(`Unknown term type: ${be.type}`)}return _e.negative&&(Te=(qt.unicode?Lt:Ft).clone().remove(Te)),update(_e,Te.toString(be)),_e},updateNamedReference=(_e,be)=>{delete _e.name,_e.matchIndex=be},assertNoUnmatchedReferences=_e=>{const be=Object.keys(_e.unmatchedReferences);if(be.length>0)throw new Error(`Unknown group names: ${be}`)},processTerm=(_e,be,Te)=>{switch(_e.type){case"dot":update(_e,(Pe=qt.unicode,pt=qt.dotAll,pt?Pe?Lt:Ft:Pe?Ot:Vt).toString(be));break;case"characterClass":_e=processCharacterClass(_e,be);break;case"unicodePropertyEscape":update(_e,getUnicodePropertyEscapeSet(_e.value,_e.negative).toString(be));break;case"characterClassEscape":update(_e,getCharacterClassEscapeSet(_e.value,qt.unicode,qt.ignoreCase).toString(be));break;case"group":if(Te.lastIndex++,_e.name){const be=_e.name.value;if(Te.names[be])throw new Error(`Multiple groups with the same name (${be}) are not allowed.`);const Pe=Te.lastIndex;delete _e.name,Te.names[be]=Pe,Te.onNamedGroup&&Te.onNamedGroup.call(null,be,Pe),Te.unmatchedReferences[be]&&(Te.unmatchedReferences[be].forEach((_e=>{updateNamedReference(_e,Pe)})),delete Te.unmatchedReferences[be])}case"alternative":case"disjunction":case"quantifier":_e.body=_e.body.map((_e=>processTerm(_e,be,Te)));break;case"value":const xt=_e.codePoint,Tt=vt(xt);if(qt.ignoreCase&&qt.unicode&&!qt.useUnicodeFlag){const _e=caseFold(xt);_e&&Tt.add(_e)}update(_e,Tt.toString(be));break;case"reference":if(_e.name){const be=_e.name.value,Pe=Te.names[be];if(Pe){updateNamedReference(_e,Pe);break}Te.unmatchedReferences[be]||(Te.unmatchedReferences[be]=[]),Te.unmatchedReferences[be].push(_e)}break;case"anchor":case"empty":case"group":break;default:throw new Error(`Unknown term type: ${_e.type}`)}var Pe,pt;return _e},qt={ignoreCase:!1,unicode:!1,dotAll:!1,useUnicodeFlag:!1};_e.exports=(_e,be,Te)=>{const vt={unicodePropertyEscape:Te&&Te.unicodePropertyEscape,namedGroups:Te&&Te.namedGroup,lookbehind:Te&&Te.lookbehind};qt.ignoreCase=be&&be.includes("i"),qt.unicode=be&&be.includes("u");const xt=Te&&Te.dotAllFlag;qt.dotAll=xt&&be&&be.includes("s"),qt.useUnicodeFlag=Te&&Te.useUnicodeFlag;const Tt={hasUnicodeFlag:qt.useUnicodeFlag,bmpOnly:!qt.unicode},It={onNamedGroup:Te&&Te.onNamedGroup,lastIndex:0,names:Object.create(null),unmatchedReferences:Object.create(null)},Mt=pt(_e,be,vt);return processTerm(Mt,Tt,It),assertNoUnmatchedReferences(It),Pe(Mt)}},23161:function(_e,be,Te){var Pe;_e=Te.nmd(_e),function(){"use strict";var pt={function:!0,object:!0},vt=pt[typeof window]&&window||this,xt=pt[typeof be]&&be&&!be.nodeType&&be,Tt=pt.object&&_e&&!_e.nodeType,It=xt&&Tt&&"object"==typeof Te.g&&Te.g;!It||It.global!==It&&It.window!==It&&It.self!==It||(vt=It);var Mt=Object.prototype.hasOwnProperty;function fromCodePoint(){var _e=Number(arguments[0]);if(!isFinite(_e)||_e<0||_e>1114111||Math.floor(_e)!=_e)throw RangeError("Invalid code point: "+_e);if(_e<=65535)return String.fromCharCode(_e);var be=55296+((_e-=65536)>>10),Te=_e%1024+56320;return String.fromCharCode(be,Te)}var Lt={};function assertType(_e,be){if(-1==be.indexOf("|")){if(_e==be)return;throw Error("Invalid node type: "+_e+"; expected type: "+be)}if(!(be=Mt.call(Lt,be)?Lt[be]:Lt[be]=RegExp("^(?:"+be+")$")).test(_e))throw Error("Invalid node type: "+_e+"; expected types: "+be)}function generate(_e){var be=_e.type;if(Mt.call(Ft,be))return Ft[be](_e);throw Error("Invalid node type: "+be)}function generateSequence(_e,be){for(var Te,Pe=-1,pt=be.length,vt="";++Pe<pt;)Te=be[Pe],Pe+1<pt&&"value"==be[Pe].type&&"null"==be[Pe].kind&&"value"==be[Pe+1].type&&"symbol"==be[Pe+1].kind&&be[Pe+1].codePoint>=48&&be[Pe+1].codePoint<=57?vt+="\\000":vt+=_e(Te);return vt}function generateAtom(_e){return assertType(_e.type,"anchor|characterClass|characterClassEscape|dot|group|reference|value"),generate(_e)}function generateClassAtom(_e){return assertType(_e.type,"anchor|characterClassEscape|characterClassRange|dot|value"),generate(_e)}function generateIdentifier(_e){return assertType(_e.type,"identifier"),_e.value}function generateTerm(_e){return assertType(_e.type,"anchor|characterClass|characterClassEscape|empty|group|quantifier|reference|unicodePropertyEscape|value|dot"),generate(_e)}var Ft={alternative:function generateAlternative(_e){return assertType(_e.type,"alternative"),generateSequence(generateTerm,_e.body)},anchor:function generateAnchor(_e){switch(assertType(_e.type,"anchor"),_e.kind){case"start":return"^";case"end":return"$";case"boundary":return"\\b";case"not-boundary":return"\\B";default:throw Error("Invalid assertion")}},characterClass:function generateCharacterClass(_e){return assertType(_e.type,"characterClass"),"["+(_e.negative?"^":"")+generateSequence(generateClassAtom,_e.body)+"]"},characterClassEscape:function generateCharacterClassEscape(_e){return assertType(_e.type,"characterClassEscape"),"\\"+_e.value},characterClassRange:function generateCharacterClassRange(_e){assertType(_e.type,"characterClassRange");var be=_e.min,Te=_e.max;if("characterClassRange"==be.type||"characterClassRange"==Te.type)throw Error("Invalid character class range");return generateClassAtom(be)+"-"+generateClassAtom(Te)},disjunction:function generateDisjunction(_e){assertType(_e.type,"disjunction");for(var be=_e.body,Te=-1,Pe=be.length,pt="";++Te<Pe;)0!=Te&&(pt+="|"),pt+=generate(be[Te]);return pt},dot:function generateDot(_e){return assertType(_e.type,"dot"),"."},group:function generateGroup(_e){assertType(_e.type,"group");var be="";switch(_e.behavior){case"normal":_e.name&&(be+="?<"+generateIdentifier(_e.name)+">");break;case"ignore":be+="?:";break;case"lookahead":be+="?=";break;case"negativeLookahead":be+="?!";break;case"lookbehind":be+="?<=";break;case"negativeLookbehind":be+="?<!";break;default:throw Error("Invalid behaviour: "+_e.behaviour)}return"("+(be+=generateSequence(generate,_e.body))+")"},quantifier:function generateQuantifier(_e){assertType(_e.type,"quantifier");var be="",Te=_e.min,Pe=_e.max;return be=null==Pe?0==Te?"*":1==Te?"+":"{"+Te+",}":Te==Pe?"{"+Te+"}":0==Te&&1==Pe?"?":"{"+Te+","+Pe+"}",_e.greedy||(be+="?"),generateAtom(_e.body[0])+be},reference:function generateReference(_e){if(assertType(_e.type,"reference"),_e.matchIndex)return"\\"+_e.matchIndex;if(_e.name)return"\\k<"+generateIdentifier(_e.name)+">";throw new Error("Unknown reference type")},unicodePropertyEscape:function generateUnicodePropertyEscape(_e){return assertType(_e.type,"unicodePropertyEscape"),"\\"+(_e.negative?"P":"p")+"{"+_e.value+"}"},value:function generateValue(_e){assertType(_e.type,"value");var be=_e.kind,Te=_e.codePoint;if("number"!=typeof Te)throw new Error("Invalid code point: "+Te);switch(be){case"controlLetter":return"\\c"+fromCodePoint(Te+64);case"hexadecimalEscape":return"\\x"+("00"+Te.toString(16).toUpperCase()).slice(-2);case"identifier":return"\\"+fromCodePoint(Te);case"null":return"\\"+Te;case"octal":return"\\"+("000"+Te.toString(8)).slice(-3);case"singleEscape":switch(Te){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r";case 45:return"\\-";default:throw Error("Invalid code point: "+Te)}case"symbol":return fromCodePoint(Te);case"unicodeEscape":return"\\u"+("0000"+Te.toString(16).toUpperCase()).slice(-4);case"unicodeCodePointEscape":return"\\u{"+Te.toString(16).toUpperCase()+"}";default:throw Error("Unsupported node kind: "+be)}}},Ot={generate:generate};void 0===(Pe=function(){return Ot}.call(be,Te,be,_e))||(_e.exports=Pe),vt.regjsgen=Ot}.call(this)},89077:function(_e){var be,Te,Pe,pt;Pe=String.fromCodePoint||(be=String.fromCharCode,Te=Math.floor,function fromCodePoint(){var _e,Pe,pt=16384,vt=[],xt=-1,Tt=arguments.length;if(!Tt)return"";for(var It="";++xt<Tt;){var Mt=Number(arguments[xt]);if(!isFinite(Mt)||Mt<0||Mt>1114111||Te(Mt)!=Mt)throw RangeError("Invalid code point: "+Mt);Mt<=65535?vt.push(Mt):(_e=55296+((Mt-=65536)>>10),Pe=Mt%1024+56320,vt.push(_e,Pe)),(xt+1==Tt||vt.length>pt)&&(It+=be.apply(null,vt),vt.length=0)}return It}),pt={parse:function parse(_e,be,Te){function addRaw(be){return be.raw=_e.substring(be.range[0],be.range[1]),be}function updateRawStart(_e,be){return _e.range[0]=be,addRaw(_e)}function createAnchor(_e,be){return addRaw({type:"anchor",kind:_e,range:[It-be,It]})}function createValue(_e,be,Te,Pe){return addRaw({type:"value",kind:_e,codePoint:be,range:[Te,Pe]})}function createEscaped(_e,be,Te,Pe){return Pe=Pe||0,createValue(_e,be,It-(Te.length+Pe),It)}function createCharacter(_e){var be,Te=_e[0],Pe=Te.charCodeAt(0);return Tt&&1===Te.length&&Pe>=55296&&Pe<=56319&&(be=lookahead().charCodeAt(0))>=56320&&be<=57343?createValue("symbol",1024*(Pe-55296)+be-56320+65536,++It-2,It):createValue("symbol",Pe,It-1,It)}function createDisjunction(_e,be,Te){return addRaw({type:"disjunction",body:_e,range:[be,Te]})}function createNamedReference(_e){return addRaw({type:"reference",name:_e,range:[_e.range[0]-3,It]})}function createGroup(_e,be,Te,Pe){return addRaw({type:"group",behavior:_e,body:be,range:[Te,Pe]})}function createQuantifier(_e,be,Te,Pe){return null==Pe&&(Te=It-1,Pe=It),addRaw({type:"quantifier",min:_e,max:be,greedy:!0,body:null,range:[Te,Pe]})}function createAlternative(_e,be,Te){return addRaw({type:"alternative",body:_e,range:[be,Te]})}function createCharacterClass(_e,be,Te,Pe){return addRaw({type:"characterClass",body:_e,negative:be,range:[Te,Pe]})}function createClassRange(_e,be,Te,Pe){return _e.codePoint>be.codePoint&&bail("invalid range in character class",_e.raw+"-"+be.raw,Te,Pe),addRaw({type:"characterClassRange",min:_e,max:be,range:[Te,Pe]})}function flattenBody(_e){return"alternative"===_e.type?_e.body:[_e]}function incr(be){be=be||1;var Te=_e.substring(It,It+be);return It+=be||1,Te}function skip(_e){match(_e)||bail("character",_e)}function match(be){if(_e.indexOf(be,It)===It)return incr(be.length)}function lookahead(){return _e[It]}function current(be){return _e.indexOf(be,It)===It}function next(be){return _e[It+1]===be}function matchReg(be){var Te=_e.substring(It).match(be);return Te&&(Te.range=[],Te.range[0]=It,incr(Te[0].length),Te.range[1]=It),Te}function parseDisjunction(){var _e=[],be=It;for(_e.push(parseAlternative());match("|");)_e.push(parseAlternative());return 1===_e.length?_e[0]:createDisjunction(_e,be,It)}function parseAlternative(){for(var _e,be=[],Te=It;_e=parseTerm();)be.push(_e);return 1===be.length?be[0]:createAlternative(be,Te,It)}function parseTerm(){if(It>=_e.length||current("|")||current(")"))return null;var be=match("^")?createAnchor("start",1):match("$")?createAnchor("end",1):match("\\b")?createAnchor("boundary",2):match("\\B")?createAnchor("not-boundary",2):parseGroup("(?=","lookahead","(?!","negativeLookahead");if(be)return be;var Te,Pe=parseAtomAndExtendedAtom();return Pe||(pos_backup=It,(Te=parseQuantifier()||!1)&&(It=pos_backup,bail("Expected atom")),!Tt&&(res=matchReg(/^{/))?Pe=createCharacter(res):bail("Expected atom")),(Te=parseQuantifier()||!1)?(Te.body=flattenBody(Pe),updateRawStart(Te,Pe.range[0]),Te):Pe}function parseGroup(_e,be,Te,Pe){var pt=null,vt=It;if(match(_e))pt=be;else{if(!match(Te))return!1;pt=Pe}return finishGroup(pt,vt)}function finishGroup(_e,be){var Te=parseDisjunction();Te||bail("Expected disjunction"),skip(")");var Pe=createGroup(_e,flattenBody(Te),be,It);return"normal"==_e&&xt&&vt++,Pe}function parseQuantifier(){var _e,be,Te,Pe,pt=It;return match("*")?be=createQuantifier(0):match("+")?be=createQuantifier(1):match("?")?be=createQuantifier(0,1):(_e=matchReg(/^\{([0-9]+)\}/))?be=createQuantifier(Te=parseInt(_e[1],10),Te,_e.range[0],_e.range[1]):(_e=matchReg(/^\{([0-9]+),\}/))?be=createQuantifier(Te=parseInt(_e[1],10),void 0,_e.range[0],_e.range[1]):(_e=matchReg(/^\{([0-9]+),([0-9]+)\}/))&&((Te=parseInt(_e[1],10))>(Pe=parseInt(_e[2],10))&&bail("numbers out of order in {} quantifier","",pt,It),be=createQuantifier(Te,Pe,_e.range[0],_e.range[1])),be&&match("?")&&(be.greedy=!1,be.range[1]+=1),be}function parseAtomAndExtendedAtom(){var _e;if(_e=matchReg(/^[^^$\\.*+?()[\]{}|]/))return createCharacter(_e);if(!Tt&&(_e=matchReg(/^(?:]|})/)))return createCharacter(_e);if(match("."))return addRaw({type:"dot",range:[It-1,It]});if(match("\\")){if(!(_e=parseAtomEscape())){if(!Tt&&"c"==lookahead())return createValue("symbol",92,It-1,It);bail("atomEscape")}return _e}if(_e=parseCharacterClass())return _e;if(Te.lookbehind&&(_e=parseGroup("(?<=","lookbehind","(?<!","negativeLookbehind")))return _e;if(Te.namedGroups&&match("(?<")){var be=parseIdentifier();skip(">");var Pe=finishGroup("normal",be.range[0]-3);return Pe.name=be,Pe}return parseGroup("(?:","ignore","(","normal")}function parseUnicodeSurrogatePairEscape(_e){var be,Te;if(Tt&&"unicodeEscape"==_e.kind&&(be=_e.codePoint)>=55296&&be<=56319&&current("\\")&&next("u")){var Pe=It;It++;var pt=parseClassEscape();"unicodeEscape"==pt.kind&&(Te=pt.codePoint)>=56320&&Te<=57343?(_e.range[1]=pt.range[1],_e.codePoint=1024*(be-55296)+Te-56320+65536,_e.type="value",_e.kind="unicodeCodePointEscape",addRaw(_e)):It=Pe}return _e}function parseClassEscape(){return parseAtomEscape(!0)}function parseAtomEscape(_e){var be,Te=It;if(be=parseDecimalEscape()||parseNamedReference())return be;if(_e){if(match("b"))return createEscaped("singleEscape",8,"\\b");if(match("B"))bail("\\B not possible inside of CharacterClass","",Te);else{if(!Tt&&(be=matchReg(/^c([0-9])/)))return createEscaped("controlLetter",be[1]+16,be[1],2);if(!Tt&&(be=matchReg(/^c_/)))return createEscaped("controlLetter",31,"_",2)}if(Tt&&match("-"))return createEscaped("singleEscape",45,"\\-")}return be=parseCharacterEscape()}function parseDecimalEscape(){var _e,be,Te;if(_e=matchReg(/^(?!0)\d+/)){be=_e[0];var Pe=parseInt(_e[0],10);return Pe<=vt?(Te=_e[0],addRaw({type:"reference",matchIndex:parseInt(Te,10),range:[It-1-Te.length,It]})):(pt.push(Pe),incr(-_e[0].length),(_e=matchReg(/^[0-7]{1,3}/))?createEscaped("octal",parseInt(_e[0],8),_e[0],1):updateRawStart(_e=createCharacter(matchReg(/^[89]/)),_e.range[0]-1))}return(_e=matchReg(/^[0-7]{1,3}/))?(be=_e[0],/^0{1,3}$/.test(be)?createEscaped("null",0,"0",be.length):createEscaped("octal",parseInt(be,8),be,1)):!!(_e=matchReg(/^[dDsSwW]/))&&addRaw({type:"characterClassEscape",value:_e[0],range:[It-2,It]})}function parseNamedReference(){if(Te.namedGroups&&matchReg(/^k<(?=.*?>)/)){var _e=parseIdentifier();return skip(">"),createNamedReference(_e)}}function parseRegExpUnicodeEscapeSequence(){var _e;return(_e=matchReg(/^u([0-9a-fA-F]{4})/))?parseUnicodeSurrogatePairEscape(createEscaped("unicodeEscape",parseInt(_e[1],16),_e[1],2)):Tt&&(_e=matchReg(/^u\{([0-9a-fA-F]+)\}/))?createEscaped("unicodeCodePointEscape",parseInt(_e[1],16),_e[1],4):void 0}function parseCharacterEscape(){var _e,be,Pe,pt=It;if(_e=matchReg(/^[fnrtv]/)){var vt=0;switch(_e[0]){case"t":vt=9;break;case"n":vt=10;break;case"v":vt=11;break;case"f":vt=12;break;case"r":vt=13}return createEscaped("singleEscape",vt,"\\"+_e[0])}return(_e=matchReg(/^c([a-zA-Z])/))?createEscaped("controlLetter",_e[1].charCodeAt(0)%32,_e[1],2):(_e=matchReg(/^x([0-9a-fA-F]{2})/))?createEscaped("hexadecimalEscape",parseInt(_e[1],16),_e[1],2):(_e=parseRegExpUnicodeEscapeSequence())?((!_e||_e.codePoint>1114111)&&bail("Invalid escape sequence",null,pt,It),_e):Te.unicodePropertyEscape&&Tt&&(_e=matchReg(/^([pP])\{([^\}]+)\}/))?addRaw({type:"unicodePropertyEscape",negative:"P"===_e[1],value:_e[2],range:[_e.range[0]-1,_e.range[1]],raw:_e[0]}):(Pe=lookahead(),Tt&&/[\^\$\.\*\+\?\(\)\\\[\]\{\}\|\/]/.test(Pe)||!Tt&&"c"!==Pe?"k"===Pe&&Te.lookbehind?null:createEscaped("identifier",(be=incr()).charCodeAt(0),be,1):null)}function parseIdentifierAtom(be){var Te=lookahead(),pt=It;if("\\"===Te){incr();var vt=parseRegExpUnicodeEscapeSequence();return vt&&be(vt.codePoint)||bail("Invalid escape sequence",null,pt,It),Pe(vt.codePoint)}var xt=Te.charCodeAt(0);if(xt>=55296&&xt<=56319){var Tt=(Te+=_e[It+1]).charCodeAt(1);Tt>=56320&&Tt<=57343&&(xt=1024*(xt-55296)+Tt-56320+65536)}if(be(xt))return incr(),xt>65535&&incr(),Te}function parseIdentifier(){var _e,be=It,Te=parseIdentifierAtom(isIdentifierStart);for(Te||bail("Invalid identifier");_e=parseIdentifierAtom(isIdentifierPart);)Te+=_e;return addRaw({type:"identifier",value:Te,range:[be,It]})}function isIdentifierStart(_e){return 36===_e||95===_e||_e>=65&&_e<=90||_e>=97&&_e<=122||_e>=128&&/[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFF1]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/.test(Pe(_e))}function isIdentifierPart(_e){return isIdentifierStart(_e)||_e>=48&&_e<=57||_e>=128&&/[0-9_\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDD30-\uDD39\uDF46-\uDF50]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC66-\uDC6F\uDC7F-\uDC82\uDCB0-\uDCBA\uDCF0-\uDCF9\uDD00-\uDD02\uDD27-\uDD34\uDD36-\uDD3F\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDD0-\uDDD9\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC50-\uDC59\uDC5E\uDCB0-\uDCC3\uDCD0-\uDCD9\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDE50-\uDE59\uDEAB-\uDEB7\uDEC0-\uDEC9\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC2C-\uDC3A\uDCE0-\uDCE9\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC50-\uDC59\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD50-\uDD59\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDDA0-\uDDA9\uDEF3-\uDEF6]|\uD81A[\uDE60-\uDE69\uDEF0-\uDEF4\uDF30-\uDF36\uDF50-\uDF59]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A\uDD50-\uDD59]|\uDB40[\uDD00-\uDDEF]/.test(Pe(_e))}function parseCharacterClass(){var _e,be=It;return(_e=matchReg(/^\[\^/))?(_e=parseClassRanges(),skip("]"),createCharacterClass(_e,!0,be,It)):match("[")?(_e=parseClassRanges(),skip("]"),createCharacterClass(_e,!1,be,It)):null}function parseClassRanges(){var _e,be;return current("]")?[]:((be=parseClassAtom())||bail("classAtom"),(_e=current("]")?[be]:parseHelperClassRanges(be))||bail("nonEmptyClassRanges"),_e)}function parseHelperClassRanges(_e){var be,Te,Pe,pt,vt;if(current("-")&&!next("]")){be=_e.range[0],vt=createCharacter(match("-")),(pt=parseClassAtom())||bail("classAtom"),Te=It;var xt=parseClassRanges();return xt||bail("classRanges"),"codePoint"in _e&&"codePoint"in pt?Pe=[createClassRange(_e,pt,be,Te)]:Tt?bail("invalid character class"):Pe=[_e,vt,pt],"empty"===xt.type?Pe:Pe.concat(xt)}return(Pe=parseNonemptyClassRangesNoDash())||bail("nonEmptyClassRangesNoDash"),[_e].concat(Pe)}function parseNonemptyClassRangesNoDash(){var _e=parseClassAtom();return _e||bail("classAtom"),current("]")?_e:parseHelperClassRanges(_e)}function parseClassAtom(){return match("-")?createCharacter("-"):parseClassAtomNoDash()}function parseClassAtomNoDash(){var _e;return(_e=matchReg(/^[^\\\]-]/))?createCharacter(_e[0]):match("\\")?((_e=parseClassEscape())||bail("classEscape"),parseUnicodeSurrogatePairEscape(_e)):void 0}function bail(be,Te,Pe,pt){Pe=null==Pe?It:Pe,pt=null==pt?Pe:pt;var vt=Math.max(0,Pe-10),xt=Math.min(pt+10,_e.length),Tt="    "+_e.substring(vt,xt),Mt="    "+new Array(Pe-vt+1).join(" ")+"^";throw SyntaxError(be+" at position "+Pe+(Te?": "+Te:"")+"\n"+Tt+"\n"+Mt)}Te||(Te={});var pt=[],vt=0,xt=!0,Tt=-1!==(be||"").indexOf("u"),It=0;""===(_e=String(_e))&&(_e="(?:)");var Mt=parseDisjunction();Mt.range[1]!==_e.length&&bail("Could not parse entire input - got stuck","",Mt.range[1]);for(var Lt=0;Lt<pt.length;Lt++)if(pt[Lt]<=vt)return It=0,xt=!1,parseDisjunction();return Mt}},_e.exports?_e.exports=pt:window.regjsparser=pt},44359:function(_e){"use strict";_e.exports=function stripHtmlComments(_e){if("string"!=typeof _e)throw new TypeError("strip-html-comments expected a string");return _e.replace(/<!--[\s\S]*?(?:-->)/g,"")}},92959:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(93379),pt=Te.n(Pe),vt=Te(7795),xt=Te.n(vt),Tt=Te(90569),It=Te.n(Tt),Mt=Te(3565),Lt=Te.n(Mt),Ft=Te(19216),Ot=Te.n(Ft),Vt=Te(44589),qt=Te.n(Vt),Wt=Te(78009),$t={};$t.styleTagTransform=qt(),$t.setAttributes=Lt(),$t.insert=It().bind(null,"head"),$t.domAPI=xt(),$t.insertStyleElement=Ot();pt()(Wt.Z,$t);be.default=Wt.Z&&Wt.Z.locals?Wt.Z.locals:void 0},72679:function(_e,be,Te){"use strict";Te.r(be);var Pe=Te(93379),pt=Te.n(Pe),vt=Te(7795),xt=Te.n(vt),Tt=Te(90569),It=Te.n(Tt),Mt=Te(3565),Lt=Te.n(Mt),Ft=Te(19216),Ot=Te.n(Ft),Vt=Te(44589),qt=Te.n(Vt),Wt=Te(7113),$t={};$t.styleTagTransform=qt(),$t.setAttributes=Lt(),$t.insert=It().bind(null,"head"),$t.domAPI=xt(),$t.insertStyleElement=Ot();pt()(Wt.Z,$t);be.default=Wt.Z&&Wt.Z.locals?Wt.Z.locals:void 0},93379:function(_e){"use strict";var be=[];function getIndexByIdentifier(_e){for(var Te=-1,Pe=0;Pe<be.length;Pe++)if(be[Pe].identifier===_e){Te=Pe;break}return Te}function modulesToDom(_e,Te){for(var Pe={},pt=[],vt=0;vt<_e.length;vt++){var xt=_e[vt],Tt=Te.base?xt[0]+Te.base:xt[0],It=Pe[Tt]||0,Mt="".concat(Tt," ").concat(It);Pe[Tt]=It+1;var Lt=getIndexByIdentifier(Mt),Ft={css:xt[1],media:xt[2],sourceMap:xt[3],supports:xt[4],layer:xt[5]};if(-1!==Lt)be[Lt].references++,be[Lt].updater(Ft);else{var Ot=addElementStyle(Ft,Te);Te.byIndex=vt,be.splice(vt,0,{identifier:Mt,updater:Ot,references:1})}pt.push(Mt)}return pt}function addElementStyle(_e,be){var Te=be.domAPI(be);Te.update(_e);return function updater(be){if(be){if(be.css===_e.css&&be.media===_e.media&&be.sourceMap===_e.sourceMap&&be.supports===_e.supports&&be.layer===_e.layer)return;Te.update(_e=be)}else Te.remove()}}_e.exports=function(_e,Te){var Pe=modulesToDom(_e=_e||[],Te=Te||{});return function update(_e){_e=_e||[];for(var pt=0;pt<Pe.length;pt++){var vt=getIndexByIdentifier(Pe[pt]);be[vt].references--}for(var xt=modulesToDom(_e,Te),Tt=0;Tt<Pe.length;Tt++){var It=getIndexByIdentifier(Pe[Tt]);0===be[It].references&&(be[It].updater(),be.splice(It,1))}Pe=xt}}},90569:function(_e){"use strict";var be={};function getTarget(_e){if(void 0===be[_e]){var Te=document.querySelector(_e);if(window.HTMLIFrameElement&&Te instanceof window.HTMLIFrameElement)try{Te=Te.contentDocument.head}catch(_e){Te=null}be[_e]=Te}return be[_e]}_e.exports=function insertBySelector(_e,be){var Te=getTarget(_e);if(!Te)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Te.appendChild(be)}},19216:function(_e){"use strict";_e.exports=function insertStyleElement(_e){var be=document.createElement("style");return _e.setAttributes(be,_e.attributes),_e.insert(be,_e.options),be}},3565:function(_e,be,Te){"use strict";_e.exports=function setAttributesWithoutAttributes(_e){var be=Te.nc;be&&_e.setAttribute("nonce",be)}},7795:function(_e){"use strict";function apply(_e,be,Te){var Pe="";Te.supports&&(Pe+="@supports (".concat(Te.supports,") {")),Te.media&&(Pe+="@media ".concat(Te.media," {"));var pt=void 0!==Te.layer;pt&&(Pe+="@layer".concat(Te.layer.length>0?" ".concat(Te.layer):""," {")),Pe+=Te.css,pt&&(Pe+="}"),Te.media&&(Pe+="}"),Te.supports&&(Pe+="}");var vt=Te.sourceMap;vt&&"undefined"!=typeof btoa&&(Pe+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(vt))))," */")),be.styleTagTransform(Pe,_e,be.options)}function removeStyleElement(_e){if(null===_e.parentNode)return!1;_e.parentNode.removeChild(_e)}_e.exports=function domAPI(_e){var be=_e.insertStyleElement(_e);return{update:function update(Te){apply(be,_e,Te)},remove:function remove(){removeStyleElement(be)}}}},44589:function(_e){"use strict";_e.exports=function styleTagTransform(_e,be){if(be.styleSheet)be.styleSheet.cssText=_e;else{for(;be.firstChild;)be.removeChild(be.firstChild);be.appendChild(document.createTextNode(_e))}}},42351:function(_e){_e.exports=new Set(["General_Category","Script","Script_Extensions","Alphabetic","Any","ASCII","ASCII_Hex_Digit","Assigned","Bidi_Control","Bidi_Mirrored","Case_Ignorable","Cased","Changes_When_Casefolded","Changes_When_Casemapped","Changes_When_Lowercased","Changes_When_NFKC_Casefolded","Changes_When_Titlecased","Changes_When_Uppercased","Dash","Default_Ignorable_Code_Point","Deprecated","Diacritic","Emoji","Emoji_Component","Emoji_Modifier","Emoji_Modifier_Base","Emoji_Presentation","Extended_Pictographic","Extender","Grapheme_Base","Grapheme_Extend","Hex_Digit","ID_Continue","ID_Start","Ideographic","IDS_Binary_Operator","IDS_Trinary_Operator","Join_Control","Logical_Order_Exception","Lowercase","Math","Noncharacter_Code_Point","Pattern_Syntax","Pattern_White_Space","Quotation_Mark","Radical","Regional_Indicator","Sentence_Terminal","Soft_Dotted","Terminal_Punctuation","Unified_Ideograph","Uppercase","Variation_Selector","White_Space","XID_Continue","XID_Start"])},48710:function(_e,be,Te){"use strict";const Pe=Te(42351),pt=Te(84855);_e.exports=function(_e){if(Pe.has(_e))return _e;if(pt.has(_e))return pt.get(_e);throw new Error(`Unknown property: ${_e}`)}},44973:function(_e){_e.exports=new Map([["General_Category",new Map([["C","Other"],["Cc","Control"],["cntrl","Control"],["Cf","Format"],["Cn","Unassigned"],["Co","Private_Use"],["Cs","Surrogate"],["L","Letter"],["LC","Cased_Letter"],["Ll","Lowercase_Letter"],["Lm","Modifier_Letter"],["Lo","Other_Letter"],["Lt","Titlecase_Letter"],["Lu","Uppercase_Letter"],["M","Mark"],["Combining_Mark","Mark"],["Mc","Spacing_Mark"],["Me","Enclosing_Mark"],["Mn","Nonspacing_Mark"],["N","Number"],["Nd","Decimal_Number"],["digit","Decimal_Number"],["Nl","Letter_Number"],["No","Other_Number"],["P","Punctuation"],["punct","Punctuation"],["Pc","Connector_Punctuation"],["Pd","Dash_Punctuation"],["Pe","Close_Punctuation"],["Pf","Final_Punctuation"],["Pi","Initial_Punctuation"],["Po","Other_Punctuation"],["Ps","Open_Punctuation"],["S","Symbol"],["Sc","Currency_Symbol"],["Sk","Modifier_Symbol"],["Sm","Math_Symbol"],["So","Other_Symbol"],["Z","Separator"],["Zl","Line_Separator"],["Zp","Paragraph_Separator"],["Zs","Space_Separator"],["Other","Other"],["Control","Control"],["Format","Format"],["Unassigned","Unassigned"],["Private_Use","Private_Use"],["Surrogate","Surrogate"],["Letter","Letter"],["Cased_Letter","Cased_Letter"],["Lowercase_Letter","Lowercase_Letter"],["Modifier_Letter","Modifier_Letter"],["Other_Letter","Other_Letter"],["Titlecase_Letter","Titlecase_Letter"],["Uppercase_Letter","Uppercase_Letter"],["Mark","Mark"],["Spacing_Mark","Spacing_Mark"],["Enclosing_Mark","Enclosing_Mark"],["Nonspacing_Mark","Nonspacing_Mark"],["Number","Number"],["Decimal_Number","Decimal_Number"],["Letter_Number","Letter_Number"],["Other_Number","Other_Number"],["Punctuation","Punctuation"],["Connector_Punctuation","Connector_Punctuation"],["Dash_Punctuation","Dash_Punctuation"],["Close_Punctuation","Close_Punctuation"],["Final_Punctuation","Final_Punctuation"],["Initial_Punctuation","Initial_Punctuation"],["Other_Punctuation","Other_Punctuation"],["Open_Punctuation","Open_Punctuation"],["Symbol","Symbol"],["Currency_Symbol","Currency_Symbol"],["Modifier_Symbol","Modifier_Symbol"],["Math_Symbol","Math_Symbol"],["Other_Symbol","Other_Symbol"],["Separator","Separator"],["Line_Separator","Line_Separator"],["Paragraph_Separator","Paragraph_Separator"],["Space_Separator","Space_Separator"]])],["Script",new Map([["Adlm","Adlam"],["Aghb","Caucasian_Albanian"],["Ahom","Ahom"],["Arab","Arabic"],["Armi","Imperial_Aramaic"],["Armn","Armenian"],["Avst","Avestan"],["Bali","Balinese"],["Bamu","Bamum"],["Bass","Bassa_Vah"],["Batk","Batak"],["Beng","Bengali"],["Bhks","Bhaiksuki"],["Bopo","Bopomofo"],["Brah","Brahmi"],["Brai","Braille"],["Bugi","Buginese"],["Buhd","Buhid"],["Cakm","Chakma"],["Cans","Canadian_Aboriginal"],["Cari","Carian"],["Cham","Cham"],["Cher","Cherokee"],["Chrs","Chorasmian"],["Copt","Coptic"],["Qaac","Coptic"],["Cprt","Cypriot"],["Cyrl","Cyrillic"],["Deva","Devanagari"],["Diak","Dives_Akuru"],["Dogr","Dogra"],["Dsrt","Deseret"],["Dupl","Duployan"],["Egyp","Egyptian_Hieroglyphs"],["Elba","Elbasan"],["Elym","Elymaic"],["Ethi","Ethiopic"],["Geor","Georgian"],["Glag","Glagolitic"],["Gong","Gunjala_Gondi"],["Gonm","Masaram_Gondi"],["Goth","Gothic"],["Gran","Grantha"],["Grek","Greek"],["Gujr","Gujarati"],["Guru","Gurmukhi"],["Hang","Hangul"],["Hani","Han"],["Hano","Hanunoo"],["Hatr","Hatran"],["Hebr","Hebrew"],["Hira","Hiragana"],["Hluw","Anatolian_Hieroglyphs"],["Hmng","Pahawh_Hmong"],["Hmnp","Nyiakeng_Puachue_Hmong"],["Hrkt","Katakana_Or_Hiragana"],["Hung","Old_Hungarian"],["Ital","Old_Italic"],["Java","Javanese"],["Kali","Kayah_Li"],["Kana","Katakana"],["Khar","Kharoshthi"],["Khmr","Khmer"],["Khoj","Khojki"],["Kits","Khitan_Small_Script"],["Knda","Kannada"],["Kthi","Kaithi"],["Lana","Tai_Tham"],["Laoo","Lao"],["Latn","Latin"],["Lepc","Lepcha"],["Limb","Limbu"],["Lina","Linear_A"],["Linb","Linear_B"],["Lisu","Lisu"],["Lyci","Lycian"],["Lydi","Lydian"],["Mahj","Mahajani"],["Maka","Makasar"],["Mand","Mandaic"],["Mani","Manichaean"],["Marc","Marchen"],["Medf","Medefaidrin"],["Mend","Mende_Kikakui"],["Merc","Meroitic_Cursive"],["Mero","Meroitic_Hieroglyphs"],["Mlym","Malayalam"],["Modi","Modi"],["Mong","Mongolian"],["Mroo","Mro"],["Mtei","Meetei_Mayek"],["Mult","Multani"],["Mymr","Myanmar"],["Nand","Nandinagari"],["Narb","Old_North_Arabian"],["Nbat","Nabataean"],["Newa","Newa"],["Nkoo","Nko"],["Nshu","Nushu"],["Ogam","Ogham"],["Olck","Ol_Chiki"],["Orkh","Old_Turkic"],["Orya","Oriya"],["Osge","Osage"],["Osma","Osmanya"],["Palm","Palmyrene"],["Pauc","Pau_Cin_Hau"],["Perm","Old_Permic"],["Phag","Phags_Pa"],["Phli","Inscriptional_Pahlavi"],["Phlp","Psalter_Pahlavi"],["Phnx","Phoenician"],["Plrd","Miao"],["Prti","Inscriptional_Parthian"],["Rjng","Rejang"],["Rohg","Hanifi_Rohingya"],["Runr","Runic"],["Samr","Samaritan"],["Sarb","Old_South_Arabian"],["Saur","Saurashtra"],["Sgnw","SignWriting"],["Shaw","Shavian"],["Shrd","Sharada"],["Sidd","Siddham"],["Sind","Khudawadi"],["Sinh","Sinhala"],["Sogd","Sogdian"],["Sogo","Old_Sogdian"],["Sora","Sora_Sompeng"],["Soyo","Soyombo"],["Sund","Sundanese"],["Sylo","Syloti_Nagri"],["Syrc","Syriac"],["Tagb","Tagbanwa"],["Takr","Takri"],["Tale","Tai_Le"],["Talu","New_Tai_Lue"],["Taml","Tamil"],["Tang","Tangut"],["Tavt","Tai_Viet"],["Telu","Telugu"],["Tfng","Tifinagh"],["Tglg","Tagalog"],["Thaa","Thaana"],["Thai","Thai"],["Tibt","Tibetan"],["Tirh","Tirhuta"],["Ugar","Ugaritic"],["Vaii","Vai"],["Wara","Warang_Citi"],["Wcho","Wancho"],["Xpeo","Old_Persian"],["Xsux","Cuneiform"],["Yezi","Yezidi"],["Yiii","Yi"],["Zanb","Zanabazar_Square"],["Zinh","Inherited"],["Qaai","Inherited"],["Zyyy","Common"],["Zzzz","Unknown"],["Adlam","Adlam"],["Caucasian_Albanian","Caucasian_Albanian"],["Arabic","Arabic"],["Imperial_Aramaic","Imperial_Aramaic"],["Armenian","Armenian"],["Avestan","Avestan"],["Balinese","Balinese"],["Bamum","Bamum"],["Bassa_Vah","Bassa_Vah"],["Batak","Batak"],["Bengali","Bengali"],["Bhaiksuki","Bhaiksuki"],["Bopomofo","Bopomofo"],["Brahmi","Brahmi"],["Braille","Braille"],["Buginese","Buginese"],["Buhid","Buhid"],["Chakma","Chakma"],["Canadian_Aboriginal","Canadian_Aboriginal"],["Carian","Carian"],["Cherokee","Cherokee"],["Chorasmian","Chorasmian"],["Coptic","Coptic"],["Cypriot","Cypriot"],["Cyrillic","Cyrillic"],["Devanagari","Devanagari"],["Dives_Akuru","Dives_Akuru"],["Dogra","Dogra"],["Deseret","Deseret"],["Duployan","Duployan"],["Egyptian_Hieroglyphs","Egyptian_Hieroglyphs"],["Elbasan","Elbasan"],["Elymaic","Elymaic"],["Ethiopic","Ethiopic"],["Georgian","Georgian"],["Glagolitic","Glagolitic"],["Gunjala_Gondi","Gunjala_Gondi"],["Masaram_Gondi","Masaram_Gondi"],["Gothic","Gothic"],["Grantha","Grantha"],["Greek","Greek"],["Gujarati","Gujarati"],["Gurmukhi","Gurmukhi"],["Hangul","Hangul"],["Han","Han"],["Hanunoo","Hanunoo"],["Hatran","Hatran"],["Hebrew","Hebrew"],["Hiragana","Hiragana"],["Anatolian_Hieroglyphs","Anatolian_Hieroglyphs"],["Pahawh_Hmong","Pahawh_Hmong"],["Nyiakeng_Puachue_Hmong","Nyiakeng_Puachue_Hmong"],["Katakana_Or_Hiragana","Katakana_Or_Hiragana"],["Old_Hungarian","Old_Hungarian"],["Old_Italic","Old_Italic"],["Javanese","Javanese"],["Kayah_Li","Kayah_Li"],["Katakana","Katakana"],["Kharoshthi","Kharoshthi"],["Khmer","Khmer"],["Khojki","Khojki"],["Khitan_Small_Script","Khitan_Small_Script"],["Kannada","Kannada"],["Kaithi","Kaithi"],["Tai_Tham","Tai_Tham"],["Lao","Lao"],["Latin","Latin"],["Lepcha","Lepcha"],["Limbu","Limbu"],["Linear_A","Linear_A"],["Linear_B","Linear_B"],["Lycian","Lycian"],["Lydian","Lydian"],["Mahajani","Mahajani"],["Makasar","Makasar"],["Mandaic","Mandaic"],["Manichaean","Manichaean"],["Marchen","Marchen"],["Medefaidrin","Medefaidrin"],["Mende_Kikakui","Mende_Kikakui"],["Meroitic_Cursive","Meroitic_Cursive"],["Meroitic_Hieroglyphs","Meroitic_Hieroglyphs"],["Malayalam","Malayalam"],["Mongolian","Mongolian"],["Mro","Mro"],["Meetei_Mayek","Meetei_Mayek"],["Multani","Multani"],["Myanmar","Myanmar"],["Nandinagari","Nandinagari"],["Old_North_Arabian","Old_North_Arabian"],["Nabataean","Nabataean"],["Nko","Nko"],["Nushu","Nushu"],["Ogham","Ogham"],["Ol_Chiki","Ol_Chiki"],["Old_Turkic","Old_Turkic"],["Oriya","Oriya"],["Osage","Osage"],["Osmanya","Osmanya"],["Palmyrene","Palmyrene"],["Pau_Cin_Hau","Pau_Cin_Hau"],["Old_Permic","Old_Permic"],["Phags_Pa","Phags_Pa"],["Inscriptional_Pahlavi","Inscriptional_Pahlavi"],["Psalter_Pahlavi","Psalter_Pahlavi"],["Phoenician","Phoenician"],["Miao","Miao"],["Inscriptional_Parthian","Inscriptional_Parthian"],["Rejang","Rejang"],["Hanifi_Rohingya","Hanifi_Rohingya"],["Runic","Runic"],["Samaritan","Samaritan"],["Old_South_Arabian","Old_South_Arabian"],["Saurashtra","Saurashtra"],["SignWriting","SignWriting"],["Shavian","Shavian"],["Sharada","Sharada"],["Siddham","Siddham"],["Khudawadi","Khudawadi"],["Sinhala","Sinhala"],["Sogdian","Sogdian"],["Old_Sogdian","Old_Sogdian"],["Sora_Sompeng","Sora_Sompeng"],["Soyombo","Soyombo"],["Sundanese","Sundanese"],["Syloti_Nagri","Syloti_Nagri"],["Syriac","Syriac"],["Tagbanwa","Tagbanwa"],["Takri","Takri"],["Tai_Le","Tai_Le"],["New_Tai_Lue","New_Tai_Lue"],["Tamil","Tamil"],["Tangut","Tangut"],["Tai_Viet","Tai_Viet"],["Telugu","Telugu"],["Tifinagh","Tifinagh"],["Tagalog","Tagalog"],["Thaana","Thaana"],["Tibetan","Tibetan"],["Tirhuta","Tirhuta"],["Ugaritic","Ugaritic"],["Vai","Vai"],["Warang_Citi","Warang_Citi"],["Wancho","Wancho"],["Old_Persian","Old_Persian"],["Cuneiform","Cuneiform"],["Yezidi","Yezidi"],["Yi","Yi"],["Zanabazar_Square","Zanabazar_Square"],["Inherited","Inherited"],["Common","Common"],["Unknown","Unknown"]])],["Script_Extensions",new Map([["Adlm","Adlam"],["Aghb","Caucasian_Albanian"],["Ahom","Ahom"],["Arab","Arabic"],["Armi","Imperial_Aramaic"],["Armn","Armenian"],["Avst","Avestan"],["Bali","Balinese"],["Bamu","Bamum"],["Bass","Bassa_Vah"],["Batk","Batak"],["Beng","Bengali"],["Bhks","Bhaiksuki"],["Bopo","Bopomofo"],["Brah","Brahmi"],["Brai","Braille"],["Bugi","Buginese"],["Buhd","Buhid"],["Cakm","Chakma"],["Cans","Canadian_Aboriginal"],["Cari","Carian"],["Cham","Cham"],["Cher","Cherokee"],["Chrs","Chorasmian"],["Copt","Coptic"],["Qaac","Coptic"],["Cprt","Cypriot"],["Cyrl","Cyrillic"],["Deva","Devanagari"],["Diak","Dives_Akuru"],["Dogr","Dogra"],["Dsrt","Deseret"],["Dupl","Duployan"],["Egyp","Egyptian_Hieroglyphs"],["Elba","Elbasan"],["Elym","Elymaic"],["Ethi","Ethiopic"],["Geor","Georgian"],["Glag","Glagolitic"],["Gong","Gunjala_Gondi"],["Gonm","Masaram_Gondi"],["Goth","Gothic"],["Gran","Grantha"],["Grek","Greek"],["Gujr","Gujarati"],["Guru","Gurmukhi"],["Hang","Hangul"],["Hani","Han"],["Hano","Hanunoo"],["Hatr","Hatran"],["Hebr","Hebrew"],["Hira","Hiragana"],["Hluw","Anatolian_Hieroglyphs"],["Hmng","Pahawh_Hmong"],["Hmnp","Nyiakeng_Puachue_Hmong"],["Hrkt","Katakana_Or_Hiragana"],["Hung","Old_Hungarian"],["Ital","Old_Italic"],["Java","Javanese"],["Kali","Kayah_Li"],["Kana","Katakana"],["Khar","Kharoshthi"],["Khmr","Khmer"],["Khoj","Khojki"],["Kits","Khitan_Small_Script"],["Knda","Kannada"],["Kthi","Kaithi"],["Lana","Tai_Tham"],["Laoo","Lao"],["Latn","Latin"],["Lepc","Lepcha"],["Limb","Limbu"],["Lina","Linear_A"],["Linb","Linear_B"],["Lisu","Lisu"],["Lyci","Lycian"],["Lydi","Lydian"],["Mahj","Mahajani"],["Maka","Makasar"],["Mand","Mandaic"],["Mani","Manichaean"],["Marc","Marchen"],["Medf","Medefaidrin"],["Mend","Mende_Kikakui"],["Merc","Meroitic_Cursive"],["Mero","Meroitic_Hieroglyphs"],["Mlym","Malayalam"],["Modi","Modi"],["Mong","Mongolian"],["Mroo","Mro"],["Mtei","Meetei_Mayek"],["Mult","Multani"],["Mymr","Myanmar"],["Nand","Nandinagari"],["Narb","Old_North_Arabian"],["Nbat","Nabataean"],["Newa","Newa"],["Nkoo","Nko"],["Nshu","Nushu"],["Ogam","Ogham"],["Olck","Ol_Chiki"],["Orkh","Old_Turkic"],["Orya","Oriya"],["Osge","Osage"],["Osma","Osmanya"],["Palm","Palmyrene"],["Pauc","Pau_Cin_Hau"],["Perm","Old_Permic"],["Phag","Phags_Pa"],["Phli","Inscriptional_Pahlavi"],["Phlp","Psalter_Pahlavi"],["Phnx","Phoenician"],["Plrd","Miao"],["Prti","Inscriptional_Parthian"],["Rjng","Rejang"],["Rohg","Hanifi_Rohingya"],["Runr","Runic"],["Samr","Samaritan"],["Sarb","Old_South_Arabian"],["Saur","Saurashtra"],["Sgnw","SignWriting"],["Shaw","Shavian"],["Shrd","Sharada"],["Sidd","Siddham"],["Sind","Khudawadi"],["Sinh","Sinhala"],["Sogd","Sogdian"],["Sogo","Old_Sogdian"],["Sora","Sora_Sompeng"],["Soyo","Soyombo"],["Sund","Sundanese"],["Sylo","Syloti_Nagri"],["Syrc","Syriac"],["Tagb","Tagbanwa"],["Takr","Takri"],["Tale","Tai_Le"],["Talu","New_Tai_Lue"],["Taml","Tamil"],["Tang","Tangut"],["Tavt","Tai_Viet"],["Telu","Telugu"],["Tfng","Tifinagh"],["Tglg","Tagalog"],["Thaa","Thaana"],["Thai","Thai"],["Tibt","Tibetan"],["Tirh","Tirhuta"],["Ugar","Ugaritic"],["Vaii","Vai"],["Wara","Warang_Citi"],["Wcho","Wancho"],["Xpeo","Old_Persian"],["Xsux","Cuneiform"],["Yezi","Yezidi"],["Yiii","Yi"],["Zanb","Zanabazar_Square"],["Zinh","Inherited"],["Qaai","Inherited"],["Zyyy","Common"],["Zzzz","Unknown"],["Adlam","Adlam"],["Caucasian_Albanian","Caucasian_Albanian"],["Arabic","Arabic"],["Imperial_Aramaic","Imperial_Aramaic"],["Armenian","Armenian"],["Avestan","Avestan"],["Balinese","Balinese"],["Bamum","Bamum"],["Bassa_Vah","Bassa_Vah"],["Batak","Batak"],["Bengali","Bengali"],["Bhaiksuki","Bhaiksuki"],["Bopomofo","Bopomofo"],["Brahmi","Brahmi"],["Braille","Braille"],["Buginese","Buginese"],["Buhid","Buhid"],["Chakma","Chakma"],["Canadian_Aboriginal","Canadian_Aboriginal"],["Carian","Carian"],["Cherokee","Cherokee"],["Chorasmian","Chorasmian"],["Coptic","Coptic"],["Cypriot","Cypriot"],["Cyrillic","Cyrillic"],["Devanagari","Devanagari"],["Dives_Akuru","Dives_Akuru"],["Dogra","Dogra"],["Deseret","Deseret"],["Duployan","Duployan"],["Egyptian_Hieroglyphs","Egyptian_Hieroglyphs"],["Elbasan","Elbasan"],["Elymaic","Elymaic"],["Ethiopic","Ethiopic"],["Georgian","Georgian"],["Glagolitic","Glagolitic"],["Gunjala_Gondi","Gunjala_Gondi"],["Masaram_Gondi","Masaram_Gondi"],["Gothic","Gothic"],["Grantha","Grantha"],["Greek","Greek"],["Gujarati","Gujarati"],["Gurmukhi","Gurmukhi"],["Hangul","Hangul"],["Han","Han"],["Hanunoo","Hanunoo"],["Hatran","Hatran"],["Hebrew","Hebrew"],["Hiragana","Hiragana"],["Anatolian_Hieroglyphs","Anatolian_Hieroglyphs"],["Pahawh_Hmong","Pahawh_Hmong"],["Nyiakeng_Puachue_Hmong","Nyiakeng_Puachue_Hmong"],["Katakana_Or_Hiragana","Katakana_Or_Hiragana"],["Old_Hungarian","Old_Hungarian"],["Old_Italic","Old_Italic"],["Javanese","Javanese"],["Kayah_Li","Kayah_Li"],["Katakana","Katakana"],["Kharoshthi","Kharoshthi"],["Khmer","Khmer"],["Khojki","Khojki"],["Khitan_Small_Script","Khitan_Small_Script"],["Kannada","Kannada"],["Kaithi","Kaithi"],["Tai_Tham","Tai_Tham"],["Lao","Lao"],["Latin","Latin"],["Lepcha","Lepcha"],["Limbu","Limbu"],["Linear_A","Linear_A"],["Linear_B","Linear_B"],["Lycian","Lycian"],["Lydian","Lydian"],["Mahajani","Mahajani"],["Makasar","Makasar"],["Mandaic","Mandaic"],["Manichaean","Manichaean"],["Marchen","Marchen"],["Medefaidrin","Medefaidrin"],["Mende_Kikakui","Mende_Kikakui"],["Meroitic_Cursive","Meroitic_Cursive"],["Meroitic_Hieroglyphs","Meroitic_Hieroglyphs"],["Malayalam","Malayalam"],["Mongolian","Mongolian"],["Mro","Mro"],["Meetei_Mayek","Meetei_Mayek"],["Multani","Multani"],["Myanmar","Myanmar"],["Nandinagari","Nandinagari"],["Old_North_Arabian","Old_North_Arabian"],["Nabataean","Nabataean"],["Nko","Nko"],["Nushu","Nushu"],["Ogham","Ogham"],["Ol_Chiki","Ol_Chiki"],["Old_Turkic","Old_Turkic"],["Oriya","Oriya"],["Osage","Osage"],["Osmanya","Osmanya"],["Palmyrene","Palmyrene"],["Pau_Cin_Hau","Pau_Cin_Hau"],["Old_Permic","Old_Permic"],["Phags_Pa","Phags_Pa"],["Inscriptional_Pahlavi","Inscriptional_Pahlavi"],["Psalter_Pahlavi","Psalter_Pahlavi"],["Phoenician","Phoenician"],["Miao","Miao"],["Inscriptional_Parthian","Inscriptional_Parthian"],["Rejang","Rejang"],["Hanifi_Rohingya","Hanifi_Rohingya"],["Runic","Runic"],["Samaritan","Samaritan"],["Old_South_Arabian","Old_South_Arabian"],["Saurashtra","Saurashtra"],["SignWriting","SignWriting"],["Shavian","Shavian"],["Sharada","Sharada"],["Siddham","Siddham"],["Khudawadi","Khudawadi"],["Sinhala","Sinhala"],["Sogdian","Sogdian"],["Old_Sogdian","Old_Sogdian"],["Sora_Sompeng","Sora_Sompeng"],["Soyombo","Soyombo"],["Sundanese","Sundanese"],["Syloti_Nagri","Syloti_Nagri"],["Syriac","Syriac"],["Tagbanwa","Tagbanwa"],["Takri","Takri"],["Tai_Le","Tai_Le"],["New_Tai_Lue","New_Tai_Lue"],["Tamil","Tamil"],["Tangut","Tangut"],["Tai_Viet","Tai_Viet"],["Telugu","Telugu"],["Tifinagh","Tifinagh"],["Tagalog","Tagalog"],["Thaana","Thaana"],["Tibetan","Tibetan"],["Tirhuta","Tirhuta"],["Ugaritic","Ugaritic"],["Vai","Vai"],["Warang_Citi","Warang_Citi"],["Wancho","Wancho"],["Old_Persian","Old_Persian"],["Cuneiform","Cuneiform"],["Yezidi","Yezidi"],["Yi","Yi"],["Zanabazar_Square","Zanabazar_Square"],["Inherited","Inherited"],["Common","Common"],["Unknown","Unknown"]])]])},73276:function(_e,be,Te){"use strict";const Pe=Te(44973);_e.exports=function(_e,be){const Te=Pe.get(_e);if(!Te)throw new Error(`Unknown property \`${_e}\`.`);const pt=Te.get(be);if(pt)return pt;throw new Error(`Unknown value \`${be}\` for property \`${_e}\`.`)}},84855:function(_e){_e.exports=new Map([["scx","Script_Extensions"],["sc","Script"],["gc","General_Category"],["AHex","ASCII_Hex_Digit"],["Alpha","Alphabetic"],["Bidi_C","Bidi_Control"],["Bidi_M","Bidi_Mirrored"],["Cased","Cased"],["CI","Case_Ignorable"],["CWCF","Changes_When_Casefolded"],["CWCM","Changes_When_Casemapped"],["CWKCF","Changes_When_NFKC_Casefolded"],["CWL","Changes_When_Lowercased"],["CWT","Changes_When_Titlecased"],["CWU","Changes_When_Uppercased"],["Dash","Dash"],["Dep","Deprecated"],["DI","Default_Ignorable_Code_Point"],["Dia","Diacritic"],["EBase","Emoji_Modifier_Base"],["EComp","Emoji_Component"],["EMod","Emoji_Modifier"],["Emoji","Emoji"],["EPres","Emoji_Presentation"],["Ext","Extender"],["ExtPict","Extended_Pictographic"],["Gr_Base","Grapheme_Base"],["Gr_Ext","Grapheme_Extend"],["Hex","Hex_Digit"],["IDC","ID_Continue"],["Ideo","Ideographic"],["IDS","ID_Start"],["IDSB","IDS_Binary_Operator"],["IDST","IDS_Trinary_Operator"],["Join_C","Join_Control"],["LOE","Logical_Order_Exception"],["Lower","Lowercase"],["Math","Math"],["NChar","Noncharacter_Code_Point"],["Pat_Syn","Pattern_Syntax"],["Pat_WS","Pattern_White_Space"],["QMark","Quotation_Mark"],["Radical","Radical"],["RI","Regional_Indicator"],["SD","Soft_Dotted"],["STerm","Sentence_Terminal"],["Term","Terminal_Punctuation"],["UIdeo","Unified_Ideograph"],["Upper","Uppercase"],["VS","Variation_Selector"],["WSpace","White_Space"],["space","White_Space"],["XIDC","XID_Continue"],["XIDS","XID_Start"]])},2793:function(_e){var be=/[\'\"]/;_e.exports=function unquote(_e){return _e?(be.test(_e.charAt(0))&&(_e=_e.substr(1)),be.test(_e.charAt(_e.length-1))&&(_e=_e.substr(0,_e.length-1)),_e):""}},91496:function(_e){"function"==typeof Object.create?_e.exports=function inherits(_e,be){_e.super_=be,_e.prototype=Object.create(be.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}})}:_e.exports=function inherits(_e,be){_e.super_=be;var TempCtor=function(){};TempCtor.prototype=be.prototype,_e.prototype=new TempCtor,_e.prototype.constructor=_e}},20384:function(_e){_e.exports=function isBuffer(_e){return _e&&"object"==typeof _e&&"function"==typeof _e.copy&&"function"==typeof _e.fill&&"function"==typeof _e.readUInt8}},89539:function(_e,be,Te){var Pe=/%[sdj%]/g;be.format=function(_e){if(!isString(_e)){for(var be=[],Te=0;Te<arguments.length;Te++)be.push(inspect(arguments[Te]));return be.join(" ")}Te=1;for(var pt=arguments,vt=pt.length,xt=String(_e).replace(Pe,(function(_e){if("%%"===_e)return"%";if(Te>=vt)return _e;switch(_e){case"%s":return String(pt[Te++]);case"%d":return Number(pt[Te++]);case"%j":try{return JSON.stringify(pt[Te++])}catch(_e){return"[Circular]"}default:return _e}})),Tt=pt[Te];Te<vt;Tt=pt[++Te])isNull(Tt)||!isObject(Tt)?xt+=" "+Tt:xt+=" "+inspect(Tt);return xt},be.deprecate=function(_e,Pe){if(isUndefined(Te.g.process))return function(){return be.deprecate(_e,Pe).apply(this,arguments)};if(!0===process.noDeprecation)return _e;var pt=!1;return function deprecated(){if(!pt){if(process.throwDeprecation)throw new Error(Pe);process.traceDeprecation?console.trace(Pe):console.error(Pe),pt=!0}return _e.apply(this,arguments)}};var pt,vt={};function inspect(_e,Te){var Pe={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(Pe.depth=arguments[2]),arguments.length>=4&&(Pe.colors=arguments[3]),isBoolean(Te)?Pe.showHidden=Te:Te&&be._extend(Pe,Te),isUndefined(Pe.showHidden)&&(Pe.showHidden=!1),isUndefined(Pe.depth)&&(Pe.depth=2),isUndefined(Pe.colors)&&(Pe.colors=!1),isUndefined(Pe.customInspect)&&(Pe.customInspect=!0),Pe.colors&&(Pe.stylize=stylizeWithColor),formatValue(Pe,_e,Pe.depth)}function stylizeWithColor(_e,be){var Te=inspect.styles[be];return Te?"["+inspect.colors[Te][0]+"m"+_e+"["+inspect.colors[Te][1]+"m":_e}function stylizeNoColor(_e,be){return _e}function arrayToHash(_e){var be={};return _e.forEach((function(_e,Te){be[_e]=!0})),be}function formatValue(_e,Te,Pe){if(_e.customInspect&&Te&&isFunction(Te.inspect)&&Te.inspect!==be.inspect&&(!Te.constructor||Te.constructor.prototype!==Te)){var pt=Te.inspect(Pe,_e);return isString(pt)||(pt=formatValue(_e,pt,Pe)),pt}var vt=formatPrimitive(_e,Te);if(vt)return vt;var xt=Object.keys(Te),Tt=arrayToHash(xt);if(_e.showHidden&&(xt=Object.getOwnPropertyNames(Te)),isError(Te)&&(xt.indexOf("message")>=0||xt.indexOf("description")>=0))return formatError(Te);if(0===xt.length){if(isFunction(Te)){var It=Te.name?": "+Te.name:"";return _e.stylize("[Function"+It+"]","special")}if(isRegExp(Te))return _e.stylize(RegExp.prototype.toString.call(Te),"regexp");if(isDate(Te))return _e.stylize(Date.prototype.toString.call(Te),"date");if(isError(Te))return formatError(Te)}var Mt,Lt="",Ft=!1,Ot=["{","}"];(isArray(Te)&&(Ft=!0,Ot=["[","]"]),isFunction(Te))&&(Lt=" [Function"+(Te.name?": "+Te.name:"")+"]");return isRegExp(Te)&&(Lt=" "+RegExp.prototype.toString.call(Te)),isDate(Te)&&(Lt=" "+Date.prototype.toUTCString.call(Te)),isError(Te)&&(Lt=" "+formatError(Te)),0!==xt.length||Ft&&0!=Te.length?Pe<0?isRegExp(Te)?_e.stylize(RegExp.prototype.toString.call(Te),"regexp"):_e.stylize("[Object]","special"):(_e.seen.push(Te),Mt=Ft?formatArray(_e,Te,Pe,Tt,xt):xt.map((function(be){return formatProperty(_e,Te,Pe,Tt,be,Ft)})),_e.seen.pop(),reduceToSingleString(Mt,Lt,Ot)):Ot[0]+Lt+Ot[1]}function formatPrimitive(_e,be){if(isUndefined(be))return _e.stylize("undefined","undefined");if(isString(be)){var Te="'"+JSON.stringify(be).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return _e.stylize(Te,"string")}return isNumber(be)?_e.stylize(""+be,"number"):isBoolean(be)?_e.stylize(""+be,"boolean"):isNull(be)?_e.stylize("null","null"):void 0}function formatError(_e){return"["+Error.prototype.toString.call(_e)+"]"}function formatArray(_e,be,Te,Pe,pt){for(var vt=[],xt=0,Tt=be.length;xt<Tt;++xt)hasOwnProperty(be,String(xt))?vt.push(formatProperty(_e,be,Te,Pe,String(xt),!0)):vt.push("");return pt.forEach((function(pt){pt.match(/^\d+$/)||vt.push(formatProperty(_e,be,Te,Pe,pt,!0))})),vt}function formatProperty(_e,be,Te,Pe,pt,vt){var xt,Tt,It;if((It=Object.getOwnPropertyDescriptor(be,pt)||{value:be[pt]}).get?Tt=It.set?_e.stylize("[Getter/Setter]","special"):_e.stylize("[Getter]","special"):It.set&&(Tt=_e.stylize("[Setter]","special")),hasOwnProperty(Pe,pt)||(xt="["+pt+"]"),Tt||(_e.seen.indexOf(It.value)<0?(Tt=isNull(Te)?formatValue(_e,It.value,null):formatValue(_e,It.value,Te-1)).indexOf("\n")>-1&&(Tt=vt?Tt.split("\n").map((function(_e){return"  "+_e})).join("\n").substr(2):"\n"+Tt.split("\n").map((function(_e){return"   "+_e})).join("\n")):Tt=_e.stylize("[Circular]","special")),isUndefined(xt)){if(vt&&pt.match(/^\d+$/))return Tt;(xt=JSON.stringify(""+pt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(xt=xt.substr(1,xt.length-2),xt=_e.stylize(xt,"name")):(xt=xt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),xt=_e.stylize(xt,"string"))}return xt+": "+Tt}function reduceToSingleString(_e,be,Te){return _e.reduce((function(_e,be){return be.indexOf("\n")>=0&&0,_e+be.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?Te[0]+(""===be?"":be+"\n ")+" "+_e.join(",\n  ")+" "+Te[1]:Te[0]+be+" "+_e.join(", ")+" "+Te[1]}function isArray(_e){return Array.isArray(_e)}function isBoolean(_e){return"boolean"==typeof _e}function isNull(_e){return null===_e}function isNumber(_e){return"number"==typeof _e}function isString(_e){return"string"==typeof _e}function isUndefined(_e){return void 0===_e}function isRegExp(_e){return isObject(_e)&&"[object RegExp]"===objectToString(_e)}function isObject(_e){return"object"==typeof _e&&null!==_e}function isDate(_e){return isObject(_e)&&"[object Date]"===objectToString(_e)}function isError(_e){return isObject(_e)&&("[object Error]"===objectToString(_e)||_e instanceof Error)}function isFunction(_e){return"function"==typeof _e}function objectToString(_e){return Object.prototype.toString.call(_e)}function pad(_e){return _e<10?"0"+_e.toString(10):_e.toString(10)}be.debuglog=function(_e){if(isUndefined(pt)&&(pt=process.env.NODE_DEBUG||""),_e=_e.toUpperCase(),!vt[_e])if(new RegExp("\\b"+_e+"\\b","i").test(pt)){var Te=process.pid;vt[_e]=function(){var Pe=be.format.apply(be,arguments);console.error("%s %d: %s",_e,Te,Pe)}}else vt[_e]=function(){};return vt[_e]},be.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},be.isArray=isArray,be.isBoolean=isBoolean,be.isNull=isNull,be.isNullOrUndefined=function isNullOrUndefined(_e){return null==_e},be.isNumber=isNumber,be.isString=isString,be.isSymbol=function isSymbol(_e){return"symbol"==typeof _e},be.isUndefined=isUndefined,be.isRegExp=isRegExp,be.isObject=isObject,be.isDate=isDate,be.isError=isError,be.isFunction=isFunction,be.isPrimitive=function isPrimitive(_e){return null===_e||"boolean"==typeof _e||"number"==typeof _e||"string"==typeof _e||"symbol"==typeof _e||void 0===_e},be.isBuffer=Te(20384);var xt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var _e=new Date,be=[pad(_e.getHours()),pad(_e.getMinutes()),pad(_e.getSeconds())].join(":");return[_e.getDate(),xt[_e.getMonth()],be].join(" ")}function hasOwnProperty(_e,be){return Object.prototype.hasOwnProperty.call(_e,be)}be.log=function(){console.log("%s - %s",timestamp(),be.format.apply(be,arguments))},be.inherits=Te(91496),be._extend=function(_e,be){if(!be||!isObject(be))return _e;for(var Te=Object.keys(be),Pe=Te.length;Pe--;)_e[Te[Pe]]=be[Te[Pe]];return _e}},14350:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27 fill=%27%23fff%27%3E %3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E %3C/svg%3E"},99504:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27%3E %3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E %3C/svg%3E"},38299:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},35834:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},31546:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27 display=%27none%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},40583:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},63239:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23666%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E"},22380:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23999%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E"},31570:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23aaa%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E"},18684:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e54e33%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27 display=%27none%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},30662:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e58978%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},60854:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},97052:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E"},79813:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E %3C/svg%3E"},21690:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E"},25440:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E"},69633:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E"},44669:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E"},24425:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E %3C/svg%3E"},93743:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E"},54862:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E"},55105:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E"},76352:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23999%27/%3E %3C/svg%3E"},56137:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E"},3947:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E"},3954:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E"},83121:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E"},12905:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%270.3%27 stroke=%27%23000%27 stroke-width=%273%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%270.9%27 fill=%27%23fff%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E"},29479:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%271%27 stroke=%27%23000%27 stroke-width=%273%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%271%27 fill=%27%23fff%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E"},1918:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%271%27 stroke=%27%23fff%27 stroke-width=%273%27 fill=%27%23fff%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%271%27 fill=%27%23000%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E"},82071:function(_e){"use strict";_e.exports="data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22%23333333%22%20preserveAspectRatio%3D%22xMidYMid%20meet%22%20viewBox%3D%22-2%20-2%2022%2022%22%3E%0D%0A%3Cpath%20d%3D%22M13%2C4.1L12%2C3H6L5%2C4.1l-2%2C9.8L4%2C15h10l1-1.1L13%2C4.1z%20M10%2C13H8v-3h2V13z%20M10%2C8H8V5h2V8z%22%2F%3E%0D%0A%3C%2Fsvg%3E"},17610:function(_e){"use strict";_e.exports='data:image/svg+xml;charset=utf8,<svg%20xmlns="http://www.w3.org/2000/svg"%20fill="#333333%22%20viewBox=%22-10%20-10%2060%2060%22%20preserveAspectRatio=%22xMidYMid%20meet%22%3E%3Cg%3E%3Cpath%20d=%22m25%2031.640000000000004v-19.766666666666673l-10-3.511666666666663v19.766666666666666z%20m9.140000000000008-26.640000000000004q0.8599999999999923%200%200.8599999999999923%200.8600000000000003v25.156666666666666q0%200.625-0.625%200.783333333333335l-9.375%203.1999999999999993-10-3.5133333333333354-8.906666666666668%203.4383333333333326-0.2333333333333334%200.07833333333333314q-0.8616666666666664%200-0.8616666666666664-0.8599999999999994v-25.156666666666663q0-0.625%200.6233333333333331-0.7833333333333332l9.378333333333334-3.198333333333334%2010%203.5133333333333336%208.905000000000001-3.4383333333333344z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E'},9521:function(){},19214:function(){},75307:function(){},4942:function(_e,be,Te){"use strict";function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}Te.d(be,{Z:function(){return _defineProperty}})},63230:function(_e,be,Te){"use strict";Te.r(be),Te.d(be,{Node:function(){return xa},Parser:function(){return jn},Position:function(){return Pn},SourceLocation:function(){return Ln},TokContext:function(){return wa},Token:function(){return Ga},TokenType:function(){return Vt},defaultOptions:function(){return Fn},getLineInfo:function(){return getLineInfo},isIdentifierChar:function(){return isIdentifierChar},isIdentifierStart:function(){return isIdentifierStart},isNewLine:function(){return isNewLine},keywordTypes:function(){return $t},lineBreak:function(){return Jt},lineBreakG:function(){return Yt},nonASCIIwhitespace:function(){return Qt},parse:function(){return parse},parseExpressionAt:function(){return parseExpressionAt},tokContexts:function(){return Ea},tokTypes:function(){return Kt},tokenizer:function(){return tokenizer},version:function(){return Ja}});var Pe={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},pt="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",vt={5:pt,"5module":pt+" export import",6:pt+" const class extends export import super"},xt=/^in(stanceof)?$/,Tt="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-Ᶎꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭧꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",It="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",Mt=new RegExp("["+Tt+"]"),Lt=new RegExp("["+Tt+It+"]");Tt=It=null;var Ft=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],Ot=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function isInAstralSet(_e,be){for(var Te=65536,Pe=0;Pe<be.length;Pe+=2){if((Te+=be[Pe])>_e)return!1;if((Te+=be[Pe+1])>=_e)return!0}}function isIdentifierStart(_e,be){return _e<65?36===_e:_e<91||(_e<97?95===_e:_e<123||(_e<=65535?_e>=170&&Mt.test(String.fromCharCode(_e)):!1!==be&&isInAstralSet(_e,Ft)))}function isIdentifierChar(_e,be){return _e<48?36===_e:_e<58||!(_e<65)&&(_e<91||(_e<97?95===_e:_e<123||(_e<=65535?_e>=170&&Lt.test(String.fromCharCode(_e)):!1!==be&&(isInAstralSet(_e,Ft)||isInAstralSet(_e,Ot)))))}var Vt=function TokenType(_e,be){void 0===be&&(be={}),this.label=_e,this.keyword=be.keyword,this.beforeExpr=!!be.beforeExpr,this.startsExpr=!!be.startsExpr,this.isLoop=!!be.isLoop,this.isAssign=!!be.isAssign,this.prefix=!!be.prefix,this.postfix=!!be.postfix,this.binop=be.binop||null,this.updateContext=null};function binop(_e,be){return new Vt(_e,{beforeExpr:!0,binop:be})}var qt={beforeExpr:!0},Wt={startsExpr:!0},$t={};function kw(_e,be){return void 0===be&&(be={}),be.keyword=_e,$t[_e]=new Vt(_e,be)}var Kt={num:new Vt("num",Wt),regexp:new Vt("regexp",Wt),string:new Vt("string",Wt),name:new Vt("name",Wt),eof:new Vt("eof"),bracketL:new Vt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Vt("]"),braceL:new Vt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Vt("}"),parenL:new Vt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Vt(")"),comma:new Vt(",",qt),semi:new Vt(";",qt),colon:new Vt(":",qt),dot:new Vt("."),question:new Vt("?",qt),arrow:new Vt("=>",qt),template:new Vt("template"),invalidTemplate:new Vt("invalidTemplate"),ellipsis:new Vt("...",qt),backQuote:new Vt("`",Wt),dollarBraceL:new Vt("${",{beforeExpr:!0,startsExpr:!0}),eq:new Vt("=",{beforeExpr:!0,isAssign:!0}),assign:new Vt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Vt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Vt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new Vt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new Vt("**",{beforeExpr:!0}),_break:kw("break"),_case:kw("case",qt),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",qt),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",qt),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",Wt),_if:kw("if"),_return:kw("return",qt),_switch:kw("switch"),_throw:kw("throw",qt),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",Wt),_super:kw("super",Wt),_class:kw("class",Wt),_extends:kw("extends",qt),_export:kw("export"),_import:kw("import",Wt),_null:kw("null",Wt),_true:kw("true",Wt),_false:kw("false",Wt),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Jt=/\r\n?|\n|\u2028|\u2029/,Yt=new RegExp(Jt.source,"g");function isNewLine(_e,be){return 10===_e||13===_e||!be&&(8232===_e||8233===_e)}var Qt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,an=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,cn=Object.prototype,hn=cn.hasOwnProperty,pn=cn.toString;function has(_e,be){return hn.call(_e,be)}var xn=Array.isArray||function(_e){return"[object Array]"===pn.call(_e)};function wordsRegexp(_e){return new RegExp("^(?:"+_e.replace(/ /g,"|")+")$")}var Pn=function Position(_e,be){this.line=_e,this.column=be};Pn.prototype.offset=function offset(_e){return new Pn(this.line,this.column+_e)};var Ln=function SourceLocation(_e,be,Te){this.start=be,this.end=Te,null!==_e.sourceFile&&(this.source=_e.sourceFile)};function getLineInfo(_e,be){for(var Te=1,Pe=0;;){Yt.lastIndex=Pe;var pt=Yt.exec(_e);if(!(pt&&pt.index<be))return new Pn(Te,be-Pe);++Te,Pe=pt.index+pt[0].length}}var Fn={ecmaVersion:9,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function getOptions(_e){var be={};for(var Te in Fn)be[Te]=_e&&has(_e,Te)?_e[Te]:Fn[Te];if(be.ecmaVersion>=2015&&(be.ecmaVersion-=2009),null==be.allowReserved&&(be.allowReserved=be.ecmaVersion<5),xn(be.onToken)){var Pe=be.onToken;be.onToken=function(_e){return Pe.push(_e)}}return xn(be.onComment)&&(be.onComment=pushComment(be,be.onComment)),be}function pushComment(_e,be){return function(Te,Pe,pt,vt,xt,Tt){var It={type:Te?"Block":"Line",value:Pe,start:pt,end:vt};_e.locations&&(It.loc=new Ln(this,xt,Tt)),_e.ranges&&(It.range=[pt,vt]),be.push(It)}}function functionFlags(_e,be){return 2|(_e?4:0)|(be?8:0)}var jn=function Parser(_e,be,Te){this.options=_e=getOptions(_e),this.sourceFile=_e.sourceFile,this.keywords=wordsRegexp(vt[_e.ecmaVersion>=6?6:"module"===_e.sourceType?"5module":5]);var pt="";if(!0!==_e.allowReserved){for(var xt=_e.ecmaVersion;!(pt=Pe[xt]);xt--);"module"===_e.sourceType&&(pt+=" await")}this.reservedWords=wordsRegexp(pt);var Tt=(pt?pt+" ":"")+Pe.strict;this.reservedWordsStrict=wordsRegexp(Tt),this.reservedWordsStrictBind=wordsRegexp(Tt+" "+Pe.strictBind),this.input=String(be),this.containsEsc=!1,Te?(this.pos=Te,this.lineStart=this.input.lastIndexOf("\n",Te-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Jt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=Kt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===_e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&_e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null},$n={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};jn.prototype.parse=function parse(){var _e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(_e)},$n.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},$n.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},$n.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},$n.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0},$n.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},$n.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},jn.prototype.inNonArrowFunction=function inNonArrowFunction(){return(2&this.currentThisScope().flags)>0},jn.extend=function extend(){for(var _e=[],be=arguments.length;be--;)_e[be]=arguments[be];for(var Te=this,Pe=0;Pe<_e.length;Pe++)Te=_e[Pe](Te);return Te},jn.parse=function parse(_e,be){return new this(be,_e).parse()},jn.parseExpressionAt=function parseExpressionAt(_e,be,Te){var Pe=new this(Te,_e,be);return Pe.nextToken(),Pe.parseExpression()},jn.tokenizer=function tokenizer(_e,be){return new this(be,_e)},Object.defineProperties(jn.prototype,$n);var ea=jn.prototype,na=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function DestructuringErrors(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}ea.strictDirective=function(_e){for(;;){an.lastIndex=_e,_e+=an.exec(this.input)[0].length;var be=na.exec(this.input.slice(_e));if(!be)return!1;if("use strict"===(be[1]||be[2]))return!0;_e+=be[0].length,an.lastIndex=_e,_e+=an.exec(this.input)[0].length,";"===this.input[_e]&&_e++}},ea.eat=function(_e){return this.type===_e&&(this.next(),!0)},ea.isContextual=function(_e){return this.type===Kt.name&&this.value===_e&&!this.containsEsc},ea.eatContextual=function(_e){return!!this.isContextual(_e)&&(this.next(),!0)},ea.expectContextual=function(_e){this.eatContextual(_e)||this.unexpected()},ea.canInsertSemicolon=function(){return this.type===Kt.eof||this.type===Kt.braceR||Jt.test(this.input.slice(this.lastTokEnd,this.start))},ea.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},ea.semicolon=function(){this.eat(Kt.semi)||this.insertSemicolon()||this.unexpected()},ea.afterTrailingComma=function(_e,be){if(this.type===_e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),be||this.next(),!0},ea.expect=function(_e){this.eat(_e)||this.unexpected()},ea.unexpected=function(_e){this.raise(null!=_e?_e:this.start,"Unexpected token")},ea.checkPatternErrors=function(_e,be){if(_e){_e.trailingComma>-1&&this.raiseRecoverable(_e.trailingComma,"Comma is not permitted after the rest element");var Te=be?_e.parenthesizedAssign:_e.parenthesizedBind;Te>-1&&this.raiseRecoverable(Te,"Parenthesized pattern")}},ea.checkExpressionErrors=function(_e,be){if(!_e)return!1;var Te=_e.shorthandAssign,Pe=_e.doubleProto;if(!be)return Te>=0||Pe>=0;Te>=0&&this.raise(Te,"Shorthand property assignments are valid only in destructuring patterns"),Pe>=0&&this.raiseRecoverable(Pe,"Redefinition of __proto__ property")},ea.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},ea.isSimpleAssignTarget=function(_e){return"ParenthesizedExpression"===_e.type?this.isSimpleAssignTarget(_e.expression):"Identifier"===_e.type||"MemberExpression"===_e.type};var aa=jn.prototype;aa.parseTopLevel=function(_e){var be={};for(_e.body||(_e.body=[]);this.type!==Kt.eof;){var Te=this.parseStatement(null,!0,be);_e.body.push(Te)}if(this.inModule)for(var Pe=0,pt=Object.keys(this.undefinedExports);Pe<pt.length;Pe+=1){var vt=pt[Pe];this.raiseRecoverable(this.undefinedExports[vt].start,"Export '"+vt+"' is not defined")}return this.adaptDirectivePrologue(_e.body),this.next(),_e.sourceType=this.options.sourceType,this.finishNode(_e,"Program")};var ra={kind:"loop"},ia={kind:"switch"};aa.isLet=function(_e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;an.lastIndex=this.pos;var be=an.exec(this.input),Te=this.pos+be[0].length,Pe=this.input.charCodeAt(Te);if(91===Pe)return!0;if(_e)return!1;if(123===Pe)return!0;if(isIdentifierStart(Pe,!0)){for(var pt=Te+1;isIdentifierChar(this.input.charCodeAt(pt),!0);)++pt;var vt=this.input.slice(Te,pt);if(!xt.test(vt))return!0}return!1},aa.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;an.lastIndex=this.pos;var _e=an.exec(this.input),be=this.pos+_e[0].length;return!(Jt.test(this.input.slice(this.pos,be))||"function"!==this.input.slice(be,be+8)||be+8!==this.input.length&&isIdentifierChar(this.input.charAt(be+8)))},aa.parseStatement=function(_e,be,Te){var Pe,pt=this.type,vt=this.startNode();switch(this.isLet(_e)&&(pt=Kt._var,Pe="let"),pt){case Kt._break:case Kt._continue:return this.parseBreakContinueStatement(vt,pt.keyword);case Kt._debugger:return this.parseDebuggerStatement(vt);case Kt._do:return this.parseDoStatement(vt);case Kt._for:return this.parseForStatement(vt);case Kt._function:return _e&&(this.strict||"if"!==_e&&"label"!==_e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(vt,!1,!_e);case Kt._class:return _e&&this.unexpected(),this.parseClass(vt,!0);case Kt._if:return this.parseIfStatement(vt);case Kt._return:return this.parseReturnStatement(vt);case Kt._switch:return this.parseSwitchStatement(vt);case Kt._throw:return this.parseThrowStatement(vt);case Kt._try:return this.parseTryStatement(vt);case Kt._const:case Kt._var:return Pe=Pe||this.value,_e&&"var"!==Pe&&this.unexpected(),this.parseVarStatement(vt,Pe);case Kt._while:return this.parseWhileStatement(vt);case Kt._with:return this.parseWithStatement(vt);case Kt.braceL:return this.parseBlock(!0,vt);case Kt.semi:return this.parseEmptyStatement(vt);case Kt._export:case Kt._import:if(this.options.ecmaVersion>10&&pt===Kt._import){an.lastIndex=this.pos;var xt=an.exec(this.input),Tt=this.pos+xt[0].length;if(40===this.input.charCodeAt(Tt))return this.parseExpressionStatement(vt,this.parseExpression())}return this.options.allowImportExportEverywhere||(be||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),pt===Kt._import?this.parseImport(vt):this.parseExport(vt,Te);default:if(this.isAsyncFunction())return _e&&this.unexpected(),this.next(),this.parseFunctionStatement(vt,!0,!_e);var It=this.value,Mt=this.parseExpression();return pt===Kt.name&&"Identifier"===Mt.type&&this.eat(Kt.colon)?this.parseLabeledStatement(vt,It,Mt,_e):this.parseExpressionStatement(vt,Mt)}},aa.parseBreakContinueStatement=function(_e,be){var Te="break"===be;this.next(),this.eat(Kt.semi)||this.insertSemicolon()?_e.label=null:this.type!==Kt.name?this.unexpected():(_e.label=this.parseIdent(),this.semicolon());for(var Pe=0;Pe<this.labels.length;++Pe){var pt=this.labels[Pe];if(null==_e.label||pt.name===_e.label.name){if(null!=pt.kind&&(Te||"loop"===pt.kind))break;if(_e.label&&Te)break}}return Pe===this.labels.length&&this.raise(_e.start,"Unsyntactic "+be),this.finishNode(_e,Te?"BreakStatement":"ContinueStatement")},aa.parseDebuggerStatement=function(_e){return this.next(),this.semicolon(),this.finishNode(_e,"DebuggerStatement")},aa.parseDoStatement=function(_e){return this.next(),this.labels.push(ra),_e.body=this.parseStatement("do"),this.labels.pop(),this.expect(Kt._while),_e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(Kt.semi):this.semicolon(),this.finishNode(_e,"DoWhileStatement")},aa.parseForStatement=function(_e){this.next();var be=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ra),this.enterScope(0),this.expect(Kt.parenL),this.type===Kt.semi)return be>-1&&this.unexpected(be),this.parseFor(_e,null);var Te=this.isLet();if(this.type===Kt._var||this.type===Kt._const||Te){var Pe=this.startNode(),pt=Te?"let":this.value;return this.next(),this.parseVar(Pe,!0,pt),this.finishNode(Pe,"VariableDeclaration"),(this.type===Kt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===Pe.declarations.length?(this.options.ecmaVersion>=9&&(this.type===Kt._in?be>-1&&this.unexpected(be):_e.await=be>-1),this.parseForIn(_e,Pe)):(be>-1&&this.unexpected(be),this.parseFor(_e,Pe))}var vt=new DestructuringErrors,xt=this.parseExpression(!0,vt);return this.type===Kt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===Kt._in?be>-1&&this.unexpected(be):_e.await=be>-1),this.toAssignable(xt,!1,vt),this.checkLVal(xt),this.parseForIn(_e,xt)):(this.checkExpressionErrors(vt,!0),be>-1&&this.unexpected(be),this.parseFor(_e,xt))},aa.parseFunctionStatement=function(_e,be,Te){return this.next(),this.parseFunction(_e,la|(Te?0:ua),!1,be)},aa.parseIfStatement=function(_e){return this.next(),_e.test=this.parseParenExpression(),_e.consequent=this.parseStatement("if"),_e.alternate=this.eat(Kt._else)?this.parseStatement("if"):null,this.finishNode(_e,"IfStatement")},aa.parseReturnStatement=function(_e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(Kt.semi)||this.insertSemicolon()?_e.argument=null:(_e.argument=this.parseExpression(),this.semicolon()),this.finishNode(_e,"ReturnStatement")},aa.parseSwitchStatement=function(_e){var be;this.next(),_e.discriminant=this.parseParenExpression(),_e.cases=[],this.expect(Kt.braceL),this.labels.push(ia),this.enterScope(0);for(var Te=!1;this.type!==Kt.braceR;)if(this.type===Kt._case||this.type===Kt._default){var Pe=this.type===Kt._case;be&&this.finishNode(be,"SwitchCase"),_e.cases.push(be=this.startNode()),be.consequent=[],this.next(),Pe?be.test=this.parseExpression():(Te&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Te=!0,be.test=null),this.expect(Kt.colon)}else be||this.unexpected(),be.consequent.push(this.parseStatement(null));return this.exitScope(),be&&this.finishNode(be,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(_e,"SwitchStatement")},aa.parseThrowStatement=function(_e){return this.next(),Jt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),_e.argument=this.parseExpression(),this.semicolon(),this.finishNode(_e,"ThrowStatement")};var da=[];aa.parseTryStatement=function(_e){if(this.next(),_e.block=this.parseBlock(),_e.handler=null,this.type===Kt._catch){var be=this.startNode();if(this.next(),this.eat(Kt.parenL)){be.param=this.parseBindingAtom();var Te="Identifier"===be.param.type;this.enterScope(Te?32:0),this.checkLVal(be.param,Te?4:2),this.expect(Kt.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),be.param=null,this.enterScope(0);be.body=this.parseBlock(!1),this.exitScope(),_e.handler=this.finishNode(be,"CatchClause")}return _e.finalizer=this.eat(Kt._finally)?this.parseBlock():null,_e.handler||_e.finalizer||this.raise(_e.start,"Missing catch or finally clause"),this.finishNode(_e,"TryStatement")},aa.parseVarStatement=function(_e,be){return this.next(),this.parseVar(_e,!1,be),this.semicolon(),this.finishNode(_e,"VariableDeclaration")},aa.parseWhileStatement=function(_e){return this.next(),_e.test=this.parseParenExpression(),this.labels.push(ra),_e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(_e,"WhileStatement")},aa.parseWithStatement=function(_e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),_e.object=this.parseParenExpression(),_e.body=this.parseStatement("with"),this.finishNode(_e,"WithStatement")},aa.parseEmptyStatement=function(_e){return this.next(),this.finishNode(_e,"EmptyStatement")},aa.parseLabeledStatement=function(_e,be,Te,Pe){for(var pt=0,vt=this.labels;pt<vt.length;pt+=1){vt[pt].name===be&&this.raise(Te.start,"Label '"+be+"' is already declared")}for(var xt=this.type.isLoop?"loop":this.type===Kt._switch?"switch":null,Tt=this.labels.length-1;Tt>=0;Tt--){var It=this.labels[Tt];if(It.statementStart!==_e.start)break;It.statementStart=this.start,It.kind=xt}return this.labels.push({name:be,kind:xt,statementStart:this.start}),_e.body=this.parseStatement(Pe?-1===Pe.indexOf("label")?Pe+"label":Pe:"label"),this.labels.pop(),_e.label=Te,this.finishNode(_e,"LabeledStatement")},aa.parseExpressionStatement=function(_e,be){return _e.expression=be,this.semicolon(),this.finishNode(_e,"ExpressionStatement")},aa.parseBlock=function(_e,be){for(void 0===_e&&(_e=!0),void 0===be&&(be=this.startNode()),be.body=[],this.expect(Kt.braceL),_e&&this.enterScope(0);!this.eat(Kt.braceR);){var Te=this.parseStatement(null);be.body.push(Te)}return _e&&this.exitScope(),this.finishNode(be,"BlockStatement")},aa.parseFor=function(_e,be){return _e.init=be,this.expect(Kt.semi),_e.test=this.type===Kt.semi?null:this.parseExpression(),this.expect(Kt.semi),_e.update=this.type===Kt.parenR?null:this.parseExpression(),this.expect(Kt.parenR),_e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_e,"ForStatement")},aa.parseForIn=function(_e,be){var Te=this.type===Kt._in;return this.next(),"VariableDeclaration"===be.type&&null!=be.declarations[0].init&&(!Te||this.options.ecmaVersion<8||this.strict||"var"!==be.kind||"Identifier"!==be.declarations[0].id.type)?this.raise(be.start,(Te?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===be.type&&this.raise(be.start,"Invalid left-hand side in for-loop"),_e.left=be,_e.right=Te?this.parseExpression():this.parseMaybeAssign(),this.expect(Kt.parenR),_e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_e,Te?"ForInStatement":"ForOfStatement")},aa.parseVar=function(_e,be,Te){for(_e.declarations=[],_e.kind=Te;;){var Pe=this.startNode();if(this.parseVarId(Pe,Te),this.eat(Kt.eq)?Pe.init=this.parseMaybeAssign(be):"const"!==Te||this.type===Kt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===Pe.id.type||be&&(this.type===Kt._in||this.isContextual("of"))?Pe.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),_e.declarations.push(this.finishNode(Pe,"VariableDeclarator")),!this.eat(Kt.comma))break}return _e},aa.parseVarId=function(_e,be){_e.id=this.parseBindingAtom(),this.checkLVal(_e.id,"var"===be?1:2,!1)};var la=1,ua=2;aa.parseFunction=function(_e,be,Te,Pe){this.initFunction(_e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Pe)&&(this.type===Kt.star&&be&ua&&this.unexpected(),_e.generator=this.eat(Kt.star)),this.options.ecmaVersion>=8&&(_e.async=!!Pe),be&la&&(_e.id=4&be&&this.type!==Kt.name?null:this.parseIdent(),!_e.id||be&ua||this.checkLVal(_e.id,this.strict||_e.generator||_e.async?this.treatFunctionsAsVar?1:2:3));var pt=this.yieldPos,vt=this.awaitPos,xt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(_e.async,_e.generator)),be&la||(_e.id=this.type===Kt.name?this.parseIdent():null),this.parseFunctionParams(_e),this.parseFunctionBody(_e,Te,!1),this.yieldPos=pt,this.awaitPos=vt,this.awaitIdentPos=xt,this.finishNode(_e,be&la?"FunctionDeclaration":"FunctionExpression")},aa.parseFunctionParams=function(_e){this.expect(Kt.parenL),_e.params=this.parseBindingList(Kt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},aa.parseClass=function(_e,be){this.next();var Te=this.strict;this.strict=!0,this.parseClassId(_e,be),this.parseClassSuper(_e);var Pe=this.startNode(),pt=!1;for(Pe.body=[],this.expect(Kt.braceL);!this.eat(Kt.braceR);){var vt=this.parseClassElement(null!==_e.superClass);vt&&(Pe.body.push(vt),"MethodDefinition"===vt.type&&"constructor"===vt.kind&&(pt&&this.raise(vt.start,"Duplicate constructor in the same class"),pt=!0))}return _e.body=this.finishNode(Pe,"ClassBody"),this.strict=Te,this.finishNode(_e,be?"ClassDeclaration":"ClassExpression")},aa.parseClassElement=function(_e){var be=this;if(this.eat(Kt.semi))return null;var Te=this.startNode(),tryContextual=function(_e,Pe){void 0===Pe&&(Pe=!1);var pt=be.start,vt=be.startLoc;return!!be.eatContextual(_e)&&(!(be.type===Kt.parenL||Pe&&be.canInsertSemicolon())||(Te.key&&be.unexpected(),Te.computed=!1,Te.key=be.startNodeAt(pt,vt),Te.key.name=_e,be.finishNode(Te.key,"Identifier"),!1))};Te.kind="method",Te.static=tryContextual("static");var Pe=this.eat(Kt.star),pt=!1;Pe||(this.options.ecmaVersion>=8&&tryContextual("async",!0)?(pt=!0,Pe=this.options.ecmaVersion>=9&&this.eat(Kt.star)):tryContextual("get")?Te.kind="get":tryContextual("set")&&(Te.kind="set")),Te.key||this.parsePropertyName(Te);var vt=Te.key,xt=!1;return Te.computed||Te.static||!("Identifier"===vt.type&&"constructor"===vt.name||"Literal"===vt.type&&"constructor"===vt.value)?Te.static&&"Identifier"===vt.type&&"prototype"===vt.name&&this.raise(vt.start,"Classes may not have a static property named prototype"):("method"!==Te.kind&&this.raise(vt.start,"Constructor can't have get/set modifier"),Pe&&this.raise(vt.start,"Constructor can't be a generator"),pt&&this.raise(vt.start,"Constructor can't be an async method"),Te.kind="constructor",xt=_e),this.parseClassMethod(Te,Pe,pt,xt),"get"===Te.kind&&0!==Te.value.params.length&&this.raiseRecoverable(Te.value.start,"getter should have no params"),"set"===Te.kind&&1!==Te.value.params.length&&this.raiseRecoverable(Te.value.start,"setter should have exactly one param"),"set"===Te.kind&&"RestElement"===Te.value.params[0].type&&this.raiseRecoverable(Te.value.params[0].start,"Setter cannot use rest params"),Te},aa.parseClassMethod=function(_e,be,Te,Pe){return _e.value=this.parseMethod(be,Te,Pe),this.finishNode(_e,"MethodDefinition")},aa.parseClassId=function(_e,be){this.type===Kt.name?(_e.id=this.parseIdent(),be&&this.checkLVal(_e.id,2,!1)):(!0===be&&this.unexpected(),_e.id=null)},aa.parseClassSuper=function(_e){_e.superClass=this.eat(Kt._extends)?this.parseExprSubscripts():null},aa.parseExport=function(_e,be){if(this.next(),this.eat(Kt.star))return this.expectContextual("from"),this.type!==Kt.string&&this.unexpected(),_e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(_e,"ExportAllDeclaration");if(this.eat(Kt._default)){var Te;if(this.checkExport(be,"default",this.lastTokStart),this.type===Kt._function||(Te=this.isAsyncFunction())){var Pe=this.startNode();this.next(),Te&&this.next(),_e.declaration=this.parseFunction(Pe,4|la,!1,Te)}else if(this.type===Kt._class){var pt=this.startNode();_e.declaration=this.parseClass(pt,"nullableID")}else _e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(_e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())_e.declaration=this.parseStatement(null),"VariableDeclaration"===_e.declaration.type?this.checkVariableExport(be,_e.declaration.declarations):this.checkExport(be,_e.declaration.id.name,_e.declaration.id.start),_e.specifiers=[],_e.source=null;else{if(_e.declaration=null,_e.specifiers=this.parseExportSpecifiers(be),this.eatContextual("from"))this.type!==Kt.string&&this.unexpected(),_e.source=this.parseExprAtom();else{for(var vt=0,xt=_e.specifiers;vt<xt.length;vt+=1){var Tt=xt[vt];this.checkUnreserved(Tt.local),this.checkLocalExport(Tt.local)}_e.source=null}this.semicolon()}return this.finishNode(_e,"ExportNamedDeclaration")},aa.checkExport=function(_e,be,Te){_e&&(has(_e,be)&&this.raiseRecoverable(Te,"Duplicate export '"+be+"'"),_e[be]=!0)},aa.checkPatternExport=function(_e,be){var Te=be.type;if("Identifier"===Te)this.checkExport(_e,be.name,be.start);else if("ObjectPattern"===Te)for(var Pe=0,pt=be.properties;Pe<pt.length;Pe+=1){var vt=pt[Pe];this.checkPatternExport(_e,vt)}else if("ArrayPattern"===Te)for(var xt=0,Tt=be.elements;xt<Tt.length;xt+=1){var It=Tt[xt];It&&this.checkPatternExport(_e,It)}else"Property"===Te?this.checkPatternExport(_e,be.value):"AssignmentPattern"===Te?this.checkPatternExport(_e,be.left):"RestElement"===Te?this.checkPatternExport(_e,be.argument):"ParenthesizedExpression"===Te&&this.checkPatternExport(_e,be.expression)},aa.checkVariableExport=function(_e,be){if(_e)for(var Te=0,Pe=be;Te<Pe.length;Te+=1){var pt=Pe[Te];this.checkPatternExport(_e,pt.id)}},aa.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},aa.parseExportSpecifiers=function(_e){var be=[],Te=!0;for(this.expect(Kt.braceL);!this.eat(Kt.braceR);){if(Te)Te=!1;else if(this.expect(Kt.comma),this.afterTrailingComma(Kt.braceR))break;var Pe=this.startNode();Pe.local=this.parseIdent(!0),Pe.exported=this.eatContextual("as")?this.parseIdent(!0):Pe.local,this.checkExport(_e,Pe.exported.name,Pe.exported.start),be.push(this.finishNode(Pe,"ExportSpecifier"))}return be},aa.parseImport=function(_e){return this.next(),this.type===Kt.string?(_e.specifiers=da,_e.source=this.parseExprAtom()):(_e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),_e.source=this.type===Kt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(_e,"ImportDeclaration")},aa.parseImportSpecifiers=function(){var _e=[],be=!0;if(this.type===Kt.name){var Te=this.startNode();if(Te.local=this.parseIdent(),this.checkLVal(Te.local,2),_e.push(this.finishNode(Te,"ImportDefaultSpecifier")),!this.eat(Kt.comma))return _e}if(this.type===Kt.star){var Pe=this.startNode();return this.next(),this.expectContextual("as"),Pe.local=this.parseIdent(),this.checkLVal(Pe.local,2),_e.push(this.finishNode(Pe,"ImportNamespaceSpecifier")),_e}for(this.expect(Kt.braceL);!this.eat(Kt.braceR);){if(be)be=!1;else if(this.expect(Kt.comma),this.afterTrailingComma(Kt.braceR))break;var pt=this.startNode();pt.imported=this.parseIdent(!0),this.eatContextual("as")?pt.local=this.parseIdent():(this.checkUnreserved(pt.imported),pt.local=pt.imported),this.checkLVal(pt.local,2),_e.push(this.finishNode(pt,"ImportSpecifier"))}return _e},aa.adaptDirectivePrologue=function(_e){for(var be=0;be<_e.length&&this.isDirectiveCandidate(_e[be]);++be)_e[be].directive=_e[be].expression.raw.slice(1,-1)},aa.isDirectiveCandidate=function(_e){return"ExpressionStatement"===_e.type&&"Literal"===_e.expression.type&&"string"==typeof _e.expression.value&&('"'===this.input[_e.start]||"'"===this.input[_e.start])};var ca=jn.prototype;ca.toAssignable=function(_e,be,Te){if(this.options.ecmaVersion>=6&&_e)switch(_e.type){case"Identifier":this.inAsync&&"await"===_e.name&&this.raise(_e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":_e.type="ObjectPattern",Te&&this.checkPatternErrors(Te,!0);for(var Pe=0,pt=_e.properties;Pe<pt.length;Pe+=1){var vt=pt[Pe];this.toAssignable(vt,be),"RestElement"!==vt.type||"ArrayPattern"!==vt.argument.type&&"ObjectPattern"!==vt.argument.type||this.raise(vt.argument.start,"Unexpected token")}break;case"Property":"init"!==_e.kind&&this.raise(_e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(_e.value,be);break;case"ArrayExpression":_e.type="ArrayPattern",Te&&this.checkPatternErrors(Te,!0),this.toAssignableList(_e.elements,be);break;case"SpreadElement":_e.type="RestElement",this.toAssignable(_e.argument,be),"AssignmentPattern"===_e.argument.type&&this.raise(_e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==_e.operator&&this.raise(_e.left.end,"Only '=' operator can be used for specifying default value."),_e.type="AssignmentPattern",delete _e.operator,this.toAssignable(_e.left,be);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(_e.expression,be,Te);break;case"MemberExpression":if(!be)break;default:this.raise(_e.start,"Assigning to rvalue")}else Te&&this.checkPatternErrors(Te,!0);return _e},ca.toAssignableList=function(_e,be){for(var Te=_e.length,Pe=0;Pe<Te;Pe++){var pt=_e[Pe];pt&&this.toAssignable(pt,be)}if(Te){var vt=_e[Te-1];6===this.options.ecmaVersion&&be&&vt&&"RestElement"===vt.type&&"Identifier"!==vt.argument.type&&this.unexpected(vt.argument.start)}return _e},ca.parseSpread=function(_e){var be=this.startNode();return this.next(),be.argument=this.parseMaybeAssign(!1,_e),this.finishNode(be,"SpreadElement")},ca.parseRestBinding=function(){var _e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==Kt.name&&this.unexpected(),_e.argument=this.parseBindingAtom(),this.finishNode(_e,"RestElement")},ca.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case Kt.bracketL:var _e=this.startNode();return this.next(),_e.elements=this.parseBindingList(Kt.bracketR,!0,!0),this.finishNode(_e,"ArrayPattern");case Kt.braceL:return this.parseObj(!0)}return this.parseIdent()},ca.parseBindingList=function(_e,be,Te){for(var Pe=[],pt=!0;!this.eat(_e);)if(pt?pt=!1:this.expect(Kt.comma),be&&this.type===Kt.comma)Pe.push(null);else{if(Te&&this.afterTrailingComma(_e))break;if(this.type===Kt.ellipsis){var vt=this.parseRestBinding();this.parseBindingListItem(vt),Pe.push(vt),this.type===Kt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(_e);break}var xt=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(xt),Pe.push(xt)}return Pe},ca.parseBindingListItem=function(_e){return _e},ca.parseMaybeDefault=function(_e,be,Te){if(Te=Te||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(Kt.eq))return Te;var Pe=this.startNodeAt(_e,be);return Pe.left=Te,Pe.right=this.parseMaybeAssign(),this.finishNode(Pe,"AssignmentPattern")},ca.checkLVal=function(_e,be,Te){switch(void 0===be&&(be=0),_e.type){case"Identifier":2===be&&"let"===_e.name&&this.raiseRecoverable(_e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(_e.name)&&this.raiseRecoverable(_e.start,(be?"Binding ":"Assigning to ")+_e.name+" in strict mode"),Te&&(has(Te,_e.name)&&this.raiseRecoverable(_e.start,"Argument name clash"),Te[_e.name]=!0),0!==be&&5!==be&&this.declareName(_e.name,be,_e.start);break;case"MemberExpression":be&&this.raiseRecoverable(_e.start,"Binding member expression");break;case"ObjectPattern":for(var Pe=0,pt=_e.properties;Pe<pt.length;Pe+=1){var vt=pt[Pe];this.checkLVal(vt,be,Te)}break;case"Property":this.checkLVal(_e.value,be,Te);break;case"ArrayPattern":for(var xt=0,Tt=_e.elements;xt<Tt.length;xt+=1){var It=Tt[xt];It&&this.checkLVal(It,be,Te)}break;case"AssignmentPattern":this.checkLVal(_e.left,be,Te);break;case"RestElement":this.checkLVal(_e.argument,be,Te);break;case"ParenthesizedExpression":this.checkLVal(_e.expression,be,Te);break;default:this.raise(_e.start,(be?"Binding":"Assigning to")+" rvalue")}};var ga=jn.prototype;ga.checkPropClash=function(_e,be,Te){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===_e.type||this.options.ecmaVersion>=6&&(_e.computed||_e.method||_e.shorthand))){var Pe,pt=_e.key;switch(pt.type){case"Identifier":Pe=pt.name;break;case"Literal":Pe=String(pt.value);break;default:return}var vt=_e.kind;if(this.options.ecmaVersion>=6)"__proto__"===Pe&&"init"===vt&&(be.proto&&(Te&&Te.doubleProto<0?Te.doubleProto=pt.start:this.raiseRecoverable(pt.start,"Redefinition of __proto__ property")),be.proto=!0);else{var xt=be[Pe="$"+Pe];if(xt)("init"===vt?this.strict&&xt.init||xt.get||xt.set:xt.init||xt[vt])&&this.raiseRecoverable(pt.start,"Redefinition of property");else xt=be[Pe]={init:!1,get:!1,set:!1};xt[vt]=!0}}},ga.parseExpression=function(_e,be){var Te=this.start,Pe=this.startLoc,pt=this.parseMaybeAssign(_e,be);if(this.type===Kt.comma){var vt=this.startNodeAt(Te,Pe);for(vt.expressions=[pt];this.eat(Kt.comma);)vt.expressions.push(this.parseMaybeAssign(_e,be));return this.finishNode(vt,"SequenceExpression")}return pt},ga.parseMaybeAssign=function(_e,be,Te){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(_e);this.exprAllowed=!1}var Pe=!1,pt=-1,vt=-1,xt=-1;be?(pt=be.parenthesizedAssign,vt=be.trailingComma,xt=be.shorthandAssign,be.parenthesizedAssign=be.trailingComma=be.shorthandAssign=-1):(be=new DestructuringErrors,Pe=!0);var Tt=this.start,It=this.startLoc;this.type!==Kt.parenL&&this.type!==Kt.name||(this.potentialArrowAt=this.start);var Mt=this.parseMaybeConditional(_e,be);if(Te&&(Mt=Te.call(this,Mt,Tt,It)),this.type.isAssign){var Lt=this.startNodeAt(Tt,It);return Lt.operator=this.value,Lt.left=this.type===Kt.eq?this.toAssignable(Mt,!1,be):Mt,Pe||DestructuringErrors.call(be),be.shorthandAssign=-1,this.checkLVal(Mt),this.next(),Lt.right=this.parseMaybeAssign(_e),this.finishNode(Lt,"AssignmentExpression")}return Pe&&this.checkExpressionErrors(be,!0),pt>-1&&(be.parenthesizedAssign=pt),vt>-1&&(be.trailingComma=vt),xt>-1&&(be.shorthandAssign=xt),Mt},ga.parseMaybeConditional=function(_e,be){var Te=this.start,Pe=this.startLoc,pt=this.parseExprOps(_e,be);if(this.checkExpressionErrors(be))return pt;if(this.eat(Kt.question)){var vt=this.startNodeAt(Te,Pe);return vt.test=pt,vt.consequent=this.parseMaybeAssign(),this.expect(Kt.colon),vt.alternate=this.parseMaybeAssign(_e),this.finishNode(vt,"ConditionalExpression")}return pt},ga.parseExprOps=function(_e,be){var Te=this.start,Pe=this.startLoc,pt=this.parseMaybeUnary(be,!1);return this.checkExpressionErrors(be)||pt.start===Te&&"ArrowFunctionExpression"===pt.type?pt:this.parseExprOp(pt,Te,Pe,-1,_e)},ga.parseExprOp=function(_e,be,Te,Pe,pt){var vt=this.type.binop;if(null!=vt&&(!pt||this.type!==Kt._in)&&vt>Pe){var xt=this.type===Kt.logicalOR||this.type===Kt.logicalAND,Tt=this.value;this.next();var It=this.start,Mt=this.startLoc,Lt=this.parseExprOp(this.parseMaybeUnary(null,!1),It,Mt,vt,pt),Ft=this.buildBinary(be,Te,_e,Lt,Tt,xt);return this.parseExprOp(Ft,be,Te,Pe,pt)}return _e},ga.buildBinary=function(_e,be,Te,Pe,pt,vt){var xt=this.startNodeAt(_e,be);return xt.left=Te,xt.operator=pt,xt.right=Pe,this.finishNode(xt,vt?"LogicalExpression":"BinaryExpression")},ga.parseMaybeUnary=function(_e,be){var Te,Pe=this.start,pt=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))Te=this.parseAwait(),be=!0;else if(this.type.prefix){var vt=this.startNode(),xt=this.type===Kt.incDec;vt.operator=this.value,vt.prefix=!0,this.next(),vt.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(_e,!0),xt?this.checkLVal(vt.argument):this.strict&&"delete"===vt.operator&&"Identifier"===vt.argument.type?this.raiseRecoverable(vt.start,"Deleting local variable in strict mode"):be=!0,Te=this.finishNode(vt,xt?"UpdateExpression":"UnaryExpression")}else{if(Te=this.parseExprSubscripts(_e),this.checkExpressionErrors(_e))return Te;for(;this.type.postfix&&!this.canInsertSemicolon();){var Tt=this.startNodeAt(Pe,pt);Tt.operator=this.value,Tt.prefix=!1,Tt.argument=Te,this.checkLVal(Te),this.next(),Te=this.finishNode(Tt,"UpdateExpression")}}return!be&&this.eat(Kt.starstar)?this.buildBinary(Pe,pt,Te,this.parseMaybeUnary(null,!1),"**",!1):Te},ga.parseExprSubscripts=function(_e){var be=this.start,Te=this.startLoc,Pe=this.parseExprAtom(_e),pt="ArrowFunctionExpression"===Pe.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(_e)||pt)return Pe;var vt=this.parseSubscripts(Pe,be,Te);return _e&&"MemberExpression"===vt.type&&(_e.parenthesizedAssign>=vt.start&&(_e.parenthesizedAssign=-1),_e.parenthesizedBind>=vt.start&&(_e.parenthesizedBind=-1)),vt},ga.parseSubscripts=function(_e,be,Te,Pe){for(var pt=this.options.ecmaVersion>=8&&"Identifier"===_e.type&&"async"===_e.name&&this.lastTokEnd===_e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(_e.start,_e.end);;){var vt=this.parseSubscript(_e,be,Te,Pe,pt);if(vt===_e||"ArrowFunctionExpression"===vt.type)return vt;_e=vt}},ga.parseSubscript=function(_e,be,Te,Pe,pt){var vt=this.eat(Kt.bracketL);if(vt||this.eat(Kt.dot)){var xt=this.startNodeAt(be,Te);xt.object=_e,xt.property=vt?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),xt.computed=!!vt,vt&&this.expect(Kt.bracketR),_e=this.finishNode(xt,"MemberExpression")}else if(!Pe&&this.eat(Kt.parenL)){var Tt=new DestructuringErrors,It=this.yieldPos,Mt=this.awaitPos,Lt=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Ft=this.parseExprList(Kt.parenR,this.options.ecmaVersion>=8&&"Import"!==_e.type,!1,Tt);if(pt&&!this.canInsertSemicolon()&&this.eat(Kt.arrow))return this.checkPatternErrors(Tt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=It,this.awaitPos=Mt,this.awaitIdentPos=Lt,this.parseArrowExpression(this.startNodeAt(be,Te),Ft,!0);this.checkExpressionErrors(Tt,!0),this.yieldPos=It||this.yieldPos,this.awaitPos=Mt||this.awaitPos,this.awaitIdentPos=Lt||this.awaitIdentPos;var Ot=this.startNodeAt(be,Te);if(Ot.callee=_e,Ot.arguments=Ft,"Import"===Ot.callee.type){1!==Ot.arguments.length&&this.raise(Ot.start,"import() requires exactly one argument");var Vt=Ot.arguments[0];Vt&&"SpreadElement"===Vt.type&&this.raise(Vt.start,"... is not allowed in import()")}_e=this.finishNode(Ot,"CallExpression")}else if(this.type===Kt.backQuote){var qt=this.startNodeAt(be,Te);qt.tag=_e,qt.quasi=this.parseTemplate({isTagged:!0}),_e=this.finishNode(qt,"TaggedTemplateExpression")}return _e},ga.parseExprAtom=function(_e){this.type===Kt.slash&&this.readRegexp();var be,Te=this.potentialArrowAt===this.start;switch(this.type){case Kt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),be=this.startNode(),this.next(),this.type!==Kt.parenL||this.allowDirectSuper||this.raise(be.start,"super() call outside constructor of a subclass"),this.type!==Kt.dot&&this.type!==Kt.bracketL&&this.type!==Kt.parenL&&this.unexpected(),this.finishNode(be,"Super");case Kt._this:return be=this.startNode(),this.next(),this.finishNode(be,"ThisExpression");case Kt.name:var Pe=this.start,pt=this.startLoc,vt=this.containsEsc,xt=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!vt&&"async"===xt.name&&!this.canInsertSemicolon()&&this.eat(Kt._function))return this.parseFunction(this.startNodeAt(Pe,pt),0,!1,!0);if(Te&&!this.canInsertSemicolon()){if(this.eat(Kt.arrow))return this.parseArrowExpression(this.startNodeAt(Pe,pt),[xt],!1);if(this.options.ecmaVersion>=8&&"async"===xt.name&&this.type===Kt.name&&!vt)return xt=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(Kt.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(Pe,pt),[xt],!0)}return xt;case Kt.regexp:var Tt=this.value;return(be=this.parseLiteral(Tt.value)).regex={pattern:Tt.pattern,flags:Tt.flags},be;case Kt.num:case Kt.string:return this.parseLiteral(this.value);case Kt._null:case Kt._true:case Kt._false:return(be=this.startNode()).value=this.type===Kt._null?null:this.type===Kt._true,be.raw=this.type.keyword,this.next(),this.finishNode(be,"Literal");case Kt.parenL:var It=this.start,Mt=this.parseParenAndDistinguishExpression(Te);return _e&&(_e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Mt)&&(_e.parenthesizedAssign=It),_e.parenthesizedBind<0&&(_e.parenthesizedBind=It)),Mt;case Kt.bracketL:return be=this.startNode(),this.next(),be.elements=this.parseExprList(Kt.bracketR,!0,!0,_e),this.finishNode(be,"ArrayExpression");case Kt.braceL:return this.parseObj(!1,_e);case Kt._function:return be=this.startNode(),this.next(),this.parseFunction(be,0);case Kt._class:return this.parseClass(this.startNode(),!1);case Kt._new:return this.parseNew();case Kt.backQuote:return this.parseTemplate();case Kt._import:return this.options.ecmaVersion>10?this.parseDynamicImport():this.unexpected();default:this.unexpected()}},ga.parseDynamicImport=function(){var _e=this.startNode();return this.next(),this.type!==Kt.parenL&&this.unexpected(),this.finishNode(_e,"Import")},ga.parseLiteral=function(_e){var be=this.startNode();return be.value=_e,be.raw=this.input.slice(this.start,this.end),110===be.raw.charCodeAt(be.raw.length-1)&&(be.bigint=be.raw.slice(0,-1)),this.next(),this.finishNode(be,"Literal")},ga.parseParenExpression=function(){this.expect(Kt.parenL);var _e=this.parseExpression();return this.expect(Kt.parenR),_e},ga.parseParenAndDistinguishExpression=function(_e){var be,Te=this.start,Pe=this.startLoc,pt=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var vt,xt=this.start,Tt=this.startLoc,It=[],Mt=!0,Lt=!1,Ft=new DestructuringErrors,Ot=this.yieldPos,Vt=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==Kt.parenR;){if(Mt?Mt=!1:this.expect(Kt.comma),pt&&this.afterTrailingComma(Kt.parenR,!0)){Lt=!0;break}if(this.type===Kt.ellipsis){vt=this.start,It.push(this.parseParenItem(this.parseRestBinding())),this.type===Kt.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}It.push(this.parseMaybeAssign(!1,Ft,this.parseParenItem))}var qt=this.start,Wt=this.startLoc;if(this.expect(Kt.parenR),_e&&!this.canInsertSemicolon()&&this.eat(Kt.arrow))return this.checkPatternErrors(Ft,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Ot,this.awaitPos=Vt,this.parseParenArrowList(Te,Pe,It);It.length&&!Lt||this.unexpected(this.lastTokStart),vt&&this.unexpected(vt),this.checkExpressionErrors(Ft,!0),this.yieldPos=Ot||this.yieldPos,this.awaitPos=Vt||this.awaitPos,It.length>1?((be=this.startNodeAt(xt,Tt)).expressions=It,this.finishNodeAt(be,"SequenceExpression",qt,Wt)):be=It[0]}else be=this.parseParenExpression();if(this.options.preserveParens){var $t=this.startNodeAt(Te,Pe);return $t.expression=be,this.finishNode($t,"ParenthesizedExpression")}return be},ga.parseParenItem=function(_e){return _e},ga.parseParenArrowList=function(_e,be,Te){return this.parseArrowExpression(this.startNodeAt(_e,be),Te)};var ma=[];ga.parseNew=function(){var _e=this.startNode(),be=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(Kt.dot)){_e.meta=be;var Te=this.containsEsc;return _e.property=this.parseIdent(!0),("target"!==_e.property.name||Te)&&this.raiseRecoverable(_e.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(_e.start,"new.target can only be used in functions"),this.finishNode(_e,"MetaProperty")}var Pe=this.start,pt=this.startLoc;return _e.callee=this.parseSubscripts(this.parseExprAtom(),Pe,pt,!0),this.options.ecmaVersion>10&&"Import"===_e.callee.type&&this.raise(_e.callee.start,"Cannot use new with import(...)"),this.eat(Kt.parenL)?_e.arguments=this.parseExprList(Kt.parenR,this.options.ecmaVersion>=8&&"Import"!==_e.callee.type,!1):_e.arguments=ma,this.finishNode(_e,"NewExpression")},ga.parseTemplateElement=function(_e){var be=_e.isTagged,Te=this.startNode();return this.type===Kt.invalidTemplate?(be||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Te.value={raw:this.value,cooked:null}):Te.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),Te.tail=this.type===Kt.backQuote,this.finishNode(Te,"TemplateElement")},ga.parseTemplate=function(_e){void 0===_e&&(_e={});var be=_e.isTagged;void 0===be&&(be=!1);var Te=this.startNode();this.next(),Te.expressions=[];var Pe=this.parseTemplateElement({isTagged:be});for(Te.quasis=[Pe];!Pe.tail;)this.type===Kt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(Kt.dollarBraceL),Te.expressions.push(this.parseExpression()),this.expect(Kt.braceR),Te.quasis.push(Pe=this.parseTemplateElement({isTagged:be}));return this.next(),this.finishNode(Te,"TemplateLiteral")},ga.isAsyncProp=function(_e){return!_e.computed&&"Identifier"===_e.key.type&&"async"===_e.key.name&&(this.type===Kt.name||this.type===Kt.num||this.type===Kt.string||this.type===Kt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===Kt.star)&&!Jt.test(this.input.slice(this.lastTokEnd,this.start))},ga.parseObj=function(_e,be){var Te=this.startNode(),Pe=!0,pt={};for(Te.properties=[],this.next();!this.eat(Kt.braceR);){if(Pe)Pe=!1;else if(this.expect(Kt.comma),this.afterTrailingComma(Kt.braceR))break;var vt=this.parseProperty(_e,be);_e||this.checkPropClash(vt,pt,be),Te.properties.push(vt)}return this.finishNode(Te,_e?"ObjectPattern":"ObjectExpression")},ga.parseProperty=function(_e,be){var Te,Pe,pt,vt,xt=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(Kt.ellipsis))return _e?(xt.argument=this.parseIdent(!1),this.type===Kt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(xt,"RestElement")):(this.type===Kt.parenL&&be&&(be.parenthesizedAssign<0&&(be.parenthesizedAssign=this.start),be.parenthesizedBind<0&&(be.parenthesizedBind=this.start)),xt.argument=this.parseMaybeAssign(!1,be),this.type===Kt.comma&&be&&be.trailingComma<0&&(be.trailingComma=this.start),this.finishNode(xt,"SpreadElement"));this.options.ecmaVersion>=6&&(xt.method=!1,xt.shorthand=!1,(_e||be)&&(pt=this.start,vt=this.startLoc),_e||(Te=this.eat(Kt.star)));var Tt=this.containsEsc;return this.parsePropertyName(xt),!_e&&!Tt&&this.options.ecmaVersion>=8&&!Te&&this.isAsyncProp(xt)?(Pe=!0,Te=this.options.ecmaVersion>=9&&this.eat(Kt.star),this.parsePropertyName(xt,be)):Pe=!1,this.parsePropertyValue(xt,_e,Te,Pe,pt,vt,be,Tt),this.finishNode(xt,"Property")},ga.parsePropertyValue=function(_e,be,Te,Pe,pt,vt,xt,Tt){if((Te||Pe)&&this.type===Kt.colon&&this.unexpected(),this.eat(Kt.colon))_e.value=be?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,xt),_e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===Kt.parenL)be&&this.unexpected(),_e.kind="init",_e.method=!0,_e.value=this.parseMethod(Te,Pe);else if(be||Tt||!(this.options.ecmaVersion>=5)||_e.computed||"Identifier"!==_e.key.type||"get"!==_e.key.name&&"set"!==_e.key.name||this.type===Kt.comma||this.type===Kt.braceR)this.options.ecmaVersion>=6&&!_e.computed&&"Identifier"===_e.key.type?((Te||Pe)&&this.unexpected(),this.checkUnreserved(_e.key),"await"!==_e.key.name||this.awaitIdentPos||(this.awaitIdentPos=pt),_e.kind="init",be?_e.value=this.parseMaybeDefault(pt,vt,_e.key):this.type===Kt.eq&&xt?(xt.shorthandAssign<0&&(xt.shorthandAssign=this.start),_e.value=this.parseMaybeDefault(pt,vt,_e.key)):_e.value=_e.key,_e.shorthand=!0):this.unexpected();else{(Te||Pe)&&this.unexpected(),_e.kind=_e.key.name,this.parsePropertyName(_e),_e.value=this.parseMethod(!1);var It="get"===_e.kind?0:1;if(_e.value.params.length!==It){var Mt=_e.value.start;"get"===_e.kind?this.raiseRecoverable(Mt,"getter should have no params"):this.raiseRecoverable(Mt,"setter should have exactly one param")}else"set"===_e.kind&&"RestElement"===_e.value.params[0].type&&this.raiseRecoverable(_e.value.params[0].start,"Setter cannot use rest params")}},ga.parsePropertyName=function(_e){if(this.options.ecmaVersion>=6){if(this.eat(Kt.bracketL))return _e.computed=!0,_e.key=this.parseMaybeAssign(),this.expect(Kt.bracketR),_e.key;_e.computed=!1}return _e.key=this.type===Kt.num||this.type===Kt.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},ga.initFunction=function(_e){_e.id=null,this.options.ecmaVersion>=6&&(_e.generator=_e.expression=!1),this.options.ecmaVersion>=8&&(_e.async=!1)},ga.parseMethod=function(_e,be,Te){var Pe=this.startNode(),pt=this.yieldPos,vt=this.awaitPos,xt=this.awaitIdentPos;return this.initFunction(Pe),this.options.ecmaVersion>=6&&(Pe.generator=_e),this.options.ecmaVersion>=8&&(Pe.async=!!be),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|functionFlags(be,Pe.generator)|(Te?128:0)),this.expect(Kt.parenL),Pe.params=this.parseBindingList(Kt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Pe,!1,!0),this.yieldPos=pt,this.awaitPos=vt,this.awaitIdentPos=xt,this.finishNode(Pe,"FunctionExpression")},ga.parseArrowExpression=function(_e,be,Te){var Pe=this.yieldPos,pt=this.awaitPos,vt=this.awaitIdentPos;return this.enterScope(16|functionFlags(Te,!1)),this.initFunction(_e),this.options.ecmaVersion>=8&&(_e.async=!!Te),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,_e.params=this.toAssignableList(be,!0),this.parseFunctionBody(_e,!0,!1),this.yieldPos=Pe,this.awaitPos=pt,this.awaitIdentPos=vt,this.finishNode(_e,"ArrowFunctionExpression")},ga.parseFunctionBody=function(_e,be,Te){var Pe=be&&this.type!==Kt.braceL,pt=this.strict,vt=!1;if(Pe)_e.body=this.parseMaybeAssign(),_e.expression=!0,this.checkParams(_e,!1);else{var xt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(_e.params);pt&&!xt||(vt=this.strictDirective(this.end))&&xt&&this.raiseRecoverable(_e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var Tt=this.labels;this.labels=[],vt&&(this.strict=!0),this.checkParams(_e,!pt&&!vt&&!be&&!Te&&this.isSimpleParamList(_e.params)),_e.body=this.parseBlock(!1),_e.expression=!1,this.adaptDirectivePrologue(_e.body.body),this.labels=Tt}this.exitScope(),this.strict&&_e.id&&this.checkLVal(_e.id,5),this.strict=pt},ga.isSimpleParamList=function(_e){for(var be=0,Te=_e;be<Te.length;be+=1){if("Identifier"!==Te[be].type)return!1}return!0},ga.checkParams=function(_e,be){for(var Te={},Pe=0,pt=_e.params;Pe<pt.length;Pe+=1){var vt=pt[Pe];this.checkLVal(vt,1,be?null:Te)}},ga.parseExprList=function(_e,be,Te,Pe){for(var pt=[],vt=!0;!this.eat(_e);){if(vt)vt=!1;else if(this.expect(Kt.comma),be&&this.afterTrailingComma(_e))break;var xt=void 0;Te&&this.type===Kt.comma?xt=null:this.type===Kt.ellipsis?(xt=this.parseSpread(Pe),Pe&&this.type===Kt.comma&&Pe.trailingComma<0&&(Pe.trailingComma=this.start)):xt=this.parseMaybeAssign(!1,Pe),pt.push(xt)}return pt},ga.checkUnreserved=function(_e){var be=_e.start,Te=_e.end,Pe=_e.name;(this.inGenerator&&"yield"===Pe&&this.raiseRecoverable(be,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===Pe&&this.raiseRecoverable(be,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(Pe)&&this.raise(be,"Unexpected keyword '"+Pe+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(be,Te).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(Pe)&&(this.inAsync||"await"!==Pe||this.raiseRecoverable(be,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(be,"The keyword '"+Pe+"' is reserved"))},ga.parseIdent=function(_e,be){var Te=this.startNode();return this.type===Kt.name?Te.name=this.value:this.type.keyword?(Te.name=this.type.keyword,"class"!==Te.name&&"function"!==Te.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(Te,"Identifier"),_e||(this.checkUnreserved(Te),"await"!==Te.name||this.awaitIdentPos||(this.awaitIdentPos=Te.start)),Te},ga.parseYield=function(_e){this.yieldPos||(this.yieldPos=this.start);var be=this.startNode();return this.next(),this.type===Kt.semi||this.canInsertSemicolon()||this.type!==Kt.star&&!this.type.startsExpr?(be.delegate=!1,be.argument=null):(be.delegate=this.eat(Kt.star),be.argument=this.parseMaybeAssign(_e)),this.finishNode(be,"YieldExpression")},ga.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var _e=this.startNode();return this.next(),_e.argument=this.parseMaybeUnary(null,!0),this.finishNode(_e,"AwaitExpression")};var ya=jn.prototype;ya.raise=function(_e,be){var Te=getLineInfo(this.input,_e);be+=" ("+Te.line+":"+Te.column+")";var Pe=new SyntaxError(be);throw Pe.pos=_e,Pe.loc=Te,Pe.raisedAt=this.pos,Pe},ya.raiseRecoverable=ya.raise,ya.curPosition=function(){if(this.options.locations)return new Pn(this.curLine,this.pos-this.lineStart)};var _a=jn.prototype,va=function Scope(_e){this.flags=_e,this.var=[],this.lexical=[],this.functions=[]};_a.enterScope=function(_e){this.scopeStack.push(new va(_e))},_a.exitScope=function(){this.scopeStack.pop()},_a.treatFunctionsAsVarInScope=function(_e){return 2&_e.flags||!this.inModule&&1&_e.flags},_a.declareName=function(_e,be,Te){var Pe=!1;if(2===be){var pt=this.currentScope();Pe=pt.lexical.indexOf(_e)>-1||pt.functions.indexOf(_e)>-1||pt.var.indexOf(_e)>-1,pt.lexical.push(_e),this.inModule&&1&pt.flags&&delete this.undefinedExports[_e]}else if(4===be){this.currentScope().lexical.push(_e)}else if(3===be){var vt=this.currentScope();Pe=this.treatFunctionsAsVar?vt.lexical.indexOf(_e)>-1:vt.lexical.indexOf(_e)>-1||vt.var.indexOf(_e)>-1,vt.functions.push(_e)}else for(var xt=this.scopeStack.length-1;xt>=0;--xt){var Tt=this.scopeStack[xt];if(Tt.lexical.indexOf(_e)>-1&&!(32&Tt.flags&&Tt.lexical[0]===_e)||!this.treatFunctionsAsVarInScope(Tt)&&Tt.functions.indexOf(_e)>-1){Pe=!0;break}if(Tt.var.push(_e),this.inModule&&1&Tt.flags&&delete this.undefinedExports[_e],3&Tt.flags)break}Pe&&this.raiseRecoverable(Te,"Identifier '"+_e+"' has already been declared")},_a.checkLocalExport=function(_e){-1===this.scopeStack[0].lexical.indexOf(_e.name)&&-1===this.scopeStack[0].var.indexOf(_e.name)&&(this.undefinedExports[_e.name]=_e)},_a.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},_a.currentVarScope=function(){for(var _e=this.scopeStack.length-1;;_e--){var be=this.scopeStack[_e];if(3&be.flags)return be}},_a.currentThisScope=function(){for(var _e=this.scopeStack.length-1;;_e--){var be=this.scopeStack[_e];if(3&be.flags&&!(16&be.flags))return be}};var xa=function Node(_e,be,Te){this.type="",this.start=be,this.end=0,_e.options.locations&&(this.loc=new Ln(_e,Te)),_e.options.directSourceFile&&(this.sourceFile=_e.options.directSourceFile),_e.options.ranges&&(this.range=[be,0])},ba=jn.prototype;function finishNodeAt(_e,be,Te,Pe){return _e.type=be,_e.end=Te,this.options.locations&&(_e.loc.end=Pe),this.options.ranges&&(_e.range[1]=Te),_e}ba.startNode=function(){return new xa(this,this.start,this.startLoc)},ba.startNodeAt=function(_e,be){return new xa(this,_e,be)},ba.finishNode=function(_e,be){return finishNodeAt.call(this,_e,be,this.lastTokEnd,this.lastTokEndLoc)},ba.finishNodeAt=function(_e,be,Te,Pe){return finishNodeAt.call(this,_e,be,Te,Pe)};var wa=function TokContext(_e,be,Te,Pe,pt){this.token=_e,this.isExpr=!!be,this.preserveSpace=!!Te,this.override=Pe,this.generator=!!pt},Ea={b_stat:new wa("{",!1),b_expr:new wa("{",!0),b_tmpl:new wa("${",!1),p_stat:new wa("(",!1),p_expr:new wa("(",!0),q_tmpl:new wa("`",!0,!0,(function(_e){return _e.tryReadTemplateToken()})),f_stat:new wa("function",!1),f_expr:new wa("function",!0),f_expr_gen:new wa("function",!0,!1,null,!0),f_gen:new wa("function",!1,!1,null,!0)},Ca=jn.prototype;Ca.initialContext=function(){return[Ea.b_stat]},Ca.braceIsBlock=function(_e){var be=this.curContext();return be===Ea.f_expr||be===Ea.f_stat||(_e!==Kt.colon||be!==Ea.b_stat&&be!==Ea.b_expr?_e===Kt._return||_e===Kt.name&&this.exprAllowed?Jt.test(this.input.slice(this.lastTokEnd,this.start)):_e===Kt._else||_e===Kt.semi||_e===Kt.eof||_e===Kt.parenR||_e===Kt.arrow||(_e===Kt.braceL?be===Ea.b_stat:_e!==Kt._var&&_e!==Kt._const&&_e!==Kt.name&&!this.exprAllowed):!be.isExpr)},Ca.inGeneratorContext=function(){for(var _e=this.context.length-1;_e>=1;_e--){var be=this.context[_e];if("function"===be.token)return be.generator}return!1},Ca.updateContext=function(_e){var be,Te=this.type;Te.keyword&&_e===Kt.dot?this.exprAllowed=!1:(be=Te.updateContext)?be.call(this,_e):this.exprAllowed=Te.beforeExpr},Kt.parenR.updateContext=Kt.braceR.updateContext=function(){if(1!==this.context.length){var _e=this.context.pop();_e===Ea.b_stat&&"function"===this.curContext().token&&(_e=this.context.pop()),this.exprAllowed=!_e.isExpr}else this.exprAllowed=!0},Kt.braceL.updateContext=function(_e){this.context.push(this.braceIsBlock(_e)?Ea.b_stat:Ea.b_expr),this.exprAllowed=!0},Kt.dollarBraceL.updateContext=function(){this.context.push(Ea.b_tmpl),this.exprAllowed=!0},Kt.parenL.updateContext=function(_e){var be=_e===Kt._if||_e===Kt._for||_e===Kt._with||_e===Kt._while;this.context.push(be?Ea.p_stat:Ea.p_expr),this.exprAllowed=!0},Kt.incDec.updateContext=function(){},Kt._function.updateContext=Kt._class.updateContext=function(_e){!_e.beforeExpr||_e===Kt.semi||_e===Kt._else||_e===Kt._return&&Jt.test(this.input.slice(this.lastTokEnd,this.start))||(_e===Kt.colon||_e===Kt.braceL)&&this.curContext()===Ea.b_stat?this.context.push(Ea.f_stat):this.context.push(Ea.f_expr),this.exprAllowed=!1},Kt.backQuote.updateContext=function(){this.curContext()===Ea.q_tmpl?this.context.pop():this.context.push(Ea.q_tmpl),this.exprAllowed=!1},Kt.star.updateContext=function(_e){if(_e===Kt._function){var be=this.context.length-1;this.context[be]===Ea.f_expr?this.context[be]=Ea.f_expr_gen:this.context[be]=Ea.f_gen}this.exprAllowed=!0},Kt.name.updateContext=function(_e){var be=!1;this.options.ecmaVersion>=6&&_e!==Kt.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(be=!0),this.exprAllowed=be};var Aa="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Da=Aa+" Extended_Pictographic",ka={9:Aa,10:Da,11:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic"},Ia="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",La="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Fa=La+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Ba={9:La,10:Fa,11:"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},za={};function buildUnicodeData(_e){var be=za[_e]={binary:wordsRegexp(ka[_e]+" "+Ia),nonBinary:{General_Category:wordsRegexp(Ia),Script:wordsRegexp(Ba[_e])}};be.nonBinary.Script_Extensions=be.nonBinary.Script,be.nonBinary.gc=be.nonBinary.General_Category,be.nonBinary.sc=be.nonBinary.Script,be.nonBinary.scx=be.nonBinary.Script_Extensions}buildUnicodeData(9),buildUnicodeData(10),buildUnicodeData(11);var ja=jn.prototype,Na=function RegExpValidationState(_e){this.parser=_e,this.validFlags="gim"+(_e.options.ecmaVersion>=6?"uy":"")+(_e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=za[_e.options.ecmaVersion>=11?11:_e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function codePointToString(_e){return _e<=65535?String.fromCharCode(_e):(_e-=65536,String.fromCharCode(55296+(_e>>10),56320+(1023&_e)))}function isSyntaxCharacter(_e){return 36===_e||_e>=40&&_e<=43||46===_e||63===_e||_e>=91&&_e<=94||_e>=123&&_e<=125}function isRegExpIdentifierStart(_e){return isIdentifierStart(_e,!0)||36===_e||95===_e}function isRegExpIdentifierPart(_e){return isIdentifierChar(_e,!0)||36===_e||95===_e||8204===_e||8205===_e}function isControlLetter(_e){return _e>=65&&_e<=90||_e>=97&&_e<=122}function isCharacterClassEscape(_e){return 100===_e||68===_e||115===_e||83===_e||119===_e||87===_e}function isUnicodePropertyNameCharacter(_e){return isControlLetter(_e)||95===_e}function isUnicodePropertyValueCharacter(_e){return isUnicodePropertyNameCharacter(_e)||isDecimalDigit(_e)}function isDecimalDigit(_e){return _e>=48&&_e<=57}function isHexDigit(_e){return _e>=48&&_e<=57||_e>=65&&_e<=70||_e>=97&&_e<=102}function hexToInt(_e){return _e>=65&&_e<=70?_e-65+10:_e>=97&&_e<=102?_e-97+10:_e-48}function isOctalDigit(_e){return _e>=48&&_e<=55}Na.prototype.reset=function reset(_e,be,Te){var Pe=-1!==Te.indexOf("u");this.start=0|_e,this.source=be+"",this.flags=Te,this.switchU=Pe&&this.parser.options.ecmaVersion>=6,this.switchN=Pe&&this.parser.options.ecmaVersion>=9},Na.prototype.raise=function raise(_e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+_e)},Na.prototype.at=function at(_e){var be=this.source,Te=be.length;if(_e>=Te)return-1;var Pe=be.charCodeAt(_e);if(!this.switchU||Pe<=55295||Pe>=57344||_e+1>=Te)return Pe;var pt=be.charCodeAt(_e+1);return pt>=56320&&pt<=57343?(Pe<<10)+pt-56613888:Pe},Na.prototype.nextIndex=function nextIndex(_e){var be=this.source,Te=be.length;if(_e>=Te)return Te;var Pe,pt=be.charCodeAt(_e);return!this.switchU||pt<=55295||pt>=57344||_e+1>=Te||(Pe=be.charCodeAt(_e+1))<56320||Pe>57343?_e+1:_e+2},Na.prototype.current=function current(){return this.at(this.pos)},Na.prototype.lookahead=function lookahead(){return this.at(this.nextIndex(this.pos))},Na.prototype.advance=function advance(){this.pos=this.nextIndex(this.pos)},Na.prototype.eat=function eat(_e){return this.current()===_e&&(this.advance(),!0)},ja.validateRegExpFlags=function(_e){for(var be=_e.validFlags,Te=_e.flags,Pe=0;Pe<Te.length;Pe++){var pt=Te.charAt(Pe);-1===be.indexOf(pt)&&this.raise(_e.start,"Invalid regular expression flag"),Te.indexOf(pt,Pe+1)>-1&&this.raise(_e.start,"Duplicate regular expression flag")}},ja.validateRegExpPattern=function(_e){this.regexp_pattern(_e),!_e.switchN&&this.options.ecmaVersion>=9&&_e.groupNames.length>0&&(_e.switchN=!0,this.regexp_pattern(_e))},ja.regexp_pattern=function(_e){_e.pos=0,_e.lastIntValue=0,_e.lastStringValue="",_e.lastAssertionIsQuantifiable=!1,_e.numCapturingParens=0,_e.maxBackReference=0,_e.groupNames.length=0,_e.backReferenceNames.length=0,this.regexp_disjunction(_e),_e.pos!==_e.source.length&&(_e.eat(41)&&_e.raise("Unmatched ')'"),(_e.eat(93)||_e.eat(125))&&_e.raise("Lone quantifier brackets")),_e.maxBackReference>_e.numCapturingParens&&_e.raise("Invalid escape");for(var be=0,Te=_e.backReferenceNames;be<Te.length;be+=1){var Pe=Te[be];-1===_e.groupNames.indexOf(Pe)&&_e.raise("Invalid named capture referenced")}},ja.regexp_disjunction=function(_e){for(this.regexp_alternative(_e);_e.eat(124);)this.regexp_alternative(_e);this.regexp_eatQuantifier(_e,!0)&&_e.raise("Nothing to repeat"),_e.eat(123)&&_e.raise("Lone quantifier brackets")},ja.regexp_alternative=function(_e){for(;_e.pos<_e.source.length&&this.regexp_eatTerm(_e););},ja.regexp_eatTerm=function(_e){return this.regexp_eatAssertion(_e)?(_e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(_e)&&_e.switchU&&_e.raise("Invalid quantifier"),!0):!!(_e.switchU?this.regexp_eatAtom(_e):this.regexp_eatExtendedAtom(_e))&&(this.regexp_eatQuantifier(_e),!0)},ja.regexp_eatAssertion=function(_e){var be=_e.pos;if(_e.lastAssertionIsQuantifiable=!1,_e.eat(94)||_e.eat(36))return!0;if(_e.eat(92)){if(_e.eat(66)||_e.eat(98))return!0;_e.pos=be}if(_e.eat(40)&&_e.eat(63)){var Te=!1;if(this.options.ecmaVersion>=9&&(Te=_e.eat(60)),_e.eat(61)||_e.eat(33))return this.regexp_disjunction(_e),_e.eat(41)||_e.raise("Unterminated group"),_e.lastAssertionIsQuantifiable=!Te,!0}return _e.pos=be,!1},ja.regexp_eatQuantifier=function(_e,be){return void 0===be&&(be=!1),!!this.regexp_eatQuantifierPrefix(_e,be)&&(_e.eat(63),!0)},ja.regexp_eatQuantifierPrefix=function(_e,be){return _e.eat(42)||_e.eat(43)||_e.eat(63)||this.regexp_eatBracedQuantifier(_e,be)},ja.regexp_eatBracedQuantifier=function(_e,be){var Te=_e.pos;if(_e.eat(123)){var Pe=0,pt=-1;if(this.regexp_eatDecimalDigits(_e)&&(Pe=_e.lastIntValue,_e.eat(44)&&this.regexp_eatDecimalDigits(_e)&&(pt=_e.lastIntValue),_e.eat(125)))return-1!==pt&&pt<Pe&&!be&&_e.raise("numbers out of order in {} quantifier"),!0;_e.switchU&&!be&&_e.raise("Incomplete quantifier"),_e.pos=Te}return!1},ja.regexp_eatAtom=function(_e){return this.regexp_eatPatternCharacters(_e)||_e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_e)||this.regexp_eatCharacterClass(_e)||this.regexp_eatUncapturingGroup(_e)||this.regexp_eatCapturingGroup(_e)},ja.regexp_eatReverseSolidusAtomEscape=function(_e){var be=_e.pos;if(_e.eat(92)){if(this.regexp_eatAtomEscape(_e))return!0;_e.pos=be}return!1},ja.regexp_eatUncapturingGroup=function(_e){var be=_e.pos;if(_e.eat(40)){if(_e.eat(63)&&_e.eat(58)){if(this.regexp_disjunction(_e),_e.eat(41))return!0;_e.raise("Unterminated group")}_e.pos=be}return!1},ja.regexp_eatCapturingGroup=function(_e){if(_e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(_e):63===_e.current()&&_e.raise("Invalid group"),this.regexp_disjunction(_e),_e.eat(41))return _e.numCapturingParens+=1,!0;_e.raise("Unterminated group")}return!1},ja.regexp_eatExtendedAtom=function(_e){return _e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_e)||this.regexp_eatCharacterClass(_e)||this.regexp_eatUncapturingGroup(_e)||this.regexp_eatCapturingGroup(_e)||this.regexp_eatInvalidBracedQuantifier(_e)||this.regexp_eatExtendedPatternCharacter(_e)},ja.regexp_eatInvalidBracedQuantifier=function(_e){return this.regexp_eatBracedQuantifier(_e,!0)&&_e.raise("Nothing to repeat"),!1},ja.regexp_eatSyntaxCharacter=function(_e){var be=_e.current();return!!isSyntaxCharacter(be)&&(_e.lastIntValue=be,_e.advance(),!0)},ja.regexp_eatPatternCharacters=function(_e){for(var be=_e.pos,Te=0;-1!==(Te=_e.current())&&!isSyntaxCharacter(Te);)_e.advance();return _e.pos!==be},ja.regexp_eatExtendedPatternCharacter=function(_e){var be=_e.current();return!(-1===be||36===be||be>=40&&be<=43||46===be||63===be||91===be||94===be||124===be)&&(_e.advance(),!0)},ja.regexp_groupSpecifier=function(_e){if(_e.eat(63)){if(this.regexp_eatGroupName(_e))return-1!==_e.groupNames.indexOf(_e.lastStringValue)&&_e.raise("Duplicate capture group name"),void _e.groupNames.push(_e.lastStringValue);_e.raise("Invalid group")}},ja.regexp_eatGroupName=function(_e){if(_e.lastStringValue="",_e.eat(60)){if(this.regexp_eatRegExpIdentifierName(_e)&&_e.eat(62))return!0;_e.raise("Invalid capture group name")}return!1},ja.regexp_eatRegExpIdentifierName=function(_e){if(_e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(_e)){for(_e.lastStringValue+=codePointToString(_e.lastIntValue);this.regexp_eatRegExpIdentifierPart(_e);)_e.lastStringValue+=codePointToString(_e.lastIntValue);return!0}return!1},ja.regexp_eatRegExpIdentifierStart=function(_e){var be=_e.pos,Te=_e.current();return _e.advance(),92===Te&&this.regexp_eatRegExpUnicodeEscapeSequence(_e)&&(Te=_e.lastIntValue),isRegExpIdentifierStart(Te)?(_e.lastIntValue=Te,!0):(_e.pos=be,!1)},ja.regexp_eatRegExpIdentifierPart=function(_e){var be=_e.pos,Te=_e.current();return _e.advance(),92===Te&&this.regexp_eatRegExpUnicodeEscapeSequence(_e)&&(Te=_e.lastIntValue),isRegExpIdentifierPart(Te)?(_e.lastIntValue=Te,!0):(_e.pos=be,!1)},ja.regexp_eatAtomEscape=function(_e){return!!(this.regexp_eatBackReference(_e)||this.regexp_eatCharacterClassEscape(_e)||this.regexp_eatCharacterEscape(_e)||_e.switchN&&this.regexp_eatKGroupName(_e))||(_e.switchU&&(99===_e.current()&&_e.raise("Invalid unicode escape"),_e.raise("Invalid escape")),!1)},ja.regexp_eatBackReference=function(_e){var be=_e.pos;if(this.regexp_eatDecimalEscape(_e)){var Te=_e.lastIntValue;if(_e.switchU)return Te>_e.maxBackReference&&(_e.maxBackReference=Te),!0;if(Te<=_e.numCapturingParens)return!0;_e.pos=be}return!1},ja.regexp_eatKGroupName=function(_e){if(_e.eat(107)){if(this.regexp_eatGroupName(_e))return _e.backReferenceNames.push(_e.lastStringValue),!0;_e.raise("Invalid named reference")}return!1},ja.regexp_eatCharacterEscape=function(_e){return this.regexp_eatControlEscape(_e)||this.regexp_eatCControlLetter(_e)||this.regexp_eatZero(_e)||this.regexp_eatHexEscapeSequence(_e)||this.regexp_eatRegExpUnicodeEscapeSequence(_e)||!_e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(_e)||this.regexp_eatIdentityEscape(_e)},ja.regexp_eatCControlLetter=function(_e){var be=_e.pos;if(_e.eat(99)){if(this.regexp_eatControlLetter(_e))return!0;_e.pos=be}return!1},ja.regexp_eatZero=function(_e){return 48===_e.current()&&!isDecimalDigit(_e.lookahead())&&(_e.lastIntValue=0,_e.advance(),!0)},ja.regexp_eatControlEscape=function(_e){var be=_e.current();return 116===be?(_e.lastIntValue=9,_e.advance(),!0):110===be?(_e.lastIntValue=10,_e.advance(),!0):118===be?(_e.lastIntValue=11,_e.advance(),!0):102===be?(_e.lastIntValue=12,_e.advance(),!0):114===be&&(_e.lastIntValue=13,_e.advance(),!0)},ja.regexp_eatControlLetter=function(_e){var be=_e.current();return!!isControlLetter(be)&&(_e.lastIntValue=be%32,_e.advance(),!0)},ja.regexp_eatRegExpUnicodeEscapeSequence=function(_e){var be,Te=_e.pos;if(_e.eat(117)){if(this.regexp_eatFixedHexDigits(_e,4)){var Pe=_e.lastIntValue;if(_e.switchU&&Pe>=55296&&Pe<=56319){var pt=_e.pos;if(_e.eat(92)&&_e.eat(117)&&this.regexp_eatFixedHexDigits(_e,4)){var vt=_e.lastIntValue;if(vt>=56320&&vt<=57343)return _e.lastIntValue=1024*(Pe-55296)+(vt-56320)+65536,!0}_e.pos=pt,_e.lastIntValue=Pe}return!0}if(_e.switchU&&_e.eat(123)&&this.regexp_eatHexDigits(_e)&&_e.eat(125)&&((be=_e.lastIntValue)>=0&&be<=1114111))return!0;_e.switchU&&_e.raise("Invalid unicode escape"),_e.pos=Te}return!1},ja.regexp_eatIdentityEscape=function(_e){if(_e.switchU)return!!this.regexp_eatSyntaxCharacter(_e)||!!_e.eat(47)&&(_e.lastIntValue=47,!0);var be=_e.current();return!(99===be||_e.switchN&&107===be)&&(_e.lastIntValue=be,_e.advance(),!0)},ja.regexp_eatDecimalEscape=function(_e){_e.lastIntValue=0;var be=_e.current();if(be>=49&&be<=57){do{_e.lastIntValue=10*_e.lastIntValue+(be-48),_e.advance()}while((be=_e.current())>=48&&be<=57);return!0}return!1},ja.regexp_eatCharacterClassEscape=function(_e){var be=_e.current();if(isCharacterClassEscape(be))return _e.lastIntValue=-1,_e.advance(),!0;if(_e.switchU&&this.options.ecmaVersion>=9&&(80===be||112===be)){if(_e.lastIntValue=-1,_e.advance(),_e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(_e)&&_e.eat(125))return!0;_e.raise("Invalid property name")}return!1},ja.regexp_eatUnicodePropertyValueExpression=function(_e){var be=_e.pos;if(this.regexp_eatUnicodePropertyName(_e)&&_e.eat(61)){var Te=_e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(_e)){var Pe=_e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(_e,Te,Pe),!0}}if(_e.pos=be,this.regexp_eatLoneUnicodePropertyNameOrValue(_e)){var pt=_e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(_e,pt),!0}return!1},ja.regexp_validateUnicodePropertyNameAndValue=function(_e,be,Te){has(_e.unicodeProperties.nonBinary,be)||_e.raise("Invalid property name"),_e.unicodeProperties.nonBinary[be].test(Te)||_e.raise("Invalid property value")},ja.regexp_validateUnicodePropertyNameOrValue=function(_e,be){_e.unicodeProperties.binary.test(be)||_e.raise("Invalid property name")},ja.regexp_eatUnicodePropertyName=function(_e){var be=0;for(_e.lastStringValue="";isUnicodePropertyNameCharacter(be=_e.current());)_e.lastStringValue+=codePointToString(be),_e.advance();return""!==_e.lastStringValue},ja.regexp_eatUnicodePropertyValue=function(_e){var be=0;for(_e.lastStringValue="";isUnicodePropertyValueCharacter(be=_e.current());)_e.lastStringValue+=codePointToString(be),_e.advance();return""!==_e.lastStringValue},ja.regexp_eatLoneUnicodePropertyNameOrValue=function(_e){return this.regexp_eatUnicodePropertyValue(_e)},ja.regexp_eatCharacterClass=function(_e){if(_e.eat(91)){if(_e.eat(94),this.regexp_classRanges(_e),_e.eat(93))return!0;_e.raise("Unterminated character class")}return!1},ja.regexp_classRanges=function(_e){for(;this.regexp_eatClassAtom(_e);){var be=_e.lastIntValue;if(_e.eat(45)&&this.regexp_eatClassAtom(_e)){var Te=_e.lastIntValue;!_e.switchU||-1!==be&&-1!==Te||_e.raise("Invalid character class"),-1!==be&&-1!==Te&&be>Te&&_e.raise("Range out of order in character class")}}},ja.regexp_eatClassAtom=function(_e){var be=_e.pos;if(_e.eat(92)){if(this.regexp_eatClassEscape(_e))return!0;if(_e.switchU){var Te=_e.current();(99===Te||isOctalDigit(Te))&&_e.raise("Invalid class escape"),_e.raise("Invalid escape")}_e.pos=be}var Pe=_e.current();return 93!==Pe&&(_e.lastIntValue=Pe,_e.advance(),!0)},ja.regexp_eatClassEscape=function(_e){var be=_e.pos;if(_e.eat(98))return _e.lastIntValue=8,!0;if(_e.switchU&&_e.eat(45))return _e.lastIntValue=45,!0;if(!_e.switchU&&_e.eat(99)){if(this.regexp_eatClassControlLetter(_e))return!0;_e.pos=be}return this.regexp_eatCharacterClassEscape(_e)||this.regexp_eatCharacterEscape(_e)},ja.regexp_eatClassControlLetter=function(_e){var be=_e.current();return!(!isDecimalDigit(be)&&95!==be)&&(_e.lastIntValue=be%32,_e.advance(),!0)},ja.regexp_eatHexEscapeSequence=function(_e){var be=_e.pos;if(_e.eat(120)){if(this.regexp_eatFixedHexDigits(_e,2))return!0;_e.switchU&&_e.raise("Invalid escape"),_e.pos=be}return!1},ja.regexp_eatDecimalDigits=function(_e){var be=_e.pos,Te=0;for(_e.lastIntValue=0;isDecimalDigit(Te=_e.current());)_e.lastIntValue=10*_e.lastIntValue+(Te-48),_e.advance();return _e.pos!==be},ja.regexp_eatHexDigits=function(_e){var be=_e.pos,Te=0;for(_e.lastIntValue=0;isHexDigit(Te=_e.current());)_e.lastIntValue=16*_e.lastIntValue+hexToInt(Te),_e.advance();return _e.pos!==be},ja.regexp_eatLegacyOctalEscapeSequence=function(_e){if(this.regexp_eatOctalDigit(_e)){var be=_e.lastIntValue;if(this.regexp_eatOctalDigit(_e)){var Te=_e.lastIntValue;be<=3&&this.regexp_eatOctalDigit(_e)?_e.lastIntValue=64*be+8*Te+_e.lastIntValue:_e.lastIntValue=8*be+Te}else _e.lastIntValue=be;return!0}return!1},ja.regexp_eatOctalDigit=function(_e){var be=_e.current();return isOctalDigit(be)?(_e.lastIntValue=be-48,_e.advance(),!0):(_e.lastIntValue=0,!1)},ja.regexp_eatFixedHexDigits=function(_e,be){var Te=_e.pos;_e.lastIntValue=0;for(var Pe=0;Pe<be;++Pe){var pt=_e.current();if(!isHexDigit(pt))return _e.pos=Te,!1;_e.lastIntValue=16*_e.lastIntValue+hexToInt(pt),_e.advance()}return!0};var Ga=function Token(_e){this.type=_e.type,this.value=_e.value,this.start=_e.start,this.end=_e.end,_e.options.locations&&(this.loc=new Ln(_e,_e.startLoc,_e.endLoc)),_e.options.ranges&&(this.range=[_e.start,_e.end])},Ha=jn.prototype;function codePointToString$1(_e){return _e<=65535?String.fromCharCode(_e):(_e-=65536,String.fromCharCode(55296+(_e>>10),56320+(1023&_e)))}Ha.next=function(){this.options.onToken&&this.options.onToken(new Ga(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Ha.getToken=function(){return this.next(),new Ga(this)},"undefined"!=typeof Symbol&&(Ha[Symbol.iterator]=function(){var _e=this;return{next:function(){var be=_e.getToken();return{done:be.type===Kt.eof,value:be}}}}),Ha.curContext=function(){return this.context[this.context.length-1]},Ha.nextToken=function(){var _e=this.curContext();return _e&&_e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(Kt.eof):_e.override?_e.override(this):void this.readToken(this.fullCharCodeAtPos())},Ha.readToken=function(_e){return isIdentifierStart(_e,this.options.ecmaVersion>=6)||92===_e?this.readWord():this.getTokenFromCode(_e)},Ha.fullCharCodeAtPos=function(){var _e=this.input.charCodeAt(this.pos);return _e<=55295||_e>=57344?_e:(_e<<10)+this.input.charCodeAt(this.pos+1)-56613888},Ha.skipBlockComment=function(){var _e,be=this.options.onComment&&this.curPosition(),Te=this.pos,Pe=this.input.indexOf("*/",this.pos+=2);if(-1===Pe&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Pe+2,this.options.locations)for(Yt.lastIndex=Te;(_e=Yt.exec(this.input))&&_e.index<this.pos;)++this.curLine,this.lineStart=_e.index+_e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(Te+2,Pe),Te,this.pos,be,this.curPosition())},Ha.skipLineComment=function(_e){for(var be=this.pos,Te=this.options.onComment&&this.curPosition(),Pe=this.input.charCodeAt(this.pos+=_e);this.pos<this.input.length&&!isNewLine(Pe);)Pe=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(be+_e,this.pos),be,this.pos,Te,this.curPosition())},Ha.skipSpace=function(){e:for(;this.pos<this.input.length;){var _e=this.input.charCodeAt(this.pos);switch(_e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(_e>8&&_e<14||_e>=5760&&Qt.test(String.fromCharCode(_e))))break e;++this.pos}}},Ha.finishToken=function(_e,be){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Te=this.type;this.type=_e,this.value=be,this.updateContext(Te)},Ha.readToken_dot=function(){var _e=this.input.charCodeAt(this.pos+1);if(_e>=48&&_e<=57)return this.readNumber(!0);var be=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===_e&&46===be?(this.pos+=3,this.finishToken(Kt.ellipsis)):(++this.pos,this.finishToken(Kt.dot))},Ha.readToken_slash=function(){var _e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===_e?this.finishOp(Kt.assign,2):this.finishOp(Kt.slash,1)},Ha.readToken_mult_modulo_exp=function(_e){var be=this.input.charCodeAt(this.pos+1),Te=1,Pe=42===_e?Kt.star:Kt.modulo;return this.options.ecmaVersion>=7&&42===_e&&42===be&&(++Te,Pe=Kt.starstar,be=this.input.charCodeAt(this.pos+2)),61===be?this.finishOp(Kt.assign,Te+1):this.finishOp(Pe,Te)},Ha.readToken_pipe_amp=function(_e){var be=this.input.charCodeAt(this.pos+1);return be===_e?this.finishOp(124===_e?Kt.logicalOR:Kt.logicalAND,2):61===be?this.finishOp(Kt.assign,2):this.finishOp(124===_e?Kt.bitwiseOR:Kt.bitwiseAND,1)},Ha.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(Kt.assign,2):this.finishOp(Kt.bitwiseXOR,1)},Ha.readToken_plus_min=function(_e){var be=this.input.charCodeAt(this.pos+1);return be===_e?45!==be||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!Jt.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(Kt.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===be?this.finishOp(Kt.assign,2):this.finishOp(Kt.plusMin,1)},Ha.readToken_lt_gt=function(_e){var be=this.input.charCodeAt(this.pos+1),Te=1;return be===_e?(Te=62===_e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+Te)?this.finishOp(Kt.assign,Te+1):this.finishOp(Kt.bitShift,Te)):33!==be||60!==_e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===be&&(Te=2),this.finishOp(Kt.relational,Te)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Ha.readToken_eq_excl=function(_e){var be=this.input.charCodeAt(this.pos+1);return 61===be?this.finishOp(Kt.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===_e&&62===be&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(Kt.arrow)):this.finishOp(61===_e?Kt.eq:Kt.prefix,1)},Ha.getTokenFromCode=function(_e){switch(_e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(Kt.parenL);case 41:return++this.pos,this.finishToken(Kt.parenR);case 59:return++this.pos,this.finishToken(Kt.semi);case 44:return++this.pos,this.finishToken(Kt.comma);case 91:return++this.pos,this.finishToken(Kt.bracketL);case 93:return++this.pos,this.finishToken(Kt.bracketR);case 123:return++this.pos,this.finishToken(Kt.braceL);case 125:return++this.pos,this.finishToken(Kt.braceR);case 58:return++this.pos,this.finishToken(Kt.colon);case 63:return++this.pos,this.finishToken(Kt.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(Kt.backQuote);case 48:var be=this.input.charCodeAt(this.pos+1);if(120===be||88===be)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===be||79===be)return this.readRadixNumber(8);if(98===be||66===be)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(_e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(_e);case 124:case 38:return this.readToken_pipe_amp(_e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(_e);case 60:case 62:return this.readToken_lt_gt(_e);case 61:case 33:return this.readToken_eq_excl(_e);case 126:return this.finishOp(Kt.prefix,1)}this.raise(this.pos,"Unexpected character '"+codePointToString$1(_e)+"'")},Ha.finishOp=function(_e,be){var Te=this.input.slice(this.pos,this.pos+be);return this.pos+=be,this.finishToken(_e,Te)},Ha.readRegexp=function(){for(var _e,be,Te=this.pos;;){this.pos>=this.input.length&&this.raise(Te,"Unterminated regular expression");var Pe=this.input.charAt(this.pos);if(Jt.test(Pe)&&this.raise(Te,"Unterminated regular expression"),_e)_e=!1;else{if("["===Pe)be=!0;else if("]"===Pe&&be)be=!1;else if("/"===Pe&&!be)break;_e="\\"===Pe}++this.pos}var pt=this.input.slice(Te,this.pos);++this.pos;var vt=this.pos,xt=this.readWord1();this.containsEsc&&this.unexpected(vt);var Tt=this.regexpState||(this.regexpState=new Na(this));Tt.reset(Te,pt,xt),this.validateRegExpFlags(Tt),this.validateRegExpPattern(Tt);var It=null;try{It=new RegExp(pt,xt)}catch(_e){}return this.finishToken(Kt.regexp,{pattern:pt,flags:xt,value:It})},Ha.readInt=function(_e,be){for(var Te=this.pos,Pe=0,pt=0,vt=null==be?1/0:be;pt<vt;++pt){var xt=this.input.charCodeAt(this.pos),Tt=void 0;if((Tt=xt>=97?xt-97+10:xt>=65?xt-65+10:xt>=48&&xt<=57?xt-48:1/0)>=_e)break;++this.pos,Pe=Pe*_e+Tt}return this.pos===Te||null!=be&&this.pos-Te!==be?null:Pe},Ha.readRadixNumber=function(_e){var be=this.pos;this.pos+=2;var Te=this.readInt(_e);return null==Te&&this.raise(this.start+2,"Expected number in radix "+_e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(Te="undefined"!=typeof BigInt?BigInt(this.input.slice(be,this.pos)):null,++this.pos):isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Kt.num,Te)},Ha.readNumber=function(_e){var be=this.pos;_e||null!==this.readInt(10)||this.raise(be,"Invalid number");var Te=this.pos-be>=2&&48===this.input.charCodeAt(be);Te&&this.strict&&this.raise(be,"Invalid number"),Te&&/[89]/.test(this.input.slice(be,this.pos))&&(Te=!1);var Pe=this.input.charCodeAt(this.pos);if(!Te&&!_e&&this.options.ecmaVersion>=11&&110===Pe){var pt=this.input.slice(be,this.pos),vt="undefined"!=typeof BigInt?BigInt(pt):null;return++this.pos,isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Kt.num,vt)}46!==Pe||Te||(++this.pos,this.readInt(10),Pe=this.input.charCodeAt(this.pos)),69!==Pe&&101!==Pe||Te||(43!==(Pe=this.input.charCodeAt(++this.pos))&&45!==Pe||++this.pos,null===this.readInt(10)&&this.raise(be,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var xt=this.input.slice(be,this.pos),Tt=Te?parseInt(xt,8):parseFloat(xt);return this.finishToken(Kt.num,Tt)},Ha.readCodePoint=function(){var _e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var be=++this.pos;_e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,_e>1114111&&this.invalidStringToken(be,"Code point out of bounds")}else _e=this.readHexChar(4);return _e},Ha.readString=function(_e){for(var be="",Te=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Pe=this.input.charCodeAt(this.pos);if(Pe===_e)break;92===Pe?(be+=this.input.slice(Te,this.pos),be+=this.readEscapedChar(!1),Te=this.pos):(isNewLine(Pe,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return be+=this.input.slice(Te,this.pos++),this.finishToken(Kt.string,be)};var $a={};Ha.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(_e){if(_e!==$a)throw _e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Ha.invalidStringToken=function(_e,be){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw $a;this.raise(_e,be)},Ha.readTmplToken=function(){for(var _e="",be=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Te=this.input.charCodeAt(this.pos);if(96===Te||36===Te&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==Kt.template&&this.type!==Kt.invalidTemplate?(_e+=this.input.slice(be,this.pos),this.finishToken(Kt.template,_e)):36===Te?(this.pos+=2,this.finishToken(Kt.dollarBraceL)):(++this.pos,this.finishToken(Kt.backQuote));if(92===Te)_e+=this.input.slice(be,this.pos),_e+=this.readEscapedChar(!0),be=this.pos;else if(isNewLine(Te)){switch(_e+=this.input.slice(be,this.pos),++this.pos,Te){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:_e+="\n";break;default:_e+=String.fromCharCode(Te)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),be=this.pos}else++this.pos}},Ha.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(Kt.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Ha.readEscapedChar=function(_e){var be=this.input.charCodeAt(++this.pos);switch(++this.pos,be){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString$1(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(be>=48&&be<=55){var Te=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Pe=parseInt(Te,8);return Pe>255&&(Te=Te.slice(0,-1),Pe=parseInt(Te,8)),this.pos+=Te.length-1,be=this.input.charCodeAt(this.pos),"0"===Te&&56!==be&&57!==be||!this.strict&&!_e||this.invalidStringToken(this.pos-1-Te.length,_e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Pe)}return isNewLine(be)?"":String.fromCharCode(be)}},Ha.readHexChar=function(_e){var be=this.pos,Te=this.readInt(16,_e);return null===Te&&this.invalidStringToken(be,"Bad character escape sequence"),Te},Ha.readWord1=function(){this.containsEsc=!1;for(var _e="",be=!0,Te=this.pos,Pe=this.options.ecmaVersion>=6;this.pos<this.input.length;){var pt=this.fullCharCodeAtPos();if(isIdentifierChar(pt,Pe))this.pos+=pt<=65535?1:2;else{if(92!==pt)break;this.containsEsc=!0,_e+=this.input.slice(Te,this.pos);var vt=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var xt=this.readCodePoint();(be?isIdentifierStart:isIdentifierChar)(xt,Pe)||this.invalidStringToken(vt,"Invalid Unicode escape"),_e+=codePointToString$1(xt),Te=this.pos}be=!1}return _e+this.input.slice(Te,this.pos)},Ha.readWord=function(){var _e=this.readWord1(),be=Kt.name;return this.keywords.test(_e)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+_e),be=$t[_e]),this.finishToken(be,_e)};var Ja="6.4.2";function parse(_e,be){return jn.parse(_e,be)}function parseExpressionAt(_e,be,Te){return jn.parseExpressionAt(_e,be,Te)}function tokenizer(_e,be){return jn.tokenizer(_e,be)}jn.acorn={Parser:jn,version:Ja,defaultOptions:Fn,Position:Pn,SourceLocation:Ln,getLineInfo:getLineInfo,Node:xa,TokenType:Vt,tokTypes:Kt,keywordTypes:$t,TokContext:wa,tokContexts:Ea,isIdentifierChar:isIdentifierChar,isIdentifierStart:isIdentifierStart,Token:Ga,isNewLine:isNewLine,lineBreak:Jt,lineBreakG:Yt,nonASCIIwhitespace:Qt}},82954:function(_e){"use strict";_e.exports={i8:"3.0.0"}}},__webpack_module_cache__={};function __webpack_require__(_e){var be=__webpack_module_cache__[_e];if(void 0!==be)return be.exports;var Te=__webpack_module_cache__[_e]={id:_e,loaded:!1,exports:{}};return __webpack_modules__[_e].call(Te.exports,Te,Te.exports,__webpack_require__),Te.loaded=!0,Te.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(_e){var be=_e&&_e.__esModule?function(){return _e.default}:function(){return _e};return __webpack_require__.d(be,{a:be}),be},__webpack_require__.d=function(_e,be){for(var Te in be)__webpack_require__.o(be,Te)&&!__webpack_require__.o(_e,Te)&&Object.defineProperty(_e,Te,{enumerable:!0,get:be[Te]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(_e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(_e,be){return Object.prototype.hasOwnProperty.call(_e,be)},__webpack_require__.r=function(_e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_e,"__esModule",{value:!0})},__webpack_require__.nmd=function(_e){return _e.paths=[],_e.children||(_e.children=[]),_e},__webpack_require__.b=document.baseURI||self.location.href,__webpack_require__.nc=void 0;var __webpack_exports__={};!function(){"use strict";__webpack_require__(72679);__webpack_require__.g.MAPBOX_ACCESS_TOKEN="pk.eyJ1Ijoic3RlcGFua3V6bWluIiwiYSI6Ik1ieW5udm8ifQ.25EOEC2-N92NCWT0Ci9w-Q"}(),function(){"use strict";__webpack_require__(57625),__webpack_require__(47097),__webpack_require__(77310);var _e=__webpack_require__(18788).Z.createStyleSheet({body:{isolate:!1,margin:0,padding:0,minWidth:0,maxWidth:"100%",border:0}}).attach().classes.body;document.body.classList.add(_e);var be=__webpack_require__(73935),Te=(__webpack_require__(74916),__webpack_require__(64765),__webpack_require__(67294)),Pe=(__webpack_require__(80504),__webpack_require__(92222),__webpack_require__(19601),__webpack_require__(30489),__webpack_require__(41539),__webpack_require__(12419),__webpack_require__(39714),__webpack_require__(29254),__webpack_require__(37268),__webpack_require__(45697)),pt=__webpack_require__.n(Pe),vt=__webpack_require__(64799),xt=__webpack_require__(40460),Tt=__webpack_require__(15660),It=(__webpack_require__(35433),__webpack_require__(24335),__webpack_require__(39980),__webpack_require__(62356),__webpack_require__(16185)),Mt=function prismTheme(_e){var be,Te=_e.color;return(be={"&":{color:Te.codeBase}})["& .token.comment,\n& .token.prolog,\n& .token.doctype,\n& .token.cdata"]={isolate:!1,color:Te.codeComment},be["& .token.punctuation"]={isolate:!1,color:Te.codePunctuation},be["& .namespace"]={isolate:!1,opacity:.7},be["& .token.property,\n& .token.tag,\n& .token.boolean,\n& .token.number,\n& .token.constant,\n& .token.symbol"]={isolate:!1,color:Te.codeProperty},be["& .token.deleted"]={isolate:!1,color:Te.codeDeleted},be["& .token.selector,\n& .token.attr-name,\n& .token.string,\n& .token.char,\n& .token.builtin"]={isolate:!1,color:Te.codeString},be["& .token.inserted"]={isolate:!1,color:Te.codeInserted},be["& .token.operator,\n& .token.entity,\n& .token.url,\n& .language-css .token.string,\n& .style .token.string"]={isolate:!1,color:Te.codeOperator},be["& .token.atrule,\n& .token.attr-value,\n& .token.keyword"]={isolate:!1,color:Te.codeKeyword},be["& .token.function,\n& .token.class-name"]={isolate:!1,color:Te.codeFunction},be["& .token.regex,\n& .token.important,\n& .token.variable"]={isolate:!1,color:Te.codeVariable},be["& .token.important,\n& .token.bold"]={isolate:!1,fontWeight:"bold"},be["& .token.italic"]={isolate:!1,fontStyle:"italic"},be["& .token.entity"]={isolate:!1,cursor:"help"},be};function _assertThisInitialized(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}var Lt=function highlight(_e){return(0,Tt.highlight)(_e,Tt.languages.jsx,"jsx")},Ft=function(_e){var be,Pe;Pe=_e,(be=Editor).prototype=Object.create(Pe.prototype),be.prototype.constructor=be,be.__proto__=Pe;var pt;pt=Editor;function Editor(){for(var be,Te=arguments.length,Pe=new Array(Te),pt=0;pt<Te;pt++)Pe[pt]=arguments[pt];return _defineProperty(_assertThisInitialized(be=_e.call.apply(_e,[this].concat(Pe))||this),"state",{code:be.props.code,prevCode:be.props.code}),_defineProperty(_assertThisInitialized(be),"handleChange",(function(_e){be.setState({code:_e}),be.props.onChange(_e)})),be}Editor.getDerivedStateFromProps=function getDerivedStateFromProps(_e,be){var Te=_e.code;return be.prevCode!==Te?{prevCode:Te,code:Te}:null};var vt=Editor.prototype;return vt.shouldComponentUpdate=function shouldComponentUpdate(_e,be){return be.code!==this.state.code},vt.render=function render(){return Te.createElement(xt.Z,{className:this.props.classes.root,value:this.state.code,onValueChange:this.handleChange,highlight:Lt,padding:It.space[2]})},Editor}(Te.Component);_defineProperty(Ft,"propTypes",{code:pt().string.isRequired,onChange:pt().func.isRequired,classes:pt().objectOf(pt().string.isRequired).isRequired});var Ot=(0,vt.Z)((function styles(_e){var be=_e.fontFamily,Te=_e.fontSize,Pe=_e.color,pt=_e.borderRadius;return{root:Object.assign({fontFamily:be.monospace,fontSize:Te.small,background:Pe.codeBackground,borderRadius:pt,"& textarea":{isolate:!1,transition:"all ease-in-out .1s",border:"1px "+Pe.border+" solid !important",borderRadius:pt},"& textarea:focus":{isolate:!1,outline:0,borderColor:Pe.link+" !important",boxShadow:[[0,0,0,2,Pe.focus]]}},Mt({color:Pe}))}}))(Ft),Vt=(__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(68309),__webpack_require__(21249),__webpack_require__(82772),__webpack_require__(47941),__webpack_require__(2793)),qt=__webpack_require__.n(Vt),Wt=Object.assign||function(_e){for(var be,Te=1;Te<arguments.length;Te++)for(var Pe in be=arguments[Te])Object.prototype.hasOwnProperty.call(be,Pe)&&(_e[Pe]=be[Pe]);return _e},$t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e};var Kt={accesskey:"accessKey",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",for:"htmlFor",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap"},Jt={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},Yt=["style","script"],Qt=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,an=/mailto:/i,cn=/\n{2,}$/,hn=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,pn=/^ *> ?/gm,xn=/^ {2,}\n/,Pn=/^(?:( *[-*_]) *){3,}(?:\n *)+\n/,Ln=/^\s*(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n *)+\n?/,Fn=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,jn=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,$n=/^(?:\n *)*\n/,ea=/\r\n?/g,na=/^\[\^([^\]]+)](:.*)\n/,aa=/^\[\^([^\]]+)]/,ra=/\f/g,ia=/^\s*?\[(x|\s)\]/,da=/^ *(#{1,6}) *([^\n]+)\n{0,2}/,la=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,ua=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,ca=/&([a-z]+);/g,ga=/^<!--.*?-->/,ma=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,ya=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,_a=/^\{.*\}$/,va=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,xa=/^<([^ >]+@[^ >]+)>/,ba=/^<([^ >]+:\/[^ >]+)>/,wa=/ *\n+$/,Ea=/(?:^|\n)( *)$/,Ca=/-([a-z])?/gi,Aa=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,Da=/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/,ka=/^\[([^\]]*)\]:\s*(\S+)\s*("([^"]*)")?/,Ia=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,La=/^\[([^\]]*)\] ?\[([^\]]*)\]/,Fa=/(\[|\])/g,Ba=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,za=/\t/g,ja=/^ *\| */,Na=/(^ *\||\| *$)/g,Ga=/ *$/,Ha=/^ *:-+: *$/,$a=/^ *:-+ *$/,Ja=/^ *-+: *$/,sr=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,ur=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1)/,cr=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,pr=/^\\([^0-9A-Za-z\s])/,mr=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,yr=/(^\n+|\n+$|\s+$)/g,_r=/^([ \t]*)/,vr=/\\([^0-9A-Z\s])/gi,Rr=/^( *)((?:[*+-]|\d+\.)) +/,xr=/( *)((?:[*+-]|\d+\.)) +[^\n]*(?:\n(?!\1(?:[*+-]|\d+\.) )[^\n]*)*(\n|$)/gm,Sr=/^( *)((?:[*+-]|\d+\.)) [\s\S]+?(?:\n{2,}(?! )(?!\1(?:[*+-]|\d+\.) (?!(?:[*+-]|\d+\.) ))\n*|\s*\n*$)/,Ar=/^\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?((?:[^\s\\]|\\.)*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/,kr=/^!\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?((?:[^\s\\]|\\.)*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/,Pr=[hn,Fn,Ln,da,la,ua,ga,ya,xr,Sr,Aa,Da];function containsBlockSyntax(_e){return Pr.some((function(be){return be.test(_e)}))}function slugify(_e){return _e.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function parseTableAlignCapture(_e){return Ja.test(_e)?"right":Ha.test(_e)?"center":$a.test(_e)?"left":null}function parseTableRow(_e,be,Te){var Pe=Te.inTable;Te.inTable=!0;var pt=be(_e.trim(),Te);Te.inTable=Pe;var vt=[[]];return pt.forEach((function(_e,be){"tableSeparator"===_e.type?0!==be&&be!==pt.length-1&&vt.push([]):("text"===_e.type&&(null==pt[be+1]||"tableSeparator"===pt[be+1].type)&&(_e.content=_e.content.replace(Ga,"")),vt[vt.length-1].push(_e))})),vt}function parseTableAlign(_e){return _e.replace(Na,"").split("|").map(parseTableAlignCapture)}function parseTableCells(_e,be,Te){return _e.trim().split("\n").map((function(_e){return parseTableRow(_e,be,Te)}))}function parseTable(_e,be,Te){Te.inline=!0;var Pe=parseTableRow(_e[1],be,Te),pt=parseTableAlign(_e[2]),vt=parseTableCells(_e[3],be,Te);return Te.inline=!1,{align:pt,cells:vt,header:Pe,type:"table"}}function getTableStyle(_e,be){return null==_e.align[be]?{}:{textAlign:_e.align[be]}}function normalizeAttributeKey(_e){return-1!==_e.indexOf("-")&&null===_e.match(ma)&&(_e=_e.replace(Ca,(function(_e,be){return be.toUpperCase()}))),_e}function attributeValueToJSXPropValue(_e,be){return"style"===_e?be.split(/;\s?/).reduce((function(_e,be){var Te=be.slice(0,be.indexOf(":")),Pe=Te.replace(/(-[a-z])/g,(function(_e){return _e[1].toUpperCase()}));return _e[Pe]=be.slice(Te.length+1).trim(),_e}),{}):"href"===_e?sanitizeUrl(be):(be.match(_a)&&(be=be.slice(1,be.length-1)),"true"===be||"false"!==be&&be)}function normalizeWhitespace(_e){return _e.replace(ea,"\n").replace(ra,"").replace(za,"    ")}function parserFor(_e){function b(Te,Pe){for(var pt=[],vt="";Te;)for(var xt=0;xt<be.length;){var Tt=be[xt],It=_e[Tt],Mt=It.match(Te,Pe,vt);if(Mt){var Lt=Mt[0];Te=Te.substring(Lt.length);var Ft=It.parse(Mt,b,Pe);null==Ft.type&&(Ft.type=Tt),pt.push(Ft),vt=Lt;break}xt++}return pt}var be=Object.keys(_e);return be.sort((function(be,Te){var Pe=_e[be].order,pt=_e[Te].order;return Pe===pt?be<Te?-1:1:Pe-pt})),function(_e,be){return b(normalizeWhitespace(_e),be)}}function inlineRegex(_e){return function(be,Te){return Te.inline?_e.exec(be):null}}function simpleInlineRegex(_e){return function(be,Te){return Te.inline||Te.simple?_e.exec(be):null}}function blockRegex(_e){return function(be,Te){return Te.inline||Te.simple?null:_e.exec(be)}}function anyScopeRegex(_e){return function(be){return _e.exec(be)}}function reactFor(_e){return function b(be,Te){if(Te=Te||{},Array.isArray(be)){for(var Pe=Te.key,pt=[],vt=!1,xt=0;xt<be.length;xt++){Te.key=xt;var Tt=b(be[xt],Te),It="string"==typeof Tt;It&&vt?pt[pt.length-1]+=Tt:pt.push(Tt),vt=It}return Te.key=Pe,pt}return _e(be,b,Te)}}function sanitizeUrl(_e){try{if(decodeURIComponent(_e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data):/i))return null}catch(_e){return null}return _e}function unescapeUrl(_e){return _e.replace(vr,"$1")}function parseInline(_e,be,Te){var Pe=Te.inline||!1,pt=Te.simple||!1;Te.inline=!0,Te.simple=!0;var vt=_e(be,Te);return Te.inline=Pe,Te.simple=pt,vt}function parseSimpleInline(_e,be,Te){var Pe=Te.inline||!1,pt=Te.simple||!1;Te.inline=!1,Te.simple=!0;var vt=_e(be,Te);return Te.inline=Pe,Te.simple=pt,vt}function parseBlock(_e,be,Te){return Te.inline=!1,_e(be+"\n\n",Te)}function parseCaptureInline(_e,be,Te){return{content:parseInline(be,_e[1],Te)}}function captureNothing(){return{}}function renderNothing(){return null}function ruleOutput(_e){return function(be,Te,Pe){return _e[be.type].react(be,Te,Pe)}}function cx(){for(var _e=arguments.length,be=Array(_e),Te=0;Te<_e;Te++)be[Te]=arguments[Te];return be.filter(Boolean).join(" ")}function get(_e,be,Te){for(var Pe=_e,pt=be.split(".");pt.length&&void 0!==(Pe=Pe[pt[0]]);)pt.shift();return Pe||Te}function getTag(_e,be){var Te=get(be,_e);return Te?"function"==typeof Te||"object"===(void 0===Te?"undefined":$t(Te))&&"render"in Te?Te:get(be,_e+".component",_e):_e}function compiler(_e,be){function d(_e,Te){for(var pt=get(be.overrides,_e+".props",{}),vt=arguments.length,xt=Array(vt>2?vt-2:0),Tt=2;Tt<vt;Tt++)xt[Tt-2]=arguments[Tt];return Pe.apply(void 0,[getTag(_e,be.overrides),Wt({},Te,pt,{className:cx(Te&&Te.className,pt.className)||void 0})].concat(xt))}function c(_e){var Te=!1;be.forceInline?Te=!0:!be.forceBlock&&(Te=!1===Ba.test(_e));var Pe=It(Tt(Te?_e:_e.replace(yr,"")+"\n\n",{inline:Te})),pt=void 0;return Pe.length>1?pt=d(Te?"span":"div",{key:"outer"},Pe):1===Pe.length?"string"==typeof(pt=Pe[0])&&(pt=d("span",{key:"outer"},pt)):pt=d("span",{key:"outer"}),pt}function e(_e){var be=_e.match(Qt);return be?be.reduce((function(_e,be,Pe){var pt=be.indexOf("=");if(-1!==pt){var vt=normalizeAttributeKey(be.slice(0,pt)).trim(),xt=qt()(be.slice(pt+1).trim()),Tt=Kt[vt]||vt,It=_e[Tt]=attributeValueToJSXPropValue(vt,xt);(ua.test(It)||ya.test(It))&&(_e[Tt]=Te.cloneElement(c(It.trim()),{key:Pe}))}else"style"!==be&&(_e[Kt[be]||be]=!0);return _e}),{}):void 0}(be=be||{}).overrides=be.overrides||{},be.slugify=be.slugify||slugify,be.namedCodesToUnicode=be.namedCodesToUnicode?Wt({},Jt,be.namedCodesToUnicode):Jt;var Pe=be.createElement||Te.createElement;var pt=[],vt={},xt={blockQuote:{match:blockRegex(hn),order:2,parse:function d(_e,be,Te){return{content:be(_e[0].replace(pn,""),Te)}},react:function e(_e,be,Te){return d("blockquote",{key:Te.key},be(_e.content,Te))}},breakLine:{match:anyScopeRegex(xn),order:2,parse:captureNothing,react:function e(_e,be,Te){return d("br",{key:Te.key})}},breakThematic:{match:blockRegex(Pn),order:2,parse:captureNothing,react:function e(_e,be,Te){return d("hr",{key:Te.key})}},codeBlock:{match:blockRegex(Fn),order:1,parse:function c(_e){return{content:_e[0].replace(/^ {4}/gm,"").replace(/\n+$/,""),lang:void 0}},react:function e(_e,be,Te){return d("pre",{key:Te.key},d("code",{className:_e.lang?"lang-"+_e.lang:""},_e.content))}},codeFenced:{match:blockRegex(Ln),order:1,parse:function b(_e){return{content:_e[3],lang:_e[2]||void 0,type:"codeBlock"}}},codeInline:{match:simpleInlineRegex(jn),order:4,parse:function b(_e){return{content:_e[2]}},react:function e(_e,be,Te){return d("code",{key:Te.key},_e.content)}},footnote:{match:blockRegex(na),order:1,parse:function b(_e){return pt.push({footnote:_e[2],identifier:_e[1]}),{}},react:renderNothing},footnoteReference:{match:inlineRegex(aa),order:2,parse:function c(_e){return{content:_e[1],target:"#"+be.slugify(_e[1])}},react:function e(_e,be,Te){return d("a",{key:Te.key,href:sanitizeUrl(_e.target)},d("sup",{key:Te.key},_e.content))}},gfmTask:{match:inlineRegex(ia),order:2,parse:function b(_e){return{completed:"x"===_e[1].toLowerCase()}},react:function e(_e,be,Te){return d("input",{checked:_e.completed,key:Te.key,readOnly:!0,type:"checkbox"})}},heading:{match:blockRegex(da),order:2,parse:function e(_e,Te,Pe){return{content:parseInline(Te,_e[2],Pe),id:be.slugify(_e[2]),level:_e[1].length}},react:function f(_e,be,Te){return d("h"+_e.level,{id:_e.id,key:Te.key},be(_e.content,Te))}},headingSetext:{match:blockRegex(la),order:1,parse:function d(_e,be,Te){return{content:parseInline(be,_e[1],Te),level:"="===_e[2]?1:2,type:"heading"}}},htmlComment:{match:anyScopeRegex(ga),order:2,parse:function a(){return{}},react:renderNothing},image:{match:simpleInlineRegex(kr),order:2,parse:function b(_e){return{alt:_e[1],target:unescapeUrl(_e[2]),title:_e[3]}},react:function e(_e,be,Te){return d("img",{key:Te.key,alt:_e.alt||void 0,title:_e.title||void 0,src:sanitizeUrl(_e.target)})}},link:{match:inlineRegex(Ar),order:4,parse:function d(_e,be,Te){return{content:parseSimpleInline(be,_e[1],Te),target:unescapeUrl(_e[2]),title:_e[3]}},react:function e(_e,be,Te){return d("a",{key:Te.key,href:sanitizeUrl(_e.target),title:_e.title},be(_e.content,Te))}},linkAngleBraceStyleDetector:{match:inlineRegex(ba),order:1,parse:function b(_e){return{content:[{content:_e[1],type:"text"}],target:_e[1],type:"link"}}},linkBareUrlDetector:{match:inlineRegex(va),order:1,parse:function b(_e){return{content:[{content:_e[1],type:"text"}],target:_e[1],title:void 0,type:"link"}}},linkMailtoDetector:{match:inlineRegex(xa),order:1,parse:function d(_e){var be=_e[1],Te=_e[1];return an.test(Te)||(Te="mailto:"+Te),{content:[{content:be.replace("mailto:",""),type:"text"}],target:Te,type:"link"}}},list:{match:function f(_e,be,Te){var Pe=Ea.exec(Te),pt=be._list||!be.inline;return Pe&&pt?(_e=Pe[1]+_e,Sr.exec(_e)):null},order:2,parse:function j(_e,be,Te){var Pe=_e[2],pt=Pe.length>1,vt=pt?+Pe:void 0,xt=_e[0].replace(cn,"\n").match(xr),Tt=!1;return{items:xt.map((function(_e,Pe){var pt=Rr.exec(_e)[0].length,vt=new RegExp("^ {1,"+pt+"}","gm"),It=_e.replace(vt,"").replace(Rr,""),Mt=Pe===xt.length-1,Lt=-1!==It.indexOf("\n\n")||Mt&&Tt;Tt=Lt;var Ft,Ot=Te.inline,Vt=Te._list;Te._list=!0,Lt?(Te.inline=!1,Ft=It.replace(wa,"\n\n")):(Te.inline=!0,Ft=It.replace(wa,""));var qt=be(Ft,Te);return Te.inline=Ot,Te._list=Vt,qt})),ordered:pt,start:vt}},react:function f(_e,be,Te){return d(_e.ordered?"ol":"ul",{key:Te.key,start:_e.start},_e.items.map((function(_e,Pe){return d("li",{key:Pe},be(_e,Te))})))}},newlineCoalescer:{match:blockRegex($n),order:4,parse:captureNothing,react:function a(){return"\n"}},paragraph:{match:blockRegex(Da),order:4,parse:parseCaptureInline,react:function e(_e,be,Te){return d("p",{key:Te.key},be(_e.content,Te))}},ref:{match:inlineRegex(ka),order:1,parse:function b(_e){return vt[_e[1]]={target:_e[2],title:_e[4]},{}},react:renderNothing},refImage:{match:simpleInlineRegex(Ia),order:1,parse:function b(_e){return{alt:_e[1]||void 0,ref:_e[2]}},react:function e(_e,be,Te){return d("img",{key:Te.key,alt:_e.alt,src:sanitizeUrl(vt[_e.ref].target),title:vt[_e.ref].title})}},refLink:{match:inlineRegex(La),order:1,parse:function d(_e,be,Te){return{content:be(_e[1],Te),fallbackContent:be(_e[0].replace(Fa,"\\$1"),Te),ref:_e[2]}},react:function e(_e,be,Te){return vt[_e.ref]?d("a",{key:Te.key,href:sanitizeUrl(vt[_e.ref].target),title:vt[_e.ref].title},be(_e.content,Te)):d("span",{key:Te.key},be(_e.fallbackContent,Te))}},table:{match:blockRegex(Aa),order:2,parse:parseTable,react:function f(_e,be,Te){return d("table",{key:Te.key},d("thead",null,d("tr",null,_e.header.map((function(Pe,pt){return d("th",{key:pt,style:getTableStyle(_e,pt)},be(Pe,Te))})))),d("tbody",null,_e.cells.map((function(Pe,pt){return d("tr",{key:pt},Pe.map((function(Pe,pt){return d("td",{key:pt,style:getTableStyle(_e,pt)},be(Pe,Te))})))}))))}},tableSeparator:{match:function c(_e,be){return be.inTable?ja.exec(_e):null},order:2,parse:function a(){return{type:"tableSeparator"}},react:function a(){return" | "}},text:{match:anyScopeRegex(mr),order:5,parse:function c(_e){return{content:_e[0].replace(ca,(function(_e,Te){return be.namedCodesToUnicode[Te]?be.namedCodesToUnicode[Te]:_e}))}},react:function b(_e){return _e.content}},textBolded:{match:simpleInlineRegex(sr),order:3,parse:function d(_e,be,Te){return{content:be(_e[2],Te)}},react:function e(_e,be,Te){return d("strong",{key:Te.key},be(_e.content,Te))}},textEmphasized:{match:simpleInlineRegex(ur),order:4,parse:function d(_e,be,Te){return{content:be(_e[2],Te)}},react:function e(_e,be,Te){return d("em",{key:Te.key},be(_e.content,Te))}},textEscaped:{match:simpleInlineRegex(pr),order:2,parse:function b(_e){return{content:_e[1],type:"text"}}},textStrikethroughed:{match:simpleInlineRegex(cr),order:4,parse:parseCaptureInline,react:function e(_e,be,Te){return d("del",{key:Te.key},be(_e.content,Te))}}};!0!==be.disableParsingRawHTML&&(xt.htmlBlock={match:anyScopeRegex(ua),order:2,parse:function l(_e,be,Te){var Pe=_e[3].match(_r)[1],pt=new RegExp("^"+Pe,"gm"),vt=_e[3].replace(pt,""),xt=containsBlockSyntax(vt)?parseBlock:parseInline,Tt=_e[1].toLowerCase(),It=-1!==Yt.indexOf(Tt);return{attrs:e(_e[2]),content:It?_e[3]:xt(be,vt,Te),noInnerParse:It,tag:It?Tt:_e[1]}},react:function e(_e,be,Te){return d(_e.tag,Wt({key:Te.key},_e.attrs),_e.noInnerParse?_e.content:be(_e.content,Te))}},xt.htmlSelfClosing={match:anyScopeRegex(ya),order:2,parse:function b(_e){return{attrs:e(_e[2]||""),tag:_e[1]}},react:function e(_e,be,Te){return d(_e.tag,Wt({},_e.attrs,{key:Te.key}))}});var Tt=parserFor(xt),It=reactFor(ruleOutput(xt)),Mt=c(function(_e){return _e.replace(/<!--[\s\S]*?(?:-->)/g,"")}(_e));return pt.length&&Mt.props.children.push(d("footer",{key:"footer"},pt.map((function(_e){return d("div",{id:be.slugify(_e.identifier),key:_e.identifier},_e.identifier,It(Tt(_e.footnote,{inline:!0})))})))),Mt}var Fr=__webpack_require__(44359),Or=__webpack_require__.n(Fr),Nr=__webpack_require__(86010);function LinkRenderer_extends(){return(LinkRenderer_extends=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(_e,be){if(null==_e)return{};var Te,Pe,pt={},vt=Object.keys(_e);for(Pe=0;Pe<vt.length;Pe++)Te=vt[Pe],be.indexOf(Te)>=0||(pt[Te]=_e[Te]);return pt}var Vr=function LinkRenderer(_e){var be=_e.classes,Pe=_e.children,pt=_objectWithoutPropertiesLoose(_e,["classes","children"]);return Te.createElement("a",LinkRenderer_extends({},pt,{className:(0,Nr.Z)(be.link,pt.className)}),Pe)};Vr.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,children:pt().node,className:pt().string,href:pt().string};var Gr=(0,vt.Z)((function styles(_e){var be=_e.color;return{link:{"&, &:link, &:visited":{fontSize:"inherit",color:be.link,textDecoration:"none"},"&:hover, &:active":{isolate:!1,color:be.linkHover,cursor:"pointer"}}}}))(Vr),Zr=__webpack_require__(47014),qr=function ParaRenderer(_e){var be=_e.classes,Pe=_e.semantic,pt=_e.children,vt=Pe||"div";return Te.createElement(vt,{className:be.para},pt)};qr.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,semantic:pt().oneOf(["p"]),children:pt().node.isRequired};var Wr=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.fontFamily,pt=_e.fontSize;return{para:{marginTop:0,marginBottom:be[2],color:Te.base,fontFamily:Pe.base,fontSize:pt.text,lineHeight:1.5}}}))(qr);function HeadingRenderer_extends(){return(HeadingRenderer_extends=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}function HeadingRenderer_objectWithoutPropertiesLoose(_e,be){if(null==_e)return{};var Te,Pe,pt={},vt=Object.keys(_e);for(Pe=0;Pe<vt.length;Pe++)Te=vt[Pe],be.indexOf(Te)>=0||(pt[Te]=_e[Te]);return pt}var $r=function HeadingRenderer(_e){var be=_e.classes,Pe=_e.level,pt=_e.children,vt=HeadingRenderer_objectWithoutPropertiesLoose(_e,["classes","level","children"]),xt="h"+Pe,Tt=(0,Nr.Z)(be.heading,be["heading"+Pe]);return Te.createElement(xt,HeadingRenderer_extends({},vt,{className:Tt}),pt)};$r.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,level:pt().oneOf([1,2,3,4,5,6]).isRequired,children:pt().node};var Xr=(0,vt.Z)((function styles(_e){var be=_e.color,Te=_e.fontFamily,Pe=_e.fontSize;return{heading:{margin:0,color:be.base,fontFamily:Te.base,fontWeight:"normal"},heading1:{fontSize:Pe.h1},heading2:{fontSize:Pe.h2},heading3:{fontSize:Pe.h3},heading4:{fontSize:Pe.h4},heading5:{fontSize:Pe.h5,fontWeight:"bold"},heading6:{fontSize:Pe.h6,fontStyle:"italic"}}}))($r),Kr=function MarkdownHeadingRenderer(_e){var be=_e.classes,Pe=_e.level,pt=_e.children,vt=_e.id;return Te.createElement("div",{className:be.spacing},Te.createElement(Xr,{level:Pe,id:vt},pt))};Kr.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,level:pt().oneOf([1,2,3,4,5,6]).isRequired,children:pt().node,id:pt().string};var Jr=(0,vt.Z)((function styles(_e){return{spacing:{marginBottom:_e.space[2]}}}))(Kr),Yr=function ListRenderer(_e){var be=_e.classes,Pe=_e.ordered,pt=_e.children,vt=Pe?"ol":"ul",xt=(0,Nr.Z)(be.list,Pe&&be.ordered);return Te.createElement(vt,{className:xt},Te.Children.map(pt,(function(_e){return Te.isValidElement(_e)?(0,Te.cloneElement)(_e,{className:be.li}):_e})))};Yr.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,ordered:pt().bool,children:pt().node.isRequired},Yr.defaultProps={ordered:!1};var Qr=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.fontFamily;return{list:{marginTop:0,marginBottom:be[2],paddingLeft:be[3],fontSize:"inherit"},ordered:{listStyleType:"decimal"},li:{color:Te.base,fontFamily:Pe.base,fontSize:"inherit",lineHeight:1.5,listStyleType:"inherit"}}}))(Yr),no=function BlockquoteRenderer(_e){var be=_e.classes,Pe=_e.className,pt=_e.children,vt=(0,Nr.Z)(be.blockquote,Pe);return Te.createElement("blockquote",{className:vt},pt)};no.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,className:pt().string,children:pt().node.isRequired};var so=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.fontSize,pt=_e.fontFamily;return{blockquote:{margin:[[be[2],be[4]]],padding:0,color:Te.base,fontFamily:pt.base,fontSize:Pe.base,lineHeight:1.5}}}))(no),go=function PreRenderer(_e){var be=_e.classes,Pe=_e.className,pt=_e.children,vt=(0,Nr.Z)(Pe,be.pre);return Pe&&-1!==Pe.indexOf("lang-")&&pt?Te.createElement("pre",{className:vt,dangerouslySetInnerHTML:{__html:pt.toString()}}):Te.createElement("pre",{className:vt},pt)};go.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,className:pt().string,children:pt().node.isRequired};var vo=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.fontSize,pt=_e.fontFamily,vt=_e.borderRadius;return{pre:Object.assign({fontFamily:pt.monospace,fontSize:Pe.small,lineHeight:1.5,color:Te.base,whiteSpace:"pre-wrap",wordWrap:"normal",tabSize:2,hyphens:"none",backgroundColor:Te.codeBackground,padding:[[be[1],be[2]]],border:[[1,Te.codeBackground,"solid"]],borderRadius:vt,marginTop:0,marginBottom:be[2],overflow:"auto"},Mt({color:Te}))}}))(go),xo=__webpack_require__(94324);function CheckboxRenderer_extends(){return(CheckboxRenderer_extends=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}function CheckboxRenderer_objectWithoutPropertiesLoose(_e,be){if(null==_e)return{};var Te,Pe,pt={},vt=Object.keys(_e);for(Pe=0;Pe<vt.length;Pe++)Te=vt[Pe],be.indexOf(Te)>=0||(pt[Te]=_e[Te]);return pt}var bo=function CheckboxRenderer(_e){var be=_e.classes,Pe=CheckboxRenderer_objectWithoutPropertiesLoose(_e,["classes"]);return Te.createElement("input",CheckboxRenderer_extends({},Pe,{type:"checkbox",className:be.input}))};bo.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired};var Ao=(0,vt.Z)((function styles(){return{input:{isolate:!1,display:"inline-block",verticalAlign:"middle"}}}))(bo),Po=function HrRenderer(_e){var be=_e.classes;return Te.createElement("hr",{className:be.hr})};Po.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired};var Uo=(0,vt.Z)((function styles(_e){var be=_e.space;return{hr:{borderBottom:[[1,_e.color.border,"solid"]],marginTop:0,marginBottom:be[2]}}}))(Po),_s=function DetailsRenderer(_e){var be=_e.classes,Pe=_e.children;return Te.createElement("details",{className:be.details},Pe)};_s.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,children:pt().node.isRequired};var vs=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.fontSize,pt=_e.fontFamily;return{details:{marginBottom:be[2],fontFamily:pt.base,fontSize:Pe.base,color:Te.base}}}))(_s),Rs=function DetailsSummaryRenderer(_e){var be=_e.classes,Pe=_e.children;return Te.createElement("summary",{className:be.summary},Pe)};Rs.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,children:pt().node.isRequired};var xs=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.fontSize,pt=_e.fontFamily;return{summary:{marginBottom:be[1],fontFamily:pt.base,fontSize:Pe.base,color:Te.base,cursor:"pointer","&:focus":{isolate:!1,outline:[[1,"dotted",Te.linkHover]],outlineOffset:2}}}}))(Rs),bs=function TableRenderer(_e){var be=_e.classes,Pe=_e.children;return Te.createElement("table",{className:be.table},Pe)};bs.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,children:pt().node.isRequired};var ws=(0,vt.Z)((function styles(_e){return{table:{marginTop:0,marginBottom:_e.space[2],borderCollapse:"collapse"}}}))(bs),Es=function TableHeadRenderer(_e){var be=_e.classes,Pe=_e.children;return Te.createElement("thead",{className:be.thead},Pe)};Es.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,children:pt().node.isRequired};var Cs=(0,vt.Z)((function styles(_e){return{thead:{borderBottom:[[1,_e.color.border,"solid"]]}}}))(Es),As=function TableBodyRenderer(_e){var be=_e.children;return Te.createElement("tbody",null,be)};As.propTypes={children:pt().node.isRequired};var Ts=As,Ds=function TableRowRenderer(_e){var be=_e.children;return Te.createElement("tr",null,be)};Ds.propTypes={children:pt().node.isRequired};var Ps=Ds,Is=function TableCellRenderer(_e){var be=_e.classes,Pe=_e.header,pt=_e.children;return Pe?Te.createElement("th",{className:be.th},pt):Te.createElement("td",{className:be.td},pt)};Is.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,header:pt().bool,children:pt().node.isRequired},Is.defaultProps={header:!1};var Ls=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.fontSize,pt=_e.fontFamily;return{td:{padding:[[be[0],be[2],be[0],0]],fontFamily:pt.base,fontSize:Pe.base,color:Te.base,lineHeight:1.5},th:{composes:"$td",fontWeight:"bold"}}}))(Is),Fs=function Pre(_e){return(0,Te.isValidElement)(_e.children)?Te.createElement(vo,_e.children.props):Te.createElement(vo,_e)};Fs.propTypes={children:pt().node};var Bs={a:{component:Gr},h1:{component:Jr,props:{level:1}},h2:{component:Jr,props:{level:2}},h3:{component:Jr,props:{level:3}},h4:{component:Jr,props:{level:4}},h5:{component:Jr,props:{level:5}},h6:{component:Jr,props:{level:6}},p:{component:Wr,props:{semantic:"p"}},em:{component:Zr.Z,props:{semantic:"em"}},strong:{component:Zr.Z,props:{semantic:"strong"}},ul:{component:Qr},ol:{component:Qr,props:{ordered:!0}},blockquote:{component:so},code:{component:xo.Z},pre:{component:Fs},input:{component:Ao},hr:{component:Uo},table:{component:ws},thead:{component:Cs},th:{component:Ls,props:{header:!0}},tbody:{component:Ts},tr:{component:Ps},td:{component:Ls},details:{component:vs},summary:{component:xs}},Os=Object.assign({},Bs,{p:{component:Zr.Z}}),js=function Markdown(_e){var be=_e.text,Te=_e.inline?Os:Bs;return compiler(Or()(be),{overrides:Te,forceBlock:!0})};js.propTypes={text:pt().string.isRequired,inline:pt().bool};var Ns=js,Vs=function NameRenderer(_e){var be,Pe=_e.classes,pt=_e.children,vt=_e.deprecated,xt=(0,Nr.Z)(Pe.name,((be={})[Pe.isDeprecated]=vt,be));return Te.createElement("code",{className:xt},pt)};Vs.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,children:pt().node.isRequired,deprecated:pt().bool};var Us=(0,vt.Z)((function styles(_e){var be=_e.fontFamily,Te=_e.fontSize,Pe=_e.color;return{name:{fontFamily:be.monospace,fontSize:Te.small,color:Pe.name},isDeprecated:{color:Pe.light,textDecoration:"line-through"}}}))(Vs),Zs=function TypeRenderer(_e){var be=_e.classes,Pe=_e.children;return Te.createElement("span",{className:be.type},Pe)};Zs.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,children:pt().node.isRequired};var qs=(0,vt.Z)((function styles(_e){var be=_e.fontFamily,Te=_e.fontSize,Pe=_e.color;return{type:{fontFamily:be.monospace,fontSize:Te.small,color:Pe.type}}}))(Zs),Ws=__webpack_require__(65522),$s=__webpack_require__.n(Ws),Xs=__webpack_require__(5291);function ArgumentRenderer_objectWithoutPropertiesLoose(_e,be){if(null==_e)return{};var Te,Pe,pt={},vt=Object.keys(_e);for(Pe=0;Pe<vt.length;Pe++)Te=vt[Pe],be.indexOf(Te)>=0||(pt[Te]=_e[Te]);return pt}var Ks=function ArgumentRenderer(_e){var be=_e.classes,Pe=_e.name,pt=_e.type,vt=_e.description,xt=_e.returns,Tt=_e.block,It=ArgumentRenderer_objectWithoutPropertiesLoose(_e,["classes","name","type","description","returns","block"]),Mt=pt&&"OptionalType"===pt.type,Lt=It.default;Mt&&(pt=pt.expression);var Ft=pt?Xs.dt.stringify(pt):"",Ot=Te.createElement($s(),null,xt&&"Returns",Pe&&Te.createElement("span",null,Te.createElement(Us,null,Pe),pt&&":"),pt&&Te.createElement(qs,null,Ft,Mt&&"?",!!Lt&&"="+Lt),pt&&vt&&"—",vt&&Te.createElement(Ns,{text:""+vt,inline:!0}));return Tt?Te.createElement("div",{className:be.block},Ot):Ot};Ks.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,name:pt().string,type:pt().object,default:pt().string,description:pt().string,returns:pt().bool,block:pt().bool};var Js=(0,vt.Z)((function styles(_e){return{block:{marginBottom:_e.space[2]}}}))(Ks);function ArgumentsRenderer_extends(){return(ArgumentsRenderer_extends=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}var Qs=function ArgumentsRenderer(_e){var be=_e.classes,Pe=_e.args,pt=_e.heading;return 0===Pe.length?null:Te.createElement("div",{className:be.root},pt&&Te.createElement("div",{className:be.headingWrapper},Te.createElement(Xr,{level:5},"Arguments")),Pe.map((function(_e){return Te.createElement(Js,ArgumentsRenderer_extends({key:_e.name},_e))})))};Qs.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,args:pt().arrayOf(pt().shape({name:pt().string.isRequired,type:pt().object,description:pt().string}).isRequired).isRequired,heading:pt().bool};var td=(0,vt.Z)((function styles(_e){var be=_e.space;return{root:{marginBottom:be[2],fontSize:"inherit"},headingWrapper:{marginBottom:be[0]}}}))(Qs),id=(__webpack_require__(57327),__webpack_require__(69600),__webpack_require__(35161)),sd=__webpack_require__.n(id),dd=function plural(_e,be){return 1===_e.length?be:be+"s"},ld=function list(_e){return _e.map((function(_e){return _e.description})).join(", ")},cd=function paragraphs(_e){return _e.map((function(_e){return _e.description})).join("\n\n")},vd={deprecated:function deprecated(_e){return"**Deprecated:** "+_e[0].description},see:function see(_e){return cd(_e)},link:function link(_e){return cd(_e)},author:function author(_e){return dd(_e,"Author")+": "+ld(_e)},version:function version(_e){return"Version: "+_e[0].description},since:function since(_e){return"Since: "+_e[0].description}};function getMarkdown(_e){return sd()(vd,(function(be,Te){var Pe=_e[Te];return Pe&&be(Pe)})).filter(Boolean).join("\n\n")}function JsDoc(_e){var be=getMarkdown(_e);return be?Te.createElement(Ns,{text:be}):null}JsDoc.propTypes={deprecated:pt().array,see:pt().array,link:pt().array,author:pt().array,version:pt().array,since:pt().array};var wd=function TableRenderer(_e){var be=_e.classes,Pe=_e.columns,pt=_e.rows,vt=_e.getRowKey;return Te.createElement("table",{className:be.table},Te.createElement("thead",{className:be.tableHead},Te.createElement("tr",null,Pe.map((function(_e){var Pe=_e.caption;return Te.createElement("th",{key:Pe,className:be.cellHeading},Pe)})))),Te.createElement("tbody",null,pt.map((function(_e){return Te.createElement("tr",{key:vt(_e)},Pe.map((function(Pe,pt){var vt=Pe.render;return Te.createElement("td",{key:pt,className:be.cell},vt(_e))})))}))))};wd.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,columns:pt().arrayOf(pt().shape({caption:pt().string.isRequired,render:pt().func.isRequired}).isRequired).isRequired,rows:pt().arrayOf(pt().object).isRequired,getRowKey:pt().func.isRequired};var Ed=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.fontFamily,pt=_e.fontSize;return{table:{width:"100%",borderCollapse:"collapse",marginBottom:be[4]},tableHead:{borderBottom:[[1,Te.border,"solid"]]},cellHeading:{color:Te.base,paddingRight:be[2],paddingBottom:be[1],textAlign:"left",fontFamily:Pe.base,fontWeight:"bold",fontSize:pt.small,whiteSpace:"nowrap"},cell:{color:Te.base,paddingRight:be[2],paddingTop:be[1],paddingBottom:be[1],verticalAlign:"top",fontFamily:Pe.base,fontSize:pt.small,"&:last-child":{isolate:!1,width:"99%",paddingRight:0},"& p:last-child":{isolate:!1,marginBottom:0}}}}))(wd),Sd={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cd=Te.createContext&&Te.createContext(Sd),__assign=function(){return(__assign=Object.assign||function(_e){for(var be,Te=1,Pe=arguments.length;Te<Pe;Te++)for(var pt in be=arguments[Te])Object.prototype.hasOwnProperty.call(be,pt)&&(_e[pt]=be[pt]);return _e}).apply(this,arguments)},__rest=function(_e,be){var Te={};for(var Pe in _e)Object.prototype.hasOwnProperty.call(_e,Pe)&&be.indexOf(Pe)<0&&(Te[Pe]=_e[Pe]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var pt=0;for(Pe=Object.getOwnPropertySymbols(_e);pt<Pe.length;pt++)be.indexOf(Pe[pt])<0&&(Te[Pe[pt]]=_e[Pe[pt]])}return Te};function Tree2Element(_e){return _e&&_e.map((function(_e,be){return Te.createElement(_e.tag,__assign({key:be},_e.attr),Tree2Element(_e.child))}))}function iconBase_GenIcon(_e){return function(be){return Te.createElement(IconBase,__assign({attr:__assign({},_e.attr)},be),Tree2Element(_e.child))}}function IconBase(_e){var elem=function(be){var Pe,pt=_e.size||be.size||"1em";be.className&&(Pe=be.className),_e.className&&(Pe=(Pe?Pe+" ":"")+_e.className);var vt=_e.attr,xt=_e.title,Tt=__rest(_e,["attr","title"]);return Te.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},be.attr,vt,Tt,{className:Pe,style:__assign({color:_e.color||be.color},be.style,_e.style),height:pt,width:pt,xmlns:"http://www.w3.org/2000/svg"}),xt&&Te.createElement("title",null,xt),_e.children)};return void 0!==Cd?Te.createElement(Cd.Consumer,null,(function(_e){return elem(_e)})):elem(Sd)}function MdInfoOutline(_e){return iconBase_GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"}}]})(_e)}function MdContentCopy(_e){return iconBase_GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}}]})(_e)}function MdFullscreen(_e){return iconBase_GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}}]})(_e)}function MdFullscreenExit(_e){return iconBase_GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}}]})(_e)}function getBoundingClientRect(_e){var be=_e.getBoundingClientRect();return{width:be.width,height:be.height,top:be.top,right:be.right,bottom:be.bottom,left:be.left,x:be.left,y:be.top}}function getWindow(_e){if(null==_e)return window;if("[object Window]"!==_e.toString()){var be=_e.ownerDocument;return be&&be.defaultView||window}return _e}function getWindowScroll(_e){var be=getWindow(_e);return{scrollLeft:be.pageXOffset,scrollTop:be.pageYOffset}}function isElement(_e){return _e instanceof getWindow(_e).Element||_e instanceof Element}function isHTMLElement(_e){return _e instanceof getWindow(_e).HTMLElement||_e instanceof HTMLElement}function isShadowRoot(_e){return"undefined"!=typeof ShadowRoot&&(_e instanceof getWindow(_e).ShadowRoot||_e instanceof ShadowRoot)}function getNodeScroll(_e){return _e!==getWindow(_e)&&isHTMLElement(_e)?{scrollLeft:(be=_e).scrollLeft,scrollTop:be.scrollTop}:getWindowScroll(_e);var be}function getNodeName(_e){return _e?(_e.nodeName||"").toLowerCase():null}function getDocumentElement(_e){return((isElement(_e)?_e.ownerDocument:_e.document)||window.document).documentElement}function getWindowScrollBarX(_e){return getBoundingClientRect(getDocumentElement(_e)).left+getWindowScroll(_e).scrollLeft}function getComputedStyle(_e){return getWindow(_e).getComputedStyle(_e)}function isScrollParent(_e){var be=getComputedStyle(_e),Te=be.overflow,Pe=be.overflowX,pt=be.overflowY;return/auto|scroll|overlay|hidden/.test(Te+pt+Pe)}function getCompositeRect(_e,be,Te){void 0===Te&&(Te=!1);var Pe=getDocumentElement(be),pt=getBoundingClientRect(_e),vt=isHTMLElement(be),xt={scrollLeft:0,scrollTop:0},Tt={x:0,y:0};return(vt||!vt&&!Te)&&(("body"!==getNodeName(be)||isScrollParent(Pe))&&(xt=getNodeScroll(be)),isHTMLElement(be)?((Tt=getBoundingClientRect(be)).x+=be.clientLeft,Tt.y+=be.clientTop):Pe&&(Tt.x=getWindowScrollBarX(Pe))),{x:pt.left+xt.scrollLeft-Tt.x,y:pt.top+xt.scrollTop-Tt.y,width:pt.width,height:pt.height}}function getLayoutRect(_e){var be=getBoundingClientRect(_e),Te=_e.offsetWidth,Pe=_e.offsetHeight;return Math.abs(be.width-Te)<=1&&(Te=be.width),Math.abs(be.height-Pe)<=1&&(Pe=be.height),{x:_e.offsetLeft,y:_e.offsetTop,width:Te,height:Pe}}function getParentNode(_e){return"html"===getNodeName(_e)?_e:_e.assignedSlot||_e.parentNode||(isShadowRoot(_e)?_e.host:null)||getDocumentElement(_e)}function getScrollParent(_e){return["html","body","#document"].indexOf(getNodeName(_e))>=0?_e.ownerDocument.body:isHTMLElement(_e)&&isScrollParent(_e)?_e:getScrollParent(getParentNode(_e))}function listScrollParents(_e,be){var Te;void 0===be&&(be=[]);var Pe=getScrollParent(_e),pt=Pe===(null==(Te=_e.ownerDocument)?void 0:Te.body),vt=getWindow(Pe),xt=pt?[vt].concat(vt.visualViewport||[],isScrollParent(Pe)?Pe:[]):Pe,Tt=be.concat(xt);return pt?Tt:Tt.concat(listScrollParents(getParentNode(xt)))}function isTableElement(_e){return["table","td","th"].indexOf(getNodeName(_e))>=0}function getTrueOffsetParent(_e){return isHTMLElement(_e)&&"fixed"!==getComputedStyle(_e).position?_e.offsetParent:null}function getContainingBlock(_e){var be=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&isHTMLElement(_e)&&"fixed"===getComputedStyle(_e).position)return null;for(var Te=getParentNode(_e);isHTMLElement(Te)&&["html","body"].indexOf(getNodeName(Te))<0;){var Pe=getComputedStyle(Te);if("none"!==Pe.transform||"none"!==Pe.perspective||"paint"===Pe.contain||-1!==["transform","perspective"].indexOf(Pe.willChange)||be&&"filter"===Pe.willChange||be&&Pe.filter&&"none"!==Pe.filter)return Te;Te=Te.parentNode}return null}function getOffsetParent(_e){for(var be=getWindow(_e),Te=getTrueOffsetParent(_e);Te&&isTableElement(Te)&&"static"===getComputedStyle(Te).position;)Te=getTrueOffsetParent(Te);return Te&&("html"===getNodeName(Te)||"body"===getNodeName(Te)&&"static"===getComputedStyle(Te).position)?be:Te||getContainingBlock(_e)||be}var Ad="top",Td="bottom",kd="right",Id="left",Md="auto",Ld=[Ad,Td,kd,Id],Fd="start",Bd="end",Ud="viewport",Gd="popper",Zd=Ld.reduce((function(_e,be){return _e.concat([be+"-"+Fd,be+"-"+Bd])}),[]),Wd=[].concat(Ld,[Md]).reduce((function(_e,be){return _e.concat([be,be+"-"+Fd,be+"-"+Bd])}),[]),Hd=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function order(_e){var be=new Map,Te=new Set,Pe=[];function sort(_e){Te.add(_e.name),[].concat(_e.requires||[],_e.requiresIfExists||[]).forEach((function(_e){if(!Te.has(_e)){var Pe=be.get(_e);Pe&&sort(Pe)}})),Pe.push(_e)}return _e.forEach((function(_e){be.set(_e.name,_e)})),_e.forEach((function(_e){Te.has(_e.name)||sort(_e)})),Pe}function orderModifiers(_e){var be=order(_e);return Hd.reduce((function(_e,Te){return _e.concat(be.filter((function(_e){return _e.phase===Te})))}),[])}function mergeByName(_e){var be=_e.reduce((function(_e,be){var Te=_e[be.name];return _e[be.name]=Te?Object.assign({},Te,be,{options:Object.assign({},Te.options,be.options),data:Object.assign({},Te.data,be.data)}):be,_e}),{});return Object.keys(be).map((function(_e){return be[_e]}))}var $d={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var _e=arguments.length,be=new Array(_e),Te=0;Te<_e;Te++)be[Te]=arguments[Te];return!be.some((function(_e){return!(_e&&"function"==typeof _e.getBoundingClientRect)}))}function popperGenerator(_e){void 0===_e&&(_e={});var be=_e,Te=be.defaultModifiers,Pe=void 0===Te?[]:Te,pt=be.defaultOptions,vt=void 0===pt?$d:pt;return function createPopper(_e,be,Te){void 0===Te&&(Te=vt);var pt,xt,Tt={placement:"bottom",orderedModifiers:[],options:Object.assign({},$d,vt),modifiersData:{},elements:{reference:_e,popper:be},attributes:{},styles:{}},It=[],Mt=!1,Lt={state:Tt,setOptions:function setOptions(Te){cleanupModifierEffects(),Tt.options=Object.assign({},vt,Tt.options,Te),Tt.scrollParents={reference:isElement(_e)?listScrollParents(_e):_e.contextElement?listScrollParents(_e.contextElement):[],popper:listScrollParents(be)};var pt=orderModifiers(mergeByName([].concat(Pe,Tt.options.modifiers)));return Tt.orderedModifiers=pt.filter((function(_e){return _e.enabled})),Tt.orderedModifiers.forEach((function(_e){var be=_e.name,Te=_e.options,Pe=void 0===Te?{}:Te,pt=_e.effect;if("function"==typeof pt){var vt=pt({state:Tt,name:be,instance:Lt,options:Pe});It.push(vt||function noopFn(){})}})),Lt.update()},forceUpdate:function forceUpdate(){if(!Mt){var _e=Tt.elements,be=_e.reference,Te=_e.popper;if(areValidElements(be,Te)){Tt.rects={reference:getCompositeRect(be,getOffsetParent(Te),"fixed"===Tt.options.strategy),popper:getLayoutRect(Te)},Tt.reset=!1,Tt.placement=Tt.options.placement,Tt.orderedModifiers.forEach((function(_e){return Tt.modifiersData[_e.name]=Object.assign({},_e.data)}));for(var Pe=0;Pe<Tt.orderedModifiers.length;Pe++)if(!0!==Tt.reset){var pt=Tt.orderedModifiers[Pe],vt=pt.fn,xt=pt.options,It=void 0===xt?{}:xt,Ft=pt.name;"function"==typeof vt&&(Tt=vt({state:Tt,options:It,name:Ft,instance:Lt})||Tt)}else Tt.reset=!1,Pe=-1}}},update:(pt=function(){return new Promise((function(_e){Lt.forceUpdate(),_e(Tt)}))},function(){return xt||(xt=new Promise((function(_e){Promise.resolve().then((function(){xt=void 0,_e(pt())}))}))),xt}),destroy:function destroy(){cleanupModifierEffects(),Mt=!0}};if(!areValidElements(_e,be))return Lt;function cleanupModifierEffects(){It.forEach((function(_e){return _e()})),It=[]}return Lt.setOptions(Te).then((function(_e){!Mt&&Te.onFirstUpdate&&Te.onFirstUpdate(_e)})),Lt}}var Xd={passive:!0};var Kd={name:"eventListeners",enabled:!0,phase:"write",fn:function fn(){},effect:function effect(_e){var be=_e.state,Te=_e.instance,Pe=_e.options,pt=Pe.scroll,vt=void 0===pt||pt,xt=Pe.resize,Tt=void 0===xt||xt,It=getWindow(be.elements.popper),Mt=[].concat(be.scrollParents.reference,be.scrollParents.popper);return vt&&Mt.forEach((function(_e){_e.addEventListener("scroll",Te.update,Xd)})),Tt&&It.addEventListener("resize",Te.update,Xd),function(){vt&&Mt.forEach((function(_e){_e.removeEventListener("scroll",Te.update,Xd)})),Tt&&It.removeEventListener("resize",Te.update,Xd)}},data:{}};function getBasePlacement(_e){return _e.split("-")[0]}function getVariation(_e){return _e.split("-")[1]}function getMainAxisFromPlacement(_e){return["top","bottom"].indexOf(_e)>=0?"x":"y"}function computeOffsets(_e){var be,Te=_e.reference,Pe=_e.element,pt=_e.placement,vt=pt?getBasePlacement(pt):null,xt=pt?getVariation(pt):null,Tt=Te.x+Te.width/2-Pe.width/2,It=Te.y+Te.height/2-Pe.height/2;switch(vt){case Ad:be={x:Tt,y:Te.y-Pe.height};break;case Td:be={x:Tt,y:Te.y+Te.height};break;case kd:be={x:Te.x+Te.width,y:It};break;case Id:be={x:Te.x-Pe.width,y:It};break;default:be={x:Te.x,y:Te.y}}var Mt=vt?getMainAxisFromPlacement(vt):null;if(null!=Mt){var Lt="y"===Mt?"height":"width";switch(xt){case Fd:be[Mt]=be[Mt]-(Te[Lt]/2-Pe[Lt]/2);break;case Bd:be[Mt]=be[Mt]+(Te[Lt]/2-Pe[Lt]/2)}}return be}var Jd={name:"popperOffsets",enabled:!0,phase:"read",fn:function popperOffsets(_e){var be=_e.state,Te=_e.name;be.modifiersData[Te]=computeOffsets({reference:be.rects.reference,element:be.rects.popper,strategy:"absolute",placement:be.placement})},data:{}},Yd=Math.max,Qd=Math.min,ul=Math.round,_l={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(_e){var be=_e.x,Te=_e.y,Pe=window.devicePixelRatio||1;return{x:ul(ul(be*Pe)/Pe)||0,y:ul(ul(Te*Pe)/Pe)||0}}function mapToStyles(_e){var be,Te=_e.popper,Pe=_e.popperRect,pt=_e.placement,vt=_e.offsets,xt=_e.position,Tt=_e.gpuAcceleration,It=_e.adaptive,Mt=_e.roundOffsets,Lt=!0===Mt?roundOffsetsByDPR(vt):"function"==typeof Mt?Mt(vt):vt,Ft=Lt.x,Ot=void 0===Ft?0:Ft,Vt=Lt.y,qt=void 0===Vt?0:Vt,Wt=vt.hasOwnProperty("x"),$t=vt.hasOwnProperty("y"),Kt=Id,Jt=Ad,Yt=window;if(It){var Qt=getOffsetParent(Te),an="clientHeight",cn="clientWidth";Qt===getWindow(Te)&&"static"!==getComputedStyle(Qt=getDocumentElement(Te)).position&&(an="scrollHeight",cn="scrollWidth"),Qt=Qt,pt===Ad&&(Jt=Td,qt-=Qt[an]-Pe.height,qt*=Tt?1:-1),pt===Id&&(Kt=kd,Ot-=Qt[cn]-Pe.width,Ot*=Tt?1:-1)}var hn,pn=Object.assign({position:xt},It&&_l);return Tt?Object.assign({},pn,((hn={})[Jt]=$t?"0":"",hn[Kt]=Wt?"0":"",hn.transform=(Yt.devicePixelRatio||1)<2?"translate("+Ot+"px, "+qt+"px)":"translate3d("+Ot+"px, "+qt+"px, 0)",hn)):Object.assign({},pn,((be={})[Jt]=$t?qt+"px":"",be[Kt]=Wt?Ot+"px":"",be.transform="",be))}var Rl={name:"applyStyles",enabled:!0,phase:"write",fn:function applyStyles(_e){var be=_e.state;Object.keys(be.elements).forEach((function(_e){var Te=be.styles[_e]||{},Pe=be.attributes[_e]||{},pt=be.elements[_e];isHTMLElement(pt)&&getNodeName(pt)&&(Object.assign(pt.style,Te),Object.keys(Pe).forEach((function(_e){var be=Pe[_e];!1===be?pt.removeAttribute(_e):pt.setAttribute(_e,!0===be?"":be)})))}))},effect:function applyStyles_effect(_e){var be=_e.state,Te={popper:{position:be.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(be.elements.popper.style,Te.popper),be.styles=Te,be.elements.arrow&&Object.assign(be.elements.arrow.style,Te.arrow),function(){Object.keys(be.elements).forEach((function(_e){var Pe=be.elements[_e],pt=be.attributes[_e]||{},vt=Object.keys(be.styles.hasOwnProperty(_e)?be.styles[_e]:Te[_e]).reduce((function(_e,be){return _e[be]="",_e}),{});isHTMLElement(Pe)&&getNodeName(Pe)&&(Object.assign(Pe.style,vt),Object.keys(pt).forEach((function(_e){Pe.removeAttribute(_e)})))}))}},requires:["computeStyles"]};function distanceAndSkiddingToXY(_e,be,Te){var Pe=getBasePlacement(_e),pt=[Id,Ad].indexOf(Pe)>=0?-1:1,vt="function"==typeof Te?Te(Object.assign({},be,{placement:_e})):Te,xt=vt[0],Tt=vt[1];return xt=xt||0,Tt=(Tt||0)*pt,[Id,kd].indexOf(Pe)>=0?{x:Tt,y:xt}:{x:xt,y:Tt}}var Ul={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,(function(_e){return Ul[_e]}))}var Wl={start:"end",end:"start"};function getOppositeVariationPlacement(_e){return _e.replace(/start|end/g,(function(_e){return Wl[_e]}))}function getViewportRect(_e){var be=getWindow(_e),Te=getDocumentElement(_e),Pe=be.visualViewport,pt=Te.clientWidth,vt=Te.clientHeight,xt=0,Tt=0;return Pe&&(pt=Pe.width,vt=Pe.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(xt=Pe.offsetLeft,Tt=Pe.offsetTop)),{width:pt,height:vt,x:xt+getWindowScrollBarX(_e),y:Tt}}function getDocumentRect(_e){var be,Te=getDocumentElement(_e),Pe=getWindowScroll(_e),pt=null==(be=_e.ownerDocument)?void 0:be.body,vt=Yd(Te.scrollWidth,Te.clientWidth,pt?pt.scrollWidth:0,pt?pt.clientWidth:0),xt=Yd(Te.scrollHeight,Te.clientHeight,pt?pt.scrollHeight:0,pt?pt.clientHeight:0),Tt=-Pe.scrollLeft+getWindowScrollBarX(_e),It=-Pe.scrollTop;return"rtl"===getComputedStyle(pt||Te).direction&&(Tt+=Yd(Te.clientWidth,pt?pt.clientWidth:0)-vt),{width:vt,height:xt,x:Tt,y:It}}function contains(_e,be){var Te=be.getRootNode&&be.getRootNode();if(_e.contains(be))return!0;if(Te&&isShadowRoot(Te)){var Pe=be;do{if(Pe&&_e.isSameNode(Pe))return!0;Pe=Pe.parentNode||Pe.host}while(Pe)}return!1}function rectToClientRect(_e){return Object.assign({},_e,{left:_e.x,top:_e.y,right:_e.x+_e.width,bottom:_e.y+_e.height})}function getInnerBoundingClientRect(_e){var be=getBoundingClientRect(_e);return be.top=be.top+_e.clientTop,be.left=be.left+_e.clientLeft,be.bottom=be.top+_e.clientHeight,be.right=be.left+_e.clientWidth,be.width=_e.clientWidth,be.height=_e.clientHeight,be.x=be.left,be.y=be.top,be}function getClientRectFromMixedType(_e,be){return be===Ud?rectToClientRect(getViewportRect(_e)):isHTMLElement(be)?getInnerBoundingClientRect(be):rectToClientRect(getDocumentRect(getDocumentElement(_e)))}function getClippingParents(_e){var be=listScrollParents(getParentNode(_e)),Te=["absolute","fixed"].indexOf(getComputedStyle(_e).position)>=0&&isHTMLElement(_e)?getOffsetParent(_e):_e;return isElement(Te)?be.filter((function(_e){return isElement(_e)&&contains(_e,Te)&&"body"!==getNodeName(_e)})):[]}function getClippingRect(_e,be,Te){var Pe="clippingParents"===be?getClippingParents(_e):[].concat(be),pt=[].concat(Pe,[Te]),vt=pt[0],xt=pt.reduce((function(be,Te){var Pe=getClientRectFromMixedType(_e,Te);return be.top=Yd(Pe.top,be.top),be.right=Qd(Pe.right,be.right),be.bottom=Qd(Pe.bottom,be.bottom),be.left=Yd(Pe.left,be.left),be}),getClientRectFromMixedType(_e,vt));return xt.width=xt.right-xt.left,xt.height=xt.bottom-xt.top,xt.x=xt.left,xt.y=xt.top,xt}function mergePaddingObject(_e){return Object.assign({},{top:0,right:0,bottom:0,left:0},_e)}function expandToHashMap(_e,be){return be.reduce((function(be,Te){return be[Te]=_e,be}),{})}function detectOverflow(_e,be){void 0===be&&(be={});var Te=be,Pe=Te.placement,pt=void 0===Pe?_e.placement:Pe,vt=Te.boundary,xt=void 0===vt?"clippingParents":vt,Tt=Te.rootBoundary,It=void 0===Tt?Ud:Tt,Mt=Te.elementContext,Lt=void 0===Mt?Gd:Mt,Ft=Te.altBoundary,Ot=void 0!==Ft&&Ft,Vt=Te.padding,qt=void 0===Vt?0:Vt,Wt=mergePaddingObject("number"!=typeof qt?qt:expandToHashMap(qt,Ld)),$t=Lt===Gd?"reference":Gd,Kt=_e.elements.reference,Jt=_e.rects.popper,Yt=_e.elements[Ot?$t:Lt],Qt=getClippingRect(isElement(Yt)?Yt:Yt.contextElement||getDocumentElement(_e.elements.popper),xt,It),an=getBoundingClientRect(Kt),cn=computeOffsets({reference:an,element:Jt,strategy:"absolute",placement:pt}),hn=rectToClientRect(Object.assign({},Jt,cn)),pn=Lt===Gd?hn:an,xn={top:Qt.top-pn.top+Wt.top,bottom:pn.bottom-Qt.bottom+Wt.bottom,left:Qt.left-pn.left+Wt.left,right:pn.right-Qt.right+Wt.right},Pn=_e.modifiersData.offset;if(Lt===Gd&&Pn){var Ln=Pn[pt];Object.keys(xn).forEach((function(_e){var be=[kd,Td].indexOf(_e)>=0?1:-1,Te=[Ad,Td].indexOf(_e)>=0?"y":"x";xn[_e]+=Ln[Te]*be}))}return xn}function computeAutoPlacement(_e,be){void 0===be&&(be={});var Te=be,Pe=Te.placement,pt=Te.boundary,vt=Te.rootBoundary,xt=Te.padding,Tt=Te.flipVariations,It=Te.allowedAutoPlacements,Mt=void 0===It?Wd:It,Lt=getVariation(Pe),Ft=Lt?Tt?Zd:Zd.filter((function(_e){return getVariation(_e)===Lt})):Ld,Ot=Ft.filter((function(_e){return Mt.indexOf(_e)>=0}));0===Ot.length&&(Ot=Ft);var Vt=Ot.reduce((function(be,Te){return be[Te]=detectOverflow(_e,{placement:Te,boundary:pt,rootBoundary:vt,padding:xt})[getBasePlacement(Te)],be}),{});return Object.keys(Vt).sort((function(_e,be){return Vt[_e]-Vt[be]}))}function getExpandedFallbackPlacements(_e){if(getBasePlacement(_e)===Md)return[];var be=getOppositePlacement(_e);return[getOppositeVariationPlacement(_e),be,getOppositeVariationPlacement(be)]}function within(_e,be,Te){return Yd(_e,Qd(be,Te))}var Hl=function toPaddingObject(_e,be){return mergePaddingObject("number"!=typeof(_e="function"==typeof _e?_e(Object.assign({},be.rects,{placement:be.placement})):_e)?_e:expandToHashMap(_e,Ld))};function getSideOffsets(_e,be,Te){return void 0===Te&&(Te={x:0,y:0}),{top:_e.top-be.height-Te.y,right:_e.right-be.width+Te.x,bottom:_e.bottom-be.height+Te.y,left:_e.left-be.width-Te.x}}function isAnySideFullyClipped(_e){return[Ad,kd,Td,Id].some((function(be){return _e[be]>=0}))}var $l=popperGenerator({defaultModifiers:[Kd,Jd,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function computeStyles(_e){var be=_e.state,Te=_e.options,Pe=Te.gpuAcceleration,pt=void 0===Pe||Pe,vt=Te.adaptive,xt=void 0===vt||vt,Tt=Te.roundOffsets,It=void 0===Tt||Tt,Mt={placement:getBasePlacement(be.placement),popper:be.elements.popper,popperRect:be.rects.popper,gpuAcceleration:pt};null!=be.modifiersData.popperOffsets&&(be.styles.popper=Object.assign({},be.styles.popper,mapToStyles(Object.assign({},Mt,{offsets:be.modifiersData.popperOffsets,position:be.options.strategy,adaptive:xt,roundOffsets:It})))),null!=be.modifiersData.arrow&&(be.styles.arrow=Object.assign({},be.styles.arrow,mapToStyles(Object.assign({},Mt,{offsets:be.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:It})))),be.attributes.popper=Object.assign({},be.attributes.popper,{"data-popper-placement":be.placement})},data:{}},Rl,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function offset(_e){var be=_e.state,Te=_e.options,Pe=_e.name,pt=Te.offset,vt=void 0===pt?[0,0]:pt,xt=Wd.reduce((function(_e,Te){return _e[Te]=distanceAndSkiddingToXY(Te,be.rects,vt),_e}),{}),Tt=xt[be.placement],It=Tt.x,Mt=Tt.y;null!=be.modifiersData.popperOffsets&&(be.modifiersData.popperOffsets.x+=It,be.modifiersData.popperOffsets.y+=Mt),be.modifiersData[Pe]=xt}},{name:"flip",enabled:!0,phase:"main",fn:function flip(_e){var be=_e.state,Te=_e.options,Pe=_e.name;if(!be.modifiersData[Pe]._skip){for(var pt=Te.mainAxis,vt=void 0===pt||pt,xt=Te.altAxis,Tt=void 0===xt||xt,It=Te.fallbackPlacements,Mt=Te.padding,Lt=Te.boundary,Ft=Te.rootBoundary,Ot=Te.altBoundary,Vt=Te.flipVariations,qt=void 0===Vt||Vt,Wt=Te.allowedAutoPlacements,$t=be.options.placement,Kt=getBasePlacement($t),Jt=It||(Kt===$t||!qt?[getOppositePlacement($t)]:getExpandedFallbackPlacements($t)),Yt=[$t].concat(Jt).reduce((function(_e,Te){return _e.concat(getBasePlacement(Te)===Md?computeAutoPlacement(be,{placement:Te,boundary:Lt,rootBoundary:Ft,padding:Mt,flipVariations:qt,allowedAutoPlacements:Wt}):Te)}),[]),Qt=be.rects.reference,an=be.rects.popper,cn=new Map,hn=!0,pn=Yt[0],xn=0;xn<Yt.length;xn++){var Pn=Yt[xn],Ln=getBasePlacement(Pn),Fn=getVariation(Pn)===Fd,jn=[Ad,Td].indexOf(Ln)>=0,$n=jn?"width":"height",ea=detectOverflow(be,{placement:Pn,boundary:Lt,rootBoundary:Ft,altBoundary:Ot,padding:Mt}),na=jn?Fn?kd:Id:Fn?Td:Ad;Qt[$n]>an[$n]&&(na=getOppositePlacement(na));var aa=getOppositePlacement(na),ra=[];if(vt&&ra.push(ea[Ln]<=0),Tt&&ra.push(ea[na]<=0,ea[aa]<=0),ra.every((function(_e){return _e}))){pn=Pn,hn=!1;break}cn.set(Pn,ra)}if(hn)for(var ia=function _loop(_e){var be=Yt.find((function(be){var Te=cn.get(be);if(Te)return Te.slice(0,_e).every((function(_e){return _e}))}));if(be)return pn=be,"break"},da=qt?3:1;da>0;da--){if("break"===ia(da))break}be.placement!==pn&&(be.modifiersData[Pe]._skip=!0,be.placement=pn,be.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function preventOverflow(_e){var be=_e.state,Te=_e.options,Pe=_e.name,pt=Te.mainAxis,vt=void 0===pt||pt,xt=Te.altAxis,Tt=void 0!==xt&&xt,It=Te.boundary,Mt=Te.rootBoundary,Lt=Te.altBoundary,Ft=Te.padding,Ot=Te.tether,Vt=void 0===Ot||Ot,qt=Te.tetherOffset,Wt=void 0===qt?0:qt,$t=detectOverflow(be,{boundary:It,rootBoundary:Mt,padding:Ft,altBoundary:Lt}),Kt=getBasePlacement(be.placement),Jt=getVariation(be.placement),Yt=!Jt,Qt=getMainAxisFromPlacement(Kt),an="x"===Qt?"y":"x",cn=be.modifiersData.popperOffsets,hn=be.rects.reference,pn=be.rects.popper,xn="function"==typeof Wt?Wt(Object.assign({},be.rects,{placement:be.placement})):Wt,Pn={x:0,y:0};if(cn){if(vt||Tt){var Ln="y"===Qt?Ad:Id,Fn="y"===Qt?Td:kd,jn="y"===Qt?"height":"width",$n=cn[Qt],ea=cn[Qt]+$t[Ln],na=cn[Qt]-$t[Fn],aa=Vt?-pn[jn]/2:0,ra=Jt===Fd?hn[jn]:pn[jn],ia=Jt===Fd?-pn[jn]:-hn[jn],da=be.elements.arrow,la=Vt&&da?getLayoutRect(da):{width:0,height:0},ua=be.modifiersData["arrow#persistent"]?be.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ca=ua[Ln],ga=ua[Fn],ma=within(0,hn[jn],la[jn]),ya=Yt?hn[jn]/2-aa-ma-ca-xn:ra-ma-ca-xn,_a=Yt?-hn[jn]/2+aa+ma+ga+xn:ia+ma+ga+xn,va=be.elements.arrow&&getOffsetParent(be.elements.arrow),xa=va?"y"===Qt?va.clientTop||0:va.clientLeft||0:0,ba=be.modifiersData.offset?be.modifiersData.offset[be.placement][Qt]:0,wa=cn[Qt]+ya-ba-xa,Ea=cn[Qt]+_a-ba;if(vt){var Ca=within(Vt?Qd(ea,wa):ea,$n,Vt?Yd(na,Ea):na);cn[Qt]=Ca,Pn[Qt]=Ca-$n}if(Tt){var Aa="x"===Qt?Ad:Id,Da="x"===Qt?Td:kd,ka=cn[an],Ia=ka+$t[Aa],La=ka-$t[Da],Fa=within(Vt?Qd(Ia,wa):Ia,ka,Vt?Yd(La,Ea):La);cn[an]=Fa,Pn[an]=Fa-ka}}be.modifiersData[Pe]=Pn}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function arrow(_e){var be,Te=_e.state,Pe=_e.name,pt=_e.options,vt=Te.elements.arrow,xt=Te.modifiersData.popperOffsets,Tt=getBasePlacement(Te.placement),It=getMainAxisFromPlacement(Tt),Mt=[Id,kd].indexOf(Tt)>=0?"height":"width";if(vt&&xt){var Lt=Hl(pt.padding,Te),Ft=getLayoutRect(vt),Ot="y"===It?Ad:Id,Vt="y"===It?Td:kd,qt=Te.rects.reference[Mt]+Te.rects.reference[It]-xt[It]-Te.rects.popper[Mt],Wt=xt[It]-Te.rects.reference[It],$t=getOffsetParent(vt),Kt=$t?"y"===It?$t.clientHeight||0:$t.clientWidth||0:0,Jt=qt/2-Wt/2,Yt=Lt[Ot],Qt=Kt-Ft[Mt]-Lt[Vt],an=Kt/2-Ft[Mt]/2+Jt,cn=within(Yt,an,Qt),hn=It;Te.modifiersData[Pe]=((be={})[hn]=cn,be.centerOffset=cn-an,be)}},effect:function arrow_effect(_e){var be=_e.state,Te=_e.options.element,Pe=void 0===Te?"[data-popper-arrow]":Te;null!=Pe&&("string"!=typeof Pe||(Pe=be.elements.popper.querySelector(Pe)))&&contains(be.elements.popper,Pe)&&(be.elements.arrow=Pe)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function hide(_e){var be=_e.state,Te=_e.name,Pe=be.rects.reference,pt=be.rects.popper,vt=be.modifiersData.preventOverflow,xt=detectOverflow(be,{elementContext:"reference"}),Tt=detectOverflow(be,{altBoundary:!0}),It=getSideOffsets(xt,Pe),Mt=getSideOffsets(Tt,pt,vt),Lt=isAnySideFullyClipped(It),Ft=isAnySideFullyClipped(Mt);be.modifiersData[Te]={referenceClippingOffsets:It,popperEscapeOffsets:Mt,isReferenceHidden:Lt,hasPopperEscaped:Ft},be.attributes.popper=Object.assign({},be.attributes.popper,{"data-popper-reference-hidden":Lt,"data-popper-escaped":Ft})}}]}),Kl="tippy-content",Yl="tippy-backdrop",eu="tippy-arrow",tu="tippy-svg-arrow",nu={passive:!0,capture:!0};function getValueAtIndexOrReturn(_e,be,Te){if(Array.isArray(_e)){var Pe=_e[be];return null==Pe?Array.isArray(Te)?Te[be]:Te:Pe}return _e}function isType(_e,be){var Te={}.toString.call(_e);return 0===Te.indexOf("[object")&&Te.indexOf(be+"]")>-1}function invokeWithArgsOrReturn(_e,be){return"function"==typeof _e?_e.apply(void 0,be):_e}function tippy_esm_debounce(_e,be){return 0===be?_e:function(Pe){clearTimeout(Te),Te=setTimeout((function(){_e(Pe)}),be)};var Te}function normalizeToArray(_e){return[].concat(_e)}function pushIfUnique(_e,be){-1===_e.indexOf(be)&&_e.push(be)}function tippy_esm_getBasePlacement(_e){return _e.split("-")[0]}function arrayFrom(_e){return[].slice.call(_e)}function div(){return document.createElement("div")}function tippy_esm_isElement(_e){return["Element","Fragment"].some((function(be){return isType(_e,be)}))}function isNodeList(_e){return isType(_e,"NodeList")}function isMouseEvent(_e){return isType(_e,"MouseEvent")}function isReferenceElement(_e){return!(!_e||!_e._tippy||_e._tippy.reference!==_e)}function setTransitionDuration(_e,be){_e.forEach((function(_e){_e&&(_e.style.transitionDuration=be+"ms")}))}function setVisibilityState(_e,be){_e.forEach((function(_e){_e&&_e.setAttribute("data-state",be)}))}function getOwnerDocument(_e){var be,Te=normalizeToArray(_e)[0];return(null==Te||null==(be=Te.ownerDocument)?void 0:be.body)?Te.ownerDocument:document}function isCursorOutsideInteractiveBorder(_e,be){var Te=be.clientX,Pe=be.clientY;return _e.every((function(_e){var be=_e.popperRect,pt=_e.popperState,vt=_e.props.interactiveBorder,xt=tippy_esm_getBasePlacement(pt.placement),Tt=pt.modifiersData.offset;if(!Tt)return!0;var It="bottom"===xt?Tt.top.y:0,Mt="top"===xt?Tt.bottom.y:0,Lt="right"===xt?Tt.left.x:0,Ft="left"===xt?Tt.right.x:0,Ot=be.top-Pe+It>vt,Vt=Pe-be.bottom-Mt>vt,qt=be.left-Te+Lt>vt,Wt=Te-be.right-Ft>vt;return Ot||Vt||qt||Wt}))}function updateTransitionEndListener(_e,be,Te){var Pe=be+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(be){_e[Pe](be,Te)}))}var ou={isTouch:!1},du=0;function onDocumentTouchStart(){ou.isTouch||(ou.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var _e=performance.now();_e-du<20&&(ou.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),du=_e}function onWindowBlur(){var _e=document.activeElement;if(isReferenceElement(_e)){var be=_e._tippy;_e.blur&&!be.state.isVisible&&_e.blur()}}var lu="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",uu=/MSIE |Trident\//.test(lu);var hu={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},pu=Object.assign({appendTo:function appendTo(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function onAfterUpdate(){},onBeforeUpdate:function onBeforeUpdate(){},onCreate:function onCreate(){},onDestroy:function onDestroy(){},onHidden:function onHidden(){},onHide:function onHide(){},onMount:function onMount(){},onShow:function onShow(){},onShown:function onShown(){},onTrigger:function onTrigger(){},onUntrigger:function onUntrigger(){},onClickOutside:function onClickOutside(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},hu,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),fu=Object.keys(pu);function getExtendedPassedProps(_e){var be=(_e.plugins||[]).reduce((function(be,Te){var Pe=Te.name,pt=Te.defaultValue;return Pe&&(be[Pe]=void 0!==_e[Pe]?_e[Pe]:pt),be}),{});return Object.assign({},_e,{},be)}function getDataAttributeProps(_e,be){return(be?Object.keys(getExtendedPassedProps(Object.assign({},pu,{plugins:be}))):fu).reduce((function(be,Te){var Pe=(_e.getAttribute("data-tippy-"+Te)||"").trim();if(!Pe)return be;if("content"===Te)be[Te]=Pe;else try{be[Te]=JSON.parse(Pe)}catch(_e){be[Te]=Pe}return be}),{})}function evaluateProps(_e,be){var Te=Object.assign({},be,{content:invokeWithArgsOrReturn(be.content,[_e])},be.ignoreAttributes?{}:getDataAttributeProps(_e,be.plugins));return Te.aria=Object.assign({},pu.aria,{},Te.aria),Te.aria={expanded:"auto"===Te.aria.expanded?be.interactive:Te.aria.expanded,content:"auto"===Te.aria.content?be.interactive?null:"describedby":Te.aria.content},Te}function dangerouslySetInnerHTML(_e,be){_e.innerHTML=be}function createArrowElement(_e){var be=div();return!0===_e?be.className=eu:(be.className=tu,tippy_esm_isElement(_e)?be.appendChild(_e):dangerouslySetInnerHTML(be,_e)),be}function setContent(_e,be){tippy_esm_isElement(be.content)?(dangerouslySetInnerHTML(_e,""),_e.appendChild(be.content)):"function"!=typeof be.content&&(be.allowHTML?dangerouslySetInnerHTML(_e,be.content):_e.textContent=be.content)}function getChildren(_e){var be=_e.firstElementChild,Te=arrayFrom(be.children);return{box:be,content:Te.find((function(_e){return _e.classList.contains(Kl)})),arrow:Te.find((function(_e){return _e.classList.contains(eu)||_e.classList.contains(tu)})),backdrop:Te.find((function(_e){return _e.classList.contains(Yl)}))}}function render(_e){var be=div(),Te=div();Te.className="tippy-box",Te.setAttribute("data-state","hidden"),Te.setAttribute("tabindex","-1");var Pe=div();function onUpdate(Te,Pe){var pt=getChildren(be),vt=pt.box,xt=pt.content,Tt=pt.arrow;Pe.theme?vt.setAttribute("data-theme",Pe.theme):vt.removeAttribute("data-theme"),"string"==typeof Pe.animation?vt.setAttribute("data-animation",Pe.animation):vt.removeAttribute("data-animation"),Pe.inertia?vt.setAttribute("data-inertia",""):vt.removeAttribute("data-inertia"),vt.style.maxWidth="number"==typeof Pe.maxWidth?Pe.maxWidth+"px":Pe.maxWidth,Pe.role?vt.setAttribute("role",Pe.role):vt.removeAttribute("role"),Te.content===Pe.content&&Te.allowHTML===Pe.allowHTML||setContent(xt,_e.props),Pe.arrow?Tt?Te.arrow!==Pe.arrow&&(vt.removeChild(Tt),vt.appendChild(createArrowElement(Pe.arrow))):vt.appendChild(createArrowElement(Pe.arrow)):Tt&&vt.removeChild(Tt)}return Pe.className=Kl,Pe.setAttribute("data-state","hidden"),setContent(Pe,_e.props),be.appendChild(Te),Te.appendChild(Pe),onUpdate(_e.props,_e.props),{popper:be,onUpdate:onUpdate}}render.$$tippy=!0;var yu=1,Wu=[],Ju=[];function createTippy(_e,be){var Te,Pe,pt,vt,xt,Tt,It,Mt,Lt,Ft=evaluateProps(_e,Object.assign({},pu,{},getExtendedPassedProps((Te=be,Object.keys(Te).reduce((function(_e,be){return void 0!==Te[be]&&(_e[be]=Te[be]),_e}),{}))))),Ot=!1,Vt=!1,qt=!1,Wt=!1,$t=[],Kt=tippy_esm_debounce(onMouseMove,Ft.interactiveDebounce),Jt=yu++,Yt=(Lt=Ft.plugins).filter((function(_e,be){return Lt.indexOf(_e)===be})),Qt={id:Jt,reference:_e,popper:div(),popperInstance:null,props:Ft,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:Yt,clearDelayTimeouts:function clearDelayTimeouts(){clearTimeout(Pe),clearTimeout(pt),cancelAnimationFrame(vt)},setProps:function setProps(be){0;if(Qt.state.isDestroyed)return;invokeHook("onBeforeUpdate",[Qt,be]),removeListeners();var Te=Qt.props,Pe=evaluateProps(_e,Object.assign({},Qt.props,{},be,{ignoreAttributes:!0}));Qt.props=Pe,addListeners(),Te.interactiveDebounce!==Pe.interactiveDebounce&&(cleanupInteractiveMouseListeners(),Kt=tippy_esm_debounce(onMouseMove,Pe.interactiveDebounce));Te.triggerTarget&&!Pe.triggerTarget?normalizeToArray(Te.triggerTarget).forEach((function(_e){_e.removeAttribute("aria-expanded")})):Pe.triggerTarget&&_e.removeAttribute("aria-expanded");handleAriaExpandedAttribute(),handleStyles(),hn&&hn(Te,Pe);Qt.popperInstance&&(createPopperInstance(),getNestedPopperTree().forEach((function(_e){requestAnimationFrame(_e._tippy.popperInstance.forceUpdate)})));invokeHook("onAfterUpdate",[Qt,be])},setContent:function setContent(_e){Qt.setProps({content:_e})},show:function show(){0;var _e=Qt.state.isVisible,be=Qt.state.isDestroyed,Te=!Qt.state.isEnabled,Pe=ou.isTouch&&!Qt.props.touch,pt=getValueAtIndexOrReturn(Qt.props.duration,0,pu.duration);if(_e||be||Te||Pe)return;if(getCurrentTarget().hasAttribute("disabled"))return;if(invokeHook("onShow",[Qt],!1),!1===Qt.props.onShow(Qt))return;Qt.state.isVisible=!0,getIsDefaultRenderFn()&&(cn.style.visibility="visible");handleStyles(),addDocumentPress(),Qt.state.isMounted||(cn.style.transition="none");if(getIsDefaultRenderFn()){var vt=getDefaultTemplateChildren(),xt=vt.box,Tt=vt.content;setTransitionDuration([xt,Tt],0)}It=function onFirstUpdate(){var _e;if(Qt.state.isVisible&&!Wt){if(Wt=!0,cn.offsetHeight,cn.style.transition=Qt.props.moveTransition,getIsDefaultRenderFn()&&Qt.props.animation){var be=getDefaultTemplateChildren(),Te=be.box,Pe=be.content;setTransitionDuration([Te,Pe],pt),setVisibilityState([Te,Pe],"visible")}handleAriaContentAttribute(),handleAriaExpandedAttribute(),pushIfUnique(Ju,Qt),null==(_e=Qt.popperInstance)||_e.forceUpdate(),Qt.state.isMounted=!0,invokeHook("onMount",[Qt]),Qt.props.animation&&getIsDefaultRenderFn()&&onTransitionedIn(pt,(function(){Qt.state.isShown=!0,invokeHook("onShown",[Qt])}))}},mount()},hide:function hide(){0;var _e=!Qt.state.isVisible,be=Qt.state.isDestroyed,Te=!Qt.state.isEnabled,Pe=getValueAtIndexOrReturn(Qt.props.duration,1,pu.duration);if(_e||be||Te)return;if(invokeHook("onHide",[Qt],!1),!1===Qt.props.onHide(Qt))return;Qt.state.isVisible=!1,Qt.state.isShown=!1,Wt=!1,Ot=!1,getIsDefaultRenderFn()&&(cn.style.visibility="hidden");if(cleanupInteractiveMouseListeners(),removeDocumentPress(),handleStyles(),getIsDefaultRenderFn()){var pt=getDefaultTemplateChildren(),vt=pt.box,xt=pt.content;Qt.props.animation&&(setTransitionDuration([vt,xt],Pe),setVisibilityState([vt,xt],"hidden"))}handleAriaContentAttribute(),handleAriaExpandedAttribute(),Qt.props.animation?getIsDefaultRenderFn()&&onTransitionedOut(Pe,Qt.unmount):Qt.unmount()},hideWithInteractivity:function hideWithInteractivity(_e){0;getDocument().addEventListener("mousemove",Kt),pushIfUnique(Wu,Kt),Kt(_e)},enable:function enable(){Qt.state.isEnabled=!0},disable:function disable(){Qt.hide(),Qt.state.isEnabled=!1},unmount:function unmount(){0;Qt.state.isVisible&&Qt.hide();if(!Qt.state.isMounted)return;destroyPopperInstance(),getNestedPopperTree().forEach((function(_e){_e._tippy.unmount()})),cn.parentNode&&cn.parentNode.removeChild(cn);Ju=Ju.filter((function(_e){return _e!==Qt})),Qt.state.isMounted=!1,invokeHook("onHidden",[Qt])},destroy:function destroy(){0;if(Qt.state.isDestroyed)return;Qt.clearDelayTimeouts(),Qt.unmount(),removeListeners(),delete _e._tippy,Qt.state.isDestroyed=!0,invokeHook("onDestroy",[Qt])}};if(!Ft.render)return Qt;var an=Ft.render(Qt),cn=an.popper,hn=an.onUpdate;cn.setAttribute("data-tippy-root",""),cn.id="tippy-"+Qt.id,Qt.popper=cn,_e._tippy=Qt,cn._tippy=Qt;var pn=Yt.map((function(_e){return _e.fn(Qt)})),xn=_e.hasAttribute("aria-expanded");return addListeners(),handleAriaExpandedAttribute(),handleStyles(),invokeHook("onCreate",[Qt]),Ft.showOnCreate&&scheduleShow(),cn.addEventListener("mouseenter",(function(){Qt.props.interactive&&Qt.state.isVisible&&Qt.clearDelayTimeouts()})),cn.addEventListener("mouseleave",(function(_e){Qt.props.interactive&&Qt.props.trigger.indexOf("mouseenter")>=0&&(getDocument().addEventListener("mousemove",Kt),Kt(_e))})),Qt;function getNormalizedTouchSettings(){var _e=Qt.props.touch;return Array.isArray(_e)?_e:[_e,0]}function getIsCustomTouchBehavior(){return"hold"===getNormalizedTouchSettings()[0]}function getIsDefaultRenderFn(){var _e;return!!(null==(_e=Qt.props.render)?void 0:_e.$$tippy)}function getCurrentTarget(){return Mt||_e}function getDocument(){var _e=getCurrentTarget().parentNode;return _e?getOwnerDocument(_e):document}function getDefaultTemplateChildren(){return getChildren(cn)}function getDelay(_e){return Qt.state.isMounted&&!Qt.state.isVisible||ou.isTouch||xt&&"focus"===xt.type?0:getValueAtIndexOrReturn(Qt.props.delay,_e?0:1,pu.delay)}function handleStyles(){cn.style.pointerEvents=Qt.props.interactive&&Qt.state.isVisible?"":"none",cn.style.zIndex=""+Qt.props.zIndex}function invokeHook(_e,be,Te){var Pe;(void 0===Te&&(Te=!0),pn.forEach((function(Te){Te[_e]&&Te[_e].apply(void 0,be)})),Te)&&(Pe=Qt.props)[_e].apply(Pe,be)}function handleAriaContentAttribute(){var be=Qt.props.aria;if(be.content){var Te="aria-"+be.content,Pe=cn.id;normalizeToArray(Qt.props.triggerTarget||_e).forEach((function(_e){var be=_e.getAttribute(Te);if(Qt.state.isVisible)_e.setAttribute(Te,be?be+" "+Pe:Pe);else{var pt=be&&be.replace(Pe,"").trim();pt?_e.setAttribute(Te,pt):_e.removeAttribute(Te)}}))}}function handleAriaExpandedAttribute(){!xn&&Qt.props.aria.expanded&&normalizeToArray(Qt.props.triggerTarget||_e).forEach((function(_e){Qt.props.interactive?_e.setAttribute("aria-expanded",Qt.state.isVisible&&_e===getCurrentTarget()?"true":"false"):_e.removeAttribute("aria-expanded")}))}function cleanupInteractiveMouseListeners(){getDocument().removeEventListener("mousemove",Kt),Wu=Wu.filter((function(_e){return _e!==Kt}))}function onDocumentPress(_e){if(!(ou.isTouch&&(qt||"mousedown"===_e.type)||Qt.props.interactive&&cn.contains(_e.target))){if(getCurrentTarget().contains(_e.target)){if(ou.isTouch)return;if(Qt.state.isVisible&&Qt.props.trigger.indexOf("click")>=0)return}else invokeHook("onClickOutside",[Qt,_e]);!0===Qt.props.hideOnClick&&(Qt.clearDelayTimeouts(),Qt.hide(),Vt=!0,setTimeout((function(){Vt=!1})),Qt.state.isMounted||removeDocumentPress())}}function onTouchMove(){qt=!0}function onTouchStart(){qt=!1}function addDocumentPress(){var _e=getDocument();_e.addEventListener("mousedown",onDocumentPress,!0),_e.addEventListener("touchend",onDocumentPress,nu),_e.addEventListener("touchstart",onTouchStart,nu),_e.addEventListener("touchmove",onTouchMove,nu)}function removeDocumentPress(){var _e=getDocument();_e.removeEventListener("mousedown",onDocumentPress,!0),_e.removeEventListener("touchend",onDocumentPress,nu),_e.removeEventListener("touchstart",onTouchStart,nu),_e.removeEventListener("touchmove",onTouchMove,nu)}function onTransitionedOut(_e,be){onTransitionEnd(_e,(function(){!Qt.state.isVisible&&cn.parentNode&&cn.parentNode.contains(cn)&&be()}))}function onTransitionedIn(_e,be){onTransitionEnd(_e,be)}function onTransitionEnd(_e,be){var Te=getDefaultTemplateChildren().box;function listener(_e){_e.target===Te&&(updateTransitionEndListener(Te,"remove",listener),be())}if(0===_e)return be();updateTransitionEndListener(Te,"remove",Tt),updateTransitionEndListener(Te,"add",listener),Tt=listener}function on(be,Te,Pe){void 0===Pe&&(Pe=!1),normalizeToArray(Qt.props.triggerTarget||_e).forEach((function(_e){_e.addEventListener(be,Te,Pe),$t.push({node:_e,eventType:be,handler:Te,options:Pe})}))}function addListeners(){var _e;getIsCustomTouchBehavior()&&(on("touchstart",onTrigger,{passive:!0}),on("touchend",onMouseLeave,{passive:!0})),(_e=Qt.props.trigger,_e.split(/\s+/).filter(Boolean)).forEach((function(_e){if("manual"!==_e)switch(on(_e,onTrigger),_e){case"mouseenter":on("mouseleave",onMouseLeave);break;case"focus":on(uu?"focusout":"blur",onBlurOrFocusOut);break;case"focusin":on("focusout",onBlurOrFocusOut)}}))}function removeListeners(){$t.forEach((function(_e){var be=_e.node,Te=_e.eventType,Pe=_e.handler,pt=_e.options;be.removeEventListener(Te,Pe,pt)})),$t=[]}function onTrigger(_e){var be,Te=!1;if(Qt.state.isEnabled&&!isEventListenerStopped(_e)&&!Vt){var Pe="focus"===(null==(be=xt)?void 0:be.type);xt=_e,Mt=_e.currentTarget,handleAriaExpandedAttribute(),!Qt.state.isVisible&&isMouseEvent(_e)&&Wu.forEach((function(be){return be(_e)})),"click"===_e.type&&(Qt.props.trigger.indexOf("mouseenter")<0||Ot)&&!1!==Qt.props.hideOnClick&&Qt.state.isVisible?Te=!0:scheduleShow(_e),"click"===_e.type&&(Ot=!Te),Te&&!Pe&&scheduleHide(_e)}}function onMouseMove(_e){var be=_e.target,Te=getCurrentTarget().contains(be)||cn.contains(be);"mousemove"===_e.type&&Te||isCursorOutsideInteractiveBorder(getNestedPopperTree().concat(cn).map((function(_e){var be,Te=null==(be=_e._tippy.popperInstance)?void 0:be.state;return Te?{popperRect:_e.getBoundingClientRect(),popperState:Te,props:Ft}:null})).filter(Boolean),_e)&&(cleanupInteractiveMouseListeners(),scheduleHide(_e))}function onMouseLeave(_e){isEventListenerStopped(_e)||Qt.props.trigger.indexOf("click")>=0&&Ot||(Qt.props.interactive?Qt.hideWithInteractivity(_e):scheduleHide(_e))}function onBlurOrFocusOut(_e){Qt.props.trigger.indexOf("focusin")<0&&_e.target!==getCurrentTarget()||Qt.props.interactive&&_e.relatedTarget&&cn.contains(_e.relatedTarget)||scheduleHide(_e)}function isEventListenerStopped(_e){return!!ou.isTouch&&getIsCustomTouchBehavior()!==_e.type.indexOf("touch")>=0}function createPopperInstance(){destroyPopperInstance();var be=Qt.props,Te=be.popperOptions,Pe=be.placement,pt=be.offset,vt=be.getReferenceClientRect,xt=be.moveTransition,Tt=getIsDefaultRenderFn()?getChildren(cn).arrow:null,Mt=vt?{getBoundingClientRect:vt,contextElement:vt.contextElement||getCurrentTarget()}:_e,Lt=[{name:"offset",options:{offset:pt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!xt}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function fn(_e){var be=_e.state;if(getIsDefaultRenderFn()){var Te=getDefaultTemplateChildren().box;["placement","reference-hidden","escaped"].forEach((function(_e){"placement"===_e?Te.setAttribute("data-placement",be.placement):be.attributes.popper["data-popper-"+_e]?Te.setAttribute("data-"+_e,""):Te.removeAttribute("data-"+_e)})),be.attributes.popper={}}}}];getIsDefaultRenderFn()&&Tt&&Lt.push({name:"arrow",options:{element:Tt,padding:3}}),Lt.push.apply(Lt,(null==Te?void 0:Te.modifiers)||[]),Qt.popperInstance=$l(Mt,cn,Object.assign({},Te,{placement:Pe,onFirstUpdate:It,modifiers:Lt}))}function destroyPopperInstance(){Qt.popperInstance&&(Qt.popperInstance.destroy(),Qt.popperInstance=null)}function mount(){var _e,be=Qt.props.appendTo,Te=getCurrentTarget();(_e=Qt.props.interactive&&be===pu.appendTo||"parent"===be?Te.parentNode:invokeWithArgsOrReturn(be,[Te])).contains(cn)||_e.appendChild(cn),createPopperInstance()}function getNestedPopperTree(){return arrayFrom(cn.querySelectorAll("[data-tippy-root]"))}function scheduleShow(_e){Qt.clearDelayTimeouts(),_e&&invokeHook("onTrigger",[Qt,_e]),addDocumentPress();var be=getDelay(!0),Te=getNormalizedTouchSettings(),pt=Te[0],vt=Te[1];ou.isTouch&&"hold"===pt&&vt&&(be=vt),be?Pe=setTimeout((function(){Qt.show()}),be):Qt.show()}function scheduleHide(_e){if(Qt.clearDelayTimeouts(),invokeHook("onUntrigger",[Qt,_e]),Qt.state.isVisible){if(!(Qt.props.trigger.indexOf("mouseenter")>=0&&Qt.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(_e.type)>=0&&Ot)){var be=getDelay(!1);be?pt=setTimeout((function(){Qt.state.isVisible&&Qt.hide()}),be):vt=requestAnimationFrame((function(){Qt.hide()}))}}else removeDocumentPress()}}function tippy(_e,be){void 0===be&&(be={});var Te=pu.plugins.concat(be.plugins||[]);document.addEventListener("touchstart",onDocumentTouchStart,nu),window.addEventListener("blur",onWindowBlur);var Pe,pt=Object.assign({},be,{plugins:Te}),vt=(tippy_esm_isElement(Pe=_e)?[Pe]:isNodeList(Pe)?arrayFrom(Pe):Array.isArray(Pe)?Pe:arrayFrom(document.querySelectorAll(Pe))).reduce((function(_e,be){var Te=be&&createTippy(be,pt);return Te&&_e.push(Te),_e}),[]);return tippy_esm_isElement(_e)?vt[0]:vt}tippy.defaultProps=pu,tippy.setDefaultProps=function setDefaultProps(_e){Object.keys(_e).forEach((function(be){pu[be]=_e[be]}))},tippy.currentInput=ou;Object.assign({},Rl,{effect:function effect(_e){var be=_e.state,Te={popper:{position:be.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(be.elements.popper.style,Te.popper),be.styles=Te,be.elements.arrow&&Object.assign(be.elements.arrow.style,Te.arrow)}});tippy.setDefaultProps({render:render});var Yu=tippy;function tippy_react_esm_objectWithoutPropertiesLoose(_e,be){if(null==_e)return{};var Te,Pe,pt={},vt=Object.keys(_e);for(Pe=0;Pe<vt.length;Pe++)Te=vt[Pe],be.indexOf(Te)>=0||(pt[Te]=_e[Te]);return pt}var Qu="undefined"!=typeof window&&"undefined"!=typeof document;function preserveRef(_e,be){_e&&("function"==typeof _e&&_e(be),{}.hasOwnProperty.call(_e,"current")&&(_e.current=be))}function ssrSafeCreateDiv(){return Qu&&document.createElement("div")}function toDataAttributes(_e){var be={"data-placement":_e.placement};return _e.referenceHidden&&(be["data-reference-hidden"]=""),_e.escaped&&(be["data-escaped"]=""),be}function deepPreserveProps(_e,be){var Te,Pe;return Object.assign({},be,{popperOptions:Object.assign({},_e.popperOptions,be.popperOptions,{modifiers:[].concat(((null==(Te=_e.popperOptions)?void 0:Te.modifiers)||[]).filter((function(_e){return _e.name.indexOf("tippy")>=0})),(null==(Pe=be.popperOptions)?void 0:Pe.modifiers)||[])})})}var ec=Qu?Te.useLayoutEffect:Te.useEffect;function useMutableBox(_e){var be=(0,Te.useRef)();return be.current||(be.current="function"==typeof _e?_e():_e),be.current}function updateClassName(_e,be,Te){Te.split(/\s+/).forEach((function(Te){Te&&_e.classList[be](Te)}))}var rc={name:"className",defaultValue:"",fn:function fn(_e){var be=_e.popper.firstElementChild,Te=function isDefaultRenderFn(){var be;return!!(null==(be=_e.props.render)?void 0:be.$$tippy)};function add(){_e.props.className&&!Te()||updateClassName(be,"add",_e.props.className)}return{onCreate:add,onBeforeUpdate:function remove(){Te()&&updateClassName(be,"remove",_e.props.className)},onAfterUpdate:add}}};function TippyGenerator(_e){return function Tippy(Pe){var pt=Pe.children,vt=Pe.content,xt=Pe.visible,Tt=Pe.singleton,It=Pe.render,Mt=Pe.reference,Lt=Pe.disabled,Ft=void 0!==Lt&&Lt,Ot=Pe.ignoreAttributes,Vt=void 0===Ot||Ot,qt=(Pe.__source,Pe.__self,tippy_react_esm_objectWithoutPropertiesLoose(Pe,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),Wt=void 0!==xt,$t=void 0!==Tt,Kt=(0,Te.useState)(!1),Jt=Kt[0],Yt=Kt[1],Qt=(0,Te.useState)({}),an=Qt[0],cn=Qt[1],hn=(0,Te.useState)(),pn=hn[0],xn=hn[1],Pn=useMutableBox((function(){return{container:ssrSafeCreateDiv(),renders:1}})),Ln=Object.assign({ignoreAttributes:Vt},qt,{content:Pn.container});Wt&&(Ln.trigger="manual",Ln.hideOnClick=!1),$t&&(Ft=!0);var Fn=Ln,jn=Ln.plugins||[];It&&(Fn=Object.assign({},Ln,{plugins:$t?[].concat(jn,[{fn:function fn(){return{onTrigger:function onTrigger(_e,be){var Te=Tt.data.children.find((function(_e){return _e.instance.reference===be.currentTarget})).content;xn(Te)}}}}]):jn,render:function render(){return{popper:Pn.container}}}));var $n=[Mt].concat(pt?[pt.type]:[]);return ec((function(){var be=Mt;Mt&&Mt.hasOwnProperty("current")&&(be=Mt.current);var Te=_e(be||Pn.ref||ssrSafeCreateDiv(),Object.assign({},Fn,{plugins:[rc].concat(Ln.plugins||[])}));return Pn.instance=Te,Ft&&Te.disable(),xt&&Te.show(),$t&&Tt.hook({instance:Te,content:vt,props:Fn}),Yt(!0),function(){Te.destroy(),null==Tt||Tt.cleanup(Te)}}),$n),ec((function(){if(1!==Pn.renders){var _e=Pn.instance;_e.setProps(deepPreserveProps(_e.props,Fn)),Ft?_e.disable():_e.enable(),Wt&&(xt?_e.show():_e.hide()),$t&&Tt.hook({instance:_e,content:vt,props:Fn})}else Pn.renders++})),ec((function(){var _e;if(It){var be=Pn.instance;be.setProps({popperOptions:Object.assign({},be.props.popperOptions,{modifiers:[].concat((null==(_e=be.props.popperOptions)?void 0:_e.modifiers)||[],[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function fn(_e){var be,Te=_e.state,Pe=null==(be=Te.modifiersData)?void 0:be.hide;an.placement===Te.placement&&an.referenceHidden===(null==Pe?void 0:Pe.isReferenceHidden)&&an.escaped===(null==Pe?void 0:Pe.hasPopperEscaped)||cn({placement:Te.placement,referenceHidden:null==Pe?void 0:Pe.isReferenceHidden,escaped:null==Pe?void 0:Pe.hasPopperEscaped}),Te.attributes.popper={}}}])})})}}),[an.placement,an.referenceHidden,an.escaped].concat($n)),Te.createElement(Te.Fragment,null,pt?(0,Te.cloneElement)(pt,{ref:function ref(_e){Pn.ref=_e,preserveRef(pt.ref,_e)}}):null,Jt&&(0,be.createPortal)(It?It(toDataAttributes(an),pn):vt,Pn.container))}}var forwardRef=function(_e,be){return(0,Te.forwardRef)((function TippyWrapper(Pe,pt){var vt=Pe.children,xt=tippy_react_esm_objectWithoutPropertiesLoose(Pe,["children"]);return Te.createElement(_e,Object.assign({},be,xt),vt?(0,Te.cloneElement)(vt,{ref:function ref(_e){preserveRef(pt,_e),preserveRef(vt.ref,_e)}}):null)}))},oc=forwardRef(TippyGenerator(Yu));var dc=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.borderRadius,pt=_e.fontSize;return{tooltip:{"&.tippy-box":{transitionProperty:[["opacity"]],'&[data-state="hidden"]':{opacity:0}},"& .tippy-content":{padding:be[0],border:"1px "+Te.border+" solid",borderRadius:Pe,background:Te.baseBackground,boxShadow:[[0,2,4,"rgba(0,0,0,.15)"]],fontSize:pt.small,color:Te.type}}}}))((function TooltipRenderer(_e){var be=_e.classes,Pe=_e.children,pt=_e.content,vt=_e.placement,xt=void 0===vt?"top":vt;return Te.createElement(oc,{content:pt,className:be.tooltip,interactive:!0,placement:xt,trigger:"click mouseenter focus",arrow:!1},Te.createElement("span",{role:"button",tabIndex:0},Pe))}));var hc=(0,vt.Z)((function styles(_e){return{complexType:{alignItems:"center",display:"inline-flex"},name:{flexShrink:0},icon:{marginLeft:_e.space[0],flexShrink:0}}}))((function ComplexTypeRenderer(_e){var be=_e.classes,Pe=_e.name,pt=_e.raw;return Te.createElement(dc,{placement:"right",content:pt},Te.createElement("span",{className:be.complexType},Te.createElement("span",{className:be.name},Te.createElement(Zr.Z,null,Pe)),Te.createElement(MdInfoOutline,{className:be.icon})))})),gc=__webpack_require__(11193);function renderType(_e){if(!_e)return"unknown";var be=_e.name;switch(be){case"arrayOf":return _e.value.name+"[]";case"objectOf":return"{"+renderType(_e.value)+"}";case"instanceOf":return _e.value;default:return be}}function renderAdvancedType(_e){switch(_e.name){case"enum":return Te.createElement(qs,null,_e.name);case"literal":return Te.createElement(qs,null,_e.value);case"signature":return Te.createElement(hc,{name:_e.type,raw:_e.raw});case"union":case"tuple":return Te.createElement(hc,{name:_e.name,raw:_e.raw});default:return Te.createElement(qs,null,_e.raw||_e.name)}}var fc=__webpack_require__(17749);function renderEnum(_e){if(!Array.isArray(_e.value))return Te.createElement("span",null,_e.value);var be=_e.value.map((function(_e){var be=_e.value;return Te.createElement(xo.Z,{key:be},(0,gc.xC)((0,gc.I8)(be)))}));return Te.createElement("span",null,"One of: ",Te.createElement($s(),{separator:", "},be))}function renderUnion(_e){if(!Array.isArray(_e.value))return Te.createElement("span",null,_e.value);var be=_e.value.map((function(_e,be){return Te.createElement(qs,{key:_e.name+"-"+be},renderType(_e))}));return Te.createElement("span",null,"One of type: ",Te.createElement($s(),{separator:", "},be))}function renderShape(_e){return Object.keys(_e).map((function(be){var Pe=_e[be],pt=(0,fc.Z)(Pe),vt=Pe.description;return Te.createElement("div",{key:be},Te.createElement(Us,null,be),": ",Te.createElement(qs,null,renderType(Pe)),pt&&" — ",pt,vt&&" — ",vt&&Te.createElement(Ns,{text:vt,inline:!0}))}))}function renderExtra(_e){var be=(0,gc.oL)(_e);if(!be)return null;switch(be.name){case"enum":return renderEnum(be);case"union":return renderUnion(be);case"shape":case"exact":return _e.type&&renderShape(_e.type.value);case"arrayOf":case"objectOf":return"shape"===be.value.name||"exact"===be.value.name?_e.type&&renderShape(_e.type.value.value):null;default:return null}}function PropsRenderer_extends(){return(PropsRenderer_extends=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}function getRowKey(_e){return _e.name}var Rc=[{caption:"Prop name",render:function renderName(_e){var be=_e.name,Pe=_e.tags,pt=void 0===Pe?{}:Pe;return Te.createElement(Us,{deprecated:!!pt.deprecated},be)}},{caption:"Type",render:function renderTypeColumn(_e){var be=(0,gc.oL)(_e);return be?_e.flowType||_e.tsType?renderAdvancedType(be):Te.createElement(qs,null,renderType(be)):null}},{caption:"Default",render:fc.Z},{caption:"Description",render:function renderDescription(_e){var be=_e.description,Pe=_e.tags,pt=void 0===Pe?{}:Pe,vt=renderExtra(_e),xt=[].concat(pt.arg||[],pt.argument||[],pt.param||[]),Tt=pt.return&&pt.return[0]||pt.returns&&pt.returns[0];return Te.createElement("div",null,be&&Te.createElement(Ns,{text:be}),vt&&Te.createElement(Wr,null,vt),Te.createElement(JsDoc,pt),xt.length>0&&Te.createElement(td,{args:xt,heading:!0}),Tt&&Te.createElement(Js,PropsRenderer_extends({},Object.assign({},Tt,{name:""}),{returns:!0})))}}],kc=function PropsRenderer(_e){var be=_e.props;return Te.createElement(Ed,{columns:Rc,rows:be,getRowKey:getRowKey})};kc.propTypes={props:pt().array.isRequired};var Pc=kc;function MethodsRenderer_extends(){return(MethodsRenderer_extends=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}var Ic=function getRowKey(_e){return _e.name},Lc=[{caption:"Method name",render:function render(_e){var be=_e.name,Pe=_e.tags,pt=void 0===Pe?{}:Pe;return Te.createElement(Us,{deprecated:!!pt.deprecated},be+"()")}},{caption:"Parameters",render:function render(_e){var be=_e.params,Pe=void 0===be?[]:be;return Te.createElement(td,{args:Pe})}},{caption:"Description",render:function render(_e){var be=_e.description,Pe=_e.returns,pt=_e.tags,vt=void 0===pt?{}:pt;return Te.createElement("div",null,be&&Te.createElement(Ns,{text:be}),Pe&&Te.createElement(Js,MethodsRenderer_extends({block:!0,returns:!0},Pe)),Te.createElement(JsDoc,vt))}}],Fc=function MethodsRenderer(_e){var be=_e.methods;return Te.createElement(Ed,{columns:Lc,rows:be,getRowKey:Ic})};Fc.propTypes={methods:pt().arrayOf(pt().shape({name:pt().string.isRequired,description:pt().string,returns:pt().object,params:pt().array,tags:pt().object}).isRequired).isRequired};var jc=Fc,Nc=__webpack_require__(41609),Gc=__webpack_require__.n(Nc),qc=function Usage(_e){var be=_e.props,Pe=be.props,pt=be.methods,vt=Pe&&!Gc()(Pe)&&Te.createElement(Pc,{props:Pe}),xt=pt&&!Gc()(pt)&&Te.createElement(jc,{methods:pt});return vt||xt?Te.createElement("div",null,vt,xt):null};qc.propTypes={props:pt().shape({props:pt().array,methods:pt().array}).isRequired};var Hc=qc,Kc=function ToolbarButtonRenderer(_e){var be,Pe=_e.classes,pt=_e.className,vt=_e.onClick,xt=_e.href,Tt=_e.title,It=_e.small,Mt=_e.testId,Lt=_e.children,Ft=(0,Nr.Z)(Pe.button,pt,((be={})[Pe.isSmall]=It,be));return void 0!==xt?Te.createElement("a",{href:xt,title:Tt,className:Ft,"aria-label":Tt,"data-testid":Mt},Lt):Te.createElement("button",{type:"button",onClick:vt,title:Tt,className:Ft,"aria-label":Tt},Lt)};Kc.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,className:pt().string,href:pt().string,onClick:pt().func,title:pt().string,small:pt().bool,testId:pt().string,children:pt().node};var nh=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color;return{button:{padding:2,color:Te.light,background:"transparent",transition:"color 750ms ease-out",cursor:"pointer","&:hover, &:focus":{isolate:!1,color:Te.linkHover,transition:"color 150ms ease-in"},"&:focus":{isolate:!1,outline:[[1,"dotted",Te.linkHover]]},"& + &":{isolate:!1,marginLeft:be[1]},"& svg":{width:be[3],height:be[3],color:"currentColor",cursor:"inherit"}},isSmall:{"& svg":{width:14,height:14}}}}))(Kc);__webpack_require__(15306),__webpack_require__(15218);function getCurrentHashPath(_e,be,Te){return/^#[a-zA-Z0-9_]/.test(Te)?"":Te&&!/^#!\//.test(Te)?Te.replace(_e,"").replace(be,"")+"/":""}function buildIsolatedOrNoChromeFragment(_e){var be=_e.currentHash,Te=_e.encodedName;return"#!/"+getCurrentHashPath(/^#\/?/,/\/$/,be)+Te}function getUrl(_e,be){var Te=void 0===_e?{}:_e,Pe=Te.name,pt=Te.slug,vt=Te.example,xt=Te.anchor,Tt=Te.isolated,It=Te.nochrome,Mt=Te.absolute,Lt=Te.hashPath,Ft=Te.useSlugAsIdParam,Ot=Te.takeHash,Vt=void 0===be?window.location:be,qt=Vt.origin,Wt=Vt.pathname,$t=Vt.hash,Kt=void 0===$t?"":$t,Jt=Wt,Yt=Kt.indexOf("?")>-1?Kt.substring(0,Kt.indexOf("?")):Kt;Ot&&(Jt+=Yt),It&&(Jt+="?nochrome");var Qt=encodeURIComponent(Pe||"");if(xt?Jt+="#"+pt:(Tt||It)&&(Jt+=buildIsolatedOrNoChromeFragment({currentHash:Yt,encodedName:Qt})),Lt){var an=Lt.map(encodeURIComponent);Ft||(an=[].concat(an,[Qt])),Jt+="#/"+an.join("/")}return Ft&&(Jt+="?id="+pt),void 0!==vt&&(Jt+="/"+vt),Mt?qt+Jt:Jt}var hh=function IsolateButton(_e){var be=_e.name,Pe=_e.example,pt=_e.isolated,vt=_e.href;if(pt&&!vt)return null;var xt=Pe?be+"-"+Pe+"-isolate-button":be+"-isolate-button";return pt?Te.createElement(nh,{href:vt,title:"Show all components",testId:xt},Te.createElement(MdFullscreenExit,null)):Te.createElement(nh,{href:getUrl({name:be,example:Pe,isolated:!0}),title:"Open isolated",testId:xt},Te.createElement(MdFullscreen,null))};hh.propTypes={name:pt().string.isRequired,example:pt().number,isolated:pt().bool};var Rh=hh,Ch=function TabButtonRenderer(_e){var be,Pe=_e.classes,pt=_e.name,vt=_e.className,xt=_e.onClick,Tt=_e.active,It=_e.children,Mt=(0,Nr.Z)(Pe.button,vt,((be={})[Pe.isActive]=Tt,be));return Te.createElement("button",{type:"button",name:pt,className:Mt,onClick:xt,"aria-pressed":Tt},It)};Ch.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,name:pt().string.isRequired,className:pt().string,onClick:pt().func.isRequired,active:pt().bool,children:pt().node.isRequired},Ch.defaultProps={active:!1};var Dh=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.fontFamily,pt=_e.fontSize,vt=_e.buttonTextTransform;return{button:{padding:[[be[1],0]],fontFamily:Pe.base,fontSize:pt.base,color:Te.light,background:"transparent",textTransform:vt,transition:"color 750ms ease-out",border:"none",cursor:"pointer","&:hover, &:focus":{isolate:!1,outline:0,color:Te.linkHover,transition:"color 150ms ease-in"},"&:focus:not($isActive)":{isolate:!1,outline:[[1,"dotted",Te.linkHover]]},"& + &":{isolate:!1,marginLeft:be[1]}},isActive:{borderBottom:[[2,Te.linkHover,"solid"]]}}}))(Ch),Ph=function CodeTabButton(_e){return Te.createElement(Dh,_e,"View Code")};Ph.propTypes={onClick:pt().func.isRequired,name:pt().string.isRequired,active:pt().bool};var Fh=Ph,jh=function UsageTabButton(_e){var be=_e.props;return!Gc()(be.props)||!Gc()(be.methods)?Te.createElement(Dh,_e,"Props & methods"):null};jh.propTypes={onClick:pt().func.isRequired,name:pt().string.isRequired,props:pt().shape({props:pt().array,methods:pt().array}).isRequired,active:pt().bool};var Vh=jh,Yh="rsg-code-editor",sp="rsg-usage",lp=[Rh],up=__webpack_require__(61456);function ComponentsListRenderer_extends(){return(ComponentsListRenderer_extends=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}var mp=function ComponentsListSectionRenderer(_e){var be,Pe=_e.classes,pt=_e.heading,vt=_e.visibleName,xt=_e.href,Tt=_e.content,It=_e.shouldOpenInNewTab,Mt=_e.selected,Lt=_e.initialOpen,Ft=_e.forcedOpen,Ot="collapse"!==(0,up.E)().config.tocMode?[!0,function(){}]:Te.useState(!!Lt),Vt=Ot[0],qt=Ot[1];return Te.createElement("li",{className:(0,Nr.Z)(Pe.item,(be={},be[Pe.isChild]=!Tt&&!It,be[Pe.isSelected]=Mt,be)),key:xt},Te.createElement(Gr,{className:(0,Nr.Z)(pt&&Pe.heading),href:xt,onClick:function onClick(){return qt(!Vt)},target:It?"_blank":void 0,"data-testid":"rsg-toc-link"},vt),Vt||Ft?Tt:null)},_p=function ComponentsListRenderer(_e){var be=_e.classes,Pe=_e.items;return Te.createElement("ul",{className:be.list},Pe.map((function(_e){return Te.createElement(mp,ComponentsListRenderer_extends({key:_e.slug,classes:be},_e))})))};_p.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,items:pt().array.isRequired};var Rp=(0,vt.Z)((function styles(_e){var be,Te=_e.color,Pe=_e.fontFamily,pt=_e.fontSize,vt=_e.space,xt=_e.mq;return{list:{margin:0,paddingLeft:vt[2]},item:{color:Te.base,display:"block",margin:[[vt[1],0,vt[1],0]],fontFamily:Pe.base,fontSize:pt.base,listStyle:"none",overflow:"hidden",textOverflow:"ellipsis"},isChild:(be={},be[xt.small]={display:"inline-block",margin:[[0,vt[1],0,0]]},be),heading:{color:Te.base,marginTop:vt[1],fontFamily:Pe.base,fontWeight:"bold"},isSelected:{fontWeight:"bold"}}}))(_p),wp=function ComponentsList(_e){var be=_e.items.filter((function(_e){return _e.visibleName}));return be.length>0?Te.createElement(Rp,{items:be}):null};wp.propTypes={items:pt().array.isRequired};var Dp=wp,Pp=function TableOfContentsRenderer(_e){var be=_e.classes,Pe=_e.children,pt=_e.searchTerm,vt=_e.onSearchTermChange;return Te.createElement("div",null,Te.createElement("div",{className:be.root},Te.createElement("nav",null,Te.createElement("div",{className:be.search},Te.createElement("input",{value:pt,className:be.input,placeholder:"Filter by name","aria-label":"Filter by name",onChange:function onChange(_e){return vt(_e.target.value)}})),Pe)))};Pp.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,children:pt().node,searchTerm:pt().string.isRequired,onSearchTermChange:pt().func.isRequired};var Mp=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.fontFamily,pt=_e.fontSize,vt=_e.borderRadius;return{root:{fontFamily:Pe.base},search:{padding:be[2]},input:{display:"block",width:"100%",padding:be[1],color:Te.base,backgroundColor:Te.baseBackground,fontFamily:Pe.base,fontSize:pt.base,border:[[1,Te.border,"solid"]],borderRadius:vt,transition:"all ease-in-out .1s","&:focus":{isolate:!1,borderColor:Te.link,boxShadow:[[0,0,0,2,Te.focus]],outline:0},"&::placeholder":{isolate:!1,fontFamily:Pe.base,fontSize:pt.base,color:Te.light}}}}))(Pp);__webpack_require__(24603),__webpack_require__(23123);function getFilterRegExp(_e){return _e=_e.replace(/[^a-z0-9]/gi,"").split("").join(".*"),new RegExp(_e,"i")}function filterComponentsByName(_e,be){var Te=getFilterRegExp(be);return _e.filter((function(_e){var be=_e.name;return Te.test(be)}))}function filterSectionsByName(_e,be){var Te=getFilterRegExp(be);return _e.map((function(_e){return Object.assign({},_e,{sections:_e.sections?filterSectionsByName(_e.sections,be):[],components:_e.components?filterComponentsByName(_e.components,be):[]})})).filter((function(_e){return _e.components.length>0||_e.sections.length>0||Te.test(_e.name||"-")}))}var Lp=__webpack_require__(3522),Fp=__webpack_require__.n(Lp),Op=/(.*)\?/;function trimHash(_e,be){if(!_e)return"";var Te=new RegExp("^"+Fp()(be||"#/"),"g");return _e.replace(Te,"")}var jp=function trimParams(_e){var be=Op.exec(_e);return be&&be[1]||_e},Np=function hasInHash(_e,be){return""!==_e&&_e.indexOf(be)>-1},Vp=function getHash(_e,be){return decodeURIComponent(jp(trimHash(_e,be)))},Up=function getHashAsArray(_e,be){return jp(trimHash(_e,be)).split("/").map(decodeURIComponent)},$p=function getParameterByName(_e,be){be=be.replace(/[[\]]/g,"\\$&");var Te=new RegExp("[?&]"+be+"(=([^&#]*)|&|#|$)").exec(_e);return Te?Te[2]?decodeURIComponent(Te[2].replace(/\+/g," ")):"":null};function TableOfContents_assertThisInitialized(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function TableOfContents_defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}var eg=function(_e){var be,Pe;Pe=_e,(be=TableOfContents).prototype=Object.create(Pe.prototype),be.prototype.constructor=be,be.__proto__=Pe;var pt;pt=TableOfContents;function TableOfContents(){for(var be,Te=arguments.length,Pe=new Array(Te),pt=0;pt<Te;pt++)Pe[pt]=arguments[pt];return TableOfContents_defineProperty(TableOfContents_assertThisInitialized(be=_e.call.apply(_e,[this].concat(Pe))||this),"state",{searchTerm:""}),be}var vt=TableOfContents.prototype;return vt.renderLevel=function renderLevel(_e,be,Pe,pt){var vt=this;void 0===be&&(be=!1),void 0===Pe&&(Pe=[]),void 0===pt&&(pt=!1);var xt=this.props.loc,Tt=xt.hash,It=xt.pathname+(be?Tt:Vp(Tt)),Mt=!1,Lt=_e.map((function(_e){var Te=[].concat(_e.sections||[],_e.components||[]),xt=_e.sectionDepth||0,Tt=0===xt&&pt?Pe:[].concat(Pe,[_e.name?_e.name:"-"]),Lt=Te.length>0?vt.renderLevel(Te,be,Tt,0===xt):{content:void 0,containsSelected:!1},Ft=Lt.content,Ot=Lt.containsSelected,Vt=(!be&&_e.href?Vp(_e.href):_e.href)===It;return(Ot||Vt)&&(Mt=!0),Object.assign({},_e,{heading:!!_e.name&&Te.length>0,content:Ft,selected:Vt,shouldOpenInNewTab:!!_e.external&&!!_e.externalLink,initialOpen:"collapse"!==vt.props.tocMode||Ot||_e.expand,forcedOpen:!!vt.state.searchTerm.length})}));return{content:Te.createElement(Dp,{items:Lt}),containsSelected:Mt}},vt.renderSections=function renderSections(){var _e=this.state.searchTerm,be=this.props,Te=be.sections,Pe=be.useRouterLinks,pt=1===Te.length?Te[0].sections&&Te[0].sections.length?Te[0].sections:Te[0].components:Te,vt=pt?filterSectionsByName(pt,_e):pt||[];return this.renderLevel(vt,Pe).content},vt.render=function render(){var _e=this;return Te.createElement(Mp,{searchTerm:this.state.searchTerm,onSearchTermChange:function handleSearchTermChange(be){return _e.setState({searchTerm:be})}},this.renderSections())},TableOfContents}(Te.Component);TableOfContents_defineProperty(eg,"propTypes",{sections:pt().array.isRequired,useRouterLinks:pt().bool,tocMode:pt().string,loc:pt().object}),TableOfContents_defineProperty(eg,"defaultProps",{loc:window.location});var ng=(0,vt.Z)((function styles(_e){var be=_e.color,Te=_e.fontFamily,Pe=_e.fontSize;return{logo:{color:be.base,margin:0,fontFamily:Te.base,fontSize:Pe.h4,fontWeight:"normal"}}}))((function LogoRenderer(_e){var be=_e.classes,Pe=_e.children;return Te.createElement("h1",{className:be.logo},Pe)})),rg=function RibbonRenderer(_e){var be=_e.classes,Pe=_e.url,pt=_e.text;return Te.createElement("footer",{className:be.root},Te.createElement("a",{href:Pe,className:be.link},pt))};rg.defaultProps={text:"Fork me on GitHub"},rg.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,url:pt().string.isRequired,text:pt().string};var og=(0,vt.Z)((function styles(_e){var be=_e.color,Te=_e.space,Pe=_e.fontSize;return{root:{position:"fixed",top:0,right:0,width:149,height:149,zIndex:999},link:{fontFamily:_e.fontFamily.base,position:"relative",right:-37,top:-22,display:"block",width:190,padding:[[Te[0],Te[2]]],textAlign:"center",color:be.ribbonText,fontSize:Pe.base,background:be.ribbonBackground,textDecoration:"none",textShadow:[[0,"-1px",0,"rgba(0,0,0,.15)"]],transformOrigin:[[0,0]],transform:"rotate(45deg)",cursor:"pointer"}}}))(rg);function Ribbon(){var _e=(0,up.E)().config.ribbon;return _e?Te.createElement(og,_e):null}var sg=function VersionRenderer(_e){var be=_e.classes,Pe=_e.children;return Te.createElement("p",{"aria-label":"version",className:be.version},Pe)};sg.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,children:pt().node};var lg=(0,vt.Z)((function styles(_e){var be=_e.color,Te=_e.fontFamily,Pe=_e.fontSize;return{version:{color:be.light,margin:[[5,0,0,0]],fontFamily:Te.base,fontSize:Pe.base,fontWeight:"normal"}}}))(sg),pg=function StyleGuideRenderer(_e){var be=_e.classes,Pe=_e.title,pt=_e.version,vt=_e.homepageUrl,xt=_e.children,Tt=_e.toc,It=_e.hasSidebar;return Te.createElement("div",{className:(0,Nr.Z)(be.root,It&&be.hasSidebar)},Te.createElement("main",{className:be.content},xt,Te.createElement("footer",{className:be.footer},Te.createElement(Ns,{text:"Created with [React Styleguidist]("+vt+")"}))),It&&Te.createElement("div",{className:be.sidebar,"data-testid":"sidebar"},Te.createElement("header",{className:be.logo},Te.createElement(ng,null,Pe),pt&&Te.createElement(lg,null,pt)),Tt),Te.createElement(Ribbon,null))};pg.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,title:pt().string.isRequired,version:pt().string,homepageUrl:pt().string.isRequired,children:pt().node.isRequired,toc:pt().node.isRequired,hasSidebar:pt().bool};var gg=(0,vt.Z)((function styles(_e){var be,Te,Pe,pt=_e.color,vt=_e.fontFamily,xt=_e.fontSize,Tt=_e.sidebarWidth,It=_e.mq,Mt=_e.space,Lt=_e.maxWidth;return{root:{minHeight:"100vh",backgroundColor:pt.baseBackground},hasSidebar:(be={paddingLeft:Tt},be[It.small]={paddingLeft:0},be),content:(Te={maxWidth:Lt,padding:[[Mt[2],Mt[4]]],margin:[[0,"auto"]]},Te[It.small]={padding:Mt[2]},Te.display="block",Te),sidebar:(Pe={backgroundColor:pt.sidebarBackground,border:[[pt.border,"solid"]],borderWidth:[[0,1,0,0]],position:"fixed",top:0,left:0,bottom:0,width:Tt,overflow:"auto",WebkitOverflowScrolling:"touch"},Pe[It.small]={position:"static",width:"auto",borderWidth:[[1,0,0,0]],paddingBottom:Mt[0]},Pe),logo:{padding:Mt[2],borderBottom:[[1,pt.border,"solid"]]},footer:{display:"block",color:pt.light,fontFamily:vt.base,fontSize:xt.small}}}))(pg),fg=__webpack_require__(23279),mg=__webpack_require__.n(fg),yg=function PlaygroundErrorRenderer(_e){var be=_e.classes,Pe=_e.message;return Te.createElement("pre",{className:be.root},Pe)};yg.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,message:pt().string.isRequired};var _g=(0,vt.Z)((function styles(_e){var be=_e.fontFamily,Te=_e.fontSize,Pe=_e.color;return{root:{margin:0,lineHeight:1.2,fontSize:Te.small,fontFamily:be.monospace,color:Pe.error,whiteSpace:"pre-wrap"}}}))(yg);var xg=function(_e){var be,Te;Te=_e,(be=Wrapper).prototype=Object.create(Te.prototype),be.prototype.constructor=be,be.__proto__=Te;var Pe;Pe=Wrapper;function Wrapper(){return _e.apply(this,arguments)||this}var pt=Wrapper.prototype;return pt.componentDidCatch=function componentDidCatch(_e){this.props.onError(_e)},pt.render=function render(){return this.props.children},Wrapper}(Te.Component);!function Wrapper_defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}(xg,"propTypes",{children:pt().node.isRequired,onError:pt().func.isRequired});__webpack_require__(4723),__webpack_require__(73210);for(var kg=__webpack_require__(63230),Pg=__webpack_require__(55977),Mg=__webpack_require__.n(Pg),Og=__webpack_require__(16018),zg={},Ng="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ug=0;Ug<Ng.length;Ug++)zg[Ng.charCodeAt(Ug)]=Ug;function encode(_e){for(var be=0,Te=0,Pe=0,pt=0,vt="",xt=0;xt<_e.length;xt++){var Tt=_e[xt];if(xt>0&&(vt+=";"),0!==Tt.length){for(var It=0,Mt=[],Lt=0,Ft=Tt;Lt<Ft.length;Lt++){var Ot=Ft[Lt],Vt=encodeInteger(Ot[0]-It);It=Ot[0],Ot.length>1&&(Vt+=encodeInteger(Ot[1]-be)+encodeInteger(Ot[2]-Te)+encodeInteger(Ot[3]-Pe),be=Ot[1],Te=Ot[2],Pe=Ot[3]),5===Ot.length&&(Vt+=encodeInteger(Ot[4]-pt),pt=Ot[4]),Mt.push(Vt)}vt+=Mt.join(",")}}return vt}function encodeInteger(_e){var be="";_e=_e<0?-_e<<1|1:_e<<1;do{var Te=31&_e;(_e>>>=5)>0&&(Te|=32),be+=Ng[Te]}while(_e>0);return be}var qg=function BitSet(_e){this.bits=_e instanceof BitSet?_e.bits.slice():[]};qg.prototype.add=function add(_e){this.bits[_e>>5]|=1<<(31&_e)},qg.prototype.has=function has(_e){return!!(this.bits[_e>>5]&1<<(31&_e))};var Wg=function Chunk(_e,be,Te){this.start=_e,this.end=be,this.original=Te,this.intro="",this.outro="",this.content=Te,this.storeName=!1,this.edited=!1,Object.defineProperties(this,{previous:{writable:!0,value:null},next:{writable:!0,value:null}})};Wg.prototype.appendLeft=function appendLeft(_e){this.outro+=_e},Wg.prototype.appendRight=function appendRight(_e){this.intro=this.intro+_e},Wg.prototype.clone=function clone(){var _e=new Wg(this.start,this.end,this.original);return _e.intro=this.intro,_e.outro=this.outro,_e.content=this.content,_e.storeName=this.storeName,_e.edited=this.edited,_e},Wg.prototype.contains=function contains(_e){return this.start<_e&&_e<this.end},Wg.prototype.eachNext=function eachNext(_e){for(var be=this;be;)_e(be),be=be.next},Wg.prototype.eachPrevious=function eachPrevious(_e){for(var be=this;be;)_e(be),be=be.previous},Wg.prototype.edit=function edit(_e,be,Te){return this.content=_e,Te||(this.intro="",this.outro=""),this.storeName=be,this.edited=!0,this},Wg.prototype.prependLeft=function prependLeft(_e){this.outro=_e+this.outro},Wg.prototype.prependRight=function prependRight(_e){this.intro=_e+this.intro},Wg.prototype.split=function split(_e){var be=_e-this.start,Te=this.original.slice(0,be),Pe=this.original.slice(be);this.original=Te;var pt=new Wg(_e,this.end,Pe);return pt.outro=this.outro,this.outro="",this.end=_e,this.edited?(pt.edit("",!1),this.content=""):this.content=Te,pt.next=this.next,pt.next&&(pt.next.previous=pt),pt.previous=this,this.next=pt,pt},Wg.prototype.toString=function toString(){return this.intro+this.content+this.outro},Wg.prototype.trimEnd=function trimEnd(_e){if(this.outro=this.outro.replace(_e,""),this.outro.length)return!0;var be=this.content.replace(_e,"");return be.length?(be!==this.content&&this.split(this.start+be.length).edit("",void 0,!0),!0):(this.edit("",void 0,!0),this.intro=this.intro.replace(_e,""),!!this.intro.length||void 0)},Wg.prototype.trimStart=function trimStart(_e){if(this.intro=this.intro.replace(_e,""),this.intro.length)return!0;var be=this.content.replace(_e,"");return be.length?(be!==this.content&&(this.split(this.end-be.length),this.edit("",void 0,!0)),!0):(this.edit("",void 0,!0),this.outro=this.outro.replace(_e,""),!!this.outro.length||void 0)};var btoa=function(){throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")};"undefined"!=typeof window&&"function"==typeof window.btoa?btoa=function(_e){return window.btoa(unescape(encodeURIComponent(_e)))}:"function"==typeof Buffer&&(btoa=function(_e){return Buffer.from(_e,"utf-8").toString("base64")});var $g=function SourceMap(_e){this.version=3,this.file=_e.file,this.sources=_e.sources,this.sourcesContent=_e.sourcesContent,this.names=_e.names,this.mappings=encode(_e.mappings)};function guessIndent(_e){var be=_e.split("\n"),Te=be.filter((function(_e){return/^\t+/.test(_e)})),Pe=be.filter((function(_e){return/^ {2,}/.test(_e)}));if(0===Te.length&&0===Pe.length)return null;if(Te.length>=Pe.length)return"\t";var pt=Pe.reduce((function(_e,be){var Te=/^ +/.exec(be)[0].length;return Math.min(Te,_e)}),1/0);return new Array(pt+1).join(" ")}function getRelativePath(_e,be){var Te=_e.split(/[/\\]/),Pe=be.split(/[/\\]/);for(Te.pop();Te[0]===Pe[0];)Te.shift(),Pe.shift();if(Te.length)for(var pt=Te.length;pt--;)Te[pt]="..";return Te.concat(Pe).join("/")}$g.prototype.toString=function toString(){return JSON.stringify(this)},$g.prototype.toUrl=function toUrl(){return"data:application/json;charset=utf-8;base64,"+btoa(this.toString())};var Kg=Object.prototype.toString;function isObject(_e){return"[object Object]"===Kg.call(_e)}function getLocator(_e){for(var be=_e.split("\n"),Te=[],Pe=0,pt=0;Pe<be.length;Pe++)Te.push(pt),pt+=be[Pe].length+1;return function locate(_e){for(var be=0,Pe=Te.length;be<Pe;){var pt=be+Pe>>1;_e<Te[pt]?Pe=pt:be=pt+1}var vt=be-1;return{line:vt,column:_e-Te[vt]}}}var af=function Mappings(_e){this.hires=_e,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null};af.prototype.addEdit=function addEdit(_e,be,Te,Pe){if(be.length){var pt=[this.generatedCodeColumn,_e,Te.line,Te.column];Pe>=0&&pt.push(Pe),this.rawSegments.push(pt)}else this.pending&&this.rawSegments.push(this.pending);this.advance(be),this.pending=null},af.prototype.addUneditedChunk=function addUneditedChunk(_e,be,Te,Pe,pt){for(var vt=be.start,xt=!0;vt<be.end;)(this.hires||xt||pt.has(vt))&&this.rawSegments.push([this.generatedCodeColumn,_e,Pe.line,Pe.column]),"\n"===Te[vt]?(Pe.line+=1,Pe.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,xt=!0):(Pe.column+=1,this.generatedCodeColumn+=1,xt=!1),vt+=1;this.pending=null},af.prototype.advance=function advance(_e){if(_e){var be=_e.split("\n");if(be.length>1){for(var Te=0;Te<be.length-1;Te++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=be[be.length-1].length}};var of="\n",df={insertLeft:!1,insertRight:!1,storeName:!1},cf=function MagicString(_e,be){void 0===be&&(be={});var Te=new Wg(0,_e.length,_e);Object.defineProperties(this,{original:{writable:!0,value:_e},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:Te},lastChunk:{writable:!0,value:Te},lastSearchedChunk:{writable:!0,value:Te},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:be.filename},indentExclusionRanges:{writable:!0,value:be.indentExclusionRanges},sourcemapLocations:{writable:!0,value:new qg},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:guessIndent(_e)}}),this.byStart[0]=Te,this.byEnd[_e.length]=Te};cf.prototype.addSourcemapLocation=function addSourcemapLocation(_e){this.sourcemapLocations.add(_e)},cf.prototype.append=function append(_e){if("string"!=typeof _e)throw new TypeError("outro content must be a string");return this.outro+=_e,this},cf.prototype.appendLeft=function appendLeft(_e,be){if("string"!=typeof be)throw new TypeError("inserted content must be a string");this._split(_e);var Te=this.byEnd[_e];return Te?Te.appendLeft(be):this.intro+=be,this},cf.prototype.appendRight=function appendRight(_e,be){if("string"!=typeof be)throw new TypeError("inserted content must be a string");this._split(_e);var Te=this.byStart[_e];return Te?Te.appendRight(be):this.outro+=be,this},cf.prototype.clone=function clone(){for(var _e=new cf(this.original,{filename:this.filename}),be=this.firstChunk,Te=_e.firstChunk=_e.lastSearchedChunk=be.clone();be;){_e.byStart[Te.start]=Te,_e.byEnd[Te.end]=Te;var Pe=be.next,pt=Pe&&Pe.clone();pt&&(Te.next=pt,pt.previous=Te,Te=pt),be=Pe}return _e.lastChunk=Te,this.indentExclusionRanges&&(_e.indentExclusionRanges=this.indentExclusionRanges.slice()),_e.sourcemapLocations=new qg(this.sourcemapLocations),_e.intro=this.intro,_e.outro=this.outro,_e},cf.prototype.generateDecodedMap=function generateDecodedMap(_e){var be=this;_e=_e||{};var Te=Object.keys(this.storedNames),Pe=new af(_e.hires),pt=getLocator(this.original);return this.intro&&Pe.advance(this.intro),this.firstChunk.eachNext((function(_e){var vt=pt(_e.start);_e.intro.length&&Pe.advance(_e.intro),_e.edited?Pe.addEdit(0,_e.content,vt,_e.storeName?Te.indexOf(_e.original):-1):Pe.addUneditedChunk(0,_e,be.original,vt,be.sourcemapLocations),_e.outro.length&&Pe.advance(_e.outro)})),{file:_e.file?_e.file.split(/[/\\]/).pop():null,sources:[_e.source?getRelativePath(_e.file||"",_e.source):null],sourcesContent:_e.includeContent?[this.original]:[null],names:Te,mappings:Pe.raw}},cf.prototype.generateMap=function generateMap(_e){return new $g(this.generateDecodedMap(_e))},cf.prototype.getIndentString=function getIndentString(){return null===this.indentStr?"\t":this.indentStr},cf.prototype.indent=function indent(_e,be){var Te=/^[^\r\n]/gm;if(isObject(_e)&&(be=_e,_e=void 0),""===(_e=void 0!==_e?_e:this.indentStr||"\t"))return this;var Pe={};(be=be||{}).exclude&&("number"==typeof be.exclude[0]?[be.exclude]:be.exclude).forEach((function(_e){for(var be=_e[0];be<_e[1];be+=1)Pe[be]=!0}));var pt=!1!==be.indentStart,replacer=function(be){return pt?""+_e+be:(pt=!0,be)};this.intro=this.intro.replace(Te,replacer);for(var vt=0,xt=this.firstChunk;xt;){var Tt=xt.end;if(xt.edited)Pe[vt]||(xt.content=xt.content.replace(Te,replacer),xt.content.length&&(pt="\n"===xt.content[xt.content.length-1]));else for(vt=xt.start;vt<Tt;){if(!Pe[vt]){var It=this.original[vt];"\n"===It?pt=!0:"\r"!==It&&pt&&(pt=!1,vt===xt.start?xt.prependRight(_e):(this._splitChunk(xt,vt),(xt=xt.next).prependRight(_e)))}vt+=1}vt=xt.end,xt=xt.next}return this.outro=this.outro.replace(Te,replacer),this},cf.prototype.insert=function insert(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")},cf.prototype.insertLeft=function insertLeft(_e,be){return df.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),df.insertLeft=!0),this.appendLeft(_e,be)},cf.prototype.insertRight=function insertRight(_e,be){return df.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),df.insertRight=!0),this.prependRight(_e,be)},cf.prototype.move=function move(_e,be,Te){if(Te>=_e&&Te<=be)throw new Error("Cannot move a selection inside itself");this._split(_e),this._split(be),this._split(Te);var Pe=this.byStart[_e],pt=this.byEnd[be],vt=Pe.previous,xt=pt.next,Tt=this.byStart[Te];if(!Tt&&pt===this.lastChunk)return this;var It=Tt?Tt.previous:this.lastChunk;return vt&&(vt.next=xt),xt&&(xt.previous=vt),It&&(It.next=Pe),Tt&&(Tt.previous=pt),Pe.previous||(this.firstChunk=pt.next),pt.next||(this.lastChunk=Pe.previous,this.lastChunk.next=null),Pe.previous=It,pt.next=Tt||null,It||(this.firstChunk=Pe),Tt||(this.lastChunk=pt),this},cf.prototype.overwrite=function overwrite(_e,be,Te,Pe){if("string"!=typeof Te)throw new TypeError("replacement content must be a string");for(;_e<0;)_e+=this.original.length;for(;be<0;)be+=this.original.length;if(be>this.original.length)throw new Error("end is out of bounds");if(_e===be)throw new Error("Cannot overwrite a zero-length range – use appendLeft or prependRight instead");this._split(_e),this._split(be),!0===Pe&&(df.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),df.storeName=!0),Pe={storeName:!0});var pt=void 0!==Pe&&Pe.storeName,vt=void 0!==Pe&&Pe.contentOnly;if(pt){var xt=this.original.slice(_e,be);this.storedNames[xt]=!0}var Tt=this.byStart[_e],It=this.byEnd[be];if(Tt){if(be>Tt.end&&Tt.next!==this.byStart[Tt.end])throw new Error("Cannot overwrite across a split point");if(Tt.edit(Te,pt,vt),Tt!==It){for(var Mt=Tt.next;Mt!==It;)Mt.edit("",!1),Mt=Mt.next;Mt.edit("",!1)}}else{var Lt=new Wg(_e,be,"").edit(Te,pt);It.next=Lt,Lt.previous=It}return this},cf.prototype.prepend=function prepend(_e){if("string"!=typeof _e)throw new TypeError("outro content must be a string");return this.intro=_e+this.intro,this},cf.prototype.prependLeft=function prependLeft(_e,be){if("string"!=typeof be)throw new TypeError("inserted content must be a string");this._split(_e);var Te=this.byEnd[_e];return Te?Te.prependLeft(be):this.intro=be+this.intro,this},cf.prototype.prependRight=function prependRight(_e,be){if("string"!=typeof be)throw new TypeError("inserted content must be a string");this._split(_e);var Te=this.byStart[_e];return Te?Te.prependRight(be):this.outro=be+this.outro,this},cf.prototype.remove=function remove(_e,be){for(;_e<0;)_e+=this.original.length;for(;be<0;)be+=this.original.length;if(_e===be)return this;if(_e<0||be>this.original.length)throw new Error("Character is out of bounds");if(_e>be)throw new Error("end must be greater than start");this._split(_e),this._split(be);for(var Te=this.byStart[_e];Te;)Te.intro="",Te.outro="",Te.edit(""),Te=be>Te.end?this.byStart[Te.end]:null;return this},cf.prototype.lastChar=function lastChar(){if(this.outro.length)return this.outro[this.outro.length-1];var _e=this.lastChunk;do{if(_e.outro.length)return _e.outro[_e.outro.length-1];if(_e.content.length)return _e.content[_e.content.length-1];if(_e.intro.length)return _e.intro[_e.intro.length-1]}while(_e=_e.previous);return this.intro.length?this.intro[this.intro.length-1]:""},cf.prototype.lastLine=function lastLine(){var _e=this.outro.lastIndexOf(of);if(-1!==_e)return this.outro.substr(_e+1);var be=this.outro,Te=this.lastChunk;do{if(Te.outro.length>0){if(-1!==(_e=Te.outro.lastIndexOf(of)))return Te.outro.substr(_e+1)+be;be=Te.outro+be}if(Te.content.length>0){if(-1!==(_e=Te.content.lastIndexOf(of)))return Te.content.substr(_e+1)+be;be=Te.content+be}if(Te.intro.length>0){if(-1!==(_e=Te.intro.lastIndexOf(of)))return Te.intro.substr(_e+1)+be;be=Te.intro+be}}while(Te=Te.previous);return-1!==(_e=this.intro.lastIndexOf(of))?this.intro.substr(_e+1)+be:this.intro+be},cf.prototype.slice=function slice(_e,be){for(void 0===_e&&(_e=0),void 0===be&&(be=this.original.length);_e<0;)_e+=this.original.length;for(;be<0;)be+=this.original.length;for(var Te="",Pe=this.firstChunk;Pe&&(Pe.start>_e||Pe.end<=_e);){if(Pe.start<be&&Pe.end>=be)return Te;Pe=Pe.next}if(Pe&&Pe.edited&&Pe.start!==_e)throw new Error("Cannot use replaced character "+_e+" as slice start anchor.");for(var pt=Pe;Pe;){!Pe.intro||pt===Pe&&Pe.start!==_e||(Te+=Pe.intro);var vt=Pe.start<be&&Pe.end>=be;if(vt&&Pe.edited&&Pe.end!==be)throw new Error("Cannot use replaced character "+be+" as slice end anchor.");var xt=pt===Pe?_e-Pe.start:0,Tt=vt?Pe.content.length+be-Pe.end:Pe.content.length;if(Te+=Pe.content.slice(xt,Tt),!Pe.outro||vt&&Pe.end!==be||(Te+=Pe.outro),vt)break;Pe=Pe.next}return Te},cf.prototype.snip=function snip(_e,be){var Te=this.clone();return Te.remove(0,_e),Te.remove(be,Te.original.length),Te},cf.prototype._split=function _split(_e){if(!this.byStart[_e]&&!this.byEnd[_e])for(var be=this.lastSearchedChunk,Te=_e>be.end;be;){if(be.contains(_e))return this._splitChunk(be,_e);be=Te?this.byStart[be.end]:this.byEnd[be.start]}},cf.prototype._splitChunk=function _splitChunk(_e,be){if(_e.edited&&_e.content.length){var Te=getLocator(this.original)(be);throw new Error("Cannot split a chunk that has already been edited ("+Te.line+":"+Te.column+' – "'+_e.original+'")')}var Pe=_e.split(be);return this.byEnd[be]=_e,this.byStart[be]=Pe,this.byEnd[Pe.end]=Pe,_e===this.lastChunk&&(this.lastChunk=Pe),this.lastSearchedChunk=_e,!0},cf.prototype.toString=function toString(){for(var _e=this.intro,be=this.firstChunk;be;)_e+=be.toString(),be=be.next;return _e+this.outro},cf.prototype.isEmpty=function isEmpty(){var _e=this.firstChunk;do{if(_e.intro.length&&_e.intro.trim()||_e.content.length&&_e.content.trim()||_e.outro.length&&_e.outro.trim())return!1}while(_e=_e.next);return!0},cf.prototype.length=function length(){var _e=this.firstChunk,length=0;do{length+=_e.intro.length+_e.content.length+_e.outro.length}while(_e=_e.next);return length},cf.prototype.trimLines=function trimLines(){return this.trim("[\\r\\n]")},cf.prototype.trim=function trim(_e){return this.trimStart(_e).trimEnd(_e)},cf.prototype.trimEndAborted=function trimEndAborted(_e){var be=new RegExp((_e||"\\s")+"+$");if(this.outro=this.outro.replace(be,""),this.outro.length)return!0;var Te=this.lastChunk;do{var Pe=Te.end,pt=Te.trimEnd(be);if(Te.end!==Pe&&(this.lastChunk===Te&&(this.lastChunk=Te.next),this.byEnd[Te.end]=Te,this.byStart[Te.next.start]=Te.next,this.byEnd[Te.next.end]=Te.next),pt)return!0;Te=Te.previous}while(Te);return!1},cf.prototype.trimEnd=function trimEnd(_e){return this.trimEndAborted(_e),this},cf.prototype.trimStartAborted=function trimStartAborted(_e){var be=new RegExp("^"+(_e||"\\s")+"+");if(this.intro=this.intro.replace(be,""),this.intro.length)return!0;var Te=this.firstChunk;do{var Pe=Te.end,pt=Te.trimStart(be);if(Te.end!==Pe&&(Te===this.lastChunk&&(this.lastChunk=Te.next),this.byEnd[Te.end]=Te,this.byStart[Te.next.start]=Te.next,this.byEnd[Te.next.end]=Te.next),pt)return!0;Te=Te.next}while(Te);return!1},cf.prototype.trimStart=function trimStart(_e){return this.trimStartAborted(_e),this};var hf=Object.prototype.hasOwnProperty,gf=function Bundle(_e){void 0===_e&&(_e={}),this.intro=_e.intro||"",this.separator=void 0!==_e.separator?_e.separator:"\n",this.sources=[],this.uniqueSources=[],this.uniqueSourceIndexByFilename={}};gf.prototype.addSource=function addSource(_e){if(_e instanceof cf)return this.addSource({content:_e,filename:_e.filename,separator:this.separator});if(!isObject(_e)||!_e.content)throw new Error("bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`");if(["filename","indentExclusionRanges","separator"].forEach((function(be){hf.call(_e,be)||(_e[be]=_e.content[be])})),void 0===_e.separator&&(_e.separator=this.separator),_e.filename)if(hf.call(this.uniqueSourceIndexByFilename,_e.filename)){var be=this.uniqueSources[this.uniqueSourceIndexByFilename[_e.filename]];if(_e.content.original!==be.content)throw new Error("Illegal source: same filename ("+_e.filename+"), different contents")}else this.uniqueSourceIndexByFilename[_e.filename]=this.uniqueSources.length,this.uniqueSources.push({filename:_e.filename,content:_e.content.original});return this.sources.push(_e),this},gf.prototype.append=function append(_e,be){return this.addSource({content:new cf(_e),separator:be&&be.separator||""}),this},gf.prototype.clone=function clone(){var _e=new gf({intro:this.intro,separator:this.separator});return this.sources.forEach((function(be){_e.addSource({filename:be.filename,content:be.content.clone(),separator:be.separator})})),_e},gf.prototype.generateDecodedMap=function generateDecodedMap(_e){var be=this;void 0===_e&&(_e={});var Te=[];this.sources.forEach((function(_e){Object.keys(_e.content.storedNames).forEach((function(_e){~Te.indexOf(_e)||Te.push(_e)}))}));var Pe=new af(_e.hires);return this.intro&&Pe.advance(this.intro),this.sources.forEach((function(_e,pt){pt>0&&Pe.advance(be.separator);var vt=_e.filename?be.uniqueSourceIndexByFilename[_e.filename]:-1,xt=_e.content,Tt=getLocator(xt.original);xt.intro&&Pe.advance(xt.intro),xt.firstChunk.eachNext((function(be){var pt=Tt(be.start);be.intro.length&&Pe.advance(be.intro),_e.filename?be.edited?Pe.addEdit(vt,be.content,pt,be.storeName?Te.indexOf(be.original):-1):Pe.addUneditedChunk(vt,be,xt.original,pt,xt.sourcemapLocations):Pe.advance(be.content),be.outro.length&&Pe.advance(be.outro)})),xt.outro&&Pe.advance(xt.outro)})),{file:_e.file?_e.file.split(/[/\\]/).pop():null,sources:this.uniqueSources.map((function(be){return _e.file?getRelativePath(_e.file,be.filename):be.filename})),sourcesContent:this.uniqueSources.map((function(be){return _e.includeContent?be.content:null})),names:Te,mappings:Pe.raw}},gf.prototype.generateMap=function generateMap(_e){return new $g(this.generateDecodedMap(_e))},gf.prototype.getIndentString=function getIndentString(){var _e={};return this.sources.forEach((function(be){var Te=be.content.indentStr;null!==Te&&(_e[Te]||(_e[Te]=0),_e[Te]+=1)})),Object.keys(_e).sort((function(be,Te){return _e[be]-_e[Te]}))[0]||"\t"},gf.prototype.indent=function indent(_e){var be=this;if(arguments.length||(_e=this.getIndentString()),""===_e)return this;var Te=!this.intro||"\n"===this.intro.slice(-1);return this.sources.forEach((function(Pe,pt){var vt=void 0!==Pe.separator?Pe.separator:be.separator,xt=Te||pt>0&&/\r?\n$/.test(vt);Pe.content.indent(_e,{exclude:Pe.indentExclusionRanges,indentStart:xt}),Te="\n"===Pe.content.lastChar()})),this.intro&&(this.intro=_e+this.intro.replace(/^[^\n]/gm,(function(be,Te){return Te>0?_e+be:be}))),this},gf.prototype.prepend=function prepend(_e){return this.intro=_e+this.intro,this},gf.prototype.toString=function toString(){var _e=this,be=this.sources.map((function(be,Te){var Pe=void 0!==be.separator?be.separator:_e.separator;return(Te>0?Pe:"")+be.content.toString()})).join("");return this.intro+be},gf.prototype.isEmpty=function isEmpty(){return(!this.intro.length||!this.intro.trim())&&!this.sources.some((function(_e){return!_e.content.isEmpty()}))},gf.prototype.length=function length(){return this.sources.reduce((function(_e,be){return _e+be.content.length()}),this.intro.length)},gf.prototype.trimLines=function trimLines(){return this.trim("[\\r\\n]")},gf.prototype.trim=function trim(_e){return this.trimStart(_e).trimEnd(_e)},gf.prototype.trimStart=function trimStart(_e){var be=new RegExp("^"+(_e||"\\s")+"+");if(this.intro=this.intro.replace(be,""),!this.intro){var Te,Pe=0;do{if(!(Te=this.sources[Pe++]))break}while(!Te.content.trimStartAborted(_e))}return this},gf.prototype.trimEnd=function trimEnd(_e){var be,Te=new RegExp((_e||"\\s")+"+$"),Pe=this.sources.length-1;do{if(!(be=this.sources[Pe--])){this.intro=this.intro.replace(Te,"");break}}while(!be.content.trimEndAborted(_e));return this};var mf=cf,yf=__webpack_require__(11890),Rf=__webpack_require__.n(yf);function toJSON(_e){var be={};return Object.keys(_e).forEach((function(Te){"parent"!==Te&&"program"!==Te&&"keys"!==Te&&"__wrapped"!==Te&&(Array.isArray(_e[Te])?be[Te]=_e[Te].map(toJSON):_e[Te]&&_e[Te].toJSON?be[Te]=_e[Te].toJSON():be[Te]=_e[Te])})),be}var xf=function Node(){};function extractNames(_e){var be=[];return bf[_e.type](be,_e),be}xf.prototype.ancestor=function ancestor(_e){for(var be=this;_e--;)if(!(be=be.parent))return null;return be},xf.prototype.contains=function contains(_e){for(;_e;){if(_e===this)return!0;_e=_e.parent}return!1},xf.prototype.findLexicalBoundary=function findLexicalBoundary(){return this.parent.findLexicalBoundary()},xf.prototype.findNearest=function findNearest(_e){return"string"==typeof _e&&(_e=new RegExp("^"+_e+"$")),_e.test(this.type)?this:this.parent.findNearest(_e)},xf.prototype.unparenthesizedParent=function unparenthesizedParent(){for(var _e=this.parent;_e&&"ParenthesizedExpression"===_e.type;)_e=_e.parent;return _e},xf.prototype.unparenthesize=function unparenthesize(){for(var _e=this;"ParenthesizedExpression"===_e.type;)_e=_e.expression;return _e},xf.prototype.findScope=function findScope(_e){return this.parent.findScope(_e)},xf.prototype.getIndentation=function getIndentation(){return this.parent.getIndentation()},xf.prototype.initialise=function initialise(_e){for(var be=0,Te=this.keys;be<Te.length;be+=1){var Pe=this[Te[be]];Array.isArray(Pe)?Pe.forEach((function(be){return be&&be.initialise(_e)})):Pe&&"object"==typeof Pe&&Pe.initialise(_e)}},xf.prototype.toJSON=function toJSON$1(){return toJSON(this)},xf.prototype.toString=function toString(){return this.program.magicString.original.slice(this.start,this.end)},xf.prototype.transpile=function transpile(_e,be){for(var Te=0,Pe=this.keys;Te<Pe.length;Te+=1){var pt=this[Pe[Te]];Array.isArray(pt)?pt.forEach((function(Te){return Te&&Te.transpile(_e,be)})):pt&&"object"==typeof pt&&pt.transpile(_e,be)}};var bf={Identifier:function Identifier(_e,be){_e.push(be)},ObjectPattern:function ObjectPattern(_e,be){for(var Te=0,Pe=be.properties;Te<Pe.length;Te+=1){var pt=Pe[Te];bf[pt.type](_e,pt)}},Property:function Property(_e,be){bf[be.value.type](_e,be.value)},ArrayPattern:function ArrayPattern(_e,be){for(var Te=0,Pe=be.elements;Te<Pe.length;Te+=1){var pt=Pe[Te];pt&&bf[pt.type](_e,pt)}},RestElement:function RestElement(_e,be){bf[be.argument.type](_e,be.argument)},AssignmentPattern:function AssignmentPattern(_e,be){bf[be.left.type](_e,be.left)}},Sf=Object.create(null);function Scope(_e){_e=_e||{},this.parent=_e.parent,this.isBlockScope=!!_e.block,this.createDeclarationCallback=_e.declare;for(var be=this;be.isBlockScope;)be=be.parent;this.functionScope=be,this.identifiers=[],this.declarations=Object.create(null),this.references=Object.create(null),this.blockScopedDeclarations=this.isBlockScope?null:Object.create(null),this.aliases=Object.create(null)}function locate(_e,be){var Te,Pe=_e.split("\n"),pt=Pe.length,vt=0;for(Te=0;Te<pt;Te+=1){var xt=vt+Pe[Te].length+1;if(xt>be)return{line:Te+1,column:be-vt,char:Te};vt=xt}throw new Error("Could not determine location of character")}function pad(_e,be){var Te=String(_e);return Te+repeat(" ",be-Te.length)}function repeat(_e,be){for(var Te="";be--;)Te+=_e;return Te}function getSnippet(_e,be,Te){void 0===Te&&(Te=1);var Pe=Math.max(be.line-5,0),pt=be.line,vt=String(pt).length,xt=_e.split("\n").slice(Pe,pt),Tt=xt[xt.length-1].slice(0,be.column).replace(/\t/g,"  ").length,It=xt.map((function(_e,be){return pad(be+Pe+1,vt)+" : "+_e.replace(/\t/g,"  ")})).join("\n");return It+="\n"+repeat(" ",vt+3+Tt)+repeat("^",Te)}"do if in for let new try var case else enum eval null this true void with await break catch class const false super throw while yield delete export import public return static switch typeof default extends finally package private continue debugger function arguments interface protected implements instanceof".split(" ").forEach((function(_e){return Sf[_e]=!0})),Scope.prototype={addDeclaration:function addDeclaration(_e,be){for(var Te=0,Pe=extractNames(_e);Te<Pe.length;Te+=1){var pt=Pe[Te],vt=pt.name,xt={name:vt,node:pt,kind:be,instances:[]};this.declarations[vt]=xt,this.isBlockScope&&(this.functionScope.blockScopedDeclarations[vt]||(this.functionScope.blockScopedDeclarations[vt]=[]),this.functionScope.blockScopedDeclarations[vt].push(xt))}},addReference:function addReference(_e){this.consolidated?this.consolidateReference(_e):this.identifiers.push(_e)},consolidate:function consolidate(){for(var _e=0;_e<this.identifiers.length;_e+=1){var be=this.identifiers[_e];this.consolidateReference(be)}this.consolidated=!0},consolidateReference:function consolidateReference(_e){var be=this.declarations[_e.name];be?be.instances.push(_e):(this.references[_e.name]=!0,this.parent&&this.parent.addReference(_e))},contains:function contains(_e){return this.declarations[_e]||!!this.parent&&this.parent.contains(_e)},createIdentifier:function createIdentifier(_e){"number"==typeof _e&&(_e=_e.toString());for(var be=_e=_e.replace(/\s/g,"").replace(/\[([^\]]+)\]/g,"_$1").replace(/[^a-zA-Z0-9_$]/g,"_").replace(/_{2,}/,"_"),Te=1;this.declarations[be]||this.references[be]||this.aliases[be]||be in Sf;)be=_e+"$"+Te++;return this.aliases[be]=!0,be},createDeclaration:function createDeclaration(_e){var be=this.createIdentifier(_e);return this.createDeclarationCallback(be),be},findDeclaration:function findDeclaration(_e){return this.declarations[_e]||this.parent&&this.parent.findDeclaration(_e)},resolveName:function resolveName(_e){var be=this.findDeclaration(_e);return be?be.name:_e}};var Cf=function(_e){function CompileError(be,Te){if(_e.call(this,be),this.name="CompileError",Te){var Pe=Te.program.magicString.original,pt=locate(Pe,Te.start);this.message=be+" ("+pt.line+":"+pt.column+")",this.stack=(new _e).stack.replace(new RegExp(".+new "+this.name+".+\\n","m"),""),this.loc=pt,this.snippet=getSnippet(Pe,pt,Te.end-Te.start)}}return _e&&(CompileError.__proto__=_e),CompileError.prototype=Object.create(_e&&_e.prototype),CompileError.prototype.constructor=CompileError,CompileError.prototype.toString=function toString(){return this.name+": "+this.message+"\n"+this.snippet},CompileError.missingTransform=function missingTransform(_e,be,Te,Pe){throw void 0===Pe&&(Pe=null),new CompileError("Transforming "+_e+" is not "+(Pe?"fully supported":"implemented")+". Use `transforms: { "+be+": false }` to skip transformation and disable this error"+(Pe?", or `transforms: { "+Pe+": true }` if you know what you're doing":"")+".",Te)},CompileError}(Error);function findIndex(_e,be){for(var Te=0;Te<_e.length;Te+=1)if(be(_e[Te],Te))return Te;return-1}var Tf={Identifier:destructureIdentifier,AssignmentPattern:function destructureAssignmentPattern(_e,be,Te,Pe,pt,vt,xt){var Tt="Identifier"===Pe.left.type,It=Tt?Pe.left.name:pt;vt||xt.push((function(be,Te,pt){_e.prependRight(Pe.left.end,Te+"if ( "+It+" === void 0 ) "+It),_e.move(Pe.left.end,Pe.right.end,be),_e.appendLeft(Pe.right.end,pt)}));Tt||destructure(_e,be,Te,Pe.left,pt,vt,xt)},ArrayPattern:function destructureArrayPattern(_e,be,Te,Pe,pt,vt,xt){var Tt=Pe.start;Pe.elements.forEach((function(Pe,It){Pe&&("RestElement"===Pe.type?handleProperty(_e,be,Te,Tt,Pe.argument,pt+".slice("+It+")",vt,xt):handleProperty(_e,be,Te,Tt,Pe,pt+"["+It+"]",vt,xt),Tt=Pe.end)})),_e.remove(Tt,Pe.end)},ObjectPattern:destructureObjectPattern};function destructure(_e,be,Te,Pe,pt,vt,xt){Tf[Pe.type](_e,be,Te,Pe,pt,vt,xt)}function destructureIdentifier(_e,be,Te,Pe,pt,vt,xt){xt.push((function(be,xt,Tt){_e.overwrite(Pe.start,Pe.end,(vt?xt:xt+"var ")+Te(Pe)+" = "+pt+Tt),_e.move(Pe.start,Pe.end,be)}))}function destructureMemberExpression(_e,be,Te,Pe,pt,vt,xt){xt.push((function(be,Te,xt){_e.prependRight(Pe.start,vt?Te:Te+"var "),_e.appendLeft(Pe.end," = "+pt+xt),_e.move(Pe.start,Pe.end,be)}))}function destructureObjectPattern(_e,be,Te,Pe,pt,vt,xt){var Tt=this,It=Pe.start,Mt=[];Pe.properties.forEach((function(Pe){var Lt,Ft;if("Property"===Pe.type)if(Ft=Pe.value,Pe.computed||"Identifier"!==Pe.key.type)if(Pe.computed||"Literal"!==Pe.key.type){var Ot=_e.slice(Pe.key.start,Pe.key.end);Lt=pt+"["+Ot+"]",Mt.push("String("+Ot+")")}else Lt=pt+"["+Pe.key.raw+"]",Mt.push(JSON.stringify(String(Pe.key.value)));else Lt=pt+"."+Pe.key.name,Mt.push('"'+Pe.key.name+'"');else{if("RestElement"!==Pe.type)throw new Cf(Tt,"Unexpected node of type "+Pe.type+" in object pattern");Ft=Pe.argument,Lt=be("rest"),xt.push((function(be,Te,xt){var Tt=Pe.program.getObjectWithoutPropertiesHelper(_e);_e.overwrite(Pe.start,It=Pe.argument.start,(vt?Te:Te+"var ")+Lt+" = "+Tt+"( "+pt+", ["+Mt.join(", ")+"] )"+xt),_e.move(Pe.start,It,be)}))}handleProperty(_e,be,Te,It,Ft,Lt,vt,xt),It=Pe.end})),_e.remove(It,Pe.end)}function handleProperty(_e,be,Te,Pe,pt,vt,xt,Tt){switch(pt.type){case"Identifier":_e.remove(Pe,pt.start),destructureIdentifier(_e,0,Te,pt,vt,xt,Tt);break;case"MemberExpression":_e.remove(Pe,pt.start),destructureMemberExpression(_e,0,0,pt,vt,!0,Tt);break;case"AssignmentPattern":var It,Mt="Identifier"===pt.left.type;It=Mt?Te(pt.left):be(vt),Tt.push((function(be,Te,Pe){xt?(_e.prependRight(pt.right.start,It+" = "+vt+", "+It+" = "+It+" === void 0 ? "),_e.appendLeft(pt.right.end," : "+It+Pe)):(_e.prependRight(pt.right.start,Te+"var "+It+" = "+vt+"; if ( "+It+" === void 0 ) "+It+" = "),_e.appendLeft(pt.right.end,Pe)),_e.move(pt.right.start,pt.right.end,be)})),Mt?_e.remove(Pe,pt.right.start):(_e.remove(Pe,pt.left.start),_e.remove(pt.left.end,pt.right.start),handleProperty(_e,be,Te,Pe,pt.left,It,xt,Tt));break;case"ObjectPattern":_e.remove(Pe,Pe=pt.start);var Lt=vt;pt.properties.length>1&&(Lt=be(vt),Tt.push((function(be,Te,Tt){_e.prependRight(pt.start,(xt?"":Te+"var ")+Lt+" = "),_e.overwrite(pt.start,Pe=pt.start+1,vt),_e.appendLeft(Pe,Tt),_e.overwrite(pt.start,Pe=pt.start+1,(xt?"":Te+"var ")+Lt+" = "+vt+Tt),_e.move(pt.start,Pe,be)}))),destructureObjectPattern(_e,be,Te,pt,Lt,xt,Tt);break;case"ArrayPattern":if(_e.remove(Pe,Pe=pt.start),pt.elements.filter(Boolean).length>1){var Ft=be(vt);Tt.push((function(be,Te,Tt){_e.prependRight(pt.start,(xt?"":Te+"var ")+Ft+" = "),_e.overwrite(pt.start,Pe=pt.start+1,vt,{contentOnly:!0}),_e.appendLeft(Pe,Tt),_e.move(pt.start,Pe,be)})),pt.elements.forEach((function(pt,vt){pt&&("RestElement"===pt.type?handleProperty(_e,be,Te,Pe,pt.argument,Ft+".slice("+vt+")",xt,Tt):handleProperty(_e,be,Te,Pe,pt,Ft+"["+vt+"]",xt,Tt),Pe=pt.end)}))}else{var Ot=findIndex(pt.elements,Boolean),Vt=pt.elements[Ot];"RestElement"===Vt.type?handleProperty(_e,be,Te,Pe,Vt.argument,vt+".slice("+Ot+")",xt,Tt):handleProperty(_e,be,Te,Pe,Vt,vt+"["+Ot+"]",xt,Tt),Pe=Vt.end}_e.remove(Pe,pt.end);break;default:throw new Error("Unexpected node type in destructuring ("+pt.type+")")}}function isUseStrict(_e){return!!_e&&("ExpressionStatement"===_e.type&&("Literal"===_e.expression.type&&"use strict"===_e.expression.value))}var kf=function(_e){function BlockStatement(){_e.apply(this,arguments)}return _e&&(BlockStatement.__proto__=_e),BlockStatement.prototype=Object.create(_e&&_e.prototype),BlockStatement.prototype.constructor=BlockStatement,BlockStatement.prototype.createScope=function createScope(){var _e=this;this.parentIsFunction=/Function/.test(this.parent.type),this.isFunctionBlock=this.parentIsFunction||"Root"===this.parent.type,this.scope=new Scope({block:!this.isFunctionBlock,parent:this.parent.findScope(!1),declare:function(be){return _e.createdDeclarations.push(be)}}),this.parentIsFunction&&this.parent.params.forEach((function(be){_e.scope.addDeclaration(be,"param")}))},BlockStatement.prototype.initialise=function initialise(_e){this.thisAlias=null,this.argumentsAlias=null,this.defaultParameters=[],this.createdDeclarations=[],this.scope||this.createScope(),this.body.forEach((function(be){return be.initialise(_e)})),this.scope.consolidate()},BlockStatement.prototype.findLexicalBoundary=function findLexicalBoundary(){return"Program"===this.type||/^Function/.test(this.parent.type)?this:this.parent.findLexicalBoundary()},BlockStatement.prototype.findScope=function findScope(_e){return _e&&!this.isFunctionBlock?this.parent.findScope(_e):this.scope},BlockStatement.prototype.getArgumentsAlias=function getArgumentsAlias(){return this.argumentsAlias||(this.argumentsAlias=this.scope.createIdentifier("arguments")),this.argumentsAlias},BlockStatement.prototype.getArgumentsArrayAlias=function getArgumentsArrayAlias(){return this.argumentsArrayAlias||(this.argumentsArrayAlias=this.scope.createIdentifier("argsArray")),this.argumentsArrayAlias},BlockStatement.prototype.getThisAlias=function getThisAlias(){return this.thisAlias||(this.thisAlias=this.scope.createIdentifier("this")),this.thisAlias},BlockStatement.prototype.getIndentation=function getIndentation(){if(void 0===this.indentation){for(var _e=this.program.magicString.original,be=this.synthetic||!this.body.length,Te=be?this.start:this.body[0].start;Te&&"\n"!==_e[Te];)Te-=1;for(this.indentation="";;){var Pe=_e[Te+=1];if(" "!==Pe&&"\t"!==Pe)break;this.indentation+=Pe}for(var pt=this.program.magicString.getIndentString(),vt=this.parent;vt;)"constructor"!==vt.kind||vt.parent.parent.superClass||(this.indentation=this.indentation.replace(pt,"")),vt=vt.parent;be&&(this.indentation+=pt)}return this.indentation},BlockStatement.prototype.transpile=function transpile(be,Te){var Pe,pt=this,vt=this.getIndentation(),xt=[];if(this.argumentsAlias&&xt.push((function(_e,Te,Pe){var vt=Te+"var "+pt.argumentsAlias+" = arguments"+Pe;be.appendLeft(_e,vt)})),this.thisAlias&&xt.push((function(_e,Te,Pe){var vt=Te+"var "+pt.thisAlias+" = this"+Pe;be.appendLeft(_e,vt)})),this.argumentsArrayAlias&&xt.push((function(_e,Te,Pe){var xt=pt.scope.createIdentifier("i"),Tt=Te+"var "+xt+" = arguments.length, "+pt.argumentsArrayAlias+" = Array("+xt+");\n"+vt+"while ( "+xt+"-- ) "+pt.argumentsArrayAlias+"["+xt+"] = arguments["+xt+"]"+Pe;be.appendLeft(_e,Tt)})),/Function/.test(this.parent.type)?this.transpileParameters(this.parent.params,be,Te,vt,xt):"CatchClause"===this.parent.type&&this.transpileParameters([this.parent.param],be,Te,vt,xt),Te.letConst&&this.isFunctionBlock&&this.transpileBlockScopedIdentifiers(be),_e.prototype.transpile.call(this,be,Te),this.createdDeclarations.length&&xt.push((function(_e,Te,Pe){var vt=Te+"var "+pt.createdDeclarations.join(", ")+Pe;be.appendLeft(_e,vt)})),this.synthetic)if("ArrowFunctionExpression"===this.parent.type){var Tt=this.body[0];xt.length?(be.appendLeft(this.start,"{").prependRight(this.end,this.parent.getIndentation()+"}"),be.prependRight(Tt.start,"\n"+vt+"return "),be.appendLeft(Tt.end,";\n")):Te.arrow&&(be.prependRight(Tt.start,"{ return "),be.appendLeft(Tt.end,"; }"))}else xt.length&&be.prependRight(this.start,"{").appendLeft(this.end,"}");Pe=isUseStrict(this.body[0])?this.body[0].end:this.synthetic||"Root"===this.parent.type?this.start:this.start+1;var It="\n"+vt,Mt=";";xt.forEach((function(_e,be){be===xt.length-1&&(Mt=";\n"),_e(Pe,It,Mt)}))},BlockStatement.prototype.transpileParameters=function transpileParameters(_e,be,Te,Pe,pt){var vt=this;_e.forEach((function(xt){if("AssignmentPattern"===xt.type&&"Identifier"===xt.left.type)Te.defaultParameter&&pt.push((function(_e,Te,Pe){var pt=Te+"if ( "+xt.left.name+" === void 0 ) "+xt.left.name;be.prependRight(xt.left.end,pt).move(xt.left.end,xt.right.end,_e).appendLeft(xt.right.end,Pe)}));else if("RestElement"===xt.type)Te.spreadRest&&pt.push((function(Te,pt,Tt){var It=_e[_e.length-2];if(It)be.remove(It?It.end:xt.start,xt.end);else{for(var Mt=xt.start,Lt=xt.end;/\s/.test(be.original[Mt-1]);)Mt-=1;for(;/\s/.test(be.original[Lt]);)Lt+=1;be.remove(Mt,Lt)}var Ft=xt.argument.name,Ot=vt.scope.createIdentifier("len"),Vt=_e.length-1;Vt?be.prependRight(Te,pt+"var "+Ft+" = [], "+Ot+" = arguments.length - "+Vt+";\n"+Pe+"while ( "+Ot+"-- > 0 ) "+Ft+"[ "+Ot+" ] = arguments[ "+Ot+" + "+Vt+" ]"+Tt):be.prependRight(Te,pt+"var "+Ft+" = [], "+Ot+" = arguments.length;\n"+Pe+"while ( "+Ot+"-- ) "+Ft+"[ "+Ot+" ] = arguments[ "+Ot+" ]"+Tt)}));else if("Identifier"!==xt.type&&Te.parameterDestructuring){var Tt=vt.scope.createIdentifier("ref");destructure(be,(function(_e){return vt.scope.createIdentifier(_e)}),(function(_e){var be=_e.name;return vt.scope.resolveName(be)}),xt,Tt,!1,pt),be.prependRight(xt.start,Tt)}}))},BlockStatement.prototype.transpileBlockScopedIdentifiers=function transpileBlockScopedIdentifiers(_e){var be=this;Object.keys(this.scope.blockScopedDeclarations).forEach((function(Te){for(var Pe=0,pt=be.scope.blockScopedDeclarations[Te];Pe<pt.length;Pe+=1){var vt=pt[Pe],xt=!1;if("for.let"===vt.kind){var Tt=vt.node.findNearest("ForStatement");if(Tt.shouldRewriteAsFunction){var It=be.scope.createIdentifier(Te),Mt=Tt.reassigned[Te]?be.scope.createIdentifier(Te):Te;vt.name=It,_e.overwrite(vt.node.start,vt.node.end,It,{storeName:!0}),Tt.aliases[Te]={outer:It,inner:Mt};for(var Lt=0,Ft=vt.instances;Lt<Ft.length;Lt+=1){var Ot=Ft[Lt],Vt=Tt.body.contains(Ot)?Mt:It;Te!==Vt&&_e.overwrite(Ot.start,Ot.end,Vt,{storeName:!0})}xt=!0}}if(!xt){var qt=be.scope.createIdentifier(Te);if(Te!==qt){var Wt=vt.node.parent;vt.name=qt,_e.overwrite(vt.node.start,vt.node.end,qt,{storeName:!0}),"Property"===Wt.type&&Wt.shorthand&&(Wt.shorthand=!1,_e.prependLeft(vt.node.start,Te+": "));for(var $t=0,Kt=vt.instances;$t<Kt.length;$t+=1){var Jt=Kt[$t];Jt.rewritten=!0;var Yt=Jt.parent;_e.overwrite(Jt.start,Jt.end,qt,{storeName:!0}),"Property"===Yt.type&&Yt.shorthand&&(Yt.shorthand=!1,_e.prependLeft(Jt.start,Te+": "))}}}}}))},BlockStatement}(xf);function isArguments(_e){return"Identifier"===_e.type&&"arguments"===_e.name}function inlineSpreads(_e,be,Te){for(var Pe=Te.length;Pe--;){var pt=Te[Pe];if(pt&&"SpreadElement"===pt.type){var vt=pt.argument;if("ArrayExpression"===vt.type){var xt=vt.elements;if(!xt.some((function(_e){return null===_e}))){var Tt=Pe===Te.length-1;0===xt.length?_e.remove(Tt&&0!==Pe?Te[Pe-1].end:pt.start,Tt?be.end-1:Te[Pe+1].start):(_e.remove(pt.start,xt[0].start),_e.remove(xt[xt.length-1].end,Tt?be.end-1:pt.end)),Te.splice.apply(Te,[Pe,1].concat(xt)),Pe+=xt.length}}}}}function needsParentheses(_e){switch(_e.type){case"ArrayExpression":case"CallExpression":case"Identifier":case"ParenthesizedExpression":case"ThisExpression":return!1;default:return!0}}function spread(_e,be,Te,Pe,pt){for(var vt=be.length,xt=-1;vt--;){var Tt=be[vt];Tt&&"SpreadElement"===Tt.type&&(isArguments(Tt.argument)&&_e.overwrite(Tt.argument.start,Tt.argument.end,Pe),xt=vt)}if(-1===xt)return!1;if(pt){for(vt=0;vt<be.length;vt+=1){var It=be[vt];"SpreadElement"===It.type?_e.remove(It.start,It.argument.start):(_e.prependRight(It.start,"["),_e.prependRight(It.end,"]"))}return!0}var Mt=be[xt],Lt=be[xt-1];if(Lt)_e.overwrite(Lt.end,Mt.start," ].concat( ");else{var Ft;if(Te!==Mt.start)(Ft=needsParentheses(Mt.argument))?_e.overwrite(Te,Mt.start,"( "):_e.remove(Te,Mt.start);else{if("CallExpression"!==Mt.parent.type)throw new Cf("Unsupported spread construct, please raise an issue at https://github.com/bublejs/buble/issues",Mt);Ft=needsParentheses(Mt.argument)}_e.overwrite(Mt.end,be[1].start,Ft?" ).concat( ":".concat( ")}for(vt=xt;vt<be.length;vt+=1)(Mt=be[vt])&&("SpreadElement"===Mt.type?_e.remove(Mt.start,Mt.argument.start):(_e.appendLeft(Mt.start,"["),_e.appendLeft(Mt.end,"]")));return!0}var Of=function(_e){function ArrayExpression(){_e.apply(this,arguments)}return _e&&(ArrayExpression.__proto__=_e),ArrayExpression.prototype=Object.create(_e&&_e.prototype),ArrayExpression.prototype.constructor=ArrayExpression,ArrayExpression.prototype.initialise=function initialise(be){if(be.spreadRest&&this.elements.length)for(var Te=this.findLexicalBoundary(),Pe=this.elements.length;Pe--;){var pt=this.elements[Pe];pt&&"SpreadElement"===pt.type&&isArguments(pt.argument)&&(this.argumentsArrayAlias=Te.getArgumentsArrayAlias())}_e.prototype.initialise.call(this,be)},ArrayExpression.prototype.transpile=function transpile(be,Te){if(_e.prototype.transpile.call(this,be,Te),Te.spreadRest){if(inlineSpreads(be,this,this.elements),this.elements.length){var Pe=this.elements[this.elements.length-1];Pe&&/\s*,/.test(be.original.slice(Pe.end,this.end))&&be.overwrite(Pe.end,this.end-1," ")}if(1===this.elements.length){var pt=this.elements[0];pt&&"SpreadElement"===pt.type&&(isArguments(pt.argument)?be.overwrite(this.start,this.end,"[].concat( "+this.argumentsArrayAlias+" )"):(be.overwrite(this.start,pt.argument.start,"[].concat( "),be.overwrite(pt.end,this.end," )")))}else{spread(be,this.elements,this.start,this.argumentsArrayAlias)&&be.overwrite(this.end-1,this.end,")")}}},ArrayExpression}(xf);function removeTrailingComma(_e,be){for(;")"!==_e.original[be];){if(","===_e.original[be])return void _e.remove(be,be+1);"/"===_e.original[be]&&(be="/"===_e.original[be+1]?_e.original.indexOf("\n",be):_e.original.indexOf("*/",be)+1),be+=1}}var jf=function(_e){function ArrowFunctionExpression(){_e.apply(this,arguments)}return _e&&(ArrowFunctionExpression.__proto__=_e),ArrowFunctionExpression.prototype=Object.create(_e&&_e.prototype),ArrowFunctionExpression.prototype.constructor=ArrowFunctionExpression,ArrowFunctionExpression.prototype.initialise=function initialise(be){this.async&&be.asyncAwait&&Cf.missingTransform("async arrow functions","asyncAwait",this),this.body.createScope(),_e.prototype.initialise.call(this,be)},ArrowFunctionExpression.prototype.transpile=function transpile(be,Te){for(var Pe=this.start,pt=(this.body||this.params[0]).start-1;"("!==be.original[Pe]&&Pe<pt;)++Pe;"("!==be.original[Pe]&&(Pe=-1);var vt=-1===Pe;if(Te.arrow||this.needsArguments(Te)){for(var xt=this.body.start;"="!==be.original[xt];)xt-=1;be.remove(xt,this.body.start),_e.prototype.transpile.call(this,be,Te),vt&&(be.prependRight(this.params[0].start,"("),be.appendLeft(this.params[0].end,")"));var Tt,It=this.parent&&"ExpressionStatement"===this.parent.type,Mt=It?"!":"";this.async&&(Mt+="async "),Mt+="function",It||(Mt+=" "),(Tt=vt?this.params[0].start:Pe)>this.start?be.overwrite(this.start,Tt,Mt):be.prependRight(this.start,Mt)}else _e.prototype.transpile.call(this,be,Te);Te.trailingFunctionCommas&&this.params.length&&!vt&&removeTrailingComma(be,this.params[this.params.length-1].end)},ArrowFunctionExpression.prototype.needsArguments=function needsArguments(_e){return _e.spreadRest&&this.params.filter((function(_e){return"RestElement"===_e.type})).length>0},ArrowFunctionExpression}(xf);function checkConst(_e,be){var Te=be.findDeclaration(_e.name);if(Te&&"const"===Te.kind)throw new Cf(_e.name+" is read-only",_e)}var Nf=function(_e){function AssignmentExpression(){_e.apply(this,arguments)}return _e&&(AssignmentExpression.__proto__=_e),AssignmentExpression.prototype=Object.create(_e&&_e.prototype),AssignmentExpression.prototype.constructor=AssignmentExpression,AssignmentExpression.prototype.initialise=function initialise(be){if("Identifier"===this.left.type){var Te=this.findScope(!1).findDeclaration(this.left.name),Pe=Te&&Te.node.ancestor(3);Pe&&"ForStatement"===Pe.type&&Pe.body.contains(this)&&(Pe.reassigned[this.left.name]=!0)}_e.prototype.initialise.call(this,be)},AssignmentExpression.prototype.transpile=function transpile(be,Te){"Identifier"===this.left.type&&checkConst(this.left,this.findScope(!1)),"**="===this.operator&&Te.exponentiation?this.transpileExponentiation(be,Te):/Pattern/.test(this.left.type)&&Te.destructuring&&this.transpileDestructuring(be),_e.prototype.transpile.call(this,be,Te)},AssignmentExpression.prototype.transpileDestructuring=function transpileDestructuring(_e){var be=this,Te=this.findScope(!0),Pe=this.findScope(!1),pt=Te.createDeclaration("assign");_e.appendRight(this.left.end,"("+pt),_e.appendLeft(this.right.end,", ");var vt=[];destructure(_e,(function(_e){return Te.createDeclaration(_e)}),(function(_e){var be=Pe.resolveName(_e.name);return checkConst(_e,Pe),be}),this.left,pt,!0,vt);var xt=", ";vt.forEach((function(_e,Te){Te===vt.length-1&&(xt=""),_e(be.end,"",xt)})),"ExpressionStatement"===this.unparenthesizedParent().type?_e.prependRight(this.end,")"):_e.appendRight(this.end,", "+pt+")")},AssignmentExpression.prototype.transpileExponentiation=function transpileExponentiation(_e){for(var be,Te=this.findScope(!1),Pe=this.left.end;"*"!==_e.original[Pe];)Pe+=1;_e.remove(Pe,Pe+2);var pt=this.left.unparenthesize();if("Identifier"===pt.type)be=Te.resolveName(pt.name);else if("MemberExpression"===pt.type){var vt,xt,Tt=!1,It=!1,Mt=this.findNearest(/(?:Statement|Declaration)$/),Lt=Mt.getIndentation();"Identifier"===pt.property.type?xt=pt.computed?Te.resolveName(pt.property.name):pt.property.name:(xt=Te.createDeclaration("property"),It=!0),"Identifier"===pt.object.type?vt=Te.resolveName(pt.object.name):(vt=Te.createDeclaration("object"),Tt=!0),pt.start===Mt.start?Tt&&It?(_e.prependRight(Mt.start,vt+" = "),_e.overwrite(pt.object.end,pt.property.start,";\n"+Lt+xt+" = "),_e.overwrite(pt.property.end,pt.end,";\n"+Lt+vt+"["+xt+"]")):Tt?(_e.prependRight(Mt.start,vt+" = "),_e.appendLeft(pt.object.end,";\n"+Lt),_e.appendLeft(pt.object.end,vt)):It&&(_e.prependRight(pt.property.start,xt+" = "),_e.appendLeft(pt.property.end,";\n"+Lt),_e.move(pt.property.start,pt.property.end,this.start),_e.appendLeft(pt.object.end,"["+xt+"]"),_e.remove(pt.object.end,pt.property.start),_e.remove(pt.property.end,pt.end)):(Tt&&It?(_e.prependRight(pt.start,"( "+vt+" = "),_e.overwrite(pt.object.end,pt.property.start,", "+xt+" = "),_e.overwrite(pt.property.end,pt.end,", "+vt+"["+xt+"]")):Tt?(_e.prependRight(pt.start,"( "+vt+" = "),_e.appendLeft(pt.object.end,", "+vt)):It&&(_e.prependRight(pt.property.start,"( "+xt+" = "),_e.appendLeft(pt.property.end,", "),_e.move(pt.property.start,pt.property.end,pt.start),_e.overwrite(pt.object.end,pt.property.start,"["+xt+"]"),_e.remove(pt.property.end,pt.end)),It&&_e.appendLeft(this.end," )")),be=vt+(pt.computed||It?"["+xt+"]":"."+xt)}_e.prependRight(this.right.start,"Math.pow( "+be+", "),_e.appendLeft(this.right.end," )")},AssignmentExpression}(xf),Gf=function(_e){function AwaitExpression(){_e.apply(this,arguments)}return _e&&(AwaitExpression.__proto__=_e),AwaitExpression.prototype=Object.create(_e&&_e.prototype),AwaitExpression.prototype.constructor=AwaitExpression,AwaitExpression.prototype.initialise=function initialise(be){be.asyncAwait&&Cf.missingTransform("await","asyncAwait",this),_e.prototype.initialise.call(this,be)},AwaitExpression}(xf),Wf=function(_e){function BinaryExpression(){_e.apply(this,arguments)}return _e&&(BinaryExpression.__proto__=_e),BinaryExpression.prototype=Object.create(_e&&_e.prototype),BinaryExpression.prototype.constructor=BinaryExpression,BinaryExpression.prototype.transpile=function transpile(be,Te){"**"===this.operator&&Te.exponentiation&&(be.prependRight(this.start,"Math.pow( "),be.overwrite(this.left.end,this.right.start,", "),be.appendLeft(this.end," )")),_e.prototype.transpile.call(this,be,Te)},BinaryExpression}(xf),Hf=/(?:For(?:In|Of)?|While)Statement/,Xf=function(_e){function BreakStatement(){_e.apply(this,arguments)}return _e&&(BreakStatement.__proto__=_e),BreakStatement.prototype=Object.create(_e&&_e.prototype),BreakStatement.prototype.constructor=BreakStatement,BreakStatement.prototype.initialise=function initialise(){var _e=this.findNearest(Hf),be=this.findNearest("SwitchCase");_e&&(!be||_e.depth>be.depth)&&(_e.canBreak=!0,this.loop=_e)},BreakStatement.prototype.transpile=function transpile(_e){if(this.loop&&this.loop.shouldRewriteAsFunction){if(this.label)throw new Cf("Labels are not currently supported in a loop with locally-scoped variables",this);_e.overwrite(this.start,this.start+5,"return 'break'")}},BreakStatement}(xf),Jf=function(_e){function CallExpression(){_e.apply(this,arguments)}return _e&&(CallExpression.__proto__=_e),CallExpression.prototype=Object.create(_e&&_e.prototype),CallExpression.prototype.constructor=CallExpression,CallExpression.prototype.initialise=function initialise(be){if(be.spreadRest&&this.arguments.length>1)for(var Te=this.findLexicalBoundary(),Pe=this.arguments.length;Pe--;){var pt=this.arguments[Pe];"SpreadElement"===pt.type&&isArguments(pt.argument)&&(this.argumentsArrayAlias=Te.getArgumentsArrayAlias())}_e.prototype.initialise.call(this,be)},CallExpression.prototype.transpile=function transpile(be,Te){if(Te.spreadRest&&this.arguments.length&&inlineSpreads(be,this,this.arguments),Te.spreadRest&&this.arguments.length){var Pe,pt=!1,vt=this.arguments[0];if(1===this.arguments.length?"SpreadElement"===vt.type&&(be.remove(vt.start,vt.argument.start),pt=!0):pt=spread(be,this.arguments,vt.start,this.argumentsArrayAlias),pt){var xt=null;if("Super"===this.callee.type?xt=this.callee:"MemberExpression"===this.callee.type&&"Super"===this.callee.object.type&&(xt=this.callee.object),xt||"MemberExpression"!==this.callee.type)Pe="void 0";else if("Identifier"===this.callee.object.type)Pe=this.callee.object.name;else{Pe=this.findScope(!0).createDeclaration("ref");var Tt=this.callee.object;be.prependRight(Tt.start,"("+Pe+" = "),be.appendLeft(Tt.end,")")}be.appendLeft(this.callee.end,".apply"),xt?(xt.noCall=!0,this.arguments.length>1&&("SpreadElement"===vt.type?needsParentheses(vt.argument)&&be.prependRight(vt.start,"( "):be.prependRight(vt.start,"[ "),be.appendLeft(this.arguments[this.arguments.length-1].end," )"))):1===this.arguments.length?be.prependRight(vt.start,Pe+", "):("SpreadElement"===vt.type?needsParentheses(vt.argument)?be.appendLeft(vt.start,Pe+", ( "):be.appendLeft(vt.start,Pe+", "):be.appendLeft(vt.start,Pe+", [ "),be.appendLeft(this.arguments[this.arguments.length-1].end," )"))}}Te.trailingFunctionCommas&&this.arguments.length&&removeTrailingComma(be,this.arguments[this.arguments.length-1].end),_e.prototype.transpile.call(this,be,Te)},CallExpression}(xf),Qf=function(_e){function CatchClause(){_e.apply(this,arguments)}return _e&&(CatchClause.__proto__=_e),CatchClause.prototype=Object.create(_e&&_e.prototype),CatchClause.prototype.constructor=CatchClause,CatchClause.prototype.initialise=function initialise(be){var Te=this;this.createdDeclarations=[],this.scope=new Scope({block:!0,parent:this.parent.findScope(!1),declare:function(_e){return Te.createdDeclarations.push(_e)}}),this.scope.addDeclaration(this.param,"catch"),_e.prototype.initialise.call(this,be),this.scope.consolidate()},CatchClause.prototype.findScope=function findScope(_e){return _e?this.parent.findScope(_e):this.scope},CatchClause}(xf),em=function(_e){function ClassBody(){_e.apply(this,arguments)}return _e&&(ClassBody.__proto__=_e),ClassBody.prototype=Object.create(_e&&_e.prototype),ClassBody.prototype.constructor=ClassBody,ClassBody.prototype.transpile=function transpile(be,Te,Pe,pt){var vt=this;if(Te.classes){var xt=this.parent.name,Tt=be.getIndentString(),It=this.getIndentation()+(Pe?Tt:""),Mt=It+Tt,Lt=findIndex(this.body,(function(_e){return"constructor"===_e.kind})),Ft=this.body[Lt],Ot="",Vt="";if(this.body.length?(be.remove(this.start,this.body[0].start),be.remove(this.body[this.body.length-1].end,this.end)):be.remove(this.start,this.end),Ft){Ft.value.body.isConstructorBody=!0;var qt=this.body[Lt-1],Wt=this.body[Lt+1];Lt>0&&(be.remove(qt.end,Ft.start),be.move(Ft.start,Wt?Wt.start:this.end-1,this.body[0].start)),Pe||be.appendLeft(Ft.end,";")}var $t=!1!==this.program.options.namedFunctionExpressions,Kt=$t||this.parent.superClass||"ClassDeclaration"!==this.parent.type;if(this.parent.superClass){var Jt="if ( "+pt+" ) "+xt+".__proto__ = "+pt+";\n"+It+xt+".prototype = Object.create( "+pt+" && "+pt+".prototype );\n"+It+xt+".prototype.constructor = "+xt+";";if(Ft)Ot+="\n\n"+It+Jt;else Ot+=(Jt="function "+xt+" () {"+(pt?"\n"+Mt+pt+".apply(this, arguments);\n"+It+"}":"}")+(Pe?"":";")+(this.body.length?"\n\n"+It:"")+Jt)+"\n\n"+It}else if(!Ft){var Yt="function "+(Kt?xt+" ":"")+"() {}";"ClassDeclaration"===this.parent.type&&(Yt+=";"),this.body.length&&(Yt+="\n\n"+It),Ot+=Yt}var Qt,an,cn=this.findScope(!1),hn=[],pn=[];if(this.body.forEach((function(_e,Pe){if("get"!==_e.kind&&"set"!==_e.kind||!Te.getterSetter||Cf.missingTransform("getters and setters","getterSetter",_e),"constructor"!==_e.kind){if(_e.static){var pt=" "==be.original[_e.start+6]?7:6;be.remove(_e.start,_e.start+pt)}var Tt,Mt="method"!==_e.kind,Ft=_e.key.name;(Sf[Ft]||_e.value.body.scope.references[Ft])&&(Ft=cn.createIdentifier(Ft));var Ot=!1;if(_e.computed||"Literal"!==_e.key.type||(Ot=!0,_e.computed=!0),Mt){if(_e.computed)throw new Error("Computed accessor properties are not currently supported");be.remove(_e.start,_e.key.start),_e.static?(~pn.indexOf(_e.key.name)||pn.push(_e.key.name),an||(an=cn.createIdentifier("staticAccessors")),Tt=""+an):(~hn.indexOf(_e.key.name)||hn.push(_e.key.name),Qt||(Qt=cn.createIdentifier("prototypeAccessors")),Tt=""+Qt)}else Tt=_e.static?""+xt:xt+".prototype";_e.computed||(Tt+="."),(Lt>0&&Pe===Lt+1||0===Pe&&Lt===vt.body.length-1)&&(Tt="\n\n"+It+Tt);var Vt=_e.key.end;if(_e.computed)if(Ot)be.prependRight(_e.key.start,"["),be.appendLeft(_e.key.end,"]");else{for(;"]"!==be.original[Vt];)Vt+=1;Vt+=1}var qt=_e.computed||Mt||!$t?"":Ft+" ",Wt=(Mt?"."+_e.kind:"")+" = "+(_e.value.async?"async ":"")+"function"+(_e.value.generator?"* ":" ")+qt;be.remove(Vt,_e.value.start),be.prependRight(_e.value.start,Wt),be.appendLeft(_e.end,";"),_e.value.generator&&be.remove(_e.start,_e.key.start);var Jt=_e.key.start;if(_e.computed&&!Ot)for(;"["!=be.original[Jt];)--Jt;_e.start<Jt?be.overwrite(_e.start,Jt,Tt):be.prependRight(_e.start,Tt)}else{var Yt=Kt?" "+xt:"";be.overwrite(_e.key.start,_e.key.end,"function"+Yt)}})),hn.length||pn.length){var xn=[],Pn=[];hn.length&&(xn.push("var "+Qt+" = { "+hn.map((function(_e){return _e+": { configurable: true }"})).join(",")+" };"),Pn.push("Object.defineProperties( "+xt+".prototype, "+Qt+" );")),pn.length&&(xn.push("var "+an+" = { "+pn.map((function(_e){return _e+": { configurable: true }"})).join(",")+" };"),Pn.push("Object.defineProperties( "+xt+", "+an+" );")),Ft&&(Ot+="\n\n"+It),Ot+=xn.join("\n"+It),Ft||(Ot+="\n\n"+It),Vt+="\n\n"+It+Pn.join("\n"+It)}Ft?be.appendLeft(Ft.end,Ot):be.prependRight(this.start,Ot),be.appendLeft(this.end,Vt)}_e.prototype.transpile.call(this,be,Te)},ClassBody}(xf);function deindent(_e,be){var Te=_e.start,Pe=_e.end,pt=be.getIndentString(),vt=pt.length,xt=Te-vt;_e.program.indentExclusions[xt]||be.original.slice(xt,Te)!==pt||be.remove(xt,Te);for(var Tt,It=new RegExp(pt+"\\S","g"),Mt=be.original.slice(Te,Pe);Tt=It.exec(Mt);){var Lt=Te+Tt.index;_e.program.indentExclusions[Lt]||be.remove(Lt,Lt+vt)}}var tm=function(_e){function ClassDeclaration(){_e.apply(this,arguments)}return _e&&(ClassDeclaration.__proto__=_e),ClassDeclaration.prototype=Object.create(_e&&_e.prototype),ClassDeclaration.prototype.constructor=ClassDeclaration,ClassDeclaration.prototype.initialise=function initialise(be){this.id?(this.name=this.id.name,this.findScope(!0).addDeclaration(this.id,"class")):this.name=this.findScope(!0).createIdentifier("defaultExport"),_e.prototype.initialise.call(this,be)},ClassDeclaration.prototype.transpile=function transpile(_e,be){if(be.classes){this.superClass||deindent(this.body,_e);var Te=this.superClass&&(this.superClass.name||"superclass"),Pe=this.getIndentation(),pt=Pe+_e.getIndentString(),vt="ExportDefaultDeclaration"===this.parent.type;vt&&_e.remove(this.parent.start,this.start);var xt=this.start;this.id?(_e.overwrite(xt,this.id.start,"var "),xt=this.id.end):_e.prependLeft(xt,"var "+this.name),this.superClass?this.superClass.end===this.body.start?(_e.remove(xt,this.superClass.start),_e.appendLeft(xt," = /*@__PURE__*/(function ("+Te+") {\n"+pt)):(_e.overwrite(xt,this.superClass.start," = "),_e.overwrite(this.superClass.end,this.body.start,"/*@__PURE__*/(function ("+Te+") {\n"+pt)):xt===this.body.start?_e.appendLeft(xt," = "):_e.overwrite(xt,this.body.start," = "),this.body.transpile(_e,be,!!this.superClass,Te);var Tt=vt?"\n\n"+Pe+"export default "+this.name+";":"";this.superClass?(_e.appendLeft(this.end,"\n\n"+pt+"return "+this.name+";\n"+Pe+"}("),_e.move(this.superClass.start,this.superClass.end,this.end),_e.prependRight(this.end,"));"+Tt)):Tt&&_e.prependRight(this.end,Tt)}else this.body.transpile(_e,be,!1,null)},ClassDeclaration}(xf),nm=function(_e){function ClassExpression(){_e.apply(this,arguments)}return _e&&(ClassExpression.__proto__=_e),ClassExpression.prototype=Object.create(_e&&_e.prototype),ClassExpression.prototype.constructor=ClassExpression,ClassExpression.prototype.initialise=function initialise(be){this.name=(this.id?this.id.name:"VariableDeclarator"===this.parent.type?this.parent.id.name:"AssignmentExpression"!==this.parent.type?null:"Identifier"===this.parent.left.type?this.parent.left.name:"MemberExpression"===this.parent.left.type?this.parent.left.property.name:null)||this.findScope(!0).createIdentifier("anonymous"),_e.prototype.initialise.call(this,be)},ClassExpression.prototype.transpile=function transpile(_e,be){if(be.classes){var Te=this.superClass&&(this.superClass.name||"superclass");Te===this.name&&(Te=this.findScope(!0).createIdentifier(this.name));var Pe=this.getIndentation(),pt=Pe+_e.getIndentString();this.superClass?(_e.remove(this.start,this.superClass.start),_e.remove(this.superClass.end,this.body.start),_e.appendRight(this.start,"/*@__PURE__*/(function ("+Te+") {\n"+pt)):_e.overwrite(this.start,this.body.start,"/*@__PURE__*/(function () {\n"+pt),this.body.transpile(_e,be,!0,Te);var vt="";this.superClass&&(vt=_e.slice(this.superClass.start,this.superClass.end),_e.remove(this.superClass.start,this.superClass.end)),_e.appendLeft(this.end,"\n\n"+pt+"return "+this.name+";\n"+Pe+"}("+vt+"))")}else this.body.transpile(_e,be,!1)},ClassExpression}(xf),am=function(_e){function ContinueStatement(){_e.apply(this,arguments)}return _e&&(ContinueStatement.__proto__=_e),ContinueStatement.prototype=Object.create(_e&&_e.prototype),ContinueStatement.prototype.constructor=ContinueStatement,ContinueStatement.prototype.transpile=function transpile(_e){if(this.findNearest(Hf).shouldRewriteAsFunction){if(this.label)throw new Cf("Labels are not currently supported in a loop with locally-scoped variables",this);_e.overwrite(this.start,this.start+8,"return")}},ContinueStatement}(xf),rm=function(_e){function ExportDefaultDeclaration(){_e.apply(this,arguments)}return _e&&(ExportDefaultDeclaration.__proto__=_e),ExportDefaultDeclaration.prototype=Object.create(_e&&_e.prototype),ExportDefaultDeclaration.prototype.constructor=ExportDefaultDeclaration,ExportDefaultDeclaration.prototype.initialise=function initialise(be){be.moduleExport&&Cf.missingTransform("export","moduleExport",this),_e.prototype.initialise.call(this,be)},ExportDefaultDeclaration}(xf),im=function(_e){function ExportNamedDeclaration(){_e.apply(this,arguments)}return _e&&(ExportNamedDeclaration.__proto__=_e),ExportNamedDeclaration.prototype=Object.create(_e&&_e.prototype),ExportNamedDeclaration.prototype.constructor=ExportNamedDeclaration,ExportNamedDeclaration.prototype.initialise=function initialise(be){be.moduleExport&&Cf.missingTransform("export","moduleExport",this),_e.prototype.initialise.call(this,be)},ExportNamedDeclaration}(xf),om=function(_e){function LoopStatement(){_e.apply(this,arguments)}return _e&&(LoopStatement.__proto__=_e),LoopStatement.prototype=Object.create(_e&&_e.prototype),LoopStatement.prototype.constructor=LoopStatement,LoopStatement.prototype.findScope=function findScope(_e){return _e||!this.createdScope?this.parent.findScope(_e):this.body.scope},LoopStatement.prototype.initialise=function initialise(be){this.body.createScope(),this.createdScope=!0,this.reassigned=Object.create(null),this.aliases=Object.create(null),this.thisRefs=[],_e.prototype.initialise.call(this,be),this.scope&&this.scope.consolidate();var Te=Object.assign({},this.body.scope.declarations);if(this.scope&&Object.assign(Te,this.scope.declarations),be.letConst)for(var Pe=Object.keys(Te),pt=Pe.length;pt--;){for(var vt=Te[Pe[pt]],xt=vt.instances.length;xt--;){var Tt=vt.instances[xt].findNearest(/Function/);if(Tt&&Tt.depth>this.depth){this.shouldRewriteAsFunction=!0;for(var It=0,Mt=this.thisRefs;It<Mt.length;It+=1){var Lt=Mt[It];Lt.alias=Lt.alias||Lt.findLexicalBoundary().getThisAlias()}break}}if(this.shouldRewriteAsFunction)break}},LoopStatement.prototype.transpile=function transpile(be,Te){var Pe="ForOfStatement"!=this.type&&("BlockStatement"!==this.body.type||"BlockStatement"===this.body.type&&this.body.synthetic);if(this.shouldRewriteAsFunction){var pt=this.getIndentation(),vt=pt+be.getIndentString(),xt=this.args?" "+this.args.join(", ")+" ":"",Tt=this.params?" "+this.params.join(", ")+" ":"",It=this.findScope(!0),Mt=It.createIdentifier("loop"),Lt="var "+Mt+" = function ("+Tt+") "+(this.body.synthetic?"{\n"+pt+be.getIndentString():""),Ft=(this.body.synthetic?"\n"+pt+"}":"")+";\n\n"+pt;if(be.prependRight(this.body.start,Lt),be.appendLeft(this.body.end,Ft),be.move(this.start,this.body.start,this.body.end),this.canBreak||this.canReturn){var Ot=It.createIdentifier("returned"),Vt="{\n"+vt+"var "+Ot+" = "+Mt+"("+xt+");\n";this.canBreak&&(Vt+="\n"+vt+"if ( "+Ot+" === 'break' ) break;"),this.canReturn&&(Vt+="\n"+vt+"if ( "+Ot+" ) return "+Ot+".v;"),Vt+="\n"+pt+"}",be.prependRight(this.body.end,Vt)}else{var qt=Mt+"("+xt+");";"DoWhileStatement"===this.type?be.overwrite(this.start,this.body.start,"do {\n"+vt+qt+"\n"+pt+"}"):be.prependRight(this.body.end,qt)}}else Pe&&(be.appendLeft(this.body.start,"{ "),be.prependRight(this.body.end," }"));_e.prototype.transpile.call(this,be,Te)},LoopStatement}(xf),sm=function(_e){function ForStatement(){_e.apply(this,arguments)}return _e&&(ForStatement.__proto__=_e),ForStatement.prototype=Object.create(_e&&_e.prototype),ForStatement.prototype.constructor=ForStatement,ForStatement.prototype.initialise=function initialise(be){var Te=this;this.createdDeclarations=[],this.scope=new Scope({block:!0,parent:this.parent.findScope(!1),declare:function(_e){return Te.createdDeclarations.push(_e)}}),_e.prototype.initialise.call(this,be)},ForStatement.prototype.findScope=function findScope(_e){return _e?this.parent.findScope(_e):this.scope},ForStatement.prototype.transpile=function transpile(be,Te){var Pe=this,pt=this.getIndentation()+be.getIndentString();if(this.shouldRewriteAsFunction){var vt=this.init&&"VariableDeclaration"===this.init.type?this.init.declarations.map((function(_e){return extractNames(_e.id)})):[],xt=this.aliases;this.args=vt.map((function(_e){return _e in Pe.aliases?Pe.aliases[_e].outer:_e})),this.params=vt.map((function(_e){return _e in Pe.aliases?Pe.aliases[_e].inner:_e}));var Tt=Object.keys(this.reassigned).map((function(_e){return xt[_e].outer+" = "+xt[_e].inner+";"}));if(Tt.length)if(this.body.synthetic)be.appendLeft(this.body.body[0].end,"; "+Tt.join(" "));else{var It=this.body.body[this.body.body.length-1];be.appendLeft(It.end,"\n\n"+pt+Tt.join("\n"+pt))}}_e.prototype.transpile.call(this,be,Te)},ForStatement}(om),dm=function(_e){function ForInStatement(){_e.apply(this,arguments)}return _e&&(ForInStatement.__proto__=_e),ForInStatement.prototype=Object.create(_e&&_e.prototype),ForInStatement.prototype.constructor=ForInStatement,ForInStatement.prototype.initialise=function initialise(be){var Te=this;this.createdDeclarations=[],this.scope=new Scope({block:!0,parent:this.parent.findScope(!1),declare:function(_e){return Te.createdDeclarations.push(_e)}}),_e.prototype.initialise.call(this,be)},ForInStatement.prototype.findScope=function findScope(_e){return _e?this.parent.findScope(_e):this.scope},ForInStatement.prototype.transpile=function transpile(be,Te){var Pe=this,pt="VariableDeclaration"===this.left.type;if(this.shouldRewriteAsFunction){var vt=pt?this.left.declarations.map((function(_e){return extractNames(_e.id)})):[];this.args=vt.map((function(_e){return _e in Pe.aliases?Pe.aliases[_e].outer:_e})),this.params=vt.map((function(_e){return _e in Pe.aliases?Pe.aliases[_e].inner:_e}))}_e.prototype.transpile.call(this,be,Te);var xt=pt?this.left.declarations[0].id:this.left;"Identifier"!==xt.type&&"MemberExpression"!==xt.type&&this.destructurePattern(be,xt,pt)},ForInStatement.prototype.destructurePattern=function destructurePattern(_e,be,Te){var Pe=this.findScope(!0),pt=this.getIndentation()+_e.getIndentString(),vt=Pe.createIdentifier("ref"),xt=this.body.body.length?this.body.body[0].start:this.body.start+1;_e.move(be.start,be.end,xt),_e.prependRight(be.end,Te?vt:"var "+vt);var Tt=[];destructure(_e,(function(_e){return Pe.createIdentifier(_e)}),(function(_e){var be=_e.name;return Pe.resolveName(be)}),be,vt,!1,Tt);var It=";\n"+pt;Tt.forEach((function(_e,be){be===Tt.length-1&&(It=";\n\n"+pt),_e(xt,"",It)}))},ForInStatement}(om),lm=function(_e){function ForOfStatement(){_e.apply(this,arguments)}return _e&&(ForOfStatement.__proto__=_e),ForOfStatement.prototype=Object.create(_e&&_e.prototype),ForOfStatement.prototype.constructor=ForOfStatement,ForOfStatement.prototype.initialise=function initialise(be){var Te=this;be.forOf&&!be.dangerousForOf&&Cf.missingTransform("for-of statements","forOf",this,"dangerousForOf"),this.await&&be.asyncAwait&&Cf.missingTransform("for-await-of statements","asyncAwait",this),this.createdDeclarations=[],this.scope=new Scope({block:!0,parent:this.parent.findScope(!1),declare:function(_e){return Te.createdDeclarations.push(_e)}}),_e.prototype.initialise.call(this,be)},ForOfStatement.prototype.findScope=function findScope(_e){return _e?this.parent.findScope(_e):this.scope},ForOfStatement.prototype.transpile=function transpile(be,Te){if(_e.prototype.transpile.call(this,be,Te),Te.dangerousForOf)if(this.body.body[0]){var Pe=this.findScope(!0),pt=this.getIndentation(),vt=pt+be.getIndentString(),xt=Pe.createIdentifier("i"),Tt=Pe.createIdentifier("list");this.body.synthetic&&(be.prependRight(this.left.start,"{\n"+vt),be.appendLeft(this.body.body[0].end,"\n"+pt+"}"));var It=this.body.body[0].start;be.remove(this.left.end,this.right.start),be.move(this.left.start,this.left.end,It),be.prependRight(this.right.start,"var "+xt+" = 0, "+Tt+" = "),be.appendLeft(this.right.end,"; "+xt+" < "+Tt+".length; "+xt+" += 1");var Mt="VariableDeclaration"===this.left.type,Lt=Mt?this.left.declarations[0].id:this.left;if("Identifier"!==Lt.type){var Ft=[],Ot=Pe.createIdentifier("ref");destructure(be,(function(_e){return Pe.createIdentifier(_e)}),(function(_e){var be=_e.name;return Pe.resolveName(be)}),Lt,Ot,!Mt,Ft);var Vt=";\n"+vt;Ft.forEach((function(_e,be){be===Ft.length-1&&(Vt=";\n\n"+vt),_e(It,"",Vt)})),Mt?(be.appendLeft(this.left.start+this.left.kind.length+1,Ot),be.appendLeft(this.left.end," = "+Tt+"["+xt+"];\n"+vt)):be.appendLeft(this.left.end,"var "+Ot+" = "+Tt+"["+xt+"];\n"+vt)}else be.appendLeft(this.left.end," = "+Tt+"["+xt+"];\n\n"+vt)}else"VariableDeclaration"===this.left.type&&"var"===this.left.kind?(be.remove(this.start,this.left.start),be.appendLeft(this.left.end,";"),be.remove(this.left.end,this.end)):be.remove(this.start,this.end)},ForOfStatement}(om),um=function(_e){function FunctionDeclaration(){_e.apply(this,arguments)}return _e&&(FunctionDeclaration.__proto__=_e),FunctionDeclaration.prototype=Object.create(_e&&_e.prototype),FunctionDeclaration.prototype.constructor=FunctionDeclaration,FunctionDeclaration.prototype.initialise=function initialise(be){this.generator&&be.generator&&Cf.missingTransform("generators","generator",this),this.async&&be.asyncAwait&&Cf.missingTransform("async functions","asyncAwait",this),this.body.createScope(),this.id&&this.findScope(!0).addDeclaration(this.id,"function"),_e.prototype.initialise.call(this,be)},FunctionDeclaration.prototype.transpile=function transpile(be,Te){_e.prototype.transpile.call(this,be,Te),Te.trailingFunctionCommas&&this.params.length&&removeTrailingComma(be,this.params[this.params.length-1].end)},FunctionDeclaration}(xf),cm=function(_e){function FunctionExpression(){_e.apply(this,arguments)}return _e&&(FunctionExpression.__proto__=_e),FunctionExpression.prototype=Object.create(_e&&_e.prototype),FunctionExpression.prototype.constructor=FunctionExpression,FunctionExpression.prototype.initialise=function initialise(be){this.generator&&be.generator&&Cf.missingTransform("generators","generator",this),this.async&&be.asyncAwait&&Cf.missingTransform("async functions","asyncAwait",this),this.body.createScope(),this.id&&this.body.scope.addDeclaration(this.id,"function"),_e.prototype.initialise.call(this,be);var Te,Pe=this.parent;if(be.conciseMethodProperty&&"Property"===Pe.type&&"init"===Pe.kind&&Pe.method&&"Identifier"===Pe.key.type||be.classes&&"MethodDefinition"===Pe.type&&"method"===Pe.kind&&"Identifier"===Pe.key.type?Te=Pe.key.name:this.id&&"Identifier"===this.id.type&&(Te=this.id.alias||this.id.name),Te)for(var pt=0,vt=this.params;pt<vt.length;pt+=1){var xt=vt[pt];if("Identifier"===xt.type&&Te===xt.name){var Tt=this.body.scope,It=Tt.declarations[Te],Mt=Tt.createIdentifier(Te);xt.alias=Mt;for(var Lt=0,Ft=It.instances;Lt<Ft.length;Lt+=1){Ft[Lt].alias=Mt}break}}},FunctionExpression.prototype.transpile=function transpile(be,Te){_e.prototype.transpile.call(this,be,Te),Te.trailingFunctionCommas&&this.params.length&&removeTrailingComma(be,this.params[this.params.length-1].end)},FunctionExpression}(xf);function isReference(_e,be){return"MemberExpression"===_e.type?!_e.computed&&isReference(_e.object,_e):"Identifier"===_e.type?!be||!/(Function|Class)Expression/.test(be.type)&&("VariableDeclarator"===be.type?_e===be.init:"MemberExpression"===be.type||"MethodDefinition"===be.type?be.computed||_e===be.object:"ArrayPattern"!==be.type&&("Property"===be.type?"ObjectPattern"!==be.parent.type&&(be.computed||_e===be.value):"MethodDefinition"!==be.type&&("ExportSpecifier"!==be.type||_e===be.local))):void 0}var hm=function(_e){function Identifier(){_e.apply(this,arguments)}return _e&&(Identifier.__proto__=_e),Identifier.prototype=Object.create(_e&&_e.prototype),Identifier.prototype.constructor=Identifier,Identifier.prototype.findScope=function findScope(_e){return this.parent.params&&~this.parent.params.indexOf(this)||"FunctionExpression"===this.parent.type&&this===this.parent.id?this.parent.body.scope:this.parent.findScope(_e)},Identifier.prototype.initialise=function initialise(_e){if(!this.isLabel()&&isReference(this,this.parent)){if(_e.arrow&&"arguments"===this.name&&!this.findScope(!1).contains(this.name)){var be=this.findLexicalBoundary(),Te=this.findNearest("ArrowFunctionExpression"),Pe=this.findNearest(Hf);Te&&Te.depth>be.depth&&(this.alias=be.getArgumentsAlias()),Pe&&Pe.body.contains(this)&&Pe.depth>be.depth&&(this.alias=be.getArgumentsAlias())}this.findScope(!1).addReference(this)}},Identifier.prototype.isLabel=function isLabel(){switch(this.parent.type){case"BreakStatement":case"ContinueStatement":case"LabeledStatement":return!0;default:return!1}},Identifier.prototype.transpile=function transpile(_e){this.alias&&_e.overwrite(this.start,this.end,this.alias,{storeName:!0,contentOnly:!0})},Identifier}(xf),pm=function(_e){function IfStatement(){_e.apply(this,arguments)}return _e&&(IfStatement.__proto__=_e),IfStatement.prototype=Object.create(_e&&_e.prototype),IfStatement.prototype.constructor=IfStatement,IfStatement.prototype.initialise=function initialise(be){_e.prototype.initialise.call(this,be)},IfStatement.prototype.transpile=function transpile(be,Te){("BlockStatement"!==this.consequent.type||"BlockStatement"===this.consequent.type&&this.consequent.synthetic)&&(be.appendLeft(this.consequent.start,"{ "),be.prependRight(this.consequent.end," }")),this.alternate&&"IfStatement"!==this.alternate.type&&("BlockStatement"!==this.alternate.type||"BlockStatement"===this.alternate.type&&this.alternate.synthetic)&&(be.appendLeft(this.alternate.start,"{ "),be.prependRight(this.alternate.end," }")),_e.prototype.transpile.call(this,be,Te)},IfStatement}(xf),gm=function(_e){function Import(){_e.apply(this,arguments)}return _e&&(Import.__proto__=_e),Import.prototype=Object.create(_e&&_e.prototype),Import.prototype.constructor=Import,Import.prototype.initialise=function initialise(be){be.moduleImport&&Cf.missingTransform("dynamic import expressions","moduleImport",this),_e.prototype.initialise.call(this,be)},Import}(xf),fm=function(_e){function ImportDeclaration(){_e.apply(this,arguments)}return _e&&(ImportDeclaration.__proto__=_e),ImportDeclaration.prototype=Object.create(_e&&_e.prototype),ImportDeclaration.prototype.constructor=ImportDeclaration,ImportDeclaration.prototype.initialise=function initialise(be){be.moduleImport&&Cf.missingTransform("import","moduleImport",this),_e.prototype.initialise.call(this,be)},ImportDeclaration}(xf),mm=function(_e){function ImportDefaultSpecifier(){_e.apply(this,arguments)}return _e&&(ImportDefaultSpecifier.__proto__=_e),ImportDefaultSpecifier.prototype=Object.create(_e&&_e.prototype),ImportDefaultSpecifier.prototype.constructor=ImportDefaultSpecifier,ImportDefaultSpecifier.prototype.initialise=function initialise(be){this.findScope(!0).addDeclaration(this.local,"import"),_e.prototype.initialise.call(this,be)},ImportDefaultSpecifier}(xf),ym=function(_e){function ImportSpecifier(){_e.apply(this,arguments)}return _e&&(ImportSpecifier.__proto__=_e),ImportSpecifier.prototype=Object.create(_e&&_e.prototype),ImportSpecifier.prototype.constructor=ImportSpecifier,ImportSpecifier.prototype.initialise=function initialise(be){this.findScope(!0).addDeclaration(this.local,"import"),_e.prototype.initialise.call(this,be)},ImportSpecifier}(xf),_m=function(_e){function JSXAttribute(){_e.apply(this,arguments)}return _e&&(JSXAttribute.__proto__=_e),JSXAttribute.prototype=Object.create(_e&&_e.prototype),JSXAttribute.prototype.constructor=JSXAttribute,JSXAttribute.prototype.transpile=function transpile(be,Te){var Pe,pt=this.name,vt=pt.start,xt=pt.name,Tt=this.value?this.value.start:this.name.end;be.overwrite(vt,Tt,(/-/.test(Pe=xt)?"'"+Pe+"'":Pe)+": "+(this.value?"":"true")),_e.prototype.transpile.call(this,be,Te)},JSXAttribute}(xf);function containsNewLine(_e){return"JSXText"===_e.type&&!/\S/.test(_e.value)&&/\n/.test(_e.value)}var vm=function(_e){function JSXClosingElement(){_e.apply(this,arguments)}return _e&&(JSXClosingElement.__proto__=_e),JSXClosingElement.prototype=Object.create(_e&&_e.prototype),JSXClosingElement.prototype.constructor=JSXClosingElement,JSXClosingElement.prototype.transpile=function transpile(_e){var be=!0,Te=this.parent.children[this.parent.children.length-1];(Te&&containsNewLine(Te)||this.parent.openingElement.attributes.length)&&(be=!1),_e.overwrite(this.start,this.end,be?" )":")")},JSXClosingElement}(xf);function containsNewLine$1(_e){return"JSXText"===_e.type&&!/\S/.test(_e.value)&&/\n/.test(_e.value)}var Rm=function(_e){function JSXClosingFragment(){_e.apply(this,arguments)}return _e&&(JSXClosingFragment.__proto__=_e),JSXClosingFragment.prototype=Object.create(_e&&_e.prototype),JSXClosingFragment.prototype.constructor=JSXClosingFragment,JSXClosingFragment.prototype.transpile=function transpile(_e){var be=!0,Te=this.parent.children[this.parent.children.length-1];Te&&containsNewLine$1(Te)&&(be=!1),_e.overwrite(this.start,this.end,be?" )":")")},JSXClosingFragment}(xf);function normalise(_e,be){return be&&/\n/.test(_e)&&(_e=_e.replace(/[ \f\n\r\t\v]+$/,"")),_e=_e.replace(/^\n\r?[ \f\n\r\t\v]+/,"").replace(/[ \f\n\r\t\v]*\n\r?[ \f\n\r\t\v]*/gm," "),JSON.stringify(_e)}var xm=function(_e){function JSXElement(){_e.apply(this,arguments)}return _e&&(JSXElement.__proto__=_e),JSXElement.prototype=Object.create(_e&&_e.prototype),JSXElement.prototype.constructor=JSXElement,JSXElement.prototype.transpile=function transpile(be,Te){_e.prototype.transpile.call(this,be,Te);var Pe=this.children.filter((function(_e){return"JSXText"!==_e.type||(/[^ \f\n\r\t\v]/.test(_e.raw)||!/\n/.test(_e.raw))}));if(Pe.length){var pt,vt=(this.openingElement||this.openingFragment).end;for(pt=0;pt<Pe.length;pt+=1){var xt=Pe[pt];if("JSXExpressionContainer"===xt.type&&"JSXEmptyExpression"===xt.expression.type);else{var Tt="\n"===be.original[vt]&&"JSXText"!==xt.type?"":" ";be.appendLeft(vt,","+Tt)}if("JSXText"===xt.type){var It=normalise(xt.value,pt===Pe.length-1);be.overwrite(xt.start,xt.end,It)}vt=xt.end}}},JSXElement}(xf),bm=function(_e){function JSXExpressionContainer(){_e.apply(this,arguments)}return _e&&(JSXExpressionContainer.__proto__=_e),JSXExpressionContainer.prototype=Object.create(_e&&_e.prototype),JSXExpressionContainer.prototype.constructor=JSXExpressionContainer,JSXExpressionContainer.prototype.transpile=function transpile(be,Te){be.remove(this.start,this.expression.start),be.remove(this.expression.end,this.end),_e.prototype.transpile.call(this,be,Te)},JSXExpressionContainer}(xf),wm=function(_e){function JSXFragment(){_e.apply(this,arguments)}return _e&&(JSXFragment.__proto__=_e),JSXFragment.prototype=Object.create(_e&&_e.prototype),JSXFragment.prototype.constructor=JSXFragment,JSXFragment}(xm),Em=/[\u2028-\u2029]/g,Sm={ArrayExpression:Of,ArrowFunctionExpression:jf,AssignmentExpression:Nf,AwaitExpression:Gf,BinaryExpression:Wf,BreakStatement:Xf,CallExpression:Jf,CatchClause:Qf,ClassBody:em,ClassDeclaration:tm,ClassExpression:nm,ContinueStatement:am,DoWhileStatement:om,ExportNamedDeclaration:im,ExportDefaultDeclaration:rm,ForStatement:sm,ForInStatement:dm,ForOfStatement:lm,FunctionDeclaration:um,FunctionExpression:cm,Identifier:hm,IfStatement:pm,Import:gm,ImportDeclaration:fm,ImportDefaultSpecifier:mm,ImportSpecifier:ym,JSXAttribute:_m,JSXClosingElement:vm,JSXClosingFragment:Rm,JSXElement:xm,JSXExpressionContainer:bm,JSXFragment:wm,JSXOpeningElement:function(_e){function JSXOpeningElement(){_e.apply(this,arguments)}return _e&&(JSXOpeningElement.__proto__=_e),JSXOpeningElement.prototype=Object.create(_e&&_e.prototype),JSXOpeningElement.prototype.constructor=JSXOpeningElement,JSXOpeningElement.prototype.transpile=function transpile(be,Te){_e.prototype.transpile.call(this,be,Te),be.overwrite(this.start,this.name.start,this.program.jsx+"( ");var Pe="JSXIdentifier"===this.name.type&&this.name.name[0]===this.name.name[0].toLowerCase();Pe&&be.prependRight(this.name.start,"'");var pt=this.attributes.length,vt=this.name.end;if(pt){var xt,Tt,It,Mt=!1;for(xt=0;xt<pt;xt+=1)if("JSXSpreadAttribute"===this.attributes[xt].type){Mt=!0;break}for(vt=this.attributes[0].end,xt=0;xt<pt;xt+=1){var Lt=this.attributes[xt];if(xt>0&&(Lt.start===vt?be.prependRight(vt,", "):be.overwrite(vt,Lt.start,", ")),Mt&&"JSXSpreadAttribute"!==Lt.type){var Ft=this.attributes[xt-1],Ot=this.attributes[xt+1];Ft&&"JSXSpreadAttribute"!==Ft.type||be.prependRight(Lt.start,"{ "),Ot&&"JSXSpreadAttribute"!==Ot.type||be.appendLeft(Lt.end," }")}vt=Lt.end}if(Mt)if(1===pt)It=Pe?"',":",";else{if(!this.program.options.objectAssign)throw new Cf("Mixed JSX attributes ending in spread requires specified objectAssign option with 'Object.assign' or polyfill helper.",this);It=Pe?"', "+this.program.options.objectAssign+"({},":", "+this.program.options.objectAssign+"({},",Tt=")"}else It=Pe?"', {":", {",Tt=" }";be.prependRight(this.name.end,It),Tt&&be.appendLeft(this.attributes[pt-1].end,Tt)}else be.appendLeft(this.name.end,Pe?"', null":", null"),vt=this.name.end;this.selfClosing?be.overwrite(vt,this.end,this.attributes.length?")":" )"):be.remove(vt,this.end)},JSXOpeningElement}(xf),JSXOpeningFragment:function(_e){function JSXOpeningFragment(){_e.apply(this,arguments)}return _e&&(JSXOpeningFragment.__proto__=_e),JSXOpeningFragment.prototype=Object.create(_e&&_e.prototype),JSXOpeningFragment.prototype.constructor=JSXOpeningFragment,JSXOpeningFragment.prototype.transpile=function transpile(_e){_e.overwrite(this.start,this.end,this.program.jsx+"( "+this.program.jsxFragment+", null")},JSXOpeningFragment}(xf),JSXSpreadAttribute:function(_e){function JSXSpreadAttribute(){_e.apply(this,arguments)}return _e&&(JSXSpreadAttribute.__proto__=_e),JSXSpreadAttribute.prototype=Object.create(_e&&_e.prototype),JSXSpreadAttribute.prototype.constructor=JSXSpreadAttribute,JSXSpreadAttribute.prototype.transpile=function transpile(be,Te){be.remove(this.start,this.argument.start),be.remove(this.argument.end,this.end),_e.prototype.transpile.call(this,be,Te)},JSXSpreadAttribute}(xf),Literal:function(_e){function Literal(){_e.apply(this,arguments)}return _e&&(Literal.__proto__=_e),Literal.prototype=Object.create(_e&&_e.prototype),Literal.prototype.constructor=Literal,Literal.prototype.initialise=function initialise(){"string"==typeof this.value&&this.program.indentExclusionElements.push(this)},Literal.prototype.transpile=function transpile(_e,be){if(be.numericLiteral&&this.raw.match(/^0[bo]/i)&&_e.overwrite(this.start,this.end,String(this.value),{storeName:!0,contentOnly:!0}),this.regex){var Te=this.regex,Pe=Te.pattern,pt=Te.flags;be.stickyRegExp&&/y/.test(pt)&&Cf.missingTransform("the regular expression sticky flag","stickyRegExp",this),be.unicodeRegExp&&/u/.test(pt)&&_e.overwrite(this.start,this.end,"/"+Rf()(Pe,pt)+"/"+pt.replace("u",""),{contentOnly:!0})}else"string"==typeof this.value&&this.value.match(Em)&&_e.overwrite(this.start,this.end,this.raw.replace(Em,(function(_e){return"\u2028"==_e?"\\u2028":"\\u2029"})),{contentOnly:!0})},Literal}(xf),MemberExpression:function(_e){function MemberExpression(){_e.apply(this,arguments)}return _e&&(MemberExpression.__proto__=_e),MemberExpression.prototype=Object.create(_e&&_e.prototype),MemberExpression.prototype.constructor=MemberExpression,MemberExpression.prototype.transpile=function transpile(be,Te){Te.reservedProperties&&Sf[this.property.name]&&(be.overwrite(this.object.end,this.property.start,"['"),be.appendLeft(this.property.end,"']")),_e.prototype.transpile.call(this,be,Te)},MemberExpression}(xf),NewExpression:function(_e){function NewExpression(){_e.apply(this,arguments)}return _e&&(NewExpression.__proto__=_e),NewExpression.prototype=Object.create(_e&&_e.prototype),NewExpression.prototype.constructor=NewExpression,NewExpression.prototype.initialise=function initialise(be){if(be.spreadRest&&this.arguments.length)for(var Te=this.findLexicalBoundary(),Pe=this.arguments.length;Pe--;){var pt=this.arguments[Pe];if("SpreadElement"===pt.type&&isArguments(pt.argument)){this.argumentsArrayAlias=Te.getArgumentsArrayAlias();break}}_e.prototype.initialise.call(this,be)},NewExpression.prototype.transpile=function transpile(be,Te){if(_e.prototype.transpile.call(this,be,Te),Te.spreadRest&&this.arguments.length&&inlineSpreads(be,this,this.arguments),Te.spreadRest&&this.arguments.length){var Pe=this.arguments[0];spread(be,this.arguments,Pe.start,this.argumentsArrayAlias,!0)&&(be.prependRight(this.start+"new".length," (Function.prototype.bind.apply("),be.overwrite(this.callee.end,Pe.start,", [ null ].concat( "),be.appendLeft(this.end," ))"))}this.arguments.length&&removeTrailingComma(be,this.arguments[this.arguments.length-1].end)},NewExpression}(xf),ObjectExpression:function(_e){function ObjectExpression(){_e.apply(this,arguments)}return _e&&(ObjectExpression.__proto__=_e),ObjectExpression.prototype=Object.create(_e&&_e.prototype),ObjectExpression.prototype.constructor=ObjectExpression,ObjectExpression.prototype.transpile=function transpile(be,Te){var Pe;_e.prototype.transpile.call(this,be,Te);for(var pt=this.start+1,vt=0,xt=0,Tt=null,It=null,Mt=0;Mt<this.properties.length;++Mt){var Lt=this.properties[Mt];if("SpreadElement"===Lt.type){var Ft=Lt.argument;"ObjectExpression"===Ft.type||"Literal"===Ft.type&&"string"!=typeof Ft.value?"ObjectExpression"===Ft.type&&Ft.properties.length>0?(be.remove(Lt.start,Ft.properties[0].start),be.remove(Ft.properties[Ft.properties.length-1].end,Lt.end),(Pe=this.properties).splice.apply(Pe,[Mt,1].concat(Ft.properties)),Mt--):(be.remove(Lt.start,Mt===this.properties.length-1?Lt.end:this.properties[Mt+1].start),this.properties.splice(Mt,1),Mt--):(vt+=1,null===Tt&&(Tt=Mt))}else Lt.computed&&Te.computedProperty&&(xt+=1,null===It&&(It=Mt))}if(!vt||Te.objectRestSpread||xt&&Te.computedProperty){if(vt){if(!this.program.options.objectAssign)throw new Cf("Object spread operator requires specified objectAssign option with 'Object.assign' or polyfill helper.",this);for(var Ot=this.properties.length;Ot--;){var Vt=this.properties[Ot];if("Property"===Vt.type&&!xt){var qt=this.properties[Ot-1],Wt=this.properties[Ot+1];qt&&"Property"===qt.type||be.prependRight(Vt.start,"{"),Wt&&"Property"===Wt.type||be.appendLeft(Vt.end,"}")}"SpreadElement"===Vt.type&&(be.remove(Vt.start,Vt.argument.start),be.remove(Vt.argument.end,Vt.end))}pt=this.properties[0].start,xt?"SpreadElement"===this.properties[0].type?(be.overwrite(this.start,pt,this.program.options.objectAssign+"({}, "),be.remove(this.end-1,this.end),be.appendRight(this.end,")")):(be.prependLeft(this.start,this.program.options.objectAssign+"("),be.appendRight(this.end,")")):(be.overwrite(this.start,pt,this.program.options.objectAssign+"({}, "),be.overwrite(this.properties[this.properties.length-1].end,this.end,")"))}}else vt=0,Tt=null;if(xt&&Te.computedProperty){var $t,Kt,Jt=this.getIndentation();"VariableDeclarator"===this.parent.type&&1===this.parent.parent.declarations.length&&"Identifier"===this.parent.id.type?($t=!0,Kt=this.parent.id.alias||this.parent.id.name):("AssignmentExpression"===this.parent.type&&"ExpressionStatement"===this.parent.parent.type&&"Identifier"===this.parent.left.type||"AssignmentPattern"===this.parent.type&&"Identifier"===this.parent.left.type)&&($t=!0,Kt=this.parent.left.alias||this.parent.left.name),vt&&($t=!1),Kt=this.findScope(!1).resolveName(Kt);var Yt=pt,Qt=this.end;$t||(null===Tt||It<Tt?(Kt=this.findScope(!0).createDeclaration("obj"),be.prependRight(this.start,"( "+Kt+" = ")):Kt=null);for(var an,cn=this.properties.length,hn=!1,pn=!0,xn=0;xn<cn;xn+=1){var Pn=this.properties[xn],Ln=xn>0?this.properties[xn-1].end:Yt;if("Property"===Pn.type&&(Pn.computed||an&&!vt)){if(0===xn&&(Ln=this.start+1),an=Pn,Kt){var Fn=($t?";\n"+Jt+Kt:", "+Kt)+("Literal"===Pn.key.type||Pn.computed?"":".");Ln<Pn.start?be.overwrite(Ln,Pn.start,Fn):be.prependRight(Pn.start,Fn)}else{var jn=(Kt=this.findScope(!0).createDeclaration("obj"))+(Pn.computed?"":".");be.appendRight(Pn.start,"( "+Kt+" = {}, "+jn)}var $n=Pn.key.end;if(Pn.computed){for(;"]"!==be.original[$n];)$n+=1;$n+=1}"Literal"!==Pn.key.type||Pn.computed?Pn.shorthand||Pn.method&&!Pn.computed&&Te.conciseMethodProperty?be.overwrite(Pn.key.start,Pn.key.end,be.slice(Pn.key.start,Pn.key.end).replace(/:/," =")):(Pn.value.start>$n&&be.remove($n,Pn.value.start),be.prependLeft($n," = ")):be.overwrite(Pn.start,Pn.value.start,"["+be.slice(Pn.start,Pn.key.end)+"] = "),!Pn.method||!Pn.computed&&Te.conciseMethodProperty||(Pn.value.generator&&be.remove(Pn.start,Pn.key.start),be.prependRight(Pn.value.start,"function"+(Pn.value.generator?"*":"")+" "))}else"SpreadElement"===Pn.type?Kt&&xn>0&&(an||(an=this.properties[xn-1]),be.appendLeft(an.end,", "+Kt+" )"),an=null,Kt=null):(!pn&&vt&&(be.prependRight(Pn.start,"{"),be.appendLeft(Pn.end,"}")),hn=!0);if(pn&&("SpreadElement"===Pn.type||Pn.computed)){var ea=hn?this.properties[this.properties.length-1].end:this.end-1;","==be.original[ea]&&++ea;var na=be.slice(ea,Qt);be.prependLeft(Ln,na),be.remove(ea,Qt),pn=!1}var aa=Pn.end;if(xn<cn-1&&!hn)for(;","!==be.original[aa];)aa+=1;else xn==cn-1&&(aa=this.end);Pn.end!=aa&&be.overwrite(Pn.end,aa,"",{contentOnly:!0})}!$t&&Kt&&be.appendLeft(an.end,", "+Kt+" )")}},ObjectExpression}(xf),Property:function(_e){function Property(){_e.apply(this,arguments)}return _e&&(Property.__proto__=_e),Property.prototype=Object.create(_e&&_e.prototype),Property.prototype.constructor=Property,Property.prototype.initialise=function initialise(be){"get"!==this.kind&&"set"!==this.kind||!be.getterSetter||Cf.missingTransform("getters and setters","getterSetter",this),_e.prototype.initialise.call(this,be)},Property.prototype.transpile=function transpile(be,Te){if(_e.prototype.transpile.call(this,be,Te),Te.conciseMethodProperty&&!this.computed&&"ObjectPattern"!==this.parent.type)if(this.shorthand)be.prependRight(this.start,this.key.name+": ");else if(this.method){var Pe="";!1!==this.program.options.namedFunctionExpressions&&(Pe=" "+(Pe="Literal"===this.key.type&&"number"==typeof this.key.value?"":"Identifier"===this.key.type?Sf[this.key.name]||!/^[a-z_$][a-z0-9_$]*$/i.test(this.key.name)||this.value.body.scope.references[this.key.name]?this.findScope(!0).createIdentifier(this.key.name):this.key.name:this.findScope(!0).createIdentifier(this.key.value))),this.start<this.key.start&&be.remove(this.start,this.key.start),be.appendLeft(this.key.end,": "+(this.value.async?"async ":"")+"function"+(this.value.generator?"*":"")+Pe)}Te.reservedProperties&&Sf[this.key.name]&&(be.prependRight(this.key.start,"'"),be.appendLeft(this.key.end,"'"))},Property}(xf),ReturnStatement:function(_e){function ReturnStatement(){_e.apply(this,arguments)}return _e&&(ReturnStatement.__proto__=_e),ReturnStatement.prototype=Object.create(_e&&_e.prototype),ReturnStatement.prototype.constructor=ReturnStatement,ReturnStatement.prototype.initialise=function initialise(_e){this.loop=this.findNearest(Hf),this.nearestFunction=this.findNearest(/Function/),this.loop&&(!this.nearestFunction||this.loop.depth>this.nearestFunction.depth)&&(this.loop.canReturn=!0,this.shouldWrap=!0),this.argument&&this.argument.initialise(_e)},ReturnStatement.prototype.transpile=function transpile(_e,be){var Te=this.shouldWrap&&this.loop&&this.loop.shouldRewriteAsFunction;this.argument?(Te&&_e.prependRight(this.argument.start,"{ v: "),this.argument.transpile(_e,be),Te&&_e.appendLeft(this.argument.end," }")):Te&&_e.appendLeft(this.start+6," {}")},ReturnStatement}(xf),Super:function(_e){function Super(){_e.apply(this,arguments)}return _e&&(Super.__proto__=_e),Super.prototype=Object.create(_e&&_e.prototype),Super.prototype.constructor=Super,Super.prototype.initialise=function initialise(_e){if(_e.classes){if(this.method=this.findNearest("MethodDefinition"),!this.method)throw new Cf("use of super outside class method",this);var be=this.findNearest("ClassBody").parent;if(this.superClassName=be.superClass&&(be.superClass.name||"superclass"),!this.superClassName)throw new Cf("super used in base class",this);if(this.isCalled="CallExpression"===this.parent.type&&this===this.parent.callee,"constructor"!==this.method.kind&&this.isCalled)throw new Cf("super() not allowed outside class constructor",this);if(this.isMember="MemberExpression"===this.parent.type,!this.isCalled&&!this.isMember)throw new Cf("Unexpected use of `super` (expected `super(...)` or `super.*`)",this)}if(_e.arrow){var Te=this.findLexicalBoundary(),Pe=this.findNearest("ArrowFunctionExpression"),pt=this.findNearest(Hf);Pe&&Pe.depth>Te.depth&&(this.thisAlias=Te.getThisAlias()),pt&&pt.body.contains(this)&&pt.depth>Te.depth&&(this.thisAlias=Te.getThisAlias())}},Super.prototype.transpile=function transpile(_e,be){if(be.classes){var Te=this.isCalled||this.method.static?this.superClassName:this.superClassName+".prototype";_e.overwrite(this.start,this.end,Te,{storeName:!0,contentOnly:!0});var Pe=this.isCalled?this.parent:this.parent.parent;if(Pe&&"CallExpression"===Pe.type){this.noCall||_e.appendLeft(Pe.callee.end,".call");var pt=this.thisAlias||"this";Pe.arguments.length?_e.appendLeft(Pe.arguments[0].start,pt+", "):_e.appendLeft(Pe.end-1,""+pt)}}},Super}(xf),TaggedTemplateExpression:function(_e){function TaggedTemplateExpression(){_e.apply(this,arguments)}return _e&&(TaggedTemplateExpression.__proto__=_e),TaggedTemplateExpression.prototype=Object.create(_e&&_e.prototype),TaggedTemplateExpression.prototype.constructor=TaggedTemplateExpression,TaggedTemplateExpression.prototype.initialise=function initialise(be){be.templateString&&!be.dangerousTaggedTemplateString&&Cf.missingTransform("tagged template strings","templateString",this,"dangerousTaggedTemplateString"),_e.prototype.initialise.call(this,be)},TaggedTemplateExpression.prototype.transpile=function transpile(be,Te){if(Te.templateString&&Te.dangerousTaggedTemplateString){var Pe=this.quasi.expressions.concat(this.quasi.quasis).sort((function(_e,be){return _e.start-be.start})),pt=this.program.body.scope,vt=this.quasi.quasis.map((function(_e){return JSON.stringify(_e.value.cooked)})).join(", "),xt=this.program.templateLiteralQuasis[vt];xt||(xt=pt.createIdentifier("templateObject"),be.prependLeft(this.program.prependAt,"var "+xt+" = Object.freeze(["+vt+"]);\n"),this.program.templateLiteralQuasis[vt]=xt),be.overwrite(this.tag.end,Pe[0].start,"("+xt);var Tt=Pe[0].start;Pe.forEach((function(_e){"TemplateElement"===_e.type?be.remove(Tt,_e.end):be.overwrite(Tt,_e.start,", "),Tt=_e.end})),be.overwrite(Tt,this.end,")")}_e.prototype.transpile.call(this,be,Te)},TaggedTemplateExpression}(xf),TemplateElement:function(_e){function TemplateElement(){_e.apply(this,arguments)}return _e&&(TemplateElement.__proto__=_e),TemplateElement.prototype=Object.create(_e&&_e.prototype),TemplateElement.prototype.constructor=TemplateElement,TemplateElement.prototype.initialise=function initialise(){this.program.indentExclusionElements.push(this)},TemplateElement}(xf),TemplateLiteral:function(_e){function TemplateLiteral(){_e.apply(this,arguments)}return _e&&(TemplateLiteral.__proto__=_e),TemplateLiteral.prototype=Object.create(_e&&_e.prototype),TemplateLiteral.prototype.constructor=TemplateLiteral,TemplateLiteral.prototype.transpile=function transpile(be,Te){if(_e.prototype.transpile.call(this,be,Te),Te.templateString&&"TaggedTemplateExpression"!==this.parent.type){var Pe=this.expressions.concat(this.quasis).sort((function(_e,be){return _e.start-be.start||_e.end-be.end})).filter((function(_e,be){return"TemplateElement"!==_e.type||(!!_e.value.raw||!be)}));if(Pe.length>=3){var pt=Pe[0],vt=Pe[2];"TemplateElement"===pt.type&&""===pt.value.raw&&"TemplateElement"===vt.type&&Pe.shift()}var xt=!(1===this.quasis.length&&0===this.expressions.length||"TemplateLiteral"===this.parent.type||"AssignmentExpression"===this.parent.type||"AssignmentPattern"===this.parent.type||"VariableDeclarator"===this.parent.type||"BinaryExpression"===this.parent.type&&"+"===this.parent.operator);xt&&be.appendRight(this.start,"(");var Tt=this.start;Pe.forEach((function(_e,Te){var Pe=0===Te?xt?"(":"":" + ";if("TemplateElement"===_e.type)be.overwrite(Tt,_e.end,Pe+JSON.stringify(_e.value.cooked));else{var pt="Identifier"!==_e.type;pt&&(Pe+="("),be.remove(Tt,_e.start),Pe&&be.prependRight(_e.start,Pe),pt&&be.appendLeft(_e.end,")")}Tt=_e.end})),xt&&be.appendLeft(Tt,")"),be.overwrite(Tt,this.end,"",{contentOnly:!0})}},TemplateLiteral}(xf),ThisExpression:function(_e){function ThisExpression(){_e.apply(this,arguments)}return _e&&(ThisExpression.__proto__=_e),ThisExpression.prototype=Object.create(_e&&_e.prototype),ThisExpression.prototype.constructor=ThisExpression,ThisExpression.prototype.initialise=function initialise(_e){var be=this.findLexicalBoundary();if(_e.letConst)for(var Te=this.findNearest(Hf);Te&&Te.depth>be.depth;)Te.thisRefs.push(this),Te=Te.parent.findNearest(Hf);if(_e.arrow){var Pe=this.findNearest("ArrowFunctionExpression");Pe&&Pe.depth>be.depth&&(this.alias=be.getThisAlias())}},ThisExpression.prototype.transpile=function transpile(_e){this.alias&&_e.overwrite(this.start,this.end,this.alias,{storeName:!0,contentOnly:!0})},ThisExpression}(xf),UpdateExpression:function(_e){function UpdateExpression(){_e.apply(this,arguments)}return _e&&(UpdateExpression.__proto__=_e),UpdateExpression.prototype=Object.create(_e&&_e.prototype),UpdateExpression.prototype.constructor=UpdateExpression,UpdateExpression.prototype.initialise=function initialise(be){if("Identifier"===this.argument.type){var Te=this.findScope(!1).findDeclaration(this.argument.name),Pe=Te&&Te.node.ancestor(3);Pe&&"ForStatement"===Pe.type&&Pe.body.contains(this)&&(Pe.reassigned[this.argument.name]=!0)}_e.prototype.initialise.call(this,be)},UpdateExpression.prototype.transpile=function transpile(be,Te){"Identifier"===this.argument.type&&checkConst(this.argument,this.findScope(!1)),_e.prototype.transpile.call(this,be,Te)},UpdateExpression}(xf),VariableDeclaration:function(_e){function VariableDeclaration(){_e.apply(this,arguments)}return _e&&(VariableDeclaration.__proto__=_e),VariableDeclaration.prototype=Object.create(_e&&_e.prototype),VariableDeclaration.prototype.constructor=VariableDeclaration,VariableDeclaration.prototype.initialise=function initialise(_e){this.scope=this.findScope("var"===this.kind),this.declarations.forEach((function(be){return be.initialise(_e)}))},VariableDeclaration.prototype.transpile=function transpile(_e,be){var Te=this,Pe=this.getIndentation(),pt=this.kind;if(be.letConst&&"var"!==pt&&(pt="var",_e.overwrite(this.start,this.start+this.kind.length,pt,{contentOnly:!0,storeName:!0})),be.destructuring&&"ForOfStatement"!==this.parent.type&&"ForInStatement"!==this.parent.type){var vt,xt=this.start;this.declarations.forEach((function(pt,Tt){if(pt.transpile(_e,be),"Identifier"===pt.id.type)Tt>0&&"Identifier"!==Te.declarations[Tt-1].id.type&&_e.overwrite(xt,pt.id.start,"var ");else{var It=Hf.test(Te.parent.type);0===Tt?_e.remove(xt,pt.id.start):_e.overwrite(xt,pt.id.start,";\n"+Pe);var Mt="Identifier"===pt.init.type&&!pt.init.rewritten,Lt=Mt?pt.init.alias||pt.init.name:pt.findScope(!0).createIdentifier("ref");xt=pt.start;var Ft=[];Mt?_e.remove(pt.id.end,pt.end):Ft.push((function(be,Te,Pe){_e.prependRight(pt.id.end,"var "+Lt),_e.appendLeft(pt.init.end,""+Pe),_e.move(pt.id.end,pt.end,be)}));var Ot=pt.findScope(!1);destructure(_e,(function(_e){return Ot.createIdentifier(_e)}),(function(_e){var be=_e.name;return Ot.resolveName(be)}),pt.id,Lt,It,Ft);var Vt=It?"var ":"",qt=It?", ":";\n"+Pe;Ft.forEach((function(_e,be){Tt===Te.declarations.length-1&&be===Ft.length-1&&(qt=It?"":";"),_e(pt.start,0===be?Vt:"",qt)}))}xt=pt.end,vt="Identifier"!==pt.id.type})),vt&&this.end>xt&&_e.overwrite(xt,this.end,"",{contentOnly:!0})}else this.declarations.forEach((function(Te){Te.transpile(_e,be)}))},VariableDeclaration}(xf),VariableDeclarator:function(_e){function VariableDeclarator(){_e.apply(this,arguments)}return _e&&(VariableDeclarator.__proto__=_e),VariableDeclarator.prototype=Object.create(_e&&_e.prototype),VariableDeclarator.prototype.constructor=VariableDeclarator,VariableDeclarator.prototype.initialise=function initialise(be){var Te=this.parent.kind;"let"===Te&&"ForStatement"===this.parent.parent.type&&(Te="for.let"),this.parent.scope.addDeclaration(this.id,Te),_e.prototype.initialise.call(this,be)},VariableDeclarator.prototype.transpile=function transpile(_e,be){if(!this.init&&be.letConst&&"var"!==this.parent.kind){var Te=this.findNearest(/Function|^For(In|Of)?Statement|^(?:Do)?WhileStatement/);!Te||/Function/.test(Te.type)||this.isLeftDeclaratorOfLoop()||_e.appendLeft(this.id.end," = (void 0)")}this.id&&this.id.transpile(_e,be),this.init&&this.init.transpile(_e,be)},VariableDeclarator.prototype.isLeftDeclaratorOfLoop=function isLeftDeclaratorOfLoop(){return this.parent&&"VariableDeclaration"===this.parent.type&&this.parent.parent&&("ForInStatement"===this.parent.parent.type||"ForOfStatement"===this.parent.parent.type)&&this.parent.parent.left&&this.parent.parent.left.declarations[0]===this},VariableDeclarator}(xf),WhileStatement:om},Cm={Program:["body"],Literal:[]},Am={IfStatement:"consequent",ForStatement:"body",ForInStatement:"body",ForOfStatement:"body",WhileStatement:"body",DoWhileStatement:"body",ArrowFunctionExpression:"body"};function wrap(_e,be){if(_e)if("length"in _e)for(var Te=_e.length;Te--;)wrap(_e[Te],be);else if(!_e.__wrapped){_e.__wrapped=!0,Cm[_e.type]||(Cm[_e.type]=Object.keys(_e).filter((function(be){return"object"==typeof _e[be]})));var Pe=Am[_e.type];if(Pe&&"BlockStatement"!==_e[Pe].type){var pt=_e[Pe];_e[Pe]={start:pt.start,end:pt.end,type:"BlockStatement",body:[pt],synthetic:!0}}_e.parent=be,_e.program=be.program||be,_e.depth=be.depth+1,_e.keys=Cm[_e.type],_e.indentation=void 0;for(var vt=0,xt=Cm[_e.type];vt<xt.length;vt+=1){var Tt=xt[vt];wrap(_e[Tt],_e)}_e.program.magicString.addSourcemapLocation(_e.start),_e.program.magicString.addSourcemapLocation(_e.end);var It=("BlockStatement"===_e.type?kf:Sm[_e.type])||xf;_e.__proto__=It.prototype}}function Program(_e,be,Te,Pe){this.type="Root",this.jsx=Pe.jsx||"React.createElement",this.jsxFragment=Pe.jsxFragment||"React.Fragment",this.options=Pe,this.source=_e,this.magicString=new mf(_e),this.ast=be,this.depth=0,wrap(this.body=be,this),this.body.__proto__=kf.prototype,this.templateLiteralQuasis=Object.create(null);for(var pt=0;pt<this.body.body.length;++pt)if(!this.body.body[pt].directive){this.prependAt=this.body.body[pt].start;break}this.objectWithoutPropertiesHelper=null,this.indentExclusionElements=[],this.body.initialise(Te),this.indentExclusions=Object.create(null);for(var vt=0,xt=this.indentExclusionElements;vt<xt.length;vt+=1)for(var Tt=xt[vt],It=Tt.start;It<Tt.end;It+=1)this.indentExclusions[It]=!0;this.body.transpile(this.magicString,Te)}Program.prototype={export:function export$1(_e){return void 0===_e&&(_e={}),{code:this.magicString.toString(),map:this.magicString.generateMap({file:_e.file,source:_e.source,includeContent:!1!==_e.includeContent})}},findNearest:function findNearest(){return null},findScope:function findScope(){return null},getObjectWithoutPropertiesHelper:function getObjectWithoutPropertiesHelper(_e){return this.objectWithoutPropertiesHelper||(this.objectWithoutPropertiesHelper=this.body.scope.createIdentifier("objectWithoutProperties"),_e.prependLeft(this.prependAt,"function "+this.objectWithoutPropertiesHelper+" (obj, exclude) { var target = {}; for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k) && exclude.indexOf(k) === -1) target[k] = obj[k]; return target; }\n")),this.objectWithoutPropertiesHelper}};var Tm={chrome:{48:610719,49:652287,50:783359,51:783359,52:1045503,53:1045503,54:1045503,55:3142655,56:3142655,57:3142655,58:4191231,59:4191231,60:8385535,61:8385535,62:8385535,63:8385535,64:8385535,65:8385535,66:8385535,67:8385535,68:8385535,69:8385535,70:8385535,71:8385535},firefox:{43:643515,44:643515,45:643519,46:774591,47:774655,48:774655,49:774655,50:774655,51:775167,52:4191231,53:4191231,54:4191231,55:8385535,56:8385535,57:8385535,58:8385535,59:8385535,60:8385535,61:8385535,62:8385535,63:8385535,64:8385535},safari:{8:524297,9:594141,10:1831935,10.1:4191231,11:4191231,11.1:8385535,12:8385535},ie:{8:0,9:524289,10:524289,11:524289},edge:{12:610459,13:774559,14:2085887,15:4183039,16:4183039,17:4183039,18:4183039,19:4183039},node:{"0.10":524289,.12:524417,4:594335,5:594335,6:783359,8:4191231,8.3:8385535,8.7:8385535,"8.10":8385535}},Dm=["getterSetter","arrow","classes","computedProperty","conciseMethodProperty","defaultParameter","destructuring","forOf","generator","letConst","moduleExport","moduleImport","numericLiteral","parameterDestructuring","spreadRest","stickyRegExp","templateString","unicodeRegExp","exponentiation","reservedProperties","trailingFunctionCommas","asyncAwait","objectRestSpread"],km=kg.Parser.extend(Og.ZP,Mg()()),Pm=["dangerousTaggedTemplateString","dangerousForOf"];function target(_e){var be=Object.keys(_e).length?8388607:524289;Object.keys(_e).forEach((function(Te){var Pe=Tm[Te];if(!Pe)throw new Error("Unknown environment '"+Te+"'. Please raise an issue at https://github.com/bublejs/buble/issues");var pt=_e[Te];if(!(pt in Pe))throw new Error("Support data exists for the following versions of "+Te+": "+Object.keys(Pe).join(", ")+". Please raise an issue at https://github.com/bublejs/buble/issues");var vt=Pe[pt];be&=vt}));var Te=Object.create(null);return Dm.forEach((function(_e,Pe){Te[_e]=!(be&1<<Pe)})),Pm.forEach((function(_e){Te[_e]=!1})),Te}function transform(_e,be){var Te;void 0===be&&(be={});var Pe=null;try{Te=km.parse(_e,{ecmaVersion:10,preserveParens:!0,sourceType:"module",allowAwaitOutsideFunction:!0,allowReturnOutsideFunction:!0,allowHashBang:!0,onComment:function(_e,be){if(!Pe){var Te=/@jsx\s+([^\s]+)/.exec(be);Te&&(Pe=Te[1])}}}),be.jsx=Pe||be.jsx}catch(be){throw be.snippet=getSnippet(_e,be.loc),be.toString=function(){return be.name+": "+be.message+"\n"+be.snippet},be}var pt=target(be.target||{});return Object.keys(be.transforms||{}).forEach((function(_e){if("modules"===_e)return"moduleImport"in be.transforms||(pt.moduleImport=be.transforms.modules),void("moduleExport"in be.transforms||(pt.moduleExport=be.transforms.modules));if(!(_e in pt))throw new Error("Unknown transform '"+_e+"'");pt[_e]=be.transforms[_e]})),!0===be.objectAssign&&(be.objectAssign="Object.assign"),new Program(_e,Te,pt,be).export(be)}function walk(_e,{enter:be,leave:Te}){return visit(_e,null,be,Te)}let Im=!1,Mm=!1,Lm=null;const Fm={skip:()=>Im=!0,remove:()=>Mm=!0,replace:_e=>Lm=_e},Bm={};function replace(_e,be,Te,Pe){_e&&(null!==Te?_e[be][Te]=Pe:_e[be]=Pe)}function remove(_e,be,Te){_e&&(null!==Te?_e[be].splice(Te,1):delete _e[be])}function visit(_e,be,Te,Pe,pt,vt){if(_e){if(Te){const Pe=Im,xt=Mm,Tt=Lm;Im=!1,Mm=!1,Lm=null,Te.call(Fm,_e,be,pt,vt),Lm&&replace(be,pt,vt,_e=Lm),Mm&&remove(be,pt,vt);const It=Im,Mt=Mm;if(Im=Pe,Mm=xt,Lm=Tt,It)return _e;if(Mt)return null}const xt=_e.type&&Bm[_e.type]||(Bm[_e.type]=Object.keys(_e).filter((be=>"object"==typeof _e[be])));for(let be=0;be<xt.length;be+=1){const pt=xt[be],vt=_e[pt];if(Array.isArray(vt))for(let be=0,xt=0;be<vt.length;be+=1,xt+=1)vt[be]&&vt[be].type&&(visit(vt[be],_e,Te,Pe,pt,xt)||be--);else vt&&vt.type&&visit(vt,_e,Te,Pe,pt,null)}if(Pe){const Te=Lm,xt=Mm;Lm=null,Mm=!1,Pe.call(Fm,_e,be,pt,vt),Lm&&replace(be,pt,vt,_e=Lm),Mm&&remove(be,pt,vt);const Tt=Mm;if(Lm=Te,Mm=xt,Tt)return null}}return _e}__webpack_require__(89554),__webpack_require__(54747);var Om,zm=/import\s*['"]([^'"]+)['"];?/gi,jm=/import\s*(\*\s*as)?\s*(\w*?)\s*,?\s*(?:\{([\s\S]*?)\})?\s*from\s*['"]([^'"]+)['"];?/gi;function alias(_e){var be=(_e=_e.trim()).split(" as ");return be.length>1&&(_e=be.shift()),{key:_e,name:be[0]}}function generate(_e,be,Te,Pe){var pt,vt=be.replace(/\W/g,"_")+"$"+Om++,xt="const "+alias(vt).name+" = "+(be=Pe+"('"+be+"')")+";";return Te&&(xt+="\nconst "+Te+" = "+vt+".default || "+vt+";"),_e.forEach((function(_e){pt=alias(_e),xt+="\nconst "+pt.name+" = "+vt+"."+pt.key+";"})),xt}var Nm={ecmaVersion:2019,sourceType:"module"};function getAst(_e){try{return kg.Parser.parse(_e,Object.assign({},Nm))}catch(_e){return}}var Vm=function hasImports(_e){return!!_e.match(/import[\S\s]+?['"]([^'"]+)['"];?/m)};function transpileImports(_e){if(!Vm(_e))return _e;var be=getAst(_e);if(!be)return _e;var Te=0;return walk(be,{enter:function enter(be){if("ImportDeclaration"===be.type&&be.source){var Pe=be.start+Te,pt=be.end+Te,vt=_e.substring(Pe,pt),xt=(void 0===Tt&&(Tt="require"),Om=0,vt.replace(jm,(function(_e,be,Te,Pe,pt){return generate(Pe?Pe.split(",").filter((function(_e){return _e.trim()})):[],pt,Te,Tt)})).replace(zm,(function(_e,be){return Tt+"('"+be+"');"})));_e=_e.substring(0,Pe)+xt+_e.substring(pt),Te+=xt.length-vt.length}var Tt}}),_e}var Um=function compile(_e,be){return transform(_e,be).code},Gm=function startsWithJsx(_e){return!!_e.trim().match(/^</)},Zm=function wrapCodeInFragment(_e){return"<React.Fragment>"+_e+"</React.Fragment>;"};function compileCode(_e,be,Te){try{var Pe=Gm(_e)?Zm(_e):_e;return transpileImports(Um(Pe,be))}catch(_e){Te&&Te(_e)}return""}var qm=__webpack_require__(13311),Wm=__webpack_require__.n(qm),Hm=function unsemicolon(_e){return _e.replace(/;\s*$/,"")};function splitExampleCode(_e){var be=getAst(_e);if(!be)return{head:"",example:_e};var Te=Wm()(be.body.reverse(),{type:"ExpressionStatement"});if(!Te)return{head:"",example:_e};var Pe=Te.start,pt=Te.end,vt=Hm(_e.substring(0,Pe));return{head:vt,example:vt+";\nreturn ("+Hm(_e.substring(Pe,pt))+");"}}var $m=function(_e){var be,Pe;Pe=_e,(be=ReactExample).prototype=Object.create(Pe.prototype),be.prototype.constructor=be,be.__proto__=Pe;var pt;pt=ReactExample;function ReactExample(){return _e.apply(this,arguments)||this}var vt=ReactExample.prototype;return vt.shouldComponentUpdate=function shouldComponentUpdate(_e){return this.props.code!==_e.code},vt.getExampleComponent=function getExampleComponent(_e){return this.props.evalInContext("\n\t\t\t"+_e+"\n\t\t")},vt.render=function render(){var _e=this.props,be=_e.code,Pe=_e.compilerConfig,pt=void 0===Pe?{}:Pe,vt=_e.onError,xt=compileCode(be,pt,vt);if(!xt)return null;var Tt=splitExampleCode(xt).example,It=this.getExampleComponent(Tt);return Te.createElement(xg,{onError:vt},Te.createElement(It,null))},ReactExample}(Te.Component);function Preview_assertThisInitialized(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function Preview_defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}!function ReactExample_defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}($m,"propTypes",{code:pt().string.isRequired,evalInContext:pt().func.isRequired,onError:pt().func.isRequired,compilerConfig:pt().object});var Xm=function improveErrorMessage(_e){return _e.replace("Check the render method of `StateHolder`.","Check the code of your example in a Markdown file or in the editor below.")},Km=function(_e){var Pe,pt;pt=_e,(Pe=Preview).prototype=Object.create(pt.prototype),Pe.prototype.constructor=Pe,Pe.__proto__=pt;var vt;vt=Preview;function Preview(){for(var be,Te=arguments.length,Pe=new Array(Te),pt=0;pt<Te;pt++)Pe[pt]=arguments[pt];return Preview_defineProperty(Preview_assertThisInitialized(be=_e.call.apply(_e,[this].concat(Pe))||this),"mountNode",null),Preview_defineProperty(Preview_assertThisInitialized(be),"state",{error:null}),Preview_defineProperty(Preview_assertThisInitialized(be),"handleError",(function(_e){be.unmountPreview(),be.setState({error:Xm(_e.toString())}),console.error(_e)})),be}var xt=Preview.prototype;return xt.componentDidMount=function componentDidMount(){this.context.codeRevision>0&&console.clear(),this.executeCode()},xt.shouldComponentUpdate=function shouldComponentUpdate(_e,be){return this.state.error!==be.error||this.props.code!==_e.code},xt.componentDidUpdate=function componentDidUpdate(_e){this.props.code!==_e.code&&this.executeCode()},xt.componentWillUnmount=function componentWillUnmount(){this.unmountPreview()},xt.unmountPreview=function unmountPreview(){this.mountNode&&be.unmountComponentAtNode(this.mountNode)},xt.executeCode=function executeCode(){var _e=this;this.setState({error:null});var Pe=this.props.code;if(Pe){var pt=Te.createElement($m,{code:Pe,evalInContext:this.props.evalInContext,onError:this.handleError,compilerConfig:this.context.config.compilerConfig});window.requestAnimationFrame((function(){try{be.render(pt,_e.mountNode)}catch(be){_e.handleError(be)}}))}},xt.render=function render(){var _e=this,be=this.state.error;return Te.createElement(Te.Fragment,null,Te.createElement("div",{"data-testid":"mountNode",ref:function ref(be){return _e.mountNode=be}}),be&&Te.createElement(_g,{message:be}))},Preview}(Te.Component);function Slot_extends(){return(Slot_extends=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}function Slot(_e){var be=_e.name,Pe=_e.active,pt=_e.onlyActive,vt=_e.className,xt=_e.props,Tt=void 0===xt?{}:xt,It=(0,up.E)().slots,Mt=It[be];if(!Mt)throw new Error('Slot "'+be+'" not found, available slots: '+Object.keys(It).join(", "));var Lt=Mt.map((function(_e,be){var vt=_e,xt=vt.id,It=vt.render,Mt=Tt;if(xt&&It){if(pt&&xt!==Pe)return null;var Lt=Tt.onClick;Mt=Object.assign({},Tt,{name:xt,active:Pe?xt===Pe:void 0,onClick:Lt&&function(){for(var _e=arguments.length,be=new Array(_e),Te=0;Te<_e;Te++)be[Te]=arguments[Te];return Lt.apply(void 0,[xt].concat(be))}});var Ft=It;return Te.createElement(Ft,Slot_extends({key:be},Mt))}var Ot=_e;return Te.createElement(Ot,Slot_extends({key:be},Mt))})).filter(Boolean);return 0===Lt.length?null:Te.createElement("div",{className:vt},Lt)}function PlaygroundRenderer_extends(){return(PlaygroundRenderer_extends=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}function PlaygroundRenderer_objectWithoutPropertiesLoose(_e,be){if(null==_e)return{};var Te,Pe,pt={},vt=Object.keys(_e);for(Pe=0;Pe<vt.length;Pe++)Te=vt[Pe],be.indexOf(Te)>=0||(pt[Te]=_e[Te]);return pt}Preview_defineProperty(Km,"propTypes",{code:pt().string.isRequired,evalInContext:pt().func.isRequired}),Preview_defineProperty(Km,"contextType",up.Z),Slot.propTypes={name:pt().string.isRequired,active:pt().string,onlyActive:pt().bool,props:pt().object,className:pt().string};var Jm=function PlaygroundRenderer(_e){var be,Pe=_e.classes,pt=_e.exampleIndex,vt=_e.name,xt=_e.padded,Tt=_e.preview,It=_e.previewProps,Mt=_e.tabButtons,Lt=_e.tabBody,Ft=_e.toolbar,Ot=It.className,Vt=PlaygroundRenderer_objectWithoutPropertiesLoose(It,["className"]),qt=(0,Nr.Z)(Pe.preview,Ot,((be={})[Pe.padded]=xt,be));return Te.createElement("div",{className:Pe.root,"data-testid":vt+"-example-"+pt},Te.createElement("div",PlaygroundRenderer_extends({className:qt},Vt,{"data-preview":vt,"data-testid":"preview-wrapper"}),Tt),Te.createElement("div",{className:Pe.controls},Te.createElement("div",{className:Pe.tabs},Mt),Te.createElement("div",{className:Pe.toolbar},Ft)),Te.createElement("div",{className:Pe.tab},Lt))};Jm.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,exampleIndex:pt().number.isRequired,name:pt().string.isRequired,padded:pt().bool.isRequired,preview:pt().node.isRequired,previewProps:pt().object.isRequired,tabButtons:pt().node.isRequired,tabBody:pt().node.isRequired,toolbar:pt().node.isRequired};var Ym=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.color,Pe=_e.borderRadius;return{root:{marginBottom:be[4]},preview:{padding:be[2],border:[[1,Te.border,"solid"]],borderRadius:Pe,width:"100%",display:"inline-block"},controls:{display:"flex",alignItems:"center",marginBottom:be[1]},toolbar:{marginLeft:"auto"},tab:{},padded:{"& > *":{isolate:!1,marginLeft:-be[1],marginRight:-be[1],"& > *":{isolate:!1,marginRight:be[1],marginLeft:be[1]}}}}}))(Jm),Qm=(__webpack_require__(43371),Object.freeze({all:"all",section:"section",component:"component",example:"example",notFound:"notFound"})),ey=Object.freeze({hide:"hide",collapse:"collapse",expand:"expand"}),ty=Object.freeze({hide:"hide",collapse:"collapse",expand:"expand"});function Playground_assertThisInitialized(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function Playground_defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}var ny=function(_e){var be,Pe;Pe=_e,(be=Playground).prototype=Object.create(Pe.prototype),be.prototype.constructor=be,be.__proto__=Pe;var pt;pt=Playground;function Playground(){for(var be,Te=arguments.length,Pe=new Array(Te),pt=0;pt<Te;pt++)Pe[pt]=arguments[pt];return Playground_defineProperty(Playground_assertThisInitialized(be=_e.call.apply(_e,[this].concat(Pe))||this),"handleChange",mg()((function(_e){be.setState({code:_e})}),be.context.config.previewDelay)),Playground_defineProperty(Playground_assertThisInitialized(be),"state",{code:be.props.code,prevCode:be.props.code,activeTab:be.getInitialActiveTab()?Yh:void 0}),Playground_defineProperty(Playground_assertThisInitialized(be),"handleTabChange",(function(_e){be.setState((function(be){return{activeTab:be.activeTab!==_e?_e:void 0}}))})),be}Playground.getDerivedStateFromProps=function getDerivedStateFromProps(_e,be){var Te=_e.code;return be.prevCode!==Te?{prevCode:Te,code:Te}:null};var vt=Playground.prototype;return vt.componentWillUnmount=function componentWillUnmount(){this.handleChange.cancel()},vt.getInitialActiveTab=function getInitialActiveTab(){var _e=this.props.exampleMode===ey.expand;return void 0!==this.props.settings.showcode?this.props.settings.showcode:_e},vt.render=function render(){var _e=this.state,be=_e.code,Pe=_e.activeTab,pt=this.props,vt=pt.evalInContext,xt=pt.index,Tt=pt.name,It=pt.settings,Mt=pt.exampleMode,Lt=this.context.displayMode,Ft=Mt===ey.hide,Ot=It.noeditor||Ft,Vt=Te.createElement(Km,{code:be,evalInContext:vt});return Ot?Te.createElement(Wr,null,Vt):Te.createElement(Ym,{name:Tt,exampleIndex:xt,padded:!!It.padded,preview:Vt,previewProps:It.props||{},tabButtons:Te.createElement(Slot,{name:"exampleTabButtons",active:Pe,props:{onClick:this.handleTabChange}}),tabBody:Te.createElement(Slot,{name:"exampleTabs",active:Pe,onlyActive:!0,props:{code:be,onChange:this.handleChange,evalInContext:vt}}),toolbar:Te.createElement(Slot,{name:"exampleToolbar",props:{name:Tt,isolated:Lt===Qm.example,example:xt}})})},Playground}(Te.Component);Playground_defineProperty(ny,"propTypes",{code:pt().string.isRequired,evalInContext:pt().func.isRequired,index:pt().number.isRequired,name:pt().string.isRequired,exampleMode:pt().string.isRequired,settings:pt().object}),Playground_defineProperty(ny,"defaultProps",{settings:{}}),Playground_defineProperty(ny,"contextType",up.Z);var ay=ny,ry=function ExamplesRenderer(_e){var be=_e.classes,Pe=_e.name,pt=_e.children;return Te.createElement("article",{className:be.root,"data-testid":Pe+"-examples"},pt)};ry.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,name:pt().string.isRequired,children:pt().node};var iy=(0,vt.Z)((function styles(){return{root:{}}}))(ry),oy=function Examples(_e){var be=_e.examples,Pe=_e.name,pt=_e.exampleMode,vt=(0,up.E)().codeRevision;return Te.createElement(iy,{name:Pe},be.map((function(_e,be){switch(_e.type){case"code":return Te.createElement(ay,{code:_e.content,evalInContext:_e.evalInContext,key:vt+"/"+be,name:Pe,index:be,settings:_e.settings,exampleMode:pt});case"markdown":return Te.createElement(Ns,{text:_e.content,key:be});default:return null}})))};oy.propTypes={examples:pt().array.isRequired,name:pt().string.isRequired,exampleMode:pt().string.isRequired};var sy=oy,dy=function SectionHeadingRenderer(_e){var be,Pe=_e.classes,pt=_e.children,vt=_e.toolbar,xt=_e.id,Tt=_e.href,It=_e.depth,Mt=_e.deprecated,Lt=Math.min(6,It),Ft=(0,Nr.Z)(Pe.sectionName,((be={})[Pe.isDeprecated]=Mt,be));return Te.createElement("div",{className:Pe.wrapper},Te.createElement(Xr,{level:Lt,id:xt},Te.createElement("a",{href:Tt,className:Ft},pt)),Te.createElement("div",{className:Pe.toolbar},vt))};dy.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,children:pt().node,toolbar:pt().node,id:pt().string.isRequired,href:pt().string,depth:pt().number.isRequired,deprecated:pt().bool};var ly=(0,vt.Z)((function styles(_e){var be=_e.color;return{wrapper:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:_e.space[1]},toolbar:{marginLeft:"auto"},sectionName:{"&:hover, &:active":{isolate:!1,textDecoration:"underline",cursor:"pointer"}},isDeprecated:{color:be.light,"&, &:hover":{textDecoration:"line-through"}}}}))(dy);function SectionHeading_extends(){return(SectionHeading_extends=Object.assign||function(_e){for(var be=1;be<arguments.length;be++){var Te=arguments[be];for(var Pe in Te)Object.prototype.hasOwnProperty.call(Te,Pe)&&(_e[Pe]=Te[Pe])}return _e}).apply(this,arguments)}function SectionHeading_objectWithoutPropertiesLoose(_e,be){if(null==_e)return{};var Te,Pe,pt={},vt=Object.keys(_e);for(Pe=0;Pe<vt.length;Pe++)Te=vt[Pe],be.indexOf(Te)>=0||(pt[Te]=_e[Te]);return pt}var uy=function SectionHeading(_e){var be=_e.slotName,Pe=_e.slotProps,pt=_e.children,vt=_e.id,xt=_e.href,Tt=SectionHeading_objectWithoutPropertiesLoose(_e,["slotName","slotProps","children","id","href"]);return Te.createElement(ly,SectionHeading_extends({toolbar:Te.createElement(Slot,{name:be,props:Pe}),id:vt,href:xt},Tt),pt)};uy.propTypes={children:pt().node,id:pt().string.isRequired,slotName:pt().string.isRequired,slotProps:pt().any.isRequired,depth:pt().number.isRequired,deprecated:pt().bool,pagePerSection:pt().bool};var cy=uy,hy=__webpack_require__(66485),py=__webpack_require__.n(hy),gy=(0,vt.Z)((function styles(_e){var be=_e.space,Te=_e.fontFamily,Pe=_e.fontSize,pt=_e.color;return{pathline:{fontFamily:Te.monospace,fontSize:Pe.small,color:pt.light,wordBreak:"break-all"},copyButton:{marginLeft:be[0]}}}))((function PathlineRenderer(_e){var be=_e.classes,Pe=_e.children;return Te.createElement("div",{className:be.pathline},Pe,Te.createElement(nh,{small:!0,className:be.copyButton,onClick:function onClick(){return Pe&&py()(Pe.toString())},title:"Copy to clipboard"},Te.createElement(MdContentCopy,null)))})),fy=function ReactComponentRenderer(_e){var be=_e.classes,Pe=_e.name,pt=_e.heading,vt=_e.pathLine,xt=_e.description,Tt=_e.docs,It=_e.examples,Mt=_e.tabButtons,Lt=_e.tabBody;return Te.createElement("div",{className:be.root,"data-testid":Pe+"-container"},Te.createElement("header",{className:be.header},pt,vt&&Te.createElement(gy,null,vt)),(xt||Tt)&&Te.createElement("div",{className:be.docs},xt,Tt),Mt&&Te.createElement("div",{className:be.tabs},Te.createElement("div",{className:be.tabButtons},Mt),Te.createElement("div",{className:be.tabBody},Lt)),It)};fy.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,name:pt().string.isRequired,heading:pt().node.isRequired,filepath:pt().string,pathLine:pt().string,tabButtons:pt().node,tabBody:pt().node,description:pt().node,docs:pt().node,examples:pt().node,isolated:pt().bool};var my=(0,vt.Z)((function styles(_e){var be=_e.color,Te=_e.fontSize,Pe=_e.space;return{root:{marginBottom:Pe[6]},header:{marginBottom:Pe[3]},tabs:{marginBottom:Pe[3]},tabButtons:{marginBottom:Pe[1]},tabBody:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},docs:{color:be.base,fontSize:Te.text}}}))(fy),yy=__webpack_require__(3386);function ExamplePlaceholderRenderer_assertThisInitialized(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function ExamplePlaceholderRenderer_defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}var _y=function(_e){var be,Pe;Pe=_e,(be=ExamplePlaceholderRenderer).prototype=Object.create(Pe.prototype),be.prototype.constructor=be,be.__proto__=Pe;var pt;pt=ExamplePlaceholderRenderer;function ExamplePlaceholderRenderer(){for(var be,Te=arguments.length,Pe=new Array(Te),pt=0;pt<Te;pt++)Pe[pt]=arguments[pt];return ExamplePlaceholderRenderer_defineProperty(ExamplePlaceholderRenderer_assertThisInitialized(be=_e.call.apply(_e,[this].concat(Pe))||this),"state",{isVisible:!1}),ExamplePlaceholderRenderer_defineProperty(ExamplePlaceholderRenderer_assertThisInitialized(be),"handleOpen",(function(){be.setState({isVisible:!0})})),be}return ExamplePlaceholderRenderer.prototype.render=function render(){var _e=this.props,be=_e.classes,Pe=_e.name;return this.state.isVisible?Te.createElement(Ns,{text:"\nCreate **Readme.md** or **"+Pe+".md** file in the component’s folder like this:\n\n    "+Pe+" example:\n\n    ```js\n    <"+Pe+' pizza="🍕" />\n\t```\n\nYou may need to **restart** the style guide server after adding an example file.\n\nRead more in the [documenting components guide]('+yy.tI+").\n\t\t\t\t\t"}):Te.createElement("button",{className:be.button,onClick:this.handleOpen},"Add examples to this component")},ExamplePlaceholderRenderer}(Te.Component);ExamplePlaceholderRenderer_defineProperty(_y,"propTypes",{classes:pt().objectOf(pt().string.isRequired).isRequired,name:pt().string});(0,vt.Z)((function styles(_e){var be=_e.fontFamily,Te=_e.fontSize,Pe=_e.color;return{button:{padding:0,fontSize:Te.base,fontFamily:be.base,textDecoration:"underline",color:Pe.light,border:0,cursor:"pointer",background:"transparent","&:hover, &:active":{isolate:!1,color:Pe.lightest}}}}))(_y);function ReactComponent_assertThisInitialized(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function ReactComponent_defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}var ExamplePlaceholder=function(){return Te.createElement("div",null)},vy=function(_e){var be,Pe;Pe=_e,(be=ReactComponent).prototype=Object.create(Pe.prototype),be.prototype.constructor=be,be.__proto__=Pe;var pt;pt=ReactComponent;function ReactComponent(){for(var be,Te=arguments.length,Pe=new Array(Te),pt=0;pt<Te;pt++)Pe[pt]=arguments[pt];return ReactComponent_defineProperty(ReactComponent_assertThisInitialized(be=_e.call.apply(_e,[this].concat(Pe))||this),"state",{activeTab:be.props.usageMode===ty.expand?sp:void 0}),ReactComponent_defineProperty(ReactComponent_assertThisInitialized(be),"handleTabChange",(function(_e){be.setState((function(be){return{activeTab:be.activeTab!==_e?_e:void 0}}))})),be}return ReactComponent.prototype.render=function render(){var _e=this.state.activeTab,be=this.context,Pe=be.displayMode,pt=be.config.pagePerSection,vt=this.props,xt=vt.component,Tt=vt.depth,It=vt.usageMode,Mt=vt.exampleMode,Lt=xt.name,Ft=xt.visibleName,Ot=xt.slug,Vt=void 0===Ot?"-":Ot,qt=xt.filepath,Wt=xt.pathLine,$t=xt.href,Kt=xt.props||{},Jt=Kt.description,Yt=void 0===Jt?"":Jt,Qt=Kt.examples,an=void 0===Qt?[]:Qt,cn=Kt.tags,hn=void 0===cn?{}:cn;if(!Lt)return null;var pn=It!==ty.hide;return Te.createElement(my,{name:Lt,slug:Vt,filepath:qt,pathLine:Wt,docs:Te.createElement(JsDoc,hn),description:Yt&&Te.createElement(Ns,{text:Yt}),heading:Te.createElement(cy,{id:Vt,pagePerSection:pt,deprecated:!!hn.deprecated,slotName:"componentToolbar",slotProps:Object.assign({},xt,{isolated:Pe!==Qm.all}),href:$t,depth:Tt},Ft),examples:an.length>0?Te.createElement(sy,{examples:an,name:Lt,exampleMode:Mt}):Te.createElement(ExamplePlaceholder,{name:Lt}),tabButtons:pn&&Te.createElement(Slot,{name:"docsTabButtons",active:_e,props:Object.assign({},xt,{onClick:this.handleTabChange})}),tabBody:Te.createElement(Slot,{name:"docsTabs",active:_e,onlyActive:!0,props:xt})})},ReactComponent}(Te.Component);function ComponentsRenderer(_e){var be=_e.children;return Te.createElement("div",null,be)}ReactComponent_defineProperty(vy,"propTypes",{component:pt().object.isRequired,depth:pt().number.isRequired,exampleMode:pt().string.isRequired,usageMode:pt().string.isRequired}),ReactComponent_defineProperty(vy,"contextType",up.Z),ComponentsRenderer.propTypes={children:pt().node.isRequired};var Ry=function Components(_e){var be=_e.components,Pe=_e.depth,pt=_e.exampleMode,vt=_e.usageMode;return Te.createElement(ComponentsRenderer,null,be.map((function(_e){return Te.createElement(vy,{key:_e.filepath,component:_e,exampleMode:pt,usageMode:vt,depth:Pe})})))};Ry.propTypes={components:pt().array.isRequired,depth:pt().number.isRequired,exampleMode:pt().string.isRequired,usageMode:pt().string.isRequired};var xy=Ry,by=function SectionRenderer(_e){var be=_e.classes,Pe=_e.name,pt=_e.slug,vt=_e.content,xt=_e.components,Tt=_e.sections,It=_e.depth,Mt=_e.description,Lt=_e.pagePerSection;return Te.createElement("section",{className:be.root,"data-testid":"section-"+pt},Pe&&Te.createElement(cy,{depth:It,id:pt,slotName:"sectionToolbar",pagePerSection:Lt,slotProps:_e},Pe),Mt&&Te.createElement(Ns,{text:Mt}),vt,Tt,xt)};by.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,name:pt().string,description:pt().string,slug:pt().string.isRequired,content:pt().node,components:pt().node,sections:pt().node,isolated:pt().bool,depth:pt().number.isRequired,pagePerSection:pt().bool};var wy=(0,vt.Z)((function styles(_e){return{root:{marginBottom:_e.space[4]}}}))(by),Ey=function Section(_e){var be=_e.section,Pe=_e.depth,pt=(0,up.E)(),vt=pt.displayMode,xt=pt.config.pagePerSection,Tt=be.name,It=be.slug,Mt=be.filepath,Lt=be.content,Ft=be.components,Ot=be.sections,Vt=be.description,qt=be.exampleMode,Wt=be.usageMode,$t=Array.isArray(Lt)?Te.createElement(sy,{examples:Lt,name:Tt,exampleMode:qt}):null,Kt=Ft&&Te.createElement(xy,{usageMode:Wt,exampleMode:qt,components:Ft,depth:Pe+1}),Jt=Ot&&Te.createElement(Dy,{sections:Ot,depth:Pe+1});return Te.createElement(wy,{description:Vt,pagePerSection:xt,name:Tt,slug:It,filepath:Mt,content:$t,components:Kt,sections:Jt,isolated:vt!==Qm.all,depth:Pe})};Ey.propTypes={section:pt().any.isRequired,depth:pt().number.isRequired};var Sy=Ey,Cy=function SectionsRenderer(_e){var be=_e.classes,Pe=_e.children;return Te.createElement("section",{className:be.root},Pe)};Cy.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,children:pt().node};var Ay=(0,vt.Z)((function styles(){return{root:{}}}))(Cy),Ty=function Sections(_e){var be=_e.sections,Pe=_e.depth;return Te.createElement(Ay,null,be.filter((function(_e){return!_e.externalLink})).map((function(_e,be){return Te.createElement(Sy,{key:be,section:_e,depth:Pe})})))};Ty.propTypes={sections:pt().array.isRequired,depth:pt().number.isRequired,root:pt().bool};var Dy=Ty,ky=function WelcomeRenderer(_e){var be=_e.classes,Pe=_e.patterns;return Te.createElement("div",{className:be.root},Te.createElement(Ns,{text:"\n# Welcome to React Styleguidist!\n\n**We couldn’t find any components** using these patterns:\n\n"+Pe.map((function(_e){return"- `"+_e+"`"})).join("\n")+"\n\nCreate **styleguide.config.js** file in your project root directory like this:\n\n    module.exports = {\n      components: 'src/components/**/*.js'\n    };\n\nRead more in the [locating components guide]("+yy.aJ+").\n\t\t\t\t"}))};ky.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,patterns:pt().array.isRequired};var Py=(0,vt.Z)((function styles(_e){var be=_e.space;return{root:{maxWidth:_e.maxWidth,margin:[[0,"auto"]],padding:be[4]}}}))(ky),Iy=function ErrorRenderer(_e){var be=_e.classes,Pe=_e.error,pt=_e.info;return Te.createElement("div",{className:be.root},Te.createElement("pre",{className:be.stack},Pe.toString(),pt.componentStack),Te.createElement("div",{className:be.message},Te.createElement("p",null,"This may be due to an error in a component you are overriding, or a bug in React Styleguidist."),Te.createElement("p",null,"If you believe this is a bug, ",Te.createElement("a",{style:{color:"inherit"},href:"https://github.com/styleguidist/react-styleguidist/issues"},"please submit an issue"),".")))};Iy.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired,error:pt().object.isRequired,info:pt().any.isRequired};var My=(0,vt.Z)((function styles(_e){var be=_e.fontFamily,Te=_e.fontSize,Pe=_e.color;return{root:{margin:_e.space[2],lineHeight:1.2,fontSize:Te.small},stack:{color:Pe.error,whiteSpace:"pre-wrap",fontFamily:be.monospace},message:{color:Pe.error,fontFamily:be.base}}}))(Iy),Ly=function NotFoundRenderer(_e){var be=_e.classes;return Te.createElement("div",{className:be.root},Te.createElement(Ns,{text:"\n# Page not found\nThe link you followed may be broken, or the page may have been removed.\n"}))};Ly.propTypes={classes:pt().objectOf(pt().string.isRequired).isRequired};var Fy=(0,vt.Z)((function styles(_e){return{root:{maxWidth:_e.maxWidth,margin:[[0,"auto"]]}}}))(Ly);function StyleGuide_assertThisInitialized(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function StyleGuide_defineProperty(_e,be,Te){return be in _e?Object.defineProperty(_e,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):_e[be]=Te,_e}function hasSidebar(_e,be){return _e===Qm.notFound||be&&_e===Qm.all}var By=function(_e){var be,Pe;Pe=_e,(be=StyleGuide).prototype=Object.create(Pe.prototype),be.prototype.constructor=be,be.__proto__=Pe;var pt;pt=StyleGuide;function StyleGuide(){for(var be,Te=arguments.length,Pe=new Array(Te),pt=0;pt<Te;pt++)Pe[pt]=arguments[pt];return StyleGuide_defineProperty(StyleGuide_assertThisInitialized(be=_e.call.apply(_e,[this].concat(Pe))||this),"state",{error:!1,info:null}),be}var vt=StyleGuide.prototype;return vt.componentDidCatch=function componentDidCatch(_e,be){this.setState({error:_e,info:be})},vt.render=function render(){var _e=this.state,be=_e.error,Pe=_e.info,pt=this.props,vt=pt.config,xt=pt.sections,Tt=pt.welcomeScreen,It=pt.patterns,Mt=pt.displayMode,Lt=pt.allSections,Ft=pt.pagePerSection,Ot=pt.codeRevision,Vt=pt.cssRevision,qt=pt.slots;return be&&Pe?Te.createElement(My,{error:be,info:Pe}):Tt&&It?Te.createElement(Py,{patterns:It}):Te.createElement(up.Z.Provider,{value:{codeRevision:Ot,config:vt,slots:qt,displayMode:Mt||Qm.all,cssRevision:Vt}},Te.createElement(gg,{key:Vt,title:vt.title,version:vt.version,homepageUrl:yy.ve,toc:Lt?Te.createElement(eg,{sections:Lt,useRouterLinks:Ft,tocMode:vt.tocMode}):null,hasSidebar:hasSidebar(Mt,vt.showSidebar)},xt.length?Te.createElement(Dy,{sections:xt,depth:1}):Te.createElement(Fy,null)))},StyleGuide}(Te.Component);StyleGuide_defineProperty(By,"propTypes",{codeRevision:pt().number.isRequired,cssRevision:pt().string.isRequired,config:pt().object.isRequired,slots:pt().object.isRequired,sections:pt().array.isRequired,welcomeScreen:pt().bool,patterns:pt().array,displayMode:pt().string,allSections:pt().array.isRequired,pagePerSection:pt().bool}),StyleGuide_defineProperty(By,"defaultProps",{displayMode:Qm.all});var Oy=__webpack_require__(27361),zy=__webpack_require__.n(Oy);function getPageTitle(_e,be,Te){if(Te===Qm.notFound)return"Page not found";if(_e.length){if(Te===Qm.component||Te===Qm.example&&_e[0].components)return zy()(_e[0],"components.0.name",_e[0].name)+" — "+be;if(Te===Qm.section||Te===Qm.example)return _e[0].name+" — "+be}return be}var jy=__webpack_require__(97398),Ny=__webpack_require__.n(jy);function filterComponentExamples(_e,be){return Object.assign({},_e,{props:Object.assign({},_e.props,{examples:_e.props&&_e.props.examples?[_e.props.examples[be]]:[]})})}function filterComponentsByExactName(_e,be){return _e.filter((function(_e){return _e.name===be}))}function filterComponentsInSectionsByExactName(_e,be,Te){var Pe=[];return _e.forEach((function(_e){if(_e.components){var pt=filterComponentsByExactName(_e.components,be);pt.length&&Pe.push({slug:_e.slug,exampleMode:_e.exampleMode,usageMode:_e.usageMode,components:pt})}_e.sections&&Te&&Pe.push.apply(Pe,filterComponentsInSectionsByExactName(_e.sections,be,Te))})),Pe}function filterSectionExamples(_e,be){void 0===be&&(be=-1);var Te=Array.isArray(_e.content)?[_e.content[be]]:[];return Object.assign({},_e,{content:Te})}function findSection(_e,be){var Te=Wm()(_e,{name:be});if(Te)return Te;for(var Pe=0;Pe<_e.length;Pe++){var pt=_e[Pe];if(pt.sections&&0!==pt.sections.length){var vt=findSection(pt.sections,be);if(vt)return vt}}}function hasDigitsOnly(_e){return null!==_e.match(/^\d+$/)}function getInfoFromHash(_e){var be=Np(_e,"#!/");if(be||Np(_e,"#/")){var Te=Up(_e,be?"#!/":"#/"),Pe=Te[Te.length-1];return{isolate:be,hashArray:Te.filter((function(_e){return!hasDigitsOnly(_e)})),targetName:Te[0],targetIndex:hasDigitsOnly(Pe)?parseInt(Pe,10):void 0}}return{}}function getRouteData(_e,be,Te){void 0===Te&&(Te=!1);var Pe=getInfoFromHash(be),pt=Pe.targetName,vt=Pe.hashArray,xt=Pe.targetIndex,Tt=Pe.isolate,It=Tt?Qm.example:Qm.all;if(Te&&!pt&&_e[0]&&_e[0].name&&(pt=_e[0].name,vt=[pt]),pt){var Mt=[];if(Te&&vt)vt.forEach((function(be,Te){if((Mt=filterComponentsInSectionsByExactName(_e,be,!!Tt)).length)_e=Mt;else{var Pe=findSection(_e,be);if(Pe){var pt=!vt||!vt[Te+1];(Pe.sectionDepth||0)>0&&pt&&(Pe=Object.assign({},Pe,{sections:[],components:[]})),_e=[Pe]}else _e=[]}})),_e.length||(It=Qm.notFound),pt=vt[vt.length-1];else if((Mt=filterComponentsInSectionsByExactName(_e,pt,!0)).length)_e=Mt,It=Qm.component;else{var Lt=findSection(_e,pt);_e=Lt?[Lt]:[],It=Qm.section}if(Ny()(xt))if(1===Mt.length){var Ft=Mt[0].components;_e=[Object.assign({},Mt[0],{components:Ft&&"number"==typeof xt?[filterComponentExamples(Ft[0],xt)]:[]})],It=Qm.example}else 1===_e.length&&(_e=[filterSectionExamples(_e[0],xt)],It=Qm.example)}return{sections:_e,displayMode:It}}function processComponents(_e,be){var Te=be.useRouterLinks,Pe=be.useHashId,pt=be.hashPath;return _e.map((function(_e){return _e.props?Object.assign({},_e,{name:_e.props.displayName,visibleName:_e.props.visibleName||_e.props.displayName,props:Object.assign({},_e.props,{examples:[].concat(_e.props.examples||[],_e.props.example||[])}),href:_e.href||getUrl({name:_e.props.displayName,slug:_e.slug,anchor:!Te,hashPath:!!Te&&pt,useSlugAsIdParam:!!Te&&Pe})}):{}}))}function processSections(_e,be){var Te=be.useRouterLinks,Pe=be.useHashId,pt=void 0!==Pe&&Pe,vt=be.hashPath,xt=void 0===vt?[]:vt;return _e.map((function(_e){var be={useRouterLinks:Boolean(Te&&_e.name),useHashId:0===_e.sectionDepth,hashPath:[].concat(xt,[_e.name?_e.name:"-"])},Pe=_e.href||getUrl({name:_e.name,slug:_e.slug,anchor:!Te,hashPath:!!Te&&xt,useSlugAsIdParam:!!Te&&pt});return Object.assign({},_e,{externalLink:!!_e.href,href:Pe,visibleName:_e.name,components:processComponents(_e.components||[],be),sections:processSections(_e.sections||[],be)})}))}function renderStyleguide(_e,be,Pe,pt,vt){return void 0===Pe&&(Pe=window.location),void 0===pt&&(pt=document),void 0===vt&&(vt=window.history),function(){var xt=processSections(_e.sections,{useRouterLinks:_e.config.pagePerSection}),Tt=_e.config,It=Tt.title,Mt=Tt.pagePerSection,Lt=(Tt.theme,Tt.styles,getRouteData(xt,Pe.hash,Mt)),Ft=Lt.sections,Vt=Lt.displayMode;if(pt.title=getPageTitle(Ft,It,Vt),"#/"===Pe.hash){var qt=Pe.pathname+Pe.search;vt.replaceState("",pt.title,qt)}return Te.createElement(By,{codeRevision:be,cssRevision:"0",config:_e.config,slots:(_e.config,{sectionToolbar:lp,componentToolbar:lp,exampleToolbar:lp,exampleTabButtons:[{id:Yh,render:Fh}],exampleTabs:[{id:Yh,render:Ot}],docsTabButtons:[{id:sp,render:Vh}],docsTabs:[{id:sp,render:Hc}]}),welcomeScreen:_e.welcomeScreen,patterns:_e.patterns,sections:Ft,allSections:xt,displayMode:Vt,pagePerSection:Mt})}()}var Vy=function render(){var _e=__webpack_require__(72801);be.render(renderStyleguide(_e,0),document.getElementById(_e.config.mountPointId))};window.addEventListener("hashchange",Vy),window.addEventListener("hashchange",(function scrollToOrigin(){var _e,be=window.location.hash;if(_e=Np(be,"#/")||Np(be,"#!/")?$p(be,"id"):Vp(be,"#"),be)if(_e){var Te=document.getElementById(_e);Te&&Te.scrollIntoView(!0)}else window.scrollTo(0,0)})),Vy()}()})();